
---
format:
  html: {toc: true, theme: lux, highlight-style: solarized, embed-resources: true}

---

#
<div><style>
table {
  border-style: thin;
}
th, td {
  padding: 6px;
}
td {
  text-align: left;
}
th {
  text-align: center;
  background-color: #ddd;
}
tr:nth-child(even) {
  background-color: #f6f6f6;
}
</style><style>
.loader {
  border: 16px solid #f3f3f3; /* Light grey */
  border-top: 16px solid #3498db; /* Blue */
  border-radius: 50%;
  width: 30px;
  height: 30px;
  animation: spin 2s linear infinite;
}

@keyframes spin {
  0% { transform: rotate(0deg); }
  100% { transform: rotate(360deg); }
}
</style><style>
.printedClojure .sourceCode {
  background-color: transparent;
  border-style: none;
}
</style><div></div><link href="https://cdn.datatables.net/1.11.5/css/jquery.dataTables.min.css" rel="stylesheet" type="text/css" /></div>
# visual-tools meeting 17

Kindly & Clay status update

2023-04-01

# background

## Your namespace as a notebook

## Different tools
* Oz
* Notespace (unmaintained)
* Clerk
* Clay
* Calva Notebooks

## Could things be (partially) compatible?

# Kindly
* A convention for the basic needs
* customizable
* sensible defaults

## Kindly support
* Clay: HTML + Scittle
* Clay: [Quarto](https://quarto.org/) + Scittle
* Clerk (through kind-clerk)
* soon: Portal
* soon: Calva Notebooks

## Example use case
* Two developers are collaborating on documenting a library.
* They use Kindly-based namespaces.
* One of the devs uses Clerk for the workflow.
* The other dev prefers to use Clay.
* They explore some values using Portal.
* They render the docs using Clay+Quarto.
* They encourage their users to try the docs using Calva Notebooks + Portal.

# Clay
A very basic tool for datavis & literate programming

# examples

## setup


<div class="originalCode">
```clojure
(ns notes
  (:require [tablecloth.api :as tc]
            [aerial.hanami.templates :as ht]
            [aerial.hanami.common :as hc]
            [scicloj.noj.v1.vis :as noj.vis]
            [scicloj.kindly.v3.kind :as kind]
            [scicloj.clay.v2.util.image :as clay.image]
            [tech.v3.datatype.functional :as fun]
            [clojure.string :as string]
            [scicloj.kind-clerk.api :as kind-clerk]
            [scicloj.clay.v2.api :as clay]))
```
</div>


<div id="widget2">...</div>


<div class="originalCode">
```clojure
(kind-clerk/setup!)
```
</div>



<div class="printedClojure">
```clojure
:ok

```
</div>


## some data


<div class="originalCode">
```clojure
(def data
  (-> "data/iris.csv.gz"
      (tc/dataset
       {:key-fn (fn [colname]
                  (-> colname
                      (string/replace #"\." "-")
                      string/lower-case
                      keyword))})
      (tc/add-column :petal-size
                     #(fun/sqrt
                       (fun/+ (fun/sq (:petal-width %))
                              (fun/sq (:petal-length %)))))))
```
</div>


<div id="widget7">...</div>

## printing datasets


<div class="originalCode">
```clojure
(-> data
    (tc/random 5))
```
</div>


<div id="widget10">...</div>

## table view


<div class="originalCode">
```clojure
(-> data
    kind/table)
```
</div>


<div id="widget13">...</div>

## plotting
Tablecloth, Hanami, Kindly


<div class="originalCode">
```clojure
(-> data
    (tc/rows :as-maps)
    (#(hc/xform ht/point-chart
                :DATA %
                :X "sepal-width"
                :Y "sepal-length"
                :COLOR "species"
                :SIZE "petal-size"))
    (assoc-in [:encoding :size :type]
              "quantitative")
    kind/vega-lite)
```
</div>


<div id="widget16">...</div>

## easier plotting
Tablecloth, Hanami, Kindly, Noj


<div class="originalCode">
```clojure
(-> data
    (noj.vis/hanami-plot ht/point-chart
                         :X "sepal-width"
                         :Y "sepal-length"
                         :COLOR "species"
                         :SIZE "petal-size")
    (assoc-in [:encoding :size :type]
              "quantitative"))
```
</div>


<div id="widget19">...</div>

## MathBox.cljs
inspired by [the official MathBox.cljs tutorial](https://mathbox.mentat.org/)


<div class="originalCode">
```clojure
(kind/hiccup
 '[(let [Data (fn []
                [mathbox.primitives/Interval
                 {:expr (fn [emit x _i t]
                          (emit x (Math/sin (+ x t))))
                  :width 64
                  :channels 2}])
         Curve (fn []
                 [:<>
                  [Data]
                  [mathbox.primitives/Line {:width 5
                                            :color "#3090FF"}]])
         Main (fn []
                [mathbox.core/MathBox
                 {:container {:style {:height "400px" :width "100%"}}
                  :focus 3}
                 [mathbox.primitives/Camera {:position [0 0 3]
                                             :proxy true}]
                 [mathbox.primitives/Cartesian
                  {:range [[-2 2] [-1 1]]
                   :scale [2 1]}
                  [mathbox.primitives/Axis {:axis 1 :width 3 :color "black"}]
                  [mathbox.primitives/Axis {:axis 2 :width 3 :color "black"}]
                  [mathbox.primitives/Grid {:width 2 :divideX 20 :divideY 10}]
                  [Curve]]])
         *state (r/atom {:open? false})]
     (fn []
       [:div
        [:button {:on-click #(swap! *state update :open? not)}
         (if (:open? @*state)
           "close"
           "open")]
        (when (:open? @*state)
          [Main])]))])
```
</div>


<div id="widget22">...</div>

# Reproducible backend computation

## Computing something


<div class="originalCode">
```clojure
(defn slow [value]
  (Thread/sleep 1000)
  (* 1000 value))
```
</div>


<div id="widget25">...</div>


<div class="originalCode">
```clojure
(kind/hiccup
 '[(fn []
     (let [*state (r/atom
                   {:value 50})]
       (fn []
         (let [value (:value @*state)]
           [:div
            [:input {:type "range"
                     :value (:value @*state)
                     :min 0
                     :max 100
                     :style {:width "100%"}
                     :on-change (fn [e]
                                  (let [new-value (js/parseInt (.. e -target -value))]
                                    (swap! *state assoc :value new-value)))}]
            [:p value]
            [clay/compute `(slow ~value)]]))))])
```
</div>


<div id="widget27">...</div>

## Populating the cache


<div class="originalCode">
```clojure
(defn slow1 [value]
  (Thread/sleep 1000)
  (* 1000 value))
```
</div>


<div id="widget30">...</div>


<div class="originalCode">
```clojure
(kind/hiccup
 (list 'clay/reset-cache!
       (->> (range 100)
            (map (fn [value]
                   [`'(slow1 ~value)
                    (* 1000 value)]))
            (into {}))))
```
</div>


<div id="widget32">...</div>


<div class="originalCode">
```clojure
(kind/hiccup
 '[(fn []
     (let [*state (r/atom
                   {:value 50})]
       (fn []
         (let [value (:value @*state)]
           [:div
            [:input {:type "range"
                     :value (:value @*state)
                     :min 0
                     :max 100
                     :style {:width "100%"}
                     :on-change (fn [e]
                                  (let [new-value (js/parseInt (.. e -target -value))]
                                    (swap! *state assoc :value new-value)))}]
            [:p value]
            [clay/compute `(slow1 ~value)]]))))])
```
</div>


<div id="widget34">...</div>

# Near-term plans
* Create an easy entry point demo for newcomers
* Be use-case driven
* Look into documenting lobraries
* Work on Kindly adapters: Portal, Calva Notebooks
* Embed Portal viewers in Quarto, etc.


<div class="originalCode">
```clojure
:bye
```
</div>



<div class="printedClojure">
```clojure
:bye

```
</div>
<div><div><script type="text/javascript">/*! jQuery v3.6.0 | (c) OpenJS Foundation and other contributors | jquery.org/license */
!function(e,t){"use strict";"object"==typeof module&&"object"==typeof module.exports?module.exports=e.document?t(e,!0):function(e){if(!e.document)throw new Error("jQuery requires a window with a document");return t(e)}:t(e)}("undefined"!=typeof window?window:this,function(C,e){"use strict";var t=[],r=Object.getPrototypeOf,s=t.slice,g=t.flat?function(e){return t.flat.call(e)}:function(e){return t.concat.apply([],e)},u=t.push,i=t.indexOf,n={},o=n.toString,v=n.hasOwnProperty,a=v.toString,l=a.call(Object),y={},m=function(e){return"function"==typeof e&&"number"!=typeof e.nodeType&&"function"!=typeof e.item},x=function(e){return null!=e&&e===e.window},E=C.document,c={type:!0,src:!0,nonce:!0,noModule:!0};function b(e,t,n){var r,i,o=(n=n||E).createElement("script");if(o.text=e,t)for(r in c)(i=t[r]||t.getAttribute&&t.getAttribute(r))&&o.setAttribute(r,i);n.head.appendChild(o).parentNode.removeChild(o)}function w(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?n[o.call(e)]||"object":typeof e}var f="3.6.0",S=function(e,t){return new S.fn.init(e,t)};function p(e){var t=!!e&&"length"in e&&e.length,n=w(e);return!m(e)&&!x(e)&&("array"===n||0===t||"number"==typeof t&&0<t&&t-1 in e)}S.fn=S.prototype={jquery:f,constructor:S,length:0,toArray:function(){return s.call(this)},get:function(e){return null==e?s.call(this):e<0?this[e+this.length]:this[e]},pushStack:function(e){var t=S.merge(this.constructor(),e);return t.prevObject=this,t},each:function(e){return S.each(this,e)},map:function(n){return this.pushStack(S.map(this,function(e,t){return n.call(e,t,e)}))},slice:function(){return this.pushStack(s.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},even:function(){return this.pushStack(S.grep(this,function(e,t){return(t+1)%2}))},odd:function(){return this.pushStack(S.grep(this,function(e,t){return t%2}))},eq:function(e){var t=this.length,n=+e+(e<0?t:0);return this.pushStack(0<=n&&n<t?[this[n]]:[])},end:function(){return this.prevObject||this.constructor()},push:u,sort:t.sort,splice:t.splice},S.extend=S.fn.extend=function(){var e,t,n,r,i,o,a=arguments[0]||{},s=1,u=arguments.length,l=!1;for("boolean"==typeof a&&(l=a,a=arguments[s]||{},s++),"object"==typeof a||m(a)||(a={}),s===u&&(a=this,s--);s<u;s++)if(null!=(e=arguments[s]))for(t in e)r=e[t],"__proto__"!==t&&a!==r&&(l&&r&&(S.isPlainObject(r)||(i=Array.isArray(r)))?(n=a[t],o=i&&!Array.isArray(n)?[]:i||S.isPlainObject(n)?n:{},i=!1,a[t]=S.extend(l,o,r)):void 0!==r&&(a[t]=r));return a},S.extend({expando:"jQuery"+(f+Math.random()).replace(/\D/g,""),isReady:!0,error:function(e){throw new Error(e)},noop:function(){},isPlainObject:function(e){var t,n;return!(!e||"[object Object]"!==o.call(e))&&(!(t=r(e))||"function"==typeof(n=v.call(t,"constructor")&&t.constructor)&&a.call(n)===l)},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},globalEval:function(e,t,n){b(e,{nonce:t&&t.nonce},n)},each:function(e,t){var n,r=0;if(p(e)){for(n=e.length;r<n;r++)if(!1===t.call(e[r],r,e[r]))break}else for(r in e)if(!1===t.call(e[r],r,e[r]))break;return e},makeArray:function(e,t){var n=t||[];return null!=e&&(p(Object(e))?S.merge(n,"string"==typeof e?[e]:e):u.call(n,e)),n},inArray:function(e,t,n){return null==t?-1:i.call(t,e,n)},merge:function(e,t){for(var n=+t.length,r=0,i=e.length;r<n;r++)e[i++]=t[r];return e.length=i,e},grep:function(e,t,n){for(var r=[],i=0,o=e.length,a=!n;i<o;i++)!t(e[i],i)!==a&&r.push(e[i]);return r},map:function(e,t,n){var r,i,o=0,a=[];if(p(e))for(r=e.length;o<r;o++)null!=(i=t(e[o],o,n))&&a.push(i);else for(o in e)null!=(i=t(e[o],o,n))&&a.push(i);return g(a)},guid:1,support:y}),"function"==typeof Symbol&&(S.fn[Symbol.iterator]=t[Symbol.iterator]),S.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(e,t){n["[object "+t+"]"]=t.toLowerCase()});var d=function(n){var e,d,b,o,i,h,f,g,w,u,l,T,C,a,E,v,s,c,y,S="sizzle"+1*new Date,p=n.document,k=0,r=0,m=ue(),x=ue(),A=ue(),N=ue(),j=function(e,t){return e===t&&(l=!0),0},D={}.hasOwnProperty,t=[],q=t.pop,L=t.push,H=t.push,O=t.slice,P=function(e,t){for(var n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1},R="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",M="[\\x20\\t\\r\\n\\f]",I="(?:\\\\[\\da-fA-F]{1,6}"+M+"?|\\\\[^\\r\\n\\f]|[\\w-]|[^\0-\\x7f])+",W="\\["+M+"*("+I+")(?:"+M+"*([*^$|!~]?=)"+M+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+I+"))|)"+M+"*\\]",F=":("+I+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+W+")*)|.*)\\)|)",B=new RegExp(M+"+","g"),$=new RegExp("^"+M+"+|((?:^|[^\\\\])(?:\\\\.)*)"+M+"+$","g"),_=new RegExp("^"+M+"*,"+M+"*"),z=new RegExp("^"+M+"*([>+~]|"+M+")"+M+"*"),U=new RegExp(M+"|>"),X=new RegExp(F),V=new RegExp("^"+I+"$"),G={ID:new RegExp("^#("+I+")"),CLASS:new RegExp("^\\.("+I+")"),TAG:new RegExp("^("+I+"|[*])"),ATTR:new RegExp("^"+W),PSEUDO:new RegExp("^"+F),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+M+"*(even|odd|(([+-]|)(\\d*)n|)"+M+"*(?:([+-]|)"+M+"*(\\d+)|))"+M+"*\\)|)","i"),bool:new RegExp("^(?:"+R+")$","i"),needsContext:new RegExp("^"+M+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+M+"*((?:-\\d)?\\d*)"+M+"*\\)|)(?=[^-]|$)","i")},Y=/HTML$/i,Q=/^(?:input|select|textarea|button)$/i,J=/^h\d$/i,K=/^[^{]+\{\s*\[native \w/,Z=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,ee=/[+~]/,te=new RegExp("\\\\[\\da-fA-F]{1,6}"+M+"?|\\\\([^\\r\\n\\f])","g"),ne=function(e,t){var n="0x"+e.slice(1)-65536;return t||(n<0?String.fromCharCode(n+65536):String.fromCharCode(n>>10|55296,1023&n|56320))},re=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,ie=function(e,t){return t?"\0"===e?"\ufffd":e.slice(0,-1)+"\\"+e.charCodeAt(e.length-1).toString(16)+" ":"\\"+e},oe=function(){T()},ae=be(function(e){return!0===e.disabled&&"fieldset"===e.nodeName.toLowerCase()},{dir:"parentNode",next:"legend"});try{H.apply(t=O.call(p.childNodes),p.childNodes),t[p.childNodes.length].nodeType}catch(e){H={apply:t.length?function(e,t){L.apply(e,O.call(t))}:function(e,t){var n=e.length,r=0;while(e[n++]=t[r++]);e.length=n-1}}}function se(t,e,n,r){var i,o,a,s,u,l,c,f=e&&e.ownerDocument,p=e?e.nodeType:9;if(n=n||[],"string"!=typeof t||!t||1!==p&&9!==p&&11!==p)return n;if(!r&&(T(e),e=e||C,E)){if(11!==p&&(u=Z.exec(t)))if(i=u[1]){if(9===p){if(!(a=e.getElementById(i)))return n;if(a.id===i)return n.push(a),n}else if(f&&(a=f.getElementById(i))&&y(e,a)&&a.id===i)return n.push(a),n}else{if(u[2])return H.apply(n,e.getElementsByTagName(t)),n;if((i=u[3])&&d.getElementsByClassName&&e.getElementsByClassName)return H.apply(n,e.getElementsByClassName(i)),n}if(d.qsa&&!N[t+" "]&&(!v||!v.test(t))&&(1!==p||"object"!==e.nodeName.toLowerCase())){if(c=t,f=e,1===p&&(U.test(t)||z.test(t))){(f=ee.test(t)&&ye(e.parentNode)||e)===e&&d.scope||((s=e.getAttribute("id"))?s=s.replace(re,ie):e.setAttribute("id",s=S)),o=(l=h(t)).length;while(o--)l[o]=(s?"#"+s:":scope")+" "+xe(l[o]);c=l.join(",")}try{return H.apply(n,f.querySelectorAll(c)),n}catch(e){N(t,!0)}finally{s===S&&e.removeAttribute("id")}}}return g(t.replace($,"$1"),e,n,r)}function ue(){var r=[];return function e(t,n){return r.push(t+" ")>b.cacheLength&&delete e[r.shift()],e[t+" "]=n}}function le(e){return e[S]=!0,e}function ce(e){var t=C.createElement("fieldset");try{return!!e(t)}catch(e){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function fe(e,t){var n=e.split("|"),r=n.length;while(r--)b.attrHandle[n[r]]=t}function pe(e,t){var n=t&&e,r=n&&1===e.nodeType&&1===t.nodeType&&e.sourceIndex-t.sourceIndex;if(r)return r;if(n)while(n=n.nextSibling)if(n===t)return-1;return e?1:-1}function de(t){return function(e){return"input"===e.nodeName.toLowerCase()&&e.type===t}}function he(n){return function(e){var t=e.nodeName.toLowerCase();return("input"===t||"button"===t)&&e.type===n}}function ge(t){return function(e){return"form"in e?e.parentNode&&!1===e.disabled?"label"in e?"label"in e.parentNode?e.parentNode.disabled===t:e.disabled===t:e.isDisabled===t||e.isDisabled!==!t&&ae(e)===t:e.disabled===t:"label"in e&&e.disabled===t}}function ve(a){return le(function(o){return o=+o,le(function(e,t){var n,r=a([],e.length,o),i=r.length;while(i--)e[n=r[i]]&&(e[n]=!(t[n]=e[n]))})})}function ye(e){return e&&"undefined"!=typeof e.getElementsByTagName&&e}for(e in d=se.support={},i=se.isXML=function(e){var t=e&&e.namespaceURI,n=e&&(e.ownerDocument||e).documentElement;return!Y.test(t||n&&n.nodeName||"HTML")},T=se.setDocument=function(e){var t,n,r=e?e.ownerDocument||e:p;return r!=C&&9===r.nodeType&&r.documentElement&&(a=(C=r).documentElement,E=!i(C),p!=C&&(n=C.defaultView)&&n.top!==n&&(n.addEventListener?n.addEventListener("unload",oe,!1):n.attachEvent&&n.attachEvent("onunload",oe)),d.scope=ce(function(e){return a.appendChild(e).appendChild(C.createElement("div")),"undefined"!=typeof e.querySelectorAll&&!e.querySelectorAll(":scope fieldset div").length}),d.attributes=ce(function(e){return e.className="i",!e.getAttribute("className")}),d.getElementsByTagName=ce(function(e){return e.appendChild(C.createComment("")),!e.getElementsByTagName("*").length}),d.getElementsByClassName=K.test(C.getElementsByClassName),d.getById=ce(function(e){return a.appendChild(e).id=S,!C.getElementsByName||!C.getElementsByName(S).length}),d.getById?(b.filter.ID=function(e){var t=e.replace(te,ne);return function(e){return e.getAttribute("id")===t}},b.find.ID=function(e,t){if("undefined"!=typeof t.getElementById&&E){var n=t.getElementById(e);return n?[n]:[]}}):(b.filter.ID=function(e){var n=e.replace(te,ne);return function(e){var t="undefined"!=typeof e.getAttributeNode&&e.getAttributeNode("id");return t&&t.value===n}},b.find.ID=function(e,t){if("undefined"!=typeof t.getElementById&&E){var n,r,i,o=t.getElementById(e);if(o){if((n=o.getAttributeNode("id"))&&n.value===e)return[o];i=t.getElementsByName(e),r=0;while(o=i[r++])if((n=o.getAttributeNode("id"))&&n.value===e)return[o]}return[]}}),b.find.TAG=d.getElementsByTagName?function(e,t){return"undefined"!=typeof t.getElementsByTagName?t.getElementsByTagName(e):d.qsa?t.querySelectorAll(e):void 0}:function(e,t){var n,r=[],i=0,o=t.getElementsByTagName(e);if("*"===e){while(n=o[i++])1===n.nodeType&&r.push(n);return r}return o},b.find.CLASS=d.getElementsByClassName&&function(e,t){if("undefined"!=typeof t.getElementsByClassName&&E)return t.getElementsByClassName(e)},s=[],v=[],(d.qsa=K.test(C.querySelectorAll))&&(ce(function(e){var t;a.appendChild(e).innerHTML="<a id='"+S+"'></a><select id='"+S+"-\r\\' msallowcapture=''><option selected=''></option></select>",e.querySelectorAll("[msallowcapture^='']").length&&v.push("[*^$]="+M+"*(?:''|\"\")"),e.querySelectorAll("[selected]").length||v.push("\\["+M+"*(?:value|"+R+")"),e.querySelectorAll("[id~="+S+"-]").length||v.push("~="),(t=C.createElement("input")).setAttribute("name",""),e.appendChild(t),e.querySelectorAll("[name='']").length||v.push("\\["+M+"*name"+M+"*="+M+"*(?:''|\"\")"),e.querySelectorAll(":checked").length||v.push(":checked"),e.querySelectorAll("a#"+S+"+*").length||v.push(".#.+[+~]"),e.querySelectorAll("\\\f"),v.push("[\\r\\n\\f]")}),ce(function(e){e.innerHTML="<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>";var t=C.createElement("input");t.setAttribute("type","hidden"),e.appendChild(t).setAttribute("name","D"),e.querySelectorAll("[name=d]").length&&v.push("name"+M+"*[*^$|!~]?="),2!==e.querySelectorAll(":enabled").length&&v.push(":enabled",":disabled"),a.appendChild(e).disabled=!0,2!==e.querySelectorAll(":disabled").length&&v.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),v.push(",.*:")})),(d.matchesSelector=K.test(c=a.matches||a.webkitMatchesSelector||a.mozMatchesSelector||a.oMatchesSelector||a.msMatchesSelector))&&ce(function(e){d.disconnectedMatch=c.call(e,"*"),c.call(e,"[s!='']:x"),s.push("!=",F)}),v=v.length&&new RegExp(v.join("|")),s=s.length&&new RegExp(s.join("|")),t=K.test(a.compareDocumentPosition),y=t||K.test(a.contains)?function(e,t){var n=9===e.nodeType?e.documentElement:e,r=t&&t.parentNode;return e===r||!(!r||1!==r.nodeType||!(n.contains?n.contains(r):e.compareDocumentPosition&&16&e.compareDocumentPosition(r)))}:function(e,t){if(t)while(t=t.parentNode)if(t===e)return!0;return!1},j=t?function(e,t){if(e===t)return l=!0,0;var n=!e.compareDocumentPosition-!t.compareDocumentPosition;return n||(1&(n=(e.ownerDocument||e)==(t.ownerDocument||t)?e.compareDocumentPosition(t):1)||!d.sortDetached&&t.compareDocumentPosition(e)===n?e==C||e.ownerDocument==p&&y(p,e)?-1:t==C||t.ownerDocument==p&&y(p,t)?1:u?P(u,e)-P(u,t):0:4&n?-1:1)}:function(e,t){if(e===t)return l=!0,0;var n,r=0,i=e.parentNode,o=t.parentNode,a=[e],s=[t];if(!i||!o)return e==C?-1:t==C?1:i?-1:o?1:u?P(u,e)-P(u,t):0;if(i===o)return pe(e,t);n=e;while(n=n.parentNode)a.unshift(n);n=t;while(n=n.parentNode)s.unshift(n);while(a[r]===s[r])r++;return r?pe(a[r],s[r]):a[r]==p?-1:s[r]==p?1:0}),C},se.matches=function(e,t){return se(e,null,null,t)},se.matchesSelector=function(e,t){if(T(e),d.matchesSelector&&E&&!N[t+" "]&&(!s||!s.test(t))&&(!v||!v.test(t)))try{var n=c.call(e,t);if(n||d.disconnectedMatch||e.document&&11!==e.document.nodeType)return n}catch(e){N(t,!0)}return 0<se(t,C,null,[e]).length},se.contains=function(e,t){return(e.ownerDocument||e)!=C&&T(e),y(e,t)},se.attr=function(e,t){(e.ownerDocument||e)!=C&&T(e);var n=b.attrHandle[t.toLowerCase()],r=n&&D.call(b.attrHandle,t.toLowerCase())?n(e,t,!E):void 0;return void 0!==r?r:d.attributes||!E?e.getAttribute(t):(r=e.getAttributeNode(t))&&r.specified?r.value:null},se.escape=function(e){return(e+"").replace(re,ie)},se.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},se.uniqueSort=function(e){var t,n=[],r=0,i=0;if(l=!d.detectDuplicates,u=!d.sortStable&&e.slice(0),e.sort(j),l){while(t=e[i++])t===e[i]&&(r=n.push(i));while(r--)e.splice(n[r],1)}return u=null,e},o=se.getText=function(e){var t,n="",r=0,i=e.nodeType;if(i){if(1===i||9===i||11===i){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=o(e)}else if(3===i||4===i)return e.nodeValue}else while(t=e[r++])n+=o(t);return n},(b=se.selectors={cacheLength:50,createPseudo:le,match:G,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(te,ne),e[3]=(e[3]||e[4]||e[5]||"").replace(te,ne),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||se.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&se.error(e[0]),e},PSEUDO:function(e){var t,n=!e[6]&&e[2];return G.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":n&&X.test(n)&&(t=h(n,!0))&&(t=n.indexOf(")",n.length-t)-n.length)&&(e[0]=e[0].slice(0,t),e[2]=n.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(te,ne).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=m[e+" "];return t||(t=new RegExp("(^|"+M+")"+e+"("+M+"|$)"))&&m(e,function(e){return t.test("string"==typeof e.className&&e.className||"undefined"!=typeof e.getAttribute&&e.getAttribute("class")||"")})},ATTR:function(n,r,i){return function(e){var t=se.attr(e,n);return null==t?"!="===r:!r||(t+="","="===r?t===i:"!="===r?t!==i:"^="===r?i&&0===t.indexOf(i):"*="===r?i&&-1<t.indexOf(i):"$="===r?i&&t.slice(-i.length)===i:"~="===r?-1<(" "+t.replace(B," ")+" ").indexOf(i):"|="===r&&(t===i||t.slice(0,i.length+1)===i+"-"))}},CHILD:function(h,e,t,g,v){var y="nth"!==h.slice(0,3),m="last"!==h.slice(-4),x="of-type"===e;return 1===g&&0===v?function(e){return!!e.parentNode}:function(e,t,n){var r,i,o,a,s,u,l=y!==m?"nextSibling":"previousSibling",c=e.parentNode,f=x&&e.nodeName.toLowerCase(),p=!n&&!x,d=!1;if(c){if(y){while(l){a=e;while(a=a[l])if(x?a.nodeName.toLowerCase()===f:1===a.nodeType)return!1;u=l="only"===h&&!u&&"nextSibling"}return!0}if(u=[m?c.firstChild:c.lastChild],m&&p){d=(s=(r=(i=(o=(a=c)[S]||(a[S]={}))[a.uniqueID]||(o[a.uniqueID]={}))[h]||[])[0]===k&&r[1])&&r[2],a=s&&c.childNodes[s];while(a=++s&&a&&a[l]||(d=s=0)||u.pop())if(1===a.nodeType&&++d&&a===e){i[h]=[k,s,d];break}}else if(p&&(d=s=(r=(i=(o=(a=e)[S]||(a[S]={}))[a.uniqueID]||(o[a.uniqueID]={}))[h]||[])[0]===k&&r[1]),!1===d)while(a=++s&&a&&a[l]||(d=s=0)||u.pop())if((x?a.nodeName.toLowerCase()===f:1===a.nodeType)&&++d&&(p&&((i=(o=a[S]||(a[S]={}))[a.uniqueID]||(o[a.uniqueID]={}))[h]=[k,d]),a===e))break;return(d-=v)===g||d%g==0&&0<=d/g}}},PSEUDO:function(e,o){var t,a=b.pseudos[e]||b.setFilters[e.toLowerCase()]||se.error("unsupported pseudo: "+e);return a[S]?a(o):1<a.length?(t=[e,e,"",o],b.setFilters.hasOwnProperty(e.toLowerCase())?le(function(e,t){var n,r=a(e,o),i=r.length;while(i--)e[n=P(e,r[i])]=!(t[n]=r[i])}):function(e){return a(e,0,t)}):a}},pseudos:{not:le(function(e){var r=[],i=[],s=f(e.replace($,"$1"));return s[S]?le(function(e,t,n,r){var i,o=s(e,null,r,[]),a=e.length;while(a--)(i=o[a])&&(e[a]=!(t[a]=i))}):function(e,t,n){return r[0]=e,s(r,null,n,i),r[0]=null,!i.pop()}}),has:le(function(t){return function(e){return 0<se(t,e).length}}),contains:le(function(t){return t=t.replace(te,ne),function(e){return-1<(e.textContent||o(e)).indexOf(t)}}),lang:le(function(n){return V.test(n||"")||se.error("unsupported lang: "+n),n=n.replace(te,ne).toLowerCase(),function(e){var t;do{if(t=E?e.lang:e.getAttribute("xml:lang")||e.getAttribute("lang"))return(t=t.toLowerCase())===n||0===t.indexOf(n+"-")}while((e=e.parentNode)&&1===e.nodeType);return!1}}),target:function(e){var t=n.location&&n.location.hash;return t&&t.slice(1)===e.id},root:function(e){return e===a},focus:function(e){return e===C.activeElement&&(!C.hasFocus||C.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:ge(!1),disabled:ge(!0),checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,!0===e.selected},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!b.pseudos.empty(e)},header:function(e){return J.test(e.nodeName)},input:function(e){return Q.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||"text"===t.toLowerCase())},first:ve(function(){return[0]}),last:ve(function(e,t){return[t-1]}),eq:ve(function(e,t,n){return[n<0?n+t:n]}),even:ve(function(e,t){for(var n=0;n<t;n+=2)e.push(n);return e}),odd:ve(function(e,t){for(var n=1;n<t;n+=2)e.push(n);return e}),lt:ve(function(e,t,n){for(var r=n<0?n+t:t<n?t:n;0<=--r;)e.push(r);return e}),gt:ve(function(e,t,n){for(var r=n<0?n+t:n;++r<t;)e.push(r);return e})}}).pseudos.nth=b.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})b.pseudos[e]=de(e);for(e in{submit:!0,reset:!0})b.pseudos[e]=he(e);function me(){}function xe(e){for(var t=0,n=e.length,r="";t<n;t++)r+=e[t].value;return r}function be(s,e,t){var u=e.dir,l=e.next,c=l||u,f=t&&"parentNode"===c,p=r++;return e.first?function(e,t,n){while(e=e[u])if(1===e.nodeType||f)return s(e,t,n);return!1}:function(e,t,n){var r,i,o,a=[k,p];if(n){while(e=e[u])if((1===e.nodeType||f)&&s(e,t,n))return!0}else while(e=e[u])if(1===e.nodeType||f)if(i=(o=e[S]||(e[S]={}))[e.uniqueID]||(o[e.uniqueID]={}),l&&l===e.nodeName.toLowerCase())e=e[u]||e;else{if((r=i[c])&&r[0]===k&&r[1]===p)return a[2]=r[2];if((i[c]=a)[2]=s(e,t,n))return!0}return!1}}function we(i){return 1<i.length?function(e,t,n){var r=i.length;while(r--)if(!i[r](e,t,n))return!1;return!0}:i[0]}function Te(e,t,n,r,i){for(var o,a=[],s=0,u=e.length,l=null!=t;s<u;s++)(o=e[s])&&(n&&!n(o,r,i)||(a.push(o),l&&t.push(s)));return a}function Ce(d,h,g,v,y,e){return v&&!v[S]&&(v=Ce(v)),y&&!y[S]&&(y=Ce(y,e)),le(function(e,t,n,r){var i,o,a,s=[],u=[],l=t.length,c=e||function(e,t,n){for(var r=0,i=t.length;r<i;r++)se(e,t[r],n);return n}(h||"*",n.nodeType?[n]:n,[]),f=!d||!e&&h?c:Te(c,s,d,n,r),p=g?y||(e?d:l||v)?[]:t:f;if(g&&g(f,p,n,r),v){i=Te(p,u),v(i,[],n,r),o=i.length;while(o--)(a=i[o])&&(p[u[o]]=!(f[u[o]]=a))}if(e){if(y||d){if(y){i=[],o=p.length;while(o--)(a=p[o])&&i.push(f[o]=a);y(null,p=[],i,r)}o=p.length;while(o--)(a=p[o])&&-1<(i=y?P(e,a):s[o])&&(e[i]=!(t[i]=a))}}else p=Te(p===t?p.splice(l,p.length):p),y?y(null,t,p,r):H.apply(t,p)})}function Ee(e){for(var i,t,n,r=e.length,o=b.relative[e[0].type],a=o||b.relative[" "],s=o?1:0,u=be(function(e){return e===i},a,!0),l=be(function(e){return-1<P(i,e)},a,!0),c=[function(e,t,n){var r=!o&&(n||t!==w)||((i=t).nodeType?u(e,t,n):l(e,t,n));return i=null,r}];s<r;s++)if(t=b.relative[e[s].type])c=[be(we(c),t)];else{if((t=b.filter[e[s].type].apply(null,e[s].matches))[S]){for(n=++s;n<r;n++)if(b.relative[e[n].type])break;return Ce(1<s&&we(c),1<s&&xe(e.slice(0,s-1).concat({value:" "===e[s-2].type?"*":""})).replace($,"$1"),t,s<n&&Ee(e.slice(s,n)),n<r&&Ee(e=e.slice(n)),n<r&&xe(e))}c.push(t)}return we(c)}return me.prototype=b.filters=b.pseudos,b.setFilters=new me,h=se.tokenize=function(e,t){var n,r,i,o,a,s,u,l=x[e+" "];if(l)return t?0:l.slice(0);a=e,s=[],u=b.preFilter;while(a){for(o in n&&!(r=_.exec(a))||(r&&(a=a.slice(r[0].length)||a),s.push(i=[])),n=!1,(r=z.exec(a))&&(n=r.shift(),i.push({value:n,type:r[0].replace($," ")}),a=a.slice(n.length)),b.filter)!(r=G[o].exec(a))||u[o]&&!(r=u[o](r))||(n=r.shift(),i.push({value:n,type:o,matches:r}),a=a.slice(n.length));if(!n)break}return t?a.length:a?se.error(e):x(e,s).slice(0)},f=se.compile=function(e,t){var n,v,y,m,x,r,i=[],o=[],a=A[e+" "];if(!a){t||(t=h(e)),n=t.length;while(n--)(a=Ee(t[n]))[S]?i.push(a):o.push(a);(a=A(e,(v=o,m=0<(y=i).length,x=0<v.length,r=function(e,t,n,r,i){var o,a,s,u=0,l="0",c=e&&[],f=[],p=w,d=e||x&&b.find.TAG("*",i),h=k+=null==p?1:Math.random()||.1,g=d.length;for(i&&(w=t==C||t||i);l!==g&&null!=(o=d[l]);l++){if(x&&o){a=0,t||o.ownerDocument==C||(T(o),n=!E);while(s=v[a++])if(s(o,t||C,n)){r.push(o);break}i&&(k=h)}m&&((o=!s&&o)&&u--,e&&c.push(o))}if(u+=l,m&&l!==u){a=0;while(s=y[a++])s(c,f,t,n);if(e){if(0<u)while(l--)c[l]||f[l]||(f[l]=q.call(r));f=Te(f)}H.apply(r,f),i&&!e&&0<f.length&&1<u+y.length&&se.uniqueSort(r)}return i&&(k=h,w=p),c},m?le(r):r))).selector=e}return a},g=se.select=function(e,t,n,r){var i,o,a,s,u,l="function"==typeof e&&e,c=!r&&h(e=l.selector||e);if(n=n||[],1===c.length){if(2<(o=c[0]=c[0].slice(0)).length&&"ID"===(a=o[0]).type&&9===t.nodeType&&E&&b.relative[o[1].type]){if(!(t=(b.find.ID(a.matches[0].replace(te,ne),t)||[])[0]))return n;l&&(t=t.parentNode),e=e.slice(o.shift().value.length)}i=G.needsContext.test(e)?0:o.length;while(i--){if(a=o[i],b.relative[s=a.type])break;if((u=b.find[s])&&(r=u(a.matches[0].replace(te,ne),ee.test(o[0].type)&&ye(t.parentNode)||t))){if(o.splice(i,1),!(e=r.length&&xe(o)))return H.apply(n,r),n;break}}}return(l||f(e,c))(r,t,!E,n,!t||ee.test(e)&&ye(t.parentNode)||t),n},d.sortStable=S.split("").sort(j).join("")===S,d.detectDuplicates=!!l,T(),d.sortDetached=ce(function(e){return 1&e.compareDocumentPosition(C.createElement("fieldset"))}),ce(function(e){return e.innerHTML="<a href='#'></a>","#"===e.firstChild.getAttribute("href")})||fe("type|href|height|width",function(e,t,n){if(!n)return e.getAttribute(t,"type"===t.toLowerCase()?1:2)}),d.attributes&&ce(function(e){return e.innerHTML="<input/>",e.firstChild.setAttribute("value",""),""===e.firstChild.getAttribute("value")})||fe("value",function(e,t,n){if(!n&&"input"===e.nodeName.toLowerCase())return e.defaultValue}),ce(function(e){return null==e.getAttribute("disabled")})||fe(R,function(e,t,n){var r;if(!n)return!0===e[t]?t.toLowerCase():(r=e.getAttributeNode(t))&&r.specified?r.value:null}),se}(C);S.find=d,S.expr=d.selectors,S.expr[":"]=S.expr.pseudos,S.uniqueSort=S.unique=d.uniqueSort,S.text=d.getText,S.isXMLDoc=d.isXML,S.contains=d.contains,S.escapeSelector=d.escape;var h=function(e,t,n){var r=[],i=void 0!==n;while((e=e[t])&&9!==e.nodeType)if(1===e.nodeType){if(i&&S(e).is(n))break;r.push(e)}return r},T=function(e,t){for(var n=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&n.push(e);return n},k=S.expr.match.needsContext;function A(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()}var N=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;function j(e,n,r){return m(n)?S.grep(e,function(e,t){return!!n.call(e,t,e)!==r}):n.nodeType?S.grep(e,function(e){return e===n!==r}):"string"!=typeof n?S.grep(e,function(e){return-1<i.call(n,e)!==r}):S.filter(n,e,r)}S.filter=function(e,t,n){var r=t[0];return n&&(e=":not("+e+")"),1===t.length&&1===r.nodeType?S.find.matchesSelector(r,e)?[r]:[]:S.find.matches(e,S.grep(t,function(e){return 1===e.nodeType}))},S.fn.extend({find:function(e){var t,n,r=this.length,i=this;if("string"!=typeof e)return this.pushStack(S(e).filter(function(){for(t=0;t<r;t++)if(S.contains(i[t],this))return!0}));for(n=this.pushStack([]),t=0;t<r;t++)S.find(e,i[t],n);return 1<r?S.uniqueSort(n):n},filter:function(e){return this.pushStack(j(this,e||[],!1))},not:function(e){return this.pushStack(j(this,e||[],!0))},is:function(e){return!!j(this,"string"==typeof e&&k.test(e)?S(e):e||[],!1).length}});var D,q=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/;(S.fn.init=function(e,t,n){var r,i;if(!e)return this;if(n=n||D,"string"==typeof e){if(!(r="<"===e[0]&&">"===e[e.length-1]&&3<=e.length?[null,e,null]:q.exec(e))||!r[1]&&t)return!t||t.jquery?(t||n).find(e):this.constructor(t).find(e);if(r[1]){if(t=t instanceof S?t[0]:t,S.merge(this,S.parseHTML(r[1],t&&t.nodeType?t.ownerDocument||t:E,!0)),N.test(r[1])&&S.isPlainObject(t))for(r in t)m(this[r])?this[r](t[r]):this.attr(r,t[r]);return this}return(i=E.getElementById(r[2]))&&(this[0]=i,this.length=1),this}return e.nodeType?(this[0]=e,this.length=1,this):m(e)?void 0!==n.ready?n.ready(e):e(S):S.makeArray(e,this)}).prototype=S.fn,D=S(E);var L=/^(?:parents|prev(?:Until|All))/,H={children:!0,contents:!0,next:!0,prev:!0};function O(e,t){while((e=e[t])&&1!==e.nodeType);return e}S.fn.extend({has:function(e){var t=S(e,this),n=t.length;return this.filter(function(){for(var e=0;e<n;e++)if(S.contains(this,t[e]))return!0})},closest:function(e,t){var n,r=0,i=this.length,o=[],a="string"!=typeof e&&S(e);if(!k.test(e))for(;r<i;r++)for(n=this[r];n&&n!==t;n=n.parentNode)if(n.nodeType<11&&(a?-1<a.index(n):1===n.nodeType&&S.find.matchesSelector(n,e))){o.push(n);break}return this.pushStack(1<o.length?S.uniqueSort(o):o)},index:function(e){return e?"string"==typeof e?i.call(S(e),this[0]):i.call(this,e.jquery?e[0]:e):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){return this.pushStack(S.uniqueSort(S.merge(this.get(),S(e,t))))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),S.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return h(e,"parentNode")},parentsUntil:function(e,t,n){return h(e,"parentNode",n)},next:function(e){return O(e,"nextSibling")},prev:function(e){return O(e,"previousSibling")},nextAll:function(e){return h(e,"nextSibling")},prevAll:function(e){return h(e,"previousSibling")},nextUntil:function(e,t,n){return h(e,"nextSibling",n)},prevUntil:function(e,t,n){return h(e,"previousSibling",n)},siblings:function(e){return T((e.parentNode||{}).firstChild,e)},children:function(e){return T(e.firstChild)},contents:function(e){return null!=e.contentDocument&&r(e.contentDocument)?e.contentDocument:(A(e,"template")&&(e=e.content||e),S.merge([],e.childNodes))}},function(r,i){S.fn[r]=function(e,t){var n=S.map(this,i,e);return"Until"!==r.slice(-5)&&(t=e),t&&"string"==typeof t&&(n=S.filter(t,n)),1<this.length&&(H[r]||S.uniqueSort(n),L.test(r)&&n.reverse()),this.pushStack(n)}});var P=/[^\x20\t\r\n\f]+/g;function R(e){return e}function M(e){throw e}function I(e,t,n,r){var i;try{e&&m(i=e.promise)?i.call(e).done(t).fail(n):e&&m(i=e.then)?i.call(e,t,n):t.apply(void 0,[e].slice(r))}catch(e){n.apply(void 0,[e])}}S.Callbacks=function(r){var e,n;r="string"==typeof r?(e=r,n={},S.each(e.match(P)||[],function(e,t){n[t]=!0}),n):S.extend({},r);var i,t,o,a,s=[],u=[],l=-1,c=function(){for(a=a||r.once,o=i=!0;u.length;l=-1){t=u.shift();while(++l<s.length)!1===s[l].apply(t[0],t[1])&&r.stopOnFalse&&(l=s.length,t=!1)}r.memory||(t=!1),i=!1,a&&(s=t?[]:"")},f={add:function(){return s&&(t&&!i&&(l=s.length-1,u.push(t)),function n(e){S.each(e,function(e,t){m(t)?r.unique&&f.has(t)||s.push(t):t&&t.length&&"string"!==w(t)&&n(t)})}(arguments),t&&!i&&c()),this},remove:function(){return S.each(arguments,function(e,t){var n;while(-1<(n=S.inArray(t,s,n)))s.splice(n,1),n<=l&&l--}),this},has:function(e){return e?-1<S.inArray(e,s):0<s.length},empty:function(){return s&&(s=[]),this},disable:function(){return a=u=[],s=t="",this},disabled:function(){return!s},lock:function(){return a=u=[],t||i||(s=t=""),this},locked:function(){return!!a},fireWith:function(e,t){return a||(t=[e,(t=t||[]).slice?t.slice():t],u.push(t),i||c()),this},fire:function(){return f.fireWith(this,arguments),this},fired:function(){return!!o}};return f},S.extend({Deferred:function(e){var o=[["notify","progress",S.Callbacks("memory"),S.Callbacks("memory"),2],["resolve","done",S.Callbacks("once memory"),S.Callbacks("once memory"),0,"resolved"],["reject","fail",S.Callbacks("once memory"),S.Callbacks("once memory"),1,"rejected"]],i="pending",a={state:function(){return i},always:function(){return s.done(arguments).fail(arguments),this},"catch":function(e){return a.then(null,e)},pipe:function(){var i=arguments;return S.Deferred(function(r){S.each(o,function(e,t){var n=m(i[t[4]])&&i[t[4]];s[t[1]](function(){var e=n&&n.apply(this,arguments);e&&m(e.promise)?e.promise().progress(r.notify).done(r.resolve).fail(r.reject):r[t[0]+"With"](this,n?[e]:arguments)})}),i=null}).promise()},then:function(t,n,r){var u=0;function l(i,o,a,s){return function(){var n=this,r=arguments,e=function(){var e,t;if(!(i<u)){if((e=a.apply(n,r))===o.promise())throw new TypeError("Thenable self-resolution");t=e&&("object"==typeof e||"function"==typeof e)&&e.then,m(t)?s?t.call(e,l(u,o,R,s),l(u,o,M,s)):(u++,t.call(e,l(u,o,R,s),l(u,o,M,s),l(u,o,R,o.notifyWith))):(a!==R&&(n=void 0,r=[e]),(s||o.resolveWith)(n,r))}},t=s?e:function(){try{e()}catch(e){S.Deferred.exceptionHook&&S.Deferred.exceptionHook(e,t.stackTrace),u<=i+1&&(a!==M&&(n=void 0,r=[e]),o.rejectWith(n,r))}};i?t():(S.Deferred.getStackHook&&(t.stackTrace=S.Deferred.getStackHook()),C.setTimeout(t))}}return S.Deferred(function(e){o[0][3].add(l(0,e,m(r)?r:R,e.notifyWith)),o[1][3].add(l(0,e,m(t)?t:R)),o[2][3].add(l(0,e,m(n)?n:M))}).promise()},promise:function(e){return null!=e?S.extend(e,a):a}},s={};return S.each(o,function(e,t){var n=t[2],r=t[5];a[t[1]]=n.add,r&&n.add(function(){i=r},o[3-e][2].disable,o[3-e][3].disable,o[0][2].lock,o[0][3].lock),n.add(t[3].fire),s[t[0]]=function(){return s[t[0]+"With"](this===s?void 0:this,arguments),this},s[t[0]+"With"]=n.fireWith}),a.promise(s),e&&e.call(s,s),s},when:function(e){var n=arguments.length,t=n,r=Array(t),i=s.call(arguments),o=S.Deferred(),a=function(t){return function(e){r[t]=this,i[t]=1<arguments.length?s.call(arguments):e,--n||o.resolveWith(r,i)}};if(n<=1&&(I(e,o.done(a(t)).resolve,o.reject,!n),"pending"===o.state()||m(i[t]&&i[t].then)))return o.then();while(t--)I(i[t],a(t),o.reject);return o.promise()}});var W=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;S.Deferred.exceptionHook=function(e,t){C.console&&C.console.warn&&e&&W.test(e.name)&&C.console.warn("jQuery.Deferred exception: "+e.message,e.stack,t)},S.readyException=function(e){C.setTimeout(function(){throw e})};var F=S.Deferred();function B(){E.removeEventListener("DOMContentLoaded",B),C.removeEventListener("load",B),S.ready()}S.fn.ready=function(e){return F.then(e)["catch"](function(e){S.readyException(e)}),this},S.extend({isReady:!1,readyWait:1,ready:function(e){(!0===e?--S.readyWait:S.isReady)||(S.isReady=!0)!==e&&0<--S.readyWait||F.resolveWith(E,[S])}}),S.ready.then=F.then,"complete"===E.readyState||"loading"!==E.readyState&&!E.documentElement.doScroll?C.setTimeout(S.ready):(E.addEventListener("DOMContentLoaded",B),C.addEventListener("load",B));var $=function(e,t,n,r,i,o,a){var s=0,u=e.length,l=null==n;if("object"===w(n))for(s in i=!0,n)$(e,t,s,n[s],!0,o,a);else if(void 0!==r&&(i=!0,m(r)||(a=!0),l&&(a?(t.call(e,r),t=null):(l=t,t=function(e,t,n){return l.call(S(e),n)})),t))for(;s<u;s++)t(e[s],n,a?r:r.call(e[s],s,t(e[s],n)));return i?e:l?t.call(e):u?t(e[0],n):o},_=/^-ms-/,z=/-([a-z])/g;function U(e,t){return t.toUpperCase()}function X(e){return e.replace(_,"ms-").replace(z,U)}var V=function(e){return 1===e.nodeType||9===e.nodeType||!+e.nodeType};function G(){this.expando=S.expando+G.uid++}G.uid=1,G.prototype={cache:function(e){var t=e[this.expando];return t||(t={},V(e)&&(e.nodeType?e[this.expando]=t:Object.defineProperty(e,this.expando,{value:t,configurable:!0}))),t},set:function(e,t,n){var r,i=this.cache(e);if("string"==typeof t)i[X(t)]=n;else for(r in t)i[X(r)]=t[r];return i},get:function(e,t){return void 0===t?this.cache(e):e[this.expando]&&e[this.expando][X(t)]},access:function(e,t,n){return void 0===t||t&&"string"==typeof t&&void 0===n?this.get(e,t):(this.set(e,t,n),void 0!==n?n:t)},remove:function(e,t){var n,r=e[this.expando];if(void 0!==r){if(void 0!==t){n=(t=Array.isArray(t)?t.map(X):(t=X(t))in r?[t]:t.match(P)||[]).length;while(n--)delete r[t[n]]}(void 0===t||S.isEmptyObject(r))&&(e.nodeType?e[this.expando]=void 0:delete e[this.expando])}},hasData:function(e){var t=e[this.expando];return void 0!==t&&!S.isEmptyObject(t)}};var Y=new G,Q=new G,J=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,K=/[A-Z]/g;function Z(e,t,n){var r,i;if(void 0===n&&1===e.nodeType)if(r="data-"+t.replace(K,"-$&").toLowerCase(),"string"==typeof(n=e.getAttribute(r))){try{n="true"===(i=n)||"false"!==i&&("null"===i?null:i===+i+""?+i:J.test(i)?JSON.parse(i):i)}catch(e){}Q.set(e,t,n)}else n=void 0;return n}S.extend({hasData:function(e){return Q.hasData(e)||Y.hasData(e)},data:function(e,t,n){return Q.access(e,t,n)},removeData:function(e,t){Q.remove(e,t)},_data:function(e,t,n){return Y.access(e,t,n)},_removeData:function(e,t){Y.remove(e,t)}}),S.fn.extend({data:function(n,e){var t,r,i,o=this[0],a=o&&o.attributes;if(void 0===n){if(this.length&&(i=Q.get(o),1===o.nodeType&&!Y.get(o,"hasDataAttrs"))){t=a.length;while(t--)a[t]&&0===(r=a[t].name).indexOf("data-")&&(r=X(r.slice(5)),Z(o,r,i[r]));Y.set(o,"hasDataAttrs",!0)}return i}return"object"==typeof n?this.each(function(){Q.set(this,n)}):$(this,function(e){var t;if(o&&void 0===e)return void 0!==(t=Q.get(o,n))?t:void 0!==(t=Z(o,n))?t:void 0;this.each(function(){Q.set(this,n,e)})},null,e,1<arguments.length,null,!0)},removeData:function(e){return this.each(function(){Q.remove(this,e)})}}),S.extend({queue:function(e,t,n){var r;if(e)return t=(t||"fx")+"queue",r=Y.get(e,t),n&&(!r||Array.isArray(n)?r=Y.access(e,t,S.makeArray(n)):r.push(n)),r||[]},dequeue:function(e,t){t=t||"fx";var n=S.queue(e,t),r=n.length,i=n.shift(),o=S._queueHooks(e,t);"inprogress"===i&&(i=n.shift(),r--),i&&("fx"===t&&n.unshift("inprogress"),delete o.stop,i.call(e,function(){S.dequeue(e,t)},o)),!r&&o&&o.empty.fire()},_queueHooks:function(e,t){var n=t+"queueHooks";return Y.get(e,n)||Y.access(e,n,{empty:S.Callbacks("once memory").add(function(){Y.remove(e,[t+"queue",n])})})}}),S.fn.extend({queue:function(t,n){var e=2;return"string"!=typeof t&&(n=t,t="fx",e--),arguments.length<e?S.queue(this[0],t):void 0===n?this:this.each(function(){var e=S.queue(this,t,n);S._queueHooks(this,t),"fx"===t&&"inprogress"!==e[0]&&S.dequeue(this,t)})},dequeue:function(e){return this.each(function(){S.dequeue(this,e)})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){var n,r=1,i=S.Deferred(),o=this,a=this.length,s=function(){--r||i.resolveWith(o,[o])};"string"!=typeof e&&(t=e,e=void 0),e=e||"fx";while(a--)(n=Y.get(o[a],e+"queueHooks"))&&n.empty&&(r++,n.empty.add(s));return s(),i.promise(t)}});var ee=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,te=new RegExp("^(?:([+-])=|)("+ee+")([a-z%]*)$","i"),ne=["Top","Right","Bottom","Left"],re=E.documentElement,ie=function(e){return S.contains(e.ownerDocument,e)},oe={composed:!0};re.getRootNode&&(ie=function(e){return S.contains(e.ownerDocument,e)||e.getRootNode(oe)===e.ownerDocument});var ae=function(e,t){return"none"===(e=t||e).style.display||""===e.style.display&&ie(e)&&"none"===S.css(e,"display")};function se(e,t,n,r){var i,o,a=20,s=r?function(){return r.cur()}:function(){return S.css(e,t,"")},u=s(),l=n&&n[3]||(S.cssNumber[t]?"":"px"),c=e.nodeType&&(S.cssNumber[t]||"px"!==l&&+u)&&te.exec(S.css(e,t));if(c&&c[3]!==l){u/=2,l=l||c[3],c=+u||1;while(a--)S.style(e,t,c+l),(1-o)*(1-(o=s()/u||.5))<=0&&(a=0),c/=o;c*=2,S.style(e,t,c+l),n=n||[]}return n&&(c=+c||+u||0,i=n[1]?c+(n[1]+1)*n[2]:+n[2],r&&(r.unit=l,r.start=c,r.end=i)),i}var ue={};function le(e,t){for(var n,r,i,o,a,s,u,l=[],c=0,f=e.length;c<f;c++)(r=e[c]).style&&(n=r.style.display,t?("none"===n&&(l[c]=Y.get(r,"display")||null,l[c]||(r.style.display="")),""===r.style.display&&ae(r)&&(l[c]=(u=a=o=void 0,a=(i=r).ownerDocument,s=i.nodeName,(u=ue[s])||(o=a.body.appendChild(a.createElement(s)),u=S.css(o,"display"),o.parentNode.removeChild(o),"none"===u&&(u="block"),ue[s]=u)))):"none"!==n&&(l[c]="none",Y.set(r,"display",n)));for(c=0;c<f;c++)null!=l[c]&&(e[c].style.display=l[c]);return e}S.fn.extend({show:function(){return le(this,!0)},hide:function(){return le(this)},toggle:function(e){return"boolean"==typeof e?e?this.show():this.hide():this.each(function(){ae(this)?S(this).show():S(this).hide()})}});var ce,fe,pe=/^(?:checkbox|radio)$/i,de=/<([a-z][^\/\0>\x20\t\r\n\f]*)/i,he=/^$|^module$|\/(?:java|ecma)script/i;ce=E.createDocumentFragment().appendChild(E.createElement("div")),(fe=E.createElement("input")).setAttribute("type","radio"),fe.setAttribute("checked","checked"),fe.setAttribute("name","t"),ce.appendChild(fe),y.checkClone=ce.cloneNode(!0).cloneNode(!0).lastChild.checked,ce.innerHTML="<textarea>x</textarea>",y.noCloneChecked=!!ce.cloneNode(!0).lastChild.defaultValue,ce.innerHTML="<option></option>",y.option=!!ce.lastChild;var ge={thead:[1,"<table class='table table-hover'>","</table>"],col:[2,"<table class='table table-hover'><colgroup>","</colgroup></table>"],tr:[2,"<table class='table table-hover'><tbody>","</tbody></table>"],td:[3,"<table class='table table-hover'><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};function ve(e,t){var n;return n="undefined"!=typeof e.getElementsByTagName?e.getElementsByTagName(t||"*"):"undefined"!=typeof e.querySelectorAll?e.querySelectorAll(t||"*"):[],void 0===t||t&&A(e,t)?S.merge([e],n):n}function ye(e,t){for(var n=0,r=e.length;n<r;n++)Y.set(e[n],"globalEval",!t||Y.get(t[n],"globalEval"))}ge.tbody=ge.tfoot=ge.colgroup=ge.caption=ge.thead,ge.th=ge.td,y.option||(ge.optgroup=ge.option=[1,"<select multiple='multiple'>","</select>"]);var me=/<|&#?\w+;/;function xe(e,t,n,r,i){for(var o,a,s,u,l,c,f=t.createDocumentFragment(),p=[],d=0,h=e.length;d<h;d++)if((o=e[d])||0===o)if("object"===w(o))S.merge(p,o.nodeType?[o]:o);else if(me.test(o)){a=a||f.appendChild(t.createElement("div")),s=(de.exec(o)||["",""])[1].toLowerCase(),u=ge[s]||ge._default,a.innerHTML=u[1]+S.htmlPrefilter(o)+u[2],c=u[0];while(c--)a=a.lastChild;S.merge(p,a.childNodes),(a=f.firstChild).textContent=""}else p.push(t.createTextNode(o));f.textContent="",d=0;while(o=p[d++])if(r&&-1<S.inArray(o,r))i&&i.push(o);else if(l=ie(o),a=ve(f.appendChild(o),"script"),l&&ye(a),n){c=0;while(o=a[c++])he.test(o.type||"")&&n.push(o)}return f}var be=/^([^.]*)(?:\.(.+)|)/;function we(){return!0}function Te(){return!1}function Ce(e,t){return e===function(){try{return E.activeElement}catch(e){}}()==("focus"===t)}function Ee(e,t,n,r,i,o){var a,s;if("object"==typeof t){for(s in"string"!=typeof n&&(r=r||n,n=void 0),t)Ee(e,s,n,r,t[s],o);return e}if(null==r&&null==i?(i=n,r=n=void 0):null==i&&("string"==typeof n?(i=r,r=void 0):(i=r,r=n,n=void 0)),!1===i)i=Te;else if(!i)return e;return 1===o&&(a=i,(i=function(e){return S().off(e),a.apply(this,arguments)}).guid=a.guid||(a.guid=S.guid++)),e.each(function(){S.event.add(this,t,i,r,n)})}function Se(e,i,o){o?(Y.set(e,i,!1),S.event.add(e,i,{namespace:!1,handler:function(e){var t,n,r=Y.get(this,i);if(1&e.isTrigger&&this[i]){if(r.length)(S.event.special[i]||{}).delegateType&&e.stopPropagation();else if(r=s.call(arguments),Y.set(this,i,r),t=o(this,i),this[i](),r!==(n=Y.get(this,i))||t?Y.set(this,i,!1):n={},r!==n)return e.stopImmediatePropagation(),e.preventDefault(),n&&n.value}else r.length&&(Y.set(this,i,{value:S.event.trigger(S.extend(r[0],S.Event.prototype),r.slice(1),this)}),e.stopImmediatePropagation())}})):void 0===Y.get(e,i)&&S.event.add(e,i,we)}S.event={global:{},add:function(t,e,n,r,i){var o,a,s,u,l,c,f,p,d,h,g,v=Y.get(t);if(V(t)){n.handler&&(n=(o=n).handler,i=o.selector),i&&S.find.matchesSelector(re,i),n.guid||(n.guid=S.guid++),(u=v.events)||(u=v.events=Object.create(null)),(a=v.handle)||(a=v.handle=function(e){return"undefined"!=typeof S&&S.event.triggered!==e.type?S.event.dispatch.apply(t,arguments):void 0}),l=(e=(e||"").match(P)||[""]).length;while(l--)d=g=(s=be.exec(e[l])||[])[1],h=(s[2]||"").split(".").sort(),d&&(f=S.event.special[d]||{},d=(i?f.delegateType:f.bindType)||d,f=S.event.special[d]||{},c=S.extend({type:d,origType:g,data:r,handler:n,guid:n.guid,selector:i,needsContext:i&&S.expr.match.needsContext.test(i),namespace:h.join(".")},o),(p=u[d])||((p=u[d]=[]).delegateCount=0,f.setup&&!1!==f.setup.call(t,r,h,a)||t.addEventListener&&t.addEventListener(d,a)),f.add&&(f.add.call(t,c),c.handler.guid||(c.handler.guid=n.guid)),i?p.splice(p.delegateCount++,0,c):p.push(c),S.event.global[d]=!0)}},remove:function(e,t,n,r,i){var o,a,s,u,l,c,f,p,d,h,g,v=Y.hasData(e)&&Y.get(e);if(v&&(u=v.events)){l=(t=(t||"").match(P)||[""]).length;while(l--)if(d=g=(s=be.exec(t[l])||[])[1],h=(s[2]||"").split(".").sort(),d){f=S.event.special[d]||{},p=u[d=(r?f.delegateType:f.bindType)||d]||[],s=s[2]&&new RegExp("(^|\\.)"+h.join("\\.(?:.*\\.|)")+"(\\.|$)"),a=o=p.length;while(o--)c=p[o],!i&&g!==c.origType||n&&n.guid!==c.guid||s&&!s.test(c.namespace)||r&&r!==c.selector&&("**"!==r||!c.selector)||(p.splice(o,1),c.selector&&p.delegateCount--,f.remove&&f.remove.call(e,c));a&&!p.length&&(f.teardown&&!1!==f.teardown.call(e,h,v.handle)||S.removeEvent(e,d,v.handle),delete u[d])}else for(d in u)S.event.remove(e,d+t[l],n,r,!0);S.isEmptyObject(u)&&Y.remove(e,"handle events")}},dispatch:function(e){var t,n,r,i,o,a,s=new Array(arguments.length),u=S.event.fix(e),l=(Y.get(this,"events")||Object.create(null))[u.type]||[],c=S.event.special[u.type]||{};for(s[0]=u,t=1;t<arguments.length;t++)s[t]=arguments[t];if(u.delegateTarget=this,!c.preDispatch||!1!==c.preDispatch.call(this,u)){a=S.event.handlers.call(this,u,l),t=0;while((i=a[t++])&&!u.isPropagationStopped()){u.currentTarget=i.elem,n=0;while((o=i.handlers[n++])&&!u.isImmediatePropagationStopped())u.rnamespace&&!1!==o.namespace&&!u.rnamespace.test(o.namespace)||(u.handleObj=o,u.data=o.data,void 0!==(r=((S.event.special[o.origType]||{}).handle||o.handler).apply(i.elem,s))&&!1===(u.result=r)&&(u.preventDefault(),u.stopPropagation()))}return c.postDispatch&&c.postDispatch.call(this,u),u.result}},handlers:function(e,t){var n,r,i,o,a,s=[],u=t.delegateCount,l=e.target;if(u&&l.nodeType&&!("click"===e.type&&1<=e.button))for(;l!==this;l=l.parentNode||this)if(1===l.nodeType&&("click"!==e.type||!0!==l.disabled)){for(o=[],a={},n=0;n<u;n++)void 0===a[i=(r=t[n]).selector+" "]&&(a[i]=r.needsContext?-1<S(i,this).index(l):S.find(i,this,null,[l]).length),a[i]&&o.push(r);o.length&&s.push({elem:l,handlers:o})}return l=this,u<t.length&&s.push({elem:l,handlers:t.slice(u)}),s},addProp:function(t,e){Object.defineProperty(S.Event.prototype,t,{enumerable:!0,configurable:!0,get:m(e)?function(){if(this.originalEvent)return e(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[t]},set:function(e){Object.defineProperty(this,t,{enumerable:!0,configurable:!0,writable:!0,value:e})}})},fix:function(e){return e[S.expando]?e:new S.Event(e)},special:{load:{noBubble:!0},click:{setup:function(e){var t=this||e;return pe.test(t.type)&&t.click&&A(t,"input")&&Se(t,"click",we),!1},trigger:function(e){var t=this||e;return pe.test(t.type)&&t.click&&A(t,"input")&&Se(t,"click"),!0},_default:function(e){var t=e.target;return pe.test(t.type)&&t.click&&A(t,"input")&&Y.get(t,"click")||A(t,"a")}},beforeunload:{postDispatch:function(e){void 0!==e.result&&e.originalEvent&&(e.originalEvent.returnValue=e.result)}}}},S.removeEvent=function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n)},S.Event=function(e,t){if(!(this instanceof S.Event))return new S.Event(e,t);e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||void 0===e.defaultPrevented&&!1===e.returnValue?we:Te,this.target=e.target&&3===e.target.nodeType?e.target.parentNode:e.target,this.currentTarget=e.currentTarget,this.relatedTarget=e.relatedTarget):this.type=e,t&&S.extend(this,t),this.timeStamp=e&&e.timeStamp||Date.now(),this[S.expando]=!0},S.Event.prototype={constructor:S.Event,isDefaultPrevented:Te,isPropagationStopped:Te,isImmediatePropagationStopped:Te,isSimulated:!1,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=we,e&&!this.isSimulated&&e.preventDefault()},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=we,e&&!this.isSimulated&&e.stopPropagation()},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=we,e&&!this.isSimulated&&e.stopImmediatePropagation(),this.stopPropagation()}},S.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,"char":!0,code:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:!0},S.event.addProp),S.each({focus:"focusin",blur:"focusout"},function(e,t){S.event.special[e]={setup:function(){return Se(this,e,Ce),!1},trigger:function(){return Se(this,e),!0},_default:function(){return!0},delegateType:t}}),S.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(e,i){S.event.special[e]={delegateType:i,bindType:i,handle:function(e){var t,n=e.relatedTarget,r=e.handleObj;return n&&(n===this||S.contains(this,n))||(e.type=r.origType,t=r.handler.apply(this,arguments),e.type=i),t}}}),S.fn.extend({on:function(e,t,n,r){return Ee(this,e,t,n,r)},one:function(e,t,n,r){return Ee(this,e,t,n,r,1)},off:function(e,t,n){var r,i;if(e&&e.preventDefault&&e.handleObj)return r=e.handleObj,S(e.delegateTarget).off(r.namespace?r.origType+"."+r.namespace:r.origType,r.selector,r.handler),this;if("object"==typeof e){for(i in e)this.off(i,t,e[i]);return this}return!1!==t&&"function"!=typeof t||(n=t,t=void 0),!1===n&&(n=Te),this.each(function(){S.event.remove(this,e,n,t)})}});var ke=/<script|<style|<link/i,Ae=/checked\s*(?:[^=]|=\s*.checked.)/i,Ne=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;function je(e,t){return A(e,"table")&&A(11!==t.nodeType?t:t.firstChild,"tr")&&S(e).children("tbody")[0]||e}function De(e){return e.type=(null!==e.getAttribute("type"))+"/"+e.type,e}function qe(e){return"true/"===(e.type||"").slice(0,5)?e.type=e.type.slice(5):e.removeAttribute("type"),e}function Le(e,t){var n,r,i,o,a,s;if(1===t.nodeType){if(Y.hasData(e)&&(s=Y.get(e).events))for(i in Y.remove(t,"handle events"),s)for(n=0,r=s[i].length;n<r;n++)S.event.add(t,i,s[i][n]);Q.hasData(e)&&(o=Q.access(e),a=S.extend({},o),Q.set(t,a))}}function He(n,r,i,o){r=g(r);var e,t,a,s,u,l,c=0,f=n.length,p=f-1,d=r[0],h=m(d);if(h||1<f&&"string"==typeof d&&!y.checkClone&&Ae.test(d))return n.each(function(e){var t=n.eq(e);h&&(r[0]=d.call(this,e,t.html())),He(t,r,i,o)});if(f&&(t=(e=xe(r,n[0].ownerDocument,!1,n,o)).firstChild,1===e.childNodes.length&&(e=t),t||o)){for(s=(a=S.map(ve(e,"script"),De)).length;c<f;c++)u=e,c!==p&&(u=S.clone(u,!0,!0),s&&S.merge(a,ve(u,"script"))),i.call(n[c],u,c);if(s)for(l=a[a.length-1].ownerDocument,S.map(a,qe),c=0;c<s;c++)u=a[c],he.test(u.type||"")&&!Y.access(u,"globalEval")&&S.contains(l,u)&&(u.src&&"module"!==(u.type||"").toLowerCase()?S._evalUrl&&!u.noModule&&S._evalUrl(u.src,{nonce:u.nonce||u.getAttribute("nonce")},l):b(u.textContent.replace(Ne,""),u,l))}return n}function Oe(e,t,n){for(var r,i=t?S.filter(t,e):e,o=0;null!=(r=i[o]);o++)n||1!==r.nodeType||S.cleanData(ve(r)),r.parentNode&&(n&&ie(r)&&ye(ve(r,"script")),r.parentNode.removeChild(r));return e}S.extend({htmlPrefilter:function(e){return e},clone:function(e,t,n){var r,i,o,a,s,u,l,c=e.cloneNode(!0),f=ie(e);if(!(y.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||S.isXMLDoc(e)))for(a=ve(c),r=0,i=(o=ve(e)).length;r<i;r++)s=o[r],u=a[r],void 0,"input"===(l=u.nodeName.toLowerCase())&&pe.test(s.type)?u.checked=s.checked:"input"!==l&&"textarea"!==l||(u.defaultValue=s.defaultValue);if(t)if(n)for(o=o||ve(e),a=a||ve(c),r=0,i=o.length;r<i;r++)Le(o[r],a[r]);else Le(e,c);return 0<(a=ve(c,"script")).length&&ye(a,!f&&ve(e,"script")),c},cleanData:function(e){for(var t,n,r,i=S.event.special,o=0;void 0!==(n=e[o]);o++)if(V(n)){if(t=n[Y.expando]){if(t.events)for(r in t.events)i[r]?S.event.remove(n,r):S.removeEvent(n,r,t.handle);n[Y.expando]=void 0}n[Q.expando]&&(n[Q.expando]=void 0)}}}),S.fn.extend({detach:function(e){return Oe(this,e,!0)},remove:function(e){return Oe(this,e)},text:function(e){return $(this,function(e){return void 0===e?S.text(this):this.empty().each(function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=e)})},null,e,arguments.length)},append:function(){return He(this,arguments,function(e){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||je(this,e).appendChild(e)})},prepend:function(){return He(this,arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=je(this,e);t.insertBefore(e,t.firstChild)}})},before:function(){return He(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this)})},after:function(){return He(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)})},empty:function(){for(var e,t=0;null!=(e=this[t]);t++)1===e.nodeType&&(S.cleanData(ve(e,!1)),e.textContent="");return this},clone:function(e,t){return e=null!=e&&e,t=null==t?e:t,this.map(function(){return S.clone(this,e,t)})},html:function(e){return $(this,function(e){var t=this[0]||{},n=0,r=this.length;if(void 0===e&&1===t.nodeType)return t.innerHTML;if("string"==typeof e&&!ke.test(e)&&!ge[(de.exec(e)||["",""])[1].toLowerCase()]){e=S.htmlPrefilter(e);try{for(;n<r;n++)1===(t=this[n]||{}).nodeType&&(S.cleanData(ve(t,!1)),t.innerHTML=e);t=0}catch(e){}}t&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(){var n=[];return He(this,arguments,function(e){var t=this.parentNode;S.inArray(this,n)<0&&(S.cleanData(ve(this)),t&&t.replaceChild(e,this))},n)}}),S.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,a){S.fn[e]=function(e){for(var t,n=[],r=S(e),i=r.length-1,o=0;o<=i;o++)t=o===i?this:this.clone(!0),S(r[o])[a](t),u.apply(n,t.get());return this.pushStack(n)}});var Pe=new RegExp("^("+ee+")(?!px)[a-z%]+$","i"),Re=function(e){var t=e.ownerDocument.defaultView;return t&&t.opener||(t=C),t.getComputedStyle(e)},Me=function(e,t,n){var r,i,o={};for(i in t)o[i]=e.style[i],e.style[i]=t[i];for(i in r=n.call(e),t)e.style[i]=o[i];return r},Ie=new RegExp(ne.join("|"),"i");function We(e,t,n){var r,i,o,a,s=e.style;return(n=n||Re(e))&&(""!==(a=n.getPropertyValue(t)||n[t])||ie(e)||(a=S.style(e,t)),!y.pixelBoxStyles()&&Pe.test(a)&&Ie.test(t)&&(r=s.width,i=s.minWidth,o=s.maxWidth,s.minWidth=s.maxWidth=s.width=a,a=n.width,s.width=r,s.minWidth=i,s.maxWidth=o)),void 0!==a?a+"":a}function Fe(e,t){return{get:function(){if(!e())return(this.get=t).apply(this,arguments);delete this.get}}}!function(){function e(){if(l){u.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",l.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",re.appendChild(u).appendChild(l);var e=C.getComputedStyle(l);n="1%"!==e.top,s=12===t(e.marginLeft),l.style.right="60%",o=36===t(e.right),r=36===t(e.width),l.style.position="absolute",i=12===t(l.offsetWidth/3),re.removeChild(u),l=null}}function t(e){return Math.round(parseFloat(e))}var n,r,i,o,a,s,u=E.createElement("div"),l=E.createElement("div");l.style&&(l.style.backgroundClip="content-box",l.cloneNode(!0).style.backgroundClip="",y.clearCloneStyle="content-box"===l.style.backgroundClip,S.extend(y,{boxSizingReliable:function(){return e(),r},pixelBoxStyles:function(){return e(),o},pixelPosition:function(){return e(),n},reliableMarginLeft:function(){return e(),s},scrollboxSize:function(){return e(),i},reliableTrDimensions:function(){var e,t,n,r;return null==a&&(e=E.createElement("table"),t=E.createElement("tr"),n=E.createElement("div"),e.style.cssText="position:absolute;left:-11111px;border-collapse:separate",t.style.cssText="border:1px solid",t.style.height="1px",n.style.height="9px",n.style.display="block",re.appendChild(e).appendChild(t).appendChild(n),r=C.getComputedStyle(t),a=parseInt(r.height,10)+parseInt(r.borderTopWidth,10)+parseInt(r.borderBottomWidth,10)===t.offsetHeight,re.removeChild(e)),a}}))}();var Be=["Webkit","Moz","ms"],$e=E.createElement("div").style,_e={};function ze(e){var t=S.cssProps[e]||_e[e];return t||(e in $e?e:_e[e]=function(e){var t=e[0].toUpperCase()+e.slice(1),n=Be.length;while(n--)if((e=Be[n]+t)in $e)return e}(e)||e)}var Ue=/^(none|table(?!-c[ea]).+)/,Xe=/^--/,Ve={position:"absolute",visibility:"hidden",display:"block"},Ge={letterSpacing:"0",fontWeight:"400"};function Ye(e,t,n){var r=te.exec(t);return r?Math.max(0,r[2]-(n||0))+(r[3]||"px"):t}function Qe(e,t,n,r,i,o){var a="width"===t?1:0,s=0,u=0;if(n===(r?"border":"content"))return 0;for(;a<4;a+=2)"margin"===n&&(u+=S.css(e,n+ne[a],!0,i)),r?("content"===n&&(u-=S.css(e,"padding"+ne[a],!0,i)),"margin"!==n&&(u-=S.css(e,"border"+ne[a]+"Width",!0,i))):(u+=S.css(e,"padding"+ne[a],!0,i),"padding"!==n?u+=S.css(e,"border"+ne[a]+"Width",!0,i):s+=S.css(e,"border"+ne[a]+"Width",!0,i));return!r&&0<=o&&(u+=Math.max(0,Math.ceil(e["offset"+t[0].toUpperCase()+t.slice(1)]-o-u-s-.5))||0),u}function Je(e,t,n){var r=Re(e),i=(!y.boxSizingReliable()||n)&&"border-box"===S.css(e,"boxSizing",!1,r),o=i,a=We(e,t,r),s="offset"+t[0].toUpperCase()+t.slice(1);if(Pe.test(a)){if(!n)return a;a="auto"}return(!y.boxSizingReliable()&&i||!y.reliableTrDimensions()&&A(e,"tr")||"auto"===a||!parseFloat(a)&&"inline"===S.css(e,"display",!1,r))&&e.getClientRects().length&&(i="border-box"===S.css(e,"boxSizing",!1,r),(o=s in e)&&(a=e[s])),(a=parseFloat(a)||0)+Qe(e,t,n||(i?"border":"content"),o,r,a)+"px"}function Ke(e,t,n,r,i){return new Ke.prototype.init(e,t,n,r,i)}S.extend({cssHooks:{opacity:{get:function(e,t){if(t){var n=We(e,"opacity");return""===n?"1":n}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,gridArea:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnStart:!0,gridRow:!0,gridRowEnd:!0,gridRowStart:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{},style:function(e,t,n,r){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var i,o,a,s=X(t),u=Xe.test(t),l=e.style;if(u||(t=ze(s)),a=S.cssHooks[t]||S.cssHooks[s],void 0===n)return a&&"get"in a&&void 0!==(i=a.get(e,!1,r))?i:l[t];"string"===(o=typeof n)&&(i=te.exec(n))&&i[1]&&(n=se(e,t,i),o="number"),null!=n&&n==n&&("number"!==o||u||(n+=i&&i[3]||(S.cssNumber[s]?"":"px")),y.clearCloneStyle||""!==n||0!==t.indexOf("background")||(l[t]="inherit"),a&&"set"in a&&void 0===(n=a.set(e,n,r))||(u?l.setProperty(t,n):l[t]=n))}},css:function(e,t,n,r){var i,o,a,s=X(t);return Xe.test(t)||(t=ze(s)),(a=S.cssHooks[t]||S.cssHooks[s])&&"get"in a&&(i=a.get(e,!0,n)),void 0===i&&(i=We(e,t,r)),"normal"===i&&t in Ge&&(i=Ge[t]),""===n||n?(o=parseFloat(i),!0===n||isFinite(o)?o||0:i):i}}),S.each(["height","width"],function(e,u){S.cssHooks[u]={get:function(e,t,n){if(t)return!Ue.test(S.css(e,"display"))||e.getClientRects().length&&e.getBoundingClientRect().width?Je(e,u,n):Me(e,Ve,function(){return Je(e,u,n)})},set:function(e,t,n){var r,i=Re(e),o=!y.scrollboxSize()&&"absolute"===i.position,a=(o||n)&&"border-box"===S.css(e,"boxSizing",!1,i),s=n?Qe(e,u,n,a,i):0;return a&&o&&(s-=Math.ceil(e["offset"+u[0].toUpperCase()+u.slice(1)]-parseFloat(i[u])-Qe(e,u,"border",!1,i)-.5)),s&&(r=te.exec(t))&&"px"!==(r[3]||"px")&&(e.style[u]=t,t=S.css(e,u)),Ye(0,t,s)}}}),S.cssHooks.marginLeft=Fe(y.reliableMarginLeft,function(e,t){if(t)return(parseFloat(We(e,"marginLeft"))||e.getBoundingClientRect().left-Me(e,{marginLeft:0},function(){return e.getBoundingClientRect().left}))+"px"}),S.each({margin:"",padding:"",border:"Width"},function(i,o){S.cssHooks[i+o]={expand:function(e){for(var t=0,n={},r="string"==typeof e?e.split(" "):[e];t<4;t++)n[i+ne[t]+o]=r[t]||r[t-2]||r[0];return n}},"margin"!==i&&(S.cssHooks[i+o].set=Ye)}),S.fn.extend({css:function(e,t){return $(this,function(e,t,n){var r,i,o={},a=0;if(Array.isArray(t)){for(r=Re(e),i=t.length;a<i;a++)o[t[a]]=S.css(e,t[a],!1,r);return o}return void 0!==n?S.style(e,t,n):S.css(e,t)},e,t,1<arguments.length)}}),((S.Tween=Ke).prototype={constructor:Ke,init:function(e,t,n,r,i,o){this.elem=e,this.prop=n,this.easing=i||S.easing._default,this.options=t,this.start=this.now=this.cur(),this.end=r,this.unit=o||(S.cssNumber[n]?"":"px")},cur:function(){var e=Ke.propHooks[this.prop];return e&&e.get?e.get(this):Ke.propHooks._default.get(this)},run:function(e){var t,n=Ke.propHooks[this.prop];return this.options.duration?this.pos=t=S.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):this.pos=t=e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):Ke.propHooks._default.set(this),this}}).init.prototype=Ke.prototype,(Ke.propHooks={_default:{get:function(e){var t;return 1!==e.elem.nodeType||null!=e.elem[e.prop]&&null==e.elem.style[e.prop]?e.elem[e.prop]:(t=S.css(e.elem,e.prop,""))&&"auto"!==t?t:0},set:function(e){S.fx.step[e.prop]?S.fx.step[e.prop](e):1!==e.elem.nodeType||!S.cssHooks[e.prop]&&null==e.elem.style[ze(e.prop)]?e.elem[e.prop]=e.now:S.style(e.elem,e.prop,e.now+e.unit)}}}).scrollTop=Ke.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},S.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2},_default:"swing"},S.fx=Ke.prototype.init,S.fx.step={};var Ze,et,tt,nt,rt=/^(?:toggle|show|hide)$/,it=/queueHooks$/;function ot(){et&&(!1===E.hidden&&C.requestAnimationFrame?C.requestAnimationFrame(ot):C.setTimeout(ot,S.fx.interval),S.fx.tick())}function at(){return C.setTimeout(function(){Ze=void 0}),Ze=Date.now()}function st(e,t){var n,r=0,i={height:e};for(t=t?1:0;r<4;r+=2-t)i["margin"+(n=ne[r])]=i["padding"+n]=e;return t&&(i.opacity=i.width=e),i}function ut(e,t,n){for(var r,i=(lt.tweeners[t]||[]).concat(lt.tweeners["*"]),o=0,a=i.length;o<a;o++)if(r=i[o].call(n,t,e))return r}function lt(o,e,t){var n,a,r=0,i=lt.prefilters.length,s=S.Deferred().always(function(){delete u.elem}),u=function(){if(a)return!1;for(var e=Ze||at(),t=Math.max(0,l.startTime+l.duration-e),n=1-(t/l.duration||0),r=0,i=l.tweens.length;r<i;r++)l.tweens[r].run(n);return s.notifyWith(o,[l,n,t]),n<1&&i?t:(i||s.notifyWith(o,[l,1,0]),s.resolveWith(o,[l]),!1)},l=s.promise({elem:o,props:S.extend({},e),opts:S.extend(!0,{specialEasing:{},easing:S.easing._default},t),originalProperties:e,originalOptions:t,startTime:Ze||at(),duration:t.duration,tweens:[],createTween:function(e,t){var n=S.Tween(o,l.opts,e,t,l.opts.specialEasing[e]||l.opts.easing);return l.tweens.push(n),n},stop:function(e){var t=0,n=e?l.tweens.length:0;if(a)return this;for(a=!0;t<n;t++)l.tweens[t].run(1);return e?(s.notifyWith(o,[l,1,0]),s.resolveWith(o,[l,e])):s.rejectWith(o,[l,e]),this}}),c=l.props;for(!function(e,t){var n,r,i,o,a;for(n in e)if(i=t[r=X(n)],o=e[n],Array.isArray(o)&&(i=o[1],o=e[n]=o[0]),n!==r&&(e[r]=o,delete e[n]),(a=S.cssHooks[r])&&"expand"in a)for(n in o=a.expand(o),delete e[r],o)n in e||(e[n]=o[n],t[n]=i);else t[r]=i}(c,l.opts.specialEasing);r<i;r++)if(n=lt.prefilters[r].call(l,o,c,l.opts))return m(n.stop)&&(S._queueHooks(l.elem,l.opts.queue).stop=n.stop.bind(n)),n;return S.map(c,ut,l),m(l.opts.start)&&l.opts.start.call(o,l),l.progress(l.opts.progress).done(l.opts.done,l.opts.complete).fail(l.opts.fail).always(l.opts.always),S.fx.timer(S.extend(u,{elem:o,anim:l,queue:l.opts.queue})),l}S.Animation=S.extend(lt,{tweeners:{"*":[function(e,t){var n=this.createTween(e,t);return se(n.elem,e,te.exec(t),n),n}]},tweener:function(e,t){m(e)?(t=e,e=["*"]):e=e.match(P);for(var n,r=0,i=e.length;r<i;r++)n=e[r],lt.tweeners[n]=lt.tweeners[n]||[],lt.tweeners[n].unshift(t)},prefilters:[function(e,t,n){var r,i,o,a,s,u,l,c,f="width"in t||"height"in t,p=this,d={},h=e.style,g=e.nodeType&&ae(e),v=Y.get(e,"fxshow");for(r in n.queue||(null==(a=S._queueHooks(e,"fx")).unqueued&&(a.unqueued=0,s=a.empty.fire,a.empty.fire=function(){a.unqueued||s()}),a.unqueued++,p.always(function(){p.always(function(){a.unqueued--,S.queue(e,"fx").length||a.empty.fire()})})),t)if(i=t[r],rt.test(i)){if(delete t[r],o=o||"toggle"===i,i===(g?"hide":"show")){if("show"!==i||!v||void 0===v[r])continue;g=!0}d[r]=v&&v[r]||S.style(e,r)}if((u=!S.isEmptyObject(t))||!S.isEmptyObject(d))for(r in f&&1===e.nodeType&&(n.overflow=[h.overflow,h.overflowX,h.overflowY],null==(l=v&&v.display)&&(l=Y.get(e,"display")),"none"===(c=S.css(e,"display"))&&(l?c=l:(le([e],!0),l=e.style.display||l,c=S.css(e,"display"),le([e]))),("inline"===c||"inline-block"===c&&null!=l)&&"none"===S.css(e,"float")&&(u||(p.done(function(){h.display=l}),null==l&&(c=h.display,l="none"===c?"":c)),h.display="inline-block")),n.overflow&&(h.overflow="hidden",p.always(function(){h.overflow=n.overflow[0],h.overflowX=n.overflow[1],h.overflowY=n.overflow[2]})),u=!1,d)u||(v?"hidden"in v&&(g=v.hidden):v=Y.access(e,"fxshow",{display:l}),o&&(v.hidden=!g),g&&le([e],!0),p.done(function(){for(r in g||le([e]),Y.remove(e,"fxshow"),d)S.style(e,r,d[r])})),u=ut(g?v[r]:0,r,p),r in v||(v[r]=u.start,g&&(u.end=u.start,u.start=0))}],prefilter:function(e,t){t?lt.prefilters.unshift(e):lt.prefilters.push(e)}}),S.speed=function(e,t,n){var r=e&&"object"==typeof e?S.extend({},e):{complete:n||!n&&t||m(e)&&e,duration:e,easing:n&&t||t&&!m(t)&&t};return S.fx.off?r.duration=0:"number"!=typeof r.duration&&(r.duration in S.fx.speeds?r.duration=S.fx.speeds[r.duration]:r.duration=S.fx.speeds._default),null!=r.queue&&!0!==r.queue||(r.queue="fx"),r.old=r.complete,r.complete=function(){m(r.old)&&r.old.call(this),r.queue&&S.dequeue(this,r.queue)},r},S.fn.extend({fadeTo:function(e,t,n,r){return this.filter(ae).css("opacity",0).show().end().animate({opacity:t},e,n,r)},animate:function(t,e,n,r){var i=S.isEmptyObject(t),o=S.speed(e,n,r),a=function(){var e=lt(this,S.extend({},t),o);(i||Y.get(this,"finish"))&&e.stop(!0)};return a.finish=a,i||!1===o.queue?this.each(a):this.queue(o.queue,a)},stop:function(i,e,o){var a=function(e){var t=e.stop;delete e.stop,t(o)};return"string"!=typeof i&&(o=e,e=i,i=void 0),e&&this.queue(i||"fx",[]),this.each(function(){var e=!0,t=null!=i&&i+"queueHooks",n=S.timers,r=Y.get(this);if(t)r[t]&&r[t].stop&&a(r[t]);else for(t in r)r[t]&&r[t].stop&&it.test(t)&&a(r[t]);for(t=n.length;t--;)n[t].elem!==this||null!=i&&n[t].queue!==i||(n[t].anim.stop(o),e=!1,n.splice(t,1));!e&&o||S.dequeue(this,i)})},finish:function(a){return!1!==a&&(a=a||"fx"),this.each(function(){var e,t=Y.get(this),n=t[a+"queue"],r=t[a+"queueHooks"],i=S.timers,o=n?n.length:0;for(t.finish=!0,S.queue(this,a,[]),r&&r.stop&&r.stop.call(this,!0),e=i.length;e--;)i[e].elem===this&&i[e].queue===a&&(i[e].anim.stop(!0),i.splice(e,1));for(e=0;e<o;e++)n[e]&&n[e].finish&&n[e].finish.call(this);delete t.finish})}}),S.each(["toggle","show","hide"],function(e,r){var i=S.fn[r];S.fn[r]=function(e,t,n){return null==e||"boolean"==typeof e?i.apply(this,arguments):this.animate(st(r,!0),e,t,n)}}),S.each({slideDown:st("show"),slideUp:st("hide"),slideToggle:st("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,r){S.fn[e]=function(e,t,n){return this.animate(r,e,t,n)}}),S.timers=[],S.fx.tick=function(){var e,t=0,n=S.timers;for(Ze=Date.now();t<n.length;t++)(e=n[t])()||n[t]!==e||n.splice(t--,1);n.length||S.fx.stop(),Ze=void 0},S.fx.timer=function(e){S.timers.push(e),S.fx.start()},S.fx.interval=13,S.fx.start=function(){et||(et=!0,ot())},S.fx.stop=function(){et=null},S.fx.speeds={slow:600,fast:200,_default:400},S.fn.delay=function(r,e){return r=S.fx&&S.fx.speeds[r]||r,e=e||"fx",this.queue(e,function(e,t){var n=C.setTimeout(e,r);t.stop=function(){C.clearTimeout(n)}})},tt=E.createElement("input"),nt=E.createElement("select").appendChild(E.createElement("option")),tt.type="checkbox",y.checkOn=""!==tt.value,y.optSelected=nt.selected,(tt=E.createElement("input")).value="t",tt.type="radio",y.radioValue="t"===tt.value;var ct,ft=S.expr.attrHandle;S.fn.extend({attr:function(e,t){return $(this,S.attr,e,t,1<arguments.length)},removeAttr:function(e){return this.each(function(){S.removeAttr(this,e)})}}),S.extend({attr:function(e,t,n){var r,i,o=e.nodeType;if(3!==o&&8!==o&&2!==o)return"undefined"==typeof e.getAttribute?S.prop(e,t,n):(1===o&&S.isXMLDoc(e)||(i=S.attrHooks[t.toLowerCase()]||(S.expr.match.bool.test(t)?ct:void 0)),void 0!==n?null===n?void S.removeAttr(e,t):i&&"set"in i&&void 0!==(r=i.set(e,n,t))?r:(e.setAttribute(t,n+""),n):i&&"get"in i&&null!==(r=i.get(e,t))?r:null==(r=S.find.attr(e,t))?void 0:r)},attrHooks:{type:{set:function(e,t){if(!y.radioValue&&"radio"===t&&A(e,"input")){var n=e.value;return e.setAttribute("type",t),n&&(e.value=n),t}}}},removeAttr:function(e,t){var n,r=0,i=t&&t.match(P);if(i&&1===e.nodeType)while(n=i[r++])e.removeAttribute(n)}}),ct={set:function(e,t,n){return!1===t?S.removeAttr(e,n):e.setAttribute(n,n),n}},S.each(S.expr.match.bool.source.match(/\w+/g),function(e,t){var a=ft[t]||S.find.attr;ft[t]=function(e,t,n){var r,i,o=t.toLowerCase();return n||(i=ft[o],ft[o]=r,r=null!=a(e,t,n)?o:null,ft[o]=i),r}});var pt=/^(?:input|select|textarea|button)$/i,dt=/^(?:a|area)$/i;function ht(e){return(e.match(P)||[]).join(" ")}function gt(e){return e.getAttribute&&e.getAttribute("class")||""}function vt(e){return Array.isArray(e)?e:"string"==typeof e&&e.match(P)||[]}S.fn.extend({prop:function(e,t){return $(this,S.prop,e,t,1<arguments.length)},removeProp:function(e){return this.each(function(){delete this[S.propFix[e]||e]})}}),S.extend({prop:function(e,t,n){var r,i,o=e.nodeType;if(3!==o&&8!==o&&2!==o)return 1===o&&S.isXMLDoc(e)||(t=S.propFix[t]||t,i=S.propHooks[t]),void 0!==n?i&&"set"in i&&void 0!==(r=i.set(e,n,t))?r:e[t]=n:i&&"get"in i&&null!==(r=i.get(e,t))?r:e[t]},propHooks:{tabIndex:{get:function(e){var t=S.find.attr(e,"tabindex");return t?parseInt(t,10):pt.test(e.nodeName)||dt.test(e.nodeName)&&e.href?0:-1}}},propFix:{"for":"htmlFor","class":"className"}}),y.optSelected||(S.propHooks.selected={get:function(e){var t=e.parentNode;return t&&t.parentNode&&t.parentNode.selectedIndex,null},set:function(e){var t=e.parentNode;t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex)}}),S.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){S.propFix[this.toLowerCase()]=this}),S.fn.extend({addClass:function(t){var e,n,r,i,o,a,s,u=0;if(m(t))return this.each(function(e){S(this).addClass(t.call(this,e,gt(this)))});if((e=vt(t)).length)while(n=this[u++])if(i=gt(n),r=1===n.nodeType&&" "+ht(i)+" "){a=0;while(o=e[a++])r.indexOf(" "+o+" ")<0&&(r+=o+" ");i!==(s=ht(r))&&n.setAttribute("class",s)}return this},removeClass:function(t){var e,n,r,i,o,a,s,u=0;if(m(t))return this.each(function(e){S(this).removeClass(t.call(this,e,gt(this)))});if(!arguments.length)return this.attr("class","");if((e=vt(t)).length)while(n=this[u++])if(i=gt(n),r=1===n.nodeType&&" "+ht(i)+" "){a=0;while(o=e[a++])while(-1<r.indexOf(" "+o+" "))r=r.replace(" "+o+" "," ");i!==(s=ht(r))&&n.setAttribute("class",s)}return this},toggleClass:function(i,t){var o=typeof i,a="string"===o||Array.isArray(i);return"boolean"==typeof t&&a?t?this.addClass(i):this.removeClass(i):m(i)?this.each(function(e){S(this).toggleClass(i.call(this,e,gt(this),t),t)}):this.each(function(){var e,t,n,r;if(a){t=0,n=S(this),r=vt(i);while(e=r[t++])n.hasClass(e)?n.removeClass(e):n.addClass(e)}else void 0!==i&&"boolean"!==o||((e=gt(this))&&Y.set(this,"__className__",e),this.setAttribute&&this.setAttribute("class",e||!1===i?"":Y.get(this,"__className__")||""))})},hasClass:function(e){var t,n,r=0;t=" "+e+" ";while(n=this[r++])if(1===n.nodeType&&-1<(" "+ht(gt(n))+" ").indexOf(t))return!0;return!1}});var yt=/\r/g;S.fn.extend({val:function(n){var r,e,i,t=this[0];return arguments.length?(i=m(n),this.each(function(e){var t;1===this.nodeType&&(null==(t=i?n.call(this,e,S(this).val()):n)?t="":"number"==typeof t?t+="":Array.isArray(t)&&(t=S.map(t,function(e){return null==e?"":e+""})),(r=S.valHooks[this.type]||S.valHooks[this.nodeName.toLowerCase()])&&"set"in r&&void 0!==r.set(this,t,"value")||(this.value=t))})):t?(r=S.valHooks[t.type]||S.valHooks[t.nodeName.toLowerCase()])&&"get"in r&&void 0!==(e=r.get(t,"value"))?e:"string"==typeof(e=t.value)?e.replace(yt,""):null==e?"":e:void 0}}),S.extend({valHooks:{option:{get:function(e){var t=S.find.attr(e,"value");return null!=t?t:ht(S.text(e))}},select:{get:function(e){var t,n,r,i=e.options,o=e.selectedIndex,a="select-one"===e.type,s=a?null:[],u=a?o+1:i.length;for(r=o<0?u:a?o:0;r<u;r++)if(((n=i[r]).selected||r===o)&&!n.disabled&&(!n.parentNode.disabled||!A(n.parentNode,"optgroup"))){if(t=S(n).val(),a)return t;s.push(t)}return s},set:function(e,t){var n,r,i=e.options,o=S.makeArray(t),a=i.length;while(a--)((r=i[a]).selected=-1<S.inArray(S.valHooks.option.get(r),o))&&(n=!0);return n||(e.selectedIndex=-1),o}}}}),S.each(["radio","checkbox"],function(){S.valHooks[this]={set:function(e,t){if(Array.isArray(t))return e.checked=-1<S.inArray(S(e).val(),t)}},y.checkOn||(S.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})}),y.focusin="onfocusin"in C;var mt=/^(?:focusinfocus|focusoutblur)$/,xt=function(e){e.stopPropagation()};S.extend(S.event,{trigger:function(e,t,n,r){var i,o,a,s,u,l,c,f,p=[n||E],d=v.call(e,"type")?e.type:e,h=v.call(e,"namespace")?e.namespace.split("."):[];if(o=f=a=n=n||E,3!==n.nodeType&&8!==n.nodeType&&!mt.test(d+S.event.triggered)&&(-1<d.indexOf(".")&&(d=(h=d.split(".")).shift(),h.sort()),u=d.indexOf(":")<0&&"on"+d,(e=e[S.expando]?e:new S.Event(d,"object"==typeof e&&e)).isTrigger=r?2:3,e.namespace=h.join("."),e.rnamespace=e.namespace?new RegExp("(^|\\.)"+h.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,e.result=void 0,e.target||(e.target=n),t=null==t?[e]:S.makeArray(t,[e]),c=S.event.special[d]||{},r||!c.trigger||!1!==c.trigger.apply(n,t))){if(!r&&!c.noBubble&&!x(n)){for(s=c.delegateType||d,mt.test(s+d)||(o=o.parentNode);o;o=o.parentNode)p.push(o),a=o;a===(n.ownerDocument||E)&&p.push(a.defaultView||a.parentWindow||C)}i=0;while((o=p[i++])&&!e.isPropagationStopped())f=o,e.type=1<i?s:c.bindType||d,(l=(Y.get(o,"events")||Object.create(null))[e.type]&&Y.get(o,"handle"))&&l.apply(o,t),(l=u&&o[u])&&l.apply&&V(o)&&(e.result=l.apply(o,t),!1===e.result&&e.preventDefault());return e.type=d,r||e.isDefaultPrevented()||c._default&&!1!==c._default.apply(p.pop(),t)||!V(n)||u&&m(n[d])&&!x(n)&&((a=n[u])&&(n[u]=null),S.event.triggered=d,e.isPropagationStopped()&&f.addEventListener(d,xt),n[d](),e.isPropagationStopped()&&f.removeEventListener(d,xt),S.event.triggered=void 0,a&&(n[u]=a)),e.result}},simulate:function(e,t,n){var r=S.extend(new S.Event,n,{type:e,isSimulated:!0});S.event.trigger(r,null,t)}}),S.fn.extend({trigger:function(e,t){return this.each(function(){S.event.trigger(e,t,this)})},triggerHandler:function(e,t){var n=this[0];if(n)return S.event.trigger(e,t,n,!0)}}),y.focusin||S.each({focus:"focusin",blur:"focusout"},function(n,r){var i=function(e){S.event.simulate(r,e.target,S.event.fix(e))};S.event.special[r]={setup:function(){var e=this.ownerDocument||this.document||this,t=Y.access(e,r);t||e.addEventListener(n,i,!0),Y.access(e,r,(t||0)+1)},teardown:function(){var e=this.ownerDocument||this.document||this,t=Y.access(e,r)-1;t?Y.access(e,r,t):(e.removeEventListener(n,i,!0),Y.remove(e,r))}}});var bt=C.location,wt={guid:Date.now()},Tt=/\?/;S.parseXML=function(e){var t,n;if(!e||"string"!=typeof e)return null;try{t=(new C.DOMParser).parseFromString(e,"text/xml")}catch(e){}return n=t&&t.getElementsByTagName("parsererror")[0],t&&!n||S.error("Invalid XML: "+(n?S.map(n.childNodes,function(e){return e.textContent}).join("\n"):e)),t};var Ct=/\[\]$/,Et=/\r?\n/g,St=/^(?:submit|button|image|reset|file)$/i,kt=/^(?:input|select|textarea|keygen)/i;function At(n,e,r,i){var t;if(Array.isArray(e))S.each(e,function(e,t){r||Ct.test(n)?i(n,t):At(n+"["+("object"==typeof t&&null!=t?e:"")+"]",t,r,i)});else if(r||"object"!==w(e))i(n,e);else for(t in e)At(n+"["+t+"]",e[t],r,i)}S.param=function(e,t){var n,r=[],i=function(e,t){var n=m(t)?t():t;r[r.length]=encodeURIComponent(e)+"="+encodeURIComponent(null==n?"":n)};if(null==e)return"";if(Array.isArray(e)||e.jquery&&!S.isPlainObject(e))S.each(e,function(){i(this.name,this.value)});else for(n in e)At(n,e[n],t,i);return r.join("&")},S.fn.extend({serialize:function(){return S.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=S.prop(this,"elements");return e?S.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!S(this).is(":disabled")&&kt.test(this.nodeName)&&!St.test(e)&&(this.checked||!pe.test(e))}).map(function(e,t){var n=S(this).val();return null==n?null:Array.isArray(n)?S.map(n,function(e){return{name:t.name,value:e.replace(Et,"\r\n")}}):{name:t.name,value:n.replace(Et,"\r\n")}}).get()}});var Nt=/%20/g,jt=/#.*$/,Dt=/([?&])_=[^&]*/,qt=/^(.*?):[ \t]*([^\r\n]*)$/gm,Lt=/^(?:GET|HEAD)$/,Ht=/^\/\//,Ot={},Pt={},Rt="*/".concat("*"),Mt=E.createElement("a");function It(o){return function(e,t){"string"!=typeof e&&(t=e,e="*");var n,r=0,i=e.toLowerCase().match(P)||[];if(m(t))while(n=i[r++])"+"===n[0]?(n=n.slice(1)||"*",(o[n]=o[n]||[]).unshift(t)):(o[n]=o[n]||[]).push(t)}}function Wt(t,i,o,a){var s={},u=t===Pt;function l(e){var r;return s[e]=!0,S.each(t[e]||[],function(e,t){var n=t(i,o,a);return"string"!=typeof n||u||s[n]?u?!(r=n):void 0:(i.dataTypes.unshift(n),l(n),!1)}),r}return l(i.dataTypes[0])||!s["*"]&&l("*")}function Ft(e,t){var n,r,i=S.ajaxSettings.flatOptions||{};for(n in t)void 0!==t[n]&&((i[n]?e:r||(r={}))[n]=t[n]);return r&&S.extend(!0,e,r),e}Mt.href=bt.href,S.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:bt.href,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(bt.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Rt,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":S.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?Ft(Ft(e,S.ajaxSettings),t):Ft(S.ajaxSettings,e)},ajaxPrefilter:It(Ot),ajaxTransport:It(Pt),ajax:function(e,t){"object"==typeof e&&(t=e,e=void 0),t=t||{};var c,f,p,n,d,r,h,g,i,o,v=S.ajaxSetup({},t),y=v.context||v,m=v.context&&(y.nodeType||y.jquery)?S(y):S.event,x=S.Deferred(),b=S.Callbacks("once memory"),w=v.statusCode||{},a={},s={},u="canceled",T={readyState:0,getResponseHeader:function(e){var t;if(h){if(!n){n={};while(t=qt.exec(p))n[t[1].toLowerCase()+" "]=(n[t[1].toLowerCase()+" "]||[]).concat(t[2])}t=n[e.toLowerCase()+" "]}return null==t?null:t.join(", ")},getAllResponseHeaders:function(){return h?p:null},setRequestHeader:function(e,t){return null==h&&(e=s[e.toLowerCase()]=s[e.toLowerCase()]||e,a[e]=t),this},overrideMimeType:function(e){return null==h&&(v.mimeType=e),this},statusCode:function(e){var t;if(e)if(h)T.always(e[T.status]);else for(t in e)w[t]=[w[t],e[t]];return this},abort:function(e){var t=e||u;return c&&c.abort(t),l(0,t),this}};if(x.promise(T),v.url=((e||v.url||bt.href)+"").replace(Ht,bt.protocol+"//"),v.type=t.method||t.type||v.method||v.type,v.dataTypes=(v.dataType||"*").toLowerCase().match(P)||[""],null==v.crossDomain){r=E.createElement("a");try{r.href=v.url,r.href=r.href,v.crossDomain=Mt.protocol+"//"+Mt.host!=r.protocol+"//"+r.host}catch(e){v.crossDomain=!0}}if(v.data&&v.processData&&"string"!=typeof v.data&&(v.data=S.param(v.data,v.traditional)),Wt(Ot,v,t,T),h)return T;for(i in(g=S.event&&v.global)&&0==S.active++&&S.event.trigger("ajaxStart"),v.type=v.type.toUpperCase(),v.hasContent=!Lt.test(v.type),f=v.url.replace(jt,""),v.hasContent?v.data&&v.processData&&0===(v.contentType||"").indexOf("application/x-www-form-urlencoded")&&(v.data=v.data.replace(Nt,"+")):(o=v.url.slice(f.length),v.data&&(v.processData||"string"==typeof v.data)&&(f+=(Tt.test(f)?"&":"?")+v.data,delete v.data),!1===v.cache&&(f=f.replace(Dt,"$1"),o=(Tt.test(f)?"&":"?")+"_="+wt.guid+++o),v.url=f+o),v.ifModified&&(S.lastModified[f]&&T.setRequestHeader("If-Modified-Since",S.lastModified[f]),S.etag[f]&&T.setRequestHeader("If-None-Match",S.etag[f])),(v.data&&v.hasContent&&!1!==v.contentType||t.contentType)&&T.setRequestHeader("Content-Type",v.contentType),T.setRequestHeader("Accept",v.dataTypes[0]&&v.accepts[v.dataTypes[0]]?v.accepts[v.dataTypes[0]]+("*"!==v.dataTypes[0]?", "+Rt+"; q=0.01":""):v.accepts["*"]),v.headers)T.setRequestHeader(i,v.headers[i]);if(v.beforeSend&&(!1===v.beforeSend.call(y,T,v)||h))return T.abort();if(u="abort",b.add(v.complete),T.done(v.success),T.fail(v.error),c=Wt(Pt,v,t,T)){if(T.readyState=1,g&&m.trigger("ajaxSend",[T,v]),h)return T;v.async&&0<v.timeout&&(d=C.setTimeout(function(){T.abort("timeout")},v.timeout));try{h=!1,c.send(a,l)}catch(e){if(h)throw e;l(-1,e)}}else l(-1,"No Transport");function l(e,t,n,r){var i,o,a,s,u,l=t;h||(h=!0,d&&C.clearTimeout(d),c=void 0,p=r||"",T.readyState=0<e?4:0,i=200<=e&&e<300||304===e,n&&(s=function(e,t,n){var r,i,o,a,s=e.contents,u=e.dataTypes;while("*"===u[0])u.shift(),void 0===r&&(r=e.mimeType||t.getResponseHeader("Content-Type"));if(r)for(i in s)if(s[i]&&s[i].test(r)){u.unshift(i);break}if(u[0]in n)o=u[0];else{for(i in n){if(!u[0]||e.converters[i+" "+u[0]]){o=i;break}a||(a=i)}o=o||a}if(o)return o!==u[0]&&u.unshift(o),n[o]}(v,T,n)),!i&&-1<S.inArray("script",v.dataTypes)&&S.inArray("json",v.dataTypes)<0&&(v.converters["text script"]=function(){}),s=function(e,t,n,r){var i,o,a,s,u,l={},c=e.dataTypes.slice();if(c[1])for(a in e.converters)l[a.toLowerCase()]=e.converters[a];o=c.shift();while(o)if(e.responseFields[o]&&(n[e.responseFields[o]]=t),!u&&r&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),u=o,o=c.shift())if("*"===o)o=u;else if("*"!==u&&u!==o){if(!(a=l[u+" "+o]||l["* "+o]))for(i in l)if((s=i.split(" "))[1]===o&&(a=l[u+" "+s[0]]||l["* "+s[0]])){!0===a?a=l[i]:!0!==l[i]&&(o=s[0],c.unshift(s[1]));break}if(!0!==a)if(a&&e["throws"])t=a(t);else try{t=a(t)}catch(e){return{state:"parsererror",error:a?e:"No conversion from "+u+" to "+o}}}return{state:"success",data:t}}(v,s,T,i),i?(v.ifModified&&((u=T.getResponseHeader("Last-Modified"))&&(S.lastModified[f]=u),(u=T.getResponseHeader("etag"))&&(S.etag[f]=u)),204===e||"HEAD"===v.type?l="nocontent":304===e?l="notmodified":(l=s.state,o=s.data,i=!(a=s.error))):(a=l,!e&&l||(l="error",e<0&&(e=0))),T.status=e,T.statusText=(t||l)+"",i?x.resolveWith(y,[o,l,T]):x.rejectWith(y,[T,l,a]),T.statusCode(w),w=void 0,g&&m.trigger(i?"ajaxSuccess":"ajaxError",[T,v,i?o:a]),b.fireWith(y,[T,l]),g&&(m.trigger("ajaxComplete",[T,v]),--S.active||S.event.trigger("ajaxStop")))}return T},getJSON:function(e,t,n){return S.get(e,t,n,"json")},getScript:function(e,t){return S.get(e,void 0,t,"script")}}),S.each(["get","post"],function(e,i){S[i]=function(e,t,n,r){return m(t)&&(r=r||n,n=t,t=void 0),S.ajax(S.extend({url:e,type:i,dataType:r,data:t,success:n},S.isPlainObject(e)&&e))}}),S.ajaxPrefilter(function(e){var t;for(t in e.headers)"content-type"===t.toLowerCase()&&(e.contentType=e.headers[t]||"")}),S._evalUrl=function(e,t,n){return S.ajax({url:e,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,converters:{"text script":function(){}},dataFilter:function(e){S.globalEval(e,t,n)}})},S.fn.extend({wrapAll:function(e){var t;return this[0]&&(m(e)&&(e=e.call(this[0])),t=S(e,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){var e=this;while(e.firstElementChild)e=e.firstElementChild;return e}).append(this)),this},wrapInner:function(n){return m(n)?this.each(function(e){S(this).wrapInner(n.call(this,e))}):this.each(function(){var e=S(this),t=e.contents();t.length?t.wrapAll(n):e.append(n)})},wrap:function(t){var n=m(t);return this.each(function(e){S(this).wrapAll(n?t.call(this,e):t)})},unwrap:function(e){return this.parent(e).not("body").each(function(){S(this).replaceWith(this.childNodes)}),this}}),S.expr.pseudos.hidden=function(e){return!S.expr.pseudos.visible(e)},S.expr.pseudos.visible=function(e){return!!(e.offsetWidth||e.offsetHeight||e.getClientRects().length)},S.ajaxSettings.xhr=function(){try{return new C.XMLHttpRequest}catch(e){}};var Bt={0:200,1223:204},$t=S.ajaxSettings.xhr();y.cors=!!$t&&"withCredentials"in $t,y.ajax=$t=!!$t,S.ajaxTransport(function(i){var o,a;if(y.cors||$t&&!i.crossDomain)return{send:function(e,t){var n,r=i.xhr();if(r.open(i.type,i.url,i.async,i.username,i.password),i.xhrFields)for(n in i.xhrFields)r[n]=i.xhrFields[n];for(n in i.mimeType&&r.overrideMimeType&&r.overrideMimeType(i.mimeType),i.crossDomain||e["X-Requested-With"]||(e["X-Requested-With"]="XMLHttpRequest"),e)r.setRequestHeader(n,e[n]);o=function(e){return function(){o&&(o=a=r.onload=r.onerror=r.onabort=r.ontimeout=r.onreadystatechange=null,"abort"===e?r.abort():"error"===e?"number"!=typeof r.status?t(0,"error"):t(r.status,r.statusText):t(Bt[r.status]||r.status,r.statusText,"text"!==(r.responseType||"text")||"string"!=typeof r.responseText?{binary:r.response}:{text:r.responseText},r.getAllResponseHeaders()))}},r.onload=o(),a=r.onerror=r.ontimeout=o("error"),void 0!==r.onabort?r.onabort=a:r.onreadystatechange=function(){4===r.readyState&&C.setTimeout(function(){o&&a()})},o=o("abort");try{r.send(i.hasContent&&i.data||null)}catch(e){if(o)throw e}},abort:function(){o&&o()}}}),S.ajaxPrefilter(function(e){e.crossDomain&&(e.contents.script=!1)}),S.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(e){return S.globalEval(e),e}}}),S.ajaxPrefilter("script",function(e){void 0===e.cache&&(e.cache=!1),e.crossDomain&&(e.type="GET")}),S.ajaxTransport("script",function(n){var r,i;if(n.crossDomain||n.scriptAttrs)return{send:function(e,t){r=S("<script>").attr(n.scriptAttrs||{}).prop({charset:n.scriptCharset,src:n.url}).on("load error",i=function(e){r.remove(),i=null,e&&t("error"===e.type?404:200,e.type)}),E.head.appendChild(r[0])},abort:function(){i&&i()}}});var _t,zt=[],Ut=/(=)\?(?=&|$)|\?\?/;S.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=zt.pop()||S.expando+"_"+wt.guid++;return this[e]=!0,e}}),S.ajaxPrefilter("json jsonp",function(e,t,n){var r,i,o,a=!1!==e.jsonp&&(Ut.test(e.url)?"url":"string"==typeof e.data&&0===(e.contentType||"").indexOf("application/x-www-form-urlencoded")&&Ut.test(e.data)&&"data");if(a||"jsonp"===e.dataTypes[0])return r=e.jsonpCallback=m(e.jsonpCallback)?e.jsonpCallback():e.jsonpCallback,a?e[a]=e[a].replace(Ut,"$1"+r):!1!==e.jsonp&&(e.url+=(Tt.test(e.url)?"&":"?")+e.jsonp+"="+r),e.converters["script json"]=function(){return o||S.error(r+" was not called"),o[0]},e.dataTypes[0]="json",i=C[r],C[r]=function(){o=arguments},n.always(function(){void 0===i?S(C).removeProp(r):C[r]=i,e[r]&&(e.jsonpCallback=t.jsonpCallback,zt.push(r)),o&&m(i)&&i(o[0]),o=i=void 0}),"script"}),y.createHTMLDocument=((_t=E.implementation.createHTMLDocument("").body).innerHTML="<form></form><form></form>",2===_t.childNodes.length),S.parseHTML=function(e,t,n){return"string"!=typeof e?[]:("boolean"==typeof t&&(n=t,t=!1),t||(y.createHTMLDocument?((r=(t=E.implementation.createHTMLDocument("")).createElement("base")).href=E.location.href,t.head.appendChild(r)):t=E),o=!n&&[],(i=N.exec(e))?[t.createElement(i[1])]:(i=xe([e],t,o),o&&o.length&&S(o).remove(),S.merge([],i.childNodes)));var r,i,o},S.fn.load=function(e,t,n){var r,i,o,a=this,s=e.indexOf(" ");return-1<s&&(r=ht(e.slice(s)),e=e.slice(0,s)),m(t)?(n=t,t=void 0):t&&"object"==typeof t&&(i="POST"),0<a.length&&S.ajax({url:e,type:i||"GET",dataType:"html",data:t}).done(function(e){o=arguments,a.html(r?S("<div>").append(S.parseHTML(e)).find(r):e)}).always(n&&function(e,t){a.each(function(){n.apply(this,o||[e.responseText,t,e])})}),this},S.expr.pseudos.animated=function(t){return S.grep(S.timers,function(e){return t===e.elem}).length},S.offset={setOffset:function(e,t,n){var r,i,o,a,s,u,l=S.css(e,"position"),c=S(e),f={};"static"===l&&(e.style.position="relative"),s=c.offset(),o=S.css(e,"top"),u=S.css(e,"left"),("absolute"===l||"fixed"===l)&&-1<(o+u).indexOf("auto")?(a=(r=c.position()).top,i=r.left):(a=parseFloat(o)||0,i=parseFloat(u)||0),m(t)&&(t=t.call(e,n,S.extend({},s))),null!=t.top&&(f.top=t.top-s.top+a),null!=t.left&&(f.left=t.left-s.left+i),"using"in t?t.using.call(e,f):c.css(f)}},S.fn.extend({offset:function(t){if(arguments.length)return void 0===t?this:this.each(function(e){S.offset.setOffset(this,t,e)});var e,n,r=this[0];return r?r.getClientRects().length?(e=r.getBoundingClientRect(),n=r.ownerDocument.defaultView,{top:e.top+n.pageYOffset,left:e.left+n.pageXOffset}):{top:0,left:0}:void 0},position:function(){if(this[0]){var e,t,n,r=this[0],i={top:0,left:0};if("fixed"===S.css(r,"position"))t=r.getBoundingClientRect();else{t=this.offset(),n=r.ownerDocument,e=r.offsetParent||n.documentElement;while(e&&(e===n.body||e===n.documentElement)&&"static"===S.css(e,"position"))e=e.parentNode;e&&e!==r&&1===e.nodeType&&((i=S(e).offset()).top+=S.css(e,"borderTopWidth",!0),i.left+=S.css(e,"borderLeftWidth",!0))}return{top:t.top-i.top-S.css(r,"marginTop",!0),left:t.left-i.left-S.css(r,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){var e=this.offsetParent;while(e&&"static"===S.css(e,"position"))e=e.offsetParent;return e||re})}}),S.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(t,i){var o="pageYOffset"===i;S.fn[t]=function(e){return $(this,function(e,t,n){var r;if(x(e)?r=e:9===e.nodeType&&(r=e.defaultView),void 0===n)return r?r[i]:e[t];r?r.scrollTo(o?r.pageXOffset:n,o?n:r.pageYOffset):e[t]=n},t,e,arguments.length)}}),S.each(["top","left"],function(e,n){S.cssHooks[n]=Fe(y.pixelPosition,function(e,t){if(t)return t=We(e,n),Pe.test(t)?S(e).position()[n]+"px":t})}),S.each({Height:"height",Width:"width"},function(a,s){S.each({padding:"inner"+a,content:s,"":"outer"+a},function(r,o){S.fn[o]=function(e,t){var n=arguments.length&&(r||"boolean"!=typeof e),i=r||(!0===e||!0===t?"margin":"border");return $(this,function(e,t,n){var r;return x(e)?0===o.indexOf("outer")?e["inner"+a]:e.document.documentElement["client"+a]:9===e.nodeType?(r=e.documentElement,Math.max(e.body["scroll"+a],r["scroll"+a],e.body["offset"+a],r["offset"+a],r["client"+a])):void 0===n?S.css(e,t,i):S.style(e,t,n,i)},s,n?e:void 0,n)}})}),S.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(e,t){S.fn[t]=function(e){return this.on(t,e)}}),S.fn.extend({bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,n,r){return this.on(t,e,n,r)},undelegate:function(e,t,n){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",n)},hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)}}),S.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(e,n){S.fn[n]=function(e,t){return 0<arguments.length?this.on(n,null,e,t):this.trigger(n)}});var Xt=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g;S.proxy=function(e,t){var n,r,i;if("string"==typeof t&&(n=e[t],t=e,e=n),m(e))return r=s.call(arguments,2),(i=function(){return e.apply(t||this,r.concat(s.call(arguments)))}).guid=e.guid=e.guid||S.guid++,i},S.holdReady=function(e){e?S.readyWait++:S.ready(!0)},S.isArray=Array.isArray,S.parseJSON=JSON.parse,S.nodeName=A,S.isFunction=m,S.isWindow=x,S.camelCase=X,S.type=w,S.now=Date.now,S.isNumeric=function(e){var t=S.type(e);return("number"===t||"string"===t)&&!isNaN(e-parseFloat(e))},S.trim=function(e){return null==e?"":(e+"").replace(Xt,"")},"function"==typeof define&&define.amd&&define("jquery",[],function(){return S});var Vt=C.jQuery,Gt=C.$;return S.noConflict=function(e){return C.$===S&&(C.$=Gt),e&&C.jQuery===S&&(C.jQuery=Vt),S},"undefined"==typeof e&&(C.jQuery=C.$=S),S});
</script><script type="text/javascript">/*! jQuery UI - v1.13.1 - 2022-01-20
* http://jqueryui.com
* Includes: widget.js, position.js, data.js, disable-selection.js, effect.js, effects/effect-blind.js, effects/effect-bounce.js, effects/effect-clip.js, effects/effect-drop.js, effects/effect-explode.js, effects/effect-fade.js, effects/effect-fold.js, effects/effect-highlight.js, effects/effect-puff.js, effects/effect-pulsate.js, effects/effect-scale.js, effects/effect-shake.js, effects/effect-size.js, effects/effect-slide.js, effects/effect-transfer.js, focusable.js, form-reset-mixin.js, jquery-patch.js, keycode.js, labels.js, scroll-parent.js, tabbable.js, unique-id.js, widgets/accordion.js, widgets/autocomplete.js, widgets/button.js, widgets/checkboxradio.js, widgets/controlgroup.js, widgets/datepicker.js, widgets/dialog.js, widgets/draggable.js, widgets/droppable.js, widgets/menu.js, widgets/mouse.js, widgets/progressbar.js, widgets/resizable.js, widgets/selectable.js, widgets/selectmenu.js, widgets/slider.js, widgets/sortable.js, widgets/spinner.js, widgets/tabs.js, widgets/tooltip.js
* Copyright jQuery Foundation and other contributors; Licensed MIT */

!function(t){"use strict";"function"==typeof define&&define.amd?define(["jquery"],t):t(jQuery)}(function(V){"use strict";V.ui=V.ui||{};V.ui.version="1.13.1";var n,i=0,a=Array.prototype.hasOwnProperty,r=Array.prototype.slice;V.cleanData=(n=V.cleanData,function(t){for(var e,i,s=0;null!=(i=t[s]);s++)(e=V._data(i,"events"))&&e.remove&&V(i).triggerHandler("remove");n(t)}),V.widget=function(t,i,e){var s,n,o,a={},r=t.split(".")[0],l=r+"-"+(t=t.split(".")[1]);return e||(e=i,i=V.Widget),Array.isArray(e)&&(e=V.extend.apply(null,[{}].concat(e))),V.expr.pseudos[l.toLowerCase()]=function(t){return!!V.data(t,l)},V[r]=V[r]||{},s=V[r][t],n=V[r][t]=function(t,e){if(!this||!this._createWidget)return new n(t,e);arguments.length&&this._createWidget(t,e)},V.extend(n,s,{version:e.version,_proto:V.extend({},e),_childConstructors:[]}),(o=new i).options=V.widget.extend({},o.options),V.each(e,function(e,s){function n(){return i.prototype[e].apply(this,arguments)}function o(t){return i.prototype[e].apply(this,t)}a[e]="function"==typeof s?function(){var t,e=this._super,i=this._superApply;return this._super=n,this._superApply=o,t=s.apply(this,arguments),this._super=e,this._superApply=i,t}:s}),n.prototype=V.widget.extend(o,{widgetEventPrefix:s&&o.widgetEventPrefix||t},a,{constructor:n,namespace:r,widgetName:t,widgetFullName:l}),s?(V.each(s._childConstructors,function(t,e){var i=e.prototype;V.widget(i.namespace+"."+i.widgetName,n,e._proto)}),delete s._childConstructors):i._childConstructors.push(n),V.widget.bridge(t,n),n},V.widget.extend=function(t){for(var e,i,s=r.call(arguments,1),n=0,o=s.length;n<o;n++)for(e in s[n])i=s[n][e],a.call(s[n],e)&&void 0!==i&&(V.isPlainObject(i)?t[e]=V.isPlainObject(t[e])?V.widget.extend({},t[e],i):V.widget.extend({},i):t[e]=i);return t},V.widget.bridge=function(o,e){var a=e.prototype.widgetFullName||o;V.fn[o]=function(i){var t="string"==typeof i,s=r.call(arguments,1),n=this;return t?this.length||"instance"!==i?this.each(function(){var t,e=V.data(this,a);return"instance"===i?(n=e,!1):e?"function"!=typeof e[i]||"_"===i.charAt(0)?V.error("no such method '"+i+"' for "+o+" widget instance"):(t=e[i].apply(e,s))!==e&&void 0!==t?(n=t&&t.jquery?n.pushStack(t.get()):t,!1):void 0:V.error("cannot call methods on "+o+" prior to initialization; attempted to call method '"+i+"'")}):n=void 0:(s.length&&(i=V.widget.extend.apply(null,[i].concat(s))),this.each(function(){var t=V.data(this,a);t?(t.option(i||{}),t._init&&t._init()):V.data(this,a,new e(i,this))})),n}},V.Widget=function(){},V.Widget._childConstructors=[],V.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{classes:{},disabled:!1,create:null},_createWidget:function(t,e){e=V(e||this.defaultElement||this)[0],this.element=V(e),this.uuid=i++,this.eventNamespace="."+this.widgetName+this.uuid,this.bindings=V(),this.hoverable=V(),this.focusable=V(),this.classesElementLookup={},e!==this&&(V.data(e,this.widgetFullName,this),this._on(!0,this.element,{remove:function(t){t.target===e&&this.destroy()}}),this.document=V(e.style?e.ownerDocument:e.document||e),this.window=V(this.document[0].defaultView||this.document[0].parentWindow)),this.options=V.widget.extend({},this.options,this._getCreateOptions(),t),this._create(),this.options.disabled&&this._setOptionDisabled(this.options.disabled),this._trigger("create",null,this._getCreateEventData()),this._init()},_getCreateOptions:function(){return{}},_getCreateEventData:V.noop,_create:V.noop,_init:V.noop,destroy:function(){var i=this;this._destroy(),V.each(this.classesElementLookup,function(t,e){i._removeClass(e,t)}),this.element.off(this.eventNamespace).removeData(this.widgetFullName),this.widget().off(this.eventNamespace).removeAttr("aria-disabled"),this.bindings.off(this.eventNamespace)},_destroy:V.noop,widget:function(){return this.element},option:function(t,e){var i,s,n,o=t;if(0===arguments.length)return V.widget.extend({},this.options);if("string"==typeof t)if(o={},t=(i=t.split(".")).shift(),i.length){for(s=o[t]=V.widget.extend({},this.options[t]),n=0;n<i.length-1;n++)s[i[n]]=s[i[n]]||{},s=s[i[n]];if(t=i.pop(),1===arguments.length)return void 0===s[t]?null:s[t];s[t]=e}else{if(1===arguments.length)return void 0===this.options[t]?null:this.options[t];o[t]=e}return this._setOptions(o),this},_setOptions:function(t){for(var e in t)this._setOption(e,t[e]);return this},_setOption:function(t,e){return"classes"===t&&this._setOptionClasses(e),this.options[t]=e,"disabled"===t&&this._setOptionDisabled(e),this},_setOptionClasses:function(t){var e,i,s;for(e in t)s=this.classesElementLookup[e],t[e]!==this.options.classes[e]&&s&&s.length&&(i=V(s.get()),this._removeClass(s,e),i.addClass(this._classes({element:i,keys:e,classes:t,add:!0})))},_setOptionDisabled:function(t){this._toggleClass(this.widget(),this.widgetFullName+"-disabled",null,!!t),t&&(this._removeClass(this.hoverable,null,"ui-state-hover"),this._removeClass(this.focusable,null,"ui-state-focus"))},enable:function(){return this._setOptions({disabled:!1})},disable:function(){return this._setOptions({disabled:!0})},_classes:function(n){var o=[],a=this;function t(t,e){for(var i,s=0;s<t.length;s++)i=a.classesElementLookup[t[s]]||V(),i=n.add?(function(){var i=[];n.element.each(function(t,e){V.map(a.classesElementLookup,function(t){return t}).some(function(t){return t.is(e)})||i.push(e)}),a._on(V(i),{remove:"_untrackClassesElement"})}(),V(V.uniqueSort(i.get().concat(n.element.get())))):V(i.not(n.element).get()),a.classesElementLookup[t[s]]=i,o.push(t[s]),e&&n.classes[t[s]]&&o.push(n.classes[t[s]])}return(n=V.extend({element:this.element,classes:this.options.classes||{}},n)).keys&&t(n.keys.match(/\S+/g)||[],!0),n.extra&&t(n.extra.match(/\S+/g)||[]),o.join(" ")},_untrackClassesElement:function(i){var s=this;V.each(s.classesElementLookup,function(t,e){-1!==V.inArray(i.target,e)&&(s.classesElementLookup[t]=V(e.not(i.target).get()))}),this._off(V(i.target))},_removeClass:function(t,e,i){return this._toggleClass(t,e,i,!1)},_addClass:function(t,e,i){return this._toggleClass(t,e,i,!0)},_toggleClass:function(t,e,i,s){var n="string"==typeof t||null===t,i={extra:n?e:i,keys:n?t:e,element:n?this.element:t,add:s="boolean"==typeof s?s:i};return i.element.toggleClass(this._classes(i),s),this},_on:function(n,o,t){var a,r=this;"boolean"!=typeof n&&(t=o,o=n,n=!1),t?(o=a=V(o),this.bindings=this.bindings.add(o)):(t=o,o=this.element,a=this.widget()),V.each(t,function(t,e){function i(){if(n||!0!==r.options.disabled&&!V(this).hasClass("ui-state-disabled"))return("string"==typeof e?r[e]:e).apply(r,arguments)}"string"!=typeof e&&(i.guid=e.guid=e.guid||i.guid||V.guid++);var s=t.match(/^([\w:-]*)\s*(.*)$/),t=s[1]+r.eventNamespace,s=s[2];s?a.on(t,s,i):o.on(t,i)})},_off:function(t,e){e=(e||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace,t.off(e),this.bindings=V(this.bindings.not(t).get()),this.focusable=V(this.focusable.not(t).get()),this.hoverable=V(this.hoverable.not(t).get())},_delay:function(t,e){var i=this;return setTimeout(function(){return("string"==typeof t?i[t]:t).apply(i,arguments)},e||0)},_hoverable:function(t){this.hoverable=this.hoverable.add(t),this._on(t,{mouseenter:function(t){this._addClass(V(t.currentTarget),null,"ui-state-hover")},mouseleave:function(t){this._removeClass(V(t.currentTarget),null,"ui-state-hover")}})},_focusable:function(t){this.focusable=this.focusable.add(t),this._on(t,{focusin:function(t){this._addClass(V(t.currentTarget),null,"ui-state-focus")},focusout:function(t){this._removeClass(V(t.currentTarget),null,"ui-state-focus")}})},_trigger:function(t,e,i){var s,n,o=this.options[t];if(i=i||{},(e=V.Event(e)).type=(t===this.widgetEventPrefix?t:this.widgetEventPrefix+t).toLowerCase(),e.target=this.element[0],n=e.originalEvent)for(s in n)s in e||(e[s]=n[s]);return this.element.trigger(e,i),!("function"==typeof o&&!1===o.apply(this.element[0],[e].concat(i))||e.isDefaultPrevented())}},V.each({show:"fadeIn",hide:"fadeOut"},function(o,a){V.Widget.prototype["_"+o]=function(e,t,i){var s,n=(t="string"==typeof t?{effect:t}:t)?!0!==t&&"number"!=typeof t&&t.effect||a:o;"number"==typeof(t=t||{})?t={duration:t}:!0===t&&(t={}),s=!V.isEmptyObject(t),t.complete=i,t.delay&&e.delay(t.delay),s&&V.effects&&V.effects.effect[n]?e[o](t):n!==o&&e[n]?e[n](t.duration,t.easing,i):e.queue(function(t){V(this)[o](),i&&i.call(e[0]),t()})}});var s,x,k,o,l,h,c,u,C;V.widget;function D(t,e,i){return[parseFloat(t[0])*(u.test(t[0])?e/100:1),parseFloat(t[1])*(u.test(t[1])?i/100:1)]}function I(t,e){return parseInt(V.css(t,e),10)||0}function T(t){return null!=t&&t===t.window}x=Math.max,k=Math.abs,o=/left|center|right/,l=/top|center|bottom/,h=/[\+\-]\d+(\.[\d]+)?%?/,c=/^\w+/,u=/%$/,C=V.fn.position,V.position={scrollbarWidth:function(){if(void 0!==s)return s;var t,e=V("<div style='display:block;position:absolute;width:200px;height:200px;overflow:hidden;'><div style='height:300px;width:auto;'></div></div>"),i=e.children()[0];return V("body").append(e),t=i.offsetWidth,e.css("overflow","scroll"),t===(i=i.offsetWidth)&&(i=e[0].clientWidth),e.remove(),s=t-i},getScrollInfo:function(t){var e=t.isWindow||t.isDocument?"":t.element.css("overflow-x"),i=t.isWindow||t.isDocument?"":t.element.css("overflow-y"),e="scroll"===e||"auto"===e&&t.width<t.element[0].scrollWidth;return{width:"scroll"===i||"auto"===i&&t.height<t.element[0].scrollHeight?V.position.scrollbarWidth():0,height:e?V.position.scrollbarWidth():0}},getWithinInfo:function(t){var e=V(t||window),i=T(e[0]),s=!!e[0]&&9===e[0].nodeType;return{element:e,isWindow:i,isDocument:s,offset:!i&&!s?V(t).offset():{left:0,top:0},scrollLeft:e.scrollLeft(),scrollTop:e.scrollTop(),width:e.outerWidth(),height:e.outerHeight()}}},V.fn.position=function(u){if(!u||!u.of)return C.apply(this,arguments);var d,p,f,g,m,t,_="string"==typeof(u=V.extend({},u)).of?V(document).find(u.of):V(u.of),v=V.position.getWithinInfo(u.within),b=V.position.getScrollInfo(v),y=(u.collision||"flip").split(" "),w={},e=9===(t=(e=_)[0]).nodeType?{width:e.width(),height:e.height(),offset:{top:0,left:0}}:T(t)?{width:e.width(),height:e.height(),offset:{top:e.scrollTop(),left:e.scrollLeft()}}:t.preventDefault?{width:0,height:0,offset:{top:t.pageY,left:t.pageX}}:{width:e.outerWidth(),height:e.outerHeight(),offset:e.offset()};return _[0].preventDefault&&(u.at="left top"),p=e.width,f=e.height,m=V.extend({},g=e.offset),V.each(["my","at"],function(){var t,e,i=(u[this]||"").split(" ");(i=1===i.length?o.test(i[0])?i.concat(["center"]):l.test(i[0])?["center"].concat(i):["center","center"]:i)[0]=o.test(i[0])?i[0]:"center",i[1]=l.test(i[1])?i[1]:"center",t=h.exec(i[0]),e=h.exec(i[1]),w[this]=[t?t[0]:0,e?e[0]:0],u[this]=[c.exec(i[0])[0],c.exec(i[1])[0]]}),1===y.length&&(y[1]=y[0]),"right"===u.at[0]?m.left+=p:"center"===u.at[0]&&(m.left+=p/2),"bottom"===u.at[1]?m.top+=f:"center"===u.at[1]&&(m.top+=f/2),d=D(w.at,p,f),m.left+=d[0],m.top+=d[1],this.each(function(){var i,t,a=V(this),r=a.outerWidth(),l=a.outerHeight(),e=I(this,"marginLeft"),s=I(this,"marginTop"),n=r+e+I(this,"marginRight")+b.width,o=l+s+I(this,"marginBottom")+b.height,h=V.extend({},m),c=D(w.my,a.outerWidth(),a.outerHeight());"right"===u.my[0]?h.left-=r:"center"===u.my[0]&&(h.left-=r/2),"bottom"===u.my[1]?h.top-=l:"center"===u.my[1]&&(h.top-=l/2),h.left+=c[0],h.top+=c[1],i={marginLeft:e,marginTop:s},V.each(["left","top"],function(t,e){V.ui.position[y[t]]&&V.ui.position[y[t]][e](h,{targetWidth:p,targetHeight:f,elemWidth:r,elemHeight:l,collisionPosition:i,collisionWidth:n,collisionHeight:o,offset:[d[0]+c[0],d[1]+c[1]],my:u.my,at:u.at,within:v,elem:a})}),u.using&&(t=function(t){var e=g.left-h.left,i=e+p-r,s=g.top-h.top,n=s+f-l,o={target:{element:_,left:g.left,top:g.top,width:p,height:f},element:{element:a,left:h.left,top:h.top,width:r,height:l},horizontal:i<0?"left":0<e?"right":"center",vertical:n<0?"top":0<s?"bottom":"middle"};p<r&&k(e+i)<p&&(o.horizontal="center"),f<l&&k(s+n)<f&&(o.vertical="middle"),x(k(e),k(i))>x(k(s),k(n))?o.important="horizontal":o.important="vertical",u.using.call(this,t,o)}),a.offset(V.extend(h,{using:t}))})},V.ui.position={fit:{left:function(t,e){var i=e.within,s=i.isWindow?i.scrollLeft:i.offset.left,n=i.width,o=t.left-e.collisionPosition.marginLeft,a=s-o,r=o+e.collisionWidth-n-s;e.collisionWidth>n?0<a&&r<=0?(i=t.left+a+e.collisionWidth-n-s,t.left+=a-i):t.left=!(0<r&&a<=0)&&r<a?s+n-e.collisionWidth:s:0<a?t.left+=a:0<r?t.left-=r:t.left=x(t.left-o,t.left)},top:function(t,e){var i=e.within,s=i.isWindow?i.scrollTop:i.offset.top,n=e.within.height,o=t.top-e.collisionPosition.marginTop,a=s-o,r=o+e.collisionHeight-n-s;e.collisionHeight>n?0<a&&r<=0?(i=t.top+a+e.collisionHeight-n-s,t.top+=a-i):t.top=!(0<r&&a<=0)&&r<a?s+n-e.collisionHeight:s:0<a?t.top+=a:0<r?t.top-=r:t.top=x(t.top-o,t.top)}},flip:{left:function(t,e){var i=e.within,s=i.offset.left+i.scrollLeft,n=i.width,o=i.isWindow?i.scrollLeft:i.offset.left,a=t.left-e.collisionPosition.marginLeft,r=a-o,l=a+e.collisionWidth-n-o,h="left"===e.my[0]?-e.elemWidth:"right"===e.my[0]?e.elemWidth:0,i="left"===e.at[0]?e.targetWidth:"right"===e.at[0]?-e.targetWidth:0,a=-2*e.offset[0];r<0?((s=t.left+h+i+a+e.collisionWidth-n-s)<0||s<k(r))&&(t.left+=h+i+a):0<l&&(0<(o=t.left-e.collisionPosition.marginLeft+h+i+a-o)||k(o)<l)&&(t.left+=h+i+a)},top:function(t,e){var i=e.within,s=i.offset.top+i.scrollTop,n=i.height,o=i.isWindow?i.scrollTop:i.offset.top,a=t.top-e.collisionPosition.marginTop,r=a-o,l=a+e.collisionHeight-n-o,h="top"===e.my[1]?-e.elemHeight:"bottom"===e.my[1]?e.elemHeight:0,i="top"===e.at[1]?e.targetHeight:"bottom"===e.at[1]?-e.targetHeight:0,a=-2*e.offset[1];r<0?((s=t.top+h+i+a+e.collisionHeight-n-s)<0||s<k(r))&&(t.top+=h+i+a):0<l&&(0<(o=t.top-e.collisionPosition.marginTop+h+i+a-o)||k(o)<l)&&(t.top+=h+i+a)}},flipfit:{left:function(){V.ui.position.flip.left.apply(this,arguments),V.ui.position.fit.left.apply(this,arguments)},top:function(){V.ui.position.flip.top.apply(this,arguments),V.ui.position.fit.top.apply(this,arguments)}}};V.ui.position,V.extend(V.expr.pseudos,{data:V.expr.createPseudo?V.expr.createPseudo(function(e){return function(t){return!!V.data(t,e)}}):function(t,e,i){return!!V.data(t,i[3])}}),V.fn.extend({disableSelection:(t="onselectstart"in document.createElement("div")?"selectstart":"mousedown",function(){return this.on(t+".ui-disableSelection",function(t){t.preventDefault()})}),enableSelection:function(){return this.off(".ui-disableSelection")}});var t,d=V,p={},e=p.toString,f=/^([\-+])=\s*(\d+\.?\d*)/,g=[{re:/rgba?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(t){return[t[1],t[2],t[3],t[4]]}},{re:/rgba?\(\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(t){return[2.55*t[1],2.55*t[2],2.55*t[3],t[4]]}},{re:/#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})?/,parse:function(t){return[parseInt(t[1],16),parseInt(t[2],16),parseInt(t[3],16),t[4]?(parseInt(t[4],16)/255).toFixed(2):1]}},{re:/#([a-f0-9])([a-f0-9])([a-f0-9])([a-f0-9])?/,parse:function(t){return[parseInt(t[1]+t[1],16),parseInt(t[2]+t[2],16),parseInt(t[3]+t[3],16),t[4]?(parseInt(t[4]+t[4],16)/255).toFixed(2):1]}},{re:/hsla?\(\s*(\d+(?:\.\d+)?)\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,space:"hsla",parse:function(t){return[t[1],t[2]/100,t[3]/100,t[4]]}}],m=d.Color=function(t,e,i,s){return new d.Color.fn.parse(t,e,i,s)},_={rgba:{props:{red:{idx:0,type:"byte"},green:{idx:1,type:"byte"},blue:{idx:2,type:"byte"}}},hsla:{props:{hue:{idx:0,type:"degrees"},saturation:{idx:1,type:"percent"},lightness:{idx:2,type:"percent"}}}},v={byte:{floor:!0,max:255},percent:{max:1},degrees:{mod:360,floor:!0}},b=m.support={},y=d("<p>")[0],w=d.each;function P(t){return null==t?t+"":"object"==typeof t?p[e.call(t)]||"object":typeof t}function M(t,e,i){var s=v[e.type]||{};return null==t?i||!e.def?null:e.def:(t=s.floor?~~t:parseFloat(t),isNaN(t)?e.def:s.mod?(t+s.mod)%s.mod:Math.min(s.max,Math.max(0,t)))}function S(s){var n=m(),o=n._rgba=[];return s=s.toLowerCase(),w(g,function(t,e){var i=e.re.exec(s),i=i&&e.parse(i),e=e.space||"rgba";if(i)return i=n[e](i),n[_[e].cache]=i[_[e].cache],o=n._rgba=i._rgba,!1}),o.length?("0,0,0,0"===o.join()&&d.extend(o,B.transparent),n):B[s]}function H(t,e,i){return 6*(i=(i+1)%1)<1?t+(e-t)*i*6:2*i<1?e:3*i<2?t+(e-t)*(2/3-i)*6:t}y.style.cssText="background-color:rgba(1,1,1,.5)",b.rgba=-1<y.style.backgroundColor.indexOf("rgba"),w(_,function(t,e){e.cache="_"+t,e.props.alpha={idx:3,type:"percent",def:1}}),d.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(t,e){p["[object "+e+"]"]=e.toLowerCase()}),(m.fn=d.extend(m.prototype,{parse:function(n,t,e,i){if(void 0===n)return this._rgba=[null,null,null,null],this;(n.jquery||n.nodeType)&&(n=d(n).css(t),t=void 0);var o=this,s=P(n),a=this._rgba=[];return void 0!==t&&(n=[n,t,e,i],s="array"),"string"===s?this.parse(S(n)||B._default):"array"===s?(w(_.rgba.props,function(t,e){a[e.idx]=M(n[e.idx],e)}),this):"object"===s?(w(_,n instanceof m?function(t,e){n[e.cache]&&(o[e.cache]=n[e.cache].slice())}:function(t,i){var s=i.cache;w(i.props,function(t,e){if(!o[s]&&i.to){if("alpha"===t||null==n[t])return;o[s]=i.to(o._rgba)}o[s][e.idx]=M(n[t],e,!0)}),o[s]&&d.inArray(null,o[s].slice(0,3))<0&&(null==o[s][3]&&(o[s][3]=1),i.from&&(o._rgba=i.from(o[s])))}),this):void 0},is:function(t){var n=m(t),o=!0,a=this;return w(_,function(t,e){var i,s=n[e.cache];return s&&(i=a[e.cache]||e.to&&e.to(a._rgba)||[],w(e.props,function(t,e){if(null!=s[e.idx])return o=s[e.idx]===i[e.idx]})),o}),o},_space:function(){var i=[],s=this;return w(_,function(t,e){s[e.cache]&&i.push(t)}),i.pop()},transition:function(t,a){var e=(h=m(t))._space(),i=_[e],t=0===this.alpha()?m("transparent"):this,r=t[i.cache]||i.to(t._rgba),l=r.slice(),h=h[i.cache];return w(i.props,function(t,e){var i=e.idx,s=r[i],n=h[i],o=v[e.type]||{};null!==n&&(null===s?l[i]=n:(o.mod&&(n-s>o.mod/2?s+=o.mod:s-n>o.mod/2&&(s-=o.mod)),l[i]=M((n-s)*a+s,e)))}),this[e](l)},blend:function(t){if(1===this._rgba[3])return this;var e=this._rgba.slice(),i=e.pop(),s=m(t)._rgba;return m(d.map(e,function(t,e){return(1-i)*s[e]+i*t}))},toRgbaString:function(){var t="rgba(",e=d.map(this._rgba,function(t,e){return null!=t?t:2<e?1:0});return 1===e[3]&&(e.pop(),t="rgb("),t+e.join()+")"},toHslaString:function(){var t="hsla(",e=d.map(this.hsla(),function(t,e){return null==t&&(t=2<e?1:0),t=e&&e<3?Math.round(100*t)+"%":t});return 1===e[3]&&(e.pop(),t="hsl("),t+e.join()+")"},toHexString:function(t){var e=this._rgba.slice(),i=e.pop();return t&&e.push(~~(255*i)),"#"+d.map(e,function(t){return 1===(t=(t||0).toString(16)).length?"0"+t:t}).join("")},toString:function(){return 0===this._rgba[3]?"transparent":this.toRgbaString()}})).parse.prototype=m.fn,_.hsla.to=function(t){if(null==t[0]||null==t[1]||null==t[2])return[null,null,null,t[3]];var e=t[0]/255,i=t[1]/255,s=t[2]/255,n=t[3],o=Math.max(e,i,s),a=Math.min(e,i,s),r=o-a,l=o+a,t=.5*l,i=a===o?0:e===o?60*(i-s)/r+360:i===o?60*(s-e)/r+120:60*(e-i)/r+240,l=0==r?0:t<=.5?r/l:r/(2-l);return[Math.round(i)%360,l,t,null==n?1:n]},_.hsla.from=function(t){if(null==t[0]||null==t[1]||null==t[2])return[null,null,null,t[3]];var e=t[0]/360,i=t[1],s=t[2],t=t[3],i=s<=.5?s*(1+i):s+i-s*i,s=2*s-i;return[Math.round(255*H(s,i,e+1/3)),Math.round(255*H(s,i,e)),Math.round(255*H(s,i,e-1/3)),t]},w(_,function(l,t){var e=t.props,o=t.cache,a=t.to,r=t.from;m.fn[l]=function(t){if(a&&!this[o]&&(this[o]=a(this._rgba)),void 0===t)return this[o].slice();var i=P(t),s="array"===i||"object"===i?t:arguments,n=this[o].slice();return w(e,function(t,e){t=s["object"===i?t:e.idx];null==t&&(t=n[e.idx]),n[e.idx]=M(t,e)}),r?((t=m(r(n)))[o]=n,t):m(n)},w(e,function(a,r){m.fn[a]||(m.fn[a]=function(t){var e,i=P(t),s="alpha"===a?this._hsla?"hsla":"rgba":l,n=this[s](),o=n[r.idx];return"undefined"===i?o:("function"===i&&(i=P(t=t.call(this,o))),null==t&&r.empty?this:("string"===i&&(e=f.exec(t))&&(t=o+parseFloat(e[2])*("+"===e[1]?1:-1)),n[r.idx]=t,this[s](n)))})})}),(m.hook=function(t){t=t.split(" ");w(t,function(t,o){d.cssHooks[o]={set:function(t,e){var i,s,n="";if("transparent"!==e&&("string"!==P(e)||(i=S(e)))){if(e=m(i||e),!b.rgba&&1!==e._rgba[3]){for(s="backgroundColor"===o?t.parentNode:t;(""===n||"transparent"===n)&&s&&s.style;)try{n=d.css(s,"backgroundColor"),s=s.parentNode}catch(t){}e=e.blend(n&&"transparent"!==n?n:"_default")}e=e.toRgbaString()}try{t.style[o]=e}catch(t){}}},d.fx.step[o]=function(t){t.colorInit||(t.start=m(t.elem,o),t.end=m(t.end),t.colorInit=!0),d.cssHooks[o].set(t.elem,t.start.transition(t.end,t.pos))}})})("backgroundColor borderBottomColor borderLeftColor borderRightColor borderTopColor color columnRuleColor outlineColor textDecorationColor textEmphasisColor"),d.cssHooks.borderColor={expand:function(i){var s={};return w(["Top","Right","Bottom","Left"],function(t,e){s["border"+e+"Color"]=i}),s}};var z,A,O,N,E,W,F,L,R,Y,B=d.Color.names={aqua:"#00ffff",black:"#000000",blue:"#0000ff",fuchsia:"#ff00ff",gray:"#808080",green:"#008000",lime:"#00ff00",maroon:"#800000",navy:"#000080",olive:"#808000",purple:"#800080",red:"#ff0000",silver:"#c0c0c0",teal:"#008080",white:"#ffffff",yellow:"#ffff00",transparent:[null,null,null,0],_default:"#ffffff"},j="ui-effects-",q="ui-effects-style",K="ui-effects-animated";function U(t){var e,i,s=t.ownerDocument.defaultView?t.ownerDocument.defaultView.getComputedStyle(t,null):t.currentStyle,n={};if(s&&s.length&&s[0]&&s[s[0]])for(i=s.length;i--;)"string"==typeof s[e=s[i]]&&(n[e.replace(/-([\da-z])/gi,function(t,e){return e.toUpperCase()})]=s[e]);else for(e in s)"string"==typeof s[e]&&(n[e]=s[e]);return n}function X(t,e,i,s){return t={effect:t=V.isPlainObject(t)?(e=t).effect:t},"function"==typeof(e=null==e?{}:e)&&(s=e,i=null,e={}),"number"!=typeof e&&!V.fx.speeds[e]||(s=i,i=e,e={}),"function"==typeof i&&(s=i,i=null),e&&V.extend(t,e),i=i||e.duration,t.duration=V.fx.off?0:"number"==typeof i?i:i in V.fx.speeds?V.fx.speeds[i]:V.fx.speeds._default,t.complete=s||e.complete,t}function $(t){return!t||"number"==typeof t||V.fx.speeds[t]||("string"==typeof t&&!V.effects.effect[t]||("function"==typeof t||"object"==typeof t&&!t.effect))}function G(t,e){var i=e.outerWidth(),e=e.outerHeight(),t=/^rect\((-?\d*\.?\d*px|-?\d+%|auto),?\s*(-?\d*\.?\d*px|-?\d+%|auto),?\s*(-?\d*\.?\d*px|-?\d+%|auto),?\s*(-?\d*\.?\d*px|-?\d+%|auto)\)$/.exec(t)||["",0,i,e,0];return{top:parseFloat(t[1])||0,right:"auto"===t[2]?i:parseFloat(t[2]),bottom:"auto"===t[3]?e:parseFloat(t[3]),left:parseFloat(t[4])||0}}V.effects={effect:{}},N=["add","remove","toggle"],E={border:1,borderBottom:1,borderColor:1,borderLeft:1,borderRight:1,borderTop:1,borderWidth:1,margin:1,padding:1},V.each(["borderLeftStyle","borderRightStyle","borderBottomStyle","borderTopStyle"],function(t,e){V.fx.step[e]=function(t){("none"!==t.end&&!t.setAttr||1===t.pos&&!t.setAttr)&&(d.style(t.elem,e,t.end),t.setAttr=!0)}}),V.fn.addBack||(V.fn.addBack=function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))}),V.effects.animateClass=function(n,t,e,i){var o=V.speed(t,e,i);return this.queue(function(){var i=V(this),t=i.attr("class")||"",e=(e=o.children?i.find("*").addBack():i).map(function(){return{el:V(this),start:U(this)}}),s=function(){V.each(N,function(t,e){n[e]&&i[e+"Class"](n[e])})};s(),e=e.map(function(){return this.end=U(this.el[0]),this.diff=function(t,e){var i,s,n={};for(i in e)s=e[i],t[i]!==s&&(E[i]||!V.fx.step[i]&&isNaN(parseFloat(s))||(n[i]=s));return n}(this.start,this.end),this}),i.attr("class",t),e=e.map(function(){var t=this,e=V.Deferred(),i=V.extend({},o,{queue:!1,complete:function(){e.resolve(t)}});return this.el.animate(this.diff,i),e.promise()}),V.when.apply(V,e.get()).done(function(){s(),V.each(arguments,function(){var e=this.el;V.each(this.diff,function(t){e.css(t,"")})}),o.complete.call(i[0])})})},V.fn.extend({addClass:(O=V.fn.addClass,function(t,e,i,s){return e?V.effects.animateClass.call(this,{add:t},e,i,s):O.apply(this,arguments)}),removeClass:(A=V.fn.removeClass,function(t,e,i,s){return 1<arguments.length?V.effects.animateClass.call(this,{remove:t},e,i,s):A.apply(this,arguments)}),toggleClass:(z=V.fn.toggleClass,function(t,e,i,s,n){return"boolean"==typeof e||void 0===e?i?V.effects.animateClass.call(this,e?{add:t}:{remove:t},i,s,n):z.apply(this,arguments):V.effects.animateClass.call(this,{toggle:t},e,i,s)}),switchClass:function(t,e,i,s,n){return V.effects.animateClass.call(this,{add:e,remove:t},i,s,n)}}),V.expr&&V.expr.pseudos&&V.expr.pseudos.animated&&(V.expr.pseudos.animated=(W=V.expr.pseudos.animated,function(t){return!!V(t).data(K)||W(t)})),!1!==V.uiBackCompat&&V.extend(V.effects,{save:function(t,e){for(var i=0,s=e.length;i<s;i++)null!==e[i]&&t.data(j+e[i],t[0].style[e[i]])},restore:function(t,e){for(var i,s=0,n=e.length;s<n;s++)null!==e[s]&&(i=t.data(j+e[s]),t.css(e[s],i))},setMode:function(t,e){return e="toggle"===e?t.is(":hidden")?"show":"hide":e},createWrapper:function(i){if(i.parent().is(".ui-effects-wrapper"))return i.parent();var s={width:i.outerWidth(!0),height:i.outerHeight(!0),float:i.css("float")},t=V("<div></div>").addClass("ui-effects-wrapper").css({fontSize:"100%",background:"transparent",border:"none",margin:0,padding:0}),e={width:i.width(),height:i.height()},n=document.activeElement;try{n.id}catch(t){n=document.body}return i.wrap(t),i[0]!==n&&!V.contains(i[0],n)||V(n).trigger("focus"),t=i.parent(),"static"===i.css("position")?(t.css({position:"relative"}),i.css({position:"relative"})):(V.extend(s,{position:i.css("position"),zIndex:i.css("z-index")}),V.each(["top","left","bottom","right"],function(t,e){s[e]=i.css(e),isNaN(parseInt(s[e],10))&&(s[e]="auto")}),i.css({position:"relative",top:0,left:0,right:"auto",bottom:"auto"})),i.css(e),t.css(s).show()},removeWrapper:function(t){var e=document.activeElement;return t.parent().is(".ui-effects-wrapper")&&(t.parent().replaceWith(t),t[0]!==e&&!V.contains(t[0],e)||V(e).trigger("focus")),t}}),V.extend(V.effects,{version:"1.13.1",define:function(t,e,i){return i||(i=e,e="effect"),V.effects.effect[t]=i,V.effects.effect[t].mode=e,i},scaledDimensions:function(t,e,i){if(0===e)return{height:0,width:0,outerHeight:0,outerWidth:0};var s="horizontal"!==i?(e||100)/100:1,e="vertical"!==i?(e||100)/100:1;return{height:t.height()*e,width:t.width()*s,outerHeight:t.outerHeight()*e,outerWidth:t.outerWidth()*s}},clipToBox:function(t){return{width:t.clip.right-t.clip.left,height:t.clip.bottom-t.clip.top,left:t.clip.left,top:t.clip.top}},unshift:function(t,e,i){var s=t.queue();1<e&&s.splice.apply(s,[1,0].concat(s.splice(e,i))),t.dequeue()},saveStyle:function(t){t.data(q,t[0].style.cssText)},restoreStyle:function(t){t[0].style.cssText=t.data(q)||"",t.removeData(q)},mode:function(t,e){t=t.is(":hidden");return"toggle"===e&&(e=t?"show":"hide"),e=(t?"hide"===e:"show"===e)?"none":e},getBaseline:function(t,e){var i,s;switch(t[0]){case"top":i=0;break;case"middle":i=.5;break;case"bottom":i=1;break;default:i=t[0]/e.height}switch(t[1]){case"left":s=0;break;case"center":s=.5;break;case"right":s=1;break;default:s=t[1]/e.width}return{x:s,y:i}},createPlaceholder:function(t){var e,i=t.css("position"),s=t.position();return t.css({marginTop:t.css("marginTop"),marginBottom:t.css("marginBottom"),marginLeft:t.css("marginLeft"),marginRight:t.css("marginRight")}).outerWidth(t.outerWidth()).outerHeight(t.outerHeight()),/^(static|relative)/.test(i)&&(i="absolute",e=V("<"+t[0].nodeName+">").insertAfter(t).css({display:/^(inline|ruby)/.test(t.css("display"))?"inline-block":"block",visibility:"hidden",marginTop:t.css("marginTop"),marginBottom:t.css("marginBottom"),marginLeft:t.css("marginLeft"),marginRight:t.css("marginRight"),float:t.css("float")}).outerWidth(t.outerWidth()).outerHeight(t.outerHeight()).addClass("ui-effects-placeholder"),t.data(j+"placeholder",e)),t.css({position:i,left:s.left,top:s.top}),e},removePlaceholder:function(t){var e=j+"placeholder",i=t.data(e);i&&(i.remove(),t.removeData(e))},cleanUp:function(t){V.effects.restoreStyle(t),V.effects.removePlaceholder(t)},setTransition:function(s,t,n,o){return o=o||{},V.each(t,function(t,e){var i=s.cssUnit(e);0<i[0]&&(o[e]=i[0]*n+i[1])}),o}}),V.fn.extend({effect:function(){function t(t){var e=V(this),i=V.effects.mode(e,r)||o;e.data(K,!0),l.push(i),o&&("show"===i||i===o&&"hide"===i)&&e.show(),o&&"none"===i||V.effects.saveStyle(e),"function"==typeof t&&t()}var s=X.apply(this,arguments),n=V.effects.effect[s.effect],o=n.mode,e=s.queue,i=e||"fx",a=s.complete,r=s.mode,l=[];return V.fx.off||!n?r?this[r](s.duration,a):this.each(function(){a&&a.call(this)}):!1===e?this.each(t).each(h):this.queue(i,t).queue(i,h);function h(t){var e=V(this);function i(){"function"==typeof a&&a.call(e[0]),"function"==typeof t&&t()}s.mode=l.shift(),!1===V.uiBackCompat||o?"none"===s.mode?(e[r](),i()):n.call(e[0],s,function(){e.removeData(K),V.effects.cleanUp(e),"hide"===s.mode&&e.hide(),i()}):(e.is(":hidden")?"hide"===r:"show"===r)?(e[r](),i()):n.call(e[0],s,i)}},show:(R=V.fn.show,function(t){if($(t))return R.apply(this,arguments);t=X.apply(this,arguments);return t.mode="show",this.effect.call(this,t)}),hide:(L=V.fn.hide,function(t){if($(t))return L.apply(this,arguments);t=X.apply(this,arguments);return t.mode="hide",this.effect.call(this,t)}),toggle:(F=V.fn.toggle,function(t){if($(t)||"boolean"==typeof t)return F.apply(this,arguments);t=X.apply(this,arguments);return t.mode="toggle",this.effect.call(this,t)}),cssUnit:function(t){var i=this.css(t),s=[];return V.each(["em","px","%","pt"],function(t,e){0<i.indexOf(e)&&(s=[parseFloat(i),e])}),s},cssClip:function(t){return t?this.css("clip","rect("+t.top+"px "+t.right+"px "+t.bottom+"px "+t.left+"px)"):G(this.css("clip"),this)},transfer:function(t,e){var i=V(this),s=V(t.to),n="fixed"===s.css("position"),o=V("body"),a=n?o.scrollTop():0,r=n?o.scrollLeft():0,o=s.offset(),o={top:o.top-a,left:o.left-r,height:s.innerHeight(),width:s.innerWidth()},s=i.offset(),l=V("<div class='ui-effects-transfer'></div>");l.appendTo("body").addClass(t.className).css({top:s.top-a,left:s.left-r,height:i.innerHeight(),width:i.innerWidth(),position:n?"fixed":"absolute"}).animate(o,t.duration,t.easing,function(){l.remove(),"function"==typeof e&&e()})}}),V.fx.step.clip=function(t){t.clipInit||(t.start=V(t.elem).cssClip(),"string"==typeof t.end&&(t.end=G(t.end,t.elem)),t.clipInit=!0),V(t.elem).cssClip({top:t.pos*(t.end.top-t.start.top)+t.start.top,right:t.pos*(t.end.right-t.start.right)+t.start.right,bottom:t.pos*(t.end.bottom-t.start.bottom)+t.start.bottom,left:t.pos*(t.end.left-t.start.left)+t.start.left})},Y={},V.each(["Quad","Cubic","Quart","Quint","Expo"],function(e,t){Y[t]=function(t){return Math.pow(t,e+2)}}),V.extend(Y,{Sine:function(t){return 1-Math.cos(t*Math.PI/2)},Circ:function(t){return 1-Math.sqrt(1-t*t)},Elastic:function(t){return 0===t||1===t?t:-Math.pow(2,8*(t-1))*Math.sin((80*(t-1)-7.5)*Math.PI/15)},Back:function(t){return t*t*(3*t-2)},Bounce:function(t){for(var e,i=4;t<((e=Math.pow(2,--i))-1)/11;);return 1/Math.pow(4,3-i)-7.5625*Math.pow((3*e-2)/22-t,2)}}),V.each(Y,function(t,e){V.easing["easeIn"+t]=e,V.easing["easeOut"+t]=function(t){return 1-e(1-t)},V.easing["easeInOut"+t]=function(t){return t<.5?e(2*t)/2:1-e(-2*t+2)/2}});y=V.effects,V.effects.define("blind","hide",function(t,e){var i={up:["bottom","top"],vertical:["bottom","top"],down:["top","bottom"],left:["right","left"],horizontal:["right","left"],right:["left","right"]},s=V(this),n=t.direction||"up",o=s.cssClip(),a={clip:V.extend({},o)},r=V.effects.createPlaceholder(s);a.clip[i[n][0]]=a.clip[i[n][1]],"show"===t.mode&&(s.cssClip(a.clip),r&&r.css(V.effects.clipToBox(a)),a.clip=o),r&&r.animate(V.effects.clipToBox(a),t.duration,t.easing),s.animate(a,{queue:!1,duration:t.duration,easing:t.easing,complete:e})}),V.effects.define("bounce",function(t,e){var i,s,n=V(this),o=t.mode,a="hide"===o,r="show"===o,l=t.direction||"up",h=t.distance,c=t.times||5,o=2*c+(r||a?1:0),u=t.duration/o,d=t.easing,p="up"===l||"down"===l?"top":"left",f="up"===l||"left"===l,g=0,t=n.queue().length;for(V.effects.createPlaceholder(n),l=n.css(p),h=h||n["top"==p?"outerHeight":"outerWidth"]()/3,r&&((s={opacity:1})[p]=l,n.css("opacity",0).css(p,f?2*-h:2*h).animate(s,u,d)),a&&(h/=Math.pow(2,c-1)),(s={})[p]=l;g<c;g++)(i={})[p]=(f?"-=":"+=")+h,n.animate(i,u,d).animate(s,u,d),h=a?2*h:h/2;a&&((i={opacity:0})[p]=(f?"-=":"+=")+h,n.animate(i,u,d)),n.queue(e),V.effects.unshift(n,t,1+o)}),V.effects.define("clip","hide",function(t,e){var i={},s=V(this),n=t.direction||"vertical",o="both"===n,a=o||"horizontal"===n,o=o||"vertical"===n,n=s.cssClip();i.clip={top:o?(n.bottom-n.top)/2:n.top,right:a?(n.right-n.left)/2:n.right,bottom:o?(n.bottom-n.top)/2:n.bottom,left:a?(n.right-n.left)/2:n.left},V.effects.createPlaceholder(s),"show"===t.mode&&(s.cssClip(i.clip),i.clip=n),s.animate(i,{queue:!1,duration:t.duration,easing:t.easing,complete:e})}),V.effects.define("drop","hide",function(t,e){var i=V(this),s="show"===t.mode,n=t.direction||"left",o="up"===n||"down"===n?"top":"left",a="up"===n||"left"===n?"-=":"+=",r="+="==a?"-=":"+=",l={opacity:0};V.effects.createPlaceholder(i),n=t.distance||i["top"==o?"outerHeight":"outerWidth"](!0)/2,l[o]=a+n,s&&(i.css(l),l[o]=r+n,l.opacity=1),i.animate(l,{queue:!1,duration:t.duration,easing:t.easing,complete:e})}),V.effects.define("explode","hide",function(t,e){var i,s,n,o,a,r,l=t.pieces?Math.round(Math.sqrt(t.pieces)):3,h=l,c=V(this),u="show"===t.mode,d=c.show().css("visibility","hidden").offset(),p=Math.ceil(c.outerWidth()/h),f=Math.ceil(c.outerHeight()/l),g=[];function m(){g.push(this),g.length===l*h&&(c.css({visibility:"visible"}),V(g).remove(),e())}for(i=0;i<l;i++)for(o=d.top+i*f,r=i-(l-1)/2,s=0;s<h;s++)n=d.left+s*p,a=s-(h-1)/2,c.clone().appendTo("body").wrap("<div></div>").css({position:"absolute",visibility:"visible",left:-s*p,top:-i*f}).parent().addClass("ui-effects-explode").css({position:"absolute",overflow:"hidden",width:p,height:f,left:n+(u?a*p:0),top:o+(u?r*f:0),opacity:u?0:1}).animate({left:n+(u?0:a*p),top:o+(u?0:r*f),opacity:u?1:0},t.duration||500,t.easing,m)}),V.effects.define("fade","toggle",function(t,e){var i="show"===t.mode;V(this).css("opacity",i?0:1).animate({opacity:i?1:0},{queue:!1,duration:t.duration,easing:t.easing,complete:e})}),V.effects.define("fold","hide",function(e,t){var i=V(this),s=e.mode,n="show"===s,o="hide"===s,a=e.size||15,r=/([0-9]+)%/.exec(a),l=!!e.horizFirst?["right","bottom"]:["bottom","right"],h=e.duration/2,c=V.effects.createPlaceholder(i),u=i.cssClip(),d={clip:V.extend({},u)},p={clip:V.extend({},u)},f=[u[l[0]],u[l[1]]],s=i.queue().length;r&&(a=parseInt(r[1],10)/100*f[o?0:1]),d.clip[l[0]]=a,p.clip[l[0]]=a,p.clip[l[1]]=0,n&&(i.cssClip(p.clip),c&&c.css(V.effects.clipToBox(p)),p.clip=u),i.queue(function(t){c&&c.animate(V.effects.clipToBox(d),h,e.easing).animate(V.effects.clipToBox(p),h,e.easing),t()}).animate(d,h,e.easing).animate(p,h,e.easing).queue(t),V.effects.unshift(i,s,4)}),V.effects.define("highlight","show",function(t,e){var i=V(this),s={backgroundColor:i.css("backgroundColor")};"hide"===t.mode&&(s.opacity=0),V.effects.saveStyle(i),i.css({backgroundImage:"none",backgroundColor:t.color||"#ffff99"}).animate(s,{queue:!1,duration:t.duration,easing:t.easing,complete:e})}),V.effects.define("size",function(s,e){var n,i=V(this),t=["fontSize"],o=["borderTopWidth","borderBottomWidth","paddingTop","paddingBottom"],a=["borderLeftWidth","borderRightWidth","paddingLeft","paddingRight"],r=s.mode,l="effect"!==r,h=s.scale||"both",c=s.origin||["middle","center"],u=i.css("position"),d=i.position(),p=V.effects.scaledDimensions(i),f=s.from||p,g=s.to||V.effects.scaledDimensions(i,0);V.effects.createPlaceholder(i),"show"===r&&(r=f,f=g,g=r),n={from:{y:f.height/p.height,x:f.width/p.width},to:{y:g.height/p.height,x:g.width/p.width}},"box"!==h&&"both"!==h||(n.from.y!==n.to.y&&(f=V.effects.setTransition(i,o,n.from.y,f),g=V.effects.setTransition(i,o,n.to.y,g)),n.from.x!==n.to.x&&(f=V.effects.setTransition(i,a,n.from.x,f),g=V.effects.setTransition(i,a,n.to.x,g))),"content"!==h&&"both"!==h||n.from.y!==n.to.y&&(f=V.effects.setTransition(i,t,n.from.y,f),g=V.effects.setTransition(i,t,n.to.y,g)),c&&(c=V.effects.getBaseline(c,p),f.top=(p.outerHeight-f.outerHeight)*c.y+d.top,f.left=(p.outerWidth-f.outerWidth)*c.x+d.left,g.top=(p.outerHeight-g.outerHeight)*c.y+d.top,g.left=(p.outerWidth-g.outerWidth)*c.x+d.left),delete f.outerHeight,delete f.outerWidth,i.css(f),"content"!==h&&"both"!==h||(o=o.concat(["marginTop","marginBottom"]).concat(t),a=a.concat(["marginLeft","marginRight"]),i.find("*[width]").each(function(){var t=V(this),e=V.effects.scaledDimensions(t),i={height:e.height*n.from.y,width:e.width*n.from.x,outerHeight:e.outerHeight*n.from.y,outerWidth:e.outerWidth*n.from.x},e={height:e.height*n.to.y,width:e.width*n.to.x,outerHeight:e.height*n.to.y,outerWidth:e.width*n.to.x};n.from.y!==n.to.y&&(i=V.effects.setTransition(t,o,n.from.y,i),e=V.effects.setTransition(t,o,n.to.y,e)),n.from.x!==n.to.x&&(i=V.effects.setTransition(t,a,n.from.x,i),e=V.effects.setTransition(t,a,n.to.x,e)),l&&V.effects.saveStyle(t),t.css(i),t.animate(e,s.duration,s.easing,function(){l&&V.effects.restoreStyle(t)})})),i.animate(g,{queue:!1,duration:s.duration,easing:s.easing,complete:function(){var t=i.offset();0===g.opacity&&i.css("opacity",f.opacity),l||(i.css("position","static"===u?"relative":u).offset(t),V.effects.saveStyle(i)),e()}})}),V.effects.define("scale",function(t,e){var i=V(this),s=t.mode,s=parseInt(t.percent,10)||(0===parseInt(t.percent,10)||"effect"!==s?0:100),s=V.extend(!0,{from:V.effects.scaledDimensions(i),to:V.effects.scaledDimensions(i,s,t.direction||"both"),origin:t.origin||["middle","center"]},t);t.fade&&(s.from.opacity=1,s.to.opacity=0),V.effects.effect.size.call(this,s,e)}),V.effects.define("puff","hide",function(t,e){t=V.extend(!0,{},t,{fade:!0,percent:parseInt(t.percent,10)||150});V.effects.effect.scale.call(this,t,e)}),V.effects.define("pulsate","show",function(t,e){var i=V(this),s=t.mode,n="show"===s,o=2*(t.times||5)+(n||"hide"===s?1:0),a=t.duration/o,r=0,l=1,s=i.queue().length;for(!n&&i.is(":visible")||(i.css("opacity",0).show(),r=1);l<o;l++)i.animate({opacity:r},a,t.easing),r=1-r;i.animate({opacity:r},a,t.easing),i.queue(e),V.effects.unshift(i,s,1+o)}),V.effects.define("shake",function(t,e){var i=1,s=V(this),n=t.direction||"left",o=t.distance||20,a=t.times||3,r=2*a+1,l=Math.round(t.duration/r),h="up"===n||"down"===n?"top":"left",c="up"===n||"left"===n,u={},d={},p={},n=s.queue().length;for(V.effects.createPlaceholder(s),u[h]=(c?"-=":"+=")+o,d[h]=(c?"+=":"-=")+2*o,p[h]=(c?"-=":"+=")+2*o,s.animate(u,l,t.easing);i<a;i++)s.animate(d,l,t.easing).animate(p,l,t.easing);s.animate(d,l,t.easing).animate(u,l/2,t.easing).queue(e),V.effects.unshift(s,n,1+r)}),V.effects.define("slide","show",function(t,e){var i,s,n=V(this),o={up:["bottom","top"],down:["top","bottom"],left:["right","left"],right:["left","right"]},a=t.mode,r=t.direction||"left",l="up"===r||"down"===r?"top":"left",h="up"===r||"left"===r,c=t.distance||n["top"==l?"outerHeight":"outerWidth"](!0),u={};V.effects.createPlaceholder(n),i=n.cssClip(),s=n.position()[l],u[l]=(h?-1:1)*c+s,u.clip=n.cssClip(),u.clip[o[r][1]]=u.clip[o[r][0]],"show"===a&&(n.cssClip(u.clip),n.css(l,u[l]),u.clip=i,u[l]=s),n.animate(u,{queue:!1,duration:t.duration,easing:t.easing,complete:e})}),y=!1!==V.uiBackCompat?V.effects.define("transfer",function(t,e){V(this).transfer(t,e)}):y;V.ui.focusable=function(t,e){var i,s,n,o,a=t.nodeName.toLowerCase();return"area"===a?(s=(i=t.parentNode).name,!(!t.href||!s||"map"!==i.nodeName.toLowerCase())&&(0<(s=V("img[usemap='#"+s+"']")).length&&s.is(":visible"))):(/^(input|select|textarea|button|object)$/.test(a)?(n=!t.disabled)&&(o=V(t).closest("fieldset")[0])&&(n=!o.disabled):n="a"===a&&t.href||e,n&&V(t).is(":visible")&&function(t){var e=t.css("visibility");for(;"inherit"===e;)t=t.parent(),e=t.css("visibility");return"visible"===e}(V(t)))},V.extend(V.expr.pseudos,{focusable:function(t){return V.ui.focusable(t,null!=V.attr(t,"tabindex"))}});var Q,J;V.ui.focusable,V.fn._form=function(){return"string"==typeof this[0].form?this.closest("form"):V(this[0].form)},V.ui.formResetMixin={_formResetHandler:function(){var e=V(this);setTimeout(function(){var t=e.data("ui-form-reset-instances");V.each(t,function(){this.refresh()})})},_bindFormResetHandler:function(){var t;this.form=this.element._form(),this.form.length&&((t=this.form.data("ui-form-reset-instances")||[]).length||this.form.on("reset.ui-form-reset",this._formResetHandler),t.push(this),this.form.data("ui-form-reset-instances",t))},_unbindFormResetHandler:function(){var t;this.form.length&&((t=this.form.data("ui-form-reset-instances")).splice(V.inArray(this,t),1),t.length?this.form.data("ui-form-reset-instances",t):this.form.removeData("ui-form-reset-instances").off("reset.ui-form-reset"))}};V.expr.pseudos||(V.expr.pseudos=V.expr[":"]),V.uniqueSort||(V.uniqueSort=V.unique),V.escapeSelector||(Q=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\x80-\uFFFF\w-]/g,J=function(t,e){return e?"\0"===t?"":t.slice(0,-1)+"\\"+t.charCodeAt(t.length-1).toString(16)+" ":"\\"+t},V.escapeSelector=function(t){return(t+"").replace(Q,J)}),V.fn.even&&V.fn.odd||V.fn.extend({even:function(){return this.filter(function(t){return t%2==0})},odd:function(){return this.filter(function(t){return t%2==1})}});var Z;V.ui.keyCode={BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38},V.fn.labels=function(){var t,e,i;return this.length?this[0].labels&&this[0].labels.length?this.pushStack(this[0].labels):(e=this.eq(0).parents("label"),(t=this.attr("id"))&&(i=(i=this.eq(0).parents().last()).add((i.length?i:this).siblings()),t="label[for='"+V.escapeSelector(t)+"']",e=e.add(i.find(t).addBack(t))),this.pushStack(e)):this.pushStack([])},V.fn.scrollParent=function(t){var e=this.css("position"),i="absolute"===e,s=t?/(auto|scroll|hidden)/:/(auto|scroll)/,t=this.parents().filter(function(){var t=V(this);return(!i||"static"!==t.css("position"))&&s.test(t.css("overflow")+t.css("overflow-y")+t.css("overflow-x"))}).eq(0);return"fixed"!==e&&t.length?t:V(this[0].ownerDocument||document)},V.extend(V.expr.pseudos,{tabbable:function(t){var e=V.attr(t,"tabindex"),i=null!=e;return(!i||0<=e)&&V.ui.focusable(t,i)}}),V.fn.extend({uniqueId:(Z=0,function(){return this.each(function(){this.id||(this.id="ui-id-"+ ++Z)})}),removeUniqueId:function(){return this.each(function(){/^ui-id-\d+$/.test(this.id)&&V(this).removeAttr("id")})}}),V.widget("ui.accordion",{version:"1.13.1",options:{active:0,animate:{},classes:{"ui-accordion-header":"ui-corner-top","ui-accordion-header-collapsed":"ui-corner-all","ui-accordion-content":"ui-corner-bottom"},collapsible:!1,event:"click",header:function(t){return t.find("> li > :first-child").add(t.find("> :not(li)").even())},heightStyle:"auto",icons:{activeHeader:"ui-icon-triangle-1-s",header:"ui-icon-triangle-1-e"},activate:null,beforeActivate:null},hideProps:{borderTopWidth:"hide",borderBottomWidth:"hide",paddingTop:"hide",paddingBottom:"hide",height:"hide"},showProps:{borderTopWidth:"show",borderBottomWidth:"show",paddingTop:"show",paddingBottom:"show",height:"show"},_create:function(){var t=this.options;this.prevShow=this.prevHide=V(),this._addClass("ui-accordion","ui-widget ui-helper-reset"),this.element.attr("role","tablist"),t.collapsible||!1!==t.active&&null!=t.active||(t.active=0),this._processPanels(),t.active<0&&(t.active+=this.headers.length),this._refresh()},_getCreateEventData:function(){return{header:this.active,panel:this.active.length?this.active.next():V()}},_createIcons:function(){var t,e=this.options.icons;e&&(t=V("<span>"),this._addClass(t,"ui-accordion-header-icon","ui-icon "+e.header),t.prependTo(this.headers),t=this.active.children(".ui-accordion-header-icon"),this._removeClass(t,e.header)._addClass(t,null,e.activeHeader)._addClass(this.headers,"ui-accordion-icons"))},_destroyIcons:function(){this._removeClass(this.headers,"ui-accordion-icons"),this.headers.children(".ui-accordion-header-icon").remove()},_destroy:function(){var t;this.element.removeAttr("role"),this.headers.removeAttr("role aria-expanded aria-selected aria-controls tabIndex").removeUniqueId(),this._destroyIcons(),t=this.headers.next().css("display","").removeAttr("role aria-hidden aria-labelledby").removeUniqueId(),"content"!==this.options.heightStyle&&t.css("height","")},_setOption:function(t,e){"active"!==t?("event"===t&&(this.options.event&&this._off(this.headers,this.options.event),this._setupEvents(e)),this._super(t,e),"collapsible"!==t||e||!1!==this.options.active||this._activate(0),"icons"===t&&(this._destroyIcons(),e&&this._createIcons())):this._activate(e)},_setOptionDisabled:function(t){this._super(t),this.element.attr("aria-disabled",t),this._toggleClass(null,"ui-state-disabled",!!t),this._toggleClass(this.headers.add(this.headers.next()),null,"ui-state-disabled",!!t)},_keydown:function(t){if(!t.altKey&&!t.ctrlKey){var e=V.ui.keyCode,i=this.headers.length,s=this.headers.index(t.target),n=!1;switch(t.keyCode){case e.RIGHT:case e.DOWN:n=this.headers[(s+1)%i];break;case e.LEFT:case e.UP:n=this.headers[(s-1+i)%i];break;case e.SPACE:case e.ENTER:this._eventHandler(t);break;case e.HOME:n=this.headers[0];break;case e.END:n=this.headers[i-1]}n&&(V(t.target).attr("tabIndex",-1),V(n).attr("tabIndex",0),V(n).trigger("focus"),t.preventDefault())}},_panelKeyDown:function(t){t.keyCode===V.ui.keyCode.UP&&t.ctrlKey&&V(t.currentTarget).prev().trigger("focus")},refresh:function(){var t=this.options;this._processPanels(),!1===t.active&&!0===t.collapsible||!this.headers.length?(t.active=!1,this.active=V()):!1===t.active?this._activate(0):this.active.length&&!V.contains(this.element[0],this.active[0])?this.headers.length===this.headers.find(".ui-state-disabled").length?(t.active=!1,this.active=V()):this._activate(Math.max(0,t.active-1)):t.active=this.headers.index(this.active),this._destroyIcons(),this._refresh()},_processPanels:function(){var t=this.headers,e=this.panels;"function"==typeof this.options.header?this.headers=this.options.header(this.element):this.headers=this.element.find(this.options.header),this._addClass(this.headers,"ui-accordion-header ui-accordion-header-collapsed","ui-state-default"),this.panels=this.headers.next().filter(":not(.ui-accordion-content-active)").hide(),this._addClass(this.panels,"ui-accordion-content","ui-helper-reset ui-widget-content"),e&&(this._off(t.not(this.headers)),this._off(e.not(this.panels)))},_refresh:function(){var i,t=this.options,e=t.heightStyle,s=this.element.parent();this.active=this._findActive(t.active),this._addClass(this.active,"ui-accordion-header-active","ui-state-active")._removeClass(this.active,"ui-accordion-header-collapsed"),this._addClass(this.active.next(),"ui-accordion-content-active"),this.active.next().show(),this.headers.attr("role","tab").each(function(){var t=V(this),e=t.uniqueId().attr("id"),i=t.next(),s=i.uniqueId().attr("id");t.attr("aria-controls",s),i.attr("aria-labelledby",e)}).next().attr("role","tabpanel"),this.headers.not(this.active).attr({"aria-selected":"false","aria-expanded":"false",tabIndex:-1}).next().attr({"aria-hidden":"true"}).hide(),this.active.length?this.active.attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0}).next().attr({"aria-hidden":"false"}):this.headers.eq(0).attr("tabIndex",0),this._createIcons(),this._setupEvents(t.event),"fill"===e?(i=s.height(),this.element.siblings(":visible").each(function(){var t=V(this),e=t.css("position");"absolute"!==e&&"fixed"!==e&&(i-=t.outerHeight(!0))}),this.headers.each(function(){i-=V(this).outerHeight(!0)}),this.headers.next().each(function(){V(this).height(Math.max(0,i-V(this).innerHeight()+V(this).height()))}).css("overflow","auto")):"auto"===e&&(i=0,this.headers.next().each(function(){var t=V(this).is(":visible");t||V(this).show(),i=Math.max(i,V(this).css("height","").height()),t||V(this).hide()}).height(i))},_activate:function(t){t=this._findActive(t)[0];t!==this.active[0]&&(t=t||this.active[0],this._eventHandler({target:t,currentTarget:t,preventDefault:V.noop}))},_findActive:function(t){return"number"==typeof t?this.headers.eq(t):V()},_setupEvents:function(t){var i={keydown:"_keydown"};t&&V.each(t.split(" "),function(t,e){i[e]="_eventHandler"}),this._off(this.headers.add(this.headers.next())),this._on(this.headers,i),this._on(this.headers.next(),{keydown:"_panelKeyDown"}),this._hoverable(this.headers),this._focusable(this.headers)},_eventHandler:function(t){var e=this.options,i=this.active,s=V(t.currentTarget),n=s[0]===i[0],o=n&&e.collapsible,a=o?V():s.next(),r=i.next(),a={oldHeader:i,oldPanel:r,newHeader:o?V():s,newPanel:a};t.preventDefault(),n&&!e.collapsible||!1===this._trigger("beforeActivate",t,a)||(e.active=!o&&this.headers.index(s),this.active=n?V():s,this._toggle(a),this._removeClass(i,"ui-accordion-header-active","ui-state-active"),e.icons&&(i=i.children(".ui-accordion-header-icon"),this._removeClass(i,null,e.icons.activeHeader)._addClass(i,null,e.icons.header)),n||(this._removeClass(s,"ui-accordion-header-collapsed")._addClass(s,"ui-accordion-header-active","ui-state-active"),e.icons&&(n=s.children(".ui-accordion-header-icon"),this._removeClass(n,null,e.icons.header)._addClass(n,null,e.icons.activeHeader)),this._addClass(s.next(),"ui-accordion-content-active")))},_toggle:function(t){var e=t.newPanel,i=this.prevShow.length?this.prevShow:t.oldPanel;this.prevShow.add(this.prevHide).stop(!0,!0),this.prevShow=e,this.prevHide=i,this.options.animate?this._animate(e,i,t):(i.hide(),e.show(),this._toggleComplete(t)),i.attr({"aria-hidden":"true"}),i.prev().attr({"aria-selected":"false","aria-expanded":"false"}),e.length&&i.length?i.prev().attr({tabIndex:-1,"aria-expanded":"false"}):e.length&&this.headers.filter(function(){return 0===parseInt(V(this).attr("tabIndex"),10)}).attr("tabIndex",-1),e.attr("aria-hidden","false").prev().attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0})},_animate:function(t,i,e){var s,n,o,a=this,r=0,l=t.css("box-sizing"),h=t.length&&(!i.length||t.index()<i.index()),c=this.options.animate||{},u=h&&c.down||c,h=function(){a._toggleComplete(e)};return n=(n="string"==typeof u?u:n)||u.easing||c.easing,o=(o="number"==typeof u?u:o)||u.duration||c.duration,i.length?t.length?(s=t.show().outerHeight(),i.animate(this.hideProps,{duration:o,easing:n,step:function(t,e){e.now=Math.round(t)}}),void t.hide().animate(this.showProps,{duration:o,easing:n,complete:h,step:function(t,e){e.now=Math.round(t),"height"!==e.prop?"content-box"===l&&(r+=e.now):"content"!==a.options.heightStyle&&(e.now=Math.round(s-i.outerHeight()-r),r=0)}})):i.animate(this.hideProps,o,n,h):t.animate(this.showProps,o,n,h)},_toggleComplete:function(t){var e=t.oldPanel,i=e.prev();this._removeClass(e,"ui-accordion-content-active"),this._removeClass(i,"ui-accordion-header-active")._addClass(i,"ui-accordion-header-collapsed"),e.length&&(e.parent()[0].className=e.parent()[0].className),this._trigger("activate",null,t)}}),V.ui.safeActiveElement=function(e){var i;try{i=e.activeElement}catch(t){i=e.body}return i=!(i=i||e.body).nodeName?e.body:i},V.widget("ui.menu",{version:"1.13.1",defaultElement:"<ul>",delay:300,options:{icons:{submenu:"ui-icon-caret-1-e"},items:"> *",menus:"ul",position:{my:"left top",at:"right top"},role:"menu",blur:null,focus:null,select:null},_create:function(){this.activeMenu=this.element,this.mouseHandled=!1,this.lastMousePosition={x:null,y:null},this.element.uniqueId().attr({role:this.options.role,tabIndex:0}),this._addClass("ui-menu","ui-widget ui-widget-content"),this._on({"mousedown .ui-menu-item":function(t){t.preventDefault(),this._activateItem(t)},"click .ui-menu-item":function(t){var e=V(t.target),i=V(V.ui.safeActiveElement(this.document[0]));!this.mouseHandled&&e.not(".ui-state-disabled").length&&(this.select(t),t.isPropagationStopped()||(this.mouseHandled=!0),e.has(".ui-menu").length?this.expand(t):!this.element.is(":focus")&&i.closest(".ui-menu").length&&(this.element.trigger("focus",[!0]),this.active&&1===this.active.parents(".ui-menu").length&&clearTimeout(this.timer)))},"mouseenter .ui-menu-item":"_activateItem","mousemove .ui-menu-item":"_activateItem",mouseleave:"collapseAll","mouseleave .ui-menu":"collapseAll",focus:function(t,e){var i=this.active||this._menuItems().first();e||this.focus(t,i)},blur:function(t){this._delay(function(){V.contains(this.element[0],V.ui.safeActiveElement(this.document[0]))||this.collapseAll(t)})},keydown:"_keydown"}),this.refresh(),this._on(this.document,{click:function(t){this._closeOnDocumentClick(t)&&this.collapseAll(t,!0),this.mouseHandled=!1}})},_activateItem:function(t){var e,i;this.previousFilter||t.clientX===this.lastMousePosition.x&&t.clientY===this.lastMousePosition.y||(this.lastMousePosition={x:t.clientX,y:t.clientY},e=V(t.target).closest(".ui-menu-item"),i=V(t.currentTarget),e[0]===i[0]&&(i.is(".ui-state-active")||(this._removeClass(i.siblings().children(".ui-state-active"),null,"ui-state-active"),this.focus(t,i))))},_destroy:function(){var t=this.element.find(".ui-menu-item").removeAttr("role aria-disabled").children(".ui-menu-item-wrapper").removeUniqueId().removeAttr("tabIndex role aria-haspopup");this.element.removeAttr("aria-activedescendant").find(".ui-menu").addBack().removeAttr("role aria-labelledby aria-expanded aria-hidden aria-disabled tabIndex").removeUniqueId().show(),t.children().each(function(){var t=V(this);t.data("ui-menu-submenu-caret")&&t.remove()})},_keydown:function(t){var e,i,s,n=!0;switch(t.keyCode){case V.ui.keyCode.PAGE_UP:this.previousPage(t);break;case V.ui.keyCode.PAGE_DOWN:this.nextPage(t);break;case V.ui.keyCode.HOME:this._move("first","first",t);break;case V.ui.keyCode.END:this._move("last","last",t);break;case V.ui.keyCode.UP:this.previous(t);break;case V.ui.keyCode.DOWN:this.next(t);break;case V.ui.keyCode.LEFT:this.collapse(t);break;case V.ui.keyCode.RIGHT:this.active&&!this.active.is(".ui-state-disabled")&&this.expand(t);break;case V.ui.keyCode.ENTER:case V.ui.keyCode.SPACE:this._activate(t);break;case V.ui.keyCode.ESCAPE:this.collapse(t);break;default:e=this.previousFilter||"",s=n=!1,i=96<=t.keyCode&&t.keyCode<=105?(t.keyCode-96).toString():String.fromCharCode(t.keyCode),clearTimeout(this.filterTimer),i===e?s=!0:i=e+i,e=this._filterMenuItems(i),(e=s&&-1!==e.index(this.active.next())?this.active.nextAll(".ui-menu-item"):e).length||(i=String.fromCharCode(t.keyCode),e=this._filterMenuItems(i)),e.length?(this.focus(t,e),this.previousFilter=i,this.filterTimer=this._delay(function(){delete this.previousFilter},1e3)):delete this.previousFilter}n&&t.preventDefault()},_activate:function(t){this.active&&!this.active.is(".ui-state-disabled")&&(this.active.children("[aria-haspopup='true']").length?this.expand(t):this.select(t))},refresh:function(){var t,e,s=this,n=this.options.icons.submenu,i=this.element.find(this.options.menus);this._toggleClass("ui-menu-icons",null,!!this.element.find(".ui-icon").length),e=i.filter(":not(.ui-menu)").hide().attr({role:this.options.role,"aria-hidden":"true","aria-expanded":"false"}).each(function(){var t=V(this),e=t.prev(),i=V("<span>").data("ui-menu-submenu-caret",!0);s._addClass(i,"ui-menu-icon","ui-icon "+n),e.attr("aria-haspopup","true").prepend(i),t.attr("aria-labelledby",e.attr("id"))}),this._addClass(e,"ui-menu","ui-widget ui-widget-content ui-front"),(t=i.add(this.element).find(this.options.items)).not(".ui-menu-item").each(function(){var t=V(this);s._isDivider(t)&&s._addClass(t,"ui-menu-divider","ui-widget-content")}),i=(e=t.not(".ui-menu-item, .ui-menu-divider")).children().not(".ui-menu").uniqueId().attr({tabIndex:-1,role:this._itemRole()}),this._addClass(e,"ui-menu-item")._addClass(i,"ui-menu-item-wrapper"),t.filter(".ui-state-disabled").attr("aria-disabled","true"),this.active&&!V.contains(this.element[0],this.active[0])&&this.blur()},_itemRole:function(){return{menu:"menuitem",listbox:"option"}[this.options.role]},_setOption:function(t,e){var i;"icons"===t&&(i=this.element.find(".ui-menu-icon"),this._removeClass(i,null,this.options.icons.submenu)._addClass(i,null,e.submenu)),this._super(t,e)},_setOptionDisabled:function(t){this._super(t),this.element.attr("aria-disabled",String(t)),this._toggleClass(null,"ui-state-disabled",!!t)},focus:function(t,e){var i;this.blur(t,t&&"focus"===t.type),this._scrollIntoView(e),this.active=e.first(),i=this.active.children(".ui-menu-item-wrapper"),this._addClass(i,null,"ui-state-active"),this.options.role&&this.element.attr("aria-activedescendant",i.attr("id")),i=this.active.parent().closest(".ui-menu-item").children(".ui-menu-item-wrapper"),this._addClass(i,null,"ui-state-active"),t&&"keydown"===t.type?this._close():this.timer=this._delay(function(){this._close()},this.delay),(i=e.children(".ui-menu")).length&&t&&/^mouse/.test(t.type)&&this._startOpening(i),this.activeMenu=e.parent(),this._trigger("focus",t,{item:e})},_scrollIntoView:function(t){var e,i,s;this._hasScroll()&&(i=parseFloat(V.css(this.activeMenu[0],"borderTopWidth"))||0,s=parseFloat(V.css(this.activeMenu[0],"paddingTop"))||0,e=t.offset().top-this.activeMenu.offset().top-i-s,i=this.activeMenu.scrollTop(),s=this.activeMenu.height(),t=t.outerHeight(),e<0?this.activeMenu.scrollTop(i+e):s<e+t&&this.activeMenu.scrollTop(i+e-s+t))},blur:function(t,e){e||clearTimeout(this.timer),this.active&&(this._removeClass(this.active.children(".ui-menu-item-wrapper"),null,"ui-state-active"),this._trigger("blur",t,{item:this.active}),this.active=null)},_startOpening:function(t){clearTimeout(this.timer),"true"===t.attr("aria-hidden")&&(this.timer=this._delay(function(){this._close(),this._open(t)},this.delay))},_open:function(t){var e=V.extend({of:this.active},this.options.position);clearTimeout(this.timer),this.element.find(".ui-menu").not(t.parents(".ui-menu")).hide().attr("aria-hidden","true"),t.show().removeAttr("aria-hidden").attr("aria-expanded","true").position(e)},collapseAll:function(e,i){clearTimeout(this.timer),this.timer=this._delay(function(){var t=i?this.element:V(e&&e.target).closest(this.element.find(".ui-menu"));t.length||(t=this.element),this._close(t),this.blur(e),this._removeClass(t.find(".ui-state-active"),null,"ui-state-active"),this.activeMenu=t},i?0:this.delay)},_close:function(t){(t=t||(this.active?this.active.parent():this.element)).find(".ui-menu").hide().attr("aria-hidden","true").attr("aria-expanded","false")},_closeOnDocumentClick:function(t){return!V(t.target).closest(".ui-menu").length},_isDivider:function(t){return!/[^\-\u2014\u2013\s]/.test(t.text())},collapse:function(t){var e=this.active&&this.active.parent().closest(".ui-menu-item",this.element);e&&e.length&&(this._close(),this.focus(t,e))},expand:function(t){var e=this.active&&this._menuItems(this.active.children(".ui-menu")).first();e&&e.length&&(this._open(e.parent()),this._delay(function(){this.focus(t,e)}))},next:function(t){this._move("next","first",t)},previous:function(t){this._move("prev","last",t)},isFirstItem:function(){return this.active&&!this.active.prevAll(".ui-menu-item").length},isLastItem:function(){return this.active&&!this.active.nextAll(".ui-menu-item").length},_menuItems:function(t){return(t||this.element).find(this.options.items).filter(".ui-menu-item")},_move:function(t,e,i){var s;(s=this.active?"first"===t||"last"===t?this.active["first"===t?"prevAll":"nextAll"](".ui-menu-item").last():this.active[t+"All"](".ui-menu-item").first():s)&&s.length&&this.active||(s=this._menuItems(this.activeMenu)[e]()),this.focus(i,s)},nextPage:function(t){var e,i,s;this.active?this.isLastItem()||(this._hasScroll()?(i=this.active.offset().top,s=this.element.innerHeight(),0===V.fn.jquery.indexOf("3.2.")&&(s+=this.element[0].offsetHeight-this.element.outerHeight()),this.active.nextAll(".ui-menu-item").each(function(){return(e=V(this)).offset().top-i-s<0}),this.focus(t,e)):this.focus(t,this._menuItems(this.activeMenu)[this.active?"last":"first"]())):this.next(t)},previousPage:function(t){var e,i,s;this.active?this.isFirstItem()||(this._hasScroll()?(i=this.active.offset().top,s=this.element.innerHeight(),0===V.fn.jquery.indexOf("3.2.")&&(s+=this.element[0].offsetHeight-this.element.outerHeight()),this.active.prevAll(".ui-menu-item").each(function(){return 0<(e=V(this)).offset().top-i+s}),this.focus(t,e)):this.focus(t,this._menuItems(this.activeMenu).first())):this.next(t)},_hasScroll:function(){return this.element.outerHeight()<this.element.prop("scrollHeight")},select:function(t){this.active=this.active||V(t.target).closest(".ui-menu-item");var e={item:this.active};this.active.has(".ui-menu").length||this.collapseAll(t,!0),this._trigger("select",t,e)},_filterMenuItems:function(t){var t=t.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&"),e=new RegExp("^"+t,"i");return this.activeMenu.find(this.options.items).filter(".ui-menu-item").filter(function(){return e.test(String.prototype.trim.call(V(this).children(".ui-menu-item-wrapper").text()))})}});V.widget("ui.autocomplete",{version:"1.13.1",defaultElement:"<input>",options:{appendTo:null,autoFocus:!1,delay:300,minLength:1,position:{my:"left top",at:"left bottom",collision:"none"},source:null,change:null,close:null,focus:null,open:null,response:null,search:null,select:null},requestIndex:0,pending:0,liveRegionTimer:null,_create:function(){var i,s,n,t=this.element[0].nodeName.toLowerCase(),e="textarea"===t,t="input"===t;this.isMultiLine=e||!t&&this._isContentEditable(this.element),this.valueMethod=this.element[e||t?"val":"text"],this.isNewMenu=!0,this._addClass("ui-autocomplete-input"),this.element.attr("autocomplete","off"),this._on(this.element,{keydown:function(t){if(this.element.prop("readOnly"))s=n=i=!0;else{s=n=i=!1;var e=V.ui.keyCode;switch(t.keyCode){case e.PAGE_UP:i=!0,this._move("previousPage",t);break;case e.PAGE_DOWN:i=!0,this._move("nextPage",t);break;case e.UP:i=!0,this._keyEvent("previous",t);break;case e.DOWN:i=!0,this._keyEvent("next",t);break;case e.ENTER:this.menu.active&&(i=!0,t.preventDefault(),this.menu.select(t));break;case e.TAB:this.menu.active&&this.menu.select(t);break;case e.ESCAPE:this.menu.element.is(":visible")&&(this.isMultiLine||this._value(this.term),this.close(t),t.preventDefault());break;default:s=!0,this._searchTimeout(t)}}},keypress:function(t){if(i)return i=!1,void(this.isMultiLine&&!this.menu.element.is(":visible")||t.preventDefault());if(!s){var e=V.ui.keyCode;switch(t.keyCode){case e.PAGE_UP:this._move("previousPage",t);break;case e.PAGE_DOWN:this._move("nextPage",t);break;case e.UP:this._keyEvent("previous",t);break;case e.DOWN:this._keyEvent("next",t)}}},input:function(t){if(n)return n=!1,void t.preventDefault();this._searchTimeout(t)},focus:function(){this.selectedItem=null,this.previous=this._value()},blur:function(t){clearTimeout(this.searching),this.close(t),this._change(t)}}),this._initSource(),this.menu=V("<ul>").appendTo(this._appendTo()).menu({role:null}).hide().attr({unselectable:"on"}).menu("instance"),this._addClass(this.menu.element,"ui-autocomplete","ui-front"),this._on(this.menu.element,{mousedown:function(t){t.preventDefault()},menufocus:function(t,e){var i,s;if(this.isNewMenu&&(this.isNewMenu=!1,t.originalEvent&&/^mouse/.test(t.originalEvent.type)))return this.menu.blur(),void this.document.one("mousemove",function(){V(t.target).trigger(t.originalEvent)});s=e.item.data("ui-autocomplete-item"),!1!==this._trigger("focus",t,{item:s})&&t.originalEvent&&/^key/.test(t.originalEvent.type)&&this._value(s.value),(i=e.item.attr("aria-label")||s.value)&&String.prototype.trim.call(i).length&&(clearTimeout(this.liveRegionTimer),this.liveRegionTimer=this._delay(function(){this.liveRegion.html(V("<div>").text(i))},100))},menuselect:function(t,e){var i=e.item.data("ui-autocomplete-item"),s=this.previous;this.element[0]!==V.ui.safeActiveElement(this.document[0])&&(this.element.trigger("focus"),this.previous=s,this._delay(function(){this.previous=s,this.selectedItem=i})),!1!==this._trigger("select",t,{item:i})&&this._value(i.value),this.term=this._value(),this.close(t),this.selectedItem=i}}),this.liveRegion=V("<div>",{role:"status","aria-live":"assertive","aria-relevant":"additions"}).appendTo(this.document[0].body),this._addClass(this.liveRegion,null,"ui-helper-hidden-accessible"),this._on(this.window,{beforeunload:function(){this.element.removeAttr("autocomplete")}})},_destroy:function(){clearTimeout(this.searching),this.element.removeAttr("autocomplete"),this.menu.element.remove(),this.liveRegion.remove()},_setOption:function(t,e){this._super(t,e),"source"===t&&this._initSource(),"appendTo"===t&&this.menu.element.appendTo(this._appendTo()),"disabled"===t&&e&&this.xhr&&this.xhr.abort()},_isEventTargetInWidget:function(t){var e=this.menu.element[0];return t.target===this.element[0]||t.target===e||V.contains(e,t.target)},_closeOnClickOutside:function(t){this._isEventTargetInWidget(t)||this.close()},_appendTo:function(){var t=this.options.appendTo;return t=!(t=!(t=t&&(t.jquery||t.nodeType?V(t):this.document.find(t).eq(0)))||!t[0]?this.element.closest(".ui-front, dialog"):t).length?this.document[0].body:t},_initSource:function(){var i,s,n=this;Array.isArray(this.options.source)?(i=this.options.source,this.source=function(t,e){e(V.ui.autocomplete.filter(i,t.term))}):"string"==typeof this.options.source?(s=this.options.source,this.source=function(t,e){n.xhr&&n.xhr.abort(),n.xhr=V.ajax({url:s,data:t,dataType:"json",success:function(t){e(t)},error:function(){e([])}})}):this.source=this.options.source},_searchTimeout:function(s){clearTimeout(this.searching),this.searching=this._delay(function(){var t=this.term===this._value(),e=this.menu.element.is(":visible"),i=s.altKey||s.ctrlKey||s.metaKey||s.shiftKey;t&&(e||i)||(this.selectedItem=null,this.search(null,s))},this.options.delay)},search:function(t,e){return t=null!=t?t:this._value(),this.term=this._value(),t.length<this.options.minLength?this.close(e):!1!==this._trigger("search",e)?this._search(t):void 0},_search:function(t){this.pending++,this._addClass("ui-autocomplete-loading"),this.cancelSearch=!1,this.source({term:t},this._response())},_response:function(){var e=++this.requestIndex;return function(t){e===this.requestIndex&&this.__response(t),this.pending--,this.pending||this._removeClass("ui-autocomplete-loading")}.bind(this)},__response:function(t){t=t&&this._normalize(t),this._trigger("response",null,{content:t}),!this.options.disabled&&t&&t.length&&!this.cancelSearch?(this._suggest(t),this._trigger("open")):this._close()},close:function(t){this.cancelSearch=!0,this._close(t)},_close:function(t){this._off(this.document,"mousedown"),this.menu.element.is(":visible")&&(this.menu.element.hide(),this.menu.blur(),this.isNewMenu=!0,this._trigger("close",t))},_change:function(t){this.previous!==this._value()&&this._trigger("change",t,{item:this.selectedItem})},_normalize:function(t){return t.length&&t[0].label&&t[0].value?t:V.map(t,function(t){return"string"==typeof t?{label:t,value:t}:V.extend({},t,{label:t.label||t.value,value:t.value||t.label})})},_suggest:function(t){var e=this.menu.element.empty();this._renderMenu(e,t),this.isNewMenu=!0,this.menu.refresh(),e.show(),this._resizeMenu(),e.position(V.extend({of:this.element},this.options.position)),this.options.autoFocus&&this.menu.next(),this._on(this.document,{mousedown:"_closeOnClickOutside"})},_resizeMenu:function(){var t=this.menu.element;t.outerWidth(Math.max(t.width("").outerWidth()+1,this.element.outerWidth()))},_renderMenu:function(i,t){var s=this;V.each(t,function(t,e){s._renderItemData(i,e)})},_renderItemData:function(t,e){return this._renderItem(t,e).data("ui-autocomplete-item",e)},_renderItem:function(t,e){return V("<li>").append(V("<div>").text(e.label)).appendTo(t)},_move:function(t,e){if(this.menu.element.is(":visible"))return this.menu.isFirstItem()&&/^previous/.test(t)||this.menu.isLastItem()&&/^next/.test(t)?(this.isMultiLine||this._value(this.term),void this.menu.blur()):void this.menu[t](e);this.search(null,e)},widget:function(){return this.menu.element},_value:function(){return this.valueMethod.apply(this.element,arguments)},_keyEvent:function(t,e){this.isMultiLine&&!this.menu.element.is(":visible")||(this._move(t,e),e.preventDefault())},_isContentEditable:function(t){if(!t.length)return!1;var e=t.prop("contentEditable");return"inherit"===e?this._isContentEditable(t.parent()):"true"===e}}),V.extend(V.ui.autocomplete,{escapeRegex:function(t){return t.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")},filter:function(t,e){var i=new RegExp(V.ui.autocomplete.escapeRegex(e),"i");return V.grep(t,function(t){return i.test(t.label||t.value||t)})}}),V.widget("ui.autocomplete",V.ui.autocomplete,{options:{messages:{noResults:"No search results.",results:function(t){return t+(1<t?" results are":" result is")+" available, use up and down arrow keys to navigate."}}},__response:function(t){var e;this._superApply(arguments),this.options.disabled||this.cancelSearch||(e=t&&t.length?this.options.messages.results(t.length):this.options.messages.noResults,clearTimeout(this.liveRegionTimer),this.liveRegionTimer=this._delay(function(){this.liveRegion.html(V("<div>").text(e))},100))}});V.ui.autocomplete;var tt=/ui-corner-([a-z]){2,6}/g;V.widget("ui.controlgroup",{version:"1.13.1",defaultElement:"<div>",options:{direction:"horizontal",disabled:null,onlyVisible:!0,items:{button:"input[type=button], input[type=submit], input[type=reset], button, a",controlgroupLabel:".ui-controlgroup-label",checkboxradio:"input[type='checkbox'], input[type='radio']",selectmenu:"select",spinner:".ui-spinner-input"}},_create:function(){this._enhance()},_enhance:function(){this.element.attr("role","toolbar"),this.refresh()},_destroy:function(){this._callChildMethod("destroy"),this.childWidgets.removeData("ui-controlgroup-data"),this.element.removeAttr("role"),this.options.items.controlgroupLabel&&this.element.find(this.options.items.controlgroupLabel).find(".ui-controlgroup-label-contents").contents().unwrap()},_initWidgets:function(){var o=this,a=[];V.each(this.options.items,function(s,t){var e,n={};if(t)return"controlgroupLabel"===s?((e=o.element.find(t)).each(function(){var t=V(this);t.children(".ui-controlgroup-label-contents").length||t.contents().wrapAll("<span class='ui-controlgroup-label-contents'></span>")}),o._addClass(e,null,"ui-widget ui-widget-content ui-state-default"),void(a=a.concat(e.get()))):void(V.fn[s]&&(n=o["_"+s+"Options"]?o["_"+s+"Options"]("middle"):{classes:{}},o.element.find(t).each(function(){var t=V(this),e=t[s]("instance"),i=V.widget.extend({},n);"button"===s&&t.parent(".ui-spinner").length||((e=e||t[s]()[s]("instance"))&&(i.classes=o._resolveClassesValues(i.classes,e)),t[s](i),i=t[s]("widget"),V.data(i[0],"ui-controlgroup-data",e||t[s]("instance")),a.push(i[0]))})))}),this.childWidgets=V(V.uniqueSort(a)),this._addClass(this.childWidgets,"ui-controlgroup-item")},_callChildMethod:function(e){this.childWidgets.each(function(){var t=V(this).data("ui-controlgroup-data");t&&t[e]&&t[e]()})},_updateCornerClass:function(t,e){e=this._buildSimpleOptions(e,"label").classes.label;this._removeClass(t,null,"ui-corner-top ui-corner-bottom ui-corner-left ui-corner-right ui-corner-all"),this._addClass(t,null,e)},_buildSimpleOptions:function(t,e){var i="vertical"===this.options.direction,s={classes:{}};return s.classes[e]={middle:"",first:"ui-corner-"+(i?"top":"left"),last:"ui-corner-"+(i?"bottom":"right"),only:"ui-corner-all"}[t],s},_spinnerOptions:function(t){t=this._buildSimpleOptions(t,"ui-spinner");return t.classes["ui-spinner-up"]="",t.classes["ui-spinner-down"]="",t},_buttonOptions:function(t){return this._buildSimpleOptions(t,"ui-button")},_checkboxradioOptions:function(t){return this._buildSimpleOptions(t,"ui-checkboxradio-label")},_selectmenuOptions:function(t){var e="vertical"===this.options.direction;return{width:e&&"auto",classes:{middle:{"ui-selectmenu-button-open":"","ui-selectmenu-button-closed":""},first:{"ui-selectmenu-button-open":"ui-corner-"+(e?"top":"tl"),"ui-selectmenu-button-closed":"ui-corner-"+(e?"top":"left")},last:{"ui-selectmenu-button-open":e?"":"ui-corner-tr","ui-selectmenu-button-closed":"ui-corner-"+(e?"bottom":"right")},only:{"ui-selectmenu-button-open":"ui-corner-top","ui-selectmenu-button-closed":"ui-corner-all"}}[t]}},_resolveClassesValues:function(i,s){var n={};return V.each(i,function(t){var e=s.options.classes[t]||"",e=String.prototype.trim.call(e.replace(tt,""));n[t]=(e+" "+i[t]).replace(/\s+/g," ")}),n},_setOption:function(t,e){"direction"===t&&this._removeClass("ui-controlgroup-"+this.options.direction),this._super(t,e),"disabled"!==t?this.refresh():this._callChildMethod(e?"disable":"enable")},refresh:function(){var n,o=this;this._addClass("ui-controlgroup ui-controlgroup-"+this.options.direction),"horizontal"===this.options.direction&&this._addClass(null,"ui-helper-clearfix"),this._initWidgets(),n=this.childWidgets,(n=this.options.onlyVisible?n.filter(":visible"):n).length&&(V.each(["first","last"],function(t,e){var i,s=n[e]().data("ui-controlgroup-data");s&&o["_"+s.widgetName+"Options"]?((i=o["_"+s.widgetName+"Options"](1===n.length?"only":e)).classes=o._resolveClassesValues(i.classes,s),s.element[s.widgetName](i)):o._updateCornerClass(n[e](),e)}),this._callChildMethod("refresh"))}});V.widget("ui.checkboxradio",[V.ui.formResetMixin,{version:"1.13.1",options:{disabled:null,label:null,icon:!0,classes:{"ui-checkboxradio-label":"ui-corner-all","ui-checkboxradio-icon":"ui-corner-all"}},_getCreateOptions:function(){var t,e=this,i=this._super()||{};return this._readType(),t=this.element.labels(),this.label=V(t[t.length-1]),this.label.length||V.error("No label found for checkboxradio widget"),this.originalLabel="",this.label.contents().not(this.element[0]).each(function(){e.originalLabel+=3===this.nodeType?V(this).text():this.outerHTML}),this.originalLabel&&(i.label=this.originalLabel),null!=(t=this.element[0].disabled)&&(i.disabled=t),i},_create:function(){var t=this.element[0].checked;this._bindFormResetHandler(),null==this.options.disabled&&(this.options.disabled=this.element[0].disabled),this._setOption("disabled",this.options.disabled),this._addClass("ui-checkboxradio","ui-helper-hidden-accessible"),this._addClass(this.label,"ui-checkboxradio-label","ui-button ui-widget"),"radio"===this.type&&this._addClass(this.label,"ui-checkboxradio-radio-label"),this.options.label&&this.options.label!==this.originalLabel?this._updateLabel():this.originalLabel&&(this.options.label=this.originalLabel),this._enhance(),t&&this._addClass(this.label,"ui-checkboxradio-checked","ui-state-active"),this._on({change:"_toggleClasses",focus:function(){this._addClass(this.label,null,"ui-state-focus ui-visual-focus")},blur:function(){this._removeClass(this.label,null,"ui-state-focus ui-visual-focus")}})},_readType:function(){var t=this.element[0].nodeName.toLowerCase();this.type=this.element[0].type,"input"===t&&/radio|checkbox/.test(this.type)||V.error("Can't create checkboxradio on element.nodeName="+t+" and element.type="+this.type)},_enhance:function(){this._updateIcon(this.element[0].checked)},widget:function(){return this.label},_getRadioGroup:function(){var t=this.element[0].name,e="input[name='"+V.escapeSelector(t)+"']";return t?(this.form.length?V(this.form[0].elements).filter(e):V(e).filter(function(){return 0===V(this)._form().length})).not(this.element):V([])},_toggleClasses:function(){var t=this.element[0].checked;this._toggleClass(this.label,"ui-checkboxradio-checked","ui-state-active",t),this.options.icon&&"checkbox"===this.type&&this._toggleClass(this.icon,null,"ui-icon-check ui-state-checked",t)._toggleClass(this.icon,null,"ui-icon-blank",!t),"radio"===this.type&&this._getRadioGroup().each(function(){var t=V(this).checkboxradio("instance");t&&t._removeClass(t.label,"ui-checkboxradio-checked","ui-state-active")})},_destroy:function(){this._unbindFormResetHandler(),this.icon&&(this.icon.remove(),this.iconSpace.remove())},_setOption:function(t,e){if("label"!==t||e){if(this._super(t,e),"disabled"===t)return this._toggleClass(this.label,null,"ui-state-disabled",e),void(this.element[0].disabled=e);this.refresh()}},_updateIcon:function(t){var e="ui-icon ui-icon-background ";this.options.icon?(this.icon||(this.icon=V("<span>"),this.iconSpace=V("<span> </span>"),this._addClass(this.iconSpace,"ui-checkboxradio-icon-space")),"checkbox"===this.type?(e+=t?"ui-icon-check ui-state-checked":"ui-icon-blank",this._removeClass(this.icon,null,t?"ui-icon-blank":"ui-icon-check")):e+="ui-icon-blank",this._addClass(this.icon,"ui-checkboxradio-icon",e),t||this._removeClass(this.icon,null,"ui-icon-check ui-state-checked"),this.icon.prependTo(this.label).after(this.iconSpace)):void 0!==this.icon&&(this.icon.remove(),this.iconSpace.remove(),delete this.icon)},_updateLabel:function(){var t=this.label.contents().not(this.element[0]);this.icon&&(t=t.not(this.icon[0])),(t=this.iconSpace?t.not(this.iconSpace[0]):t).remove(),this.label.append(this.options.label)},refresh:function(){var t=this.element[0].checked,e=this.element[0].disabled;this._updateIcon(t),this._toggleClass(this.label,"ui-checkboxradio-checked","ui-state-active",t),null!==this.options.label&&this._updateLabel(),e!==this.options.disabled&&this._setOptions({disabled:e})}}]);var et;V.ui.checkboxradio;V.widget("ui.button",{version:"1.13.1",defaultElement:"<button>",options:{classes:{"ui-button":"ui-corner-all"},disabled:null,icon:null,iconPosition:"beginning",label:null,showLabel:!0},_getCreateOptions:function(){var t,e=this._super()||{};return this.isInput=this.element.is("input"),null!=(t=this.element[0].disabled)&&(e.disabled=t),this.originalLabel=this.isInput?this.element.val():this.element.html(),this.originalLabel&&(e.label=this.originalLabel),e},_create:function(){!this.option.showLabel&!this.options.icon&&(this.options.showLabel=!0),null==this.options.disabled&&(this.options.disabled=this.element[0].disabled||!1),this.hasTitle=!!this.element.attr("title"),this.options.label&&this.options.label!==this.originalLabel&&(this.isInput?this.element.val(this.options.label):this.element.html(this.options.label)),this._addClass("ui-button","ui-widget"),this._setOption("disabled",this.options.disabled),this._enhance(),this.element.is("a")&&this._on({keyup:function(t){t.keyCode===V.ui.keyCode.SPACE&&(t.preventDefault(),this.element[0].click?this.element[0].click():this.element.trigger("click"))}})},_enhance:function(){this.element.is("button")||this.element.attr("role","button"),this.options.icon&&(this._updateIcon("icon",this.options.icon),this._updateTooltip())},_updateTooltip:function(){this.title=this.element.attr("title"),this.options.showLabel||this.title||this.element.attr("title",this.options.label)},_updateIcon:function(t,e){var i="iconPosition"!==t,s=i?this.options.iconPosition:e,t="top"===s||"bottom"===s;this.icon?i&&this._removeClass(this.icon,null,this.options.icon):(this.icon=V("<span>"),this._addClass(this.icon,"ui-button-icon","ui-icon"),this.options.showLabel||this._addClass("ui-button-icon-only")),i&&this._addClass(this.icon,null,e),this._attachIcon(s),t?(this._addClass(this.icon,null,"ui-widget-icon-block"),this.iconSpace&&this.iconSpace.remove()):(this.iconSpace||(this.iconSpace=V("<span> </span>"),this._addClass(this.iconSpace,"ui-button-icon-space")),this._removeClass(this.icon,null,"ui-wiget-icon-block"),this._attachIconSpace(s))},_destroy:function(){this.element.removeAttr("role"),this.icon&&this.icon.remove(),this.iconSpace&&this.iconSpace.remove(),this.hasTitle||this.element.removeAttr("title")},_attachIconSpace:function(t){this.icon[/^(?:end|bottom)/.test(t)?"before":"after"](this.iconSpace)},_attachIcon:function(t){this.element[/^(?:end|bottom)/.test(t)?"append":"prepend"](this.icon)},_setOptions:function(t){var e=(void 0===t.showLabel?this.options:t).showLabel,i=(void 0===t.icon?this.options:t).icon;e||i||(t.showLabel=!0),this._super(t)},_setOption:function(t,e){"icon"===t&&(e?this._updateIcon(t,e):this.icon&&(this.icon.remove(),this.iconSpace&&this.iconSpace.remove())),"iconPosition"===t&&this._updateIcon(t,e),"showLabel"===t&&(this._toggleClass("ui-button-icon-only",null,!e),this._updateTooltip()),"label"===t&&(this.isInput?this.element.val(e):(this.element.html(e),this.icon&&(this._attachIcon(this.options.iconPosition),this._attachIconSpace(this.options.iconPosition)))),this._super(t,e),"disabled"===t&&(this._toggleClass(null,"ui-state-disabled",e),(this.element[0].disabled=e)&&this.element.trigger("blur"))},refresh:function(){var t=this.element.is("input, button")?this.element[0].disabled:this.element.hasClass("ui-button-disabled");t!==this.options.disabled&&this._setOptions({disabled:t}),this._updateTooltip()}}),!1!==V.uiBackCompat&&(V.widget("ui.button",V.ui.button,{options:{text:!0,icons:{primary:null,secondary:null}},_create:function(){this.options.showLabel&&!this.options.text&&(this.options.showLabel=this.options.text),!this.options.showLabel&&this.options.text&&(this.options.text=this.options.showLabel),this.options.icon||!this.options.icons.primary&&!this.options.icons.secondary?this.options.icon&&(this.options.icons.primary=this.options.icon):this.options.icons.primary?this.options.icon=this.options.icons.primary:(this.options.icon=this.options.icons.secondary,this.options.iconPosition="end"),this._super()},_setOption:function(t,e){"text"!==t?("showLabel"===t&&(this.options.text=e),"icon"===t&&(this.options.icons.primary=e),"icons"===t&&(e.primary?(this._super("icon",e.primary),this._super("iconPosition","beginning")):e.secondary&&(this._super("icon",e.secondary),this._super("iconPosition","end"))),this._superApply(arguments)):this._super("showLabel",e)}}),V.fn.button=(et=V.fn.button,function(i){var t="string"==typeof i,s=Array.prototype.slice.call(arguments,1),n=this;return t?this.length||"instance"!==i?this.each(function(){var t=V(this).attr("type"),e=V.data(this,"ui-"+("checkbox"!==t&&"radio"!==t?"button":"checkboxradio"));return"instance"===i?(n=e,!1):e?"function"!=typeof e[i]||"_"===i.charAt(0)?V.error("no such method '"+i+"' for button widget instance"):(t=e[i].apply(e,s))!==e&&void 0!==t?(n=t&&t.jquery?n.pushStack(t.get()):t,!1):void 0:V.error("cannot call methods on button prior to initialization; attempted to call method '"+i+"'")}):n=void 0:(s.length&&(i=V.widget.extend.apply(null,[i].concat(s))),this.each(function(){var t=V(this).attr("type"),e="checkbox"!==t&&"radio"!==t?"button":"checkboxradio",t=V.data(this,"ui-"+e);t?(t.option(i||{}),t._init&&t._init()):"button"!=e?V(this).checkboxradio(V.extend({icon:!1},i)):et.call(V(this),i)})),n}),V.fn.buttonset=function(){return V.ui.controlgroup||V.error("Controlgroup widget missing"),"option"===arguments[0]&&"items"===arguments[1]&&arguments[2]?this.controlgroup.apply(this,[arguments[0],"items.button",arguments[2]]):"option"===arguments[0]&&"items"===arguments[1]?this.controlgroup.apply(this,[arguments[0],"items.button"]):("object"==typeof arguments[0]&&arguments[0].items&&(arguments[0].items={button:arguments[0].items}),this.controlgroup.apply(this,arguments))});var it;V.ui.button;function st(){this._curInst=null,this._keyEvent=!1,this._disabledInputs=[],this._datepickerShowing=!1,this._inDialog=!1,this._mainDivId="ui-datepicker-div",this._inlineClass="ui-datepicker-inline",this._appendClass="ui-datepicker-append",this._triggerClass="ui-datepicker-trigger",this._dialogClass="ui-datepicker-dialog",this._disableClass="ui-datepicker-disabled",this._unselectableClass="ui-datepicker-unselectable",this._currentClass="ui-datepicker-current-day",this._dayOverClass="ui-datepicker-days-cell-over",this.regional=[],this.regional[""]={closeText:"Done",prevText:"Prev",nextText:"Next",currentText:"Today",monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],weekHeader:"Wk",dateFormat:"mm/dd/yy",firstDay:0,isRTL:!1,showMonthAfterYear:!1,yearSuffix:"",selectMonthLabel:"Select month",selectYearLabel:"Select year"},this._defaults={showOn:"focus",showAnim:"fadeIn",showOptions:{},defaultDate:null,appendText:"",buttonText:"...",buttonImage:"",buttonImageOnly:!1,hideIfNoPrevNext:!1,navigationAsDateFormat:!1,gotoCurrent:!1,changeMonth:!1,changeYear:!1,yearRange:"c-10:c+10",showOtherMonths:!1,selectOtherMonths:!1,showWeek:!1,calculateWeek:this.iso8601Week,shortYearCutoff:"+10",minDate:null,maxDate:null,duration:"fast",beforeShowDay:null,beforeShow:null,onSelect:null,onChangeMonthYear:null,onClose:null,onUpdateDatepicker:null,numberOfMonths:1,showCurrentAtPos:0,stepMonths:1,stepBigMonths:12,altField:"",altFormat:"",constrainInput:!0,showButtonPanel:!1,autoSize:!1,disabled:!1},V.extend(this._defaults,this.regional[""]),this.regional.en=V.extend(!0,{},this.regional[""]),this.regional["en-US"]=V.extend(!0,{},this.regional.en),this.dpDiv=nt(V("<div id='"+this._mainDivId+"' class='ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>"))}function nt(t){var e="button, .ui-datepicker-prev, .ui-datepicker-next, .ui-datepicker-calendar td a";return t.on("mouseout",e,function(){V(this).removeClass("ui-state-hover"),-1!==this.className.indexOf("ui-datepicker-prev")&&V(this).removeClass("ui-datepicker-prev-hover"),-1!==this.className.indexOf("ui-datepicker-next")&&V(this).removeClass("ui-datepicker-next-hover")}).on("mouseover",e,ot)}function ot(){V.datepicker._isDisabledDatepicker((it.inline?it.dpDiv.parent():it.input)[0])||(V(this).parents(".ui-datepicker-calendar").find("a").removeClass("ui-state-hover"),V(this).addClass("ui-state-hover"),-1!==this.className.indexOf("ui-datepicker-prev")&&V(this).addClass("ui-datepicker-prev-hover"),-1!==this.className.indexOf("ui-datepicker-next")&&V(this).addClass("ui-datepicker-next-hover"))}function at(t,e){for(var i in V.extend(t,e),e)null==e[i]&&(t[i]=e[i]);return t}V.extend(V.ui,{datepicker:{version:"1.13.1"}}),V.extend(st.prototype,{markerClassName:"hasDatepicker",maxRows:4,_widgetDatepicker:function(){return this.dpDiv},setDefaults:function(t){return at(this._defaults,t||{}),this},_attachDatepicker:function(t,e){var i,s=t.nodeName.toLowerCase(),n="div"===s||"span"===s;t.id||(this.uuid+=1,t.id="dp"+this.uuid),(i=this._newInst(V(t),n)).settings=V.extend({},e||{}),"input"===s?this._connectDatepicker(t,i):n&&this._inlineDatepicker(t,i)},_newInst:function(t,e){return{id:t[0].id.replace(/([^A-Za-z0-9_\-])/g,"\\\\$1"),input:t,selectedDay:0,selectedMonth:0,selectedYear:0,drawMonth:0,drawYear:0,inline:e,dpDiv:e?nt(V("<div class='"+this._inlineClass+" ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>")):this.dpDiv}},_connectDatepicker:function(t,e){var i=V(t);e.append=V([]),e.trigger=V([]),i.hasClass(this.markerClassName)||(this._attachments(i,e),i.addClass(this.markerClassName).on("keydown",this._doKeyDown).on("keypress",this._doKeyPress).on("keyup",this._doKeyUp),this._autoSize(e),V.data(t,"datepicker",e),e.settings.disabled&&this._disableDatepicker(t))},_attachments:function(t,e){var i,s=this._get(e,"appendText"),n=this._get(e,"isRTL");e.append&&e.append.remove(),s&&(e.append=V("<span>").addClass(this._appendClass).text(s),t[n?"before":"after"](e.append)),t.off("focus",this._showDatepicker),e.trigger&&e.trigger.remove(),"focus"!==(i=this._get(e,"showOn"))&&"both"!==i||t.on("focus",this._showDatepicker),"button"!==i&&"both"!==i||(s=this._get(e,"buttonText"),i=this._get(e,"buttonImage"),this._get(e,"buttonImageOnly")?e.trigger=V("<img>").addClass(this._triggerClass).attr({src:i,alt:s,title:s}):(e.trigger=V("<button type='button'>").addClass(this._triggerClass),i?e.trigger.html(V("<img>").attr({src:i,alt:s,title:s})):e.trigger.text(s)),t[n?"before":"after"](e.trigger),e.trigger.on("click",function(){return V.datepicker._datepickerShowing&&V.datepicker._lastInput===t[0]?V.datepicker._hideDatepicker():(V.datepicker._datepickerShowing&&V.datepicker._lastInput!==t[0]&&V.datepicker._hideDatepicker(),V.datepicker._showDatepicker(t[0])),!1}))},_autoSize:function(t){var e,i,s,n,o,a;this._get(t,"autoSize")&&!t.inline&&(o=new Date(2009,11,20),(a=this._get(t,"dateFormat")).match(/[DM]/)&&(e=function(t){for(n=s=i=0;n<t.length;n++)t[n].length>i&&(i=t[n].length,s=n);return s},o.setMonth(e(this._get(t,a.match(/MM/)?"monthNames":"monthNamesShort"))),o.setDate(e(this._get(t,a.match(/DD/)?"dayNames":"dayNamesShort"))+20-o.getDay())),t.input.attr("size",this._formatDate(t,o).length))},_inlineDatepicker:function(t,e){var i=V(t);i.hasClass(this.markerClassName)||(i.addClass(this.markerClassName).append(e.dpDiv),V.data(t,"datepicker",e),this._setDate(e,this._getDefaultDate(e),!0),this._updateDatepicker(e),this._updateAlternate(e),e.settings.disabled&&this._disableDatepicker(t),e.dpDiv.css("display","block"))},_dialogDatepicker:function(t,e,i,s,n){var o,a=this._dialogInst;return a||(this.uuid+=1,o="dp"+this.uuid,this._dialogInput=V("<input type='text' id='"+o+"' style='position: absolute; top: -100px; width: 0px;'/>"),this._dialogInput.on("keydown",this._doKeyDown),V("body").append(this._dialogInput),(a=this._dialogInst=this._newInst(this._dialogInput,!1)).settings={},V.data(this._dialogInput[0],"datepicker",a)),at(a.settings,s||{}),e=e&&e.constructor===Date?this._formatDate(a,e):e,this._dialogInput.val(e),this._pos=n?n.length?n:[n.pageX,n.pageY]:null,this._pos||(o=document.documentElement.clientWidth,s=document.documentElement.clientHeight,e=document.documentElement.scrollLeft||document.body.scrollLeft,n=document.documentElement.scrollTop||document.body.scrollTop,this._pos=[o/2-100+e,s/2-150+n]),this._dialogInput.css("left",this._pos[0]+20+"px").css("top",this._pos[1]+"px"),a.settings.onSelect=i,this._inDialog=!0,this.dpDiv.addClass(this._dialogClass),this._showDatepicker(this._dialogInput[0]),V.blockUI&&V.blockUI(this.dpDiv),V.data(this._dialogInput[0],"datepicker",a),this},_destroyDatepicker:function(t){var e,i=V(t),s=V.data(t,"datepicker");i.hasClass(this.markerClassName)&&(e=t.nodeName.toLowerCase(),V.removeData(t,"datepicker"),"input"===e?(s.append.remove(),s.trigger.remove(),i.removeClass(this.markerClassName).off("focus",this._showDatepicker).off("keydown",this._doKeyDown).off("keypress",this._doKeyPress).off("keyup",this._doKeyUp)):"div"!==e&&"span"!==e||i.removeClass(this.markerClassName).empty(),it===s&&(it=null,this._curInst=null))},_enableDatepicker:function(e){var t,i=V(e),s=V.data(e,"datepicker");i.hasClass(this.markerClassName)&&("input"===(t=e.nodeName.toLowerCase())?(e.disabled=!1,s.trigger.filter("button").each(function(){this.disabled=!1}).end().filter("img").css({opacity:"1.0",cursor:""})):"div"!==t&&"span"!==t||((i=i.children("."+this._inlineClass)).children().removeClass("ui-state-disabled"),i.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",!1)),this._disabledInputs=V.map(this._disabledInputs,function(t){return t===e?null:t}))},_disableDatepicker:function(e){var t,i=V(e),s=V.data(e,"datepicker");i.hasClass(this.markerClassName)&&("input"===(t=e.nodeName.toLowerCase())?(e.disabled=!0,s.trigger.filter("button").each(function(){this.disabled=!0}).end().filter("img").css({opacity:"0.5",cursor:"default"})):"div"!==t&&"span"!==t||((i=i.children("."+this._inlineClass)).children().addClass("ui-state-disabled"),i.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",!0)),this._disabledInputs=V.map(this._disabledInputs,function(t){return t===e?null:t}),this._disabledInputs[this._disabledInputs.length]=e)},_isDisabledDatepicker:function(t){if(!t)return!1;for(var e=0;e<this._disabledInputs.length;e++)if(this._disabledInputs[e]===t)return!0;return!1},_getInst:function(t){try{return V.data(t,"datepicker")}catch(t){throw"Missing instance data for this datepicker"}},_optionDatepicker:function(t,e,i){var s,n,o=this._getInst(t);if(2===arguments.length&&"string"==typeof e)return"defaults"===e?V.extend({},V.datepicker._defaults):o?"all"===e?V.extend({},o.settings):this._get(o,e):null;s=e||{},"string"==typeof e&&((s={})[e]=i),o&&(this._curInst===o&&this._hideDatepicker(),n=this._getDateDatepicker(t,!0),e=this._getMinMaxDate(o,"min"),i=this._getMinMaxDate(o,"max"),at(o.settings,s),null!==e&&void 0!==s.dateFormat&&void 0===s.minDate&&(o.settings.minDate=this._formatDate(o,e)),null!==i&&void 0!==s.dateFormat&&void 0===s.maxDate&&(o.settings.maxDate=this._formatDate(o,i)),"disabled"in s&&(s.disabled?this._disableDatepicker(t):this._enableDatepicker(t)),this._attachments(V(t),o),this._autoSize(o),this._setDate(o,n),this._updateAlternate(o),this._updateDatepicker(o))},_changeDatepicker:function(t,e,i){this._optionDatepicker(t,e,i)},_refreshDatepicker:function(t){t=this._getInst(t);t&&this._updateDatepicker(t)},_setDateDatepicker:function(t,e){t=this._getInst(t);t&&(this._setDate(t,e),this._updateDatepicker(t),this._updateAlternate(t))},_getDateDatepicker:function(t,e){t=this._getInst(t);return t&&!t.inline&&this._setDateFromField(t,e),t?this._getDate(t):null},_doKeyDown:function(t){var e,i,s=V.datepicker._getInst(t.target),n=!0,o=s.dpDiv.is(".ui-datepicker-rtl");if(s._keyEvent=!0,V.datepicker._datepickerShowing)switch(t.keyCode){case 9:V.datepicker._hideDatepicker(),n=!1;break;case 13:return(i=V("td."+V.datepicker._dayOverClass+":not(."+V.datepicker._currentClass+")",s.dpDiv))[0]&&V.datepicker._selectDay(t.target,s.selectedMonth,s.selectedYear,i[0]),(e=V.datepicker._get(s,"onSelect"))?(i=V.datepicker._formatDate(s),e.apply(s.input?s.input[0]:null,[i,s])):V.datepicker._hideDatepicker(),!1;case 27:V.datepicker._hideDatepicker();break;case 33:V.datepicker._adjustDate(t.target,t.ctrlKey?-V.datepicker._get(s,"stepBigMonths"):-V.datepicker._get(s,"stepMonths"),"M");break;case 34:V.datepicker._adjustDate(t.target,t.ctrlKey?+V.datepicker._get(s,"stepBigMonths"):+V.datepicker._get(s,"stepMonths"),"M");break;case 35:(t.ctrlKey||t.metaKey)&&V.datepicker._clearDate(t.target),n=t.ctrlKey||t.metaKey;break;case 36:(t.ctrlKey||t.metaKey)&&V.datepicker._gotoToday(t.target),n=t.ctrlKey||t.metaKey;break;case 37:(t.ctrlKey||t.metaKey)&&V.datepicker._adjustDate(t.target,o?1:-1,"D"),n=t.ctrlKey||t.metaKey,t.originalEvent.altKey&&V.datepicker._adjustDate(t.target,t.ctrlKey?-V.datepicker._get(s,"stepBigMonths"):-V.datepicker._get(s,"stepMonths"),"M");break;case 38:(t.ctrlKey||t.metaKey)&&V.datepicker._adjustDate(t.target,-7,"D"),n=t.ctrlKey||t.metaKey;break;case 39:(t.ctrlKey||t.metaKey)&&V.datepicker._adjustDate(t.target,o?-1:1,"D"),n=t.ctrlKey||t.metaKey,t.originalEvent.altKey&&V.datepicker._adjustDate(t.target,t.ctrlKey?+V.datepicker._get(s,"stepBigMonths"):+V.datepicker._get(s,"stepMonths"),"M");break;case 40:(t.ctrlKey||t.metaKey)&&V.datepicker._adjustDate(t.target,7,"D"),n=t.ctrlKey||t.metaKey;break;default:n=!1}else 36===t.keyCode&&t.ctrlKey?V.datepicker._showDatepicker(this):n=!1;n&&(t.preventDefault(),t.stopPropagation())},_doKeyPress:function(t){var e,i=V.datepicker._getInst(t.target);if(V.datepicker._get(i,"constrainInput"))return e=V.datepicker._possibleChars(V.datepicker._get(i,"dateFormat")),i=String.fromCharCode(null==t.charCode?t.keyCode:t.charCode),t.ctrlKey||t.metaKey||i<" "||!e||-1<e.indexOf(i)},_doKeyUp:function(t){t=V.datepicker._getInst(t.target);if(t.input.val()!==t.lastVal)try{V.datepicker.parseDate(V.datepicker._get(t,"dateFormat"),t.input?t.input.val():null,V.datepicker._getFormatConfig(t))&&(V.datepicker._setDateFromField(t),V.datepicker._updateAlternate(t),V.datepicker._updateDatepicker(t))}catch(t){}return!0},_showDatepicker:function(t){var e,i,s,n;"input"!==(t=t.target||t).nodeName.toLowerCase()&&(t=V("input",t.parentNode)[0]),V.datepicker._isDisabledDatepicker(t)||V.datepicker._lastInput===t||(n=V.datepicker._getInst(t),V.datepicker._curInst&&V.datepicker._curInst!==n&&(V.datepicker._curInst.dpDiv.stop(!0,!0),n&&V.datepicker._datepickerShowing&&V.datepicker._hideDatepicker(V.datepicker._curInst.input[0])),!1!==(i=(s=V.datepicker._get(n,"beforeShow"))?s.apply(t,[t,n]):{})&&(at(n.settings,i),n.lastVal=null,V.datepicker._lastInput=t,V.datepicker._setDateFromField(n),V.datepicker._inDialog&&(t.value=""),V.datepicker._pos||(V.datepicker._pos=V.datepicker._findPos(t),V.datepicker._pos[1]+=t.offsetHeight),e=!1,V(t).parents().each(function(){return!(e|="fixed"===V(this).css("position"))}),s={left:V.datepicker._pos[0],top:V.datepicker._pos[1]},V.datepicker._pos=null,n.dpDiv.empty(),n.dpDiv.css({position:"absolute",display:"block",top:"-1000px"}),V.datepicker._updateDatepicker(n),s=V.datepicker._checkOffset(n,s,e),n.dpDiv.css({position:V.datepicker._inDialog&&V.blockUI?"static":e?"fixed":"absolute",display:"none",left:s.left+"px",top:s.top+"px"}),n.inline||(i=V.datepicker._get(n,"showAnim"),s=V.datepicker._get(n,"duration"),n.dpDiv.css("z-index",function(t){for(var e,i;t.length&&t[0]!==document;){if(("absolute"===(e=t.css("position"))||"relative"===e||"fixed"===e)&&(i=parseInt(t.css("zIndex"),10),!isNaN(i)&&0!==i))return i;t=t.parent()}return 0}(V(t))+1),V.datepicker._datepickerShowing=!0,V.effects&&V.effects.effect[i]?n.dpDiv.show(i,V.datepicker._get(n,"showOptions"),s):n.dpDiv[i||"show"](i?s:null),V.datepicker._shouldFocusInput(n)&&n.input.trigger("focus"),V.datepicker._curInst=n)))},_updateDatepicker:function(t){this.maxRows=4,(it=t).dpDiv.empty().append(this._generateHTML(t)),this._attachHandlers(t);var e,i=this._getNumberOfMonths(t),s=i[1],n=t.dpDiv.find("."+this._dayOverClass+" a"),o=V.datepicker._get(t,"onUpdateDatepicker");0<n.length&&ot.apply(n.get(0)),t.dpDiv.removeClass("ui-datepicker-multi-2 ui-datepicker-multi-3 ui-datepicker-multi-4").width(""),1<s&&t.dpDiv.addClass("ui-datepicker-multi-"+s).css("width",17*s+"em"),t.dpDiv[(1!==i[0]||1!==i[1]?"add":"remove")+"Class"]("ui-datepicker-multi"),t.dpDiv[(this._get(t,"isRTL")?"add":"remove")+"Class"]("ui-datepicker-rtl"),t===V.datepicker._curInst&&V.datepicker._datepickerShowing&&V.datepicker._shouldFocusInput(t)&&t.input.trigger("focus"),t.yearshtml&&(e=t.yearshtml,setTimeout(function(){e===t.yearshtml&&t.yearshtml&&t.dpDiv.find("select.ui-datepicker-year").first().replaceWith(t.yearshtml),e=t.yearshtml=null},0)),o&&o.apply(t.input?t.input[0]:null,[t])},_shouldFocusInput:function(t){return t.input&&t.input.is(":visible")&&!t.input.is(":disabled")&&!t.input.is(":focus")},_checkOffset:function(t,e,i){var s=t.dpDiv.outerWidth(),n=t.dpDiv.outerHeight(),o=t.input?t.input.outerWidth():0,a=t.input?t.input.outerHeight():0,r=document.documentElement.clientWidth+(i?0:V(document).scrollLeft()),l=document.documentElement.clientHeight+(i?0:V(document).scrollTop());return e.left-=this._get(t,"isRTL")?s-o:0,e.left-=i&&e.left===t.input.offset().left?V(document).scrollLeft():0,e.top-=i&&e.top===t.input.offset().top+a?V(document).scrollTop():0,e.left-=Math.min(e.left,e.left+s>r&&s<r?Math.abs(e.left+s-r):0),e.top-=Math.min(e.top,e.top+n>l&&n<l?Math.abs(n+a):0),e},_findPos:function(t){for(var e=this._getInst(t),i=this._get(e,"isRTL");t&&("hidden"===t.type||1!==t.nodeType||V.expr.pseudos.hidden(t));)t=t[i?"previousSibling":"nextSibling"];return[(e=V(t).offset()).left,e.top]},_hideDatepicker:function(t){var e,i,s=this._curInst;!s||t&&s!==V.data(t,"datepicker")||this._datepickerShowing&&(e=this._get(s,"showAnim"),i=this._get(s,"duration"),t=function(){V.datepicker._tidyDialog(s)},V.effects&&(V.effects.effect[e]||V.effects[e])?s.dpDiv.hide(e,V.datepicker._get(s,"showOptions"),i,t):s.dpDiv["slideDown"===e?"slideUp":"fadeIn"===e?"fadeOut":"hide"](e?i:null,t),e||t(),this._datepickerShowing=!1,(t=this._get(s,"onClose"))&&t.apply(s.input?s.input[0]:null,[s.input?s.input.val():"",s]),this._lastInput=null,this._inDialog&&(this._dialogInput.css({position:"absolute",left:"0",top:"-100px"}),V.blockUI&&(V.unblockUI(),V("body").append(this.dpDiv))),this._inDialog=!1)},_tidyDialog:function(t){t.dpDiv.removeClass(this._dialogClass).off(".ui-datepicker-calendar")},_checkExternalClick:function(t){var e;V.datepicker._curInst&&(e=V(t.target),t=V.datepicker._getInst(e[0]),(e[0].id===V.datepicker._mainDivId||0!==e.parents("#"+V.datepicker._mainDivId).length||e.hasClass(V.datepicker.markerClassName)||e.closest("."+V.datepicker._triggerClass).length||!V.datepicker._datepickerShowing||V.datepicker._inDialog&&V.blockUI)&&(!e.hasClass(V.datepicker.markerClassName)||V.datepicker._curInst===t)||V.datepicker._hideDatepicker())},_adjustDate:function(t,e,i){var s=V(t),t=this._getInst(s[0]);this._isDisabledDatepicker(s[0])||(this._adjustInstDate(t,e,i),this._updateDatepicker(t))},_gotoToday:function(t){var e=V(t),i=this._getInst(e[0]);this._get(i,"gotoCurrent")&&i.currentDay?(i.selectedDay=i.currentDay,i.drawMonth=i.selectedMonth=i.currentMonth,i.drawYear=i.selectedYear=i.currentYear):(t=new Date,i.selectedDay=t.getDate(),i.drawMonth=i.selectedMonth=t.getMonth(),i.drawYear=i.selectedYear=t.getFullYear()),this._notifyChange(i),this._adjustDate(e)},_selectMonthYear:function(t,e,i){var s=V(t),t=this._getInst(s[0]);t["selected"+("M"===i?"Month":"Year")]=t["draw"+("M"===i?"Month":"Year")]=parseInt(e.options[e.selectedIndex].value,10),this._notifyChange(t),this._adjustDate(s)},_selectDay:function(t,e,i,s){var n=V(t);V(s).hasClass(this._unselectableClass)||this._isDisabledDatepicker(n[0])||((n=this._getInst(n[0])).selectedDay=n.currentDay=parseInt(V("a",s).attr("data-date")),n.selectedMonth=n.currentMonth=e,n.selectedYear=n.currentYear=i,this._selectDate(t,this._formatDate(n,n.currentDay,n.currentMonth,n.currentYear)))},_clearDate:function(t){t=V(t);this._selectDate(t,"")},_selectDate:function(t,e){var i=V(t),t=this._getInst(i[0]);e=null!=e?e:this._formatDate(t),t.input&&t.input.val(e),this._updateAlternate(t),(i=this._get(t,"onSelect"))?i.apply(t.input?t.input[0]:null,[e,t]):t.input&&t.input.trigger("change"),t.inline?this._updateDatepicker(t):(this._hideDatepicker(),this._lastInput=t.input[0],"object"!=typeof t.input[0]&&t.input.trigger("focus"),this._lastInput=null)},_updateAlternate:function(t){var e,i,s=this._get(t,"altField");s&&(e=this._get(t,"altFormat")||this._get(t,"dateFormat"),i=this._getDate(t),t=this.formatDate(e,i,this._getFormatConfig(t)),V(document).find(s).val(t))},noWeekends:function(t){t=t.getDay();return[0<t&&t<6,""]},iso8601Week:function(t){var e=new Date(t.getTime());return e.setDate(e.getDate()+4-(e.getDay()||7)),t=e.getTime(),e.setMonth(0),e.setDate(1),Math.floor(Math.round((t-e)/864e5)/7)+1},parseDate:function(e,n,t){if(null==e||null==n)throw"Invalid arguments";if(""===(n="object"==typeof n?n.toString():n+""))return null;for(var i,s,o,a=0,r=(t?t.shortYearCutoff:null)||this._defaults.shortYearCutoff,r="string"!=typeof r?r:(new Date).getFullYear()%100+parseInt(r,10),l=(t?t.dayNamesShort:null)||this._defaults.dayNamesShort,h=(t?t.dayNames:null)||this._defaults.dayNames,c=(t?t.monthNamesShort:null)||this._defaults.monthNamesShort,u=(t?t.monthNames:null)||this._defaults.monthNames,d=-1,p=-1,f=-1,g=-1,m=!1,_=function(t){t=w+1<e.length&&e.charAt(w+1)===t;return t&&w++,t},v=function(t){var e=_(t),e="@"===t?14:"!"===t?20:"y"===t&&e?4:"o"===t?3:2,e=new RegExp("^\\d{"+("y"===t?e:1)+","+e+"}"),e=n.substring(a).match(e);if(!e)throw"Missing number at position "+a;return a+=e[0].length,parseInt(e[0],10)},b=function(t,e,i){var s=-1,e=V.map(_(t)?i:e,function(t,e){return[[e,t]]}).sort(function(t,e){return-(t[1].length-e[1].length)});if(V.each(e,function(t,e){var i=e[1];if(n.substr(a,i.length).toLowerCase()===i.toLowerCase())return s=e[0],a+=i.length,!1}),-1!==s)return s+1;throw"Unknown name at position "+a},y=function(){if(n.charAt(a)!==e.charAt(w))throw"Unexpected literal at position "+a;a++},w=0;w<e.length;w++)if(m)"'"!==e.charAt(w)||_("'")?y():m=!1;else switch(e.charAt(w)){case"d":f=v("d");break;case"D":b("D",l,h);break;case"o":g=v("o");break;case"m":p=v("m");break;case"M":p=b("M",c,u);break;case"y":d=v("y");break;case"@":d=(o=new Date(v("@"))).getFullYear(),p=o.getMonth()+1,f=o.getDate();break;case"!":d=(o=new Date((v("!")-this._ticksTo1970)/1e4)).getFullYear(),p=o.getMonth()+1,f=o.getDate();break;case"'":_("'")?y():m=!0;break;default:y()}if(a<n.length&&(s=n.substr(a),!/^\s+/.test(s)))throw"Extra/unparsed characters found in date: "+s;if(-1===d?d=(new Date).getFullYear():d<100&&(d+=(new Date).getFullYear()-(new Date).getFullYear()%100+(d<=r?0:-100)),-1<g)for(p=1,f=g;;){if(f<=(i=this._getDaysInMonth(d,p-1)))break;p++,f-=i}if((o=this._daylightSavingAdjust(new Date(d,p-1,f))).getFullYear()!==d||o.getMonth()+1!==p||o.getDate()!==f)throw"Invalid date";return o},ATOM:"yy-mm-dd",COOKIE:"D, dd M yy",ISO_8601:"yy-mm-dd",RFC_822:"D, d M y",RFC_850:"DD, dd-M-y",RFC_1036:"D, d M y",RFC_1123:"D, d M yy",RFC_2822:"D, d M yy",RSS:"D, d M y",TICKS:"!",TIMESTAMP:"@",W3C:"yy-mm-dd",_ticksTo1970:24*(718685+Math.floor(492.5)-Math.floor(19.7)+Math.floor(4.925))*60*60*1e7,formatDate:function(e,t,i){if(!t)return"";function s(t,e,i){var s=""+e;if(c(t))for(;s.length<i;)s="0"+s;return s}function n(t,e,i,s){return(c(t)?s:i)[e]}var o,a=(i?i.dayNamesShort:null)||this._defaults.dayNamesShort,r=(i?i.dayNames:null)||this._defaults.dayNames,l=(i?i.monthNamesShort:null)||this._defaults.monthNamesShort,h=(i?i.monthNames:null)||this._defaults.monthNames,c=function(t){t=o+1<e.length&&e.charAt(o+1)===t;return t&&o++,t},u="",d=!1;if(t)for(o=0;o<e.length;o++)if(d)"'"!==e.charAt(o)||c("'")?u+=e.charAt(o):d=!1;else switch(e.charAt(o)){case"d":u+=s("d",t.getDate(),2);break;case"D":u+=n("D",t.getDay(),a,r);break;case"o":u+=s("o",Math.round((new Date(t.getFullYear(),t.getMonth(),t.getDate()).getTime()-new Date(t.getFullYear(),0,0).getTime())/864e5),3);break;case"m":u+=s("m",t.getMonth()+1,2);break;case"M":u+=n("M",t.getMonth(),l,h);break;case"y":u+=c("y")?t.getFullYear():(t.getFullYear()%100<10?"0":"")+t.getFullYear()%100;break;case"@":u+=t.getTime();break;case"!":u+=1e4*t.getTime()+this._ticksTo1970;break;case"'":c("'")?u+="'":d=!0;break;default:u+=e.charAt(o)}return u},_possibleChars:function(e){for(var t="",i=!1,s=function(t){t=n+1<e.length&&e.charAt(n+1)===t;return t&&n++,t},n=0;n<e.length;n++)if(i)"'"!==e.charAt(n)||s("'")?t+=e.charAt(n):i=!1;else switch(e.charAt(n)){case"d":case"m":case"y":case"@":t+="0123456789";break;case"D":case"M":return null;case"'":s("'")?t+="'":i=!0;break;default:t+=e.charAt(n)}return t},_get:function(t,e){return(void 0!==t.settings[e]?t.settings:this._defaults)[e]},_setDateFromField:function(t,e){if(t.input.val()!==t.lastVal){var i=this._get(t,"dateFormat"),s=t.lastVal=t.input?t.input.val():null,n=this._getDefaultDate(t),o=n,a=this._getFormatConfig(t);try{o=this.parseDate(i,s,a)||n}catch(t){s=e?"":s}t.selectedDay=o.getDate(),t.drawMonth=t.selectedMonth=o.getMonth(),t.drawYear=t.selectedYear=o.getFullYear(),t.currentDay=s?o.getDate():0,t.currentMonth=s?o.getMonth():0,t.currentYear=s?o.getFullYear():0,this._adjustInstDate(t)}},_getDefaultDate:function(t){return this._restrictMinMax(t,this._determineDate(t,this._get(t,"defaultDate"),new Date))},_determineDate:function(r,t,e){var i,s,t=null==t||""===t?e:"string"==typeof t?function(t){try{return V.datepicker.parseDate(V.datepicker._get(r,"dateFormat"),t,V.datepicker._getFormatConfig(r))}catch(t){}for(var e=(t.toLowerCase().match(/^c/)?V.datepicker._getDate(r):null)||new Date,i=e.getFullYear(),s=e.getMonth(),n=e.getDate(),o=/([+\-]?[0-9]+)\s*(d|D|w|W|m|M|y|Y)?/g,a=o.exec(t);a;){switch(a[2]||"d"){case"d":case"D":n+=parseInt(a[1],10);break;case"w":case"W":n+=7*parseInt(a[1],10);break;case"m":case"M":s+=parseInt(a[1],10),n=Math.min(n,V.datepicker._getDaysInMonth(i,s));break;case"y":case"Y":i+=parseInt(a[1],10),n=Math.min(n,V.datepicker._getDaysInMonth(i,s))}a=o.exec(t)}return new Date(i,s,n)}(t):"number"==typeof t?isNaN(t)?e:(i=t,(s=new Date).setDate(s.getDate()+i),s):new Date(t.getTime());return(t=t&&"Invalid Date"===t.toString()?e:t)&&(t.setHours(0),t.setMinutes(0),t.setSeconds(0),t.setMilliseconds(0)),this._daylightSavingAdjust(t)},_daylightSavingAdjust:function(t){return t?(t.setHours(12<t.getHours()?t.getHours()+2:0),t):null},_setDate:function(t,e,i){var s=!e,n=t.selectedMonth,o=t.selectedYear,e=this._restrictMinMax(t,this._determineDate(t,e,new Date));t.selectedDay=t.currentDay=e.getDate(),t.drawMonth=t.selectedMonth=t.currentMonth=e.getMonth(),t.drawYear=t.selectedYear=t.currentYear=e.getFullYear(),n===t.selectedMonth&&o===t.selectedYear||i||this._notifyChange(t),this._adjustInstDate(t),t.input&&t.input.val(s?"":this._formatDate(t))},_getDate:function(t){return!t.currentYear||t.input&&""===t.input.val()?null:this._daylightSavingAdjust(new Date(t.currentYear,t.currentMonth,t.currentDay))},_attachHandlers:function(t){var e=this._get(t,"stepMonths"),i="#"+t.id.replace(/\\\\/g,"\\");t.dpDiv.find("[data-handler]").map(function(){var t={prev:function(){V.datepicker._adjustDate(i,-e,"M")},next:function(){V.datepicker._adjustDate(i,+e,"M")},hide:function(){V.datepicker._hideDatepicker()},today:function(){V.datepicker._gotoToday(i)},selectDay:function(){return V.datepicker._selectDay(i,+this.getAttribute("data-month"),+this.getAttribute("data-year"),this),!1},selectMonth:function(){return V.datepicker._selectMonthYear(i,this,"M"),!1},selectYear:function(){return V.datepicker._selectMonthYear(i,this,"Y"),!1}};V(this).on(this.getAttribute("data-event"),t[this.getAttribute("data-handler")])})},_generateHTML:function(t){var e,i,s,n,o,a,r,l,h,c,u,d,p,f,g,m,_,v,b,y,w,x,k,C,D,I,T,P,M,S,H,z,A=new Date,O=this._daylightSavingAdjust(new Date(A.getFullYear(),A.getMonth(),A.getDate())),N=this._get(t,"isRTL"),E=this._get(t,"showButtonPanel"),W=this._get(t,"hideIfNoPrevNext"),F=this._get(t,"navigationAsDateFormat"),L=this._getNumberOfMonths(t),R=this._get(t,"showCurrentAtPos"),A=this._get(t,"stepMonths"),Y=1!==L[0]||1!==L[1],B=this._daylightSavingAdjust(t.currentDay?new Date(t.currentYear,t.currentMonth,t.currentDay):new Date(9999,9,9)),j=this._getMinMaxDate(t,"min"),q=this._getMinMaxDate(t,"max"),K=t.drawMonth-R,U=t.drawYear;if(K<0&&(K+=12,U--),q)for(e=this._daylightSavingAdjust(new Date(q.getFullYear(),q.getMonth()-L[0]*L[1]+1,q.getDate())),e=j&&e<j?j:e;this._daylightSavingAdjust(new Date(U,K,1))>e;)--K<0&&(K=11,U--);for(t.drawMonth=K,t.drawYear=U,R=this._get(t,"prevText"),R=F?this.formatDate(R,this._daylightSavingAdjust(new Date(U,K-A,1)),this._getFormatConfig(t)):R,i=this._canAdjustMonth(t,-1,U,K)?V("<a>").attr({class:"ui-datepicker-prev ui-corner-all","data-handler":"prev","data-event":"click",title:R}).append(V("<span>").addClass("ui-icon ui-icon-circle-triangle-"+(N?"e":"w")).text(R))[0].outerHTML:W?"":V("<a>").attr({class:"ui-datepicker-prev ui-corner-all ui-state-disabled",title:R}).append(V("<span>").addClass("ui-icon ui-icon-circle-triangle-"+(N?"e":"w")).text(R))[0].outerHTML,R=this._get(t,"nextText"),R=F?this.formatDate(R,this._daylightSavingAdjust(new Date(U,K+A,1)),this._getFormatConfig(t)):R,s=this._canAdjustMonth(t,1,U,K)?V("<a>").attr({class:"ui-datepicker-next ui-corner-all","data-handler":"next","data-event":"click",title:R}).append(V("<span>").addClass("ui-icon ui-icon-circle-triangle-"+(N?"w":"e")).text(R))[0].outerHTML:W?"":V("<a>").attr({class:"ui-datepicker-next ui-corner-all ui-state-disabled",title:R}).append(V("<span>").attr("class","ui-icon ui-icon-circle-triangle-"+(N?"w":"e")).text(R))[0].outerHTML,A=this._get(t,"currentText"),W=this._get(t,"gotoCurrent")&&t.currentDay?B:O,A=F?this.formatDate(A,W,this._getFormatConfig(t)):A,R="",t.inline||(R=V("<button>").attr({type:"button",class:"ui-datepicker-close ui-state-default ui-priority-primary ui-corner-all","data-handler":"hide","data-event":"click"}).text(this._get(t,"closeText"))[0].outerHTML),F="",E&&(F=V("<div class='ui-datepicker-buttonpane ui-widget-content'>").append(N?R:"").append(this._isInRange(t,W)?V("<button>").attr({type:"button",class:"ui-datepicker-current ui-state-default ui-priority-secondary ui-corner-all","data-handler":"today","data-event":"click"}).text(A):"").append(N?"":R)[0].outerHTML),n=parseInt(this._get(t,"firstDay"),10),n=isNaN(n)?0:n,o=this._get(t,"showWeek"),a=this._get(t,"dayNames"),r=this._get(t,"dayNamesMin"),l=this._get(t,"monthNames"),h=this._get(t,"monthNamesShort"),c=this._get(t,"beforeShowDay"),u=this._get(t,"showOtherMonths"),d=this._get(t,"selectOtherMonths"),p=this._getDefaultDate(t),f="",m=0;m<L[0];m++){for(_="",this.maxRows=4,v=0;v<L[1];v++){if(b=this._daylightSavingAdjust(new Date(U,K,t.selectedDay)),y=" ui-corner-all",w="",Y){if(w+="<div class='ui-datepicker-group",1<L[1])switch(v){case 0:w+=" ui-datepicker-group-first",y=" ui-corner-"+(N?"right":"left");break;case L[1]-1:w+=" ui-datepicker-group-last",y=" ui-corner-"+(N?"left":"right");break;default:w+=" ui-datepicker-group-middle",y=""}w+="'>"}for(w+="<div class='ui-datepicker-header ui-widget-header ui-helper-clearfix"+y+"'>"+(/all|left/.test(y)&&0===m?N?s:i:"")+(/all|right/.test(y)&&0===m?N?i:s:"")+this._generateMonthYearHeader(t,K,U,j,q,0<m||0<v,l,h)+"</div><table class='ui-datepicker-calendar'><thead><tr>",x=o?"<th class='ui-datepicker-week-col'>"+this._get(t,"weekHeader")+"</th>":"",g=0;g<7;g++)x+="<th scope='col'"+(5<=(g+n+6)%7?" class='ui-datepicker-week-end'":"")+"><span title='"+a[k=(g+n)%7]+"'>"+r[k]+"</span></th>";for(w+=x+"</tr></thead><tbody>",D=this._getDaysInMonth(U,K),U===t.selectedYear&&K===t.selectedMonth&&(t.selectedDay=Math.min(t.selectedDay,D)),C=(this._getFirstDayOfMonth(U,K)-n+7)%7,D=Math.ceil((C+D)/7),I=Y&&this.maxRows>D?this.maxRows:D,this.maxRows=I,T=this._daylightSavingAdjust(new Date(U,K,1-C)),P=0;P<I;P++){for(w+="<tr>",M=o?"<td class='ui-datepicker-week-col'>"+this._get(t,"calculateWeek")(T)+"</td>":"",g=0;g<7;g++)S=c?c.apply(t.input?t.input[0]:null,[T]):[!0,""],z=(H=T.getMonth()!==K)&&!d||!S[0]||j&&T<j||q&&q<T,M+="<td class='"+(5<=(g+n+6)%7?" ui-datepicker-week-end":"")+(H?" ui-datepicker-other-month":"")+(T.getTime()===b.getTime()&&K===t.selectedMonth&&t._keyEvent||p.getTime()===T.getTime()&&p.getTime()===b.getTime()?" "+this._dayOverClass:"")+(z?" "+this._unselectableClass+" ui-state-disabled":"")+(H&&!u?"":" "+S[1]+(T.getTime()===B.getTime()?" "+this._currentClass:"")+(T.getTime()===O.getTime()?" ui-datepicker-today":""))+"'"+(H&&!u||!S[2]?"":" title='"+S[2].replace(/'/g,"&#39;")+"'")+(z?"":" data-handler='selectDay' data-event='click' data-month='"+T.getMonth()+"' data-year='"+T.getFullYear()+"'")+">"+(H&&!u?"&#xa0;":z?"<span class='ui-state-default'>"+T.getDate()+"</span>":"<a class='ui-state-default"+(T.getTime()===O.getTime()?" ui-state-highlight":"")+(T.getTime()===B.getTime()?" ui-state-active":"")+(H?" ui-priority-secondary":"")+"' href='#' aria-current='"+(T.getTime()===B.getTime()?"true":"false")+"' data-date='"+T.getDate()+"'>"+T.getDate()+"</a>")+"</td>",T.setDate(T.getDate()+1),T=this._daylightSavingAdjust(T);w+=M+"</tr>"}11<++K&&(K=0,U++),_+=w+="</tbody></table>"+(Y?"</div>"+(0<L[0]&&v===L[1]-1?"<div class='ui-datepicker-row-break'></div>":""):"")}f+=_}return f+=F,t._keyEvent=!1,f},_generateMonthYearHeader:function(t,e,i,s,n,o,a,r){var l,h,c,u,d,p,f=this._get(t,"changeMonth"),g=this._get(t,"changeYear"),m=this._get(t,"showMonthAfterYear"),_=this._get(t,"selectMonthLabel"),v=this._get(t,"selectYearLabel"),b="<div class='ui-datepicker-title'>",y="";if(o||!f)y+="<span class='ui-datepicker-month'>"+a[e]+"</span>";else{for(l=s&&s.getFullYear()===i,h=n&&n.getFullYear()===i,y+="<select class='ui-datepicker-month' aria-label='"+_+"' data-handler='selectMonth' data-event='change'>",c=0;c<12;c++)(!l||c>=s.getMonth())&&(!h||c<=n.getMonth())&&(y+="<option value='"+c+"'"+(c===e?" selected='selected'":"")+">"+r[c]+"</option>");y+="</select>"}if(m||(b+=y+(!o&&f&&g?"":"&#xa0;")),!t.yearshtml)if(t.yearshtml="",o||!g)b+="<span class='ui-datepicker-year'>"+i+"</span>";else{for(a=this._get(t,"yearRange").split(":"),u=(new Date).getFullYear(),d=(_=function(t){t=t.match(/c[+\-].*/)?i+parseInt(t.substring(1),10):t.match(/[+\-].*/)?u+parseInt(t,10):parseInt(t,10);return isNaN(t)?u:t})(a[0]),p=Math.max(d,_(a[1]||"")),d=s?Math.max(d,s.getFullYear()):d,p=n?Math.min(p,n.getFullYear()):p,t.yearshtml+="<select class='ui-datepicker-year' aria-label='"+v+"' data-handler='selectYear' data-event='change'>";d<=p;d++)t.yearshtml+="<option value='"+d+"'"+(d===i?" selected='selected'":"")+">"+d+"</option>";t.yearshtml+="</select>",b+=t.yearshtml,t.yearshtml=null}return b+=this._get(t,"yearSuffix"),m&&(b+=(!o&&f&&g?"":"&#xa0;")+y),b+="</div>"},_adjustInstDate:function(t,e,i){var s=t.selectedYear+("Y"===i?e:0),n=t.selectedMonth+("M"===i?e:0),e=Math.min(t.selectedDay,this._getDaysInMonth(s,n))+("D"===i?e:0),e=this._restrictMinMax(t,this._daylightSavingAdjust(new Date(s,n,e)));t.selectedDay=e.getDate(),t.drawMonth=t.selectedMonth=e.getMonth(),t.drawYear=t.selectedYear=e.getFullYear(),"M"!==i&&"Y"!==i||this._notifyChange(t)},_restrictMinMax:function(t,e){var i=this._getMinMaxDate(t,"min"),t=this._getMinMaxDate(t,"max"),e=i&&e<i?i:e;return t&&t<e?t:e},_notifyChange:function(t){var e=this._get(t,"onChangeMonthYear");e&&e.apply(t.input?t.input[0]:null,[t.selectedYear,t.selectedMonth+1,t])},_getNumberOfMonths:function(t){t=this._get(t,"numberOfMonths");return null==t?[1,1]:"number"==typeof t?[1,t]:t},_getMinMaxDate:function(t,e){return this._determineDate(t,this._get(t,e+"Date"),null)},_getDaysInMonth:function(t,e){return 32-this._daylightSavingAdjust(new Date(t,e,32)).getDate()},_getFirstDayOfMonth:function(t,e){return new Date(t,e,1).getDay()},_canAdjustMonth:function(t,e,i,s){var n=this._getNumberOfMonths(t),n=this._daylightSavingAdjust(new Date(i,s+(e<0?e:n[0]*n[1]),1));return e<0&&n.setDate(this._getDaysInMonth(n.getFullYear(),n.getMonth())),this._isInRange(t,n)},_isInRange:function(t,e){var i=this._getMinMaxDate(t,"min"),s=this._getMinMaxDate(t,"max"),n=null,o=null,a=this._get(t,"yearRange");return a&&(t=a.split(":"),a=(new Date).getFullYear(),n=parseInt(t[0],10),o=parseInt(t[1],10),t[0].match(/[+\-].*/)&&(n+=a),t[1].match(/[+\-].*/)&&(o+=a)),(!i||e.getTime()>=i.getTime())&&(!s||e.getTime()<=s.getTime())&&(!n||e.getFullYear()>=n)&&(!o||e.getFullYear()<=o)},_getFormatConfig:function(t){var e=this._get(t,"shortYearCutoff");return{shortYearCutoff:e="string"!=typeof e?e:(new Date).getFullYear()%100+parseInt(e,10),dayNamesShort:this._get(t,"dayNamesShort"),dayNames:this._get(t,"dayNames"),monthNamesShort:this._get(t,"monthNamesShort"),monthNames:this._get(t,"monthNames")}},_formatDate:function(t,e,i,s){e||(t.currentDay=t.selectedDay,t.currentMonth=t.selectedMonth,t.currentYear=t.selectedYear);e=e?"object"==typeof e?e:this._daylightSavingAdjust(new Date(s,i,e)):this._daylightSavingAdjust(new Date(t.currentYear,t.currentMonth,t.currentDay));return this.formatDate(this._get(t,"dateFormat"),e,this._getFormatConfig(t))}}),V.fn.datepicker=function(t){if(!this.length)return this;V.datepicker.initialized||(V(document).on("mousedown",V.datepicker._checkExternalClick),V.datepicker.initialized=!0),0===V("#"+V.datepicker._mainDivId).length&&V("body").append(V.datepicker.dpDiv);var e=Array.prototype.slice.call(arguments,1);return"string"==typeof t&&("isDisabled"===t||"getDate"===t||"widget"===t)||"option"===t&&2===arguments.length&&"string"==typeof arguments[1]?V.datepicker["_"+t+"Datepicker"].apply(V.datepicker,[this[0]].concat(e)):this.each(function(){"string"==typeof t?V.datepicker["_"+t+"Datepicker"].apply(V.datepicker,[this].concat(e)):V.datepicker._attachDatepicker(this,t)})},V.datepicker=new st,V.datepicker.initialized=!1,V.datepicker.uuid=(new Date).getTime(),V.datepicker.version="1.13.1";V.datepicker,V.ui.ie=!!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase());var rt=!1;V(document).on("mouseup",function(){rt=!1});V.widget("ui.mouse",{version:"1.13.1",options:{cancel:"input, textarea, button, select, option",distance:1,delay:0},_mouseInit:function(){var e=this;this.element.on("mousedown."+this.widgetName,function(t){return e._mouseDown(t)}).on("click."+this.widgetName,function(t){if(!0===V.data(t.target,e.widgetName+".preventClickEvent"))return V.removeData(t.target,e.widgetName+".preventClickEvent"),t.stopImmediatePropagation(),!1}),this.started=!1},_mouseDestroy:function(){this.element.off("."+this.widgetName),this._mouseMoveDelegate&&this.document.off("mousemove."+this.widgetName,this._mouseMoveDelegate).off("mouseup."+this.widgetName,this._mouseUpDelegate)},_mouseDown:function(t){if(!rt){this._mouseMoved=!1,this._mouseStarted&&this._mouseUp(t),this._mouseDownEvent=t;var e=this,i=1===t.which,s=!("string"!=typeof this.options.cancel||!t.target.nodeName)&&V(t.target).closest(this.options.cancel).length;return i&&!s&&this._mouseCapture(t)?(this.mouseDelayMet=!this.options.delay,this.mouseDelayMet||(this._mouseDelayTimer=setTimeout(function(){e.mouseDelayMet=!0},this.options.delay)),this._mouseDistanceMet(t)&&this._mouseDelayMet(t)&&(this._mouseStarted=!1!==this._mouseStart(t),!this._mouseStarted)?(t.preventDefault(),!0):(!0===V.data(t.target,this.widgetName+".preventClickEvent")&&V.removeData(t.target,this.widgetName+".preventClickEvent"),this._mouseMoveDelegate=function(t){return e._mouseMove(t)},this._mouseUpDelegate=function(t){return e._mouseUp(t)},this.document.on("mousemove."+this.widgetName,this._mouseMoveDelegate).on("mouseup."+this.widgetName,this._mouseUpDelegate),t.preventDefault(),rt=!0)):!0}},_mouseMove:function(t){if(this._mouseMoved){if(V.ui.ie&&(!document.documentMode||document.documentMode<9)&&!t.button)return this._mouseUp(t);if(!t.which)if(t.originalEvent.altKey||t.originalEvent.ctrlKey||t.originalEvent.metaKey||t.originalEvent.shiftKey)this.ignoreMissingWhich=!0;else if(!this.ignoreMissingWhich)return this._mouseUp(t)}return(t.which||t.button)&&(this._mouseMoved=!0),this._mouseStarted?(this._mouseDrag(t),t.preventDefault()):(this._mouseDistanceMet(t)&&this._mouseDelayMet(t)&&(this._mouseStarted=!1!==this._mouseStart(this._mouseDownEvent,t),this._mouseStarted?this._mouseDrag(t):this._mouseUp(t)),!this._mouseStarted)},_mouseUp:function(t){this.document.off("mousemove."+this.widgetName,this._mouseMoveDelegate).off("mouseup."+this.widgetName,this._mouseUpDelegate),this._mouseStarted&&(this._mouseStarted=!1,t.target===this._mouseDownEvent.target&&V.data(t.target,this.widgetName+".preventClickEvent",!0),this._mouseStop(t)),this._mouseDelayTimer&&(clearTimeout(this._mouseDelayTimer),delete this._mouseDelayTimer),this.ignoreMissingWhich=!1,rt=!1,t.preventDefault()},_mouseDistanceMet:function(t){return Math.max(Math.abs(this._mouseDownEvent.pageX-t.pageX),Math.abs(this._mouseDownEvent.pageY-t.pageY))>=this.options.distance},_mouseDelayMet:function(){return this.mouseDelayMet},_mouseStart:function(){},_mouseDrag:function(){},_mouseStop:function(){},_mouseCapture:function(){return!0}}),V.ui.plugin={add:function(t,e,i){var s,n=V.ui[t].prototype;for(s in i)n.plugins[s]=n.plugins[s]||[],n.plugins[s].push([e,i[s]])},call:function(t,e,i,s){var n,o=t.plugins[e];if(o&&(s||t.element[0].parentNode&&11!==t.element[0].parentNode.nodeType))for(n=0;n<o.length;n++)t.options[o[n][0]]&&o[n][1].apply(t.element,i)}},V.ui.safeBlur=function(t){t&&"body"!==t.nodeName.toLowerCase()&&V(t).trigger("blur")};V.widget("ui.draggable",V.ui.mouse,{version:"1.13.1",widgetEventPrefix:"drag",options:{addClasses:!0,appendTo:"parent",axis:!1,connectToSortable:!1,containment:!1,cursor:"auto",cursorAt:!1,grid:!1,handle:!1,helper:"original",iframeFix:!1,opacity:!1,refreshPositions:!1,revert:!1,revertDuration:500,scope:"default",scroll:!0,scrollSensitivity:20,scrollSpeed:20,snap:!1,snapMode:"both",snapTolerance:20,stack:!1,zIndex:!1,drag:null,start:null,stop:null},_create:function(){"original"===this.options.helper&&this._setPositionRelative(),this.options.addClasses&&this._addClass("ui-draggable"),this._setHandleClassName(),this._mouseInit()},_setOption:function(t,e){this._super(t,e),"handle"===t&&(this._removeHandleClassName(),this._setHandleClassName())},_destroy:function(){(this.helper||this.element).is(".ui-draggable-dragging")?this.destroyOnClear=!0:(this._removeHandleClassName(),this._mouseDestroy())},_mouseCapture:function(t){var e=this.options;return!(this.helper||e.disabled||0<V(t.target).closest(".ui-resizable-handle").length)&&(this.handle=this._getHandle(t),!!this.handle&&(this._blurActiveElement(t),this._blockFrames(!0===e.iframeFix?"iframe":e.iframeFix),!0))},_blockFrames:function(t){this.iframeBlocks=this.document.find(t).map(function(){var t=V(this);return V("<div>").css("position","absolute").appendTo(t.parent()).outerWidth(t.outerWidth()).outerHeight(t.outerHeight()).offset(t.offset())[0]})},_unblockFrames:function(){this.iframeBlocks&&(this.iframeBlocks.remove(),delete this.iframeBlocks)},_blurActiveElement:function(t){var e=V.ui.safeActiveElement(this.document[0]);V(t.target).closest(e).length||V.ui.safeBlur(e)},_mouseStart:function(t){var e=this.options;return this.helper=this._createHelper(t),this._addClass(this.helper,"ui-draggable-dragging"),this._cacheHelperProportions(),V.ui.ddmanager&&(V.ui.ddmanager.current=this),this._cacheMargins(),this.cssPosition=this.helper.css("position"),this.scrollParent=this.helper.scrollParent(!0),this.offsetParent=this.helper.offsetParent(),this.hasFixedAncestor=0<this.helper.parents().filter(function(){return"fixed"===V(this).css("position")}).length,this.positionAbs=this.element.offset(),this._refreshOffsets(t),this.originalPosition=this.position=this._generatePosition(t,!1),this.originalPageX=t.pageX,this.originalPageY=t.pageY,e.cursorAt&&this._adjustOffsetFromHelper(e.cursorAt),this._setContainment(),!1===this._trigger("start",t)?(this._clear(),!1):(this._cacheHelperProportions(),V.ui.ddmanager&&!e.dropBehaviour&&V.ui.ddmanager.prepareOffsets(this,t),this._mouseDrag(t,!0),V.ui.ddmanager&&V.ui.ddmanager.dragStart(this,t),!0)},_refreshOffsets:function(t){this.offset={top:this.positionAbs.top-this.margins.top,left:this.positionAbs.left-this.margins.left,scroll:!1,parent:this._getParentOffset(),relative:this._getRelativeOffset()},this.offset.click={left:t.pageX-this.offset.left,top:t.pageY-this.offset.top}},_mouseDrag:function(t,e){if(this.hasFixedAncestor&&(this.offset.parent=this._getParentOffset()),this.position=this._generatePosition(t,!0),this.positionAbs=this._convertPositionTo("absolute"),!e){e=this._uiHash();if(!1===this._trigger("drag",t,e))return this._mouseUp(new V.Event("mouseup",t)),!1;this.position=e.position}return this.helper[0].style.left=this.position.left+"px",this.helper[0].style.top=this.position.top+"px",V.ui.ddmanager&&V.ui.ddmanager.drag(this,t),!1},_mouseStop:function(t){var e=this,i=!1;return V.ui.ddmanager&&!this.options.dropBehaviour&&(i=V.ui.ddmanager.drop(this,t)),this.dropped&&(i=this.dropped,this.dropped=!1),"invalid"===this.options.revert&&!i||"valid"===this.options.revert&&i||!0===this.options.revert||"function"==typeof this.options.revert&&this.options.revert.call(this.element,i)?V(this.helper).animate(this.originalPosition,parseInt(this.options.revertDuration,10),function(){!1!==e._trigger("stop",t)&&e._clear()}):!1!==this._trigger("stop",t)&&this._clear(),!1},_mouseUp:function(t){return this._unblockFrames(),V.ui.ddmanager&&V.ui.ddmanager.dragStop(this,t),this.handleElement.is(t.target)&&this.element.trigger("focus"),V.ui.mouse.prototype._mouseUp.call(this,t)},cancel:function(){return this.helper.is(".ui-draggable-dragging")?this._mouseUp(new V.Event("mouseup",{target:this.element[0]})):this._clear(),this},_getHandle:function(t){return!this.options.handle||!!V(t.target).closest(this.element.find(this.options.handle)).length},_setHandleClassName:function(){this.handleElement=this.options.handle?this.element.find(this.options.handle):this.element,this._addClass(this.handleElement,"ui-draggable-handle")},_removeHandleClassName:function(){this._removeClass(this.handleElement,"ui-draggable-handle")},_createHelper:function(t){var e=this.options,i="function"==typeof e.helper,t=i?V(e.helper.apply(this.element[0],[t])):"clone"===e.helper?this.element.clone().removeAttr("id"):this.element;return t.parents("body").length||t.appendTo("parent"===e.appendTo?this.element[0].parentNode:e.appendTo),i&&t[0]===this.element[0]&&this._setPositionRelative(),t[0]===this.element[0]||/(fixed|absolute)/.test(t.css("position"))||t.css("position","absolute"),t},_setPositionRelative:function(){/^(?:r|a|f)/.test(this.element.css("position"))||(this.element[0].style.position="relative")},_adjustOffsetFromHelper:function(t){"string"==typeof t&&(t=t.split(" ")),"left"in(t=Array.isArray(t)?{left:+t[0],top:+t[1]||0}:t)&&(this.offset.click.left=t.left+this.margins.left),"right"in t&&(this.offset.click.left=this.helperProportions.width-t.right+this.margins.left),"top"in t&&(this.offset.click.top=t.top+this.margins.top),"bottom"in t&&(this.offset.click.top=this.helperProportions.height-t.bottom+this.margins.top)},_isRootNode:function(t){return/(html|body)/i.test(t.tagName)||t===this.document[0]},_getParentOffset:function(){var t=this.offsetParent.offset(),e=this.document[0];return"absolute"===this.cssPosition&&this.scrollParent[0]!==e&&V.contains(this.scrollParent[0],this.offsetParent[0])&&(t.left+=this.scrollParent.scrollLeft(),t.top+=this.scrollParent.scrollTop()),{top:(t=this._isRootNode(this.offsetParent[0])?{top:0,left:0}:t).top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:t.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"!==this.cssPosition)return{top:0,left:0};var t=this.element.position(),e=this._isRootNode(this.scrollParent[0]);return{top:t.top-(parseInt(this.helper.css("top"),10)||0)+(e?0:this.scrollParent.scrollTop()),left:t.left-(parseInt(this.helper.css("left"),10)||0)+(e?0:this.scrollParent.scrollLeft())}},_cacheMargins:function(){this.margins={left:parseInt(this.element.css("marginLeft"),10)||0,top:parseInt(this.element.css("marginTop"),10)||0,right:parseInt(this.element.css("marginRight"),10)||0,bottom:parseInt(this.element.css("marginBottom"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var t,e,i,s=this.options,n=this.document[0];this.relativeContainer=null,s.containment?"window"!==s.containment?"document"!==s.containment?s.containment.constructor!==Array?("parent"===s.containment&&(s.containment=this.helper[0].parentNode),(i=(e=V(s.containment))[0])&&(t=/(scroll|auto)/.test(e.css("overflow")),this.containment=[(parseInt(e.css("borderLeftWidth"),10)||0)+(parseInt(e.css("paddingLeft"),10)||0),(parseInt(e.css("borderTopWidth"),10)||0)+(parseInt(e.css("paddingTop"),10)||0),(t?Math.max(i.scrollWidth,i.offsetWidth):i.offsetWidth)-(parseInt(e.css("borderRightWidth"),10)||0)-(parseInt(e.css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left-this.margins.right,(t?Math.max(i.scrollHeight,i.offsetHeight):i.offsetHeight)-(parseInt(e.css("borderBottomWidth"),10)||0)-(parseInt(e.css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top-this.margins.bottom],this.relativeContainer=e)):this.containment=s.containment:this.containment=[0,0,V(n).width()-this.helperProportions.width-this.margins.left,(V(n).height()||n.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]:this.containment=[V(window).scrollLeft()-this.offset.relative.left-this.offset.parent.left,V(window).scrollTop()-this.offset.relative.top-this.offset.parent.top,V(window).scrollLeft()+V(window).width()-this.helperProportions.width-this.margins.left,V(window).scrollTop()+(V(window).height()||n.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]:this.containment=null},_convertPositionTo:function(t,e){e=e||this.position;var i="absolute"===t?1:-1,t=this._isRootNode(this.scrollParent[0]);return{top:e.top+this.offset.relative.top*i+this.offset.parent.top*i-("fixed"===this.cssPosition?-this.offset.scroll.top:t?0:this.offset.scroll.top)*i,left:e.left+this.offset.relative.left*i+this.offset.parent.left*i-("fixed"===this.cssPosition?-this.offset.scroll.left:t?0:this.offset.scroll.left)*i}},_generatePosition:function(t,e){var i,s=this.options,n=this._isRootNode(this.scrollParent[0]),o=t.pageX,a=t.pageY;return n&&this.offset.scroll||(this.offset.scroll={top:this.scrollParent.scrollTop(),left:this.scrollParent.scrollLeft()}),e&&(this.containment&&(i=this.relativeContainer?(i=this.relativeContainer.offset(),[this.containment[0]+i.left,this.containment[1]+i.top,this.containment[2]+i.left,this.containment[3]+i.top]):this.containment,t.pageX-this.offset.click.left<i[0]&&(o=i[0]+this.offset.click.left),t.pageY-this.offset.click.top<i[1]&&(a=i[1]+this.offset.click.top),t.pageX-this.offset.click.left>i[2]&&(o=i[2]+this.offset.click.left),t.pageY-this.offset.click.top>i[3]&&(a=i[3]+this.offset.click.top)),s.grid&&(t=s.grid[1]?this.originalPageY+Math.round((a-this.originalPageY)/s.grid[1])*s.grid[1]:this.originalPageY,a=!i||t-this.offset.click.top>=i[1]||t-this.offset.click.top>i[3]?t:t-this.offset.click.top>=i[1]?t-s.grid[1]:t+s.grid[1],t=s.grid[0]?this.originalPageX+Math.round((o-this.originalPageX)/s.grid[0])*s.grid[0]:this.originalPageX,o=!i||t-this.offset.click.left>=i[0]||t-this.offset.click.left>i[2]?t:t-this.offset.click.left>=i[0]?t-s.grid[0]:t+s.grid[0]),"y"===s.axis&&(o=this.originalPageX),"x"===s.axis&&(a=this.originalPageY)),{top:a-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.offset.scroll.top:n?0:this.offset.scroll.top),left:o-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.offset.scroll.left:n?0:this.offset.scroll.left)}},_clear:function(){this._removeClass(this.helper,"ui-draggable-dragging"),this.helper[0]===this.element[0]||this.cancelHelperRemoval||this.helper.remove(),this.helper=null,this.cancelHelperRemoval=!1,this.destroyOnClear&&this.destroy()},_trigger:function(t,e,i){return i=i||this._uiHash(),V.ui.plugin.call(this,t,[e,i,this],!0),/^(drag|start|stop)/.test(t)&&(this.positionAbs=this._convertPositionTo("absolute"),i.offset=this.positionAbs),V.Widget.prototype._trigger.call(this,t,e,i)},plugins:{},_uiHash:function(){return{helper:this.helper,position:this.position,originalPosition:this.originalPosition,offset:this.positionAbs}}}),V.ui.plugin.add("draggable","connectToSortable",{start:function(e,t,i){var s=V.extend({},t,{item:i.element});i.sortables=[],V(i.options.connectToSortable).each(function(){var t=V(this).sortable("instance");t&&!t.options.disabled&&(i.sortables.push(t),t.refreshPositions(),t._trigger("activate",e,s))})},stop:function(e,t,i){var s=V.extend({},t,{item:i.element});i.cancelHelperRemoval=!1,V.each(i.sortables,function(){var t=this;t.isOver?(t.isOver=0,i.cancelHelperRemoval=!0,t.cancelHelperRemoval=!1,t._storedCSS={position:t.placeholder.css("position"),top:t.placeholder.css("top"),left:t.placeholder.css("left")},t._mouseStop(e),t.options.helper=t.options._helper):(t.cancelHelperRemoval=!0,t._trigger("deactivate",e,s))})},drag:function(i,s,n){V.each(n.sortables,function(){var t=!1,e=this;e.positionAbs=n.positionAbs,e.helperProportions=n.helperProportions,e.offset.click=n.offset.click,e._intersectsWith(e.containerCache)&&(t=!0,V.each(n.sortables,function(){return this.positionAbs=n.positionAbs,this.helperProportions=n.helperProportions,this.offset.click=n.offset.click,t=this!==e&&this._intersectsWith(this.containerCache)&&V.contains(e.element[0],this.element[0])?!1:t})),t?(e.isOver||(e.isOver=1,n._parent=s.helper.parent(),e.currentItem=s.helper.appendTo(e.element).data("ui-sortable-item",!0),e.options._helper=e.options.helper,e.options.helper=function(){return s.helper[0]},i.target=e.currentItem[0],e._mouseCapture(i,!0),e._mouseStart(i,!0,!0),e.offset.click.top=n.offset.click.top,e.offset.click.left=n.offset.click.left,e.offset.parent.left-=n.offset.parent.left-e.offset.parent.left,e.offset.parent.top-=n.offset.parent.top-e.offset.parent.top,n._trigger("toSortable",i),n.dropped=e.element,V.each(n.sortables,function(){this.refreshPositions()}),n.currentItem=n.element,e.fromOutside=n),e.currentItem&&(e._mouseDrag(i),s.position=e.position)):e.isOver&&(e.isOver=0,e.cancelHelperRemoval=!0,e.options._revert=e.options.revert,e.options.revert=!1,e._trigger("out",i,e._uiHash(e)),e._mouseStop(i,!0),e.options.revert=e.options._revert,e.options.helper=e.options._helper,e.placeholder&&e.placeholder.remove(),s.helper.appendTo(n._parent),n._refreshOffsets(i),s.position=n._generatePosition(i,!0),n._trigger("fromSortable",i),n.dropped=!1,V.each(n.sortables,function(){this.refreshPositions()}))})}}),V.ui.plugin.add("draggable","cursor",{start:function(t,e,i){var s=V("body"),i=i.options;s.css("cursor")&&(i._cursor=s.css("cursor")),s.css("cursor",i.cursor)},stop:function(t,e,i){i=i.options;i._cursor&&V("body").css("cursor",i._cursor)}}),V.ui.plugin.add("draggable","opacity",{start:function(t,e,i){e=V(e.helper),i=i.options;e.css("opacity")&&(i._opacity=e.css("opacity")),e.css("opacity",i.opacity)},stop:function(t,e,i){i=i.options;i._opacity&&V(e.helper).css("opacity",i._opacity)}}),V.ui.plugin.add("draggable","scroll",{start:function(t,e,i){i.scrollParentNotHidden||(i.scrollParentNotHidden=i.helper.scrollParent(!1)),i.scrollParentNotHidden[0]!==i.document[0]&&"HTML"!==i.scrollParentNotHidden[0].tagName&&(i.overflowOffset=i.scrollParentNotHidden.offset())},drag:function(t,e,i){var s=i.options,n=!1,o=i.scrollParentNotHidden[0],a=i.document[0];o!==a&&"HTML"!==o.tagName?(s.axis&&"x"===s.axis||(i.overflowOffset.top+o.offsetHeight-t.pageY<s.scrollSensitivity?o.scrollTop=n=o.scrollTop+s.scrollSpeed:t.pageY-i.overflowOffset.top<s.scrollSensitivity&&(o.scrollTop=n=o.scrollTop-s.scrollSpeed)),s.axis&&"y"===s.axis||(i.overflowOffset.left+o.offsetWidth-t.pageX<s.scrollSensitivity?o.scrollLeft=n=o.scrollLeft+s.scrollSpeed:t.pageX-i.overflowOffset.left<s.scrollSensitivity&&(o.scrollLeft=n=o.scrollLeft-s.scrollSpeed))):(s.axis&&"x"===s.axis||(t.pageY-V(a).scrollTop()<s.scrollSensitivity?n=V(a).scrollTop(V(a).scrollTop()-s.scrollSpeed):V(window).height()-(t.pageY-V(a).scrollTop())<s.scrollSensitivity&&(n=V(a).scrollTop(V(a).scrollTop()+s.scrollSpeed))),s.axis&&"y"===s.axis||(t.pageX-V(a).scrollLeft()<s.scrollSensitivity?n=V(a).scrollLeft(V(a).scrollLeft()-s.scrollSpeed):V(window).width()-(t.pageX-V(a).scrollLeft())<s.scrollSensitivity&&(n=V(a).scrollLeft(V(a).scrollLeft()+s.scrollSpeed)))),!1!==n&&V.ui.ddmanager&&!s.dropBehaviour&&V.ui.ddmanager.prepareOffsets(i,t)}}),V.ui.plugin.add("draggable","snap",{start:function(t,e,i){var s=i.options;i.snapElements=[],V(s.snap.constructor!==String?s.snap.items||":data(ui-draggable)":s.snap).each(function(){var t=V(this),e=t.offset();this!==i.element[0]&&i.snapElements.push({item:this,width:t.outerWidth(),height:t.outerHeight(),top:e.top,left:e.left})})},drag:function(t,e,i){for(var s,n,o,a,r,l,h,c,u,d=i.options,p=d.snapTolerance,f=e.offset.left,g=f+i.helperProportions.width,m=e.offset.top,_=m+i.helperProportions.height,v=i.snapElements.length-1;0<=v;v--)l=(r=i.snapElements[v].left-i.margins.left)+i.snapElements[v].width,c=(h=i.snapElements[v].top-i.margins.top)+i.snapElements[v].height,g<r-p||l+p<f||_<h-p||c+p<m||!V.contains(i.snapElements[v].item.ownerDocument,i.snapElements[v].item)?(i.snapElements[v].snapping&&i.options.snap.release&&i.options.snap.release.call(i.element,t,V.extend(i._uiHash(),{snapItem:i.snapElements[v].item})),i.snapElements[v].snapping=!1):("inner"!==d.snapMode&&(s=Math.abs(h-_)<=p,n=Math.abs(c-m)<=p,o=Math.abs(r-g)<=p,a=Math.abs(l-f)<=p,s&&(e.position.top=i._convertPositionTo("relative",{top:h-i.helperProportions.height,left:0}).top),n&&(e.position.top=i._convertPositionTo("relative",{top:c,left:0}).top),o&&(e.position.left=i._convertPositionTo("relative",{top:0,left:r-i.helperProportions.width}).left),a&&(e.position.left=i._convertPositionTo("relative",{top:0,left:l}).left)),u=s||n||o||a,"outer"!==d.snapMode&&(s=Math.abs(h-m)<=p,n=Math.abs(c-_)<=p,o=Math.abs(r-f)<=p,a=Math.abs(l-g)<=p,s&&(e.position.top=i._convertPositionTo("relative",{top:h,left:0}).top),n&&(e.position.top=i._convertPositionTo("relative",{top:c-i.helperProportions.height,left:0}).top),o&&(e.position.left=i._convertPositionTo("relative",{top:0,left:r}).left),a&&(e.position.left=i._convertPositionTo("relative",{top:0,left:l-i.helperProportions.width}).left)),!i.snapElements[v].snapping&&(s||n||o||a||u)&&i.options.snap.snap&&i.options.snap.snap.call(i.element,t,V.extend(i._uiHash(),{snapItem:i.snapElements[v].item})),i.snapElements[v].snapping=s||n||o||a||u)}}),V.ui.plugin.add("draggable","stack",{start:function(t,e,i){var s,i=i.options,i=V.makeArray(V(i.stack)).sort(function(t,e){return(parseInt(V(t).css("zIndex"),10)||0)-(parseInt(V(e).css("zIndex"),10)||0)});i.length&&(s=parseInt(V(i[0]).css("zIndex"),10)||0,V(i).each(function(t){V(this).css("zIndex",s+t)}),this.css("zIndex",s+i.length))}}),V.ui.plugin.add("draggable","zIndex",{start:function(t,e,i){e=V(e.helper),i=i.options;e.css("zIndex")&&(i._zIndex=e.css("zIndex")),e.css("zIndex",i.zIndex)},stop:function(t,e,i){i=i.options;i._zIndex&&V(e.helper).css("zIndex",i._zIndex)}});V.ui.draggable;V.widget("ui.resizable",V.ui.mouse,{version:"1.13.1",widgetEventPrefix:"resize",options:{alsoResize:!1,animate:!1,animateDuration:"slow",animateEasing:"swing",aspectRatio:!1,autoHide:!1,classes:{"ui-resizable-se":"ui-icon ui-icon-gripsmall-diagonal-se"},containment:!1,ghost:!1,grid:!1,handles:"e,s,se",helper:!1,maxHeight:null,maxWidth:null,minHeight:10,minWidth:10,zIndex:90,resize:null,start:null,stop:null},_num:function(t){return parseFloat(t)||0},_isNumber:function(t){return!isNaN(parseFloat(t))},_hasScroll:function(t,e){if("hidden"===V(t).css("overflow"))return!1;var i=e&&"left"===e?"scrollLeft":"scrollTop",e=!1;if(0<t[i])return!0;try{t[i]=1,e=0<t[i],t[i]=0}catch(t){}return e},_create:function(){var t,e=this.options,i=this;this._addClass("ui-resizable"),V.extend(this,{_aspectRatio:!!e.aspectRatio,aspectRatio:e.aspectRatio,originalElement:this.element,_proportionallyResizeElements:[],_helper:e.helper||e.ghost||e.animate?e.helper||"ui-resizable-helper":null}),this.element[0].nodeName.match(/^(canvas|textarea|input|select|button|img)$/i)&&(this.element.wrap(V("<div class='ui-wrapper'></div>").css({overflow:"hidden",position:this.element.css("position"),width:this.element.outerWidth(),height:this.element.outerHeight(),top:this.element.css("top"),left:this.element.css("left")})),this.element=this.element.parent().data("ui-resizable",this.element.resizable("instance")),this.elementIsWrapper=!0,t={marginTop:this.originalElement.css("marginTop"),marginRight:this.originalElement.css("marginRight"),marginBottom:this.originalElement.css("marginBottom"),marginLeft:this.originalElement.css("marginLeft")},this.element.css(t),this.originalElement.css("margin",0),this.originalResizeStyle=this.originalElement.css("resize"),this.originalElement.css("resize","none"),this._proportionallyResizeElements.push(this.originalElement.css({position:"static",zoom:1,display:"block"})),this.originalElement.css(t),this._proportionallyResize()),this._setupHandles(),e.autoHide&&V(this.element).on("mouseenter",function(){e.disabled||(i._removeClass("ui-resizable-autohide"),i._handles.show())}).on("mouseleave",function(){e.disabled||i.resizing||(i._addClass("ui-resizable-autohide"),i._handles.hide())}),this._mouseInit()},_destroy:function(){this._mouseDestroy(),this._addedHandles.remove();function t(t){V(t).removeData("resizable").removeData("ui-resizable").off(".resizable")}var e;return this.elementIsWrapper&&(t(this.element),e=this.element,this.originalElement.css({position:e.css("position"),width:e.outerWidth(),height:e.outerHeight(),top:e.css("top"),left:e.css("left")}).insertAfter(e),e.remove()),this.originalElement.css("resize",this.originalResizeStyle),t(this.originalElement),this},_setOption:function(t,e){switch(this._super(t,e),t){case"handles":this._removeHandles(),this._setupHandles();break;case"aspectRatio":this._aspectRatio=!!e}},_setupHandles:function(){var t,e,i,s,n,o=this.options,a=this;if(this.handles=o.handles||(V(".ui-resizable-handle",this.element).length?{n:".ui-resizable-n",e:".ui-resizable-e",s:".ui-resizable-s",w:".ui-resizable-w",se:".ui-resizable-se",sw:".ui-resizable-sw",ne:".ui-resizable-ne",nw:".ui-resizable-nw"}:"e,s,se"),this._handles=V(),this._addedHandles=V(),this.handles.constructor===String)for("all"===this.handles&&(this.handles="n,e,s,w,se,sw,ne,nw"),i=this.handles.split(","),this.handles={},e=0;e<i.length;e++)s="ui-resizable-"+(t=String.prototype.trim.call(i[e])),n=V("<div>"),this._addClass(n,"ui-resizable-handle "+s),n.css({zIndex:o.zIndex}),this.handles[t]=".ui-resizable-"+t,this.element.children(this.handles[t]).length||(this.element.append(n),this._addedHandles=this._addedHandles.add(n));this._renderAxis=function(t){var e,i,s;for(e in t=t||this.element,this.handles)this.handles[e].constructor===String?this.handles[e]=this.element.children(this.handles[e]).first().show():(this.handles[e].jquery||this.handles[e].nodeType)&&(this.handles[e]=V(this.handles[e]),this._on(this.handles[e],{mousedown:a._mouseDown})),this.elementIsWrapper&&this.originalElement[0].nodeName.match(/^(textarea|input|select|button)$/i)&&(i=V(this.handles[e],this.element),s=/sw|ne|nw|se|n|s/.test(e)?i.outerHeight():i.outerWidth(),i=["padding",/ne|nw|n/.test(e)?"Top":/se|sw|s/.test(e)?"Bottom":/^e$/.test(e)?"Right":"Left"].join(""),t.css(i,s),this._proportionallyResize()),this._handles=this._handles.add(this.handles[e])},this._renderAxis(this.element),this._handles=this._handles.add(this.element.find(".ui-resizable-handle")),this._handles.disableSelection(),this._handles.on("mouseover",function(){a.resizing||(this.className&&(n=this.className.match(/ui-resizable-(se|sw|ne|nw|n|e|s|w)/i)),a.axis=n&&n[1]?n[1]:"se")}),o.autoHide&&(this._handles.hide(),this._addClass("ui-resizable-autohide"))},_removeHandles:function(){this._addedHandles.remove()},_mouseCapture:function(t){var e,i,s=!1;for(e in this.handles)(i=V(this.handles[e])[0])!==t.target&&!V.contains(i,t.target)||(s=!0);return!this.options.disabled&&s},_mouseStart:function(t){var e,i,s=this.options,n=this.element;return this.resizing=!0,this._renderProxy(),e=this._num(this.helper.css("left")),i=this._num(this.helper.css("top")),s.containment&&(e+=V(s.containment).scrollLeft()||0,i+=V(s.containment).scrollTop()||0),this.offset=this.helper.offset(),this.position={left:e,top:i},this.size=this._helper?{width:this.helper.width(),height:this.helper.height()}:{width:n.width(),height:n.height()},this.originalSize=this._helper?{width:n.outerWidth(),height:n.outerHeight()}:{width:n.width(),height:n.height()},this.sizeDiff={width:n.outerWidth()-n.width(),height:n.outerHeight()-n.height()},this.originalPosition={left:e,top:i},this.originalMousePosition={left:t.pageX,top:t.pageY},this.aspectRatio="number"==typeof s.aspectRatio?s.aspectRatio:this.originalSize.width/this.originalSize.height||1,s=V(".ui-resizable-"+this.axis).css("cursor"),V("body").css("cursor","auto"===s?this.axis+"-resize":s),this._addClass("ui-resizable-resizing"),this._propagate("start",t),!0},_mouseDrag:function(t){var e=this.originalMousePosition,i=this.axis,s=t.pageX-e.left||0,e=t.pageY-e.top||0,i=this._change[i];return this._updatePrevProperties(),i&&(e=i.apply(this,[t,s,e]),this._updateVirtualBoundaries(t.shiftKey),(this._aspectRatio||t.shiftKey)&&(e=this._updateRatio(e,t)),e=this._respectSize(e,t),this._updateCache(e),this._propagate("resize",t),e=this._applyChanges(),!this._helper&&this._proportionallyResizeElements.length&&this._proportionallyResize(),V.isEmptyObject(e)||(this._updatePrevProperties(),this._trigger("resize",t,this.ui()),this._applyChanges())),!1},_mouseStop:function(t){this.resizing=!1;var e,i,s,n=this.options,o=this;return this._helper&&(s=(e=(i=this._proportionallyResizeElements).length&&/textarea/i.test(i[0].nodeName))&&this._hasScroll(i[0],"left")?0:o.sizeDiff.height,i=e?0:o.sizeDiff.width,e={width:o.helper.width()-i,height:o.helper.height()-s},i=parseFloat(o.element.css("left"))+(o.position.left-o.originalPosition.left)||null,s=parseFloat(o.element.css("top"))+(o.position.top-o.originalPosition.top)||null,n.animate||this.element.css(V.extend(e,{top:s,left:i})),o.helper.height(o.size.height),o.helper.width(o.size.width),this._helper&&!n.animate&&this._proportionallyResize()),V("body").css("cursor","auto"),this._removeClass("ui-resizable-resizing"),this._propagate("stop",t),this._helper&&this.helper.remove(),!1},_updatePrevProperties:function(){this.prevPosition={top:this.position.top,left:this.position.left},this.prevSize={width:this.size.width,height:this.size.height}},_applyChanges:function(){var t={};return this.position.top!==this.prevPosition.top&&(t.top=this.position.top+"px"),this.position.left!==this.prevPosition.left&&(t.left=this.position.left+"px"),this.size.width!==this.prevSize.width&&(t.width=this.size.width+"px"),this.size.height!==this.prevSize.height&&(t.height=this.size.height+"px"),this.helper.css(t),t},_updateVirtualBoundaries:function(t){var e,i,s=this.options,n={minWidth:this._isNumber(s.minWidth)?s.minWidth:0,maxWidth:this._isNumber(s.maxWidth)?s.maxWidth:1/0,minHeight:this._isNumber(s.minHeight)?s.minHeight:0,maxHeight:this._isNumber(s.maxHeight)?s.maxHeight:1/0};(this._aspectRatio||t)&&(e=n.minHeight*this.aspectRatio,i=n.minWidth/this.aspectRatio,s=n.maxHeight*this.aspectRatio,t=n.maxWidth/this.aspectRatio,e>n.minWidth&&(n.minWidth=e),i>n.minHeight&&(n.minHeight=i),s<n.maxWidth&&(n.maxWidth=s),t<n.maxHeight&&(n.maxHeight=t)),this._vBoundaries=n},_updateCache:function(t){this.offset=this.helper.offset(),this._isNumber(t.left)&&(this.position.left=t.left),this._isNumber(t.top)&&(this.position.top=t.top),this._isNumber(t.height)&&(this.size.height=t.height),this._isNumber(t.width)&&(this.size.width=t.width)},_updateRatio:function(t){var e=this.position,i=this.size,s=this.axis;return this._isNumber(t.height)?t.width=t.height*this.aspectRatio:this._isNumber(t.width)&&(t.height=t.width/this.aspectRatio),"sw"===s&&(t.left=e.left+(i.width-t.width),t.top=null),"nw"===s&&(t.top=e.top+(i.height-t.height),t.left=e.left+(i.width-t.width)),t},_respectSize:function(t){var e=this._vBoundaries,i=this.axis,s=this._isNumber(t.width)&&e.maxWidth&&e.maxWidth<t.width,n=this._isNumber(t.height)&&e.maxHeight&&e.maxHeight<t.height,o=this._isNumber(t.width)&&e.minWidth&&e.minWidth>t.width,a=this._isNumber(t.height)&&e.minHeight&&e.minHeight>t.height,r=this.originalPosition.left+this.originalSize.width,l=this.originalPosition.top+this.originalSize.height,h=/sw|nw|w/.test(i),i=/nw|ne|n/.test(i);return o&&(t.width=e.minWidth),a&&(t.height=e.minHeight),s&&(t.width=e.maxWidth),n&&(t.height=e.maxHeight),o&&h&&(t.left=r-e.minWidth),s&&h&&(t.left=r-e.maxWidth),a&&i&&(t.top=l-e.minHeight),n&&i&&(t.top=l-e.maxHeight),t.width||t.height||t.left||!t.top?t.width||t.height||t.top||!t.left||(t.left=null):t.top=null,t},_getPaddingPlusBorderDimensions:function(t){for(var e=0,i=[],s=[t.css("borderTopWidth"),t.css("borderRightWidth"),t.css("borderBottomWidth"),t.css("borderLeftWidth")],n=[t.css("paddingTop"),t.css("paddingRight"),t.css("paddingBottom"),t.css("paddingLeft")];e<4;e++)i[e]=parseFloat(s[e])||0,i[e]+=parseFloat(n[e])||0;return{height:i[0]+i[2],width:i[1]+i[3]}},_proportionallyResize:function(){if(this._proportionallyResizeElements.length)for(var t,e=0,i=this.helper||this.element;e<this._proportionallyResizeElements.length;e++)t=this._proportionallyResizeElements[e],this.outerDimensions||(this.outerDimensions=this._getPaddingPlusBorderDimensions(t)),t.css({height:i.height()-this.outerDimensions.height||0,width:i.width()-this.outerDimensions.width||0})},_renderProxy:function(){var t=this.element,e=this.options;this.elementOffset=t.offset(),this._helper?(this.helper=this.helper||V("<div></div>").css({overflow:"hidden"}),this._addClass(this.helper,this._helper),this.helper.css({width:this.element.outerWidth(),height:this.element.outerHeight(),position:"absolute",left:this.elementOffset.left+"px",top:this.elementOffset.top+"px",zIndex:++e.zIndex}),this.helper.appendTo("body").disableSelection()):this.helper=this.element},_change:{e:function(t,e){return{width:this.originalSize.width+e}},w:function(t,e){var i=this.originalSize;return{left:this.originalPosition.left+e,width:i.width-e}},n:function(t,e,i){var s=this.originalSize;return{top:this.originalPosition.top+i,height:s.height-i}},s:function(t,e,i){return{height:this.originalSize.height+i}},se:function(t,e,i){return V.extend(this._change.s.apply(this,arguments),this._change.e.apply(this,[t,e,i]))},sw:function(t,e,i){return V.extend(this._change.s.apply(this,arguments),this._change.w.apply(this,[t,e,i]))},ne:function(t,e,i){return V.extend(this._change.n.apply(this,arguments),this._change.e.apply(this,[t,e,i]))},nw:function(t,e,i){return V.extend(this._change.n.apply(this,arguments),this._change.w.apply(this,[t,e,i]))}},_propagate:function(t,e){V.ui.plugin.call(this,t,[e,this.ui()]),"resize"!==t&&this._trigger(t,e,this.ui())},plugins:{},ui:function(){return{originalElement:this.originalElement,element:this.element,helper:this.helper,position:this.position,size:this.size,originalSize:this.originalSize,originalPosition:this.originalPosition}}}),V.ui.plugin.add("resizable","animate",{stop:function(e){var i=V(this).resizable("instance"),t=i.options,s=i._proportionallyResizeElements,n=s.length&&/textarea/i.test(s[0].nodeName),o=n&&i._hasScroll(s[0],"left")?0:i.sizeDiff.height,a=n?0:i.sizeDiff.width,n={width:i.size.width-a,height:i.size.height-o},a=parseFloat(i.element.css("left"))+(i.position.left-i.originalPosition.left)||null,o=parseFloat(i.element.css("top"))+(i.position.top-i.originalPosition.top)||null;i.element.animate(V.extend(n,o&&a?{top:o,left:a}:{}),{duration:t.animateDuration,easing:t.animateEasing,step:function(){var t={width:parseFloat(i.element.css("width")),height:parseFloat(i.element.css("height")),top:parseFloat(i.element.css("top")),left:parseFloat(i.element.css("left"))};s&&s.length&&V(s[0]).css({width:t.width,height:t.height}),i._updateCache(t),i._propagate("resize",e)}})}}),V.ui.plugin.add("resizable","containment",{start:function(){var i,s,n=V(this).resizable("instance"),t=n.options,e=n.element,o=t.containment,a=o instanceof V?o.get(0):/parent/.test(o)?e.parent().get(0):o;a&&(n.containerElement=V(a),/document/.test(o)||o===document?(n.containerOffset={left:0,top:0},n.containerPosition={left:0,top:0},n.parentData={element:V(document),left:0,top:0,width:V(document).width(),height:V(document).height()||document.body.parentNode.scrollHeight}):(i=V(a),s=[],V(["Top","Right","Left","Bottom"]).each(function(t,e){s[t]=n._num(i.css("padding"+e))}),n.containerOffset=i.offset(),n.containerPosition=i.position(),n.containerSize={height:i.innerHeight()-s[3],width:i.innerWidth()-s[1]},t=n.containerOffset,e=n.containerSize.height,o=n.containerSize.width,o=n._hasScroll(a,"left")?a.scrollWidth:o,e=n._hasScroll(a)?a.scrollHeight:e,n.parentData={element:a,left:t.left,top:t.top,width:o,height:e}))},resize:function(t){var e=V(this).resizable("instance"),i=e.options,s=e.containerOffset,n=e.position,o=e._aspectRatio||t.shiftKey,a={top:0,left:0},r=e.containerElement,t=!0;r[0]!==document&&/static/.test(r.css("position"))&&(a=s),n.left<(e._helper?s.left:0)&&(e.size.width=e.size.width+(e._helper?e.position.left-s.left:e.position.left-a.left),o&&(e.size.height=e.size.width/e.aspectRatio,t=!1),e.position.left=i.helper?s.left:0),n.top<(e._helper?s.top:0)&&(e.size.height=e.size.height+(e._helper?e.position.top-s.top:e.position.top),o&&(e.size.width=e.size.height*e.aspectRatio,t=!1),e.position.top=e._helper?s.top:0),i=e.containerElement.get(0)===e.element.parent().get(0),n=/relative|absolute/.test(e.containerElement.css("position")),i&&n?(e.offset.left=e.parentData.left+e.position.left,e.offset.top=e.parentData.top+e.position.top):(e.offset.left=e.element.offset().left,e.offset.top=e.element.offset().top),n=Math.abs(e.sizeDiff.width+(e._helper?e.offset.left-a.left:e.offset.left-s.left)),s=Math.abs(e.sizeDiff.height+(e._helper?e.offset.top-a.top:e.offset.top-s.top)),n+e.size.width>=e.parentData.width&&(e.size.width=e.parentData.width-n,o&&(e.size.height=e.size.width/e.aspectRatio,t=!1)),s+e.size.height>=e.parentData.height&&(e.size.height=e.parentData.height-s,o&&(e.size.width=e.size.height*e.aspectRatio,t=!1)),t||(e.position.left=e.prevPosition.left,e.position.top=e.prevPosition.top,e.size.width=e.prevSize.width,e.size.height=e.prevSize.height)},stop:function(){var t=V(this).resizable("instance"),e=t.options,i=t.containerOffset,s=t.containerPosition,n=t.containerElement,o=V(t.helper),a=o.offset(),r=o.outerWidth()-t.sizeDiff.width,o=o.outerHeight()-t.sizeDiff.height;t._helper&&!e.animate&&/relative/.test(n.css("position"))&&V(this).css({left:a.left-s.left-i.left,width:r,height:o}),t._helper&&!e.animate&&/static/.test(n.css("position"))&&V(this).css({left:a.left-s.left-i.left,width:r,height:o})}}),V.ui.plugin.add("resizable","alsoResize",{start:function(){var t=V(this).resizable("instance").options;V(t.alsoResize).each(function(){var t=V(this);t.data("ui-resizable-alsoresize",{width:parseFloat(t.width()),height:parseFloat(t.height()),left:parseFloat(t.css("left")),top:parseFloat(t.css("top"))})})},resize:function(t,i){var e=V(this).resizable("instance"),s=e.options,n=e.originalSize,o=e.originalPosition,a={height:e.size.height-n.height||0,width:e.size.width-n.width||0,top:e.position.top-o.top||0,left:e.position.left-o.left||0};V(s.alsoResize).each(function(){var t=V(this),s=V(this).data("ui-resizable-alsoresize"),n={},e=t.parents(i.originalElement[0]).length?["width","height"]:["width","height","top","left"];V.each(e,function(t,e){var i=(s[e]||0)+(a[e]||0);i&&0<=i&&(n[e]=i||null)}),t.css(n)})},stop:function(){V(this).removeData("ui-resizable-alsoresize")}}),V.ui.plugin.add("resizable","ghost",{start:function(){var t=V(this).resizable("instance"),e=t.size;t.ghost=t.originalElement.clone(),t.ghost.css({opacity:.25,display:"block",position:"relative",height:e.height,width:e.width,margin:0,left:0,top:0}),t._addClass(t.ghost,"ui-resizable-ghost"),!1!==V.uiBackCompat&&"string"==typeof t.options.ghost&&t.ghost.addClass(this.options.ghost),t.ghost.appendTo(t.helper)},resize:function(){var t=V(this).resizable("instance");t.ghost&&t.ghost.css({position:"relative",height:t.size.height,width:t.size.width})},stop:function(){var t=V(this).resizable("instance");t.ghost&&t.helper&&t.helper.get(0).removeChild(t.ghost.get(0))}}),V.ui.plugin.add("resizable","grid",{resize:function(){var t,e=V(this).resizable("instance"),i=e.options,s=e.size,n=e.originalSize,o=e.originalPosition,a=e.axis,r="number"==typeof i.grid?[i.grid,i.grid]:i.grid,l=r[0]||1,h=r[1]||1,c=Math.round((s.width-n.width)/l)*l,u=Math.round((s.height-n.height)/h)*h,d=n.width+c,p=n.height+u,f=i.maxWidth&&i.maxWidth<d,g=i.maxHeight&&i.maxHeight<p,m=i.minWidth&&i.minWidth>d,s=i.minHeight&&i.minHeight>p;i.grid=r,m&&(d+=l),s&&(p+=h),f&&(d-=l),g&&(p-=h),/^(se|s|e)$/.test(a)?(e.size.width=d,e.size.height=p):/^(ne)$/.test(a)?(e.size.width=d,e.size.height=p,e.position.top=o.top-u):/^(sw)$/.test(a)?(e.size.width=d,e.size.height=p,e.position.left=o.left-c):((p-h<=0||d-l<=0)&&(t=e._getPaddingPlusBorderDimensions(this)),0<p-h?(e.size.height=p,e.position.top=o.top-u):(p=h-t.height,e.size.height=p,e.position.top=o.top+n.height-p),0<d-l?(e.size.width=d,e.position.left=o.left-c):(d=l-t.width,e.size.width=d,e.position.left=o.left+n.width-d))}});V.ui.resizable;V.widget("ui.dialog",{version:"1.13.1",options:{appendTo:"body",autoOpen:!0,buttons:[],classes:{"ui-dialog":"ui-corner-all","ui-dialog-titlebar":"ui-corner-all"},closeOnEscape:!0,closeText:"Close",draggable:!0,hide:null,height:"auto",maxHeight:null,maxWidth:null,minHeight:150,minWidth:150,modal:!1,position:{my:"center",at:"center",of:window,collision:"fit",using:function(t){var e=V(this).css(t).offset().top;e<0&&V(this).css("top",t.top-e)}},resizable:!0,show:null,title:null,width:300,beforeClose:null,close:null,drag:null,dragStart:null,dragStop:null,focus:null,open:null,resize:null,resizeStart:null,resizeStop:null},sizeRelatedOptions:{buttons:!0,height:!0,maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0,width:!0},resizableRelatedOptions:{maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0},_create:function(){this.originalCss={display:this.element[0].style.display,width:this.element[0].style.width,minHeight:this.element[0].style.minHeight,maxHeight:this.element[0].style.maxHeight,height:this.element[0].style.height},this.originalPosition={parent:this.element.parent(),index:this.element.parent().children().index(this.element)},this.originalTitle=this.element.attr("title"),null==this.options.title&&null!=this.originalTitle&&(this.options.title=this.originalTitle),this.options.disabled&&(this.options.disabled=!1),this._createWrapper(),this.element.show().removeAttr("title").appendTo(this.uiDialog),this._addClass("ui-dialog-content","ui-widget-content"),this._createTitlebar(),this._createButtonPane(),this.options.draggable&&V.fn.draggable&&this._makeDraggable(),this.options.resizable&&V.fn.resizable&&this._makeResizable(),this._isOpen=!1,this._trackFocus()},_init:function(){this.options.autoOpen&&this.open()},_appendTo:function(){var t=this.options.appendTo;return t&&(t.jquery||t.nodeType)?V(t):this.document.find(t||"body").eq(0)},_destroy:function(){var t,e=this.originalPosition;this._untrackInstance(),this._destroyOverlay(),this.element.removeUniqueId().css(this.originalCss).detach(),this.uiDialog.remove(),this.originalTitle&&this.element.attr("title",this.originalTitle),(t=e.parent.children().eq(e.index)).length&&t[0]!==this.element[0]?t.before(this.element):e.parent.append(this.element)},widget:function(){return this.uiDialog},disable:V.noop,enable:V.noop,close:function(t){var e=this;this._isOpen&&!1!==this._trigger("beforeClose",t)&&(this._isOpen=!1,this._focusedElement=null,this._destroyOverlay(),this._untrackInstance(),this.opener.filter(":focusable").trigger("focus").length||V.ui.safeBlur(V.ui.safeActiveElement(this.document[0])),this._hide(this.uiDialog,this.options.hide,function(){e._trigger("close",t)}))},isOpen:function(){return this._isOpen},moveToTop:function(){this._moveToTop()},_moveToTop:function(t,e){var i=!1,s=this.uiDialog.siblings(".ui-front:visible").map(function(){return+V(this).css("z-index")}).get(),s=Math.max.apply(null,s);return s>=+this.uiDialog.css("z-index")&&(this.uiDialog.css("z-index",s+1),i=!0),i&&!e&&this._trigger("focus",t),i},open:function(){var t=this;this._isOpen?this._moveToTop()&&this._focusTabbable():(this._isOpen=!0,this.opener=V(V.ui.safeActiveElement(this.document[0])),this._size(),this._position(),this._createOverlay(),this._moveToTop(null,!0),this.overlay&&this.overlay.css("z-index",this.uiDialog.css("z-index")-1),this._show(this.uiDialog,this.options.show,function(){t._focusTabbable(),t._trigger("focus")}),this._makeFocusTarget(),this._trigger("open"))},_focusTabbable:function(){var t=this._focusedElement;(t=!(t=!(t=!(t=!(t=t||this.element.find("[autofocus]")).length?this.element.find(":tabbable"):t).length?this.uiDialogButtonPane.find(":tabbable"):t).length?this.uiDialogTitlebarClose.filter(":tabbable"):t).length?this.uiDialog:t).eq(0).trigger("focus")},_restoreTabbableFocus:function(){var t=V.ui.safeActiveElement(this.document[0]);this.uiDialog[0]===t||V.contains(this.uiDialog[0],t)||this._focusTabbable()},_keepFocus:function(t){t.preventDefault(),this._restoreTabbableFocus(),this._delay(this._restoreTabbableFocus)},_createWrapper:function(){this.uiDialog=V("<div>").hide().attr({tabIndex:-1,role:"dialog"}).appendTo(this._appendTo()),this._addClass(this.uiDialog,"ui-dialog","ui-widget ui-widget-content ui-front"),this._on(this.uiDialog,{keydown:function(t){if(this.options.closeOnEscape&&!t.isDefaultPrevented()&&t.keyCode&&t.keyCode===V.ui.keyCode.ESCAPE)return t.preventDefault(),void this.close(t);var e,i,s;t.keyCode!==V.ui.keyCode.TAB||t.isDefaultPrevented()||(e=this.uiDialog.find(":tabbable"),i=e.first(),s=e.last(),t.target!==s[0]&&t.target!==this.uiDialog[0]||t.shiftKey?t.target!==i[0]&&t.target!==this.uiDialog[0]||!t.shiftKey||(this._delay(function(){s.trigger("focus")}),t.preventDefault()):(this._delay(function(){i.trigger("focus")}),t.preventDefault()))},mousedown:function(t){this._moveToTop(t)&&this._focusTabbable()}}),this.element.find("[aria-describedby]").length||this.uiDialog.attr({"aria-describedby":this.element.uniqueId().attr("id")})},_createTitlebar:function(){var t;this.uiDialogTitlebar=V("<div>"),this._addClass(this.uiDialogTitlebar,"ui-dialog-titlebar","ui-widget-header ui-helper-clearfix"),this._on(this.uiDialogTitlebar,{mousedown:function(t){V(t.target).closest(".ui-dialog-titlebar-close")||this.uiDialog.trigger("focus")}}),this.uiDialogTitlebarClose=V("<button type='button'></button>").button({label:V("<a>").text(this.options.closeText).html(),icon:"ui-icon-closethick",showLabel:!1}).appendTo(this.uiDialogTitlebar),this._addClass(this.uiDialogTitlebarClose,"ui-dialog-titlebar-close"),this._on(this.uiDialogTitlebarClose,{click:function(t){t.preventDefault(),this.close(t)}}),t=V("<span>").uniqueId().prependTo(this.uiDialogTitlebar),this._addClass(t,"ui-dialog-title"),this._title(t),this.uiDialogTitlebar.prependTo(this.uiDialog),this.uiDialog.attr({"aria-labelledby":t.attr("id")})},_title:function(t){this.options.title?t.text(this.options.title):t.html("&#160;")},_createButtonPane:function(){this.uiDialogButtonPane=V("<div>"),this._addClass(this.uiDialogButtonPane,"ui-dialog-buttonpane","ui-widget-content ui-helper-clearfix"),this.uiButtonSet=V("<div>").appendTo(this.uiDialogButtonPane),this._addClass(this.uiButtonSet,"ui-dialog-buttonset"),this._createButtons()},_createButtons:function(){var s=this,t=this.options.buttons;this.uiDialogButtonPane.remove(),this.uiButtonSet.empty(),V.isEmptyObject(t)||Array.isArray(t)&&!t.length?this._removeClass(this.uiDialog,"ui-dialog-buttons"):(V.each(t,function(t,e){var i;e=V.extend({type:"button"},e="function"==typeof e?{click:e,text:t}:e),i=e.click,t={icon:e.icon,iconPosition:e.iconPosition,showLabel:e.showLabel,icons:e.icons,text:e.text},delete e.click,delete e.icon,delete e.iconPosition,delete e.showLabel,delete e.icons,"boolean"==typeof e.text&&delete e.text,V("<button></button>",e).button(t).appendTo(s.uiButtonSet).on("click",function(){i.apply(s.element[0],arguments)})}),this._addClass(this.uiDialog,"ui-dialog-buttons"),this.uiDialogButtonPane.appendTo(this.uiDialog))},_makeDraggable:function(){var n=this,o=this.options;function a(t){return{position:t.position,offset:t.offset}}this.uiDialog.draggable({cancel:".ui-dialog-content, .ui-dialog-titlebar-close",handle:".ui-dialog-titlebar",containment:"document",start:function(t,e){n._addClass(V(this),"ui-dialog-dragging"),n._blockFrames(),n._trigger("dragStart",t,a(e))},drag:function(t,e){n._trigger("drag",t,a(e))},stop:function(t,e){var i=e.offset.left-n.document.scrollLeft(),s=e.offset.top-n.document.scrollTop();o.position={my:"left top",at:"left"+(0<=i?"+":"")+i+" top"+(0<=s?"+":"")+s,of:n.window},n._removeClass(V(this),"ui-dialog-dragging"),n._unblockFrames(),n._trigger("dragStop",t,a(e))}})},_makeResizable:function(){var n=this,o=this.options,t=o.resizable,e=this.uiDialog.css("position"),t="string"==typeof t?t:"n,e,s,w,se,sw,ne,nw";function a(t){return{originalPosition:t.originalPosition,originalSize:t.originalSize,position:t.position,size:t.size}}this.uiDialog.resizable({cancel:".ui-dialog-content",containment:"document",alsoResize:this.element,maxWidth:o.maxWidth,maxHeight:o.maxHeight,minWidth:o.minWidth,minHeight:this._minHeight(),handles:t,start:function(t,e){n._addClass(V(this),"ui-dialog-resizing"),n._blockFrames(),n._trigger("resizeStart",t,a(e))},resize:function(t,e){n._trigger("resize",t,a(e))},stop:function(t,e){var i=n.uiDialog.offset(),s=i.left-n.document.scrollLeft(),i=i.top-n.document.scrollTop();o.height=n.uiDialog.height(),o.width=n.uiDialog.width(),o.position={my:"left top",at:"left"+(0<=s?"+":"")+s+" top"+(0<=i?"+":"")+i,of:n.window},n._removeClass(V(this),"ui-dialog-resizing"),n._unblockFrames(),n._trigger("resizeStop",t,a(e))}}).css("position",e)},_trackFocus:function(){this._on(this.widget(),{focusin:function(t){this._makeFocusTarget(),this._focusedElement=V(t.target)}})},_makeFocusTarget:function(){this._untrackInstance(),this._trackingInstances().unshift(this)},_untrackInstance:function(){var t=this._trackingInstances(),e=V.inArray(this,t);-1!==e&&t.splice(e,1)},_trackingInstances:function(){var t=this.document.data("ui-dialog-instances");return t||this.document.data("ui-dialog-instances",t=[]),t},_minHeight:function(){var t=this.options;return"auto"===t.height?t.minHeight:Math.min(t.minHeight,t.height)},_position:function(){var t=this.uiDialog.is(":visible");t||this.uiDialog.show(),this.uiDialog.position(this.options.position),t||this.uiDialog.hide()},_setOptions:function(t){var i=this,s=!1,n={};V.each(t,function(t,e){i._setOption(t,e),t in i.sizeRelatedOptions&&(s=!0),t in i.resizableRelatedOptions&&(n[t]=e)}),s&&(this._size(),this._position()),this.uiDialog.is(":data(ui-resizable)")&&this.uiDialog.resizable("option",n)},_setOption:function(t,e){var i,s=this.uiDialog;"disabled"!==t&&(this._super(t,e),"appendTo"===t&&this.uiDialog.appendTo(this._appendTo()),"buttons"===t&&this._createButtons(),"closeText"===t&&this.uiDialogTitlebarClose.button({label:V("<a>").text(""+this.options.closeText).html()}),"draggable"===t&&((i=s.is(":data(ui-draggable)"))&&!e&&s.draggable("destroy"),!i&&e&&this._makeDraggable()),"position"===t&&this._position(),"resizable"===t&&((i=s.is(":data(ui-resizable)"))&&!e&&s.resizable("destroy"),i&&"string"==typeof e&&s.resizable("option","handles",e),i||!1===e||this._makeResizable()),"title"===t&&this._title(this.uiDialogTitlebar.find(".ui-dialog-title")))},_size:function(){var t,e,i,s=this.options;this.element.show().css({width:"auto",minHeight:0,maxHeight:"none",height:0}),s.minWidth>s.width&&(s.width=s.minWidth),t=this.uiDialog.css({height:"auto",width:s.width}).outerHeight(),e=Math.max(0,s.minHeight-t),i="number"==typeof s.maxHeight?Math.max(0,s.maxHeight-t):"none","auto"===s.height?this.element.css({minHeight:e,maxHeight:i,height:"auto"}):this.element.height(Math.max(0,s.height-t)),this.uiDialog.is(":data(ui-resizable)")&&this.uiDialog.resizable("option","minHeight",this._minHeight())},_blockFrames:function(){this.iframeBlocks=this.document.find("iframe").map(function(){var t=V(this);return V("<div>").css({position:"absolute",width:t.outerWidth(),height:t.outerHeight()}).appendTo(t.parent()).offset(t.offset())[0]})},_unblockFrames:function(){this.iframeBlocks&&(this.iframeBlocks.remove(),delete this.iframeBlocks)},_allowInteraction:function(t){return!!V(t.target).closest(".ui-dialog").length||!!V(t.target).closest(".ui-datepicker").length},_createOverlay:function(){var i,s;this.options.modal&&(i=V.fn.jquery.substring(0,4),s=!0,this._delay(function(){s=!1}),this.document.data("ui-dialog-overlays")||this.document.on("focusin.ui-dialog",function(t){var e;s||((e=this._trackingInstances()[0])._allowInteraction(t)||(t.preventDefault(),e._focusTabbable(),"3.4."!==i&&"3.5."!==i||e._delay(e._restoreTabbableFocus)))}.bind(this)),this.overlay=V("<div>").appendTo(this._appendTo()),this._addClass(this.overlay,null,"ui-widget-overlay ui-front"),this._on(this.overlay,{mousedown:"_keepFocus"}),this.document.data("ui-dialog-overlays",(this.document.data("ui-dialog-overlays")||0)+1))},_destroyOverlay:function(){var t;this.options.modal&&this.overlay&&((t=this.document.data("ui-dialog-overlays")-1)?this.document.data("ui-dialog-overlays",t):(this.document.off("focusin.ui-dialog"),this.document.removeData("ui-dialog-overlays")),this.overlay.remove(),this.overlay=null)}}),!1!==V.uiBackCompat&&V.widget("ui.dialog",V.ui.dialog,{options:{dialogClass:""},_createWrapper:function(){this._super(),this.uiDialog.addClass(this.options.dialogClass)},_setOption:function(t,e){"dialogClass"===t&&this.uiDialog.removeClass(this.options.dialogClass).addClass(e),this._superApply(arguments)}});V.ui.dialog;function lt(t,e,i){return e<=t&&t<e+i}V.widget("ui.droppable",{version:"1.13.1",widgetEventPrefix:"drop",options:{accept:"*",addClasses:!0,greedy:!1,scope:"default",tolerance:"intersect",activate:null,deactivate:null,drop:null,out:null,over:null},_create:function(){var t,e=this.options,i=e.accept;this.isover=!1,this.isout=!0,this.accept="function"==typeof i?i:function(t){return t.is(i)},this.proportions=function(){if(!arguments.length)return t=t||{width:this.element[0].offsetWidth,height:this.element[0].offsetHeight};t=arguments[0]},this._addToManager(e.scope),e.addClasses&&this._addClass("ui-droppable")},_addToManager:function(t){V.ui.ddmanager.droppables[t]=V.ui.ddmanager.droppables[t]||[],V.ui.ddmanager.droppables[t].push(this)},_splice:function(t){for(var e=0;e<t.length;e++)t[e]===this&&t.splice(e,1)},_destroy:function(){var t=V.ui.ddmanager.droppables[this.options.scope];this._splice(t)},_setOption:function(t,e){var i;"accept"===t?this.accept="function"==typeof e?e:function(t){return t.is(e)}:"scope"===t&&(i=V.ui.ddmanager.droppables[this.options.scope],this._splice(i),this._addToManager(e)),this._super(t,e)},_activate:function(t){var e=V.ui.ddmanager.current;this._addActiveClass(),e&&this._trigger("activate",t,this.ui(e))},_deactivate:function(t){var e=V.ui.ddmanager.current;this._removeActiveClass(),e&&this._trigger("deactivate",t,this.ui(e))},_over:function(t){var e=V.ui.ddmanager.current;e&&(e.currentItem||e.element)[0]!==this.element[0]&&this.accept.call(this.element[0],e.currentItem||e.element)&&(this._addHoverClass(),this._trigger("over",t,this.ui(e)))},_out:function(t){var e=V.ui.ddmanager.current;e&&(e.currentItem||e.element)[0]!==this.element[0]&&this.accept.call(this.element[0],e.currentItem||e.element)&&(this._removeHoverClass(),this._trigger("out",t,this.ui(e)))},_drop:function(e,t){var i=t||V.ui.ddmanager.current,s=!1;return!(!i||(i.currentItem||i.element)[0]===this.element[0])&&(this.element.find(":data(ui-droppable)").not(".ui-draggable-dragging").each(function(){var t=V(this).droppable("instance");if(t.options.greedy&&!t.options.disabled&&t.options.scope===i.options.scope&&t.accept.call(t.element[0],i.currentItem||i.element)&&V.ui.intersect(i,V.extend(t,{offset:t.element.offset()}),t.options.tolerance,e))return!(s=!0)}),!s&&(!!this.accept.call(this.element[0],i.currentItem||i.element)&&(this._removeActiveClass(),this._removeHoverClass(),this._trigger("drop",e,this.ui(i)),this.element)))},ui:function(t){return{draggable:t.currentItem||t.element,helper:t.helper,position:t.position,offset:t.positionAbs}},_addHoverClass:function(){this._addClass("ui-droppable-hover")},_removeHoverClass:function(){this._removeClass("ui-droppable-hover")},_addActiveClass:function(){this._addClass("ui-droppable-active")},_removeActiveClass:function(){this._removeClass("ui-droppable-active")}}),V.ui.intersect=function(t,e,i,s){if(!e.offset)return!1;var n=(t.positionAbs||t.position.absolute).left+t.margins.left,o=(t.positionAbs||t.position.absolute).top+t.margins.top,a=n+t.helperProportions.width,r=o+t.helperProportions.height,l=e.offset.left,h=e.offset.top,c=l+e.proportions().width,u=h+e.proportions().height;switch(i){case"fit":return l<=n&&a<=c&&h<=o&&r<=u;case"intersect":return l<n+t.helperProportions.width/2&&a-t.helperProportions.width/2<c&&h<o+t.helperProportions.height/2&&r-t.helperProportions.height/2<u;case"pointer":return lt(s.pageY,h,e.proportions().height)&&lt(s.pageX,l,e.proportions().width);case"touch":return(h<=o&&o<=u||h<=r&&r<=u||o<h&&u<r)&&(l<=n&&n<=c||l<=a&&a<=c||n<l&&c<a);default:return!1}},!(V.ui.ddmanager={current:null,droppables:{default:[]},prepareOffsets:function(t,e){var i,s,n=V.ui.ddmanager.droppables[t.options.scope]||[],o=e?e.type:null,a=(t.currentItem||t.element).find(":data(ui-droppable)").addBack();t:for(i=0;i<n.length;i++)if(!(n[i].options.disabled||t&&!n[i].accept.call(n[i].element[0],t.currentItem||t.element))){for(s=0;s<a.length;s++)if(a[s]===n[i].element[0]){n[i].proportions().height=0;continue t}n[i].visible="none"!==n[i].element.css("display"),n[i].visible&&("mousedown"===o&&n[i]._activate.call(n[i],e),n[i].offset=n[i].element.offset(),n[i].proportions({width:n[i].element[0].offsetWidth,height:n[i].element[0].offsetHeight}))}},drop:function(t,e){var i=!1;return V.each((V.ui.ddmanager.droppables[t.options.scope]||[]).slice(),function(){this.options&&(!this.options.disabled&&this.visible&&V.ui.intersect(t,this,this.options.tolerance,e)&&(i=this._drop.call(this,e)||i),!this.options.disabled&&this.visible&&this.accept.call(this.element[0],t.currentItem||t.element)&&(this.isout=!0,this.isover=!1,this._deactivate.call(this,e)))}),i},dragStart:function(t,e){t.element.parentsUntil("body").on("scroll.droppable",function(){t.options.refreshPositions||V.ui.ddmanager.prepareOffsets(t,e)})},drag:function(n,o){n.options.refreshPositions&&V.ui.ddmanager.prepareOffsets(n,o),V.each(V.ui.ddmanager.droppables[n.options.scope]||[],function(){var t,e,i,s;this.options.disabled||this.greedyChild||!this.visible||(s=!(i=V.ui.intersect(n,this,this.options.tolerance,o))&&this.isover?"isout":i&&!this.isover?"isover":null)&&(this.options.greedy&&(e=this.options.scope,(i=this.element.parents(":data(ui-droppable)").filter(function(){return V(this).droppable("instance").options.scope===e})).length&&((t=V(i[0]).droppable("instance")).greedyChild="isover"===s)),t&&"isover"===s&&(t.isover=!1,t.isout=!0,t._out.call(t,o)),this[s]=!0,this["isout"===s?"isover":"isout"]=!1,this["isover"===s?"_over":"_out"].call(this,o),t&&"isout"===s&&(t.isout=!1,t.isover=!0,t._over.call(t,o)))})},dragStop:function(t,e){t.element.parentsUntil("body").off("scroll.droppable"),t.options.refreshPositions||V.ui.ddmanager.prepareOffsets(t,e)}})!==V.uiBackCompat&&V.widget("ui.droppable",V.ui.droppable,{options:{hoverClass:!1,activeClass:!1},_addActiveClass:function(){this._super(),this.options.activeClass&&this.element.addClass(this.options.activeClass)},_removeActiveClass:function(){this._super(),this.options.activeClass&&this.element.removeClass(this.options.activeClass)},_addHoverClass:function(){this._super(),this.options.hoverClass&&this.element.addClass(this.options.hoverClass)},_removeHoverClass:function(){this._super(),this.options.hoverClass&&this.element.removeClass(this.options.hoverClass)}});V.ui.droppable,V.widget("ui.progressbar",{version:"1.13.1",options:{classes:{"ui-progressbar":"ui-corner-all","ui-progressbar-value":"ui-corner-left","ui-progressbar-complete":"ui-corner-right"},max:100,value:0,change:null,complete:null},min:0,_create:function(){this.oldValue=this.options.value=this._constrainedValue(),this.element.attr({role:"progressbar","aria-valuemin":this.min}),this._addClass("ui-progressbar","ui-widget ui-widget-content"),this.valueDiv=V("<div>").appendTo(this.element),this._addClass(this.valueDiv,"ui-progressbar-value","ui-widget-header"),this._refreshValue()},_destroy:function(){this.element.removeAttr("role aria-valuemin aria-valuemax aria-valuenow"),this.valueDiv.remove()},value:function(t){if(void 0===t)return this.options.value;this.options.value=this._constrainedValue(t),this._refreshValue()},_constrainedValue:function(t){return void 0===t&&(t=this.options.value),this.indeterminate=!1===t,"number"!=typeof t&&(t=0),!this.indeterminate&&Math.min(this.options.max,Math.max(this.min,t))},_setOptions:function(t){var e=t.value;delete t.value,this._super(t),this.options.value=this._constrainedValue(e),this._refreshValue()},_setOption:function(t,e){"max"===t&&(e=Math.max(this.min,e)),this._super(t,e)},_setOptionDisabled:function(t){this._super(t),this.element.attr("aria-disabled",t),this._toggleClass(null,"ui-state-disabled",!!t)},_percentage:function(){return this.indeterminate?100:100*(this.options.value-this.min)/(this.options.max-this.min)},_refreshValue:function(){var t=this.options.value,e=this._percentage();this.valueDiv.toggle(this.indeterminate||t>this.min).width(e.toFixed(0)+"%"),this._toggleClass(this.valueDiv,"ui-progressbar-complete",null,t===this.options.max)._toggleClass("ui-progressbar-indeterminate",null,this.indeterminate),this.indeterminate?(this.element.removeAttr("aria-valuenow"),this.overlayDiv||(this.overlayDiv=V("<div>").appendTo(this.valueDiv),this._addClass(this.overlayDiv,"ui-progressbar-overlay"))):(this.element.attr({"aria-valuemax":this.options.max,"aria-valuenow":t}),this.overlayDiv&&(this.overlayDiv.remove(),this.overlayDiv=null)),this.oldValue!==t&&(this.oldValue=t,this._trigger("change")),t===this.options.max&&this._trigger("complete")}}),V.widget("ui.selectable",V.ui.mouse,{version:"1.13.1",options:{appendTo:"body",autoRefresh:!0,distance:0,filter:"*",tolerance:"touch",selected:null,selecting:null,start:null,stop:null,unselected:null,unselecting:null},_create:function(){var i=this;this._addClass("ui-selectable"),this.dragged=!1,this.refresh=function(){i.elementPos=V(i.element[0]).offset(),i.selectees=V(i.options.filter,i.element[0]),i._addClass(i.selectees,"ui-selectee"),i.selectees.each(function(){var t=V(this),e=t.offset(),e={left:e.left-i.elementPos.left,top:e.top-i.elementPos.top};V.data(this,"selectable-item",{element:this,$element:t,left:e.left,top:e.top,right:e.left+t.outerWidth(),bottom:e.top+t.outerHeight(),startselected:!1,selected:t.hasClass("ui-selected"),selecting:t.hasClass("ui-selecting"),unselecting:t.hasClass("ui-unselecting")})})},this.refresh(),this._mouseInit(),this.helper=V("<div>"),this._addClass(this.helper,"ui-selectable-helper")},_destroy:function(){this.selectees.removeData("selectable-item"),this._mouseDestroy()},_mouseStart:function(i){var s=this,t=this.options;this.opos=[i.pageX,i.pageY],this.elementPos=V(this.element[0]).offset(),this.options.disabled||(this.selectees=V(t.filter,this.element[0]),this._trigger("start",i),V(t.appendTo).append(this.helper),this.helper.css({left:i.pageX,top:i.pageY,width:0,height:0}),t.autoRefresh&&this.refresh(),this.selectees.filter(".ui-selected").each(function(){var t=V.data(this,"selectable-item");t.startselected=!0,i.metaKey||i.ctrlKey||(s._removeClass(t.$element,"ui-selected"),t.selected=!1,s._addClass(t.$element,"ui-unselecting"),t.unselecting=!0,s._trigger("unselecting",i,{unselecting:t.element}))}),V(i.target).parents().addBack().each(function(){var t,e=V.data(this,"selectable-item");if(e)return t=!i.metaKey&&!i.ctrlKey||!e.$element.hasClass("ui-selected"),s._removeClass(e.$element,t?"ui-unselecting":"ui-selected")._addClass(e.$element,t?"ui-selecting":"ui-unselecting"),e.unselecting=!t,e.selecting=t,(e.selected=t)?s._trigger("selecting",i,{selecting:e.element}):s._trigger("unselecting",i,{unselecting:e.element}),!1}))},_mouseDrag:function(s){if(this.dragged=!0,!this.options.disabled){var t,n=this,o=this.options,a=this.opos[0],r=this.opos[1],l=s.pageX,h=s.pageY;return l<a&&(t=l,l=a,a=t),h<r&&(t=h,h=r,r=t),this.helper.css({left:a,top:r,width:l-a,height:h-r}),this.selectees.each(function(){var t=V.data(this,"selectable-item"),e=!1,i={};t&&t.element!==n.element[0]&&(i.left=t.left+n.elementPos.left,i.right=t.right+n.elementPos.left,i.top=t.top+n.elementPos.top,i.bottom=t.bottom+n.elementPos.top,"touch"===o.tolerance?e=!(i.left>l||i.right<a||i.top>h||i.bottom<r):"fit"===o.tolerance&&(e=i.left>a&&i.right<l&&i.top>r&&i.bottom<h),e?(t.selected&&(n._removeClass(t.$element,"ui-selected"),t.selected=!1),t.unselecting&&(n._removeClass(t.$element,"ui-unselecting"),t.unselecting=!1),t.selecting||(n._addClass(t.$element,"ui-selecting"),t.selecting=!0,n._trigger("selecting",s,{selecting:t.element}))):(t.selecting&&((s.metaKey||s.ctrlKey)&&t.startselected?(n._removeClass(t.$element,"ui-selecting"),t.selecting=!1,n._addClass(t.$element,"ui-selected"),t.selected=!0):(n._removeClass(t.$element,"ui-selecting"),t.selecting=!1,t.startselected&&(n._addClass(t.$element,"ui-unselecting"),t.unselecting=!0),n._trigger("unselecting",s,{unselecting:t.element}))),t.selected&&(s.metaKey||s.ctrlKey||t.startselected||(n._removeClass(t.$element,"ui-selected"),t.selected=!1,n._addClass(t.$element,"ui-unselecting"),t.unselecting=!0,n._trigger("unselecting",s,{unselecting:t.element})))))}),!1}},_mouseStop:function(e){var i=this;return this.dragged=!1,V(".ui-unselecting",this.element[0]).each(function(){var t=V.data(this,"selectable-item");i._removeClass(t.$element,"ui-unselecting"),t.unselecting=!1,t.startselected=!1,i._trigger("unselected",e,{unselected:t.element})}),V(".ui-selecting",this.element[0]).each(function(){var t=V.data(this,"selectable-item");i._removeClass(t.$element,"ui-selecting")._addClass(t.$element,"ui-selected"),t.selecting=!1,t.selected=!0,t.startselected=!0,i._trigger("selected",e,{selected:t.element})}),this._trigger("stop",e),this.helper.remove(),!1}}),V.widget("ui.selectmenu",[V.ui.formResetMixin,{version:"1.13.1",defaultElement:"<select>",options:{appendTo:null,classes:{"ui-selectmenu-button-open":"ui-corner-top","ui-selectmenu-button-closed":"ui-corner-all"},disabled:null,icons:{button:"ui-icon-triangle-1-s"},position:{my:"left top",at:"left bottom",collision:"none"},width:!1,change:null,close:null,focus:null,open:null,select:null},_create:function(){var t=this.element.uniqueId().attr("id");this.ids={element:t,button:t+"-button",menu:t+"-menu"},this._drawButton(),this._drawMenu(),this._bindFormResetHandler(),this._rendered=!1,this.menuItems=V()},_drawButton:function(){var t,e=this,i=this._parseOption(this.element.find("option:selected"),this.element[0].selectedIndex);this.labels=this.element.labels().attr("for",this.ids.button),this._on(this.labels,{click:function(t){this.button.trigger("focus"),t.preventDefault()}}),this.element.hide(),this.button=V("<span>",{tabindex:this.options.disabled?-1:0,id:this.ids.button,role:"combobox","aria-expanded":"false","aria-autocomplete":"list","aria-owns":this.ids.menu,"aria-haspopup":"true",title:this.element.attr("title")}).insertAfter(this.element),this._addClass(this.button,"ui-selectmenu-button ui-selectmenu-button-closed","ui-button ui-widget"),t=V("<span>").appendTo(this.button),this._addClass(t,"ui-selectmenu-icon","ui-icon "+this.options.icons.button),this.buttonItem=this._renderButtonItem(i).appendTo(this.button),!1!==this.options.width&&this._resizeButton(),this._on(this.button,this._buttonEvents),this.button.one("focusin",function(){e._rendered||e._refreshMenu()})},_drawMenu:function(){var i=this;this.menu=V("<ul>",{"aria-hidden":"true","aria-labelledby":this.ids.button,id:this.ids.menu}),this.menuWrap=V("<div>").append(this.menu),this._addClass(this.menuWrap,"ui-selectmenu-menu","ui-front"),this.menuWrap.appendTo(this._appendTo()),this.menuInstance=this.menu.menu({classes:{"ui-menu":"ui-corner-bottom"},role:"listbox",select:function(t,e){t.preventDefault(),i._setSelection(),i._select(e.item.data("ui-selectmenu-item"),t)},focus:function(t,e){e=e.item.data("ui-selectmenu-item");null!=i.focusIndex&&e.index!==i.focusIndex&&(i._trigger("focus",t,{item:e}),i.isOpen||i._select(e,t)),i.focusIndex=e.index,i.button.attr("aria-activedescendant",i.menuItems.eq(e.index).attr("id"))}}).menu("instance"),this.menuInstance._off(this.menu,"mouseleave"),this.menuInstance._closeOnDocumentClick=function(){return!1},this.menuInstance._isDivider=function(){return!1}},refresh:function(){this._refreshMenu(),this.buttonItem.replaceWith(this.buttonItem=this._renderButtonItem(this._getSelectedItem().data("ui-selectmenu-item")||{})),null===this.options.width&&this._resizeButton()},_refreshMenu:function(){var t=this.element.find("option");this.menu.empty(),this._parseOptions(t),this._renderMenu(this.menu,this.items),this.menuInstance.refresh(),this.menuItems=this.menu.find("li").not(".ui-selectmenu-optgroup").find(".ui-menu-item-wrapper"),this._rendered=!0,t.length&&(t=this._getSelectedItem(),this.menuInstance.focus(null,t),this._setAria(t.data("ui-selectmenu-item")),this._setOption("disabled",this.element.prop("disabled")))},open:function(t){this.options.disabled||(this._rendered?(this._removeClass(this.menu.find(".ui-state-active"),null,"ui-state-active"),this.menuInstance.focus(null,this._getSelectedItem())):this._refreshMenu(),this.menuItems.length&&(this.isOpen=!0,this._toggleAttr(),this._resizeMenu(),this._position(),this._on(this.document,this._documentClick),this._trigger("open",t)))},_position:function(){this.menuWrap.position(V.extend({of:this.button},this.options.position))},close:function(t){this.isOpen&&(this.isOpen=!1,this._toggleAttr(),this.range=null,this._off(this.document),this._trigger("close",t))},widget:function(){return this.button},menuWidget:function(){return this.menu},_renderButtonItem:function(t){var e=V("<span>");return this._setText(e,t.label),this._addClass(e,"ui-selectmenu-text"),e},_renderMenu:function(s,t){var n=this,o="";V.each(t,function(t,e){var i;e.optgroup!==o&&(i=V("<li>",{text:e.optgroup}),n._addClass(i,"ui-selectmenu-optgroup","ui-menu-divider"+(e.element.parent("optgroup").prop("disabled")?" ui-state-disabled":"")),i.appendTo(s),o=e.optgroup),n._renderItemData(s,e)})},_renderItemData:function(t,e){return this._renderItem(t,e).data("ui-selectmenu-item",e)},_renderItem:function(t,e){var i=V("<li>"),s=V("<div>",{title:e.element.attr("title")});return e.disabled&&this._addClass(i,null,"ui-state-disabled"),this._setText(s,e.label),i.append(s).appendTo(t)},_setText:function(t,e){e?t.text(e):t.html("&#160;")},_move:function(t,e){var i,s=".ui-menu-item";this.isOpen?i=this.menuItems.eq(this.focusIndex).parent("li"):(i=this.menuItems.eq(this.element[0].selectedIndex).parent("li"),s+=":not(.ui-state-disabled)"),(s="first"===t||"last"===t?i["first"===t?"prevAll":"nextAll"](s).eq(-1):i[t+"All"](s).eq(0)).length&&this.menuInstance.focus(e,s)},_getSelectedItem:function(){return this.menuItems.eq(this.element[0].selectedIndex).parent("li")},_toggle:function(t){this[this.isOpen?"close":"open"](t)},_setSelection:function(){var t;this.range&&(window.getSelection?((t=window.getSelection()).removeAllRanges(),t.addRange(this.range)):this.range.select(),this.button.focus())},_documentClick:{mousedown:function(t){this.isOpen&&(V(t.target).closest(".ui-selectmenu-menu, #"+V.escapeSelector(this.ids.button)).length||this.close(t))}},_buttonEvents:{mousedown:function(){var t;window.getSelection?(t=window.getSelection()).rangeCount&&(this.range=t.getRangeAt(0)):this.range=document.selection.createRange()},click:function(t){this._setSelection(),this._toggle(t)},keydown:function(t){var e=!0;switch(t.keyCode){case V.ui.keyCode.TAB:case V.ui.keyCode.ESCAPE:this.close(t),e=!1;break;case V.ui.keyCode.ENTER:this.isOpen&&this._selectFocusedItem(t);break;case V.ui.keyCode.UP:t.altKey?this._toggle(t):this._move("prev",t);break;case V.ui.keyCode.DOWN:t.altKey?this._toggle(t):this._move("next",t);break;case V.ui.keyCode.SPACE:this.isOpen?this._selectFocusedItem(t):this._toggle(t);break;case V.ui.keyCode.LEFT:this._move("prev",t);break;case V.ui.keyCode.RIGHT:this._move("next",t);break;case V.ui.keyCode.HOME:case V.ui.keyCode.PAGE_UP:this._move("first",t);break;case V.ui.keyCode.END:case V.ui.keyCode.PAGE_DOWN:this._move("last",t);break;default:this.menu.trigger(t),e=!1}e&&t.preventDefault()}},_selectFocusedItem:function(t){var e=this.menuItems.eq(this.focusIndex).parent("li");e.hasClass("ui-state-disabled")||this._select(e.data("ui-selectmenu-item"),t)},_select:function(t,e){var i=this.element[0].selectedIndex;this.element[0].selectedIndex=t.index,this.buttonItem.replaceWith(this.buttonItem=this._renderButtonItem(t)),this._setAria(t),this._trigger("select",e,{item:t}),t.index!==i&&this._trigger("change",e,{item:t}),this.close(e)},_setAria:function(t){t=this.menuItems.eq(t.index).attr("id");this.button.attr({"aria-labelledby":t,"aria-activedescendant":t}),this.menu.attr("aria-activedescendant",t)},_setOption:function(t,e){var i;"icons"===t&&(i=this.button.find("span.ui-icon"),this._removeClass(i,null,this.options.icons.button)._addClass(i,null,e.button)),this._super(t,e),"appendTo"===t&&this.menuWrap.appendTo(this._appendTo()),"width"===t&&this._resizeButton()},_setOptionDisabled:function(t){this._super(t),this.menuInstance.option("disabled",t),this.button.attr("aria-disabled",t),this._toggleClass(this.button,null,"ui-state-disabled",t),this.element.prop("disabled",t),t?(this.button.attr("tabindex",-1),this.close()):this.button.attr("tabindex",0)},_appendTo:function(){var t=this.options.appendTo;return t=!(t=!(t=t&&(t.jquery||t.nodeType?V(t):this.document.find(t).eq(0)))||!t[0]?this.element.closest(".ui-front, dialog"):t).length?this.document[0].body:t},_toggleAttr:function(){this.button.attr("aria-expanded",this.isOpen),this._removeClass(this.button,"ui-selectmenu-button-"+(this.isOpen?"closed":"open"))._addClass(this.button,"ui-selectmenu-button-"+(this.isOpen?"open":"closed"))._toggleClass(this.menuWrap,"ui-selectmenu-open",null,this.isOpen),this.menu.attr("aria-hidden",!this.isOpen)},_resizeButton:function(){var t=this.options.width;!1!==t?(null===t&&(t=this.element.show().outerWidth(),this.element.hide()),this.button.outerWidth(t)):this.button.css("width","")},_resizeMenu:function(){this.menu.outerWidth(Math.max(this.button.outerWidth(),this.menu.width("").outerWidth()+1))},_getCreateOptions:function(){var t=this._super();return t.disabled=this.element.prop("disabled"),t},_parseOptions:function(t){var i=this,s=[];t.each(function(t,e){e.hidden||s.push(i._parseOption(V(e),t))}),this.items=s},_parseOption:function(t,e){var i=t.parent("optgroup");return{element:t,index:e,value:t.val(),label:t.text(),optgroup:i.attr("label")||"",disabled:i.prop("disabled")||t.prop("disabled")}},_destroy:function(){this._unbindFormResetHandler(),this.menuWrap.remove(),this.button.remove(),this.element.show(),this.element.removeUniqueId(),this.labels.attr("for",this.ids.element)}}]),V.widget("ui.slider",V.ui.mouse,{version:"1.13.1",widgetEventPrefix:"slide",options:{animate:!1,classes:{"ui-slider":"ui-corner-all","ui-slider-handle":"ui-corner-all","ui-slider-range":"ui-corner-all ui-widget-header"},distance:0,max:100,min:0,orientation:"horizontal",range:!1,step:1,value:0,values:null,change:null,slide:null,start:null,stop:null},numPages:5,_create:function(){this._keySliding=!1,this._mouseSliding=!1,this._animateOff=!0,this._handleIndex=null,this._detectOrientation(),this._mouseInit(),this._calculateNewMax(),this._addClass("ui-slider ui-slider-"+this.orientation,"ui-widget ui-widget-content"),this._refresh(),this._animateOff=!1},_refresh:function(){this._createRange(),this._createHandles(),this._setupEvents(),this._refreshValue()},_createHandles:function(){var t,e=this.options,i=this.element.find(".ui-slider-handle"),s=[],n=e.values&&e.values.length||1;for(i.length>n&&(i.slice(n).remove(),i=i.slice(0,n)),t=i.length;t<n;t++)s.push("<span tabindex='0'></span>");this.handles=i.add(V(s.join("")).appendTo(this.element)),this._addClass(this.handles,"ui-slider-handle","ui-state-default"),this.handle=this.handles.eq(0),this.handles.each(function(t){V(this).data("ui-slider-handle-index",t).attr("tabIndex",0)})},_createRange:function(){var t=this.options;t.range?(!0===t.range&&(t.values?t.values.length&&2!==t.values.length?t.values=[t.values[0],t.values[0]]:Array.isArray(t.values)&&(t.values=t.values.slice(0)):t.values=[this._valueMin(),this._valueMin()]),this.range&&this.range.length?(this._removeClass(this.range,"ui-slider-range-min ui-slider-range-max"),this.range.css({left:"",bottom:""})):(this.range=V("<div>").appendTo(this.element),this._addClass(this.range,"ui-slider-range")),"min"!==t.range&&"max"!==t.range||this._addClass(this.range,"ui-slider-range-"+t.range)):(this.range&&this.range.remove(),this.range=null)},_setupEvents:function(){this._off(this.handles),this._on(this.handles,this._handleEvents),this._hoverable(this.handles),this._focusable(this.handles)},_destroy:function(){this.handles.remove(),this.range&&this.range.remove(),this._mouseDestroy()},_mouseCapture:function(t){var i,s,n,o,e,a,r=this,l=this.options;return!l.disabled&&(this.elementSize={width:this.element.outerWidth(),height:this.element.outerHeight()},this.elementOffset=this.element.offset(),a={x:t.pageX,y:t.pageY},i=this._normValueFromMouse(a),s=this._valueMax()-this._valueMin()+1,this.handles.each(function(t){var e=Math.abs(i-r.values(t));(e<s||s===e&&(t===r._lastChangedValue||r.values(t)===l.min))&&(s=e,n=V(this),o=t)}),!1!==this._start(t,o)&&(this._mouseSliding=!0,this._handleIndex=o,this._addClass(n,null,"ui-state-active"),n.trigger("focus"),e=n.offset(),a=!V(t.target).parents().addBack().is(".ui-slider-handle"),this._clickOffset=a?{left:0,top:0}:{left:t.pageX-e.left-n.width()/2,top:t.pageY-e.top-n.height()/2-(parseInt(n.css("borderTopWidth"),10)||0)-(parseInt(n.css("borderBottomWidth"),10)||0)+(parseInt(n.css("marginTop"),10)||0)},this.handles.hasClass("ui-state-hover")||this._slide(t,o,i),this._animateOff=!0))},_mouseStart:function(){return!0},_mouseDrag:function(t){var e={x:t.pageX,y:t.pageY},e=this._normValueFromMouse(e);return this._slide(t,this._handleIndex,e),!1},_mouseStop:function(t){return this._removeClass(this.handles,null,"ui-state-active"),this._mouseSliding=!1,this._stop(t,this._handleIndex),this._change(t,this._handleIndex),this._handleIndex=null,this._clickOffset=null,this._animateOff=!1},_detectOrientation:function(){this.orientation="vertical"===this.options.orientation?"vertical":"horizontal"},_normValueFromMouse:function(t){var e,t="horizontal"===this.orientation?(e=this.elementSize.width,t.x-this.elementOffset.left-(this._clickOffset?this._clickOffset.left:0)):(e=this.elementSize.height,t.y-this.elementOffset.top-(this._clickOffset?this._clickOffset.top:0)),t=t/e;return(t=1<t?1:t)<0&&(t=0),"vertical"===this.orientation&&(t=1-t),e=this._valueMax()-this._valueMin(),e=this._valueMin()+t*e,this._trimAlignValue(e)},_uiHash:function(t,e,i){var s={handle:this.handles[t],handleIndex:t,value:void 0!==e?e:this.value()};return this._hasMultipleValues()&&(s.value=void 0!==e?e:this.values(t),s.values=i||this.values()),s},_hasMultipleValues:function(){return this.options.values&&this.options.values.length},_start:function(t,e){return this._trigger("start",t,this._uiHash(e))},_slide:function(t,e,i){var s,n=this.value(),o=this.values();this._hasMultipleValues()&&(s=this.values(e?0:1),n=this.values(e),2===this.options.values.length&&!0===this.options.range&&(i=0===e?Math.min(s,i):Math.max(s,i)),o[e]=i),i!==n&&!1!==this._trigger("slide",t,this._uiHash(e,i,o))&&(this._hasMultipleValues()?this.values(e,i):this.value(i))},_stop:function(t,e){this._trigger("stop",t,this._uiHash(e))},_change:function(t,e){this._keySliding||this._mouseSliding||(this._lastChangedValue=e,this._trigger("change",t,this._uiHash(e)))},value:function(t){return arguments.length?(this.options.value=this._trimAlignValue(t),this._refreshValue(),void this._change(null,0)):this._value()},values:function(t,e){var i,s,n;if(1<arguments.length)return this.options.values[t]=this._trimAlignValue(e),this._refreshValue(),void this._change(null,t);if(!arguments.length)return this._values();if(!Array.isArray(t))return this._hasMultipleValues()?this._values(t):this.value();for(i=this.options.values,s=t,n=0;n<i.length;n+=1)i[n]=this._trimAlignValue(s[n]),this._change(null,n);this._refreshValue()},_setOption:function(t,e){var i,s=0;switch("range"===t&&!0===this.options.range&&("min"===e?(this.options.value=this._values(0),this.options.values=null):"max"===e&&(this.options.value=this._values(this.options.values.length-1),this.options.values=null)),Array.isArray(this.options.values)&&(s=this.options.values.length),this._super(t,e),t){case"orientation":this._detectOrientation(),this._removeClass("ui-slider-horizontal ui-slider-vertical")._addClass("ui-slider-"+this.orientation),this._refreshValue(),this.options.range&&this._refreshRange(e),this.handles.css("horizontal"===e?"bottom":"left","");break;case"value":this._animateOff=!0,this._refreshValue(),this._change(null,0),this._animateOff=!1;break;case"values":for(this._animateOff=!0,this._refreshValue(),i=s-1;0<=i;i--)this._change(null,i);this._animateOff=!1;break;case"step":case"min":case"max":this._animateOff=!0,this._calculateNewMax(),this._refreshValue(),this._animateOff=!1;break;case"range":this._animateOff=!0,this._refresh(),this._animateOff=!1}},_setOptionDisabled:function(t){this._super(t),this._toggleClass(null,"ui-state-disabled",!!t)},_value:function(){var t=this.options.value;return t=this._trimAlignValue(t)},_values:function(t){var e,i;if(arguments.length)return t=this.options.values[t],t=this._trimAlignValue(t);if(this._hasMultipleValues()){for(e=this.options.values.slice(),i=0;i<e.length;i+=1)e[i]=this._trimAlignValue(e[i]);return e}return[]},_trimAlignValue:function(t){if(t<=this._valueMin())return this._valueMin();if(t>=this._valueMax())return this._valueMax();var e=0<this.options.step?this.options.step:1,i=(t-this._valueMin())%e,t=t-i;return 2*Math.abs(i)>=e&&(t+=0<i?e:-e),parseFloat(t.toFixed(5))},_calculateNewMax:function(){var t=this.options.max,e=this._valueMin(),i=this.options.step;(t=Math.round((t-e)/i)*i+e)>this.options.max&&(t-=i),this.max=parseFloat(t.toFixed(this._precision()))},_precision:function(){var t=this._precisionOf(this.options.step);return t=null!==this.options.min?Math.max(t,this._precisionOf(this.options.min)):t},_precisionOf:function(t){var e=t.toString(),t=e.indexOf(".");return-1===t?0:e.length-t-1},_valueMin:function(){return this.options.min},_valueMax:function(){return this.max},_refreshRange:function(t){"vertical"===t&&this.range.css({width:"",left:""}),"horizontal"===t&&this.range.css({height:"",bottom:""})},_refreshValue:function(){var e,i,t,s,n,o=this.options.range,a=this.options,r=this,l=!this._animateOff&&a.animate,h={};this._hasMultipleValues()?this.handles.each(function(t){i=(r.values(t)-r._valueMin())/(r._valueMax()-r._valueMin())*100,h["horizontal"===r.orientation?"left":"bottom"]=i+"%",V(this).stop(1,1)[l?"animate":"css"](h,a.animate),!0===r.options.range&&("horizontal"===r.orientation?(0===t&&r.range.stop(1,1)[l?"animate":"css"]({left:i+"%"},a.animate),1===t&&r.range[l?"animate":"css"]({width:i-e+"%"},{queue:!1,duration:a.animate})):(0===t&&r.range.stop(1,1)[l?"animate":"css"]({bottom:i+"%"},a.animate),1===t&&r.range[l?"animate":"css"]({height:i-e+"%"},{queue:!1,duration:a.animate}))),e=i}):(t=this.value(),s=this._valueMin(),n=this._valueMax(),i=n!==s?(t-s)/(n-s)*100:0,h["horizontal"===this.orientation?"left":"bottom"]=i+"%",this.handle.stop(1,1)[l?"animate":"css"](h,a.animate),"min"===o&&"horizontal"===this.orientation&&this.range.stop(1,1)[l?"animate":"css"]({width:i+"%"},a.animate),"max"===o&&"horizontal"===this.orientation&&this.range.stop(1,1)[l?"animate":"css"]({width:100-i+"%"},a.animate),"min"===o&&"vertical"===this.orientation&&this.range.stop(1,1)[l?"animate":"css"]({height:i+"%"},a.animate),"max"===o&&"vertical"===this.orientation&&this.range.stop(1,1)[l?"animate":"css"]({height:100-i+"%"},a.animate))},_handleEvents:{keydown:function(t){var e,i,s,n=V(t.target).data("ui-slider-handle-index");switch(t.keyCode){case V.ui.keyCode.HOME:case V.ui.keyCode.END:case V.ui.keyCode.PAGE_UP:case V.ui.keyCode.PAGE_DOWN:case V.ui.keyCode.UP:case V.ui.keyCode.RIGHT:case V.ui.keyCode.DOWN:case V.ui.keyCode.LEFT:if(t.preventDefault(),!this._keySliding&&(this._keySliding=!0,this._addClass(V(t.target),null,"ui-state-active"),!1===this._start(t,n)))return}switch(s=this.options.step,e=i=this._hasMultipleValues()?this.values(n):this.value(),t.keyCode){case V.ui.keyCode.HOME:i=this._valueMin();break;case V.ui.keyCode.END:i=this._valueMax();break;case V.ui.keyCode.PAGE_UP:i=this._trimAlignValue(e+(this._valueMax()-this._valueMin())/this.numPages);break;case V.ui.keyCode.PAGE_DOWN:i=this._trimAlignValue(e-(this._valueMax()-this._valueMin())/this.numPages);break;case V.ui.keyCode.UP:case V.ui.keyCode.RIGHT:if(e===this._valueMax())return;i=this._trimAlignValue(e+s);break;case V.ui.keyCode.DOWN:case V.ui.keyCode.LEFT:if(e===this._valueMin())return;i=this._trimAlignValue(e-s)}this._slide(t,n,i)},keyup:function(t){var e=V(t.target).data("ui-slider-handle-index");this._keySliding&&(this._keySliding=!1,this._stop(t,e),this._change(t,e),this._removeClass(V(t.target),null,"ui-state-active"))}}}),V.widget("ui.sortable",V.ui.mouse,{version:"1.13.1",widgetEventPrefix:"sort",ready:!1,options:{appendTo:"parent",axis:!1,connectWith:!1,containment:!1,cursor:"auto",cursorAt:!1,dropOnEmpty:!0,forcePlaceholderSize:!1,forceHelperSize:!1,grid:!1,handle:!1,helper:"original",items:"> *",opacity:!1,placeholder:!1,revert:!1,scroll:!0,scrollSensitivity:20,scrollSpeed:20,scope:"default",tolerance:"intersect",zIndex:1e3,activate:null,beforeStop:null,change:null,deactivate:null,out:null,over:null,receive:null,remove:null,sort:null,start:null,stop:null,update:null},_isOverAxis:function(t,e,i){return e<=t&&t<e+i},_isFloating:function(t){return/left|right/.test(t.css("float"))||/inline|table-cell/.test(t.css("display"))},_create:function(){this.containerCache={},this._addClass("ui-sortable"),this.refresh(),this.offset=this.element.offset(),this._mouseInit(),this._setHandleClassName(),this.ready=!0},_setOption:function(t,e){this._super(t,e),"handle"===t&&this._setHandleClassName()},_setHandleClassName:function(){var t=this;this._removeClass(this.element.find(".ui-sortable-handle"),"ui-sortable-handle"),V.each(this.items,function(){t._addClass(this.instance.options.handle?this.item.find(this.instance.options.handle):this.item,"ui-sortable-handle")})},_destroy:function(){this._mouseDestroy();for(var t=this.items.length-1;0<=t;t--)this.items[t].item.removeData(this.widgetName+"-item");return this},_mouseCapture:function(t,e){var i=null,s=!1,n=this;return!this.reverting&&(!this.options.disabled&&"static"!==this.options.type&&(this._refreshItems(t),V(t.target).parents().each(function(){if(V.data(this,n.widgetName+"-item")===n)return i=V(this),!1}),!!(i=V.data(t.target,n.widgetName+"-item")===n?V(t.target):i)&&(!(this.options.handle&&!e&&(V(this.options.handle,i).find("*").addBack().each(function(){this===t.target&&(s=!0)}),!s))&&(this.currentItem=i,this._removeCurrentsFromItems(),!0))))},_mouseStart:function(t,e,i){var s,n,o=this.options;if((this.currentContainer=this).refreshPositions(),this.appendTo=V("parent"!==o.appendTo?o.appendTo:this.currentItem.parent()),this.helper=this._createHelper(t),this._cacheHelperProportions(),this._cacheMargins(),this.offset=this.currentItem.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},V.extend(this.offset,{click:{left:t.pageX-this.offset.left,top:t.pageY-this.offset.top},relative:this._getRelativeOffset()}),this.helper.css("position","absolute"),this.cssPosition=this.helper.css("position"),o.cursorAt&&this._adjustOffsetFromHelper(o.cursorAt),this.domPosition={prev:this.currentItem.prev()[0],parent:this.currentItem.parent()[0]},this.helper[0]!==this.currentItem[0]&&this.currentItem.hide(),this._createPlaceholder(),this.scrollParent=this.placeholder.scrollParent(),V.extend(this.offset,{parent:this._getParentOffset()}),o.containment&&this._setContainment(),o.cursor&&"auto"!==o.cursor&&(n=this.document.find("body"),this.storedCursor=n.css("cursor"),n.css("cursor",o.cursor),this.storedStylesheet=V("<style>*{ cursor: "+o.cursor+" !important; }</style>").appendTo(n)),o.zIndex&&(this.helper.css("zIndex")&&(this._storedZIndex=this.helper.css("zIndex")),this.helper.css("zIndex",o.zIndex)),o.opacity&&(this.helper.css("opacity")&&(this._storedOpacity=this.helper.css("opacity")),this.helper.css("opacity",o.opacity)),this.scrollParent[0]!==this.document[0]&&"HTML"!==this.scrollParent[0].tagName&&(this.overflowOffset=this.scrollParent.offset()),this._trigger("start",t,this._uiHash()),this._preserveHelperProportions||this._cacheHelperProportions(),!i)for(s=this.containers.length-1;0<=s;s--)this.containers[s]._trigger("activate",t,this._uiHash(this));return V.ui.ddmanager&&(V.ui.ddmanager.current=this),V.ui.ddmanager&&!o.dropBehaviour&&V.ui.ddmanager.prepareOffsets(this,t),this.dragging=!0,this._addClass(this.helper,"ui-sortable-helper"),this.helper.parent().is(this.appendTo)||(this.helper.detach().appendTo(this.appendTo),this.offset.parent=this._getParentOffset()),this.position=this.originalPosition=this._generatePosition(t),this.originalPageX=t.pageX,this.originalPageY=t.pageY,this.lastPositionAbs=this.positionAbs=this._convertPositionTo("absolute"),this._mouseDrag(t),!0},_scroll:function(t){var e=this.options,i=!1;return this.scrollParent[0]!==this.document[0]&&"HTML"!==this.scrollParent[0].tagName?(this.overflowOffset.top+this.scrollParent[0].offsetHeight-t.pageY<e.scrollSensitivity?this.scrollParent[0].scrollTop=i=this.scrollParent[0].scrollTop+e.scrollSpeed:t.pageY-this.overflowOffset.top<e.scrollSensitivity&&(this.scrollParent[0].scrollTop=i=this.scrollParent[0].scrollTop-e.scrollSpeed),this.overflowOffset.left+this.scrollParent[0].offsetWidth-t.pageX<e.scrollSensitivity?this.scrollParent[0].scrollLeft=i=this.scrollParent[0].scrollLeft+e.scrollSpeed:t.pageX-this.overflowOffset.left<e.scrollSensitivity&&(this.scrollParent[0].scrollLeft=i=this.scrollParent[0].scrollLeft-e.scrollSpeed)):(t.pageY-this.document.scrollTop()<e.scrollSensitivity?i=this.document.scrollTop(this.document.scrollTop()-e.scrollSpeed):this.window.height()-(t.pageY-this.document.scrollTop())<e.scrollSensitivity&&(i=this.document.scrollTop(this.document.scrollTop()+e.scrollSpeed)),t.pageX-this.document.scrollLeft()<e.scrollSensitivity?i=this.document.scrollLeft(this.document.scrollLeft()-e.scrollSpeed):this.window.width()-(t.pageX-this.document.scrollLeft())<e.scrollSensitivity&&(i=this.document.scrollLeft(this.document.scrollLeft()+e.scrollSpeed))),i},_mouseDrag:function(t){var e,i,s,n,o=this.options;for(this.position=this._generatePosition(t),this.positionAbs=this._convertPositionTo("absolute"),this.options.axis&&"y"===this.options.axis||(this.helper[0].style.left=this.position.left+"px"),this.options.axis&&"x"===this.options.axis||(this.helper[0].style.top=this.position.top+"px"),o.scroll&&!1!==this._scroll(t)&&(this._refreshItemPositions(!0),V.ui.ddmanager&&!o.dropBehaviour&&V.ui.ddmanager.prepareOffsets(this,t)),this.dragDirection={vertical:this._getDragVerticalDirection(),horizontal:this._getDragHorizontalDirection()},e=this.items.length-1;0<=e;e--)if(s=(i=this.items[e]).item[0],(n=this._intersectsWithPointer(i))&&i.instance===this.currentContainer&&!(s===this.currentItem[0]||this.placeholder[1===n?"next":"prev"]()[0]===s||V.contains(this.placeholder[0],s)||"semi-dynamic"===this.options.type&&V.contains(this.element[0],s))){if(this.direction=1===n?"down":"up","pointer"!==this.options.tolerance&&!this._intersectsWithSides(i))break;this._rearrange(t,i),this._trigger("change",t,this._uiHash());break}return this._contactContainers(t),V.ui.ddmanager&&V.ui.ddmanager.drag(this,t),this._trigger("sort",t,this._uiHash()),this.lastPositionAbs=this.positionAbs,!1},_mouseStop:function(t,e){var i,s,n,o;if(t)return V.ui.ddmanager&&!this.options.dropBehaviour&&V.ui.ddmanager.drop(this,t),this.options.revert?(s=(i=this).placeholder.offset(),o={},(n=this.options.axis)&&"x"!==n||(o.left=s.left-this.offset.parent.left-this.margins.left+(this.offsetParent[0]===this.document[0].body?0:this.offsetParent[0].scrollLeft)),n&&"y"!==n||(o.top=s.top-this.offset.parent.top-this.margins.top+(this.offsetParent[0]===this.document[0].body?0:this.offsetParent[0].scrollTop)),this.reverting=!0,V(this.helper).animate(o,parseInt(this.options.revert,10)||500,function(){i._clear(t)})):this._clear(t,e),!1},cancel:function(){if(this.dragging){this._mouseUp(new V.Event("mouseup",{target:null})),"original"===this.options.helper?(this.currentItem.css(this._storedCSS),this._removeClass(this.currentItem,"ui-sortable-helper")):this.currentItem.show();for(var t=this.containers.length-1;0<=t;t--)this.containers[t]._trigger("deactivate",null,this._uiHash(this)),this.containers[t].containerCache.over&&(this.containers[t]._trigger("out",null,this._uiHash(this)),this.containers[t].containerCache.over=0)}return this.placeholder&&(this.placeholder[0].parentNode&&this.placeholder[0].parentNode.removeChild(this.placeholder[0]),"original"!==this.options.helper&&this.helper&&this.helper[0].parentNode&&this.helper.remove(),V.extend(this,{helper:null,dragging:!1,reverting:!1,_noFinalSort:null}),this.domPosition.prev?V(this.domPosition.prev).after(this.currentItem):V(this.domPosition.parent).prepend(this.currentItem)),this},serialize:function(e){var t=this._getItemsAsjQuery(e&&e.connected),i=[];return e=e||{},V(t).each(function(){var t=(V(e.item||this).attr(e.attribute||"id")||"").match(e.expression||/(.+)[\-=_](.+)/);t&&i.push((e.key||t[1]+"[]")+"="+(e.key&&e.expression?t[1]:t[2]))}),!i.length&&e.key&&i.push(e.key+"="),i.join("&")},toArray:function(t){var e=this._getItemsAsjQuery(t&&t.connected),i=[];return t=t||{},e.each(function(){i.push(V(t.item||this).attr(t.attribute||"id")||"")}),i},_intersectsWith:function(t){var e=this.positionAbs.left,i=e+this.helperProportions.width,s=this.positionAbs.top,n=s+this.helperProportions.height,o=t.left,a=o+t.width,r=t.top,l=r+t.height,h=this.offset.click.top,c=this.offset.click.left,h="x"===this.options.axis||r<s+h&&s+h<l,c="y"===this.options.axis||o<e+c&&e+c<a;return"pointer"===this.options.tolerance||this.options.forcePointerForContainers||"pointer"!==this.options.tolerance&&this.helperProportions[this.floating?"width":"height"]>t[this.floating?"width":"height"]?h&&c:o<e+this.helperProportions.width/2&&i-this.helperProportions.width/2<a&&r<s+this.helperProportions.height/2&&n-this.helperProportions.height/2<l},_intersectsWithPointer:function(t){var e="x"===this.options.axis||this._isOverAxis(this.positionAbs.top+this.offset.click.top,t.top,t.height),t="y"===this.options.axis||this._isOverAxis(this.positionAbs.left+this.offset.click.left,t.left,t.width);return!(!e||!t)&&(e=this.dragDirection.vertical,t=this.dragDirection.horizontal,this.floating?"right"===t||"down"===e?2:1:e&&("down"===e?2:1))},_intersectsWithSides:function(t){var e=this._isOverAxis(this.positionAbs.top+this.offset.click.top,t.top+t.height/2,t.height),i=this._isOverAxis(this.positionAbs.left+this.offset.click.left,t.left+t.width/2,t.width),s=this.dragDirection.vertical,t=this.dragDirection.horizontal;return this.floating&&t?"right"===t&&i||"left"===t&&!i:s&&("down"===s&&e||"up"===s&&!e)},_getDragVerticalDirection:function(){var t=this.positionAbs.top-this.lastPositionAbs.top;return 0!=t&&(0<t?"down":"up")},_getDragHorizontalDirection:function(){var t=this.positionAbs.left-this.lastPositionAbs.left;return 0!=t&&(0<t?"right":"left")},refresh:function(t){return this._refreshItems(t),this._setHandleClassName(),this.refreshPositions(),this},_connectWith:function(){var t=this.options;return t.connectWith.constructor===String?[t.connectWith]:t.connectWith},_getItemsAsjQuery:function(t){var e,i,s,n,o=[],a=[],r=this._connectWith();if(r&&t)for(e=r.length-1;0<=e;e--)for(i=(s=V(r[e],this.document[0])).length-1;0<=i;i--)(n=V.data(s[i],this.widgetFullName))&&n!==this&&!n.options.disabled&&a.push(["function"==typeof n.options.items?n.options.items.call(n.element):V(n.options.items,n.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),n]);function l(){o.push(this)}for(a.push(["function"==typeof this.options.items?this.options.items.call(this.element,null,{options:this.options,item:this.currentItem}):V(this.options.items,this.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),this]),e=a.length-1;0<=e;e--)a[e][0].each(l);return V(o)},_removeCurrentsFromItems:function(){var i=this.currentItem.find(":data("+this.widgetName+"-item)");this.items=V.grep(this.items,function(t){for(var e=0;e<i.length;e++)if(i[e]===t.item[0])return!1;return!0})},_refreshItems:function(t){this.items=[],this.containers=[this];var e,i,s,n,o,a,r,l,h=this.items,c=[["function"==typeof this.options.items?this.options.items.call(this.element[0],t,{item:this.currentItem}):V(this.options.items,this.element),this]],u=this._connectWith();if(u&&this.ready)for(e=u.length-1;0<=e;e--)for(i=(s=V(u[e],this.document[0])).length-1;0<=i;i--)(n=V.data(s[i],this.widgetFullName))&&n!==this&&!n.options.disabled&&(c.push(["function"==typeof n.options.items?n.options.items.call(n.element[0],t,{item:this.currentItem}):V(n.options.items,n.element),n]),this.containers.push(n));for(e=c.length-1;0<=e;e--)for(o=c[e][1],l=(a=c[e][i=0]).length;i<l;i++)(r=V(a[i])).data(this.widgetName+"-item",o),h.push({item:r,instance:o,width:0,height:0,left:0,top:0})},_refreshItemPositions:function(t){for(var e,i,s=this.items.length-1;0<=s;s--)e=this.items[s],this.currentContainer&&e.instance!==this.currentContainer&&e.item[0]!==this.currentItem[0]||(i=this.options.toleranceElement?V(this.options.toleranceElement,e.item):e.item,t||(e.width=i.outerWidth(),e.height=i.outerHeight()),i=i.offset(),e.left=i.left,e.top=i.top)},refreshPositions:function(t){var e,i;if(this.floating=!!this.items.length&&("x"===this.options.axis||this._isFloating(this.items[0].item)),this.offsetParent&&this.helper&&(this.offset.parent=this._getParentOffset()),this._refreshItemPositions(t),this.options.custom&&this.options.custom.refreshContainers)this.options.custom.refreshContainers.call(this);else for(e=this.containers.length-1;0<=e;e--)i=this.containers[e].element.offset(),this.containers[e].containerCache.left=i.left,this.containers[e].containerCache.top=i.top,this.containers[e].containerCache.width=this.containers[e].element.outerWidth(),this.containers[e].containerCache.height=this.containers[e].element.outerHeight();return this},_createPlaceholder:function(i){var s,n,o=(i=i||this).options;o.placeholder&&o.placeholder.constructor!==String||(s=o.placeholder,n=i.currentItem[0].nodeName.toLowerCase(),o.placeholder={element:function(){var t=V("<"+n+">",i.document[0]);return i._addClass(t,"ui-sortable-placeholder",s||i.currentItem[0].className)._removeClass(t,"ui-sortable-helper"),"tbody"===n?i._createTrPlaceholder(i.currentItem.find("tr").eq(0),V("<tr>",i.document[0]).appendTo(t)):"tr"===n?i._createTrPlaceholder(i.currentItem,t):"img"===n&&t.attr("src",i.currentItem.attr("src")),s||t.css("visibility","hidden"),t},update:function(t,e){s&&!o.forcePlaceholderSize||(e.height()&&(!o.forcePlaceholderSize||"tbody"!==n&&"tr"!==n)||e.height(i.currentItem.innerHeight()-parseInt(i.currentItem.css("paddingTop")||0,10)-parseInt(i.currentItem.css("paddingBottom")||0,10)),e.width()||e.width(i.currentItem.innerWidth()-parseInt(i.currentItem.css("paddingLeft")||0,10)-parseInt(i.currentItem.css("paddingRight")||0,10)))}}),i.placeholder=V(o.placeholder.element.call(i.element,i.currentItem)),i.currentItem.after(i.placeholder),o.placeholder.update(i,i.placeholder)},_createTrPlaceholder:function(t,e){var i=this;t.children().each(function(){V("<td>&#160;</td>",i.document[0]).attr("colspan",V(this).attr("colspan")||1).appendTo(e)})},_contactContainers:function(t){for(var e,i,s,n,o,a,r,l,h,c=null,u=null,d=this.containers.length-1;0<=d;d--)V.contains(this.currentItem[0],this.containers[d].element[0])||(this._intersectsWith(this.containers[d].containerCache)?c&&V.contains(this.containers[d].element[0],c.element[0])||(c=this.containers[d],u=d):this.containers[d].containerCache.over&&(this.containers[d]._trigger("out",t,this._uiHash(this)),this.containers[d].containerCache.over=0));if(c)if(1===this.containers.length)this.containers[u].containerCache.over||(this.containers[u]._trigger("over",t,this._uiHash(this)),this.containers[u].containerCache.over=1);else{for(i=1e4,s=null,n=(l=c.floating||this._isFloating(this.currentItem))?"left":"top",o=l?"width":"height",h=l?"pageX":"pageY",e=this.items.length-1;0<=e;e--)V.contains(this.containers[u].element[0],this.items[e].item[0])&&this.items[e].item[0]!==this.currentItem[0]&&(a=this.items[e].item.offset()[n],r=!1,t[h]-a>this.items[e][o]/2&&(r=!0),Math.abs(t[h]-a)<i&&(i=Math.abs(t[h]-a),s=this.items[e],this.direction=r?"up":"down"));(s||this.options.dropOnEmpty)&&(this.currentContainer!==this.containers[u]?(s?this._rearrange(t,s,null,!0):this._rearrange(t,null,this.containers[u].element,!0),this._trigger("change",t,this._uiHash()),this.containers[u]._trigger("change",t,this._uiHash(this)),this.currentContainer=this.containers[u],this.options.placeholder.update(this.currentContainer,this.placeholder),this.scrollParent=this.placeholder.scrollParent(),this.scrollParent[0]!==this.document[0]&&"HTML"!==this.scrollParent[0].tagName&&(this.overflowOffset=this.scrollParent.offset()),this.containers[u]._trigger("over",t,this._uiHash(this)),this.containers[u].containerCache.over=1):this.currentContainer.containerCache.over||(this.containers[u]._trigger("over",t,this._uiHash()),this.currentContainer.containerCache.over=1))}},_createHelper:function(t){var e=this.options,t="function"==typeof e.helper?V(e.helper.apply(this.element[0],[t,this.currentItem])):"clone"===e.helper?this.currentItem.clone():this.currentItem;return t.parents("body").length||this.appendTo[0].appendChild(t[0]),t[0]===this.currentItem[0]&&(this._storedCSS={width:this.currentItem[0].style.width,height:this.currentItem[0].style.height,position:this.currentItem.css("position"),top:this.currentItem.css("top"),left:this.currentItem.css("left")}),t[0].style.width&&!e.forceHelperSize||t.width(this.currentItem.width()),t[0].style.height&&!e.forceHelperSize||t.height(this.currentItem.height()),t},_adjustOffsetFromHelper:function(t){"string"==typeof t&&(t=t.split(" ")),"left"in(t=Array.isArray(t)?{left:+t[0],top:+t[1]||0}:t)&&(this.offset.click.left=t.left+this.margins.left),"right"in t&&(this.offset.click.left=this.helperProportions.width-t.right+this.margins.left),"top"in t&&(this.offset.click.top=t.top+this.margins.top),"bottom"in t&&(this.offset.click.top=this.helperProportions.height-t.bottom+this.margins.top)},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var t=this.offsetParent.offset();return"absolute"===this.cssPosition&&this.scrollParent[0]!==this.document[0]&&V.contains(this.scrollParent[0],this.offsetParent[0])&&(t.left+=this.scrollParent.scrollLeft(),t.top+=this.scrollParent.scrollTop()),{top:(t=this.offsetParent[0]===this.document[0].body||this.offsetParent[0].tagName&&"html"===this.offsetParent[0].tagName.toLowerCase()&&V.ui.ie?{top:0,left:0}:t).top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:t.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"!==this.cssPosition)return{top:0,left:0};var t=this.currentItem.position();return{top:t.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:t.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}},_cacheMargins:function(){this.margins={left:parseInt(this.currentItem.css("marginLeft"),10)||0,top:parseInt(this.currentItem.css("marginTop"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var t,e,i=this.options;"parent"===i.containment&&(i.containment=this.helper[0].parentNode),"document"!==i.containment&&"window"!==i.containment||(this.containment=[0-this.offset.relative.left-this.offset.parent.left,0-this.offset.relative.top-this.offset.parent.top,"document"===i.containment?this.document.width():this.window.width()-this.helperProportions.width-this.margins.left,("document"===i.containment?this.document.height()||document.body.parentNode.scrollHeight:this.window.height()||this.document[0].body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]),/^(document|window|parent)$/.test(i.containment)||(t=V(i.containment)[0],e=V(i.containment).offset(),i="hidden"!==V(t).css("overflow"),this.containment=[e.left+(parseInt(V(t).css("borderLeftWidth"),10)||0)+(parseInt(V(t).css("paddingLeft"),10)||0)-this.margins.left,e.top+(parseInt(V(t).css("borderTopWidth"),10)||0)+(parseInt(V(t).css("paddingTop"),10)||0)-this.margins.top,e.left+(i?Math.max(t.scrollWidth,t.offsetWidth):t.offsetWidth)-(parseInt(V(t).css("borderLeftWidth"),10)||0)-(parseInt(V(t).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left,e.top+(i?Math.max(t.scrollHeight,t.offsetHeight):t.offsetHeight)-(parseInt(V(t).css("borderTopWidth"),10)||0)-(parseInt(V(t).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top])},_convertPositionTo:function(t,e){e=e||this.position;var i="absolute"===t?1:-1,s="absolute"!==this.cssPosition||this.scrollParent[0]!==this.document[0]&&V.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,t=/(html|body)/i.test(s[0].tagName);return{top:e.top+this.offset.relative.top*i+this.offset.parent.top*i-("fixed"===this.cssPosition?-this.scrollParent.scrollTop():t?0:s.scrollTop())*i,left:e.left+this.offset.relative.left*i+this.offset.parent.left*i-("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():t?0:s.scrollLeft())*i}},_generatePosition:function(t){var e=this.options,i=t.pageX,s=t.pageY,n="absolute"!==this.cssPosition||this.scrollParent[0]!==this.document[0]&&V.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,o=/(html|body)/i.test(n[0].tagName);return"relative"!==this.cssPosition||this.scrollParent[0]!==this.document[0]&&this.scrollParent[0]!==this.offsetParent[0]||(this.offset.relative=this._getRelativeOffset()),this.originalPosition&&(this.containment&&(t.pageX-this.offset.click.left<this.containment[0]&&(i=this.containment[0]+this.offset.click.left),t.pageY-this.offset.click.top<this.containment[1]&&(s=this.containment[1]+this.offset.click.top),t.pageX-this.offset.click.left>this.containment[2]&&(i=this.containment[2]+this.offset.click.left),t.pageY-this.offset.click.top>this.containment[3]&&(s=this.containment[3]+this.offset.click.top)),e.grid&&(t=this.originalPageY+Math.round((s-this.originalPageY)/e.grid[1])*e.grid[1],s=!this.containment||t-this.offset.click.top>=this.containment[1]&&t-this.offset.click.top<=this.containment[3]?t:t-this.offset.click.top>=this.containment[1]?t-e.grid[1]:t+e.grid[1],t=this.originalPageX+Math.round((i-this.originalPageX)/e.grid[0])*e.grid[0],i=!this.containment||t-this.offset.click.left>=this.containment[0]&&t-this.offset.click.left<=this.containment[2]?t:t-this.offset.click.left>=this.containment[0]?t-e.grid[0]:t+e.grid[0])),{top:s-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.scrollParent.scrollTop():o?0:n.scrollTop()),left:i-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():o?0:n.scrollLeft())}},_rearrange:function(t,e,i,s){i?i[0].appendChild(this.placeholder[0]):e.item[0].parentNode.insertBefore(this.placeholder[0],"down"===this.direction?e.item[0]:e.item[0].nextSibling),this.counter=this.counter?++this.counter:1;var n=this.counter;this._delay(function(){n===this.counter&&this.refreshPositions(!s)})},_clear:function(t,e){this.reverting=!1;var i,s=[];if(!this._noFinalSort&&this.currentItem.parent().length&&this.placeholder.before(this.currentItem),this._noFinalSort=null,this.helper[0]===this.currentItem[0]){for(i in this._storedCSS)"auto"!==this._storedCSS[i]&&"static"!==this._storedCSS[i]||(this._storedCSS[i]="");this.currentItem.css(this._storedCSS),this._removeClass(this.currentItem,"ui-sortable-helper")}else this.currentItem.show();function n(e,i,s){return function(t){s._trigger(e,t,i._uiHash(i))}}for(this.fromOutside&&!e&&s.push(function(t){this._trigger("receive",t,this._uiHash(this.fromOutside))}),!this.fromOutside&&this.domPosition.prev===this.currentItem.prev().not(".ui-sortable-helper")[0]&&this.domPosition.parent===this.currentItem.parent()[0]||e||s.push(function(t){this._trigger("update",t,this._uiHash())}),this!==this.currentContainer&&(e||(s.push(function(t){this._trigger("remove",t,this._uiHash())}),s.push(function(e){return function(t){e._trigger("receive",t,this._uiHash(this))}}.call(this,this.currentContainer)),s.push(function(e){return function(t){e._trigger("update",t,this._uiHash(this))}}.call(this,this.currentContainer)))),i=this.containers.length-1;0<=i;i--)e||s.push(n("deactivate",this,this.containers[i])),this.containers[i].containerCache.over&&(s.push(n("out",this,this.containers[i])),this.containers[i].containerCache.over=0);if(this.storedCursor&&(this.document.find("body").css("cursor",this.storedCursor),this.storedStylesheet.remove()),this._storedOpacity&&this.helper.css("opacity",this._storedOpacity),this._storedZIndex&&this.helper.css("zIndex","auto"===this._storedZIndex?"":this._storedZIndex),this.dragging=!1,e||this._trigger("beforeStop",t,this._uiHash()),this.placeholder[0].parentNode.removeChild(this.placeholder[0]),this.cancelHelperRemoval||(this.helper[0]!==this.currentItem[0]&&this.helper.remove(),this.helper=null),!e){for(i=0;i<s.length;i++)s[i].call(this,t);this._trigger("stop",t,this._uiHash())}return this.fromOutside=!1,!this.cancelHelperRemoval},_trigger:function(){!1===V.Widget.prototype._trigger.apply(this,arguments)&&this.cancel()},_uiHash:function(t){var e=t||this;return{helper:e.helper,placeholder:e.placeholder||V([]),position:e.position,originalPosition:e.originalPosition,offset:e.positionAbs,item:e.currentItem,sender:t?t.element:null}}});function ht(e){return function(){var t=this.element.val();e.apply(this,arguments),this._refresh(),t!==this.element.val()&&this._trigger("change")}}V.widget("ui.spinner",{version:"1.13.1",defaultElement:"<input>",widgetEventPrefix:"spin",options:{classes:{"ui-spinner":"ui-corner-all","ui-spinner-down":"ui-corner-br","ui-spinner-up":"ui-corner-tr"},culture:null,icons:{down:"ui-icon-triangle-1-s",up:"ui-icon-triangle-1-n"},incremental:!0,max:null,min:null,numberFormat:null,page:10,step:1,change:null,spin:null,start:null,stop:null},_create:function(){this._setOption("max",this.options.max),this._setOption("min",this.options.min),this._setOption("step",this.options.step),""!==this.value()&&this._value(this.element.val(),!0),this._draw(),this._on(this._events),this._refresh(),this._on(this.window,{beforeunload:function(){this.element.removeAttr("autocomplete")}})},_getCreateOptions:function(){var s=this._super(),n=this.element;return V.each(["min","max","step"],function(t,e){var i=n.attr(e);null!=i&&i.length&&(s[e]=i)}),s},_events:{keydown:function(t){this._start(t)&&this._keydown(t)&&t.preventDefault()},keyup:"_stop",focus:function(){this.previous=this.element.val()},blur:function(t){this.cancelBlur?delete this.cancelBlur:(this._stop(),this._refresh(),this.previous!==this.element.val()&&this._trigger("change",t))},mousewheel:function(t,e){var i=V.ui.safeActiveElement(this.document[0]);if(this.element[0]===i&&e){if(!this.spinning&&!this._start(t))return!1;this._spin((0<e?1:-1)*this.options.step,t),clearTimeout(this.mousewheelTimer),this.mousewheelTimer=this._delay(function(){this.spinning&&this._stop(t)},100),t.preventDefault()}},"mousedown .ui-spinner-button":function(t){var e;function i(){this.element[0]===V.ui.safeActiveElement(this.document[0])||(this.element.trigger("focus"),this.previous=e,this._delay(function(){this.previous=e}))}e=this.element[0]===V.ui.safeActiveElement(this.document[0])?this.previous:this.element.val(),t.preventDefault(),i.call(this),this.cancelBlur=!0,this._delay(function(){delete this.cancelBlur,i.call(this)}),!1!==this._start(t)&&this._repeat(null,V(t.currentTarget).hasClass("ui-spinner-up")?1:-1,t)},"mouseup .ui-spinner-button":"_stop","mouseenter .ui-spinner-button":function(t){if(V(t.currentTarget).hasClass("ui-state-active"))return!1!==this._start(t)&&void this._repeat(null,V(t.currentTarget).hasClass("ui-spinner-up")?1:-1,t)},"mouseleave .ui-spinner-button":"_stop"},_enhance:function(){this.uiSpinner=this.element.attr("autocomplete","off").wrap("<span>").parent().append("<a></a><a></a>")},_draw:function(){this._enhance(),this._addClass(this.uiSpinner,"ui-spinner","ui-widget ui-widget-content"),this._addClass("ui-spinner-input"),this.element.attr("role","spinbutton"),this.buttons=this.uiSpinner.children("a").attr("tabIndex",-1).attr("aria-hidden",!0).button({classes:{"ui-button":""}}),this._removeClass(this.buttons,"ui-corner-all"),this._addClass(this.buttons.first(),"ui-spinner-button ui-spinner-up"),this._addClass(this.buttons.last(),"ui-spinner-button ui-spinner-down"),this.buttons.first().button({icon:this.options.icons.up,showLabel:!1}),this.buttons.last().button({icon:this.options.icons.down,showLabel:!1}),this.buttons.height()>Math.ceil(.5*this.uiSpinner.height())&&0<this.uiSpinner.height()&&this.uiSpinner.height(this.uiSpinner.height())},_keydown:function(t){var e=this.options,i=V.ui.keyCode;switch(t.keyCode){case i.UP:return this._repeat(null,1,t),!0;case i.DOWN:return this._repeat(null,-1,t),!0;case i.PAGE_UP:return this._repeat(null,e.page,t),!0;case i.PAGE_DOWN:return this._repeat(null,-e.page,t),!0}return!1},_start:function(t){return!(!this.spinning&&!1===this._trigger("start",t))&&(this.counter||(this.counter=1),this.spinning=!0)},_repeat:function(t,e,i){t=t||500,clearTimeout(this.timer),this.timer=this._delay(function(){this._repeat(40,e,i)},t),this._spin(e*this.options.step,i)},_spin:function(t,e){var i=this.value()||0;this.counter||(this.counter=1),i=this._adjustValue(i+t*this._increment(this.counter)),this.spinning&&!1===this._trigger("spin",e,{value:i})||(this._value(i),this.counter++)},_increment:function(t){var e=this.options.incremental;return e?"function"==typeof e?e(t):Math.floor(t*t*t/5e4-t*t/500+17*t/200+1):1},_precision:function(){var t=this._precisionOf(this.options.step);return t=null!==this.options.min?Math.max(t,this._precisionOf(this.options.min)):t},_precisionOf:function(t){var e=t.toString(),t=e.indexOf(".");return-1===t?0:e.length-t-1},_adjustValue:function(t){var e=this.options,i=null!==e.min?e.min:0,s=t-i;return t=i+Math.round(s/e.step)*e.step,t=parseFloat(t.toFixed(this._precision())),null!==e.max&&t>e.max?e.max:null!==e.min&&t<e.min?e.min:t},_stop:function(t){this.spinning&&(clearTimeout(this.timer),clearTimeout(this.mousewheelTimer),this.counter=0,this.spinning=!1,this._trigger("stop",t))},_setOption:function(t,e){var i;if("culture"===t||"numberFormat"===t)return i=this._parse(this.element.val()),this.options[t]=e,void this.element.val(this._format(i));"max"!==t&&"min"!==t&&"step"!==t||"string"==typeof e&&(e=this._parse(e)),"icons"===t&&(i=this.buttons.first().find(".ui-icon"),this._removeClass(i,null,this.options.icons.up),this._addClass(i,null,e.up),i=this.buttons.last().find(".ui-icon"),this._removeClass(i,null,this.options.icons.down),this._addClass(i,null,e.down)),this._super(t,e)},_setOptionDisabled:function(t){this._super(t),this._toggleClass(this.uiSpinner,null,"ui-state-disabled",!!t),this.element.prop("disabled",!!t),this.buttons.button(t?"disable":"enable")},_setOptions:ht(function(t){this._super(t)}),_parse:function(t){return""===(t="string"==typeof t&&""!==t?window.Globalize&&this.options.numberFormat?Globalize.parseFloat(t,10,this.options.culture):+t:t)||isNaN(t)?null:t},_format:function(t){return""===t?"":window.Globalize&&this.options.numberFormat?Globalize.format(t,this.options.numberFormat,this.options.culture):t},_refresh:function(){this.element.attr({"aria-valuemin":this.options.min,"aria-valuemax":this.options.max,"aria-valuenow":this._parse(this.element.val())})},isValid:function(){var t=this.value();return null!==t&&t===this._adjustValue(t)},_value:function(t,e){var i;""!==t&&null!==(i=this._parse(t))&&(e||(i=this._adjustValue(i)),t=this._format(i)),this.element.val(t),this._refresh()},_destroy:function(){this.element.prop("disabled",!1).removeAttr("autocomplete role aria-valuemin aria-valuemax aria-valuenow"),this.uiSpinner.replaceWith(this.element)},stepUp:ht(function(t){this._stepUp(t)}),_stepUp:function(t){this._start()&&(this._spin((t||1)*this.options.step),this._stop())},stepDown:ht(function(t){this._stepDown(t)}),_stepDown:function(t){this._start()&&(this._spin((t||1)*-this.options.step),this._stop())},pageUp:ht(function(t){this._stepUp((t||1)*this.options.page)}),pageDown:ht(function(t){this._stepDown((t||1)*this.options.page)}),value:function(t){if(!arguments.length)return this._parse(this.element.val());ht(this._value).call(this,t)},widget:function(){return this.uiSpinner}}),!1!==V.uiBackCompat&&V.widget("ui.spinner",V.ui.spinner,{_enhance:function(){this.uiSpinner=this.element.attr("autocomplete","off").wrap(this._uiSpinnerHtml()).parent().append(this._buttonHtml())},_uiSpinnerHtml:function(){return"<span>"},_buttonHtml:function(){return"<a></a><a></a>"}});var ct;V.ui.spinner;V.widget("ui.tabs",{version:"1.13.1",delay:300,options:{active:null,classes:{"ui-tabs":"ui-corner-all","ui-tabs-nav":"ui-corner-all","ui-tabs-panel":"ui-corner-bottom","ui-tabs-tab":"ui-corner-top"},collapsible:!1,event:"click",heightStyle:"content",hide:null,show:null,activate:null,beforeActivate:null,beforeLoad:null,load:null},_isLocal:(ct=/#.*$/,function(t){var e=t.href.replace(ct,""),i=location.href.replace(ct,"");try{e=decodeURIComponent(e)}catch(t){}try{i=decodeURIComponent(i)}catch(t){}return 1<t.hash.length&&e===i}),_create:function(){var e=this,t=this.options;this.running=!1,this._addClass("ui-tabs","ui-widget ui-widget-content"),this._toggleClass("ui-tabs-collapsible",null,t.collapsible),this._processTabs(),t.active=this._initialActive(),Array.isArray(t.disabled)&&(t.disabled=V.uniqueSort(t.disabled.concat(V.map(this.tabs.filter(".ui-state-disabled"),function(t){return e.tabs.index(t)}))).sort()),!1!==this.options.active&&this.anchors.length?this.active=this._findActive(t.active):this.active=V(),this._refresh(),this.active.length&&this.load(t.active)},_initialActive:function(){var i=this.options.active,t=this.options.collapsible,s=location.hash.substring(1);return null===i&&(s&&this.tabs.each(function(t,e){if(V(e).attr("aria-controls")===s)return i=t,!1}),null!==(i=null===i?this.tabs.index(this.tabs.filter(".ui-tabs-active")):i)&&-1!==i||(i=!!this.tabs.length&&0)),!1!==i&&-1===(i=this.tabs.index(this.tabs.eq(i)))&&(i=!t&&0),i=!t&&!1===i&&this.anchors.length?0:i},_getCreateEventData:function(){return{tab:this.active,panel:this.active.length?this._getPanelForTab(this.active):V()}},_tabKeydown:function(t){var e=V(V.ui.safeActiveElement(this.document[0])).closest("li"),i=this.tabs.index(e),s=!0;if(!this._handlePageNav(t)){switch(t.keyCode){case V.ui.keyCode.RIGHT:case V.ui.keyCode.DOWN:i++;break;case V.ui.keyCode.UP:case V.ui.keyCode.LEFT:s=!1,i--;break;case V.ui.keyCode.END:i=this.anchors.length-1;break;case V.ui.keyCode.HOME:i=0;break;case V.ui.keyCode.SPACE:return t.preventDefault(),clearTimeout(this.activating),void this._activate(i);case V.ui.keyCode.ENTER:return t.preventDefault(),clearTimeout(this.activating),void this._activate(i!==this.options.active&&i);default:return}t.preventDefault(),clearTimeout(this.activating),i=this._focusNextTab(i,s),t.ctrlKey||t.metaKey||(e.attr("aria-selected","false"),this.tabs.eq(i).attr("aria-selected","true"),this.activating=this._delay(function(){this.option("active",i)},this.delay))}},_panelKeydown:function(t){this._handlePageNav(t)||t.ctrlKey&&t.keyCode===V.ui.keyCode.UP&&(t.preventDefault(),this.active.trigger("focus"))},_handlePageNav:function(t){return t.altKey&&t.keyCode===V.ui.keyCode.PAGE_UP?(this._activate(this._focusNextTab(this.options.active-1,!1)),!0):t.altKey&&t.keyCode===V.ui.keyCode.PAGE_DOWN?(this._activate(this._focusNextTab(this.options.active+1,!0)),!0):void 0},_findNextTab:function(t,e){var i=this.tabs.length-1;for(;-1!==V.inArray(t=(t=i<t?0:t)<0?i:t,this.options.disabled);)t=e?t+1:t-1;return t},_focusNextTab:function(t,e){return t=this._findNextTab(t,e),this.tabs.eq(t).trigger("focus"),t},_setOption:function(t,e){"active"!==t?(this._super(t,e),"collapsible"===t&&(this._toggleClass("ui-tabs-collapsible",null,e),e||!1!==this.options.active||this._activate(0)),"event"===t&&this._setupEvents(e),"heightStyle"===t&&this._setupHeightStyle(e)):this._activate(e)},_sanitizeSelector:function(t){return t?t.replace(/[!"$%&'()*+,.\/:;<=>?@\[\]\^`{|}~]/g,"\\$&"):""},refresh:function(){var t=this.options,e=this.tablist.children(":has(a[href])");t.disabled=V.map(e.filter(".ui-state-disabled"),function(t){return e.index(t)}),this._processTabs(),!1!==t.active&&this.anchors.length?this.active.length&&!V.contains(this.tablist[0],this.active[0])?this.tabs.length===t.disabled.length?(t.active=!1,this.active=V()):this._activate(this._findNextTab(Math.max(0,t.active-1),!1)):t.active=this.tabs.index(this.active):(t.active=!1,this.active=V()),this._refresh()},_refresh:function(){this._setOptionDisabled(this.options.disabled),this._setupEvents(this.options.event),this._setupHeightStyle(this.options.heightStyle),this.tabs.not(this.active).attr({"aria-selected":"false","aria-expanded":"false",tabIndex:-1}),this.panels.not(this._getPanelForTab(this.active)).hide().attr({"aria-hidden":"true"}),this.active.length?(this.active.attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0}),this._addClass(this.active,"ui-tabs-active","ui-state-active"),this._getPanelForTab(this.active).show().attr({"aria-hidden":"false"})):this.tabs.eq(0).attr("tabIndex",0)},_processTabs:function(){var l=this,t=this.tabs,e=this.anchors,i=this.panels;this.tablist=this._getList().attr("role","tablist"),this._addClass(this.tablist,"ui-tabs-nav","ui-helper-reset ui-helper-clearfix ui-widget-header"),this.tablist.on("mousedown"+this.eventNamespace,"> li",function(t){V(this).is(".ui-state-disabled")&&t.preventDefault()}).on("focus"+this.eventNamespace,".ui-tabs-anchor",function(){V(this).closest("li").is(".ui-state-disabled")&&this.blur()}),this.tabs=this.tablist.find("> li:has(a[href])").attr({role:"tab",tabIndex:-1}),this._addClass(this.tabs,"ui-tabs-tab","ui-state-default"),this.anchors=this.tabs.map(function(){return V("a",this)[0]}).attr({tabIndex:-1}),this._addClass(this.anchors,"ui-tabs-anchor"),this.panels=V(),this.anchors.each(function(t,e){var i,s,n,o=V(e).uniqueId().attr("id"),a=V(e).closest("li"),r=a.attr("aria-controls");l._isLocal(e)?(n=(i=e.hash).substring(1),s=l.element.find(l._sanitizeSelector(i))):(n=a.attr("aria-controls")||V({}).uniqueId()[0].id,(s=l.element.find(i="#"+n)).length||(s=l._createPanel(n)).insertAfter(l.panels[t-1]||l.tablist),s.attr("aria-live","polite")),s.length&&(l.panels=l.panels.add(s)),r&&a.data("ui-tabs-aria-controls",r),a.attr({"aria-controls":n,"aria-labelledby":o}),s.attr("aria-labelledby",o)}),this.panels.attr("role","tabpanel"),this._addClass(this.panels,"ui-tabs-panel","ui-widget-content"),t&&(this._off(t.not(this.tabs)),this._off(e.not(this.anchors)),this._off(i.not(this.panels)))},_getList:function(){return this.tablist||this.element.find("ol, ul").eq(0)},_createPanel:function(t){return V("<div>").attr("id",t).data("ui-tabs-destroy",!0)},_setOptionDisabled:function(t){var e,i;for(Array.isArray(t)&&(t.length?t.length===this.anchors.length&&(t=!0):t=!1),i=0;e=this.tabs[i];i++)e=V(e),!0===t||-1!==V.inArray(i,t)?(e.attr("aria-disabled","true"),this._addClass(e,null,"ui-state-disabled")):(e.removeAttr("aria-disabled"),this._removeClass(e,null,"ui-state-disabled"));this.options.disabled=t,this._toggleClass(this.widget(),this.widgetFullName+"-disabled",null,!0===t)},_setupEvents:function(t){var i={};t&&V.each(t.split(" "),function(t,e){i[e]="_eventHandler"}),this._off(this.anchors.add(this.tabs).add(this.panels)),this._on(!0,this.anchors,{click:function(t){t.preventDefault()}}),this._on(this.anchors,i),this._on(this.tabs,{keydown:"_tabKeydown"}),this._on(this.panels,{keydown:"_panelKeydown"}),this._focusable(this.tabs),this._hoverable(this.tabs)},_setupHeightStyle:function(t){var i,e=this.element.parent();"fill"===t?(i=e.height(),i-=this.element.outerHeight()-this.element.height(),this.element.siblings(":visible").each(function(){var t=V(this),e=t.css("position");"absolute"!==e&&"fixed"!==e&&(i-=t.outerHeight(!0))}),this.element.children().not(this.panels).each(function(){i-=V(this).outerHeight(!0)}),this.panels.each(function(){V(this).height(Math.max(0,i-V(this).innerHeight()+V(this).height()))}).css("overflow","auto")):"auto"===t&&(i=0,this.panels.each(function(){i=Math.max(i,V(this).height("").height())}).height(i))},_eventHandler:function(t){var e=this.options,i=this.active,s=V(t.currentTarget).closest("li"),n=s[0]===i[0],o=n&&e.collapsible,a=o?V():this._getPanelForTab(s),r=i.length?this._getPanelForTab(i):V(),i={oldTab:i,oldPanel:r,newTab:o?V():s,newPanel:a};t.preventDefault(),s.hasClass("ui-state-disabled")||s.hasClass("ui-tabs-loading")||this.running||n&&!e.collapsible||!1===this._trigger("beforeActivate",t,i)||(e.active=!o&&this.tabs.index(s),this.active=n?V():s,this.xhr&&this.xhr.abort(),r.length||a.length||V.error("jQuery UI Tabs: Mismatching fragment identifier."),a.length&&this.load(this.tabs.index(s),t),this._toggle(t,i))},_toggle:function(t,e){var i=this,s=e.newPanel,n=e.oldPanel;function o(){i.running=!1,i._trigger("activate",t,e)}function a(){i._addClass(e.newTab.closest("li"),"ui-tabs-active","ui-state-active"),s.length&&i.options.show?i._show(s,i.options.show,o):(s.show(),o())}this.running=!0,n.length&&this.options.hide?this._hide(n,this.options.hide,function(){i._removeClass(e.oldTab.closest("li"),"ui-tabs-active","ui-state-active"),a()}):(this._removeClass(e.oldTab.closest("li"),"ui-tabs-active","ui-state-active"),n.hide(),a()),n.attr("aria-hidden","true"),e.oldTab.attr({"aria-selected":"false","aria-expanded":"false"}),s.length&&n.length?e.oldTab.attr("tabIndex",-1):s.length&&this.tabs.filter(function(){return 0===V(this).attr("tabIndex")}).attr("tabIndex",-1),s.attr("aria-hidden","false"),e.newTab.attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0})},_activate:function(t){var t=this._findActive(t);t[0]!==this.active[0]&&(t=(t=!t.length?this.active:t).find(".ui-tabs-anchor")[0],this._eventHandler({target:t,currentTarget:t,preventDefault:V.noop}))},_findActive:function(t){return!1===t?V():this.tabs.eq(t)},_getIndex:function(t){return t="string"==typeof t?this.anchors.index(this.anchors.filter("[href$='"+V.escapeSelector(t)+"']")):t},_destroy:function(){this.xhr&&this.xhr.abort(),this.tablist.removeAttr("role").off(this.eventNamespace),this.anchors.removeAttr("role tabIndex").removeUniqueId(),this.tabs.add(this.panels).each(function(){V.data(this,"ui-tabs-destroy")?V(this).remove():V(this).removeAttr("role tabIndex aria-live aria-busy aria-selected aria-labelledby aria-hidden aria-expanded")}),this.tabs.each(function(){var t=V(this),e=t.data("ui-tabs-aria-controls");e?t.attr("aria-controls",e).removeData("ui-tabs-aria-controls"):t.removeAttr("aria-controls")}),this.panels.show(),"content"!==this.options.heightStyle&&this.panels.css("height","")},enable:function(i){var t=this.options.disabled;!1!==t&&(t=void 0!==i&&(i=this._getIndex(i),Array.isArray(t)?V.map(t,function(t){return t!==i?t:null}):V.map(this.tabs,function(t,e){return e!==i?e:null})),this._setOptionDisabled(t))},disable:function(t){var e=this.options.disabled;if(!0!==e){if(void 0===t)e=!0;else{if(t=this._getIndex(t),-1!==V.inArray(t,e))return;e=Array.isArray(e)?V.merge([t],e).sort():[t]}this._setOptionDisabled(e)}},load:function(t,s){t=this._getIndex(t);function n(t,e){"abort"===e&&o.panels.stop(!1,!0),o._removeClass(i,"ui-tabs-loading"),a.removeAttr("aria-busy"),t===o.xhr&&delete o.xhr}var o=this,i=this.tabs.eq(t),t=i.find(".ui-tabs-anchor"),a=this._getPanelForTab(i),r={tab:i,panel:a};this._isLocal(t[0])||(this.xhr=V.ajax(this._ajaxSettings(t,s,r)),this.xhr&&"canceled"!==this.xhr.statusText&&(this._addClass(i,"ui-tabs-loading"),a.attr("aria-busy","true"),this.xhr.done(function(t,e,i){setTimeout(function(){a.html(t),o._trigger("load",s,r),n(i,e)},1)}).fail(function(t,e){setTimeout(function(){n(t,e)},1)})))},_ajaxSettings:function(t,i,s){var n=this;return{url:t.attr("href").replace(/#.*$/,""),beforeSend:function(t,e){return n._trigger("beforeLoad",i,V.extend({jqXHR:t,ajaxSettings:e},s))}}},_getPanelForTab:function(t){t=V(t).attr("aria-controls");return this.element.find(this._sanitizeSelector("#"+t))}}),!1!==V.uiBackCompat&&V.widget("ui.tabs",V.ui.tabs,{_processTabs:function(){this._superApply(arguments),this._addClass(this.tabs,"ui-tab")}});V.ui.tabs;V.widget("ui.tooltip",{version:"1.13.1",options:{classes:{"ui-tooltip":"ui-corner-all ui-widget-shadow"},content:function(){var t=V(this).attr("title");return V("<a>").text(t).html()},hide:!0,items:"[title]:not([disabled])",position:{my:"left top+15",at:"left bottom",collision:"flipfit flip"},show:!0,track:!1,close:null,open:null},_addDescribedBy:function(t,e){var i=(t.attr("aria-describedby")||"").split(/\s+/);i.push(e),t.data("ui-tooltip-id",e).attr("aria-describedby",String.prototype.trim.call(i.join(" ")))},_removeDescribedBy:function(t){var e=t.data("ui-tooltip-id"),i=(t.attr("aria-describedby")||"").split(/\s+/),e=V.inArray(e,i);-1!==e&&i.splice(e,1),t.removeData("ui-tooltip-id"),(i=String.prototype.trim.call(i.join(" ")))?t.attr("aria-describedby",i):t.removeAttr("aria-describedby")},_create:function(){this._on({mouseover:"open",focusin:"open"}),this.tooltips={},this.parents={},this.liveRegion=V("<div>").attr({role:"log","aria-live":"assertive","aria-relevant":"additions"}).appendTo(this.document[0].body),this._addClass(this.liveRegion,null,"ui-helper-hidden-accessible"),this.disabledTitles=V([])},_setOption:function(t,e){var i=this;this._super(t,e),"content"===t&&V.each(this.tooltips,function(t,e){i._updateContent(e.element)})},_setOptionDisabled:function(t){this[t?"_disable":"_enable"]()},_disable:function(){var s=this;V.each(this.tooltips,function(t,e){var i=V.Event("blur");i.target=i.currentTarget=e.element[0],s.close(i,!0)}),this.disabledTitles=this.disabledTitles.add(this.element.find(this.options.items).addBack().filter(function(){var t=V(this);if(t.is("[title]"))return t.data("ui-tooltip-title",t.attr("title")).removeAttr("title")}))},_enable:function(){this.disabledTitles.each(function(){var t=V(this);t.data("ui-tooltip-title")&&t.attr("title",t.data("ui-tooltip-title"))}),this.disabledTitles=V([])},open:function(t){var i=this,e=V(t?t.target:this.element).closest(this.options.items);e.length&&!e.data("ui-tooltip-id")&&(e.attr("title")&&e.data("ui-tooltip-title",e.attr("title")),e.data("ui-tooltip-open",!0),t&&"mouseover"===t.type&&e.parents().each(function(){var t,e=V(this);e.data("ui-tooltip-open")&&((t=V.Event("blur")).target=t.currentTarget=this,i.close(t,!0)),e.attr("title")&&(e.uniqueId(),i.parents[this.id]={element:this,title:e.attr("title")},e.attr("title",""))}),this._registerCloseHandlers(t,e),this._updateContent(e,t))},_updateContent:function(e,i){var t=this.options.content,s=this,n=i?i.type:null;if("string"==typeof t||t.nodeType||t.jquery)return this._open(i,e,t);(t=t.call(e[0],function(t){s._delay(function(){e.data("ui-tooltip-open")&&(i&&(i.type=n),this._open(i,e,t))})}))&&this._open(i,e,t)},_open:function(t,e,i){var s,n,o,a=V.extend({},this.options.position);function r(t){a.of=t,n.is(":hidden")||n.position(a)}i&&((s=this._find(e))?s.tooltip.find(".ui-tooltip-content").html(i):(e.is("[title]")&&(t&&"mouseover"===t.type?e.attr("title",""):e.removeAttr("title")),s=this._tooltip(e),n=s.tooltip,this._addDescribedBy(e,n.attr("id")),n.find(".ui-tooltip-content").html(i),this.liveRegion.children().hide(),(i=V("<div>").html(n.find(".ui-tooltip-content").html())).removeAttr("name").find("[name]").removeAttr("name"),i.removeAttr("id").find("[id]").removeAttr("id"),i.appendTo(this.liveRegion),this.options.track&&t&&/^mouse/.test(t.type)?(this._on(this.document,{mousemove:r}),r(t)):n.position(V.extend({of:e},this.options.position)),n.hide(),this._show(n,this.options.show),this.options.track&&this.options.show&&this.options.show.delay&&(o=this.delayedShow=setInterval(function(){n.is(":visible")&&(r(a.of),clearInterval(o))},13)),this._trigger("open",t,{tooltip:n})))},_registerCloseHandlers:function(t,e){var i={keyup:function(t){t.keyCode===V.ui.keyCode.ESCAPE&&((t=V.Event(t)).currentTarget=e[0],this.close(t,!0))}};e[0]!==this.element[0]&&(i.remove=function(){var t=this._find(e);t&&this._removeTooltip(t.tooltip)}),t&&"mouseover"!==t.type||(i.mouseleave="close"),t&&"focusin"!==t.type||(i.focusout="close"),this._on(!0,e,i)},close:function(t){var e,i=this,s=V(t?t.currentTarget:this.element),n=this._find(s);n?(e=n.tooltip,n.closing||(clearInterval(this.delayedShow),s.data("ui-tooltip-title")&&!s.attr("title")&&s.attr("title",s.data("ui-tooltip-title")),this._removeDescribedBy(s),n.hiding=!0,e.stop(!0),this._hide(e,this.options.hide,function(){i._removeTooltip(V(this))}),s.removeData("ui-tooltip-open"),this._off(s,"mouseleave focusout keyup"),s[0]!==this.element[0]&&this._off(s,"remove"),this._off(this.document,"mousemove"),t&&"mouseleave"===t.type&&V.each(this.parents,function(t,e){V(e.element).attr("title",e.title),delete i.parents[t]}),n.closing=!0,this._trigger("close",t,{tooltip:e}),n.hiding||(n.closing=!1))):s.removeData("ui-tooltip-open")},_tooltip:function(t){var e=V("<div>").attr("role","tooltip"),i=V("<div>").appendTo(e),s=e.uniqueId().attr("id");return this._addClass(i,"ui-tooltip-content"),this._addClass(e,"ui-tooltip","ui-widget ui-widget-content"),e.appendTo(this._appendTo(t)),this.tooltips[s]={element:t,tooltip:e}},_find:function(t){t=t.data("ui-tooltip-id");return t?this.tooltips[t]:null},_removeTooltip:function(t){clearInterval(this.delayedShow),t.remove(),delete this.tooltips[t.attr("id")]},_appendTo:function(t){t=t.closest(".ui-front, dialog");return t=!t.length?this.document[0].body:t},_destroy:function(){var s=this;V.each(this.tooltips,function(t,e){var i=V.Event("blur"),e=e.element;i.target=i.currentTarget=e[0],s.close(i,!0),V("#"+t).remove(),e.data("ui-tooltip-title")&&(e.attr("title")||e.attr("title",e.data("ui-tooltip-title")),e.removeData("ui-tooltip-title"))}),this.liveRegion.remove()}}),!1!==V.uiBackCompat&&V.widget("ui.tooltip",V.ui.tooltip,{options:{tooltipClass:null},_tooltip:function(){var t=this._superApply(arguments);return this.options.tooltipClass&&t.tooltip.addClass(this.options.tooltipClass),t}});V.ui.tooltip});</script></div><div><script type="text/javascript">/** @license React v17.0.2
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */
(function(){'use strict';(function(c,x){"object"===typeof exports&&"undefined"!==typeof module?x(exports):"function"===typeof define&&define.amd?define(["exports"],x):(c=c||self,x(c.React={}))})(this,function(c){function x(a){if(null===a||"object"!==typeof a)return null;a=Y&&a[Y]||a["@@iterator"];return"function"===typeof a?a:null}function y(a){for(var b="https://reactjs.org/docs/error-decoder.html?invariant="+a,e=1;e<arguments.length;e++)b+="&args[]="+encodeURIComponent(arguments[e]);return"Minified React error #"+
a+"; visit "+b+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function v(a,b,e){this.props=a;this.context=b;this.refs=Z;this.updater=e||aa}function ba(){}function K(a,b,e){this.props=a;this.context=b;this.refs=Z;this.updater=e||aa}function ca(a,b,e){var l,f={},c=null,da=null;if(null!=b)for(l in void 0!==b.ref&&(da=b.ref),void 0!==b.key&&(c=""+b.key),b)ea.call(b,l)&&!fa.hasOwnProperty(l)&&(f[l]=b[l]);var k=arguments.length-2;if(1===
k)f.children=e;else if(1<k){for(var h=Array(k),d=0;d<k;d++)h[d]=arguments[d+2];f.children=h}if(a&&a.defaultProps)for(l in k=a.defaultProps,k)void 0===f[l]&&(f[l]=k[l]);return{$$typeof:w,type:a,key:c,ref:da,props:f,_owner:L.current}}function va(a,b){return{$$typeof:w,type:a.type,key:b,ref:a.ref,props:a.props,_owner:a._owner}}function M(a){return"object"===typeof a&&null!==a&&a.$$typeof===w}function wa(a){var b={"=":"=0",":":"=2"};return"$"+a.replace(/[=:]/g,function(a){return b[a]})}function N(a,b){return"object"===
typeof a&&null!==a&&null!=a.key?wa(""+a.key):b.toString(36)}function C(a,b,e,l,f){var c=typeof a;if("undefined"===c||"boolean"===c)a=null;var d=!1;if(null===a)d=!0;else switch(c){case "string":case "number":d=!0;break;case "object":switch(a.$$typeof){case w:case ha:d=!0}}if(d)return d=a,f=f(d),a=""===l?"."+N(d,0):l,Array.isArray(f)?(e="",null!=a&&(e=a.replace(ia,"$&/")+"/"),C(f,b,e,"",function(a){return a})):null!=f&&(M(f)&&(f=va(f,e+(!f.key||d&&d.key===f.key?"":(""+f.key).replace(ia,"$&/")+"/")+
a)),b.push(f)),1;d=0;l=""===l?".":l+":";if(Array.isArray(a))for(var k=0;k<a.length;k++){c=a[k];var h=l+N(c,k);d+=C(c,b,e,h,f)}else if(h=x(a),"function"===typeof h)for(a=h.call(a),k=0;!(c=a.next()).done;)c=c.value,h=l+N(c,k++),d+=C(c,b,e,h,f);else if("object"===c)throw b=""+a,Error(y(31,"[object Object]"===b?"object with keys {"+Object.keys(a).join(", ")+"}":b));return d}function D(a,b,e){if(null==a)return a;var l=[],c=0;C(a,l,"","",function(a){return b.call(e,a,c++)});return l}function xa(a){if(-1===
a._status){var b=a._result;b=b();a._status=0;a._result=b;b.then(function(b){0===a._status&&(b=b.default,a._status=1,a._result=b)},function(b){0===a._status&&(a._status=2,a._result=b)})}if(1===a._status)return a._result;throw a._result;}function n(){var a=ja.current;if(null===a)throw Error(y(321));return a}function O(a,b){var e=a.length;a.push(b);a:for(;;){var c=e-1>>>1,f=a[c];if(void 0!==f&&0<E(f,b))a[c]=b,a[e]=f,e=c;else break a}}function p(a){a=a[0];return void 0===a?null:a}function F(a){var b=
a[0];if(void 0!==b){var e=a.pop();if(e!==b){a[0]=e;a:for(var c=0,f=a.length;c<f;){var d=2*(c+1)-1,g=a[d],k=d+1,h=a[k];if(void 0!==g&&0>E(g,e))void 0!==h&&0>E(h,g)?(a[c]=h,a[k]=e,c=k):(a[c]=g,a[d]=e,c=d);else if(void 0!==h&&0>E(h,e))a[c]=h,a[k]=e,c=k;else break a}}return b}return null}function E(a,b){var e=a.sortIndex-b.sortIndex;return 0!==e?e:a.id-b.id}function P(a){for(var b=p(r);null!==b;){if(null===b.callback)F(r);else if(b.startTime<=a)F(r),b.sortIndex=b.expirationTime,O(q,b);else break;b=p(r)}}
function Q(a){z=!1;P(a);if(!u)if(null!==p(q))u=!0,A(R);else{var b=p(r);null!==b&&G(Q,b.startTime-a)}}function R(a,b){u=!1;z&&(z=!1,S());H=!0;var e=g;try{P(b);for(m=p(q);null!==m&&(!(m.expirationTime>b)||a&&!T());){var c=m.callback;if("function"===typeof c){m.callback=null;g=m.priorityLevel;var f=c(m.expirationTime<=b);b=t();"function"===typeof f?m.callback=f:m===p(q)&&F(q);P(b)}else F(q);m=p(q)}if(null!==m)var d=!0;else{var n=p(r);null!==n&&G(Q,n.startTime-b);d=!1}return d}finally{m=null,g=e,H=!1}}
var w=60103,ha=60106;c.Fragment=60107;c.StrictMode=60108;c.Profiler=60114;var ka=60109,la=60110,ma=60112;c.Suspense=60113;var na=60115,oa=60116;if("function"===typeof Symbol&&Symbol.for){var d=Symbol.for;w=d("react.element");ha=d("react.portal");c.Fragment=d("react.fragment");c.StrictMode=d("react.strict_mode");c.Profiler=d("react.profiler");ka=d("react.provider");la=d("react.context");ma=d("react.forward_ref");c.Suspense=d("react.suspense");na=d("react.memo");oa=d("react.lazy")}var Y="function"===
typeof Symbol&&Symbol.iterator,ya=Object.prototype.hasOwnProperty,U=Object.assign||function(a,b){if(null==a)throw new TypeError("Object.assign target cannot be null or undefined");for(var e=Object(a),c=1;c<arguments.length;c++){var d=arguments[c];if(null!=d){var g=void 0;d=Object(d);for(g in d)ya.call(d,g)&&(e[g]=d[g])}}return e},aa={isMounted:function(a){return!1},enqueueForceUpdate:function(a,b,c){},enqueueReplaceState:function(a,b,c,d){},enqueueSetState:function(a,b,c,d){}},Z={};v.prototype.isReactComponent=
{};v.prototype.setState=function(a,b){if("object"!==typeof a&&"function"!==typeof a&&null!=a)throw Error(y(85));this.updater.enqueueSetState(this,a,b,"setState")};v.prototype.forceUpdate=function(a){this.updater.enqueueForceUpdate(this,a,"forceUpdate")};ba.prototype=v.prototype;d=K.prototype=new ba;d.constructor=K;U(d,v.prototype);d.isPureReactComponent=!0;var L={current:null},ea=Object.prototype.hasOwnProperty,fa={key:!0,ref:!0,__self:!0,__source:!0},ia=/\/+/g,ja={current:null},V;if("object"===typeof performance&&
"function"===typeof performance.now){var za=performance;var t=function(){return za.now()}}else{var pa=Date,Aa=pa.now();t=function(){return pa.now()-Aa}}if("undefined"===typeof window||"function"!==typeof MessageChannel){var B=null,qa=null,ra=function(){if(null!==B)try{var a=t();B(!0,a);B=null}catch(b){throw setTimeout(ra,0),b;}};var A=function(a){null!==B?setTimeout(A,0,a):(B=a,setTimeout(ra,0))};var G=function(a,b){qa=setTimeout(a,b)};var S=function(){clearTimeout(qa)};var T=function(){return!1};
d=V=function(){}}else{var Ba=window.setTimeout,Ca=window.clearTimeout;"undefined"!==typeof console&&(d=window.cancelAnimationFrame,"function"!==typeof window.requestAnimationFrame&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills"),"function"!==typeof d&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills"));
var I=!1,J=null,W=-1,sa=5,ta=0;T=function(){return t()>=ta};d=function(){};V=function(a){0>a||125<a?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):sa=0<a?Math.floor(1E3/a):5};var ua=new MessageChannel,X=ua.port2;ua.port1.onmessage=function(){if(null!==J){var a=t();ta=a+sa;try{J(!0,a)?X.postMessage(null):(I=!1,J=null)}catch(b){throw X.postMessage(null),b;}}else I=!1};A=function(a){J=a;I||(I=!0,X.postMessage(null))};G=
function(a,b){W=Ba(function(){a(t())},b)};S=function(){Ca(W);W=-1}}var q=[],r=[],Da=1,m=null,g=3,H=!1,u=!1,z=!1,Ea=0;d={ReactCurrentDispatcher:ja,ReactCurrentOwner:L,IsSomeRendererActing:{current:!1},ReactCurrentBatchConfig:{transition:0},assign:U,Scheduler:{__proto__:null,unstable_ImmediatePriority:1,unstable_UserBlockingPriority:2,unstable_NormalPriority:3,unstable_IdlePriority:5,unstable_LowPriority:4,unstable_runWithPriority:function(a,b){switch(a){case 1:case 2:case 3:case 4:case 5:break;default:a=
3}var c=g;g=a;try{return b()}finally{g=c}},unstable_next:function(a){switch(g){case 1:case 2:case 3:var b=3;break;default:b=g}var c=g;g=b;try{return a()}finally{g=c}},unstable_scheduleCallback:function(a,b,c){var d=t();"object"===typeof c&&null!==c?(c=c.delay,c="number"===typeof c&&0<c?d+c:d):c=d;switch(a){case 1:var e=-1;break;case 2:e=250;break;case 5:e=1073741823;break;case 4:e=1E4;break;default:e=5E3}e=c+e;a={id:Da++,callback:b,priorityLevel:a,startTime:c,expirationTime:e,sortIndex:-1};c>d?(a.sortIndex=
c,O(r,a),null===p(q)&&a===p(r)&&(z?S():z=!0,G(Q,c-d))):(a.sortIndex=e,O(q,a),u||H||(u=!0,A(R)));return a},unstable_cancelCallback:function(a){a.callback=null},unstable_wrapCallback:function(a){var b=g;return function(){var c=g;g=b;try{return a.apply(this,arguments)}finally{g=c}}},unstable_getCurrentPriorityLevel:function(){return g},get unstable_shouldYield(){return T},unstable_requestPaint:d,unstable_continueExecution:function(){u||H||(u=!0,A(R))},unstable_pauseExecution:function(){},unstable_getFirstCallbackNode:function(){return p(q)},
get unstable_now(){return t},get unstable_forceFrameRate(){return V},unstable_Profiling:null},SchedulerTracing:{__proto__:null,__interactionsRef:null,__subscriberRef:null,unstable_clear:function(a){return a()},unstable_getCurrent:function(){return null},unstable_getThreadID:function(){return++Ea},unstable_trace:function(a,b,c){return c()},unstable_wrap:function(a){return a},unstable_subscribe:function(a){},unstable_unsubscribe:function(a){}}};c.Children={map:D,forEach:function(a,b,c){D(a,function(){b.apply(this,
arguments)},c)},count:function(a){var b=0;D(a,function(){b++});return b},toArray:function(a){return D(a,function(a){return a})||[]},only:function(a){if(!M(a))throw Error(y(143));return a}};c.Component=v;c.PureComponent=K;c.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=d;c.cloneElement=function(a,b,c){if(null===a||void 0===a)throw Error(y(267,a));var d=U({},a.props),e=a.key,g=a.ref,n=a._owner;if(null!=b){void 0!==b.ref&&(g=b.ref,n=L.current);void 0!==b.key&&(e=""+b.key);if(a.type&&a.type.defaultProps)var k=
a.type.defaultProps;for(h in b)ea.call(b,h)&&!fa.hasOwnProperty(h)&&(d[h]=void 0===b[h]&&void 0!==k?k[h]:b[h])}var h=arguments.length-2;if(1===h)d.children=c;else if(1<h){k=Array(h);for(var m=0;m<h;m++)k[m]=arguments[m+2];d.children=k}return{$$typeof:w,type:a.type,key:e,ref:g,props:d,_owner:n}};c.createContext=function(a,b){void 0===b&&(b=null);a={$$typeof:la,_calculateChangedBits:b,_currentValue:a,_currentValue2:a,_threadCount:0,Provider:null,Consumer:null};a.Provider={$$typeof:ka,_context:a};return a.Consumer=
a};c.createElement=ca;c.createFactory=function(a){var b=ca.bind(null,a);b.type=a;return b};c.createRef=function(){return{current:null}};c.forwardRef=function(a){return{$$typeof:ma,render:a}};c.isValidElement=M;c.lazy=function(a){return{$$typeof:oa,_payload:{_status:-1,_result:a},_init:xa}};c.memo=function(a,b){return{$$typeof:na,type:a,compare:void 0===b?null:b}};c.useCallback=function(a,b){return n().useCallback(a,b)};c.useContext=function(a,b){return n().useContext(a,b)};c.useDebugValue=function(a,
b){};c.useEffect=function(a,b){return n().useEffect(a,b)};c.useImperativeHandle=function(a,b,c){return n().useImperativeHandle(a,b,c)};c.useLayoutEffect=function(a,b){return n().useLayoutEffect(a,b)};c.useMemo=function(a,b){return n().useMemo(a,b)};c.useReducer=function(a,b,c){return n().useReducer(a,b,c)};c.useRef=function(a){return n().useRef(a)};c.useState=function(a){return n().useState(a)};c.version="17.0.2"});
})();
</script><script type="text/javascript">/** @license React v17.0.2
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */
(function(){/*
 Modernizr 3.0.0pre (Custom Build) | MIT
*/
'use strict';(function(M,ha){"object"===typeof exports&&"undefined"!==typeof module?ha(exports,require("react")):"function"===typeof define&&define.amd?define(["exports","react"],ha):(M=M||self,ha(M.ReactDOM={},M.React))})(this,function(M,ha){function m(a){for(var b="https://reactjs.org/docs/error-decoder.html?invariant="+a,c=1;c<arguments.length;c++)b+="&args[]="+encodeURIComponent(arguments[c]);return"Minified React error #"+a+"; visit "+b+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}
function Ta(a,b){gb(a,b);gb(a+"Capture",b)}function gb(a,b){Ib[a]=b;for(a=0;a<b.length;a++)zf.add(b[a])}function li(a){if(Af.call(Bf,a))return!0;if(Af.call(Cf,a))return!1;if(mi.test(a))return Bf[a]=!0;Cf[a]=!0;return!1}function ni(a,b,c,d){if(null!==c&&0===c.type)return!1;switch(typeof b){case "function":case "symbol":return!0;case "boolean":if(d)return!1;if(null!==c)return!c.acceptsBooleans;a=a.toLowerCase().slice(0,5);return"data-"!==a&&"aria-"!==a;default:return!1}}function oi(a,b,c,d){if(null===
b||"undefined"===typeof b||ni(a,b,c,d))return!0;if(d)return!1;if(null!==c)switch(c.type){case 3:return!b;case 4:return!1===b;case 5:return isNaN(b);case 6:return isNaN(b)||1>b}return!1}function Q(a,b,c,d,e,f,g){this.acceptsBooleans=2===b||3===b||4===b;this.attributeName=d;this.attributeNamespace=e;this.mustUseProperty=c;this.propertyName=a;this.type=b;this.sanitizeURL=f;this.removeEmptyString=g}function Ed(a,b,c,d){var e=I.hasOwnProperty(b)?I[b]:null;var f=null!==e?0===e.type:d?!1:!(2<b.length)||
"o"!==b[0]&&"O"!==b[0]||"n"!==b[1]&&"N"!==b[1]?!1:!0;f||(oi(b,c,e,d)&&(c=null),d||null===e?li(b)&&(null===c?a.removeAttribute(b):a.setAttribute(b,""+c)):e.mustUseProperty?a[e.propertyName]=null===c?3===e.type?!1:"":c:(b=e.attributeName,d=e.attributeNamespace,null===c?a.removeAttribute(b):(e=e.type,c=3===e||4===e&&!0===c?"":""+c,d?a.setAttributeNS(d,b,c):a.setAttribute(b,c))))}function Jb(a){if(null===a||"object"!==typeof a)return null;a=Df&&a[Df]||a["@@iterator"];return"function"===typeof a?a:null}
function Kb(a,b,c){if(void 0===Fd)try{throw Error();}catch(d){Fd=(b=d.stack.trim().match(/\n( *(at )?)/))&&b[1]||""}return"\n"+Fd+a}function Bc(a,b){if(!a||Gd)return"";Gd=!0;var c=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(b)if(b=function(){throw Error();},Object.defineProperty(b.prototype,"props",{set:function(){throw Error();}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(b,[])}catch(k){var d=k}Reflect.construct(a,[],b)}else{try{b.call()}catch(k){d=k}a.call(b.prototype)}else{try{throw Error();
}catch(k){d=k}a()}}catch(k){if(k&&d&&"string"===typeof k.stack){for(var e=k.stack.split("\n"),f=d.stack.split("\n"),g=e.length-1,h=f.length-1;1<=g&&0<=h&&e[g]!==f[h];)h--;for(;1<=g&&0<=h;g--,h--)if(e[g]!==f[h]){if(1!==g||1!==h){do if(g--,h--,0>h||e[g]!==f[h])return"\n"+e[g].replace(" at new "," at ");while(1<=g&&0<=h)}break}}}finally{Gd=!1,Error.prepareStackTrace=c}return(a=a?a.displayName||a.name:"")?Kb(a):""}function pi(a){switch(a.tag){case 5:return Kb(a.type);case 16:return Kb("Lazy");case 13:return Kb("Suspense");
case 19:return Kb("SuspenseList");case 0:case 2:case 15:return a=Bc(a.type,!1),a;case 11:return a=Bc(a.type.render,!1),a;case 22:return a=Bc(a.type._render,!1),a;case 1:return a=Bc(a.type,!0),a;default:return""}}function hb(a){if(null==a)return null;if("function"===typeof a)return a.displayName||a.name||null;if("string"===typeof a)return a;switch(a){case wa:return"Fragment";case Ua:return"Portal";case Lb:return"Profiler";case Hd:return"StrictMode";case Mb:return"Suspense";case Cc:return"SuspenseList"}if("object"===
typeof a)switch(a.$$typeof){case Id:return(a.displayName||"Context")+".Consumer";case Jd:return(a._context.displayName||"Context")+".Provider";case Dc:var b=a.render;b=b.displayName||b.name||"";return a.displayName||(""!==b?"ForwardRef("+b+")":"ForwardRef");case Ec:return hb(a.type);case Kd:return hb(a._render);case Ld:b=a._payload;a=a._init;try{return hb(a(b))}catch(c){}}return null}function xa(a){switch(typeof a){case "boolean":case "number":case "object":case "string":case "undefined":return a;
default:return""}}function Ef(a){var b=a.type;return(a=a.nodeName)&&"input"===a.toLowerCase()&&("checkbox"===b||"radio"===b)}function qi(a){var b=Ef(a)?"checked":"value",c=Object.getOwnPropertyDescriptor(a.constructor.prototype,b),d=""+a[b];if(!a.hasOwnProperty(b)&&"undefined"!==typeof c&&"function"===typeof c.get&&"function"===typeof c.set){var e=c.get,f=c.set;Object.defineProperty(a,b,{configurable:!0,get:function(){return e.call(this)},set:function(a){d=""+a;f.call(this,a)}});Object.defineProperty(a,
b,{enumerable:c.enumerable});return{getValue:function(){return d},setValue:function(a){d=""+a},stopTracking:function(){a._valueTracker=null;delete a[b]}}}}function Fc(a){a._valueTracker||(a._valueTracker=qi(a))}function Ff(a){if(!a)return!1;var b=a._valueTracker;if(!b)return!0;var c=b.getValue();var d="";a&&(d=Ef(a)?a.checked?"true":"false":a.value);a=d;return a!==c?(b.setValue(a),!0):!1}function Gc(a){a=a||("undefined"!==typeof document?document:void 0);if("undefined"===typeof a)return null;try{return a.activeElement||
a.body}catch(b){return a.body}}function Md(a,b){var c=b.checked;return B({},b,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=c?c:a._wrapperState.initialChecked})}function Gf(a,b){var c=null==b.defaultValue?"":b.defaultValue,d=null!=b.checked?b.checked:b.defaultChecked;c=xa(null!=b.value?b.value:c);a._wrapperState={initialChecked:d,initialValue:c,controlled:"checkbox"===b.type||"radio"===b.type?null!=b.checked:null!=b.value}}function Hf(a,b){b=b.checked;null!=b&&Ed(a,"checked",
b,!1)}function Nd(a,b){Hf(a,b);var c=xa(b.value),d=b.type;if(null!=c)if("number"===d){if(0===c&&""===a.value||a.value!=c)a.value=""+c}else a.value!==""+c&&(a.value=""+c);else if("submit"===d||"reset"===d){a.removeAttribute("value");return}b.hasOwnProperty("value")?Od(a,b.type,c):b.hasOwnProperty("defaultValue")&&Od(a,b.type,xa(b.defaultValue));null==b.checked&&null!=b.defaultChecked&&(a.defaultChecked=!!b.defaultChecked)}function If(a,b,c){if(b.hasOwnProperty("value")||b.hasOwnProperty("defaultValue")){var d=
b.type;if(!("submit"!==d&&"reset"!==d||void 0!==b.value&&null!==b.value))return;b=""+a._wrapperState.initialValue;c||b===a.value||(a.value=b);a.defaultValue=b}c=a.name;""!==c&&(a.name="");a.defaultChecked=!!a._wrapperState.initialChecked;""!==c&&(a.name=c)}function Od(a,b,c){if("number"!==b||Gc(a.ownerDocument)!==a)null==c?a.defaultValue=""+a._wrapperState.initialValue:a.defaultValue!==""+c&&(a.defaultValue=""+c)}function ri(a){var b="";ha.Children.forEach(a,function(a){null!=a&&(b+=a)});return b}
function Pd(a,b){a=B({children:void 0},b);if(b=ri(b.children))a.children=b;return a}function ib(a,b,c,d){a=a.options;if(b){b={};for(var e=0;e<c.length;e++)b["$"+c[e]]=!0;for(c=0;c<a.length;c++)e=b.hasOwnProperty("$"+a[c].value),a[c].selected!==e&&(a[c].selected=e),e&&d&&(a[c].defaultSelected=!0)}else{c=""+xa(c);b=null;for(e=0;e<a.length;e++){if(a[e].value===c){a[e].selected=!0;d&&(a[e].defaultSelected=!0);return}null!==b||a[e].disabled||(b=a[e])}null!==b&&(b.selected=!0)}}function Qd(a,b){if(null!=
b.dangerouslySetInnerHTML)throw Error(m(91));return B({},b,{value:void 0,defaultValue:void 0,children:""+a._wrapperState.initialValue})}function Jf(a,b){var c=b.value;if(null==c){c=b.children;b=b.defaultValue;if(null!=c){if(null!=b)throw Error(m(92));if(Array.isArray(c)){if(!(1>=c.length))throw Error(m(93));c=c[0]}b=c}null==b&&(b="");c=b}a._wrapperState={initialValue:xa(c)}}function Kf(a,b){var c=xa(b.value),d=xa(b.defaultValue);null!=c&&(c=""+c,c!==a.value&&(a.value=c),null==b.defaultValue&&a.defaultValue!==
c&&(a.defaultValue=c));null!=d&&(a.defaultValue=""+d)}function Lf(a,b){b=a.textContent;b===a._wrapperState.initialValue&&""!==b&&null!==b&&(a.value=b)}function Mf(a){switch(a){case "svg":return"http://www.w3.org/2000/svg";case "math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Rd(a,b){return null==a||"http://www.w3.org/1999/xhtml"===a?Mf(b):"http://www.w3.org/2000/svg"===a&&"foreignObject"===b?"http://www.w3.org/1999/xhtml":a}function Nf(a,b,c){return null==
b||"boolean"===typeof b||""===b?"":c||"number"!==typeof b||0===b||Nb.hasOwnProperty(a)&&Nb[a]?(""+b).trim():b+"px"}function Of(a,b){a=a.style;for(var c in b)if(b.hasOwnProperty(c)){var d=0===c.indexOf("--"),e=Nf(c,b[c],d);"float"===c&&(c="cssFloat");d?a.setProperty(c,e):a[c]=e}}function Sd(a,b){if(b){if(si[a]&&(null!=b.children||null!=b.dangerouslySetInnerHTML))throw Error(m(137,a));if(null!=b.dangerouslySetInnerHTML){if(null!=b.children)throw Error(m(60));if(!("object"===typeof b.dangerouslySetInnerHTML&&
"__html"in b.dangerouslySetInnerHTML))throw Error(m(61));}if(null!=b.style&&"object"!==typeof b.style)throw Error(m(62));}}function Td(a,b){if(-1===a.indexOf("-"))return"string"===typeof b.is;switch(a){case "annotation-xml":case "color-profile":case "font-face":case "font-face-src":case "font-face-uri":case "font-face-format":case "font-face-name":case "missing-glyph":return!1;default:return!0}}function Ud(a){a=a.target||a.srcElement||window;a.correspondingUseElement&&(a=a.correspondingUseElement);
return 3===a.nodeType?a.parentNode:a}function Pf(a){if(a=Ob(a)){if("function"!==typeof Vd)throw Error(m(280));var b=a.stateNode;b&&(b=Hc(b),Vd(a.stateNode,a.type,b))}}function Qf(a){jb?kb?kb.push(a):kb=[a]:jb=a}function Rf(){if(jb){var a=jb,b=kb;kb=jb=null;Pf(a);if(b)for(a=0;a<b.length;a++)Pf(b[a])}}function Wd(){if(null!==jb||null!==kb)Xd(),Rf()}function ti(a,b,c){if(Yd)return a(b,c);Yd=!0;try{return Sf(a,b,c)}finally{Yd=!1,Wd()}}function Pb(a,b){var c=a.stateNode;if(null===c)return null;var d=Hc(c);
if(null===d)return null;c=d[b];a:switch(b){case "onClick":case "onClickCapture":case "onDoubleClick":case "onDoubleClickCapture":case "onMouseDown":case "onMouseDownCapture":case "onMouseMove":case "onMouseMoveCapture":case "onMouseUp":case "onMouseUpCapture":case "onMouseEnter":(d=!d.disabled)||(a=a.type,d=!("button"===a||"input"===a||"select"===a||"textarea"===a));a=!d;break a;default:a=!1}if(a)return null;if(c&&"function"!==typeof c)throw Error(m(231,b,typeof c));return c}function ui(a,b,c,d,e,
f,g,h,k){Qb=!1;Ic=null;vi.apply(wi,arguments)}function xi(a,b,c,d,e,f,g,h,k){ui.apply(this,arguments);if(Qb){if(Qb){var v=Ic;Qb=!1;Ic=null}else throw Error(m(198));Jc||(Jc=!0,Zd=v)}}function Va(a){var b=a,c=a;if(a.alternate)for(;b.return;)b=b.return;else{a=b;do b=a,0!==(b.flags&1026)&&(c=b.return),a=b.return;while(a)}return 3===b.tag?c:null}function Tf(a){if(13===a.tag){var b=a.memoizedState;null===b&&(a=a.alternate,null!==a&&(b=a.memoizedState));if(null!==b)return b.dehydrated}return null}function Uf(a){if(Va(a)!==
a)throw Error(m(188));}function yi(a){var b=a.alternate;if(!b){b=Va(a);if(null===b)throw Error(m(188));return b!==a?null:a}for(var c=a,d=b;;){var e=c.return;if(null===e)break;var f=e.alternate;if(null===f){d=e.return;if(null!==d){c=d;continue}break}if(e.child===f.child){for(f=e.child;f;){if(f===c)return Uf(e),a;if(f===d)return Uf(e),b;f=f.sibling}throw Error(m(188));}if(c.return!==d.return)c=e,d=f;else{for(var g=!1,h=e.child;h;){if(h===c){g=!0;c=e;d=f;break}if(h===d){g=!0;d=e;c=f;break}h=h.sibling}if(!g){for(h=
f.child;h;){if(h===c){g=!0;c=f;d=e;break}if(h===d){g=!0;d=f;c=e;break}h=h.sibling}if(!g)throw Error(m(189));}}if(c.alternate!==d)throw Error(m(190));}if(3!==c.tag)throw Error(m(188));return c.stateNode.current===c?a:b}function Vf(a){a=yi(a);if(!a)return null;for(var b=a;;){if(5===b.tag||6===b.tag)return b;if(b.child)b.child.return=b,b=b.child;else{if(b===a)break;for(;!b.sibling;){if(!b.return||b.return===a)return null;b=b.return}b.sibling.return=b.return;b=b.sibling}}return null}function Wf(a,b){for(var c=
a.alternate;null!==b;){if(b===a||b===c)return!0;b=b.return}return!1}function $d(a,b,c,d,e){return{blockedOn:a,domEventName:b,eventSystemFlags:c|16,nativeEvent:e,targetContainers:[d]}}function Xf(a,b){switch(a){case "focusin":case "focusout":ya=null;break;case "dragenter":case "dragleave":za=null;break;case "mouseover":case "mouseout":Aa=null;break;case "pointerover":case "pointerout":Rb.delete(b.pointerId);break;case "gotpointercapture":case "lostpointercapture":Sb.delete(b.pointerId)}}function Tb(a,
b,c,d,e,f){if(null===a||a.nativeEvent!==f)return a=$d(b,c,d,e,f),null!==b&&(b=Ob(b),null!==b&&Yf(b)),a;a.eventSystemFlags|=d;b=a.targetContainers;null!==e&&-1===b.indexOf(e)&&b.push(e);return a}function zi(a,b,c,d,e){switch(b){case "focusin":return ya=Tb(ya,a,b,c,d,e),!0;case "dragenter":return za=Tb(za,a,b,c,d,e),!0;case "mouseover":return Aa=Tb(Aa,a,b,c,d,e),!0;case "pointerover":var f=e.pointerId;Rb.set(f,Tb(Rb.get(f)||null,a,b,c,d,e));return!0;case "gotpointercapture":return f=e.pointerId,Sb.set(f,
Tb(Sb.get(f)||null,a,b,c,d,e)),!0}return!1}function Ai(a){var b=Wa(a.target);if(null!==b){var c=Va(b);if(null!==c)if(b=c.tag,13===b){if(b=Tf(c),null!==b){a.blockedOn=b;Bi(a.lanePriority,function(){ae(a.priority,function(){Ci(c)})});return}}else if(3===b&&c.stateNode.hydrate){a.blockedOn=3===c.tag?c.stateNode.containerInfo:null;return}}a.blockedOn=null}function Kc(a){if(null!==a.blockedOn)return!1;for(var b=a.targetContainers;0<b.length;){var c=be(a.domEventName,a.eventSystemFlags,b[0],a.nativeEvent);
if(null!==c)return b=Ob(c),null!==b&&Yf(b),a.blockedOn=c,!1;b.shift()}return!0}function Zf(a,b,c){Kc(a)&&c.delete(b)}function Di(){for(ce=!1;0<ia.length;){var a=ia[0];if(null!==a.blockedOn){a=Ob(a.blockedOn);null!==a&&Ei(a);break}for(var b=a.targetContainers;0<b.length;){var c=be(a.domEventName,a.eventSystemFlags,b[0],a.nativeEvent);if(null!==c){a.blockedOn=c;break}b.shift()}null===a.blockedOn&&ia.shift()}null!==ya&&Kc(ya)&&(ya=null);null!==za&&Kc(za)&&(za=null);null!==Aa&&Kc(Aa)&&(Aa=null);Rb.forEach(Zf);
Sb.forEach(Zf)}function Ub(a,b){a.blockedOn===b&&(a.blockedOn=null,ce||(ce=!0,$f(ag,Di)))}function bg(a){if(0<ia.length){Ub(ia[0],a);for(var b=1;b<ia.length;b++){var c=ia[b];c.blockedOn===a&&(c.blockedOn=null)}}null!==ya&&Ub(ya,a);null!==za&&Ub(za,a);null!==Aa&&Ub(Aa,a);b=function(b){return Ub(b,a)};Rb.forEach(b);Sb.forEach(b);for(b=0;b<Vb.length;b++)c=Vb[b],c.blockedOn===a&&(c.blockedOn=null);for(;0<Vb.length&&(b=Vb[0],null===b.blockedOn);)Ai(b),null===b.blockedOn&&Vb.shift()}function Lc(a,b){var c=
{};c[a.toLowerCase()]=b.toLowerCase();c["Webkit"+a]="webkit"+b;c["Moz"+a]="moz"+b;return c}function Mc(a){if(de[a])return de[a];if(!lb[a])return a;var b=lb[a],c;for(c in b)if(b.hasOwnProperty(c)&&c in cg)return de[a]=b[c];return a}function ee(a,b){for(var c=0;c<a.length;c+=2){var d=a[c],e=a[c+1];e="on"+(e[0].toUpperCase()+e.slice(1));fe.set(d,b);dg.set(d,e);Ta(e,[d])}}function mb(a){if(0!==(1&a))return w=15,1;if(0!==(2&a))return w=14,2;if(0!==(4&a))return w=13,4;var b=24&a;if(0!==b)return w=12,b;
if(0!==(a&32))return w=11,32;b=192&a;if(0!==b)return w=10,b;if(0!==(a&256))return w=9,256;b=3584&a;if(0!==b)return w=8,b;if(0!==(a&4096))return w=7,4096;b=4186112&a;if(0!==b)return w=6,b;b=62914560&a;if(0!==b)return w=5,b;if(a&67108864)return w=4,67108864;if(0!==(a&134217728))return w=3,134217728;b=805306368&a;if(0!==b)return w=2,b;if(0!==(1073741824&a))return w=1,1073741824;w=8;return a}function Fi(a){switch(a){case 99:return 15;case 98:return 10;case 97:case 96:return 8;case 95:return 2;default:return 0}}
function Gi(a){switch(a){case 15:case 14:return 99;case 13:case 12:case 11:case 10:return 98;case 9:case 8:case 7:case 6:case 4:case 5:return 97;case 3:case 2:case 1:return 95;case 0:return 90;default:throw Error(m(358,a));}}function Wb(a,b){var c=a.pendingLanes;if(0===c)return w=0;var d=0,e=0,f=a.expiredLanes,g=a.suspendedLanes,h=a.pingedLanes;if(0!==f)d=f,e=w=15;else if(f=c&134217727,0!==f){var k=f&~g;0!==k?(d=mb(k),e=w):(h&=f,0!==h&&(d=mb(h),e=w))}else f=c&~g,0!==f?(d=mb(f),e=w):0!==h&&(d=mb(h),
e=w);if(0===d)return 0;d=31-Ba(d);d=c&((0>d?0:1<<d)<<1)-1;if(0!==b&&b!==d&&0===(b&g)){mb(b);if(e<=w)return b;w=e}b=a.entangledLanes;if(0!==b)for(a=a.entanglements,b&=d;0<b;)c=31-Ba(b),e=1<<c,d|=a[c],b&=~e;return d}function eg(a){a=a.pendingLanes&-1073741825;return 0!==a?a:a&1073741824?1073741824:0}function Nc(a,b){switch(a){case 15:return 1;case 14:return 2;case 12:return a=nb(24&~b),0===a?Nc(10,b):a;case 10:return a=nb(192&~b),0===a?Nc(8,b):a;case 8:return a=nb(3584&~b),0===a&&(a=nb(4186112&~b),
0===a&&(a=512)),a;case 2:return b=nb(805306368&~b),0===b&&(b=268435456),b}throw Error(m(358,a));}function nb(a){return a&-a}function ge(a){for(var b=[],c=0;31>c;c++)b.push(a);return b}function Oc(a,b,c){a.pendingLanes|=b;var d=b-1;a.suspendedLanes&=d;a.pingedLanes&=d;a=a.eventTimes;b=31-Ba(b);a[b]=c}function Hi(a){return 0===a?32:31-(Ii(a)/Ji|0)|0}function Ki(a,b,c,d){Xa||Xd();var e=he,f=Xa;Xa=!0;try{fg(e,a,b,c,d)}finally{(Xa=f)||Wd()}}function Li(a,b,c,d){Mi(Ni,he.bind(null,a,b,c,d))}function he(a,
b,c,d){if(Pc){var e;if((e=0===(b&4))&&0<ia.length&&-1<gg.indexOf(a))a=$d(null,a,b,c,d),ia.push(a);else{var f=be(a,b,c,d);if(null===f)e&&Xf(a,d);else{if(e){if(-1<gg.indexOf(a)){a=$d(f,a,b,c,d);ia.push(a);return}if(zi(f,a,b,c,d))return;Xf(a,d)}hg(a,b,d,null,c)}}}}function be(a,b,c,d){var e=Ud(d);e=Wa(e);if(null!==e){var f=Va(e);if(null===f)e=null;else{var g=f.tag;if(13===g){e=Tf(f);if(null!==e)return e;e=null}else if(3===g){if(f.stateNode.hydrate)return 3===f.tag?f.stateNode.containerInfo:null;e=null}else f!==
e&&(e=null)}}hg(a,b,d,e,c);return null}function ig(){if(Qc)return Qc;var a,b=ie,c=b.length,d,e="value"in Ca?Ca.value:Ca.textContent,f=e.length;for(a=0;a<c&&b[a]===e[a];a++);var g=c-a;for(d=1;d<=g&&b[c-d]===e[f-d];d++);return Qc=e.slice(a,1<d?1-d:void 0)}function Rc(a){var b=a.keyCode;"charCode"in a?(a=a.charCode,0===a&&13===b&&(a=13)):a=b;10===a&&(a=13);return 32<=a||13===a?a:0}function Sc(){return!0}function jg(){return!1}function V(a){function b(b,d,e,f,g){this._reactName=b;this._targetInst=e;this.type=
d;this.nativeEvent=f;this.target=g;this.currentTarget=null;for(var c in a)a.hasOwnProperty(c)&&(b=a[c],this[c]=b?b(f):f[c]);this.isDefaultPrevented=(null!=f.defaultPrevented?f.defaultPrevented:!1===f.returnValue)?Sc:jg;this.isPropagationStopped=jg;return this}B(b.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():"unknown"!==typeof a.returnValue&&(a.returnValue=!1),this.isDefaultPrevented=Sc)},stopPropagation:function(){var a=
this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():"unknown"!==typeof a.cancelBubble&&(a.cancelBubble=!0),this.isPropagationStopped=Sc)},persist:function(){},isPersistent:Sc});return b}function Oi(a){var b=this.nativeEvent;return b.getModifierState?b.getModifierState(a):(a=Pi[a])?!!b[a]:!1}function je(a){return Oi}function kg(a,b){switch(a){case "keyup":return-1!==Qi.indexOf(b.keyCode);case "keydown":return 229!==b.keyCode;case "keypress":case "mousedown":case "focusout":return!0;default:return!1}}
function lg(a){a=a.detail;return"object"===typeof a&&"data"in a?a.data:null}function Ri(a,b){switch(a){case "compositionend":return lg(b);case "keypress":if(32!==b.which)return null;mg=!0;return ng;case "textInput":return a=b.data,a===ng&&mg?null:a;default:return null}}function Si(a,b){if(ob)return"compositionend"===a||!ke&&kg(a,b)?(a=ig(),Qc=ie=Ca=null,ob=!1,a):null;switch(a){case "paste":return null;case "keypress":if(!(b.ctrlKey||b.altKey||b.metaKey)||b.ctrlKey&&b.altKey){if(b.char&&1<b.char.length)return b.char;
if(b.which)return String.fromCharCode(b.which)}return null;case "compositionend":return og&&"ko"!==b.locale?null:b.data;default:return null}}function pg(a){var b=a&&a.nodeName&&a.nodeName.toLowerCase();return"input"===b?!!Ti[a.type]:"textarea"===b?!0:!1}function Ui(a){if(!oa)return!1;a="on"+a;var b=a in document;b||(b=document.createElement("div"),b.setAttribute(a,"return;"),b="function"===typeof b[a]);return b}function qg(a,b,c,d){Qf(d);b=Tc(b,"onChange");0<b.length&&(c=new le("onChange","change",
null,c,d),a.push({event:c,listeners:b}))}function Vi(a){rg(a,0)}function Uc(a){var b=pb(a);if(Ff(b))return a}function Wi(a,b){if("change"===a)return b}function sg(){Xb&&(Xb.detachEvent("onpropertychange",tg),Yb=Xb=null)}function tg(a){if("value"===a.propertyName&&Uc(Yb)){var b=[];qg(b,Yb,a,Ud(a));a=Vi;if(Xa)a(b);else{Xa=!0;try{me(a,b)}finally{Xa=!1,Wd()}}}}function Xi(a,b,c){"focusin"===a?(sg(),Xb=b,Yb=c,Xb.attachEvent("onpropertychange",tg)):"focusout"===a&&sg()}function Yi(a,b){if("selectionchange"===
a||"keyup"===a||"keydown"===a)return Uc(Yb)}function Zi(a,b){if("click"===a)return Uc(b)}function $i(a,b){if("input"===a||"change"===a)return Uc(b)}function aj(a,b){return a===b&&(0!==a||1/a===1/b)||a!==a&&b!==b}function Zb(a,b){if(X(a,b))return!0;if("object"!==typeof a||null===a||"object"!==typeof b||null===b)return!1;var c=Object.keys(a),d=Object.keys(b);if(c.length!==d.length)return!1;for(d=0;d<c.length;d++)if(!bj.call(b,c[d])||!X(a[c[d]],b[c[d]]))return!1;return!0}function ug(a){for(;a&&a.firstChild;)a=
a.firstChild;return a}function vg(a,b){var c=ug(a);a=0;for(var d;c;){if(3===c.nodeType){d=a+c.textContent.length;if(a<=b&&d>=b)return{node:c,offset:b-a};a=d}a:{for(;c;){if(c.nextSibling){c=c.nextSibling;break a}c=c.parentNode}c=void 0}c=ug(c)}}function wg(a,b){return a&&b?a===b?!0:a&&3===a.nodeType?!1:b&&3===b.nodeType?wg(a,b.parentNode):"contains"in a?a.contains(b):a.compareDocumentPosition?!!(a.compareDocumentPosition(b)&16):!1:!1}function xg(){for(var a=window,b=Gc();b instanceof a.HTMLIFrameElement;){try{var c=
"string"===typeof b.contentWindow.location.href}catch(d){c=!1}if(c)a=b.contentWindow;else break;b=Gc(a.document)}return b}function ne(a){var b=a&&a.nodeName&&a.nodeName.toLowerCase();return b&&("input"===b&&("text"===a.type||"search"===a.type||"tel"===a.type||"url"===a.type||"password"===a.type)||"textarea"===b||"true"===a.contentEditable)}function yg(a,b,c){var d=c.window===c?c.document:9===c.nodeType?c:c.ownerDocument;oe||null==qb||qb!==Gc(d)||(d=qb,"selectionStart"in d&&ne(d)?d={start:d.selectionStart,
end:d.selectionEnd}:(d=(d.ownerDocument&&d.ownerDocument.defaultView||window).getSelection(),d={anchorNode:d.anchorNode,anchorOffset:d.anchorOffset,focusNode:d.focusNode,focusOffset:d.focusOffset}),$b&&Zb($b,d)||($b=d,d=Tc(pe,"onSelect"),0<d.length&&(b=new le("onSelect","select",null,b,c),a.push({event:b,listeners:d}),b.target=qb)))}function zg(a,b,c){var d=a.type||"unknown-event";a.currentTarget=c;xi(d,b,void 0,a);a.currentTarget=null}function rg(a,b){b=0!==(b&4);for(var c=0;c<a.length;c++){var d=
a[c],e=d.event;d=d.listeners;a:{var f=void 0;if(b)for(var g=d.length-1;0<=g;g--){var h=d[g],k=h.instance,v=h.currentTarget;h=h.listener;if(k!==f&&e.isPropagationStopped())break a;zg(e,h,v);f=k}else for(g=0;g<d.length;g++){h=d[g];k=h.instance;v=h.currentTarget;h=h.listener;if(k!==f&&e.isPropagationStopped())break a;zg(e,h,v);f=k}}}if(Jc)throw a=Zd,Jc=!1,Zd=null,a;}function z(a,b){var c=Ag(b),d=a+"__bubble";c.has(d)||(Bg(b,a,2,!1),c.add(d))}function Cg(a){a[Dg]||(a[Dg]=!0,zf.forEach(function(b){Eg.has(b)||
Fg(b,!1,a,null);Fg(b,!0,a,null)}))}function Fg(a,b,c,d){var e=4<arguments.length&&void 0!==arguments[4]?arguments[4]:0,f=c;"selectionchange"===a&&9!==c.nodeType&&(f=c.ownerDocument);if(null!==d&&!b&&Eg.has(a)){if("scroll"!==a)return;e|=2;f=d}var g=Ag(f),h=a+"__"+(b?"capture":"bubble");g.has(h)||(b&&(e|=4),Bg(f,a,e,b),g.add(h))}function Bg(a,b,c,d,e){e=fe.get(b);switch(void 0===e?2:e){case 0:e=Ki;break;case 1:e=Li;break;default:e=he}c=e.bind(null,b,c,a);e=void 0;!qe||"touchstart"!==b&&"touchmove"!==
b&&"wheel"!==b||(e=!0);d?void 0!==e?a.addEventListener(b,c,{capture:!0,passive:e}):a.addEventListener(b,c,!0):void 0!==e?a.addEventListener(b,c,{passive:e}):a.addEventListener(b,c,!1)}function hg(a,b,c,d,e){var f=d;if(0===(b&1)&&0===(b&2)&&null!==d)a:for(;;){if(null===d)return;var g=d.tag;if(3===g||4===g){var h=d.stateNode.containerInfo;if(h===e||8===h.nodeType&&h.parentNode===e)break;if(4===g)for(g=d.return;null!==g;){var k=g.tag;if(3===k||4===k)if(k=g.stateNode.containerInfo,k===e||8===k.nodeType&&
k.parentNode===e)return;g=g.return}for(;null!==h;){g=Wa(h);if(null===g)return;k=g.tag;if(5===k||6===k){d=f=g;continue a}h=h.parentNode}}d=d.return}ti(function(){var d=f,e=Ud(c),g=[];a:{var h=dg.get(a);if(void 0!==h){var k=le,m=a;switch(a){case "keypress":if(0===Rc(c))break a;case "keydown":case "keyup":k=cj;break;case "focusin":m="focus";k=re;break;case "focusout":m="blur";k=re;break;case "beforeblur":case "afterblur":k=re;break;case "click":if(2===c.button)break a;case "auxclick":case "dblclick":case "mousedown":case "mousemove":case "mouseup":case "mouseout":case "mouseover":case "contextmenu":k=
Gg;break;case "drag":case "dragend":case "dragenter":case "dragexit":case "dragleave":case "dragover":case "dragstart":case "drop":k=dj;break;case "touchcancel":case "touchend":case "touchmove":case "touchstart":k=ej;break;case Hg:case Ig:case Jg:k=fj;break;case Kg:k=gj;break;case "scroll":k=hj;break;case "wheel":k=ij;break;case "copy":case "cut":case "paste":k=jj;break;case "gotpointercapture":case "lostpointercapture":case "pointercancel":case "pointerdown":case "pointermove":case "pointerout":case "pointerover":case "pointerup":k=
Lg}var l=0!==(b&4),C=!l&&"scroll"===a,x=l?null!==h?h+"Capture":null:h;l=[];for(var p=d,q;null!==p;){q=p;var u=q.stateNode;5===q.tag&&null!==u&&(q=u,null!==x&&(u=Pb(p,x),null!=u&&l.push(ac(p,u,q))));if(C)break;p=p.return}0<l.length&&(h=new k(h,m,null,c,e),g.push({event:h,listeners:l}))}}if(0===(b&7)){a:{h="mouseover"===a||"pointerover"===a;k="mouseout"===a||"pointerout"===a;if(h&&0===(b&16)&&(m=c.relatedTarget||c.fromElement)&&(Wa(m)||m[rb]))break a;if(k||h){h=e.window===e?e:(h=e.ownerDocument)?h.defaultView||
h.parentWindow:window;if(k){if(m=c.relatedTarget||c.toElement,k=d,m=m?Wa(m):null,null!==m&&(C=Va(m),m!==C||5!==m.tag&&6!==m.tag))m=null}else k=null,m=d;if(k!==m){l=Gg;u="onMouseLeave";x="onMouseEnter";p="mouse";if("pointerout"===a||"pointerover"===a)l=Lg,u="onPointerLeave",x="onPointerEnter",p="pointer";C=null==k?h:pb(k);q=null==m?h:pb(m);h=new l(u,p+"leave",k,c,e);h.target=C;h.relatedTarget=q;u=null;Wa(e)===d&&(l=new l(x,p+"enter",m,c,e),l.target=q,l.relatedTarget=C,u=l);C=u;if(k&&m)b:{l=k;x=m;p=
0;for(q=l;q;q=sb(q))p++;q=0;for(u=x;u;u=sb(u))q++;for(;0<p-q;)l=sb(l),p--;for(;0<q-p;)x=sb(x),q--;for(;p--;){if(l===x||null!==x&&l===x.alternate)break b;l=sb(l);x=sb(x)}l=null}else l=null;null!==k&&Mg(g,h,k,l,!1);null!==m&&null!==C&&Mg(g,C,m,l,!0)}}}a:{h=d?pb(d):window;k=h.nodeName&&h.nodeName.toLowerCase();if("select"===k||"input"===k&&"file"===h.type)var n=Wi;else if(pg(h))if(Ng)n=$i;else{n=Yi;var da=Xi}else(k=h.nodeName)&&"input"===k.toLowerCase()&&("checkbox"===h.type||"radio"===h.type)&&(n=Zi);
if(n&&(n=n(a,d))){qg(g,n,c,e);break a}da&&da(a,h,d);"focusout"===a&&(da=h._wrapperState)&&da.controlled&&"number"===h.type&&Od(h,"number",h.value)}da=d?pb(d):window;switch(a){case "focusin":if(pg(da)||"true"===da.contentEditable)qb=da,pe=d,$b=null;break;case "focusout":$b=pe=qb=null;break;case "mousedown":oe=!0;break;case "contextmenu":case "mouseup":case "dragend":oe=!1;yg(g,c,e);break;case "selectionchange":if(kj)break;case "keydown":case "keyup":yg(g,c,e)}var Ea;if(ke)b:{switch(a){case "compositionstart":var F=
"onCompositionStart";break b;case "compositionend":F="onCompositionEnd";break b;case "compositionupdate":F="onCompositionUpdate";break b}F=void 0}else ob?kg(a,c)&&(F="onCompositionEnd"):"keydown"===a&&229===c.keyCode&&(F="onCompositionStart");F&&(og&&"ko"!==c.locale&&(ob||"onCompositionStart"!==F?"onCompositionEnd"===F&&ob&&(Ea=ig()):(Ca=e,ie="value"in Ca?Ca.value:Ca.textContent,ob=!0)),da=Tc(d,F),0<da.length&&(F=new Og(F,a,null,c,e),g.push({event:F,listeners:da}),Ea?F.data=Ea:(Ea=lg(c),null!==Ea&&
(F.data=Ea))));if(Ea=lj?Ri(a,c):Si(a,c))d=Tc(d,"onBeforeInput"),0<d.length&&(e=new mj("onBeforeInput","beforeinput",null,c,e),g.push({event:e,listeners:d}),e.data=Ea)}rg(g,b)})}function ac(a,b,c){return{instance:a,listener:b,currentTarget:c}}function Tc(a,b){for(var c=b+"Capture",d=[];null!==a;){var e=a,f=e.stateNode;5===e.tag&&null!==f&&(e=f,f=Pb(a,c),null!=f&&d.unshift(ac(a,f,e)),f=Pb(a,b),null!=f&&d.push(ac(a,f,e)));a=a.return}return d}function sb(a){if(null===a)return null;do a=a.return;while(a&&
5!==a.tag);return a?a:null}function Mg(a,b,c,d,e){for(var f=b._reactName,g=[];null!==c&&c!==d;){var h=c,k=h.alternate,v=h.stateNode;if(null!==k&&k===d)break;5===h.tag&&null!==v&&(h=v,e?(k=Pb(c,f),null!=k&&g.unshift(ac(c,k,h))):e||(k=Pb(c,f),null!=k&&g.push(ac(c,k,h))));c=c.return}0!==g.length&&a.push({event:b,listeners:g})}function Vc(){}function Pg(a,b){switch(a){case "button":case "input":case "select":case "textarea":return!!b.autoFocus}return!1}function se(a,b){return"textarea"===a||"option"===
a||"noscript"===a||"string"===typeof b.children||"number"===typeof b.children||"object"===typeof b.dangerouslySetInnerHTML&&null!==b.dangerouslySetInnerHTML&&null!=b.dangerouslySetInnerHTML.__html}function te(a){1===a.nodeType?a.textContent="":9===a.nodeType&&(a=a.body,null!=a&&(a.textContent=""))}function tb(a){for(;null!=a;a=a.nextSibling){var b=a.nodeType;if(1===b||3===b)break}return a}function Qg(a){a=a.previousSibling;for(var b=0;a;){if(8===a.nodeType){var c=a.data;if("$"===c||"$!"===c||"$?"===
c){if(0===b)return a;b--}else"/$"===c&&b++}a=a.previousSibling}return null}function nj(a){return{$$typeof:ue,toString:a,valueOf:a}}function Wa(a){var b=a[Fa];if(b)return b;for(var c=a.parentNode;c;){if(b=c[rb]||c[Fa]){c=b.alternate;if(null!==b.child||null!==c&&null!==c.child)for(a=Qg(a);null!==a;){if(c=a[Fa])return c;a=Qg(a)}return b}a=c;c=a.parentNode}return null}function Ob(a){a=a[Fa]||a[rb];return!a||5!==a.tag&&6!==a.tag&&13!==a.tag&&3!==a.tag?null:a}function pb(a){if(5===a.tag||6===a.tag)return a.stateNode;
throw Error(m(33));}function Hc(a){return a[Wc]||null}function Ag(a){var b=a[Rg];void 0===b&&(b=a[Rg]=new Set);return b}function Ga(a){return{current:a}}function t(a,b){0>ub||(a.current=ve[ub],ve[ub]=null,ub--)}function A(a,b,c){ub++;ve[ub]=a.current;a.current=b}function vb(a,b){var c=a.type.contextTypes;if(!c)return Ha;var d=a.stateNode;if(d&&d.__reactInternalMemoizedUnmaskedChildContext===b)return d.__reactInternalMemoizedMaskedChildContext;var e={},f;for(f in c)e[f]=b[f];d&&(a=a.stateNode,a.__reactInternalMemoizedUnmaskedChildContext=
b,a.__reactInternalMemoizedMaskedChildContext=e);return e}function S(a){a=a.childContextTypes;return null!==a&&void 0!==a}function Sg(a,b,c){if(D.current!==Ha)throw Error(m(168));A(D,b);A(J,c)}function Tg(a,b,c){var d=a.stateNode;a=b.childContextTypes;if("function"!==typeof d.getChildContext)return c;d=d.getChildContext();for(var e in d)if(!(e in a))throw Error(m(108,hb(b)||"Unknown",e));return B({},c,d)}function Xc(a){a=(a=a.stateNode)&&a.__reactInternalMemoizedMergedChildContext||Ha;Ya=D.current;
A(D,a);A(J,J.current);return!0}function Ug(a,b,c){var d=a.stateNode;if(!d)throw Error(m(169));c?(a=Tg(a,b,Ya),d.__reactInternalMemoizedMergedChildContext=a,t(J),t(D),A(D,a)):t(J);A(J,c)}function wb(){switch(oj()){case Yc:return 99;case Vg:return 98;case Wg:return 97;case Xg:return 96;case Yg:return 95;default:throw Error(m(332));}}function Zg(a){switch(a){case 99:return Yc;case 98:return Vg;case 97:return Wg;case 96:return Xg;case 95:return Yg;default:throw Error(m(332));}}function Za(a,b){a=Zg(a);
return pj(a,b)}function bc(a,b,c){a=Zg(a);return we(a,b,c)}function ja(){if(null!==Zc){var a=Zc;Zc=null;xe(a)}$g()}function $g(){if(!ye&&null!==pa){ye=!0;var a=0;try{var b=pa;Za(99,function(){for(;a<b.length;a++){var c=b[a];do c=c(!0);while(null!==c)}});pa=null}catch(c){throw null!==pa&&(pa=pa.slice(a+1)),we(Yc,ja),c;}finally{ye=!1}}}function ea(a,b){if(a&&a.defaultProps){b=B({},b);a=a.defaultProps;for(var c in a)void 0===b[c]&&(b[c]=a[c]);return b}return b}function ze(){$c=xb=ad=null}function Ae(a){var b=
bd.current;t(bd);a.type._context._currentValue=b}function ah(a,b){for(;null!==a;){var c=a.alternate;if((a.childLanes&b)===b)if(null===c||(c.childLanes&b)===b)break;else c.childLanes|=b;else a.childLanes|=b,null!==c&&(c.childLanes|=b);a=a.return}}function yb(a,b){ad=a;$c=xb=null;a=a.dependencies;null!==a&&null!==a.firstContext&&(0!==(a.lanes&b)&&(fa=!0),a.firstContext=null)}function Y(a,b){if($c!==a&&!1!==b&&0!==b){if("number"!==typeof b||1073741823===b)$c=a,b=1073741823;b={context:a,observedBits:b,
next:null};if(null===xb){if(null===ad)throw Error(m(308));xb=b;ad.dependencies={lanes:0,firstContext:b,responders:null}}else xb=xb.next=b}return a._currentValue}function Be(a){a.updateQueue={baseState:a.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null},effects:null}}function bh(a,b){a=a.updateQueue;b.updateQueue===a&&(b.updateQueue={baseState:a.baseState,firstBaseUpdate:a.firstBaseUpdate,lastBaseUpdate:a.lastBaseUpdate,shared:a.shared,effects:a.effects})}function Ia(a,b){return{eventTime:a,
lane:b,tag:0,payload:null,callback:null,next:null}}function Ja(a,b){a=a.updateQueue;if(null!==a){a=a.shared;var c=a.pending;null===c?b.next=b:(b.next=c.next,c.next=b);a.pending=b}}function ch(a,b){var c=a.updateQueue,d=a.alternate;if(null!==d&&(d=d.updateQueue,c===d)){var e=null,f=null;c=c.firstBaseUpdate;if(null!==c){do{var g={eventTime:c.eventTime,lane:c.lane,tag:c.tag,payload:c.payload,callback:c.callback,next:null};null===f?e=f=g:f=f.next=g;c=c.next}while(null!==c);null===f?e=f=b:f=f.next=b}else e=
f=b;c={baseState:d.baseState,firstBaseUpdate:e,lastBaseUpdate:f,shared:d.shared,effects:d.effects};a.updateQueue=c;return}a=c.lastBaseUpdate;null===a?c.firstBaseUpdate=b:a.next=b;c.lastBaseUpdate=b}function cc(a,b,c,d){var e=a.updateQueue;Ka=!1;var f=e.firstBaseUpdate,g=e.lastBaseUpdate,h=e.shared.pending;if(null!==h){e.shared.pending=null;var k=h,v=k.next;k.next=null;null===g?f=v:g.next=v;g=k;var m=a.alternate;if(null!==m){m=m.updateQueue;var l=m.lastBaseUpdate;l!==g&&(null===l?m.firstBaseUpdate=
v:l.next=v,m.lastBaseUpdate=k)}}if(null!==f){l=e.baseState;g=0;m=v=k=null;do{h=f.lane;var r=f.eventTime;if((d&h)===h){null!==m&&(m=m.next={eventTime:r,lane:0,tag:f.tag,payload:f.payload,callback:f.callback,next:null});a:{var n=a,t=f;h=b;r=c;switch(t.tag){case 1:n=t.payload;if("function"===typeof n){l=n.call(r,l,h);break a}l=n;break a;case 3:n.flags=n.flags&-4097|64;case 0:n=t.payload;h="function"===typeof n?n.call(r,l,h):n;if(null===h||void 0===h)break a;l=B({},l,h);break a;case 2:Ka=!0}}null!==f.callback&&
(a.flags|=32,h=e.effects,null===h?e.effects=[f]:h.push(f))}else r={eventTime:r,lane:h,tag:f.tag,payload:f.payload,callback:f.callback,next:null},null===m?(v=m=r,k=l):m=m.next=r,g|=h;f=f.next;if(null===f)if(h=e.shared.pending,null===h)break;else f=h.next,h.next=null,e.lastBaseUpdate=h,e.shared.pending=null}while(1);null===m&&(k=l);e.baseState=k;e.firstBaseUpdate=v;e.lastBaseUpdate=m;La|=g;a.lanes=g;a.memoizedState=l}}function dh(a,b,c){a=b.effects;b.effects=null;if(null!==a)for(b=0;b<a.length;b++){var d=
a[b],e=d.callback;if(null!==e){d.callback=null;d=c;if("function"!==typeof e)throw Error(m(191,e));e.call(d)}}}function cd(a,b,c,d){b=a.memoizedState;c=c(d,b);c=null===c||void 0===c?b:B({},b,c);a.memoizedState=c;0===a.lanes&&(a.updateQueue.baseState=c)}function eh(a,b,c,d,e,f,g){a=a.stateNode;return"function"===typeof a.shouldComponentUpdate?a.shouldComponentUpdate(d,f,g):b.prototype&&b.prototype.isPureReactComponent?!Zb(c,d)||!Zb(e,f):!0}function fh(a,b,c){var d=!1,e=Ha;var f=b.contextType;"object"===
typeof f&&null!==f?f=Y(f):(e=S(b)?Ya:D.current,d=b.contextTypes,f=(d=null!==d&&void 0!==d)?vb(a,e):Ha);b=new b(c,f);a.memoizedState=null!==b.state&&void 0!==b.state?b.state:null;b.updater=dd;a.stateNode=b;b._reactInternals=a;d&&(a=a.stateNode,a.__reactInternalMemoizedUnmaskedChildContext=e,a.__reactInternalMemoizedMaskedChildContext=f);return b}function gh(a,b,c,d){a=b.state;"function"===typeof b.componentWillReceiveProps&&b.componentWillReceiveProps(c,d);"function"===typeof b.UNSAFE_componentWillReceiveProps&&
b.UNSAFE_componentWillReceiveProps(c,d);b.state!==a&&dd.enqueueReplaceState(b,b.state,null)}function Ce(a,b,c,d){var e=a.stateNode;e.props=c;e.state=a.memoizedState;e.refs=hh;Be(a);var f=b.contextType;"object"===typeof f&&null!==f?e.context=Y(f):(f=S(b)?Ya:D.current,e.context=vb(a,f));cc(a,c,e,d);e.state=a.memoizedState;f=b.getDerivedStateFromProps;"function"===typeof f&&(cd(a,b,f,c),e.state=a.memoizedState);"function"===typeof b.getDerivedStateFromProps||"function"===typeof e.getSnapshotBeforeUpdate||
"function"!==typeof e.UNSAFE_componentWillMount&&"function"!==typeof e.componentWillMount||(b=e.state,"function"===typeof e.componentWillMount&&e.componentWillMount(),"function"===typeof e.UNSAFE_componentWillMount&&e.UNSAFE_componentWillMount(),b!==e.state&&dd.enqueueReplaceState(e,e.state,null),cc(a,c,e,d),e.state=a.memoizedState);"function"===typeof e.componentDidMount&&(a.flags|=4)}function dc(a,b,c){a=c.ref;if(null!==a&&"function"!==typeof a&&"object"!==typeof a){if(c._owner){c=c._owner;if(c){if(1!==
c.tag)throw Error(m(309));var d=c.stateNode}if(!d)throw Error(m(147,a));var e=""+a;if(null!==b&&null!==b.ref&&"function"===typeof b.ref&&b.ref._stringRef===e)return b.ref;b=function(a){var b=d.refs;b===hh&&(b=d.refs={});null===a?delete b[e]:b[e]=a};b._stringRef=e;return b}if("string"!==typeof a)throw Error(m(284));if(!c._owner)throw Error(m(290,a));}return a}function ed(a,b){if("textarea"!==a.type)throw Error(m(31,"[object Object]"===Object.prototype.toString.call(b)?"object with keys {"+Object.keys(b).join(", ")+
"}":b));}function ih(a){function b(b,c){if(a){var d=b.lastEffect;null!==d?(d.nextEffect=c,b.lastEffect=c):b.firstEffect=b.lastEffect=c;c.nextEffect=null;c.flags=8}}function c(c,d){if(!a)return null;for(;null!==d;)b(c,d),d=d.sibling;return null}function d(a,b){for(a=new Map;null!==b;)null!==b.key?a.set(b.key,b):a.set(b.index,b),b=b.sibling;return a}function e(a,b){a=Ma(a,b);a.index=0;a.sibling=null;return a}function f(b,c,d){b.index=d;if(!a)return c;d=b.alternate;if(null!==d)return d=d.index,d<c?(b.flags=
2,c):d;b.flags=2;return c}function g(b){a&&null===b.alternate&&(b.flags=2);return b}function h(a,b,c,d){if(null===b||6!==b.tag)return b=De(c,a.mode,d),b.return=a,b;b=e(b,c);b.return=a;return b}function k(a,b,c,d){if(null!==b&&b.elementType===c.type)return d=e(b,c.props),d.ref=dc(a,b,c),d.return=a,d;d=fd(c.type,c.key,c.props,null,a.mode,d);d.ref=dc(a,b,c);d.return=a;return d}function v(a,b,c,d){if(null===b||4!==b.tag||b.stateNode.containerInfo!==c.containerInfo||b.stateNode.implementation!==c.implementation)return b=
Ee(c,a.mode,d),b.return=a,b;b=e(b,c.children||[]);b.return=a;return b}function l(a,b,c,d,f){if(null===b||7!==b.tag)return b=zb(c,a.mode,d,f),b.return=a,b;b=e(b,c);b.return=a;return b}function n(a,b,c){if("string"===typeof b||"number"===typeof b)return b=De(""+b,a.mode,c),b.return=a,b;if("object"===typeof b&&null!==b){switch(b.$$typeof){case ec:return c=fd(b.type,b.key,b.props,null,a.mode,c),c.ref=dc(a,null,b),c.return=a,c;case Ua:return b=Ee(b,a.mode,c),b.return=a,b}if(gd(b)||Jb(b))return b=zb(b,
a.mode,c,null),b.return=a,b;ed(a,b)}return null}function r(a,b,c,d){var e=null!==b?b.key:null;if("string"===typeof c||"number"===typeof c)return null!==e?null:h(a,b,""+c,d);if("object"===typeof c&&null!==c){switch(c.$$typeof){case ec:return c.key===e?c.type===wa?l(a,b,c.props.children,d,e):k(a,b,c,d):null;case Ua:return c.key===e?v(a,b,c,d):null}if(gd(c)||Jb(c))return null!==e?null:l(a,b,c,d,null);ed(a,c)}return null}function t(a,b,c,d,e){if("string"===typeof d||"number"===typeof d)return a=a.get(c)||
null,h(b,a,""+d,e);if("object"===typeof d&&null!==d){switch(d.$$typeof){case ec:return a=a.get(null===d.key?c:d.key)||null,d.type===wa?l(b,a,d.props.children,e,d.key):k(b,a,d,e);case Ua:return a=a.get(null===d.key?c:d.key)||null,v(b,a,d,e)}if(gd(d)||Jb(d))return a=a.get(c)||null,l(b,a,d,e,null);ed(b,d)}return null}function w(e,g,h,k){for(var m=null,v=null,l=g,p=g=0,x=null;null!==l&&p<h.length;p++){l.index>p?(x=l,l=null):x=l.sibling;var C=r(e,l,h[p],k);if(null===C){null===l&&(l=x);break}a&&l&&null===
C.alternate&&b(e,l);g=f(C,g,p);null===v?m=C:v.sibling=C;v=C;l=x}if(p===h.length)return c(e,l),m;if(null===l){for(;p<h.length;p++)l=n(e,h[p],k),null!==l&&(g=f(l,g,p),null===v?m=l:v.sibling=l,v=l);return m}for(l=d(e,l);p<h.length;p++)x=t(l,e,p,h[p],k),null!==x&&(a&&null!==x.alternate&&l.delete(null===x.key?p:x.key),g=f(x,g,p),null===v?m=x:v.sibling=x,v=x);a&&l.forEach(function(a){return b(e,a)});return m}function z(e,g,h,k){var l=Jb(h);if("function"!==typeof l)throw Error(m(150));h=l.call(h);if(null==
h)throw Error(m(151));for(var v=l=null,p=g,x=g=0,C=null,q=h.next();null!==p&&!q.done;x++,q=h.next()){p.index>x?(C=p,p=null):C=p.sibling;var Da=r(e,p,q.value,k);if(null===Da){null===p&&(p=C);break}a&&p&&null===Da.alternate&&b(e,p);g=f(Da,g,x);null===v?l=Da:v.sibling=Da;v=Da;p=C}if(q.done)return c(e,p),l;if(null===p){for(;!q.done;x++,q=h.next())q=n(e,q.value,k),null!==q&&(g=f(q,g,x),null===v?l=q:v.sibling=q,v=q);return l}for(p=d(e,p);!q.done;x++,q=h.next())q=t(p,e,x,q.value,k),null!==q&&(a&&null!==
q.alternate&&p.delete(null===q.key?x:q.key),g=f(q,g,x),null===v?l=q:v.sibling=q,v=q);a&&p.forEach(function(a){return b(e,a)});return l}return function(a,d,f,h){var k="object"===typeof f&&null!==f&&f.type===wa&&null===f.key;k&&(f=f.props.children);var l="object"===typeof f&&null!==f;if(l)switch(f.$$typeof){case ec:a:{l=f.key;for(k=d;null!==k;){if(k.key===l){switch(k.tag){case 7:if(f.type===wa){c(a,k.sibling);d=e(k,f.props.children);d.return=a;a=d;break a}break;default:if(k.elementType===f.type){c(a,
k.sibling);d=e(k,f.props);d.ref=dc(a,k,f);d.return=a;a=d;break a}}c(a,k);break}else b(a,k);k=k.sibling}f.type===wa?(d=zb(f.props.children,a.mode,h,f.key),d.return=a,a=d):(h=fd(f.type,f.key,f.props,null,a.mode,h),h.ref=dc(a,d,f),h.return=a,a=h)}return g(a);case Ua:a:{for(k=f.key;null!==d;){if(d.key===k)if(4===d.tag&&d.stateNode.containerInfo===f.containerInfo&&d.stateNode.implementation===f.implementation){c(a,d.sibling);d=e(d,f.children||[]);d.return=a;a=d;break a}else{c(a,d);break}else b(a,d);d=
d.sibling}d=Ee(f,a.mode,h);d.return=a;a=d}return g(a)}if("string"===typeof f||"number"===typeof f)return f=""+f,null!==d&&6===d.tag?(c(a,d.sibling),d=e(d,f),d.return=a,a=d):(c(a,d),d=De(f,a.mode,h),d.return=a,a=d),g(a);if(gd(f))return w(a,d,f,h);if(Jb(f))return z(a,d,f,h);l&&ed(a,f);if("undefined"===typeof f&&!k)switch(a.tag){case 1:case 22:case 0:case 11:case 15:throw Error(m(152,hb(a.type)||"Component"));}return c(a,d)}}function $a(a){if(a===fc)throw Error(m(174));return a}function Fe(a,b){A(gc,
b);A(hc,a);A(ka,fc);a=b.nodeType;switch(a){case 9:case 11:b=(b=b.documentElement)?b.namespaceURI:Rd(null,"");break;default:a=8===a?b.parentNode:b,b=a.namespaceURI||null,a=a.tagName,b=Rd(b,a)}t(ka);A(ka,b)}function Ab(a){t(ka);t(hc);t(gc)}function jh(a){$a(gc.current);var b=$a(ka.current);var c=Rd(b,a.type);b!==c&&(A(hc,a),A(ka,c))}function Ge(a){hc.current===a&&(t(ka),t(hc))}function hd(a){for(var b=a;null!==b;){if(13===b.tag){var c=b.memoizedState;if(null!==c&&(c=c.dehydrated,null===c||"$?"===c.data||
"$!"===c.data))return b}else if(19===b.tag&&void 0!==b.memoizedProps.revealOrder){if(0!==(b.flags&64))return b}else if(null!==b.child){b.child.return=b;b=b.child;continue}if(b===a)break;for(;null===b.sibling;){if(null===b.return||b.return===a)return null;b=b.return}b.sibling.return=b.return;b=b.sibling}return null}function kh(a,b){var c=Z(5,null,null,0);c.elementType="DELETED";c.type="DELETED";c.stateNode=b;c.return=a;c.flags=8;null!==a.lastEffect?(a.lastEffect.nextEffect=c,a.lastEffect=c):a.firstEffect=
a.lastEffect=c}function lh(a,b){switch(a.tag){case 5:var c=a.type;b=1!==b.nodeType||c.toLowerCase()!==b.nodeName.toLowerCase()?null:b;return null!==b?(a.stateNode=b,!0):!1;case 6:return b=""===a.pendingProps||3!==b.nodeType?null:b,null!==b?(a.stateNode=b,!0):!1;case 13:return!1;default:return!1}}function He(a){if(la){var b=Na;if(b){var c=b;if(!lh(a,b)){b=tb(c.nextSibling);if(!b||!lh(a,b)){a.flags=a.flags&-1025|2;la=!1;ra=a;return}kh(ra,c)}ra=a;Na=tb(b.firstChild)}else a.flags=a.flags&-1025|2,la=!1,
ra=a}}function mh(a){for(a=a.return;null!==a&&5!==a.tag&&3!==a.tag&&13!==a.tag;)a=a.return;ra=a}function id(a){if(a!==ra)return!1;if(!la)return mh(a),la=!0,!1;var b=a.type;if(5!==a.tag||"head"!==b&&"body"!==b&&!se(b,a.memoizedProps))for(b=Na;b;)kh(a,b),b=tb(b.nextSibling);mh(a);if(13===a.tag){a=a.memoizedState;a=null!==a?a.dehydrated:null;if(!a)throw Error(m(317));a:{a=a.nextSibling;for(b=0;a;){if(8===a.nodeType){var c=a.data;if("/$"===c){if(0===b){Na=tb(a.nextSibling);break a}b--}else"$"!==c&&"$!"!==
c&&"$?"!==c||b++}a=a.nextSibling}Na=null}}else Na=ra?tb(a.stateNode.nextSibling):null;return!0}function Ie(){Na=ra=null;la=!1}function Je(){for(var a=0;a<Bb.length;a++)Bb[a]._workInProgressVersionPrimary=null;Bb.length=0}function T(){throw Error(m(321));}function Ke(a,b){if(null===b)return!1;for(var c=0;c<b.length&&c<a.length;c++)if(!X(a[c],b[c]))return!1;return!0}function Le(a,b,c,d,e,f){ic=f;y=b;b.memoizedState=null;b.updateQueue=null;b.lanes=0;jc.current=null===a||null===a.memoizedState?qj:rj;
a=c(d,e);if(kc){f=0;do{kc=!1;if(!(25>f))throw Error(m(301));f+=1;K=N=null;b.updateQueue=null;jc.current=sj;a=c(d,e)}while(kc)}jc.current=jd;b=null!==N&&null!==N.next;ic=0;K=N=y=null;kd=!1;if(b)throw Error(m(300));return a}function ab(){var a={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};null===K?y.memoizedState=K=a:K=K.next=a;return K}function bb(){if(null===N){var a=y.alternate;a=null!==a?a.memoizedState:null}else a=N.next;var b=null===K?y.memoizedState:K.next;if(null!==
b)K=b,N=a;else{if(null===a)throw Error(m(310));N=a;a={memoizedState:N.memoizedState,baseState:N.baseState,baseQueue:N.baseQueue,queue:N.queue,next:null};null===K?y.memoizedState=K=a:K=K.next=a}return K}function ma(a,b){return"function"===typeof b?b(a):b}function lc(a,b,c){b=bb();c=b.queue;if(null===c)throw Error(m(311));c.lastRenderedReducer=a;var d=N,e=d.baseQueue,f=c.pending;if(null!==f){if(null!==e){var g=e.next;e.next=f.next;f.next=g}d.baseQueue=e=f;c.pending=null}if(null!==e){e=e.next;d=d.baseState;
var h=g=f=null,k=e;do{var l=k.lane;if((ic&l)===l)null!==h&&(h=h.next={lane:0,action:k.action,eagerReducer:k.eagerReducer,eagerState:k.eagerState,next:null}),d=k.eagerReducer===a?k.eagerState:a(d,k.action);else{var n={lane:l,action:k.action,eagerReducer:k.eagerReducer,eagerState:k.eagerState,next:null};null===h?(g=h=n,f=d):h=h.next=n;y.lanes|=l;La|=l}k=k.next}while(null!==k&&k!==e);null===h?f=d:h.next=g;X(d,b.memoizedState)||(fa=!0);b.memoizedState=d;b.baseState=f;b.baseQueue=h;c.lastRenderedState=
d}return[b.memoizedState,c.dispatch]}function mc(a,b,c){b=bb();c=b.queue;if(null===c)throw Error(m(311));c.lastRenderedReducer=a;var d=c.dispatch,e=c.pending,f=b.memoizedState;if(null!==e){c.pending=null;var g=e=e.next;do f=a(f,g.action),g=g.next;while(g!==e);X(f,b.memoizedState)||(fa=!0);b.memoizedState=f;null===b.baseQueue&&(b.baseState=f);c.lastRenderedState=f}return[f,d]}function nh(a,b,c){var d=b._getVersion;d=d(b._source);var e=b._workInProgressVersionPrimary;if(null!==e)a=e===d;else if(a=a.mutableReadLanes,
a=(ic&a)===a)b._workInProgressVersionPrimary=d,Bb.push(b);if(a)return c(b._source);Bb.push(b);throw Error(m(350));}function oh(a,b,c,d){var e=R;if(null===e)throw Error(m(349));var f=b._getVersion,g=f(b._source),h=jc.current,k=h.useState(function(){return nh(e,b,c)}),l=k[1],n=k[0];k=K;var t=a.memoizedState,r=t.refs,w=r.getSnapshot,z=t.source;t=t.subscribe;var B=y;a.memoizedState={refs:r,source:b,subscribe:d};h.useEffect(function(){r.getSnapshot=c;r.setSnapshot=l;var a=f(b._source);if(!X(g,a)){a=c(b._source);
X(n,a)||(l(a),a=Oa(B),e.mutableReadLanes|=a&e.pendingLanes);a=e.mutableReadLanes;e.entangledLanes|=a;for(var d=e.entanglements,h=a;0<h;){var k=31-Ba(h),m=1<<k;d[k]|=a;h&=~m}}},[c,b,d]);h.useEffect(function(){return d(b._source,function(){var a=r.getSnapshot,c=r.setSnapshot;try{c(a(b._source));var d=Oa(B);e.mutableReadLanes|=d&e.pendingLanes}catch(q){c(function(){throw q;})}})},[b,d]);X(w,c)&&X(z,b)&&X(t,d)||(a={pending:null,dispatch:null,lastRenderedReducer:ma,lastRenderedState:n},a.dispatch=l=Me.bind(null,
y,a),k.queue=a,k.baseQueue=null,n=nh(e,b,c),k.memoizedState=k.baseState=n);return n}function ph(a,b,c){var d=bb();return oh(d,a,b,c)}function nc(a){var b=ab();"function"===typeof a&&(a=a());b.memoizedState=b.baseState=a;a=b.queue={pending:null,dispatch:null,lastRenderedReducer:ma,lastRenderedState:a};a=a.dispatch=Me.bind(null,y,a);return[b.memoizedState,a]}function ld(a,b,c,d){a={tag:a,create:b,destroy:c,deps:d,next:null};b=y.updateQueue;null===b?(b={lastEffect:null},y.updateQueue=b,b.lastEffect=
a.next=a):(c=b.lastEffect,null===c?b.lastEffect=a.next=a:(d=c.next,c.next=a,a.next=d,b.lastEffect=a));return a}function qh(a){var b=ab();a={current:a};return b.memoizedState=a}function md(a){return bb().memoizedState}function Ne(a,b,c,d){var e=ab();y.flags|=a;e.memoizedState=ld(1|b,c,void 0,void 0===d?null:d)}function Oe(a,b,c,d){var e=bb();d=void 0===d?null:d;var f=void 0;if(null!==N){var g=N.memoizedState;f=g.destroy;if(null!==d&&Ke(d,g.deps)){ld(b,c,f,d);return}}y.flags|=a;e.memoizedState=ld(1|
b,c,f,d)}function rh(a,b){return Ne(516,4,a,b)}function nd(a,b){return Oe(516,4,a,b)}function sh(a,b){return Oe(4,2,a,b)}function th(a,b){if("function"===typeof b)return a=a(),b(a),function(){b(null)};if(null!==b&&void 0!==b)return a=a(),b.current=a,function(){b.current=null}}function uh(a,b,c){c=null!==c&&void 0!==c?c.concat([a]):null;return Oe(4,2,th.bind(null,b,a),c)}function Pe(a,b){}function vh(a,b){var c=bb();b=void 0===b?null:b;var d=c.memoizedState;if(null!==d&&null!==b&&Ke(b,d[1]))return d[0];
c.memoizedState=[a,b];return a}function wh(a,b){var c=bb();b=void 0===b?null:b;var d=c.memoizedState;if(null!==d&&null!==b&&Ke(b,d[1]))return d[0];a=a();c.memoizedState=[a,b];return a}function tj(a,b){var c=wb();Za(98>c?98:c,function(){a(!0)});Za(97<c?97:c,function(){var c=aa.transition;aa.transition=1;try{a(!1),b()}finally{aa.transition=c}})}function Me(a,b,c){var d=W(),e=Oa(a),f={lane:e,action:c,eagerReducer:null,eagerState:null,next:null},g=b.pending;null===g?f.next=f:(f.next=g.next,g.next=f);
b.pending=f;g=a.alternate;if(a===y||null!==g&&g===y)kc=kd=!0;else{if(0===a.lanes&&(null===g||0===g.lanes)&&(g=b.lastRenderedReducer,null!==g))try{var h=b.lastRenderedState,k=g(h,c);f.eagerReducer=g;f.eagerState=k;if(X(k,h))return}catch(v){}finally{}Pa(a,e,d)}}function U(a,b,c,d){b.child=null===a?xh(b,null,c,d):od(b,a.child,c,d)}function yh(a,b,c,d,e){c=c.render;var f=b.ref;yb(b,e);d=Le(a,b,c,d,f,e);if(null!==a&&!fa)return b.updateQueue=a.updateQueue,b.flags&=-517,a.lanes&=~e,sa(a,b,e);b.flags|=1;
U(a,b,d,e);return b.child}function zh(a,b,c,d,e,f){if(null===a){var g=c.type;if("function"===typeof g&&!Qe(g)&&void 0===g.defaultProps&&null===c.compare&&void 0===c.defaultProps)return b.tag=15,b.type=g,Ah(a,b,g,d,e,f);a=fd(c.type,null,d,b,b.mode,f);a.ref=b.ref;a.return=b;return b.child=a}g=a.child;if(0===(e&f)&&(e=g.memoizedProps,c=c.compare,c=null!==c?c:Zb,c(e,d)&&a.ref===b.ref))return sa(a,b,f);b.flags|=1;a=Ma(g,d);a.ref=b.ref;a.return=b;return b.child=a}function Ah(a,b,c,d,e,f){if(null!==a&&Zb(a.memoizedProps,
d)&&a.ref===b.ref)if(fa=!1,0!==(f&e))0!==(a.flags&16384)&&(fa=!0);else return b.lanes=a.lanes,sa(a,b,f);return Re(a,b,c,d,f)}function Se(a,b,c){var d=b.pendingProps,e=d.children,f=null!==a?a.memoizedState:null;if("hidden"===d.mode||"unstable-defer-without-hiding"===d.mode)if(0===(b.mode&4))b.memoizedState={baseLanes:0},pd(b,c);else if(0!==(c&1073741824))b.memoizedState={baseLanes:0},pd(b,null!==f?f.baseLanes:c);else return a=null!==f?f.baseLanes|c:c,b.lanes=b.childLanes=1073741824,b.memoizedState=
{baseLanes:a},pd(b,a),null;else null!==f?(d=f.baseLanes|c,b.memoizedState=null):d=c,pd(b,d);U(a,b,e,c);return b.child}function Bh(a,b){var c=b.ref;if(null===a&&null!==c||null!==a&&a.ref!==c)b.flags|=128}function Re(a,b,c,d,e){var f=S(c)?Ya:D.current;f=vb(b,f);yb(b,e);c=Le(a,b,c,d,f,e);if(null!==a&&!fa)return b.updateQueue=a.updateQueue,b.flags&=-517,a.lanes&=~e,sa(a,b,e);b.flags|=1;U(a,b,c,e);return b.child}function Ch(a,b,c,d,e){if(S(c)){var f=!0;Xc(b)}else f=!1;yb(b,e);if(null===b.stateNode)null!==
a&&(a.alternate=null,b.alternate=null,b.flags|=2),fh(b,c,d),Ce(b,c,d,e),d=!0;else if(null===a){var g=b.stateNode,h=b.memoizedProps;g.props=h;var k=g.context,l=c.contextType;"object"===typeof l&&null!==l?l=Y(l):(l=S(c)?Ya:D.current,l=vb(b,l));var m=c.getDerivedStateFromProps,n="function"===typeof m||"function"===typeof g.getSnapshotBeforeUpdate;n||"function"!==typeof g.UNSAFE_componentWillReceiveProps&&"function"!==typeof g.componentWillReceiveProps||(h!==d||k!==l)&&gh(b,g,d,l);Ka=!1;var r=b.memoizedState;
g.state=r;cc(b,d,g,e);k=b.memoizedState;h!==d||r!==k||J.current||Ka?("function"===typeof m&&(cd(b,c,m,d),k=b.memoizedState),(h=Ka||eh(b,c,h,d,r,k,l))?(n||"function"!==typeof g.UNSAFE_componentWillMount&&"function"!==typeof g.componentWillMount||("function"===typeof g.componentWillMount&&g.componentWillMount(),"function"===typeof g.UNSAFE_componentWillMount&&g.UNSAFE_componentWillMount()),"function"===typeof g.componentDidMount&&(b.flags|=4)):("function"===typeof g.componentDidMount&&(b.flags|=4),
b.memoizedProps=d,b.memoizedState=k),g.props=d,g.state=k,g.context=l,d=h):("function"===typeof g.componentDidMount&&(b.flags|=4),d=!1)}else{g=b.stateNode;bh(a,b);h=b.memoizedProps;l=b.type===b.elementType?h:ea(b.type,h);g.props=l;n=b.pendingProps;r=g.context;k=c.contextType;"object"===typeof k&&null!==k?k=Y(k):(k=S(c)?Ya:D.current,k=vb(b,k));var t=c.getDerivedStateFromProps;(m="function"===typeof t||"function"===typeof g.getSnapshotBeforeUpdate)||"function"!==typeof g.UNSAFE_componentWillReceiveProps&&
"function"!==typeof g.componentWillReceiveProps||(h!==n||r!==k)&&gh(b,g,d,k);Ka=!1;r=b.memoizedState;g.state=r;cc(b,d,g,e);var w=b.memoizedState;h!==n||r!==w||J.current||Ka?("function"===typeof t&&(cd(b,c,t,d),w=b.memoizedState),(l=Ka||eh(b,c,l,d,r,w,k))?(m||"function"!==typeof g.UNSAFE_componentWillUpdate&&"function"!==typeof g.componentWillUpdate||("function"===typeof g.componentWillUpdate&&g.componentWillUpdate(d,w,k),"function"===typeof g.UNSAFE_componentWillUpdate&&g.UNSAFE_componentWillUpdate(d,
w,k)),"function"===typeof g.componentDidUpdate&&(b.flags|=4),"function"===typeof g.getSnapshotBeforeUpdate&&(b.flags|=256)):("function"!==typeof g.componentDidUpdate||h===a.memoizedProps&&r===a.memoizedState||(b.flags|=4),"function"!==typeof g.getSnapshotBeforeUpdate||h===a.memoizedProps&&r===a.memoizedState||(b.flags|=256),b.memoizedProps=d,b.memoizedState=w),g.props=d,g.state=w,g.context=k,d=l):("function"!==typeof g.componentDidUpdate||h===a.memoizedProps&&r===a.memoizedState||(b.flags|=4),"function"!==
typeof g.getSnapshotBeforeUpdate||h===a.memoizedProps&&r===a.memoizedState||(b.flags|=256),d=!1)}return Te(a,b,c,d,f,e)}function Te(a,b,c,d,e,f){Bh(a,b);var g=0!==(b.flags&64);if(!d&&!g)return e&&Ug(b,c,!1),sa(a,b,f);d=b.stateNode;uj.current=b;var h=g&&"function"!==typeof c.getDerivedStateFromError?null:d.render();b.flags|=1;null!==a&&g?(b.child=od(b,a.child,null,f),b.child=od(b,null,h,f)):U(a,b,h,f);b.memoizedState=d.state;e&&Ug(b,c,!0);return b.child}function Dh(a){var b=a.stateNode;b.pendingContext?
Sg(a,b.pendingContext,b.pendingContext!==b.context):b.context&&Sg(a,b.context,!1);Fe(a,b.containerInfo)}function Eh(a,b,c){var d=b.pendingProps,e=E.current,f=!1,g;(g=0!==(b.flags&64))||(g=null!==a&&null===a.memoizedState?!1:0!==(e&2));g?(f=!0,b.flags&=-65):null!==a&&null===a.memoizedState||void 0===d.fallback||!0===d.unstable_avoidThisFallback||(e|=1);A(E,e&1);if(null===a){void 0!==d.fallback&&He(b);a=d.children;e=d.fallback;if(f)return a=Fh(b,a,e,c),b.child.memoizedState={baseLanes:c},b.memoizedState=
qd,a;if("number"===typeof d.unstable_expectedLoadTime)return a=Fh(b,a,e,c),b.child.memoizedState={baseLanes:c},b.memoizedState=qd,b.lanes=33554432,a;c=Ue({mode:"visible",children:a},b.mode,c,null);c.return=b;return b.child=c}if(null!==a.memoizedState){if(f)return d=Gh(a,b,d.children,d.fallback,c),f=b.child,e=a.child.memoizedState,f.memoizedState=null===e?{baseLanes:c}:{baseLanes:e.baseLanes|c},f.childLanes=a.childLanes&~c,b.memoizedState=qd,d;c=Hh(a,b,d.children,c);b.memoizedState=null;return c}if(f)return d=
Gh(a,b,d.children,d.fallback,c),f=b.child,e=a.child.memoizedState,f.memoizedState=null===e?{baseLanes:c}:{baseLanes:e.baseLanes|c},f.childLanes=a.childLanes&~c,b.memoizedState=qd,d;c=Hh(a,b,d.children,c);b.memoizedState=null;return c}function Fh(a,b,c,d){var e=a.mode,f=a.child;b={mode:"hidden",children:b};0===(e&2)&&null!==f?(f.childLanes=0,f.pendingProps=b):f=Ue(b,e,0,null);c=zb(c,e,d,null);f.return=a;c.return=a;f.sibling=c;a.child=f;return c}function Hh(a,b,c,d){var e=a.child;a=e.sibling;c=Ma(e,
{mode:"visible",children:c});0===(b.mode&2)&&(c.lanes=d);c.return=b;c.sibling=null;null!==a&&(a.nextEffect=null,a.flags=8,b.firstEffect=b.lastEffect=a);return b.child=c}function Gh(a,b,c,d,e){var f=b.mode,g=a.child;a=g.sibling;var h={mode:"hidden",children:c};0===(f&2)&&b.child!==g?(c=b.child,c.childLanes=0,c.pendingProps=h,g=c.lastEffect,null!==g?(b.firstEffect=c.firstEffect,b.lastEffect=g,g.nextEffect=null):b.firstEffect=b.lastEffect=null):c=Ma(g,h);null!==a?d=Ma(a,d):(d=zb(d,f,e,null),d.flags|=
2);d.return=b;c.return=b;c.sibling=d;b.child=c;return d}function Ih(a,b){a.lanes|=b;var c=a.alternate;null!==c&&(c.lanes|=b);ah(a.return,b)}function Ve(a,b,c,d,e,f){var g=a.memoizedState;null===g?a.memoizedState={isBackwards:b,rendering:null,renderingStartTime:0,last:d,tail:c,tailMode:e,lastEffect:f}:(g.isBackwards=b,g.rendering=null,g.renderingStartTime=0,g.last=d,g.tail=c,g.tailMode=e,g.lastEffect=f)}function Jh(a,b,c){var d=b.pendingProps,e=d.revealOrder,f=d.tail;U(a,b,d.children,c);d=E.current;
if(0!==(d&2))d=d&1|2,b.flags|=64;else{if(null!==a&&0!==(a.flags&64))a:for(a=b.child;null!==a;){if(13===a.tag)null!==a.memoizedState&&Ih(a,c);else if(19===a.tag)Ih(a,c);else if(null!==a.child){a.child.return=a;a=a.child;continue}if(a===b)break a;for(;null===a.sibling;){if(null===a.return||a.return===b)break a;a=a.return}a.sibling.return=a.return;a=a.sibling}d&=1}A(E,d);if(0===(b.mode&2))b.memoizedState=null;else switch(e){case "forwards":c=b.child;for(e=null;null!==c;)a=c.alternate,null!==a&&null===
hd(a)&&(e=c),c=c.sibling;c=e;null===c?(e=b.child,b.child=null):(e=c.sibling,c.sibling=null);Ve(b,!1,e,c,f,b.lastEffect);break;case "backwards":c=null;e=b.child;for(b.child=null;null!==e;){a=e.alternate;if(null!==a&&null===hd(a)){b.child=e;break}a=e.sibling;e.sibling=c;c=e;e=a}Ve(b,!0,c,null,f,b.lastEffect);break;case "together":Ve(b,!1,null,null,void 0,b.lastEffect);break;default:b.memoizedState=null}return b.child}function sa(a,b,c){null!==a&&(b.dependencies=a.dependencies);La|=b.lanes;if(0!==(c&
b.childLanes)){if(null!==a&&b.child!==a.child)throw Error(m(153));if(null!==b.child){a=b.child;c=Ma(a,a.pendingProps);b.child=c;for(c.return=b;null!==a.sibling;)a=a.sibling,c=c.sibling=Ma(a,a.pendingProps),c.return=b;c.sibling=null}return b.child}return null}function oc(a,b){if(!la)switch(a.tailMode){case "hidden":b=a.tail;for(var c=null;null!==b;)null!==b.alternate&&(c=b),b=b.sibling;null===c?a.tail=null:c.sibling=null;break;case "collapsed":c=a.tail;for(var d=null;null!==c;)null!==c.alternate&&
(d=c),c=c.sibling;null===d?b||null===a.tail?a.tail=null:a.tail.sibling=null:d.sibling=null}}function vj(a,b,c){var d=b.pendingProps;switch(b.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:return S(b.type)&&(t(J),t(D)),null;case 3:Ab();t(J);t(D);Je();d=b.stateNode;d.pendingContext&&(d.context=d.pendingContext,d.pendingContext=null);if(null===a||null===a.child)id(b)?b.flags|=4:d.hydrate||(b.flags|=256);Kh(b);return null;case 5:Ge(b);var e=$a(gc.current);
c=b.type;if(null!==a&&null!=b.stateNode)wj(a,b,c,d,e),a.ref!==b.ref&&(b.flags|=128);else{if(!d){if(null===b.stateNode)throw Error(m(166));return null}a=$a(ka.current);if(id(b)){d=b.stateNode;c=b.type;var f=b.memoizedProps;d[Fa]=b;d[Wc]=f;switch(c){case "dialog":z("cancel",d);z("close",d);break;case "iframe":case "object":case "embed":z("load",d);break;case "video":case "audio":for(a=0;a<pc.length;a++)z(pc[a],d);break;case "source":z("error",d);break;case "img":case "image":case "link":z("error",d);
z("load",d);break;case "details":z("toggle",d);break;case "input":Gf(d,f);z("invalid",d);break;case "select":d._wrapperState={wasMultiple:!!f.multiple};z("invalid",d);break;case "textarea":Jf(d,f),z("invalid",d)}Sd(c,f);a=null;for(var g in f)f.hasOwnProperty(g)&&(e=f[g],"children"===g?"string"===typeof e?d.textContent!==e&&(a=["children",e]):"number"===typeof e&&d.textContent!==""+e&&(a=["children",""+e]):Ib.hasOwnProperty(g)&&null!=e&&"onScroll"===g&&z("scroll",d));switch(c){case "input":Fc(d);If(d,
f,!0);break;case "textarea":Fc(d);Lf(d);break;case "select":case "option":break;default:"function"===typeof f.onClick&&(d.onclick=Vc)}d=a;b.updateQueue=d;null!==d&&(b.flags|=4)}else{g=9===e.nodeType?e:e.ownerDocument;"http://www.w3.org/1999/xhtml"===a&&(a=Mf(c));"http://www.w3.org/1999/xhtml"===a?"script"===c?(a=g.createElement("div"),a.innerHTML="<script>\x3c/script>",a=a.removeChild(a.firstChild)):"string"===typeof d.is?a=g.createElement(c,{is:d.is}):(a=g.createElement(c),"select"===c&&(g=a,d.multiple?
g.multiple=!0:d.size&&(g.size=d.size))):a=g.createElementNS(a,c);a[Fa]=b;a[Wc]=d;xj(a,b,!1,!1);b.stateNode=a;g=Td(c,d);switch(c){case "dialog":z("cancel",a);z("close",a);e=d;break;case "iframe":case "object":case "embed":z("load",a);e=d;break;case "video":case "audio":for(e=0;e<pc.length;e++)z(pc[e],a);e=d;break;case "source":z("error",a);e=d;break;case "img":case "image":case "link":z("error",a);z("load",a);e=d;break;case "details":z("toggle",a);e=d;break;case "input":Gf(a,d);e=Md(a,d);z("invalid",
a);break;case "option":e=Pd(a,d);break;case "select":a._wrapperState={wasMultiple:!!d.multiple};e=B({},d,{value:void 0});z("invalid",a);break;case "textarea":Jf(a,d);e=Qd(a,d);z("invalid",a);break;default:e=d}Sd(c,e);var h=e;for(f in h)if(h.hasOwnProperty(f)){var k=h[f];"style"===f?Of(a,k):"dangerouslySetInnerHTML"===f?(k=k?k.__html:void 0,null!=k&&Lh(a,k)):"children"===f?"string"===typeof k?("textarea"!==c||""!==k)&&qc(a,k):"number"===typeof k&&qc(a,""+k):"suppressContentEditableWarning"!==f&&"suppressHydrationWarning"!==
f&&"autoFocus"!==f&&(Ib.hasOwnProperty(f)?null!=k&&"onScroll"===f&&z("scroll",a):null!=k&&Ed(a,f,k,g))}switch(c){case "input":Fc(a);If(a,d,!1);break;case "textarea":Fc(a);Lf(a);break;case "option":null!=d.value&&a.setAttribute("value",""+xa(d.value));break;case "select":a.multiple=!!d.multiple;f=d.value;null!=f?ib(a,!!d.multiple,f,!1):null!=d.defaultValue&&ib(a,!!d.multiple,d.defaultValue,!0);break;default:"function"===typeof e.onClick&&(a.onclick=Vc)}Pg(c,d)&&(b.flags|=4)}null!==b.ref&&(b.flags|=
128)}return null;case 6:if(a&&null!=b.stateNode)yj(a,b,a.memoizedProps,d);else{if("string"!==typeof d&&null===b.stateNode)throw Error(m(166));c=$a(gc.current);$a(ka.current);id(b)?(d=b.stateNode,c=b.memoizedProps,d[Fa]=b,d.nodeValue!==c&&(b.flags|=4)):(d=(9===c.nodeType?c:c.ownerDocument).createTextNode(d),d[Fa]=b,b.stateNode=d)}return null;case 13:t(E);d=b.memoizedState;if(0!==(b.flags&64))return b.lanes=c,b;d=null!==d;c=!1;null===a?void 0!==b.memoizedProps.fallback&&id(b):c=null!==a.memoizedState;
if(d&&!c&&0!==(b.mode&2))if(null===a&&!0!==b.memoizedProps.unstable_avoidThisFallback||0!==(E.current&1))0===L&&(L=3);else{if(0===L||3===L)L=4;null===R||0===(La&134217727)&&0===(Cb&134217727)||Db(R,O)}if(d||c)b.flags|=4;return null;case 4:return Ab(),Kh(b),null===a&&Cg(b.stateNode.containerInfo),null;case 10:return Ae(b),null;case 17:return S(b.type)&&(t(J),t(D)),null;case 19:t(E);d=b.memoizedState;if(null===d)return null;f=0!==(b.flags&64);g=d.rendering;if(null===g)if(f)oc(d,!1);else{if(0!==L||null!==
a&&0!==(a.flags&64))for(a=b.child;null!==a;){g=hd(a);if(null!==g){b.flags|=64;oc(d,!1);f=g.updateQueue;null!==f&&(b.updateQueue=f,b.flags|=4);null===d.lastEffect&&(b.firstEffect=null);b.lastEffect=d.lastEffect;d=c;for(c=b.child;null!==c;)f=c,a=d,f.flags&=2,f.nextEffect=null,f.firstEffect=null,f.lastEffect=null,g=f.alternate,null===g?(f.childLanes=0,f.lanes=a,f.child=null,f.memoizedProps=null,f.memoizedState=null,f.updateQueue=null,f.dependencies=null,f.stateNode=null):(f.childLanes=g.childLanes,f.lanes=
g.lanes,f.child=g.child,f.memoizedProps=g.memoizedProps,f.memoizedState=g.memoizedState,f.updateQueue=g.updateQueue,f.type=g.type,a=g.dependencies,f.dependencies=null===a?null:{lanes:a.lanes,firstContext:a.firstContext}),c=c.sibling;A(E,E.current&1|2);return b.child}a=a.sibling}null!==d.tail&&P()>We&&(b.flags|=64,f=!0,oc(d,!1),b.lanes=33554432)}else{if(!f)if(a=hd(g),null!==a){if(b.flags|=64,f=!0,c=a.updateQueue,null!==c&&(b.updateQueue=c,b.flags|=4),oc(d,!0),null===d.tail&&"hidden"===d.tailMode&&
!g.alternate&&!la)return b=b.lastEffect=d.lastEffect,null!==b&&(b.nextEffect=null),null}else 2*P()-d.renderingStartTime>We&&1073741824!==c&&(b.flags|=64,f=!0,oc(d,!1),b.lanes=33554432);d.isBackwards?(g.sibling=b.child,b.child=g):(c=d.last,null!==c?c.sibling=g:b.child=g,d.last=g)}return null!==d.tail?(c=d.tail,d.rendering=c,d.tail=c.sibling,d.lastEffect=b.lastEffect,d.renderingStartTime=P(),c.sibling=null,b=E.current,A(E,f?b&1|2:b&1),c):null;case 23:case 24:return ta=cb.current,t(cb),null!==a&&null!==
a.memoizedState!==(null!==b.memoizedState)&&"unstable-defer-without-hiding"!==d.mode&&(b.flags|=4),null}throw Error(m(156,b.tag));}function zj(a,b){switch(a.tag){case 1:return S(a.type)&&(t(J),t(D)),b=a.flags,b&4096?(a.flags=b&-4097|64,a):null;case 3:Ab();t(J);t(D);Je();b=a.flags;if(0!==(b&64))throw Error(m(285));a.flags=b&-4097|64;return a;case 5:return Ge(a),null;case 13:return t(E),b=a.flags,b&4096?(a.flags=b&-4097|64,a):null;case 19:return t(E),null;case 4:return Ab(),null;case 10:return Ae(a),
null;case 23:case 24:return ta=cb.current,t(cb),null;default:return null}}function Xe(a,b){try{var c="",d=b;do c+=pi(d),d=d.return;while(d);var e=c}catch(f){e="\nError generating stack: "+f.message+"\n"+f.stack}return{value:a,source:b,stack:e}}function Ye(a,b){try{console.error(b.value)}catch(c){setTimeout(function(){throw c;})}}function Mh(a,b,c){c=Ia(-1,c);c.tag=3;c.payload={element:null};var d=b.value;c.callback=function(){rd||(rd=!0,Ze=d);Ye(a,b)};return c}function Nh(a,b,c){c=Ia(-1,c);c.tag=
3;var d=a.type.getDerivedStateFromError;if("function"===typeof d){var e=b.value;c.payload=function(){Ye(a,b);return d(e)}}var f=a.stateNode;null!==f&&"function"===typeof f.componentDidCatch&&(c.callback=function(){"function"!==typeof d&&(null===na?na=new Set([this]):na.add(this),Ye(a,b));var c=b.stack;this.componentDidCatch(b.value,{componentStack:null!==c?c:""})});return c}function Oh(a){var b=a.ref;if(null!==b)if("function"===typeof b)try{b(null)}catch(c){Qa(a,c)}else b.current=null}function Aj(a,
b){switch(b.tag){case 0:case 11:case 15:case 22:return;case 1:if(b.flags&256&&null!==a){var c=a.memoizedProps,d=a.memoizedState;a=b.stateNode;b=a.getSnapshotBeforeUpdate(b.elementType===b.type?c:ea(b.type,c),d);a.__reactInternalSnapshotBeforeUpdate=b}return;case 3:b.flags&256&&te(b.stateNode.containerInfo);return;case 5:case 6:case 4:case 17:return}throw Error(m(163));}function Bj(a,b,c,d){switch(c.tag){case 0:case 11:case 15:case 22:b=c.updateQueue;b=null!==b?b.lastEffect:null;if(null!==b){a=b=b.next;
do 3===(a.tag&3)&&(d=a.create,a.destroy=d()),a=a.next;while(a!==b)}b=c.updateQueue;b=null!==b?b.lastEffect:null;if(null!==b){a=b=b.next;do{var e=a;d=e.next;e=e.tag;0!==(e&4)&&0!==(e&1)&&(Ph(c,a),Cj(c,a));a=d}while(a!==b)}return;case 1:a=c.stateNode;c.flags&4&&(null===b?a.componentDidMount():(d=c.elementType===c.type?b.memoizedProps:ea(c.type,b.memoizedProps),a.componentDidUpdate(d,b.memoizedState,a.__reactInternalSnapshotBeforeUpdate)));b=c.updateQueue;null!==b&&dh(c,b,a);return;case 3:b=c.updateQueue;
if(null!==b){a=null;if(null!==c.child)switch(c.child.tag){case 5:a=c.child.stateNode;break;case 1:a=c.child.stateNode}dh(c,b,a)}return;case 5:a=c.stateNode;null===b&&c.flags&4&&Pg(c.type,c.memoizedProps)&&a.focus();return;case 6:return;case 4:return;case 12:return;case 13:null===c.memoizedState&&(c=c.alternate,null!==c&&(c=c.memoizedState,null!==c&&(c=c.dehydrated,null!==c&&bg(c))));return;case 19:case 17:case 20:case 21:case 23:case 24:return}throw Error(m(163));}function Qh(a,b){for(var c=a;;){if(5===
c.tag){var d=c.stateNode;if(b)d=d.style,"function"===typeof d.setProperty?d.setProperty("display","none","important"):d.display="none";else{d=c.stateNode;var e=c.memoizedProps.style;e=void 0!==e&&null!==e&&e.hasOwnProperty("display")?e.display:null;d.style.display=Nf("display",e)}}else if(6===c.tag)c.stateNode.nodeValue=b?"":c.memoizedProps;else if((23!==c.tag&&24!==c.tag||null===c.memoizedState||c===a)&&null!==c.child){c.child.return=c;c=c.child;continue}if(c===a)break;for(;null===c.sibling;){if(null===
c.return||c.return===a)return;c=c.return}c.sibling.return=c.return;c=c.sibling}}function Rh(a,b,c){if(db&&"function"===typeof db.onCommitFiberUnmount)try{db.onCommitFiberUnmount($e,b)}catch(f){}switch(b.tag){case 0:case 11:case 14:case 15:case 22:a=b.updateQueue;if(null!==a&&(a=a.lastEffect,null!==a)){c=a=a.next;do{var d=c,e=d.destroy;d=d.tag;if(void 0!==e)if(0!==(d&4))Ph(b,c);else{d=b;try{e()}catch(f){Qa(d,f)}}c=c.next}while(c!==a)}break;case 1:Oh(b);a=b.stateNode;if("function"===typeof a.componentWillUnmount)try{a.props=
b.memoizedProps,a.state=b.memoizedState,a.componentWillUnmount()}catch(f){Qa(b,f)}break;case 5:Oh(b);break;case 4:Sh(a,b)}}function Th(a){a.alternate=null;a.child=null;a.dependencies=null;a.firstEffect=null;a.lastEffect=null;a.memoizedProps=null;a.memoizedState=null;a.pendingProps=null;a.return=null;a.updateQueue=null}function Uh(a){return 5===a.tag||3===a.tag||4===a.tag}function Vh(a){a:{for(var b=a.return;null!==b;){if(Uh(b))break a;b=b.return}throw Error(m(160));}var c=b;b=c.stateNode;switch(c.tag){case 5:var d=
!1;break;case 3:b=b.containerInfo;d=!0;break;case 4:b=b.containerInfo;d=!0;break;default:throw Error(m(161));}c.flags&16&&(qc(b,""),c.flags&=-17);a:b:for(c=a;;){for(;null===c.sibling;){if(null===c.return||Uh(c.return)){c=null;break a}c=c.return}c.sibling.return=c.return;for(c=c.sibling;5!==c.tag&&6!==c.tag&&18!==c.tag;){if(c.flags&2)continue b;if(null===c.child||4===c.tag)continue b;else c.child.return=c,c=c.child}if(!(c.flags&2)){c=c.stateNode;break a}}d?af(a,c,b):bf(a,c,b)}function af(a,b,c){var d=
a.tag,e=5===d||6===d;if(e)a=e?a.stateNode:a.stateNode.instance,b?8===c.nodeType?c.parentNode.insertBefore(a,b):c.insertBefore(a,b):(8===c.nodeType?(b=c.parentNode,b.insertBefore(a,c)):(b=c,b.appendChild(a)),c=c._reactRootContainer,null!==c&&void 0!==c||null!==b.onclick||(b.onclick=Vc));else if(4!==d&&(a=a.child,null!==a))for(af(a,b,c),a=a.sibling;null!==a;)af(a,b,c),a=a.sibling}function bf(a,b,c){var d=a.tag,e=5===d||6===d;if(e)a=e?a.stateNode:a.stateNode.instance,b?c.insertBefore(a,b):c.appendChild(a);
else if(4!==d&&(a=a.child,null!==a))for(bf(a,b,c),a=a.sibling;null!==a;)bf(a,b,c),a=a.sibling}function Sh(a,b,c){c=b;for(var d=!1,e,f;;){if(!d){e=c.return;a:for(;;){if(null===e)throw Error(m(160));f=e.stateNode;switch(e.tag){case 5:e=f;f=!1;break a;case 3:e=f.containerInfo;f=!0;break a;case 4:e=f.containerInfo;f=!0;break a}e=e.return}d=!0}if(5===c.tag||6===c.tag){a:for(var g=a,h=c,k=h;;)if(Rh(g,k),null!==k.child&&4!==k.tag)k.child.return=k,k=k.child;else{if(k===h)break a;for(;null===k.sibling;){if(null===
k.return||k.return===h)break a;k=k.return}k.sibling.return=k.return;k=k.sibling}f?(g=e,h=c.stateNode,8===g.nodeType?g.parentNode.removeChild(h):g.removeChild(h)):e.removeChild(c.stateNode)}else if(4===c.tag){if(null!==c.child){e=c.stateNode.containerInfo;f=!0;c.child.return=c;c=c.child;continue}}else if(Rh(a,c),null!==c.child){c.child.return=c;c=c.child;continue}if(c===b)break;for(;null===c.sibling;){if(null===c.return||c.return===b)return;c=c.return;4===c.tag&&(d=!1)}c.sibling.return=c.return;c=
c.sibling}}function cf(a,b){switch(b.tag){case 0:case 11:case 14:case 15:case 22:var c=b.updateQueue;c=null!==c?c.lastEffect:null;if(null!==c){var d=c=c.next;do 3===(d.tag&3)&&(a=d.destroy,d.destroy=void 0,void 0!==a&&a()),d=d.next;while(d!==c)}return;case 1:return;case 5:c=b.stateNode;if(null!=c){d=b.memoizedProps;var e=null!==a?a.memoizedProps:d;a=b.type;var f=b.updateQueue;b.updateQueue=null;if(null!==f){c[Wc]=d;"input"===a&&"radio"===d.type&&null!=d.name&&Hf(c,d);Td(a,e);b=Td(a,d);for(e=0;e<f.length;e+=
2){var g=f[e],h=f[e+1];"style"===g?Of(c,h):"dangerouslySetInnerHTML"===g?Lh(c,h):"children"===g?qc(c,h):Ed(c,g,h,b)}switch(a){case "input":Nd(c,d);break;case "textarea":Kf(c,d);break;case "select":a=c._wrapperState.wasMultiple,c._wrapperState.wasMultiple=!!d.multiple,f=d.value,null!=f?ib(c,!!d.multiple,f,!1):a!==!!d.multiple&&(null!=d.defaultValue?ib(c,!!d.multiple,d.defaultValue,!0):ib(c,!!d.multiple,d.multiple?[]:"",!1))}}}return;case 6:if(null===b.stateNode)throw Error(m(162));b.stateNode.nodeValue=
b.memoizedProps;return;case 3:c=b.stateNode;c.hydrate&&(c.hydrate=!1,bg(c.containerInfo));return;case 12:return;case 13:null!==b.memoizedState&&(df=P(),Qh(b.child,!0));Wh(b);return;case 19:Wh(b);return;case 17:return;case 23:case 24:Qh(b,null!==b.memoizedState);return}throw Error(m(163));}function Wh(a){var b=a.updateQueue;if(null!==b){a.updateQueue=null;var c=a.stateNode;null===c&&(c=a.stateNode=new Dj);b.forEach(function(b){var d=Ej.bind(null,a,b);c.has(b)||(c.add(b),b.then(d,d))})}}function Fj(a,
b){return null!==a&&(a=a.memoizedState,null===a||null!==a.dehydrated)?(b=b.memoizedState,null!==b&&null===b.dehydrated):!1}function Eb(){We=P()+500}function W(){return 0!==(n&48)?P():-1!==sd?sd:sd=P()}function Oa(a){a=a.mode;if(0===(a&2))return 1;if(0===(a&4))return 99===wb()?1:2;0===ua&&(ua=Fb);if(0!==Gj.transition){0!==td&&(td=null!==ef?ef.pendingLanes:0);a=ua;var b=4186112&~td;b&=-b;0===b&&(a=4186112&~a,b=a&-a,0===b&&(b=8192));return b}a=wb();0!==(n&4)&&98===a?a=Nc(12,ua):(a=Fi(a),a=Nc(a,ua));
return a}function Pa(a,b,c){if(50<rc)throw rc=0,ff=null,Error(m(185));a=ud(a,b);if(null===a)return null;Oc(a,b,c);a===R&&(Cb|=b,4===L&&Db(a,O));var d=wb();1===b?0!==(n&8)&&0===(n&48)?gf(a):(ba(a,c),0===n&&(Eb(),ja())):(0===(n&4)||98!==d&&99!==d||(null===va?va=new Set([a]):va.add(a)),ba(a,c));ef=a}function ud(a,b){a.lanes|=b;var c=a.alternate;null!==c&&(c.lanes|=b);c=a;for(a=a.return;null!==a;)a.childLanes|=b,c=a.alternate,null!==c&&(c.childLanes|=b),c=a,a=a.return;return 3===c.tag?c.stateNode:null}
function ba(a,b){for(var c=a.callbackNode,d=a.suspendedLanes,e=a.pingedLanes,f=a.expirationTimes,g=a.pendingLanes;0<g;){var h=31-Ba(g),k=1<<h,l=f[h];if(-1===l){if(0===(k&d)||0!==(k&e)){l=b;mb(k);var m=w;f[h]=10<=m?l+250:6<=m?l+5E3:-1}}else l<=b&&(a.expiredLanes|=k);g&=~k}d=Wb(a,a===R?O:0);b=w;if(0===d)null!==c&&(c!==hf&&xe(c),a.callbackNode=null,a.callbackPriority=0);else{if(null!==c){if(a.callbackPriority===b)return;c!==hf&&xe(c)}15===b?(c=gf.bind(null,a),null===pa?(pa=[c],Zc=we(Yc,$g)):pa.push(c),
c=hf):14===b?c=bc(99,gf.bind(null,a)):(c=Gi(b),c=bc(c,Xh.bind(null,a)));a.callbackPriority=b;a.callbackNode=c}}function Xh(a){sd=-1;td=ua=0;if(0!==(n&48))throw Error(m(327));var b=a.callbackNode;if(Ra()&&a.callbackNode!==b)return null;var c=Wb(a,a===R?O:0);if(0===c)return null;var d=c;var e=n;n|=16;var f=Yh();if(R!==a||O!==d)Eb(),Gb(a,d);do try{Hj();break}catch(h){Zh(a,h)}while(1);ze();vd.current=f;n=e;null!==G?d=0:(R=null,O=0,d=L);if(0!==(Fb&Cb))Gb(a,0);else if(0!==d){2===d&&(n|=64,a.hydrate&&(a.hydrate=
!1,te(a.containerInfo)),c=eg(a),0!==c&&(d=sc(a,c)));if(1===d)throw b=wd,Gb(a,0),Db(a,c),ba(a,P()),b;a.finishedWork=a.current.alternate;a.finishedLanes=c;switch(d){case 0:case 1:throw Error(m(345));case 2:eb(a);break;case 3:Db(a,c);if((c&62914560)===c&&(d=df+500-P(),10<d)){if(0!==Wb(a,0))break;e=a.suspendedLanes;if((e&c)!==c){W();a.pingedLanes|=a.suspendedLanes&e;break}a.timeoutHandle=$h(eb.bind(null,a),d);break}eb(a);break;case 4:Db(a,c);if((c&4186112)===c)break;d=a.eventTimes;for(e=-1;0<c;){var g=
31-Ba(c);f=1<<g;g=d[g];g>e&&(e=g);c&=~f}c=e;c=P()-c;c=(120>c?120:480>c?480:1080>c?1080:1920>c?1920:3E3>c?3E3:4320>c?4320:1960*Ij(c/1960))-c;if(10<c){a.timeoutHandle=$h(eb.bind(null,a),c);break}eb(a);break;case 5:eb(a);break;default:throw Error(m(329));}}ba(a,P());return a.callbackNode===b?Xh.bind(null,a):null}function Db(a,b){b&=~jf;b&=~Cb;a.suspendedLanes|=b;a.pingedLanes&=~b;for(a=a.expirationTimes;0<b;){var c=31-Ba(b),d=1<<c;a[c]=-1;b&=~d}}function gf(a){if(0!==(n&48))throw Error(m(327));Ra();
if(a===R&&0!==(a.expiredLanes&O)){var b=O;var c=sc(a,b);0!==(Fb&Cb)&&(b=Wb(a,b),c=sc(a,b))}else b=Wb(a,0),c=sc(a,b);0!==a.tag&&2===c&&(n|=64,a.hydrate&&(a.hydrate=!1,te(a.containerInfo)),b=eg(a),0!==b&&(c=sc(a,b)));if(1===c)throw c=wd,Gb(a,0),Db(a,b),ba(a,P()),c;a.finishedWork=a.current.alternate;a.finishedLanes=b;eb(a);ba(a,P());return null}function Jj(){if(null!==va){var a=va;va=null;a.forEach(function(a){a.expiredLanes|=24&a.pendingLanes;ba(a,P())})}ja()}function ai(a,b){var c=n;n|=1;try{return a(b)}finally{n=
c,0===n&&(Eb(),ja())}}function bi(a,b){var c=n;n&=-2;n|=8;try{return a(b)}finally{n=c,0===n&&(Eb(),ja())}}function pd(a,b){A(cb,ta);ta|=b;Fb|=b}function Gb(a,b){a.finishedWork=null;a.finishedLanes=0;var c=a.timeoutHandle;-1!==c&&(a.timeoutHandle=-1,Kj(c));if(null!==G)for(c=G.return;null!==c;){var d=c;switch(d.tag){case 1:d=d.type.childContextTypes;null!==d&&void 0!==d&&(t(J),t(D));break;case 3:Ab();t(J);t(D);Je();break;case 5:Ge(d);break;case 4:Ab();break;case 13:t(E);break;case 19:t(E);break;case 10:Ae(d);
break;case 23:case 24:ta=cb.current,t(cb)}c=c.return}R=a;G=Ma(a.current,null);O=ta=Fb=b;L=0;wd=null;jf=Cb=La=0}function Zh(a,b){do{var c=G;try{ze();jc.current=jd;if(kd){for(var d=y.memoizedState;null!==d;){var e=d.queue;null!==e&&(e.pending=null);d=d.next}kd=!1}ic=0;K=N=y=null;kc=!1;kf.current=null;if(null===c||null===c.return){L=1;wd=b;G=null;break}a:{var f=a,g=c.return,h=c,k=b;b=O;h.flags|=2048;h.firstEffect=h.lastEffect=null;if(null!==k&&"object"===typeof k&&"function"===typeof k.then){var l=k;
if(0===(h.mode&2)){var m=h.alternate;m?(h.updateQueue=m.updateQueue,h.memoizedState=m.memoizedState,h.lanes=m.lanes):(h.updateQueue=null,h.memoizedState=null)}var n=0!==(E.current&1),r=g;do{var t;if(t=13===r.tag){var w=r.memoizedState;if(null!==w)t=null!==w.dehydrated?!0:!1;else{var z=r.memoizedProps;t=void 0===z.fallback?!1:!0!==z.unstable_avoidThisFallback?!0:n?!1:!0}}if(t){var C=r.updateQueue;if(null===C){var x=new Set;x.add(l);r.updateQueue=x}else C.add(l);if(0===(r.mode&2)){r.flags|=64;h.flags|=
16384;h.flags&=-2981;if(1===h.tag)if(null===h.alternate)h.tag=17;else{var p=Ia(-1,1);p.tag=2;Ja(h,p)}h.lanes|=1;break a}k=void 0;h=b;var q=f.pingCache;null===q?(q=f.pingCache=new Lj,k=new Set,q.set(l,k)):(k=q.get(l),void 0===k&&(k=new Set,q.set(l,k)));if(!k.has(h)){k.add(h);var u=Mj.bind(null,f,l,h);l.then(u,u)}r.flags|=4096;r.lanes=b;break a}r=r.return}while(null!==r);k=Error((hb(h.type)||"A React component")+" suspended while rendering, but no fallback UI was specified.\n\nAdd a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display.")}5!==
L&&(L=2);k=Xe(k,h);r=g;do{switch(r.tag){case 3:f=k;r.flags|=4096;b&=-b;r.lanes|=b;var B=Mh(r,f,b);ch(r,B);break a;case 1:f=k;var A=r.type,D=r.stateNode;if(0===(r.flags&64)&&("function"===typeof A.getDerivedStateFromError||null!==D&&"function"===typeof D.componentDidCatch&&(null===na||!na.has(D)))){r.flags|=4096;b&=-b;r.lanes|=b;var F=Nh(r,f,b);ch(r,F);break a}}r=r.return}while(null!==r)}ci(c)}catch(qa){b=qa;G===c&&null!==c&&(G=c=c.return);continue}break}while(1)}function Yh(){var a=vd.current;vd.current=
jd;return null===a?jd:a}function sc(a,b){var c=n;n|=16;var d=Yh();R===a&&O===b||Gb(a,b);do try{Nj();break}catch(e){Zh(a,e)}while(1);ze();n=c;vd.current=d;if(null!==G)throw Error(m(261));R=null;O=0;return L}function Nj(){for(;null!==G;)di(G)}function Hj(){for(;null!==G&&!Oj();)di(G)}function di(a){var b=Pj(a.alternate,a,ta);a.memoizedProps=a.pendingProps;null===b?ci(a):G=b;kf.current=null}function ci(a){var b=a;do{var c=b.alternate;a=b.return;if(0===(b.flags&2048)){c=vj(c,b,ta);if(null!==c){G=c;return}c=
b;if(24!==c.tag&&23!==c.tag||null===c.memoizedState||0!==(ta&1073741824)||0===(c.mode&4)){for(var d=0,e=c.child;null!==e;)d|=e.lanes|e.childLanes,e=e.sibling;c.childLanes=d}null!==a&&0===(a.flags&2048)&&(null===a.firstEffect&&(a.firstEffect=b.firstEffect),null!==b.lastEffect&&(null!==a.lastEffect&&(a.lastEffect.nextEffect=b.firstEffect),a.lastEffect=b.lastEffect),1<b.flags&&(null!==a.lastEffect?a.lastEffect.nextEffect=b:a.firstEffect=b,a.lastEffect=b))}else{c=zj(b);if(null!==c){c.flags&=2047;G=c;
return}null!==a&&(a.firstEffect=a.lastEffect=null,a.flags|=2048)}b=b.sibling;if(null!==b){G=b;return}G=b=a}while(null!==b);0===L&&(L=5)}function eb(a){var b=wb();Za(99,Qj.bind(null,a,b));return null}function Qj(a,b){do Ra();while(null!==tc);if(0!==(n&48))throw Error(m(327));var c=a.finishedWork;if(null===c)return null;a.finishedWork=null;a.finishedLanes=0;if(c===a.current)throw Error(m(177));a.callbackNode=null;var d=c.lanes|c.childLanes,e=d,f=a.pendingLanes&~e;a.pendingLanes=e;a.suspendedLanes=0;
a.pingedLanes=0;a.expiredLanes&=e;a.mutableReadLanes&=e;a.entangledLanes&=e;e=a.entanglements;for(var g=a.eventTimes,h=a.expirationTimes;0<f;){var k=31-Ba(f),v=1<<k;e[k]=0;g[k]=-1;h[k]=-1;f&=~v}null!==va&&0===(d&24)&&va.has(a)&&va.delete(a);a===R&&(G=R=null,O=0);1<c.flags?null!==c.lastEffect?(c.lastEffect.nextEffect=c,d=c.firstEffect):d=c:d=c.firstEffect;if(null!==d){e=n;n|=32;kf.current=null;lf=Pc;g=xg();if(ne(g)){if("selectionStart"in g)h={start:g.selectionStart,end:g.selectionEnd};else a:if(h=
(h=g.ownerDocument)&&h.defaultView||window,(v=h.getSelection&&h.getSelection())&&0!==v.rangeCount){h=v.anchorNode;f=v.anchorOffset;k=v.focusNode;v=v.focusOffset;try{h.nodeType,k.nodeType}catch(qa){h=null;break a}var t=0,w=-1,r=-1,z=0,B=0,y=g,C=null;b:for(;;){for(var x;;){y!==h||0!==f&&3!==y.nodeType||(w=t+f);y!==k||0!==v&&3!==y.nodeType||(r=t+v);3===y.nodeType&&(t+=y.nodeValue.length);if(null===(x=y.firstChild))break;C=y;y=x}for(;;){if(y===g)break b;C===h&&++z===f&&(w=t);C===k&&++B===v&&(r=t);if(null!==
(x=y.nextSibling))break;y=C;C=y.parentNode}y=x}h=-1===w||-1===r?null:{start:w,end:r}}else h=null;h=h||{start:0,end:0}}else h=null;mf={focusedElem:g,selectionRange:h};Pc=!1;uc=null;xd=!1;l=d;do try{Rj()}catch(qa){if(null===l)throw Error(m(330));Qa(l,qa);l=l.nextEffect}while(null!==l);uc=null;l=d;do try{for(g=a;null!==l;){var p=l.flags;p&16&&qc(l.stateNode,"");if(p&128){var q=l.alternate;if(null!==q){var u=q.ref;null!==u&&("function"===typeof u?u(null):u.current=null)}}switch(p&1038){case 2:Vh(l);l.flags&=
-3;break;case 6:Vh(l);l.flags&=-3;cf(l.alternate,l);break;case 1024:l.flags&=-1025;break;case 1028:l.flags&=-1025;cf(l.alternate,l);break;case 4:cf(l.alternate,l);break;case 8:h=l;Sh(g,h);var A=h.alternate;Th(h);null!==A&&Th(A)}l=l.nextEffect}}catch(qa){if(null===l)throw Error(m(330));Qa(l,qa);l=l.nextEffect}while(null!==l);u=mf;q=xg();p=u.focusedElem;g=u.selectionRange;if(q!==p&&p&&p.ownerDocument&&wg(p.ownerDocument.documentElement,p)){null!==g&&ne(p)&&(q=g.start,u=g.end,void 0===u&&(u=q),"selectionStart"in
p?(p.selectionStart=q,p.selectionEnd=Math.min(u,p.value.length)):(u=(q=p.ownerDocument||document)&&q.defaultView||window,u.getSelection&&(u=u.getSelection(),h=p.textContent.length,A=Math.min(g.start,h),g=void 0===g.end?A:Math.min(g.end,h),!u.extend&&A>g&&(h=g,g=A,A=h),h=vg(p,A),f=vg(p,g),h&&f&&(1!==u.rangeCount||u.anchorNode!==h.node||u.anchorOffset!==h.offset||u.focusNode!==f.node||u.focusOffset!==f.offset)&&(q=q.createRange(),q.setStart(h.node,h.offset),u.removeAllRanges(),A>g?(u.addRange(q),u.extend(f.node,
f.offset)):(q.setEnd(f.node,f.offset),u.addRange(q))))));q=[];for(u=p;u=u.parentNode;)1===u.nodeType&&q.push({element:u,left:u.scrollLeft,top:u.scrollTop});"function"===typeof p.focus&&p.focus();for(p=0;p<q.length;p++)u=q[p],u.element.scrollLeft=u.left,u.element.scrollTop=u.top}Pc=!!lf;mf=lf=null;a.current=c;l=d;do try{for(p=a;null!==l;){var D=l.flags;D&36&&Bj(p,l.alternate,l);if(D&128){q=void 0;var E=l.ref;if(null!==E){var F=l.stateNode;switch(l.tag){case 5:q=F;break;default:q=F}"function"===typeof E?
E(q):E.current=q}}l=l.nextEffect}}catch(qa){if(null===l)throw Error(m(330));Qa(l,qa);l=l.nextEffect}while(null!==l);l=null;Sj();n=e}else a.current=c;if(Sa)Sa=!1,tc=a,vc=b;else for(l=d;null!==l;)b=l.nextEffect,l.nextEffect=null,l.flags&8&&(D=l,D.sibling=null,D.stateNode=null),l=b;d=a.pendingLanes;0===d&&(na=null);1===d?a===ff?rc++:(rc=0,ff=a):rc=0;c=c.stateNode;if(db&&"function"===typeof db.onCommitFiberRoot)try{db.onCommitFiberRoot($e,c,void 0,64===(c.current.flags&64))}catch(qa){}ba(a,P());if(rd)throw rd=
!1,a=Ze,Ze=null,a;if(0!==(n&8))return null;ja();return null}function Rj(){for(;null!==l;){var a=l.alternate;xd||null===uc||(0!==(l.flags&8)?Wf(l,uc)&&(xd=!0):13===l.tag&&Fj(a,l)&&Wf(l,uc)&&(xd=!0));var b=l.flags;0!==(b&256)&&Aj(a,l);0===(b&512)||Sa||(Sa=!0,bc(97,function(){Ra();return null}));l=l.nextEffect}}function Ra(){if(90!==vc){var a=97<vc?97:vc;vc=90;return Za(a,Tj)}return!1}function Cj(a,b){nf.push(b,a);Sa||(Sa=!0,bc(97,function(){Ra();return null}))}function Ph(a,b){of.push(b,a);Sa||(Sa=
!0,bc(97,function(){Ra();return null}))}function Tj(){if(null===tc)return!1;var a=tc;tc=null;if(0!==(n&48))throw Error(m(331));var b=n;n|=32;var c=of;of=[];for(var d=0;d<c.length;d+=2){var e=c[d],f=c[d+1],g=e.destroy;e.destroy=void 0;if("function"===typeof g)try{g()}catch(k){if(null===f)throw Error(m(330));Qa(f,k)}}c=nf;nf=[];for(d=0;d<c.length;d+=2){e=c[d];f=c[d+1];try{var h=e.create;e.destroy=h()}catch(k){if(null===f)throw Error(m(330));Qa(f,k)}}for(h=a.current.firstEffect;null!==h;)a=h.nextEffect,
h.nextEffect=null,h.flags&8&&(h.sibling=null,h.stateNode=null),h=a;n=b;ja();return!0}function ei(a,b,c){b=Xe(c,b);b=Mh(a,b,1);Ja(a,b);b=W();a=ud(a,1);null!==a&&(Oc(a,1,b),ba(a,b))}function Qa(a,b){if(3===a.tag)ei(a,a,b);else for(var c=a.return;null!==c;){if(3===c.tag){ei(c,a,b);break}else if(1===c.tag){var d=c.stateNode;if("function"===typeof c.type.getDerivedStateFromError||"function"===typeof d.componentDidCatch&&(null===na||!na.has(d))){a=Xe(b,a);var e=Nh(c,a,1);Ja(c,e);e=W();c=ud(c,1);if(null!==
c)Oc(c,1,e),ba(c,e);else if("function"===typeof d.componentDidCatch&&(null===na||!na.has(d)))try{d.componentDidCatch(b,a)}catch(f){}break}}c=c.return}}function Mj(a,b,c){var d=a.pingCache;null!==d&&d.delete(b);b=W();a.pingedLanes|=a.suspendedLanes&c;R===a&&(O&c)===c&&(4===L||3===L&&(O&62914560)===O&&500>P()-df?Gb(a,0):jf|=c);ba(a,b)}function Ej(a,b){var c=a.stateNode;null!==c&&c.delete(b);b=0;0===b&&(b=a.mode,0===(b&2)?b=1:0===(b&4)?b=99===wb()?1:2:(0===ua&&(ua=Fb),b=nb(62914560&~ua),0===b&&(b=4194304)));
c=W();a=ud(a,b);null!==a&&(Oc(a,b,c),ba(a,c))}function Uj(a,b,c,d){this.tag=a;this.key=c;this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null;this.index=0;this.ref=null;this.pendingProps=b;this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null;this.mode=d;this.flags=0;this.lastEffect=this.firstEffect=this.nextEffect=null;this.childLanes=this.lanes=0;this.alternate=null}function Qe(a){a=a.prototype;return!(!a||!a.isReactComponent)}function Vj(a){if("function"===
typeof a)return Qe(a)?1:0;if(void 0!==a&&null!==a){a=a.$$typeof;if(a===Dc)return 11;if(a===Ec)return 14}return 2}function Ma(a,b){var c=a.alternate;null===c?(c=Z(a.tag,b,a.key,a.mode),c.elementType=a.elementType,c.type=a.type,c.stateNode=a.stateNode,c.alternate=a,a.alternate=c):(c.pendingProps=b,c.type=a.type,c.flags=0,c.nextEffect=null,c.firstEffect=null,c.lastEffect=null);c.childLanes=a.childLanes;c.lanes=a.lanes;c.child=a.child;c.memoizedProps=a.memoizedProps;c.memoizedState=a.memoizedState;c.updateQueue=
a.updateQueue;b=a.dependencies;c.dependencies=null===b?null:{lanes:b.lanes,firstContext:b.firstContext};c.sibling=a.sibling;c.index=a.index;c.ref=a.ref;return c}function fd(a,b,c,d,e,f){var g=2;d=a;if("function"===typeof a)Qe(a)&&(g=1);else if("string"===typeof a)g=5;else a:switch(a){case wa:return zb(c.children,e,f,b);case fi:g=8;e|=16;break;case Hd:g=8;e|=1;break;case Lb:return a=Z(12,c,b,e|8),a.elementType=Lb,a.type=Lb,a.lanes=f,a;case Mb:return a=Z(13,c,b,e),a.type=Mb,a.elementType=Mb,a.lanes=
f,a;case Cc:return a=Z(19,c,b,e),a.elementType=Cc,a.lanes=f,a;case pf:return Ue(c,e,f,b);case qf:return a=Z(24,c,b,e),a.elementType=qf,a.lanes=f,a;default:if("object"===typeof a&&null!==a)switch(a.$$typeof){case Jd:g=10;break a;case Id:g=9;break a;case Dc:g=11;break a;case Ec:g=14;break a;case Ld:g=16;d=null;break a;case Kd:g=22;break a}throw Error(m(130,null==a?a:typeof a,""));}b=Z(g,c,b,e);b.elementType=a;b.type=d;b.lanes=f;return b}function zb(a,b,c,d){a=Z(7,a,d,b);a.lanes=c;return a}function Ue(a,
b,c,d){a=Z(23,a,d,b);a.elementType=pf;a.lanes=c;return a}function De(a,b,c){a=Z(6,a,null,b);a.lanes=c;return a}function Ee(a,b,c){b=Z(4,null!==a.children?a.children:[],a.key,b);b.lanes=c;b.stateNode={containerInfo:a.containerInfo,pendingChildren:null,implementation:a.implementation};return b}function Wj(a,b,c){this.tag=b;this.containerInfo=a;this.finishedWork=this.pingCache=this.current=this.pendingChildren=null;this.timeoutHandle=-1;this.pendingContext=this.context=null;this.hydrate=c;this.callbackNode=
null;this.callbackPriority=0;this.eventTimes=ge(0);this.expirationTimes=ge(-1);this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0;this.entanglements=ge(0);this.mutableSourceEagerHydrationData=null}function Xj(a,b,c){var d=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:Ua,key:null==d?null:""+d,children:a,containerInfo:b,implementation:c}}function yd(a,b,c,d){var e=b.current,f=W(),g=Oa(e);
a:if(c){c=c._reactInternals;b:{if(Va(c)!==c||1!==c.tag)throw Error(m(170));var h=c;do{switch(h.tag){case 3:h=h.stateNode.context;break b;case 1:if(S(h.type)){h=h.stateNode.__reactInternalMemoizedMergedChildContext;break b}}h=h.return}while(null!==h);throw Error(m(171));}if(1===c.tag){var k=c.type;if(S(k)){c=Tg(c,k,h);break a}}c=h}else c=Ha;null===b.context?b.context=c:b.pendingContext=c;b=Ia(f,g);b.payload={element:a};d=void 0===d?null:d;null!==d&&(b.callback=d);Ja(e,b);Pa(e,g,f);return g}function rf(a){a=
a.current;if(!a.child)return null;switch(a.child.tag){case 5:return a.child.stateNode;default:return a.child.stateNode}}function gi(a,b){a=a.memoizedState;if(null!==a&&null!==a.dehydrated){var c=a.retryLane;a.retryLane=0!==c&&c<b?c:b}}function sf(a,b){gi(a,b);(a=a.alternate)&&gi(a,b)}function Yj(a){a=Vf(a);return null===a?null:a.stateNode}function Zj(a){return null}function tf(a,b,c){var d=null!=c&&null!=c.hydrationOptions&&c.hydrationOptions.mutableSources||null;c=new Wj(a,b,null!=c&&!0===c.hydrate);
b=Z(3,null,null,2===b?7:1===b?3:0);c.current=b;b.stateNode=c;Be(b);a[rb]=c.current;Cg(8===a.nodeType?a.parentNode:a);if(d)for(a=0;a<d.length;a++){b=d[a];var e=b._getVersion;e=e(b._source);null==c.mutableSourceEagerHydrationData?c.mutableSourceEagerHydrationData=[b,e]:c.mutableSourceEagerHydrationData.push(b,e)}this._internalRoot=c}function wc(a){return!(!a||1!==a.nodeType&&9!==a.nodeType&&11!==a.nodeType&&(8!==a.nodeType||" react-mount-point-unstable "!==a.nodeValue))}function ak(a,b){b||(b=a?9===
a.nodeType?a.documentElement:a.firstChild:null,b=!(!b||1!==b.nodeType||!b.hasAttribute("data-reactroot")));if(!b)for(var c;c=a.lastChild;)a.removeChild(c);return new tf(a,0,b?{hydrate:!0}:void 0)}function zd(a,b,c,d,e){var f=c._reactRootContainer;if(f){var g=f._internalRoot;if("function"===typeof e){var h=e;e=function(){var a=rf(g);h.call(a)}}yd(b,g,a,e)}else{f=c._reactRootContainer=ak(c,d);g=f._internalRoot;if("function"===typeof e){var k=e;e=function(){var a=rf(g);k.call(a)}}bi(function(){yd(b,
g,a,e)})}return rf(g)}function hi(a,b){var c=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!wc(b))throw Error(m(200));return Xj(a,b,null,c)}if(!ha)throw Error(m(227));var zf=new Set,Ib={},oa=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),mi=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,
Af=Object.prototype.hasOwnProperty,Cf={},Bf={},I={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(a){I[a]=new Q(a,0,!1,a,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(a){var b=a[0];I[b]=new Q(b,1,!1,a[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(a){I[a]=
new Q(a,2,!1,a.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(a){I[a]=new Q(a,2,!1,a,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(a){I[a]=new Q(a,3,!1,a.toLowerCase(),null,!1,!1)});["checked","multiple",
"muted","selected"].forEach(function(a){I[a]=new Q(a,3,!0,a,null,!1,!1)});["capture","download"].forEach(function(a){I[a]=new Q(a,4,!1,a,null,!1,!1)});["cols","rows","size","span"].forEach(function(a){I[a]=new Q(a,6,!1,a,null,!1,!1)});["rowSpan","start"].forEach(function(a){I[a]=new Q(a,5,!1,a.toLowerCase(),null,!1,!1)});var uf=/[\-:]([a-z])/g,vf=function(a){return a[1].toUpperCase()};"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(a){var b=
a.replace(uf,vf);I[b]=new Q(b,1,!1,a,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(a){var b=a.replace(uf,vf);I[b]=new Q(b,1,!1,a,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(a){var b=a.replace(uf,vf);I[b]=new Q(b,1,!1,a,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(a){I[a]=new Q(a,1,!1,a.toLowerCase(),null,!1,!1)});I.xlinkHref=new Q("xlinkHref",
1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(a){I[a]=new Q(a,1,!1,a.toLowerCase(),null,!0,!0)});var B=ha.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.assign,fb=ha.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ec=60103,Ua=60106,wa=60107,Hd=60108,Lb=60114,Jd=60109,Id=60110,Dc=60112,Mb=60113,Cc=60120,Ec=60115,Ld=60116,Kd=60121,ue=60128,fi=60129,pf=60130,qf=60131;if("function"===typeof Symbol&&Symbol.for){var H=Symbol.for;ec=
H("react.element");Ua=H("react.portal");wa=H("react.fragment");Hd=H("react.strict_mode");Lb=H("react.profiler");Jd=H("react.provider");Id=H("react.context");Dc=H("react.forward_ref");Mb=H("react.suspense");Cc=H("react.suspense_list");Ec=H("react.memo");Ld=H("react.lazy");Kd=H("react.block");H("react.scope");ue=H("react.opaque.id");fi=H("react.debug_trace_mode");pf=H("react.offscreen");qf=H("react.legacy_hidden")}var Df="function"===typeof Symbol&&Symbol.iterator,Fd,Gd=!1,Ad,Lh=function(a){return"undefined"!==
typeof MSApp&&MSApp.execUnsafeLocalFunction?function(b,c,d,e){MSApp.execUnsafeLocalFunction(function(){return a(b,c,d,e)})}:a}(function(a,b){if("http://www.w3.org/2000/svg"!==a.namespaceURI||"innerHTML"in a)a.innerHTML=b;else{Ad=Ad||document.createElement("div");Ad.innerHTML="<svg>"+b.valueOf().toString()+"</svg>";for(b=Ad.firstChild;a.firstChild;)a.removeChild(a.firstChild);for(;b.firstChild;)a.appendChild(b.firstChild)}}),qc=function(a,b){if(b){var c=a.firstChild;if(c&&c===a.lastChild&&3===c.nodeType){c.nodeValue=
b;return}}a.textContent=b},Nb={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,
zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},bk=["Webkit","ms","Moz","O"];Object.keys(Nb).forEach(function(a){bk.forEach(function(b){b=b+a.charAt(0).toUpperCase()+a.substring(1);Nb[b]=Nb[a]})});var si=B({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0}),Vd=null,jb=null,kb=null,me=function(a,b){return a(b)},fg=function(a,
b,c,d,e){return a(b,c,d,e)},Xd=function(){},Sf=me,Xa=!1,Yd=!1,qe=!1;if(oa)try{var xc={};Object.defineProperty(xc,"passive",{get:function(){qe=!0}});window.addEventListener("test",xc,xc);window.removeEventListener("test",xc,xc)}catch(a){qe=!1}var vi=function(a,b,c,d,e,f,g,h,k){var l=Array.prototype.slice.call(arguments,3);try{b.apply(c,l)}catch(Da){this.onError(Da)}},Qb=!1,Ic=null,Jc=!1,Zd=null,wi={onError:function(a){Qb=!0;Ic=a}},ca=ha.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.Scheduler,
ck=ca.unstable_cancelCallback,Bd=ca.unstable_now,$f=ca.unstable_scheduleCallback,dk=ca.unstable_shouldYield,ii=ca.unstable_requestPaint,ae=ca.unstable_runWithPriority,ek=ca.unstable_getCurrentPriorityLevel,fk=ca.unstable_ImmediatePriority,ji=ca.unstable_UserBlockingPriority,ag=ca.unstable_NormalPriority,gk=ca.unstable_LowPriority,hk=ca.unstable_IdlePriority,ce=!1,ia=[],ya=null,za=null,Aa=null,Rb=new Map,Sb=new Map,Vb=[],gg="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" "),
lb={animationend:Lc("Animation","AnimationEnd"),animationiteration:Lc("Animation","AnimationIteration"),animationstart:Lc("Animation","AnimationStart"),transitionend:Lc("Transition","TransitionEnd")},de={},cg={};oa&&(cg=document.createElement("div").style,"AnimationEvent"in window||(delete lb.animationend.animation,delete lb.animationiteration.animation,delete lb.animationstart.animation),"TransitionEvent"in window||delete lb.transitionend.transition);var Hg=Mc("animationend"),Ig=Mc("animationiteration"),
Jg=Mc("animationstart"),Kg=Mc("transitionend"),dg=new Map,fe=new Map,ik=["abort","abort",Hg,"animationEnd",Ig,"animationIteration",Jg,"animationStart","canplay","canPlay","canplaythrough","canPlayThrough","durationchange","durationChange","emptied","emptied","encrypted","encrypted","ended","ended","error","error","gotpointercapture","gotPointerCapture","load","load","loadeddata","loadedData","loadedmetadata","loadedMetadata","loadstart","loadStart","lostpointercapture","lostPointerCapture","playing",
"playing","progress","progress","seeking","seeking","stalled","stalled","suspend","suspend","timeupdate","timeUpdate",Kg,"transitionEnd","waiting","waiting"];Bd();var w=8,Ba=Math.clz32?Math.clz32:Hi,Ii=Math.log,Ji=Math.LN2,Ni=ji,Mi=ae,Pc=!0,Ca=null,ie=null,Qc=null,Hb={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(a){return a.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},le=V(Hb),yc=B({},Hb,{view:0,detail:0}),hj=V(yc),wf,xf,zc,Cd=B({},yc,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,
pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:je,button:0,buttons:0,relatedTarget:function(a){return void 0===a.relatedTarget?a.fromElement===a.srcElement?a.toElement:a.fromElement:a.relatedTarget},movementX:function(a){if("movementX"in a)return a.movementX;a!==zc&&(zc&&"mousemove"===a.type?(wf=a.screenX-zc.screenX,xf=a.screenY-zc.screenY):xf=wf=0,zc=a);return wf},movementY:function(a){return"movementY"in a?a.movementY:xf}}),Gg=V(Cd),jk=B({},Cd,{dataTransfer:0}),dj=V(jk),kk=B({},
yc,{relatedTarget:0}),re=V(kk),lk=B({},Hb,{animationName:0,elapsedTime:0,pseudoElement:0}),fj=V(lk),mk=B({},Hb,{clipboardData:function(a){return"clipboardData"in a?a.clipboardData:window.clipboardData}}),jj=V(mk),nk=B({},Hb,{data:0}),Og=V(nk),mj=Og,ok={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},pk={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",
16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Pi={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"},qk=B({},yc,{key:function(a){if(a.key){var b=ok[a.key]||a.key;if("Unidentified"!==
b)return b}return"keypress"===a.type?(a=Rc(a),13===a?"Enter":String.fromCharCode(a)):"keydown"===a.type||"keyup"===a.type?pk[a.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:je,charCode:function(a){return"keypress"===a.type?Rc(a):0},keyCode:function(a){return"keydown"===a.type||"keyup"===a.type?a.keyCode:0},which:function(a){return"keypress"===a.type?Rc(a):"keydown"===a.type||"keyup"===a.type?a.keyCode:0}}),cj=V(qk),rk=B({},
Cd,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Lg=V(rk),sk=B({},yc,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:je}),ej=V(sk),tk=B({},Hb,{propertyName:0,elapsedTime:0,pseudoElement:0}),gj=V(tk),uk=B({},Cd,{deltaX:function(a){return"deltaX"in a?a.deltaX:"wheelDeltaX"in a?-a.wheelDeltaX:0},deltaY:function(a){return"deltaY"in a?a.deltaY:"wheelDeltaY"in a?-a.wheelDeltaY:"wheelDelta"in
a?-a.wheelDelta:0},deltaZ:0,deltaMode:0}),ij=V(uk),Qi=[9,13,27,32],ke=oa&&"CompositionEvent"in window,Ac=null;oa&&"documentMode"in document&&(Ac=document.documentMode);var lj=oa&&"TextEvent"in window&&!Ac,og=oa&&(!ke||Ac&&8<Ac&&11>=Ac),ng=String.fromCharCode(32),mg=!1,ob=!1,Ti={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0},Xb=null,Yb=null,Ng=!1;oa&&(Ng=Ui("input")&&(!document.documentMode||9<document.documentMode));
var X="function"===typeof Object.is?Object.is:aj,bj=Object.prototype.hasOwnProperty,kj=oa&&"documentMode"in document&&11>=document.documentMode,qb=null,pe=null,$b=null,oe=!1;ee("cancel cancel click click close close contextmenu contextMenu copy copy cut cut auxclick auxClick dblclick doubleClick dragend dragEnd dragstart dragStart drop drop focusin focus focusout blur input input invalid invalid keydown keyDown keypress keyPress keyup keyUp mousedown mouseDown mouseup mouseUp paste paste pause pause play play pointercancel pointerCancel pointerdown pointerDown pointerup pointerUp ratechange rateChange reset reset seeked seeked submit submit touchcancel touchCancel touchend touchEnd touchstart touchStart volumechange volumeChange".split(" "),
0);ee("drag drag dragenter dragEnter dragexit dragExit dragleave dragLeave dragover dragOver mousemove mouseMove mouseout mouseOut mouseover mouseOver pointermove pointerMove pointerout pointerOut pointerover pointerOver scroll scroll toggle toggle touchmove touchMove wheel wheel".split(" "),1);ee(ik,2);(function(a,b){for(var c=0;c<a.length;c++)fe.set(a[c],b)})("change selectionchange textInput compositionstart compositionend compositionupdate".split(" "),0);gb("onMouseEnter",["mouseout","mouseover"]);
gb("onMouseLeave",["mouseout","mouseover"]);gb("onPointerEnter",["pointerout","pointerover"]);gb("onPointerLeave",["pointerout","pointerover"]);Ta("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Ta("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Ta("onBeforeInput",["compositionend","keypress","textInput","paste"]);Ta("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));
Ta("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Ta("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var pc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Eg=new Set("cancel close invalid load scroll toggle".split(" ").concat(pc)),
Dg="_reactListening"+Math.random().toString(36).slice(2),lf=null,mf=null,$h="function"===typeof setTimeout?setTimeout:void 0,Kj="function"===typeof clearTimeout?clearTimeout:void 0,yf=0,Dd=Math.random().toString(36).slice(2),Fa="__reactFiber$"+Dd,Wc="__reactProps$"+Dd,rb="__reactContainer$"+Dd,Rg="__reactEvents$"+Dd,ve=[],ub=-1,Ha={},D=Ga(Ha),J=Ga(!1),Ya=Ha,$e=null,db=null,pj=ae,we=$f,xe=ck,oj=ek,Yc=fk,Vg=ji,Wg=ag,Xg=gk,Yg=hk,hf={},Oj=dk,Sj=void 0!==ii?ii:function(){},pa=null,Zc=null,ye=!1,ki=Bd(),
P=1E4>ki?Bd:function(){return Bd()-ki},Gj=fb.ReactCurrentBatchConfig,bd=Ga(null),ad=null,xb=null,$c=null,Ka=!1,hh=(new ha.Component).refs,dd={isMounted:function(a){return(a=a._reactInternals)?Va(a)===a:!1},enqueueSetState:function(a,b,c){a=a._reactInternals;var d=W(),e=Oa(a),f=Ia(d,e);f.payload=b;void 0!==c&&null!==c&&(f.callback=c);Ja(a,f);Pa(a,e,d)},enqueueReplaceState:function(a,b,c){a=a._reactInternals;var d=W(),e=Oa(a),f=Ia(d,e);f.tag=1;f.payload=b;void 0!==c&&null!==c&&(f.callback=c);Ja(a,f);
Pa(a,e,d)},enqueueForceUpdate:function(a,b){a=a._reactInternals;var c=W(),d=Oa(a),e=Ia(c,d);e.tag=2;void 0!==b&&null!==b&&(e.callback=b);Ja(a,e);Pa(a,d,c)}},gd=Array.isArray,od=ih(!0),xh=ih(!1),fc={},ka=Ga(fc),hc=Ga(fc),gc=Ga(fc),E=Ga(0),ra=null,Na=null,la=!1,Bb=[],jc=fb.ReactCurrentDispatcher,aa=fb.ReactCurrentBatchConfig,ic=0,y=null,N=null,K=null,kd=!1,kc=!1,jd={readContext:Y,useCallback:T,useContext:T,useEffect:T,useImperativeHandle:T,useLayoutEffect:T,useMemo:T,useReducer:T,useRef:T,useState:T,
useDebugValue:T,useDeferredValue:T,useTransition:T,useMutableSource:T,useOpaqueIdentifier:T,unstable_isNewReconciler:!1},qj={readContext:Y,useCallback:function(a,b){ab().memoizedState=[a,void 0===b?null:b];return a},useContext:Y,useEffect:rh,useImperativeHandle:function(a,b,c){c=null!==c&&void 0!==c?c.concat([a]):null;return Ne(4,2,th.bind(null,b,a),c)},useLayoutEffect:function(a,b){return Ne(4,2,a,b)},useMemo:function(a,b){var c=ab();b=void 0===b?null:b;a=a();c.memoizedState=[a,b];return a},useReducer:function(a,
b,c){var d=ab();b=void 0!==c?c(b):b;d.memoizedState=d.baseState=b;a=d.queue={pending:null,dispatch:null,lastRenderedReducer:a,lastRenderedState:b};a=a.dispatch=Me.bind(null,y,a);return[d.memoizedState,a]},useRef:qh,useState:nc,useDebugValue:Pe,useDeferredValue:function(a){var b=nc(a),c=b[0],d=b[1];rh(function(){var b=aa.transition;aa.transition=1;try{d(a)}finally{aa.transition=b}},[a]);return c},useTransition:function(){var a=nc(!1),b=a[0];a=tj.bind(null,a[1]);qh(a);return[a,b]},useMutableSource:function(a,
b,c){var d=ab();d.memoizedState={refs:{getSnapshot:b,setSnapshot:null},source:a,subscribe:c};return oh(d,a,b,c)},useOpaqueIdentifier:function(){if(la){var a=!1,b=nj(function(){a||(a=!0,c("r:"+(yf++).toString(36)));throw Error(m(355));}),c=nc(b)[1];0===(y.mode&2)&&(y.flags|=516,ld(5,function(){c("r:"+(yf++).toString(36))},void 0,null));return b}b="r:"+(yf++).toString(36);nc(b);return b},unstable_isNewReconciler:!1},rj={readContext:Y,useCallback:vh,useContext:Y,useEffect:nd,useImperativeHandle:uh,useLayoutEffect:sh,
useMemo:wh,useReducer:lc,useRef:md,useState:function(a){return lc(ma)},useDebugValue:Pe,useDeferredValue:function(a){var b=lc(ma),c=b[0],d=b[1];nd(function(){var b=aa.transition;aa.transition=1;try{d(a)}finally{aa.transition=b}},[a]);return c},useTransition:function(){var a=lc(ma)[0];return[md().current,a]},useMutableSource:ph,useOpaqueIdentifier:function(){return lc(ma)[0]},unstable_isNewReconciler:!1},sj={readContext:Y,useCallback:vh,useContext:Y,useEffect:nd,useImperativeHandle:uh,useLayoutEffect:sh,
useMemo:wh,useReducer:mc,useRef:md,useState:function(a){return mc(ma)},useDebugValue:Pe,useDeferredValue:function(a){var b=mc(ma),c=b[0],d=b[1];nd(function(){var b=aa.transition;aa.transition=1;try{d(a)}finally{aa.transition=b}},[a]);return c},useTransition:function(){var a=mc(ma)[0];return[md().current,a]},useMutableSource:ph,useOpaqueIdentifier:function(){return mc(ma)[0]},unstable_isNewReconciler:!1},uj=fb.ReactCurrentOwner,fa=!1,qd={dehydrated:null,retryLane:0};var xj=function(a,b,c,d){for(c=
b.child;null!==c;){if(5===c.tag||6===c.tag)a.appendChild(c.stateNode);else if(4!==c.tag&&null!==c.child){c.child.return=c;c=c.child;continue}if(c===b)break;for(;null===c.sibling;){if(null===c.return||c.return===b)return;c=c.return}c.sibling.return=c.return;c=c.sibling}};var Kh=function(a){};var wj=function(a,b,c,d,e){var f=a.memoizedProps;if(f!==d){a=b.stateNode;$a(ka.current);e=null;switch(c){case "input":f=Md(a,f);d=Md(a,d);e=[];break;case "option":f=Pd(a,f);d=Pd(a,d);e=[];break;case "select":f=
B({},f,{value:void 0});d=B({},d,{value:void 0});e=[];break;case "textarea":f=Qd(a,f);d=Qd(a,d);e=[];break;default:"function"!==typeof f.onClick&&"function"===typeof d.onClick&&(a.onclick=Vc)}Sd(c,d);var g;c=null;for(l in f)if(!d.hasOwnProperty(l)&&f.hasOwnProperty(l)&&null!=f[l])if("style"===l){var h=f[l];for(g in h)h.hasOwnProperty(g)&&(c||(c={}),c[g]="")}else"dangerouslySetInnerHTML"!==l&&"children"!==l&&"suppressContentEditableWarning"!==l&&"suppressHydrationWarning"!==l&&"autoFocus"!==l&&(Ib.hasOwnProperty(l)?
e||(e=[]):(e=e||[]).push(l,null));for(l in d){var k=d[l];h=null!=f?f[l]:void 0;if(d.hasOwnProperty(l)&&k!==h&&(null!=k||null!=h))if("style"===l)if(h){for(g in h)!h.hasOwnProperty(g)||k&&k.hasOwnProperty(g)||(c||(c={}),c[g]="");for(g in k)k.hasOwnProperty(g)&&h[g]!==k[g]&&(c||(c={}),c[g]=k[g])}else c||(e||(e=[]),e.push(l,c)),c=k;else"dangerouslySetInnerHTML"===l?(k=k?k.__html:void 0,h=h?h.__html:void 0,null!=k&&h!==k&&(e=e||[]).push(l,k)):"children"===l?"string"!==typeof k&&"number"!==typeof k||(e=
e||[]).push(l,""+k):"suppressContentEditableWarning"!==l&&"suppressHydrationWarning"!==l&&(Ib.hasOwnProperty(l)?(null!=k&&"onScroll"===l&&z("scroll",a),e||h===k||(e=[])):"object"===typeof k&&null!==k&&k.$$typeof===ue?k.toString():(e=e||[]).push(l,k))}c&&(e=e||[]).push("style",c);var l=e;if(b.updateQueue=l)b.flags|=4}};var yj=function(a,b,c,d){c!==d&&(b.flags|=4)};var Lj="function"===typeof WeakMap?WeakMap:Map,Dj="function"===typeof WeakSet?WeakSet:Set,Ij=Math.ceil,vd=fb.ReactCurrentDispatcher,kf=
fb.ReactCurrentOwner,n=0,R=null,G=null,O=0,ta=0,cb=Ga(0),L=0,wd=null,Fb=0,La=0,Cb=0,jf=0,ef=null,df=0,We=Infinity,l=null,rd=!1,Ze=null,na=null,Sa=!1,tc=null,vc=90,nf=[],of=[],va=null,rc=0,ff=null,sd=-1,ua=0,td=0,uc=null,xd=!1;var Pj=function(a,b,c){var d=b.lanes;if(null!==a)if(a.memoizedProps!==b.pendingProps||J.current)fa=!0;else if(0!==(c&d))fa=0!==(a.flags&16384)?!0:!1;else{fa=!1;switch(b.tag){case 3:Dh(b);Ie();break;case 5:jh(b);break;case 1:S(b.type)&&Xc(b);break;case 4:Fe(b,b.stateNode.containerInfo);
break;case 10:d=b.memoizedProps.value;var e=b.type._context;A(bd,e._currentValue);e._currentValue=d;break;case 13:if(null!==b.memoizedState){if(0!==(c&b.child.childLanes))return Eh(a,b,c);A(E,E.current&1);b=sa(a,b,c);return null!==b?b.sibling:null}A(E,E.current&1);break;case 19:d=0!==(c&b.childLanes);if(0!==(a.flags&64)){if(d)return Jh(a,b,c);b.flags|=64}e=b.memoizedState;null!==e&&(e.rendering=null,e.tail=null,e.lastEffect=null);A(E,E.current);if(d)break;else return null;case 23:case 24:return b.lanes=
0,Se(a,b,c)}return sa(a,b,c)}else fa=!1;b.lanes=0;switch(b.tag){case 2:d=b.type;null!==a&&(a.alternate=null,b.alternate=null,b.flags|=2);a=b.pendingProps;e=vb(b,D.current);yb(b,c);e=Le(null,b,d,a,e,c);b.flags|=1;if("object"===typeof e&&null!==e&&"function"===typeof e.render&&void 0===e.$$typeof){b.tag=1;b.memoizedState=null;b.updateQueue=null;if(S(d)){var f=!0;Xc(b)}else f=!1;b.memoizedState=null!==e.state&&void 0!==e.state?e.state:null;Be(b);var g=d.getDerivedStateFromProps;"function"===typeof g&&
cd(b,d,g,a);e.updater=dd;b.stateNode=e;e._reactInternals=b;Ce(b,d,a,c);b=Te(null,b,d,!0,f,c)}else b.tag=0,U(null,b,e,c),b=b.child;return b;case 16:e=b.elementType;a:{null!==a&&(a.alternate=null,b.alternate=null,b.flags|=2);a=b.pendingProps;f=e._init;e=f(e._payload);b.type=e;f=b.tag=Vj(e);a=ea(e,a);switch(f){case 0:b=Re(null,b,e,a,c);break a;case 1:b=Ch(null,b,e,a,c);break a;case 11:b=yh(null,b,e,a,c);break a;case 14:b=zh(null,b,e,ea(e.type,a),d,c);break a}throw Error(m(306,e,""));}return b;case 0:return d=
b.type,e=b.pendingProps,e=b.elementType===d?e:ea(d,e),Re(a,b,d,e,c);case 1:return d=b.type,e=b.pendingProps,e=b.elementType===d?e:ea(d,e),Ch(a,b,d,e,c);case 3:Dh(b);d=b.updateQueue;if(null===a||null===d)throw Error(m(282));d=b.pendingProps;e=b.memoizedState;e=null!==e?e.element:null;bh(a,b);cc(b,d,null,c);d=b.memoizedState.element;if(d===e)Ie(),b=sa(a,b,c);else{e=b.stateNode;if(f=e.hydrate)Na=tb(b.stateNode.containerInfo.firstChild),ra=b,f=la=!0;if(f){a=e.mutableSourceEagerHydrationData;if(null!=
a)for(e=0;e<a.length;e+=2)f=a[e],f._workInProgressVersionPrimary=a[e+1],Bb.push(f);c=xh(b,null,d,c);for(b.child=c;c;)c.flags=c.flags&-3|1024,c=c.sibling}else U(a,b,d,c),Ie();b=b.child}return b;case 5:return jh(b),null===a&&He(b),d=b.type,e=b.pendingProps,f=null!==a?a.memoizedProps:null,g=e.children,se(d,e)?g=null:null!==f&&se(d,f)&&(b.flags|=16),Bh(a,b),U(a,b,g,c),b.child;case 6:return null===a&&He(b),null;case 13:return Eh(a,b,c);case 4:return Fe(b,b.stateNode.containerInfo),d=b.pendingProps,null===
a?b.child=od(b,null,d,c):U(a,b,d,c),b.child;case 11:return d=b.type,e=b.pendingProps,e=b.elementType===d?e:ea(d,e),yh(a,b,d,e,c);case 7:return U(a,b,b.pendingProps,c),b.child;case 8:return U(a,b,b.pendingProps.children,c),b.child;case 12:return U(a,b,b.pendingProps.children,c),b.child;case 10:a:{d=b.type._context;e=b.pendingProps;g=b.memoizedProps;f=e.value;var h=b.type._context;A(bd,h._currentValue);h._currentValue=f;if(null!==g)if(h=g.value,f=X(h,f)?0:("function"===typeof d._calculateChangedBits?
d._calculateChangedBits(h,f):1073741823)|0,0===f){if(g.children===e.children&&!J.current){b=sa(a,b,c);break a}}else for(h=b.child,null!==h&&(h.return=b);null!==h;){var k=h.dependencies;if(null!==k){g=h.child;for(var l=k.firstContext;null!==l;){if(l.context===d&&0!==(l.observedBits&f)){1===h.tag&&(l=Ia(-1,c&-c),l.tag=2,Ja(h,l));h.lanes|=c;l=h.alternate;null!==l&&(l.lanes|=c);ah(h.return,c);k.lanes|=c;break}l=l.next}}else g=10===h.tag?h.type===b.type?null:h.child:h.child;if(null!==g)g.return=h;else for(g=
h;null!==g;){if(g===b){g=null;break}h=g.sibling;if(null!==h){h.return=g.return;g=h;break}g=g.return}h=g}U(a,b,e.children,c);b=b.child}return b;case 9:return e=b.type,f=b.pendingProps,d=f.children,yb(b,c),e=Y(e,f.unstable_observedBits),d=d(e),b.flags|=1,U(a,b,d,c),b.child;case 14:return e=b.type,f=ea(e,b.pendingProps),f=ea(e.type,f),zh(a,b,e,f,d,c);case 15:return Ah(a,b,b.type,b.pendingProps,d,c);case 17:return d=b.type,e=b.pendingProps,e=b.elementType===d?e:ea(d,e),null!==a&&(a.alternate=null,b.alternate=
null,b.flags|=2),b.tag=1,S(d)?(a=!0,Xc(b)):a=!1,yb(b,c),fh(b,d,e),Ce(b,d,e,c),Te(null,b,d,!0,a,c);case 19:return Jh(a,b,c);case 23:return Se(a,b,c);case 24:return Se(a,b,c)}throw Error(m(156,b.tag));};var Z=function(a,b,c,d){return new Uj(a,b,c,d)};tf.prototype.render=function(a){yd(a,this._internalRoot,null,null)};tf.prototype.unmount=function(){var a=this._internalRoot,b=a.containerInfo;yd(null,a,null,function(){b[rb]=null})};var Ei=function(a){if(13===a.tag){var b=W();Pa(a,4,b);sf(a,4)}};var Yf=
function(a){if(13===a.tag){var b=W();Pa(a,67108864,b);sf(a,67108864)}};var Ci=function(a){if(13===a.tag){var b=W(),c=Oa(a);Pa(a,c,b);sf(a,c)}};var Bi=function(a,b){return b()};Vd=function(a,b,c){switch(b){case "input":Nd(a,c);b=c.name;if("radio"===c.type&&null!=b){for(c=a;c.parentNode;)c=c.parentNode;c=c.querySelectorAll("input[name="+JSON.stringify(""+b)+'][type="radio"]');for(b=0;b<c.length;b++){var d=c[b];if(d!==a&&d.form===a.form){var e=Hc(d);if(!e)throw Error(m(90));Ff(d);Nd(d,e)}}}break;case "textarea":Kf(a,
c);break;case "select":b=c.value,null!=b&&ib(a,!!c.multiple,b,!1)}};(function(a,b,c,d){me=a;fg=b;Xd=c;Sf=d})(ai,function(a,b,c,d,e){var f=n;n|=4;try{return Za(98,a.bind(null,b,c,d,e))}finally{n=f,0===n&&(Eb(),ja())}},function(){0===(n&49)&&(Jj(),Ra())},function(a,b){var c=n;n|=2;try{return a(b)}finally{n=c,0===n&&(Eb(),ja())}});var vk={Events:[Ob,pb,Hc,Qf,Rf,Ra,{current:!1}]};(function(a){a={bundleType:a.bundleType,version:a.version,rendererPackageName:a.rendererPackageName,rendererConfig:a.rendererConfig,
overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:fb.ReactCurrentDispatcher,findHostInstanceByFiber:Yj,findFiberByHostInstance:a.findFiberByHostInstance||Zj,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null};if("undefined"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__)a=
!1;else{var b=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!b.isDisabled&&b.supportsFiber)try{$e=b.inject(a),db=b}catch(c){}a=!0}return a})({findFiberByHostInstance:Wa,bundleType:0,version:"17.0.2",rendererPackageName:"react-dom"});M.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=vk;M.createPortal=hi;M.findDOMNode=function(a){if(null==a)return null;if(1===a.nodeType)return a;var b=a._reactInternals;if(void 0===b){if("function"===typeof a.render)throw Error(m(188));throw Error(m(268,Object.keys(a)));
}a=Vf(b);a=null===a?null:a.stateNode;return a};M.flushSync=function(a,b){var c=n;if(0!==(c&48))return a(b);n|=1;try{if(a)return Za(99,a.bind(null,b))}finally{n=c,ja()}};M.hydrate=function(a,b,c){if(!wc(b))throw Error(m(200));return zd(null,a,b,!0,c)};M.render=function(a,b,c){if(!wc(b))throw Error(m(200));return zd(null,a,b,!1,c)};M.unmountComponentAtNode=function(a){if(!wc(a))throw Error(m(40));return a._reactRootContainer?(bi(function(){zd(null,null,a,!1,function(){a._reactRootContainer=null;a[rb]=
null})}),!0):!1};M.unstable_batchedUpdates=ai;M.unstable_createPortal=function(a,b){return hi(a,b,2<arguments.length&&void 0!==arguments[2]?arguments[2]:null)};M.unstable_renderSubtreeIntoContainer=function(a,b,c,d){if(!wc(c))throw Error(m(200));if(null==a||void 0===a._reactInternals)throw Error(m(38));return zd(a,b,c,!1,d)};M.version="17.0.2"});
})();
</script><script type="text/javascript">var shadow$provide = {};
var $APP = {};
(function(){
/*

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/
'use strict';var ma,qa,ya,Ba,Ea,Pa,Ua,Xa,Za,$a,Ya,db,pb,sb,vb,yb,Cb,Db,Eb,Gb,Hb,Ib,Jb,Kb,Lb,Mb,Pb,Qb,Rb,Sb,Tb,Ub,Vb,Wb,Xb,Yb,Zb,$b,dc,ec,fc,hc,ic,jc,kc,lc,nc,oc,rc,uc,vc,wc,xc,yc,zc,Ac,Cc,Dc,Ec,Fc,Gc,Hc,Ic,Jc,Lc,Oc,Tc,Vc,Wc,Xc,Yc,Zc,$c,ad,ed,fd,gd,hd,id,kd,nd,pd,qd,rd,vd,yd,zd,Ad,Bd,Ed,Kd,Ld,Md,Hd,Nd,Rd,Sd,Ud,Wd,Xd,Zd,$d,ae,be,ce,de,ee,fe,he,ie,je,oe,se,ue,Ce,Ie,Ke,Me,Ne,Qe,Ve,Xe,Ye,bf,$e,af,df,ef,jf,kf,of,pf,qf,sf,xf,yf,Bf,Cf,Df,Gf,Hf,Jf,Of,Sf,Tf,Uf,Wf,Vf,Xf,Yf,gg,hg,jg,kg,lg,mg,ng,og,rg,sg,xg,Bg,
Dg,Gg,Hg,Jg,Lg,Mg,Og,Rg,Sg,Tg,Ug,Vg,Xg,Yg,Zg,$g,ah,ch,bh,nh,lh,mh,ph,qh,rh,th,uh,vh,wh,Bh,Dh,Eh,Fh,fh,Hh,Jh,Kh,Lh,Mh,Oh,Rh,Sh,Th,Uh,Vh,Wh,Xh,Yh,Zh,$h,ai,bi,di,ei,hi,fi,gi,mi,ki,li,qi,oi,pi,ri,ui,vi,wi,yi,Bi,Ci,Di,Ei,Gi,gh,hh,Pi,Ti,$i,aj,bj,cj,hj,ij,qj,tj,uj,zj,Cj,Dj,Ej,Fj,Hj,Kj,yj,Nj,Oj,Pj,Rj,Sj,Tj,Vj,Wj,Xj,bk,ck,gk,lk,kk,nk,mk,ok,pk,qk,sk,tk,vk,wk,xk,yk,zk,Ak,Ck,Ek,Fk,Gk,Hk,Ik,jl,ml,ql,sl,tl,ul,wl,Dl,Fl,Gl,Il,Kl,Ml,Nl,Ol,Ql,Rl,Sl,Tl,Ul,Vl,Wl,Xl,Yl,$l,am,bm,em,fm,gm,hm,om,sm,Am,Cm,Em,Gm,Hm,Im,Jm,
Lm,Mm,Nm,Om,Pm,Qm,Rm,Sm,Wm,Xm,Ym,$m,an,bn,en,fn,gn,hn,kn,ln,on,qn,sn,wn,xn,yn,zn,Cn,En,Gn,In,Jn,Ln,Pn,Zm,cn,dn,nn,Tn,mn,Vn,Wn,Xn,$n,ao,bo,co,fo,oo,xo,yo,Ho,so,Oo,No,Po,So,To,Uo,Wo,ap,cp,dp,ep,op,pp,qp,rp,sp,vp,Ap,Dp,Ep,Hp,Jp,Sp,Wp,Xp,Yp,Zp,hq,jp,ip,dq,qq,rq,sq,tq,uq,vq,wq,xq,zq,S,Aq,Bq,Dq,Eq,Fq,Gq,Hq,Iq,Jq,Kq,Lq,Mq,Nq,Oq,Sq,Tq,Uq,Vq,Wq,Xq,Yq,Zq,ar,br,gr,kr,lr,or,tr,zr,Ar,Cr,Br,Gr,Jr,Hr,Qr,Ur,Wr,Yr,bs,ds,fs,gs,is,hs,js,ms,ns,os,ps,qs,rs,Ms,Ns,Qs,Rs,Vs,Ws,Xs,kt,ot,rt,st,vt,xt,yt,Ct,Dt,Gt,Kt,Ot,Pt,Rt,
St,Ut,Vt,$t,hu,ku,yu,zu,Au,Gu,Iu,Ju,Ku,Mu,Qu,Vu,Xu,av,bv,dv,ev,gv,hv,ov,pv,qv,rv,Av,Fv,Gv,Sv,xv,Tv,Uv,Vv,Wv,Yv,bw,cw,iw,mw,nw,sw,ww,xw,yw,lw,zw,Jw,Pw,Qw,Rw,Sw,Tw,Uw,Ww,jx,lx,mx,kx,ox,qx,rx,sx,ux,vx,wx,yx,zx,Bx,Cx,Lx,Nx,Ox,Qx,Rx,Sx,Tx,Vx,Wx,Xx,Yx,Zx,ay,by,jy,ky,ly,my,vy,wy,zy,Ay,By,Ey,Gy,Jy,Py,Qy,Ty,Uy,Vy,Xy,Yy,Zy,az,bz,gz,jz,cz,oz,pz,lz,nz,hz,ez,tz,ba,ra,wa;$APP.ha=function(a){return function(){return ba[a].apply(this,arguments)}};$APP.ja=function(a,b){return ba[a]=b};
ma=function(a,b){a=a.split(".");var c=$APP.la;a[0]in c||"undefined"==typeof c.execScript||c.execScript("var "+a[0]);for(var d;a.length&&(d=a.shift());)a.length||void 0===b?c=c[d]&&c[d]!==Object.prototype[d]?c[d]:c[d]={}:c[d]=b};$APP.na=function(){};$APP.oa=function(a){var b=typeof a;return"object"!=b?b:a?Array.isArray(a)?"array":b:"null"};qa=function(a){var b=typeof a;return"object"==b&&null!=a||"function"==b};$APP.xa=function(a){return Object.prototype.hasOwnProperty.call(a,ra)&&a[ra]||(a[ra]=++wa)};
ya=function(a,b,c){return a.call.apply(a.bind,arguments)};Ba=function(a,b,c){if(!a)throw Error();if(2<arguments.length){var d=Array.prototype.slice.call(arguments,2);return function(){var e=Array.prototype.slice.call(arguments);Array.prototype.unshift.apply(e,d);return a.apply(b,e)}}return function(){return a.apply(b,arguments)}};$APP.Ca=function(a,b,c){$APP.Ca=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?ya:Ba;return $APP.Ca.apply(null,arguments)};
$APP.Da=function(a,b){function c(){}c.prototype=b.prototype;a.re=b.prototype;a.prototype=new c;a.prototype.constructor=a;a.base=function(d,e,f){for(var g=Array(arguments.length-2),k=2;k<arguments.length;k++)g[k-2]=arguments[k];return b.prototype[e].apply(d,g)}};Ea=function(a){Ea[" "](a);return a};$APP.Ha=function(a,b){return new $APP.Ga(a,b)};$APP.Na=function(a){return 0<a?0x7fffffffffffffff<=a?Ia:new $APP.Ga(a,a/4294967296):0>a?-0x7fffffffffffffff>=a?Ja:$APP.Ka(new $APP.Ga(-a,-a/4294967296)):$APP.La};
$APP.Ka=function(a){var b=~a.Ua+1|0;return $APP.Ha(b,~a.ua+!b|0)};$APP.Oa=function(a){return 4294967296*a.ua+(a.Ua>>>0)};Pa=function(a){return 0==a.Ua&&0==a.ua};$APP.Qa=function(a,b){const c=a.length-b.length;return 0<=c&&a.indexOf(b,c)==c};$APP.Ra=function(a){return/^[\s\xa0]*$/.test(a)};$APP.Sa=function(a){const b=[];let c=0;for(const d in a)b[c++]=d;return b};$APP.Ta=function(a,b,c){return null!==a&&b in a?a[b]:c};Ua=function(a,b,c){a[b]=c};
$APP.Wa=function(a,b){let c,d;for(let e=1;e<arguments.length;e++){d=arguments[e];for(c in d)a[c]=d[c];for(let f=0;f<Va.length;f++)c=Va[f],Object.prototype.hasOwnProperty.call(d,c)&&(a[c]=d[c])}};Xa=function(a){const b=arguments.length;if(1==b&&Array.isArray(arguments[0]))return Xa.apply(null,arguments[0]);if(b%2)throw Error("Uneven number of arguments");const c={};for(let d=0;d<b;d+=2)c[arguments[d]]=arguments[d+1];return c};Za=function(a,b){a.sort(b||Ya)};
$a=function(a,b){const c=Array(a.length);for(let e=0;e<a.length;e++)c[e]={index:e,value:a[e]};const d=b||Ya;Za(c,function(e,f){return d(e.value,f.value)||e.index-f.index});for(b=0;b<a.length;b++)a[b]=c[b].value};Ya=function(a,b){return a>b?1:a<b?-1:0};$APP.cb=function(a){return-1!=bb.indexOf(a)};db=function(a){return String(a.charAt(0)).toUpperCase()+String(a.substr(1)).toLowerCase()};$APP.eb=function(a,b){null!=a&&this.append.apply(this,arguments)};
pb=function(){return new $APP.n(null,5,[fb,!0,$APP.gb,$APP.hb,$APP.ib,jb,lb,mb,nb,$APP.ob],null)};sb=function(){qb=!1;$APP.rb=function(){var a=arguments,b=console.log,c=b.apply,d=console;{const e=a.length;if(0<e){const f=Array(e);for(let g=0;g<e;g++)f[g]=a[g];a=f}else a=[]}return c.call(b,d,a)}};$APP.p=function(a){return null!=a&&!1!==a};$APP.tb=function(a,b){return a===b};$APP.ub=function(a){return null==a};vb=function(a){return a instanceof Array};
$APP.wb=function(a){return null==a?!0:!1===a?!0:!1};$APP.xb=function(a){return null!=a?a.constructor===Object:!1};yb=function(a){return"string"===typeof a&&1===a.length};$APP.zb=function(a,b){return a[$APP.oa(null==b?null:b)]?!0:a._?!0:!1};$APP.Ab=function(a){return null==a?null:a.constructor};$APP.Bb=function(a,b){var c=$APP.Ab(b);return Error(["No protocol method ",a," defined for type ",$APP.p($APP.p(c)?c.Vb:c)?c.Rb:$APP.oa(b),": ",b].join(""))};Cb=function(a){var b=a.Rb;return $APP.p(b)?b:$APP.t.o(a)};
Db=function(){if("undefined"!==typeof performance&&null!=performance.now)return performance.now();if("undefined"!==typeof process&&null!=process.hrtime){var a=process.hrtime();return(1E9*a[0]+a[1])/1E6}return(new Date).getTime()};Eb=function(a){for(var b=a.length,c=Array(b),d=0;;)if(d<b)c[d]=a[d],d+=1;else break;return c};$APP.Fb=function(a){for(var b=Array(arguments.length),c=0;;)if(c<b.length)b[c]=arguments[c],c+=1;else return b};Gb=function(){};Hb=function(){};Ib=function(){};
Jb=function(a){if(null!=a&&null!=a.ma)a=a.ma(a);else{var b=Jb[$APP.oa(null==a?null:a)];if(null!=b)a=b.o?b.o(a):b.call(null,a);else if(b=Jb._,null!=b)a=b.o?b.o(a):b.call(null,a);else throw $APP.Bb("ICounted.-count",a);}return a};Kb=function(){};Lb=function(a){if(null!=a&&null!=a.ya)a=a.ya(a);else{var b=Lb[$APP.oa(null==a?null:a)];if(null!=b)a=b.o?b.o(a):b.call(null,a);else if(b=Lb._,null!=b)a=b.o?b.o(a):b.call(null,a);else throw $APP.Bb("IEmptyableCollection.-empty",a);}return a};Mb=function(){};
$APP.Nb=function(a,b){if(null!=a&&null!=a.oa)a=a.oa(a,b);else{var c=$APP.Nb[$APP.oa(null==a?null:a)];if(null!=c)a=c.j?c.j(a,b):c.call(null,a,b);else if(c=$APP.Nb._,null!=c)a=c.j?c.j(a,b):c.call(null,a,b);else throw $APP.Bb("ICollection.-conj",a);}return a};Pb=function(){};Qb=function(){};
Rb=function(a){if(null!=a&&null!=a.Ta)a=a.Ta(a);else{var b=Rb[$APP.oa(null==a?null:a)];if(null!=b)a=b.o?b.o(a):b.call(null,a);else if(b=Rb._,null!=b)a=b.o?b.o(a):b.call(null,a);else throw $APP.Bb("ISeq.-first",a);}return a};Sb=function(a){if(null!=a&&null!=a.$a)a=a.$a(a);else{var b=Sb[$APP.oa(null==a?null:a)];if(null!=b)a=b.o?b.o(a):b.call(null,a);else if(b=Sb._,null!=b)a=b.o?b.o(a):b.call(null,a);else throw $APP.Bb("ISeq.-rest",a);}return a};Tb=function(){};
Ub=function(a){if(null!=a&&null!=a.Xa)a=a.Xa(a);else{var b=Ub[$APP.oa(null==a?null:a)];if(null!=b)a=b.o?b.o(a):b.call(null,a);else if(b=Ub._,null!=b)a=b.o?b.o(a):b.call(null,a);else throw $APP.Bb("INext.-next",a);}return a};Vb=function(){};Wb=function(){};Xb=function(a,b){if(null!=a&&null!=a.Wa)a=a.Wa(a,b);else{var c=Xb[$APP.oa(null==a?null:a)];if(null!=c)a=c.j?c.j(a,b):c.call(null,a,b);else if(c=Xb._,null!=c)a=c.j?c.j(a,b):c.call(null,a,b);else throw $APP.Bb("IAssociative.-contains-key?",a);}return a};
Yb=function(a,b,c){if(null!=a&&null!=a.pa)a=a.pa(a,b,c);else{var d=Yb[$APP.oa(null==a?null:a)];if(null!=d)a=d.v?d.v(a,b,c):d.call(null,a,b,c);else if(d=Yb._,null!=d)a=d.v?d.v(a,b,c):d.call(null,a,b,c);else throw $APP.Bb("IAssociative.-assoc",a);}return a};Zb=function(){};$b=function(a,b){if(null!=a&&null!=a.Kc)a=a.Kc(a,b);else{var c=$b[$APP.oa(null==a?null:a)];if(null!=c)a=c.j?c.j(a,b):c.call(null,a,b);else if(c=$b._,null!=c)a=c.j?c.j(a,b):c.call(null,a,b);else throw $APP.Bb("IFind.-find",a);}return a};
$APP.ac=function(){};dc=function(a,b){if(null!=a&&null!=a.yb)a=a.yb(a,b);else{var c=dc[$APP.oa(null==a?null:a)];if(null!=c)a=c.j?c.j(a,b):c.call(null,a,b);else if(c=dc._,null!=c)a=c.j?c.j(a,b):c.call(null,a,b);else throw $APP.Bb("IMap.-dissoc",a);}return a};ec=function(a){if(null!=a&&null!=a.pf)a=a.key;else{var b=ec[$APP.oa(null==a?null:a)];if(null!=b)a=b.o?b.o(a):b.call(null,a);else if(b=ec._,null!=b)a=b.o?b.o(a):b.call(null,a);else throw $APP.Bb("IMapEntry.-key",a);}return a};
fc=function(a){if(null!=a&&null!=a.qf)a=a.val;else{var b=fc[$APP.oa(null==a?null:a)];if(null!=b)a=b.o?b.o(a):b.call(null,a);else if(b=fc._,null!=b)a=b.o?b.o(a):b.call(null,a);else throw $APP.Bb("IMapEntry.-val",a);}return a};$APP.gc=function(){};hc=function(a,b){if(null!=a&&null!=a.uf)a=a.uf(a,b);else{var c=hc[$APP.oa(null==a?null:a)];if(null!=c)a=c.j?c.j(a,b):c.call(null,a,b);else if(c=hc._,null!=c)a=c.j?c.j(a,b):c.call(null,a,b);else throw $APP.Bb("ISet.-disjoin",a);}return a};
ic=function(a){if(null!=a&&null!=a.Nc)a=a.Nc(a);else{var b=ic[$APP.oa(null==a?null:a)];if(null!=b)a=b.o?b.o(a):b.call(null,a);else if(b=ic._,null!=b)a=b.o?b.o(a):b.call(null,a);else throw $APP.Bb("IStack.-peek",a);}return a};jc=function(a){if(null!=a&&null!=a.Oc)a=a.Oc(a);else{var b=jc[$APP.oa(null==a?null:a)];if(null!=b)a=b.o?b.o(a):b.call(null,a);else if(b=jc._,null!=b)a=b.o?b.o(a):b.call(null,a);else throw $APP.Bb("IStack.-pop",a);}return a};kc=function(){};
lc=function(a,b,c){if(null!=a&&null!=a.pc)a=a.pc(a,b,c);else{var d=lc[$APP.oa(null==a?null:a)];if(null!=d)a=d.v?d.v(a,b,c):d.call(null,a,b,c);else if(d=lc._,null!=d)a=d.v?d.v(a,b,c):d.call(null,a,b,c);else throw $APP.Bb("IVector.-assoc-n",a);}return a};$APP.mc=function(){};
$APP.u=function(a){if(null!=a&&null!=a.Ca)a=a.Ca(a);else{var b=$APP.u[$APP.oa(null==a?null:a)];if(null!=b)a=b.o?b.o(a):b.call(null,a);else if(b=$APP.u._,null!=b)a=b.o?b.o(a):b.call(null,a);else throw $APP.Bb("IDeref.-deref",a);}return a};nc=function(){};oc=function(a){if(null!=a&&null!=a.aa)a=a.aa(a);else{var b=oc[$APP.oa(null==a?null:a)];if(null!=b)a=b.o?b.o(a):b.call(null,a);else if(b=oc._,null!=b)a=b.o?b.o(a):b.call(null,a);else throw $APP.Bb("IMeta.-meta",a);}return a};rc=function(){};
$APP.sc=function(a,b){if(null!=a&&null!=a.ea)a=a.ea(a,b);else{var c=$APP.sc[$APP.oa(null==a?null:a)];if(null!=c)a=c.j?c.j(a,b):c.call(null,a,b);else if(c=$APP.sc._,null!=c)a=c.j?c.j(a,b):c.call(null,a,b);else throw $APP.Bb("IWithMeta.-with-meta",a);}return a};uc=function(){};vc=function(){};
wc=function(a,b,c){if(null!=a&&null!=a.tb)a=a.tb(a,b,c);else{var d=wc[$APP.oa(null==a?null:a)];if(null!=d)a=d.v?d.v(a,b,c):d.call(null,a,b,c);else if(d=wc._,null!=d)a=d.v?d.v(a,b,c):d.call(null,a,b,c);else throw $APP.Bb("IKVReduce.-kv-reduce",a);}return a};xc=function(a,b){if(null!=a&&null!=a.U)a=a.U(a,b);else{var c=xc[$APP.oa(null==a?null:a)];if(null!=c)a=c.j?c.j(a,b):c.call(null,a,b);else if(c=xc._,null!=c)a=c.j?c.j(a,b):c.call(null,a,b);else throw $APP.Bb("IEquiv.-equiv",a);}return a};
yc=function(a){if(null!=a&&null!=a.ga)a=a.ga(a);else{var b=yc[$APP.oa(null==a?null:a)];if(null!=b)a=b.o?b.o(a):b.call(null,a);else if(b=yc._,null!=b)a=b.o?b.o(a):b.call(null,a);else throw $APP.Bb("IHash.-hash",a);}return a};zc=function(){};Ac=function(a){if(null!=a&&null!=a.ja)a=a.ja(a);else{var b=Ac[$APP.oa(null==a?null:a)];if(null!=b)a=b.o?b.o(a):b.call(null,a);else if(b=Ac._,null!=b)a=b.o?b.o(a):b.call(null,a);else throw $APP.Bb("ISeqable.-seq",a);}return a};$APP.Bc=function(){};Cc=function(){};
Dc=function(){};Ec=function(){};Fc=function(a){if(null!=a&&null!=a.Mc)a=a.Mc(a);else{var b=Fc[$APP.oa(null==a?null:a)];if(null!=b)a=b.o?b.o(a):b.call(null,a);else if(b=Fc._,null!=b)a=b.o?b.o(a):b.call(null,a);else throw $APP.Bb("IReversible.-rseq",a);}return a};Gc=function(){};
Hc=function(a,b){if(null!=a&&null!=a.xf)a=a.xf(a,b);else{var c=Hc[$APP.oa(null==a?null:a)];if(null!=c)a=c.j?c.j(a,b):c.call(null,a,b);else if(c=Hc._,null!=c)a=c.j?c.j(a,b):c.call(null,a,b);else throw $APP.Bb("ISorted.-sorted-seq",a);}return a};Ic=function(a,b,c){if(null!=a&&null!=a.yf)a=a.yf(a,b,c);else{var d=Ic[$APP.oa(null==a?null:a)];if(null!=d)a=d.v?d.v(a,b,c):d.call(null,a,b,c);else if(d=Ic._,null!=d)a=d.v?d.v(a,b,c):d.call(null,a,b,c);else throw $APP.Bb("ISorted.-sorted-seq-from",a);}return a};
Jc=function(a,b){if(null!=a&&null!=a.wf)a=a.wf(a,b);else{var c=Jc[$APP.oa(null==a?null:a)];if(null!=c)a=c.j?c.j(a,b):c.call(null,a,b);else if(c=Jc._,null!=c)a=c.j?c.j(a,b):c.call(null,a,b);else throw $APP.Bb("ISorted.-entry-key",a);}return a};Lc=function(a){if(null!=a&&null!=a.vf)a=a.vf(a);else{var b=Lc[$APP.oa(null==a?null:a)];if(null!=b)a=b.o?b.o(a):b.call(null,a);else if(b=Lc._,null!=b)a=b.o?b.o(a):b.call(null,a);else throw $APP.Bb("ISorted.-comparator",a);}return a};
$APP.Mc=function(a,b){if(null!=a&&null!=a.$c)a=a.$c(a,b);else{var c=$APP.Mc[$APP.oa(null==a?null:a)];if(null!=c)a=c.j?c.j(a,b):c.call(null,a,b);else if(c=$APP.Mc._,null!=c)a=c.j?c.j(a,b):c.call(null,a,b);else throw $APP.Bb("IWriter.-write",a);}return a};$APP.Nc=function(){};
Oc=function(a,b,c){if(null!=a&&null!=a.Z)a=a.Z(a,b,c);else{var d=Oc[$APP.oa(null==a?null:a)];if(null!=d)a=d.v?d.v(a,b,c):d.call(null,a,b,c);else if(d=Oc._,null!=d)a=d.v?d.v(a,b,c):d.call(null,a,b,c);else throw $APP.Bb("IPrintWithWriter.-pr-writer",a);}return a};$APP.Pc=function(a){if(null!=a&&null!=a.jd)a=a.jd(a);else{var b=$APP.Pc[$APP.oa(null==a?null:a)];if(null!=b)a=b.o?b.o(a):b.call(null,a);else if(b=$APP.Pc._,null!=b)a=b.o?b.o(a):b.call(null,a);else throw $APP.Bb("IPending.-realized?",a);}return a};
$APP.Qc=function(a,b,c){if(null!=a&&null!=a.Xd)a.Xd(a,b,c);else{var d=$APP.Qc[$APP.oa(null==a?null:a)];if(null!=d)d.v?d.v(a,b,c):d.call(null,a,b,c);else if(d=$APP.Qc._,null!=d)d.v?d.v(a,b,c):d.call(null,a,b,c);else throw $APP.Bb("IWatchable.-add-watch",a);}};
$APP.Rc=function(a,b){if(null!=a&&null!=a.Yd)a.Yd(a,b);else{var c=$APP.Rc[$APP.oa(null==a?null:a)];if(null!=c)c.j?c.j(a,b):c.call(null,a,b);else if(c=$APP.Rc._,null!=c)c.j?c.j(a,b):c.call(null,a,b);else throw $APP.Bb("IWatchable.-remove-watch",a);}};$APP.Sc=function(a){if(null!=a&&null!=a.Bd)a=a.Bd(a);else{var b=$APP.Sc[$APP.oa(null==a?null:a)];if(null!=b)a=b.o?b.o(a):b.call(null,a);else if(b=$APP.Sc._,null!=b)a=b.o?b.o(a):b.call(null,a);else throw $APP.Bb("IEditableCollection.-as-transient",a);}return a};
Tc=function(a,b){if(null!=a&&null!=a.Gd)a=a.Gd(a,b);else{var c=Tc[$APP.oa(null==a?null:a)];if(null!=c)a=c.j?c.j(a,b):c.call(null,a,b);else if(c=Tc._,null!=c)a=c.j?c.j(a,b):c.call(null,a,b);else throw $APP.Bb("ITransientCollection.-conj!",a);}return a};
$APP.Uc=function(a){if(null!=a&&null!=a.Wd)a=a.Wd(a);else{var b=$APP.Uc[$APP.oa(null==a?null:a)];if(null!=b)a=b.o?b.o(a):b.call(null,a);else if(b=$APP.Uc._,null!=b)a=b.o?b.o(a):b.call(null,a);else throw $APP.Bb("ITransientCollection.-persistent!",a);}return a};
Vc=function(a,b,c){if(null!=a&&null!=a.Fd)a=a.Fd(a,b,c);else{var d=Vc[$APP.oa(null==a?null:a)];if(null!=d)a=d.v?d.v(a,b,c):d.call(null,a,b,c);else if(d=Vc._,null!=d)a=d.v?d.v(a,b,c):d.call(null,a,b,c);else throw $APP.Bb("ITransientAssociative.-assoc!",a);}return a};
Wc=function(a,b){if(null!=a&&null!=a.zf)a=a.zf(a,b);else{var c=Wc[$APP.oa(null==a?null:a)];if(null!=c)a=c.j?c.j(a,b):c.call(null,a,b);else if(c=Wc._,null!=c)a=c.j?c.j(a,b):c.call(null,a,b);else throw $APP.Bb("ITransientMap.-dissoc!",a);}return a};Xc=function(a){if(null!=a&&null!=a.yg)a=a.yg(a);else{var b=Xc[$APP.oa(null==a?null:a)];if(null!=b)a=b.o?b.o(a):b.call(null,a);else if(b=Xc._,null!=b)a=b.o?b.o(a):b.call(null,a);else throw $APP.Bb("ITransientVector.-pop!",a);}return a};
Yc=function(a,b){if(null!=a&&null!=a.xg)a=a.xg(a,b);else{var c=Yc[$APP.oa(null==a?null:a)];if(null!=c)a=c.j?c.j(a,b):c.call(null,a,b);else if(c=Yc._,null!=c)a=c.j?c.j(a,b):c.call(null,a,b);else throw $APP.Bb("ITransientSet.-disjoin!",a);}return a};Zc=function(){};$c=function(a,b){if(null!=a&&null!=a.hc)a=a.hc(a,b);else{var c=$c[$APP.oa(null==a?null:a)];if(null!=c)a=c.j?c.j(a,b):c.call(null,a,b);else if(c=$c._,null!=c)a=c.j?c.j(a,b):c.call(null,a,b);else throw $APP.Bb("IComparable.-compare",a);}return a};
ad=function(a){if(null!=a&&null!=a.lf)a=a.lf(a);else{var b=ad[$APP.oa(null==a?null:a)];if(null!=b)a=b.o?b.o(a):b.call(null,a);else if(b=ad._,null!=b)a=b.o?b.o(a):b.call(null,a);else throw $APP.Bb("IChunk.-drop-first",a);}return a};$APP.bd=function(a){if(null!=a&&null!=a.Ud)a=a.Ud(a);else{var b=$APP.bd[$APP.oa(null==a?null:a)];if(null!=b)a=b.o?b.o(a):b.call(null,a);else if(b=$APP.bd._,null!=b)a=b.o?b.o(a):b.call(null,a);else throw $APP.Bb("IChunkedSeq.-chunked-first",a);}return a};
$APP.cd=function(a){if(null!=a&&null!=a.Yc)a=a.Yc(a);else{var b=$APP.cd[$APP.oa(null==a?null:a)];if(null!=b)a=b.o?b.o(a):b.call(null,a);else if(b=$APP.cd._,null!=b)a=b.o?b.o(a):b.call(null,a);else throw $APP.Bb("IChunkedSeq.-chunked-rest",a);}return a};ed=function(a){if(null!=a&&null!=a.Cd)a=a.Cd(a);else{var b=ed[$APP.oa(null==a?null:a)];if(null!=b)a=b.o?b.o(a):b.call(null,a);else if(b=ed._,null!=b)a=b.o?b.o(a):b.call(null,a);else throw $APP.Bb("INamed.-name",a);}return a};
fd=function(a){if(null!=a&&null!=a.Dd)a=a.Dd(a);else{var b=fd[$APP.oa(null==a?null:a)];if(null!=b)a=b.o?b.o(a):b.call(null,a);else if(b=fd._,null!=b)a=b.o?b.o(a):b.call(null,a);else throw $APP.Bb("INamed.-namespace",a);}return a};gd=function(){};hd=function(a,b){if(null!=a&&null!=a.Qb)a=a.Qb(a,b);else{var c=hd[$APP.oa(null==a?null:a)];if(null!=c)a=c.j?c.j(a,b):c.call(null,a,b);else if(c=hd._,null!=c)a=c.j?c.j(a,b):c.call(null,a,b);else throw $APP.Bb("IReset.-reset!",a);}return a};id=function(){};
$APP.jd=function(a,b){if(null!=a&&null!=a.Ub)a=a.Ub(a,b);else{var c=$APP.jd[$APP.oa(null==a?null:a)];if(null!=c)a=c.j?c.j(a,b):c.call(null,a,b);else if(c=$APP.jd._,null!=c)a=c.j?c.j(a,b):c.call(null,a,b);else throw $APP.Bb("IVolatile.-vreset!",a);}return a};kd=function(){};
$APP.ld=function(a){if(null!=a&&null!=a.Aa)a=a.Aa(a);else{var b=$APP.ld[$APP.oa(null==a?null:a)];if(null!=b)a=b.o?b.o(a):b.call(null,a);else if(b=$APP.ld._,null!=b)a=b.o?b.o(a):b.call(null,a);else throw $APP.Bb("IIterable.-iterator",a);}return a};$APP.md=function(a){this.ri=a;this.M=1073741824;this.R=0};nd=function(a){var b=new $APP.eb,c=new $APP.md(b);a.Z(null,c,pb());c.Ec(null);return $APP.t.o(b)};pd=function(a){a=od(a|0,-862048943);return od(a<<15|a>>>-15,461845907)};
qd=function(a,b){a=(a|0)^(b|0);return od(a<<13|a>>>-13,5)+-430675100|0};rd=function(a,b){a=(a|0)^b;a=od(a^a>>>16,-2048144789);a=od(a^a>>>13,-1028477387);return a^a>>>16};vd=function(a){255<sd&&(ud={},sd=0);if(null==a)return 0;var b=ud[a];if("number"===typeof b)a=b;else{a:if(null!=a)if(b=a.length,0<b)for(var c=0,d=0;;)if(c<b)d=od(31,d)+a.charCodeAt(c),c+=1;else{b=d;break a}else b=0;else b=0;ud[a]=b;sd+=1;a=b}return a};
$APP.xd=function(a){if(null!=a&&(a.M&4194304||$APP.wd===a.nf))return a.ga(null)^0;if("number"===typeof a){if(isFinite(a))return Math.floor(a)%2147483647;switch(a){case Infinity:return 2146435072;case -Infinity:return-1048576;default:return 2146959360}}else return!0===a?a=1231:!1===a?a=1237:"string"===typeof a?(a=vd(a),a=0===a?a:rd(qd(0,pd(a)),4)):a=a instanceof Date?a.valueOf()^0:null==a?0:yc(a)^0,a};yd=function(a,b){return a^b+2654435769+(a<<6)+(a>>2)};zd=function(a){return a instanceof $APP.v};
Ad=function(a){var b=a.name;a:{var c=1;for(var d=0;;)if(c<b.length)d=qd(d,pd(b.charCodeAt(c-1)|b.charCodeAt(c)<<16)),c+=2;else{c=d;break a}}return yd(rd(1===(b.length&1)?c^pd(b.charCodeAt(b.length-1)):c,od(2,b.length)),vd(a.ns))};Bd=function(a,b){if(a.Pb===b.Pb)return 0;var c=$APP.wb(a.ns);if($APP.p(c?b.ns:c))return-1;if($APP.p(a.ns)){if($APP.wb(b.ns))return 1;c=Ya(a.ns,b.ns);return 0===c?Ya(a.name,b.name):c}return Ya(a.name,b.name)};
$APP.v=function(a,b,c,d,e){this.ns=a;this.name=b;this.Pb=c;this.vd=d;this.fc=e;this.M=2154168321;this.R=4096};$APP.Cd=function(a,b,c){this.val=a;this.Ic=b;this.fc=c;this.M=6717441;this.R=0};Ed=function(a){return null!=a?a.R&131072||$APP.wd===a.Ii?!0:a.R?!1:$APP.zb(kd,a):$APP.zb(kd,a)};
$APP.x=function(a){if(null==a)return null;if(null!=a&&(a.M&8388608||$APP.wd===a.wg))return a.ja(null);if(vb(a)||"string"===typeof a)return 0===a.length?null:new $APP.Fd(a,0,null);if(null!=a&&null!=a[Gd])return a=$APP.Ta(a,Gd).call(a),Hd.o?Hd.o(a):Hd.call(null,a);if($APP.zb(zc,a))return Ac(a);throw Error([$APP.t.o(a)," is not ISeqable"].join(""));};$APP.y=function(a){if(null==a)return null;if(null!=a&&(a.M&64||$APP.wd===a.Ed))return a.Ta(null);a=$APP.x(a);return null==a?null:Rb(a)};
$APP.Jd=function(a){return null!=a?null!=a&&(a.M&64||$APP.wd===a.Ed)?a.$a(null):(a=$APP.x(a))?a.$a(null):$APP.Id:$APP.Id};$APP.z=function(a){return null==a?null:null!=a&&(a.M&128||$APP.wd===a.Vd)?a.Xa(null):$APP.x($APP.Jd(a))};Kd=function(a){this.s=a};Ld=function(a){return new Kd($APP.x(a))};Md=function(a,b){this.value=a;this.Ld=b;this.Ye=null;this.M=8388672;this.R=0};Hd=function(a){var b=a.next();return $APP.p(b.done)?null:new Md(b.value,a)};
Nd=function(a){var b=0,c=1;for(a=$APP.x(a);;)if(null!=a)b+=1,c=od(31,c)+$APP.xd($APP.y(a))|0,a=$APP.z(a);else return rd(qd(0,pd(c)),b)};$APP.Qd=function(a){var b=0,c=0;for(a=$APP.x(a);;)if(null!=a)b+=1,c=c+$APP.xd($APP.y(a))|0,a=$APP.z(a);else return rd(qd(0,pd(c)),b)};Rd=function(){};
Sd=function(a){if(null!=a&&null!=a.zg)a=a.zg(a);else{var b=Sd[$APP.oa(null==a?null:a)];if(null!=b)a=b.o?b.o(a):b.call(null,a);else if(b=Sd._,null!=b)a=b.o?b.o(a):b.call(null,a);else throw $APP.Bb("Inst.inst-ms*",a);}return a};$APP.Td=function(a){return a+1};Ud=function(a){this.val=a;this.M=32768;this.R=0};$APP.Vd=function(a){return new Ud(a)};Wd=function(a){return a instanceof Ud};Xd=function(a){return Wd(a)?a:$APP.Vd(a)};Zd=function(a){return Wd(a)?$APP.Yd.o?$APP.Yd.o(a):$APP.Yd.call(null,a):a};
$APP.Yd=function(a){return $APP.u(a)};$d=function(a,b){var c=a.ma(null);if(0===c)return b.C?b.C():b.call(null);for(var d=a.fa(null,0),e=1;;)if(e<c){var f=a.fa(null,e);d=b.j?b.j(d,f):b.call(null,d,f);if(Wd(d))return $APP.u(d);e+=1}else return d};ae=function(a,b,c){var d=a.ma(null),e=c;for(c=0;;)if(c<d){var f=a.fa(null,c);e=b.j?b.j(e,f):b.call(null,e,f);if(Wd(e))return $APP.u(e);c+=1}else return e};
be=function(a,b){var c=a.length;if(0===a.length)return b.C?b.C():b.call(null);for(var d=a[0],e=1;;)if(e<c){var f=a[e];d=b.j?b.j(d,f):b.call(null,d,f);if(Wd(d))return $APP.u(d);e+=1}else return d};ce=function(a,b,c){var d=a.length,e=c;for(c=0;;)if(c<d){var f=a[c];e=b.j?b.j(e,f):b.call(null,e,f);if(Wd(e))return $APP.u(e);c+=1}else return e};de=function(a,b,c,d){for(var e=a.length;;)if(d<e){var f=a[d];c=b.j?b.j(c,f):b.call(null,c,f);if(Wd(c))return $APP.u(c);d+=1}else return c};
ee=function(a){return null!=a?a.M&2||$APP.wd===a.uh?!0:a.M?!1:$APP.zb(Ib,a):$APP.zb(Ib,a)};fe=function(a){return null!=a?a.M&16||$APP.wd===a.qg?!0:a.M?!1:$APP.zb(Pb,a):$APP.zb(Pb,a)};he=function(a,b,c){var d=$APP.ge.o?$APP.ge.o(a):$APP.ge.call(null,a);if(c>=d)return-1;!(0<c)&&0>c&&(c+=d,c=0>c?0:c);for(;;)if(c<d){if($APP.A.j($APP.D.j?$APP.D.j(a,c):$APP.D.call(null,a,c),b))return c;c+=1}else return-1};
ie=function(a,b,c){var d=$APP.ge.o?$APP.ge.o(a):$APP.ge.call(null,a);if(0===d)return-1;0<c?(--d,c=d<c?d:c):c=0>c?d+c:c;for(;;)if(0<=c){if($APP.A.j($APP.D.j?$APP.D.j(a,c):$APP.D.call(null,a,c),b))return c;--c}else return-1};je=function(a,b){this.K=a;this.i=b};$APP.Fd=function(a,b,c){this.K=a;this.i=b;this.meta=c;this.M=166592766;this.R=139264};$APP.F=function(a){return 0<a.length?new $APP.Fd(a,0,null):null};$APP.ke=function(a,b,c){this.Sd=a;this.i=b;this.meta=c;this.M=32374990;this.R=8192};
$APP.le=function(a){return $APP.y($APP.z(a))};$APP.me=function(a){return $APP.y($APP.y(a))};$APP.ne=function(a){return $APP.y($APP.z(a))};oe=function(a){return $APP.z($APP.z(a))};$APP.pe=function(a){for(;;){var b=$APP.z(a);if(null!=b)a=b;else return $APP.y(a)}};$APP.qe=function(a){return null==a?null:null!=a&&(a.M&4||$APP.wd===a.wh)?a.ya(null):(null!=a?a.M&4||$APP.wd===a.wh||(a.M?0:$APP.zb(Kb,a)):$APP.zb(Kb,a))?Lb(a):null};
$APP.ge=function(a){if(null!=a)if(null!=a&&(a.M&2||$APP.wd===a.uh))a=a.ma(null);else if(vb(a))a=a.length;else if("string"===typeof a)a=a.length;else if(null!=a&&(a.M&8388608||$APP.wd===a.wg))a:{a=$APP.x(a);for(var b=0;;){if(ee(a)){a=b+Jb(a);break a}a=$APP.z(a);b+=1}}else a=Jb(a);else a=0;return a};se=function(a,b,c){for(;;){if(null==a)return c;if(0===b)return $APP.x(a)?$APP.y(a):c;if(fe(a))return $APP.re(a,b,c);if($APP.x(a))a=$APP.z(a),--b;else return c}};
$APP.te=function(a){var b="function"===typeof a;return b?b:null!=a?$APP.wd===a.og?!0:a.Hd?!1:$APP.zb(Gb,a):$APP.zb(Gb,a)};ue=function(a,b){this.afn=a;this.meta=b;this.M=393217;this.R=0};$APP.ve=function(a,b){return"function"===typeof a?new ue(a,b):null==a?null:$APP.sc(a,b)};$APP.we=function(a){var b=null!=a;return(b?null!=a?a.M&131072||$APP.wd===a.rf||(a.M?0:$APP.zb(nc,a)):$APP.zb(nc,a):b)?oc(a):null};$APP.xe=function(a){return null==a?null:ic(a)};$APP.ye=function(a){return null==a?null:jc(a)};
$APP.ze=function(a){return null==a||$APP.wb($APP.x(a))};$APP.Ae=function(a){return null==a?!1:null!=a?a.M&8||$APP.wd===a.Fi?!0:a.M?!1:$APP.zb(Mb,a):$APP.zb(Mb,a)};$APP.Be=function(a){return null==a?!1:null!=a?a.M&4096||$APP.wd===a.Eh?!0:a.M?!1:$APP.zb($APP.gc,a):$APP.zb($APP.gc,a)};Ce=function(a){return null!=a?a.M&512||$APP.wd===a.pg?!0:a.M?!1:$APP.zb(Wb,a):$APP.zb(Wb,a)};$APP.De=function(a){return null!=a?a.M&16777216||$APP.wd===a.tf?!0:a.M?!1:$APP.zb($APP.Bc,a):$APP.zb($APP.Bc,a)};
$APP.Ee=function(a){return null==a?!1:null!=a?a.M&1024||$APP.wd===a.Bh?!0:a.M?!1:$APP.zb($APP.ac,a):$APP.zb($APP.ac,a)};$APP.Fe=function(a){return null!=a?a.M&67108864||$APP.wd===a.Ch?!0:a.M?!1:$APP.zb(Dc,a):$APP.zb(Dc,a)};$APP.Ge=function(a){return null!=a?a.M&16384||$APP.wd===a.Ri?!0:a.M?!1:$APP.zb(kc,a):$APP.zb(kc,a)};$APP.He=function(a){return null!=a?a.R&512||$APP.wd===a.Ei?!0:!1:!1};Ie=function(a,b,c,d,e){for(;;){if(0===e)return c;c[d]=a[b];d+=1;--e;b+=1}};$APP.Je=function(a){return!1===a};
Ke=function(a){return!0===a||!1===a};$APP.Le=function(a){return null==a?!1:null!=a?a.M&64||$APP.wd===a.Ed?!0:a.M?!1:$APP.zb(Qb,a):$APP.zb(Qb,a)};Me=function(a){var b=null==a;return b?b:(b=null!=a?a.M&8388608||$APP.wd===a.wg?!0:a.M?!1:$APP.zb(zc,a):$APP.zb(zc,a))?b:vb(a)||"string"===typeof a};Ne=function(a){return null==a?!1:!1===a?!1:!0};$APP.Oe=function(a){var b=$APP.te(a);return b?b:null!=a?a.M&1||$APP.wd===a.Hi?!0:a.M?!1:$APP.zb(Hb,a):$APP.zb(Hb,a)};
$APP.Pe=function(a){return"number"===typeof a&&!isNaN(a)&&Infinity!==a&&parseFloat(a)===parseInt(a,10)};Qe=function(a){return $APP.Pe(a)?!(0>a):a instanceof $APP.Ga?$APP.wb(0>a.ua):!1};$APP.Te=function(a,b){return null!=a&&(a.M&512||$APP.wd===a.pg)?a.Wa(null,b):$APP.zb(Wb,a)?Xb(a,b):$APP.Re.v(a,b,Se)===Se?!1:!0};Ve=function(a,b){return(null!=a?$APP.wd===a.Zc||(a.Hd?0:$APP.zb(Zb,a)):$APP.zb(Zb,a))?$b(a,b):null!=a&&Ce(a)&&$APP.Te(a,b)?new $APP.Ue(b,$APP.Re.j(a,b),null):null};
$APP.We=function(a,b){if(a===b)return 0;if(null==a)return-1;if(null==b)return 1;if("number"===typeof a){if("number"===typeof b)return Ya(a,b);throw Error(["Cannot compare ",$APP.t.o(a)," to ",$APP.t.o(b)].join(""));}if(null!=a?a.R&2048||$APP.wd===a.Dc||(a.R?0:$APP.zb(Zc,a)):$APP.zb(Zc,a))return $c(a,b);if("string"!==typeof a&&!vb(a)&&!0!==a&&!1!==a||$APP.Ab(a)!==$APP.Ab(b))throw Error(["Cannot compare ",$APP.t.o(a)," to ",$APP.t.o(b)].join(""));return Ya(a,b)};
Xe=function(a,b){var c=$APP.ge(a),d=$APP.ge(b);if(c<d)a=-1;else if(c>d)a=1;else if(0===c)a=0;else a:for(d=0;;){var e=$APP.We($APP.D.j(a,d),$APP.D.j(b,d));if(0===e&&d+1<c)d+=1;else{a=e;break a}}return a};Ye=function(a){return $APP.A.j(a,$APP.We)?$APP.We:function(b,c){var d=a.j?a.j(b,c):a.call(null,b,c);return"number"===typeof d?d:$APP.p(d)?-1:$APP.p(a.j?a.j(c,b):a.call(null,c,b))?1:0}};
bf=function(a){switch(arguments.length){case 2:return $e(arguments[0],arguments[1]);case 3:return af(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",$APP.t.o(arguments.length)].join(""));}};$e=function(a,b){var c=$APP.x(b);return c?(b=$APP.y(c),c=$APP.z(c),$APP.cf.v?$APP.cf.v(a,b,c):$APP.cf.call(null,a,b,c)):a.C?a.C():a.call(null)};af=function(a,b,c){for(c=$APP.x(c);;)if(c){var d=$APP.y(c);b=a.j?a.j(b,d):a.call(null,b,d);if(Wd(b))return $APP.u(b);c=$APP.z(c)}else return b};
df=function(a,b){a=$APP.ld(a);if($APP.p(a.Ba()))for(var c=a.next();;)if(a.Ba()){var d=a.next();c=b.j?b.j(c,d):b.call(null,c,d);if(Wd(c))return $APP.u(c)}else return c;else return b.C?b.C():b.call(null)};ef=function(a,b,c){for(a=$APP.ld(a);;)if(a.Ba()){var d=a.next();c=b.j?b.j(c,d):b.call(null,c,d);if(Wd(c))return $APP.u(c)}else return c};$APP.ff=function(a,b,c){return null!=c?wc(c,a,b):b};$APP.gf=function(a){return a};
$APP.hf=function(a){if("number"===typeof a)return String.fromCharCode(a);if("string"===typeof a&&1===a.length)return a;throw Error("Argument to char must be a character or number");};jf=function(a){return 0<=a?Math.floor(a):Math.ceil(a)};kf=function(a,b){return(a%b+b)%b};$APP.mf=function(a,b){return jf((a-a%b)/b)};$APP.nf=function(a,b){return a-b*$APP.mf(a,b)};of=function(a){a-=a>>1&1431655765;a=(a&858993459)+(a>>2&858993459);return 16843009*(a+(a>>4)&252645135)>>24};
pf=function(a,b){if($APP.De(b))if(ee(a)&&ee(b)&&$APP.ge(a)!==$APP.ge(b))a=!1;else a:for(a=$APP.x(a),b=$APP.x(b);;){if(null==a){a=null==b;break a}if(null!=b&&$APP.A.j($APP.y(a),$APP.y(b)))a=$APP.z(a),b=$APP.z(b);else{a=!1;break a}}else a=null;return Ne(a)};$APP.J=function(a,b,c,d,e){this.meta=a;this.first=b;this.zb=c;this.count=d;this.N=e;this.M=65937646;this.R=8192};qf=function(a){return null!=a?a.M&33554432||$APP.wd===a.Ki?!0:a.M?!1:$APP.zb(Cc,a):$APP.zb(Cc,a)};
$APP.rf=function(a){this.meta=a;this.M=65937614;this.R=8192};sf=function(a){return null!=a?a.M&134217728||$APP.wd===a.Oi?!0:a.M?!1:$APP.zb(Ec,a):$APP.zb(Ec,a)};$APP.uf=function(a){return sf(a)?(a=Fc(a))?a:$APP.Id:$APP.cf.v($APP.tf,$APP.Id,a)};$APP.vf=function(a,b,c,d){this.meta=a;this.first=b;this.zb=c;this.N=d;this.M=65929452;this.R=8192};$APP.wf=function(a,b){return null==b?new $APP.J(null,a,null,1,null):null!=b&&(b.M&64||$APP.wd===b.Ed)?new $APP.vf(null,a,b,null):new $APP.vf(null,a,$APP.x(b),null)};
xf=function(a,b){if(a.ia===b.ia)return 0;var c=$APP.wb(a.ns);if($APP.p(c?b.ns:c))return-1;if($APP.p(a.ns)){if($APP.wb(b.ns))return 1;c=Ya(a.ns,b.ns);return 0===c?Ya(a.name,b.name):c}return Ya(a.name,b.name)};$APP.K=function(a,b,c,d){this.ns=a;this.name=b;this.ia=c;this.vd=d;this.M=2153775105;this.R=4096};yf=function(a){return a instanceof $APP.K};$APP.zf=function(a,b){return a===b?!0:a instanceof $APP.K&&b instanceof $APP.K?a.ia===b.ia:!1};
$APP.Af=function(a){if(null!=a&&(a.R&4096||$APP.wd===a.sf))return a.Dd(null);throw Error(["Doesn't support namespace: ",$APP.t.o(a)].join(""));};Bf=function(a){return a instanceof $APP.K||a instanceof $APP.v};Cf=function(a){return a instanceof $APP.v&&null==$APP.Af(a)};Df=function(a){var b=a instanceof $APP.v;b?(a=$APP.Af(a),a=$APP.p(a)?!0:a):a=b;return Ne(a)};$APP.Ef=function(a){var b=a instanceof $APP.K;b?(a=$APP.Af(a),a=$APP.p(a)?!0:a):a=b;return Ne(a)};
$APP.Ff=function(a,b,c,d){this.meta=a;this.fn=b;this.s=c;this.N=d;this.M=32374988;this.R=1};Gf=function(a){null!=a.fn&&(a.s=a.fn.C?a.fn.C():a.fn.call(null),a.fn=null);return a.s};Hf=function(a){this.gd=a;this.end=0;this.M=2;this.R=0};$APP.If=function(a){return new Hf(Array(a))};Jf=function(a,b,c){this.K=a;this.off=b;this.end=c;this.M=524306;this.R=0};$APP.Kf=function(a,b,c,d){this.vb=a;this.wc=b;this.meta=c;this.N=d;this.M=31850732;this.R=1536};
$APP.Lf=function(a,b){return 0===Jb(a)?b:new $APP.Kf(a,b,null,null)};$APP.Mf=function(a,b){return a.add(b)};$APP.Nf=function(a){return a.vb()};Of=function(a){var b=[];for(a=$APP.x(a);;)if(null!=a)b.push($APP.y(a)),a=$APP.z(a);else return b};Sf=function(a,b){if(ee(b))return $APP.ge(b);var c=0;for(b=$APP.x(b);;)if(null!=b&&c<a)c+=1,b=$APP.z(b);else return c};
Tf=function(a,b,c){var d=$APP.x(c);if(0===b)return a.C?a.C():a.call(null);c=Rb(d);var e=Sb(d);if(1===b)return a.o?a.o(c):a.call(null,c);d=Rb(e);var f=Sb(e);if(2===b)return a.j?a.j(c,d):a.call(null,c,d);e=Rb(f);var g=Sb(f);if(3===b)return a.v?a.v(c,d,e):a.call(null,c,d,e);f=Rb(g);var k=Sb(g);if(4===b)return a.J?a.J(c,d,e,f):a.call(null,c,d,e,f);g=Rb(k);var l=Sb(k);if(5===b)return a.S?a.S(c,d,e,f,g):a.call(null,c,d,e,f,g);k=Rb(l);var h=Sb(l);if(6===b)return a.qa?a.qa(c,d,e,f,g,k):a.call(null,c,d,e,
f,g,k);l=Rb(h);var r=Sb(h);if(7===b)return a.Na?a.Na(c,d,e,f,g,k,l):a.call(null,c,d,e,f,g,k,l);h=Rb(r);var q=Sb(r);if(8===b)return a.za?a.za(c,d,e,f,g,k,l,h):a.call(null,c,d,e,f,g,k,l,h);r=Rb(q);var w=Sb(q);if(9===b)return a.Oa?a.Oa(c,d,e,f,g,k,l,h,r):a.call(null,c,d,e,f,g,k,l,h,r);q=Rb(w);var C=Sb(w);if(10===b)return a.Da?a.Da(c,d,e,f,g,k,l,h,r,q):a.call(null,c,d,e,f,g,k,l,h,r,q);w=Rb(C);var G=Sb(C);if(11===b)return a.Ea?a.Ea(c,d,e,f,g,k,l,h,r,q,w):a.call(null,c,d,e,f,g,k,l,h,r,q,w);C=Rb(G);var M=
Sb(G);if(12===b)return a.Fa?a.Fa(c,d,e,f,g,k,l,h,r,q,w,C):a.call(null,c,d,e,f,g,k,l,h,r,q,w,C);G=Rb(M);var R=Sb(M);if(13===b)return a.Ga?a.Ga(c,d,e,f,g,k,l,h,r,q,w,C,G):a.call(null,c,d,e,f,g,k,l,h,r,q,w,C,G);M=Rb(R);var W=Sb(R);if(14===b)return a.Ha?a.Ha(c,d,e,f,g,k,l,h,r,q,w,C,G,M):a.call(null,c,d,e,f,g,k,l,h,r,q,w,C,G,M);R=Rb(W);var Z=Sb(W);if(15===b)return a.Ia?a.Ia(c,d,e,f,g,k,l,h,r,q,w,C,G,M,R):a.call(null,c,d,e,f,g,k,l,h,r,q,w,C,G,M,R);W=Rb(Z);var ea=Sb(Z);if(16===b)return a.Ja?a.Ja(c,d,e,f,
g,k,l,h,r,q,w,C,G,M,R,W):a.call(null,c,d,e,f,g,k,l,h,r,q,w,C,G,M,R,W);Z=Rb(ea);var ia=Sb(ea);if(17===b)return a.Ka?a.Ka(c,d,e,f,g,k,l,h,r,q,w,C,G,M,R,W,Z):a.call(null,c,d,e,f,g,k,l,h,r,q,w,C,G,M,R,W,Z);ea=Rb(ia);var ka=Sb(ia);if(18===b)return a.La?a.La(c,d,e,f,g,k,l,h,r,q,w,C,G,M,R,W,Z,ea):a.call(null,c,d,e,f,g,k,l,h,r,q,w,C,G,M,R,W,Z,ea);ia=Rb(ka);ka=Sb(ka);if(19===b)return a.Ma?a.Ma(c,d,e,f,g,k,l,h,r,q,w,C,G,M,R,W,Z,ea,ia):a.call(null,c,d,e,f,g,k,l,h,r,q,w,C,G,M,R,W,Z,ea,ia);var Y=Rb(ka);Sb(ka);
if(20===b)return a.rb?a.rb(c,d,e,f,g,k,l,h,r,q,w,C,G,M,R,W,Z,ea,ia,Y):a.call(null,c,d,e,f,g,k,l,h,r,q,w,C,G,M,R,W,Z,ea,ia,Y);throw Error("Only up to 20 arguments supported on functions");};Uf=function(a){return null!=a&&(a.M&128||$APP.wd===a.Vd)?a.Xa(null):$APP.x($APP.Jd(a))};Wf=function(a,b,c){return null==c?a.o?a.o(b):a.call(a,b):Vf(a,b,Rb(c),Uf(c))};Vf=function(a,b,c,d){return null==d?a.j?a.j(b,c):a.call(a,b,c):Xf(a,b,c,Rb(d),Uf(d))};
Xf=function(a,b,c,d,e){return null==e?a.v?a.v(b,c,d):a.call(a,b,c,d):Yf(a,b,c,d,Rb(e),Uf(e))};
Yf=function(a,b,c,d,e,f){if(null==f)return a.J?a.J(b,c,d,e):a.call(a,b,c,d,e);var g=Rb(f),k=$APP.z(f);if(null==k)return a.S?a.S(b,c,d,e,g):a.call(a,b,c,d,e,g);f=Rb(k);var l=$APP.z(k);if(null==l)return a.qa?a.qa(b,c,d,e,g,f):a.call(a,b,c,d,e,g,f);k=Rb(l);var h=$APP.z(l);if(null==h)return a.Na?a.Na(b,c,d,e,g,f,k):a.call(a,b,c,d,e,g,f,k);l=Rb(h);var r=$APP.z(h);if(null==r)return a.za?a.za(b,c,d,e,g,f,k,l):a.call(a,b,c,d,e,g,f,k,l);h=Rb(r);var q=$APP.z(r);if(null==q)return a.Oa?a.Oa(b,c,d,e,g,f,k,l,h):
a.call(a,b,c,d,e,g,f,k,l,h);r=Rb(q);var w=$APP.z(q);if(null==w)return a.Da?a.Da(b,c,d,e,g,f,k,l,h,r):a.call(a,b,c,d,e,g,f,k,l,h,r);q=Rb(w);var C=$APP.z(w);if(null==C)return a.Ea?a.Ea(b,c,d,e,g,f,k,l,h,r,q):a.call(a,b,c,d,e,g,f,k,l,h,r,q);w=Rb(C);var G=$APP.z(C);if(null==G)return a.Fa?a.Fa(b,c,d,e,g,f,k,l,h,r,q,w):a.call(a,b,c,d,e,g,f,k,l,h,r,q,w);C=Rb(G);var M=$APP.z(G);if(null==M)return a.Ga?a.Ga(b,c,d,e,g,f,k,l,h,r,q,w,C):a.call(a,b,c,d,e,g,f,k,l,h,r,q,w,C);G=Rb(M);var R=$APP.z(M);if(null==R)return a.Ha?
a.Ha(b,c,d,e,g,f,k,l,h,r,q,w,C,G):a.call(a,b,c,d,e,g,f,k,l,h,r,q,w,C,G);M=Rb(R);var W=$APP.z(R);if(null==W)return a.Ia?a.Ia(b,c,d,e,g,f,k,l,h,r,q,w,C,G,M):a.call(a,b,c,d,e,g,f,k,l,h,r,q,w,C,G,M);R=Rb(W);var Z=$APP.z(W);if(null==Z)return a.Ja?a.Ja(b,c,d,e,g,f,k,l,h,r,q,w,C,G,M,R):a.call(a,b,c,d,e,g,f,k,l,h,r,q,w,C,G,M,R);W=Rb(Z);var ea=$APP.z(Z);if(null==ea)return a.Ka?a.Ka(b,c,d,e,g,f,k,l,h,r,q,w,C,G,M,R,W):a.call(a,b,c,d,e,g,f,k,l,h,r,q,w,C,G,M,R,W);Z=Rb(ea);var ia=$APP.z(ea);if(null==ia)return a.La?
a.La(b,c,d,e,g,f,k,l,h,r,q,w,C,G,M,R,W,Z):a.call(a,b,c,d,e,g,f,k,l,h,r,q,w,C,G,M,R,W,Z);ea=Rb(ia);var ka=$APP.z(ia);if(null==ka)return a.Ma?a.Ma(b,c,d,e,g,f,k,l,h,r,q,w,C,G,M,R,W,Z,ea):a.call(a,b,c,d,e,g,f,k,l,h,r,q,w,C,G,M,R,W,Z,ea);ia=Rb(ka);ka=$APP.z(ka);if(null==ka)return a.rb?a.rb(b,c,d,e,g,f,k,l,h,r,q,w,C,G,M,R,W,Z,ea,ia):a.call(a,b,c,d,e,g,f,k,l,h,r,q,w,C,G,M,R,W,Z,ea,ia);b=[b,c,d,e,g,f,k,l,h,r,q,w,C,G,M,R,W,Z,ea,ia];for(c=ka;;)if(c)b.push(Rb(c)),c=$APP.z(c);else break;return a.apply(a,b)};
$APP.ag=function(a){return null!=a&&(a.M&64||$APP.wd===a.Ed)?$APP.z(a)?$APP.Zf(Of(a)):$APP.x(a)?$APP.y(a):$APP.$f:a};$APP.bg=function(a){return $APP.x(a)?a:null};
$APP.fg=function(){if("undefined"===typeof $APP.cg||"undefined"===typeof $APP.dg||"undefined"===typeof eg)eg=function(a){this.Uh=a;this.M=393216;this.R=0},eg.prototype.ea=function(a,b){return new eg(b)},eg.prototype.aa=function(){return this.Uh},eg.prototype.Ba=function(){return!1},eg.prototype.next=function(){return Error("No such element")},eg.prototype.remove=function(){return Error("Unsupported operation")},eg.Vb=!0,eg.Rb="cljs.core/t_cljs$core20906",eg.dc=function(a){return $APP.Mc(a,"cljs.core/t_cljs$core20906")};
return new eg($APP.$f)};gg=function(a){this.s=a;this.i=0};hg=function(a){this.K=a;this.i=0};jg=function(a){this.Qd=ig;this.Gb=a};kg=function(a){if(Ed(a))return $APP.ld(a);if(null==a)return $APP.fg();if("string"===typeof a)return new gg(a);if(vb(a))return new hg(a);if(Me(a))return new jg(a);throw Error(["Cannot create iterator from ",$APP.t.o(a)].join(""));};lg=function(a){this.Ue=a};mg=function(a){this.val=a};ng=function(){};og=function(a){this.Lf=a};
rg=function(a,b){this.buffer=pg;this.Gb=qg;this.Ff=!1;this.Bc=null;this.$f=a;this.multi=b};sg=function(a,b,c){var d=new rg(b,c);d.Bc=function(){var e=function(){function f(k,l){d.buffer=d.buffer.add(l);return k}var g=null;g=function(k,l){switch(arguments.length){case 0:return null;case 1:return k;case 2:return f.call(this,k,l)}throw Error("Invalid arity: "+arguments.length);};g.C=function(){return null};g.o=function(k){return k};g.j=f;return g}();return a.o?a.o(e):a.call(null,e)}();return d};
$APP.tg=function(a,b){for(;;){if(null==$APP.x(b))return!0;var c=$APP.y(b);c=a.o?a.o(c):a.call(null,c);if($APP.p(c))b=$APP.z(b);else return!1}};$APP.ug=function(a,b){for(;;)if(b=$APP.x(b)){var c=$APP.y(b);c=a.o?a.o(c):a.call(null,c);if($APP.p(c))return c;b=$APP.z(b)}else return null};$APP.vg=function(a){if($APP.Pe(a))return 0===(a&1);throw Error(["Argument must be an integer: ",$APP.t.o(a)].join(""));};
xg=function(a){return function(){function b(g,k){return $APP.wb(a.j?a.j(g,k):a.call(null,g,k))}function c(g){return $APP.wb(a.o?a.o(g):a.call(null,g))}function d(){return $APP.wb(a.C?a.C():a.call(null))}var e=null,f=function(){function g(l,h,r){var q=null;if(2<arguments.length){q=0;for(var w=Array(arguments.length-2);q<w.length;)w[q]=arguments[q+2],++q;q=new $APP.Fd(w,0,null)}return k.call(this,l,h,q)}function k(l,h,r){return $APP.wb($APP.wg.J(a,l,h,r))}g.B=2;g.F=function(l){var h=$APP.y(l);l=$APP.z(l);
var r=$APP.y(l);l=$APP.Jd(l);return k(h,r,l)};g.A=k;return g}();e=function(g,k,l){switch(arguments.length){case 0:return d.call(this);case 1:return c.call(this,g);case 2:return b.call(this,g,k);default:var h=null;if(2<arguments.length){h=0;for(var r=Array(arguments.length-2);h<r.length;)r[h]=arguments[h+2],++h;h=new $APP.Fd(r,0,null)}return f.A(g,k,h)}throw Error("Invalid arity: "+arguments.length);};e.B=2;e.F=f.F;e.C=d;e.o=c;e.j=b;e.A=f.A;return e}()};
$APP.yg=function(a){return function(){function b(c){if(0<arguments.length)for(var d=0,e=Array(arguments.length-0);d<e.length;)e[d]=arguments[d+0],++d;return a}b.B=0;b.F=function(c){$APP.x(c);return a};b.A=function(){return a};return b}()};$APP.zg=function(a,b,c){this.state=a;this.meta=b;this.cg=c;this.Bb=null;this.R=16386;this.M=6455296};
$APP.Ag=function(a,b){if(a instanceof $APP.zg){var c=a.cg;if(null!=c&&!$APP.p(c.o?c.o(b):c.call(null,b)))throw Error("Validator rejected reference state");c=a.state;a.state=b;null!=a.Bb&&a.Ce(c,b);return b}return hd(a,b)};Bg=function(a){this.state=a;this.M=32768;this.R=0};$APP.Cg=function(a){return new Bg(a)};Dg=function(a,b){return $APP.jd(a,b)};$APP.Fg=function(a,b){var c=$APP.x(b);for(a=$APP.x($APP.Eg.j(a,b));;)if(a)c=$APP.z(c),a=$APP.z(a);else return c};
Gg=function(a,b,c,d,e){this.meta=a;this.all=b;this.prev=c;this.current=d;this.Gb=e;this.M=26083532;this.R=1};Hg=function(a){if(!a.current){var b=$APP.z(a.prev);a.current=b?b:a.all}return a.current};Jg=function(a,b){return new $APP.N(null,2,5,$APP.O,[$APP.Ig.j(a,b),$APP.Eg.j(a,b)],null)};$APP.Kg=function(a,b,c,d,e){this.meta=a;this.count=b;this.val=c;this.next=d;this.N=e;this.M=32374988;this.R=1};Lg=function(a,b,c,d,e){this.meta=a;this.f=b;this.Rf=c;this.seed=d;this.next=e;this.M=26083532;this.R=1};
Mg=function(a,b){return new Lg(null,a,null,b,null)};Og=function(a,b,c){return function f(e){return new $APP.Ff(null,function(){return $APP.wf(e,$APP.p(a.o?a.o(e):a.call(null,e))?$APP.Ng.A(f,$APP.F([b.o?b.o(e):b.call(null,e)])):null)},null,null)}(c)};$APP.Qg=function(a){return $APP.Pg.j(function(b){return!$APP.De(b)},$APP.Jd(Og($APP.De,$APP.x,a)))};Rg=function(a,b){this.va=a;this.K=b};
Sg=function(a){return new Rg(a,[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null])};Tg=function(a){return new Rg(a.va,Eb(a.K))};Ug=function(a){a=a.P;return 32>a?0:a-1>>>5<<5};Vg=function(a,b,c){for(;;){if(0===b)return c;var d=Sg(a);d.K[0]=c;c=d;b-=5}};Xg=function(a,b){throw Error(["No item ",$APP.t.o(a)," in vector of length ",$APP.t.o(b)].join(""));};
Yg=function(a,b){if(b>=Ug(a))return a.tail;var c=a.root;for(a=a.shift;;)if(0<a){var d=a-5;c=c.K[b>>>a&31];a=d}else return c.K};Zg=function(a,b){return 0<=b&&b<a.P?Yg(a,b):Xg(b,a.P)};$g=function(a,b,c,d,e,f){this.i=a;this.base=b;this.K=c;this.xb=d;this.start=e;this.end=f};ah=function(a,b,c){return new $g(b,b-b%32,b<$APP.ge(a)?Yg(a,b):null,a,b,c)};ch=function(a,b,c,d){return c<d?bh(a,b,$APP.D.j(a,c),c+1,d):b.C?b.C():b.call(null)};
bh=function(a,b,c,d,e){var f=c;c=d;for(d=Yg(a,d);;)if(c<e){var g=c&31;d=0===g?Yg(a,c):d;g=d[g];f=b.j?b.j(f,g):b.call(null,f,g);if(Wd(f))return $APP.u(f);c+=1}else return f};$APP.N=function(a,b,c,d,e,f){this.meta=a;this.P=b;this.shift=c;this.root=d;this.tail=e;this.N=f;this.M=167666463;this.R=139268};
$APP.eh=function(a,b){var c=a.length;a=b?a:Eb(a);if(32>c)return new $APP.N(null,c,5,$APP.O,a,null);var d=a.slice(0,32);b=32;for(var e=(new $APP.N(null,32,5,$APP.O,d,null)).Bd(null);;)if(b<c)d=b+1,e=$APP.dh.j(e,a[b]),b=d;else return $APP.Uc(e)};$APP.jh=function(a){return $APP.p(fh.o?fh.o(a):fh.call(null,a))?new $APP.N(null,2,5,$APP.O,[gh.o?gh.o(a):gh.call(null,a),hh.o?hh.o(a):hh.call(null,a)],null):$APP.Ge(a)?$APP.ve(a,null):vb(a)?$APP.eh(a,!0):$APP.Uc($APP.cf.v(Tc,$APP.Sc($APP.ih),a))};
$APP.kh=function(a,b,c,d,e,f){this.cc=a;this.node=b;this.i=c;this.off=d;this.meta=e;this.N=f;this.M=32375020;this.R=1536};nh=function(a){switch(arguments.length){case 3:var b=arguments[0],c=arguments[1],d=arguments[2];return new $APP.kh(b,Zg(b,c),c,d,null,null);case 4:return lh(arguments[0],arguments[1],arguments[2],arguments[3]);case 5:return mh(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4]);default:throw Error(["Invalid arity: ",$APP.t.o(arguments.length)].join(""));}};
lh=function(a,b,c,d){return new $APP.kh(a,b,c,d,null,null)};mh=function(a,b,c,d,e){return new $APP.kh(a,b,c,d,e,null)};$APP.oh=function(a,b,c,d,e){this.meta=a;this.xb=b;this.start=c;this.end=d;this.N=e;this.M=167666463;this.R=139264};ph=function(a,b,c,d,e){for(;;)if(b instanceof $APP.oh)c=b.start+c,d=b.start+d,b=b.xb;else{if(!$APP.Ge(b))throw Error("v must satisfy IVector");if(0>c||d<c||d>$APP.ge(b))throw Error("Index out of bounds");return new $APP.oh(a,b,c,d,e)}};
qh=function(a,b){return a===b.va?b:new Rg(a,Eb(b.K))};rh=function(a){return new Rg({},Eb(a.K))};th=function(a){var b=[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null];Ie(a,0,b,0,a.length);return b};uh=function(a,b,c,d){this.P=a;this.shift=b;this.root=c;this.tail=d;this.R=88;this.M=275};
vh=function(a,b,c){if(a.root.va){if(0<=b&&b<a.P){if(Ug(a)<=b)a.tail[b&31]=c;else{var d=function k(f,g){g=qh(a.root.va,g);if(0===f)g.K[b&31]=c;else{var l=b>>>f&31;f=k(f-5,g.K[l]);g.K[l]=f}return g}(a.shift,a.root);a.root=d}return a}if(b===a.P)return a.Gd(null,c);throw Error(["Index ",$APP.t.o(b)," out of bounds for TransientVector of length",$APP.t.o(a.P)].join(""));}throw Error("assoc! after persistent!");};wh=function(a,b){this.Id=a;this.qe=b};
$APP.xh=function(a,b,c,d){this.meta=a;this.Ob=b;this.Tb=c;this.N=d;this.M=31850700;this.R=0};$APP.yh=function(a,b,c,d,e){this.meta=a;this.count=b;this.Ob=c;this.Tb=d;this.N=e;this.R=139264;this.M=31858766};$APP.zh=function(){this.M=2097152;this.R=0};
Bh=function(a,b){return Ne($APP.Ee(b)&&!$APP.Fe(b)?$APP.ge(a)===$APP.ge(b)?(null!=a?a.M&1048576||$APP.wd===a.Ji||(a.M?0:$APP.zb(vc,a)):$APP.zb(vc,a))?$APP.ff(function(c,d,e){return $APP.A.j($APP.Re.v(b,d,Ah),e)?!0:$APP.Vd(!1)},!0,a):$APP.tg(function(c){return $APP.A.j($APP.Re.v(b,$APP.y(c),Ah),$APP.le(c))},a):null:null)};$APP.Ch=function(a,b,c,d){this.i=0;this.pi=a;this.lg=b;this.nd=c;this.Dg=d};Dh=function(a){this.s=a};Eh=function(a){this.s=a};
Fh=function(a,b){if(b instanceof $APP.K)a:{var c=a.length;b=b.ia;for(var d=0;;){if(c<=d){a=-1;break a}if(a[d]instanceof $APP.K&&b===a[d].ia){a=d;break a}d+=2}}else if("string"===typeof b||"number"===typeof b)a:for(c=a.length,d=0;;){if(c<=d){a=-1;break a}if(b===a[d]){a=d;break a}d+=2}else if(b instanceof $APP.v)a:for(c=a.length,b=b.Pb,d=0;;){if(c<=d){a=-1;break a}if(a[d]instanceof $APP.v&&b===a[d].Pb){a=d;break a}d+=2}else if(null==b)a:for(b=a.length,c=0;;){if(b<=c){a=-1;break a}if(null==a[c]){a=c;
break a}c+=2}else a:for(c=a.length,d=0;;){if(c<=d){a=-1;break a}if($APP.A.j(b,a[d])){a=d;break a}d+=2}return a};$APP.Ue=function(a,b,c){this.key=a;this.val=b;this.N=c;this.M=166619935;this.R=0};fh=function(a){return null!=a?a.M&2048||$APP.wd===a.Li?!0:!1:!1};$APP.Gh=function(a,b,c){this.K=a;this.i=b;this.fc=c;this.M=32374990;this.R=0};Hh=function(a,b){this.K=a;this.i=0;this.P=b};$APP.n=function(a,b,c,d){this.meta=a;this.P=b;this.K=c;this.N=d;this.M=16647951;this.R=139268};
$APP.Ih=function(a,b,c){a=b?a:Eb(a);if(!c){c=[];for(b=0;;)if(b<a.length){var d=a[b],e=a[b+1];-1===Fh(c,d)&&(c.push(d),c.push(e));b+=2}else break;a=c}return new $APP.n(null,a.length/2,a,null)};Jh=function(a,b){return a===b?!0:$APP.zf(a,b)?!0:$APP.A.j(a,b)};Kh=function(a){for(var b=0,c=0;;)if(b<a.length){var d;a:for(d=0;;)if(d<b){var e=Jh(a[b],a[d]);if(e){d=e;break a}d=2+d}else{d=!1;break a}c=d?c:c+2;b=2+b}else return c};
Lh=function(a,b){var c=a.length-1,d=$APP.x(b);b=Array(c+2*$APP.ge(d));a=Ie(a,0,b,0,c);for(b=c;;)if(d){var e=$APP.y(d);a[b]=ec(e);a[b+1]=fc(e);b=2+c;d=$APP.z(d)}else return a};$APP.Zf=function(a){var b=a.length,c=1===(b&1),d;if(!(d=c))a:for(d=0;;)if(d<a.length){var e;b:for(e=0;;)if(e<d){var f=Jh(a[d],a[e]);if(f){e=f;break b}e=2+e}else{e=!1;break b}if(e){d=e;break a}d=2+d}else{d=!1;break a}return d?Mh(a,c):new $APP.n(null,b/2,a,null)};
Mh=function(a,b){var c=b?Lh(a,$APP.Nh.j($APP.$f,a[a.length-1])):a;a=Kh(c);var d=c.length;if(a<d){a=Array(a);for(var e=0,f=0;;)if(e<d)(function(){for(var g=0;;)if(g<f){var k=Jh(c[e],c[g]);if(k)return k;g=2+g}else return!1})()?(b=f,e=2+e,f=b):(b=function(){for(var g=d-2;;)if(g>=e){if(Jh(c[e],c[g]))return g;g-=2}else return g}(),a[f]=c[e],a[f+1]=c[b+1],b=2+f,e=2+e,f=b);else break;return new $APP.n(null,a.length/2,a,null)}return new $APP.n(null,c.length/2,c,null)};
Oh=function(a,b){this.md={};this.uc=a;this.K=b;this.M=259;this.R=56};Rh=function(a,b){for(var c=$APP.Sc(Ph),d=0;;)if(d<a)c=$APP.Qh.v(c,b[d],b[d+1]),d+=2;else return c};Sh=function(){this.val=!1};Th=function(a,b,c){a=Eb(a);a[b]=c;return a};Uh=function(a,b){var c=Array(a.length-2);Ie(a,0,c,0,2*b);Ie(a,2*(b+1),c,2*b,c.length-2*b);return c};Vh=function(a,b,c,d){a=a.Qc(b);a.K[c]=d;return a};
Wh=function(a,b,c){for(var d=a.length,e=0,f=c;;)if(e<d){c=a[e];if(null!=c){var g=a[e+1];c=b.v?b.v(f,c,g):b.call(null,f,c,g)}else c=a[e+1],c=null!=c?c.qd(b,f):f;if(Wd(c))return c;e+=2;f=c}else return f};Xh=function(a){this.K=a;this.i=0;this.xc=this.je=null};Yh=function(a,b,c){this.va=a;this.xa=b;this.K=c;this.R=131072;this.M=0};Zh=function(a,b,c,d){if(a.xa===c)return null;a=a.Qc(b);b=a.K;var e=b.length;a.xa^=c;Ie(b,2*(d+1),b,2*d,e-2*(d+1));b[e-2]=null;b[e-1]=null;return a};
$h=function(a,b,c){var d=a.K,e=d.length;a=Array(2*(a.P-1));for(var f=0,g=1,k=0;;)if(f<e)f!==c&&null!=d[f]?(a[g]=d[f],g+=2,k|=1<<f,f+=1):f+=1;else return new Yh(b,k,a)};ai=function(a){this.K=a;this.i=0;this.xc=null};bi=function(a,b,c){this.va=a;this.P=b;this.K=c;this.R=131072;this.M=0};di=function(a,b,c){b*=2;for(var d=0;;)if(d<b){if(Jh(c,a[d]))return d;d+=2}else return-1};ei=function(a,b,c,d){this.va=a;this.Pc=b;this.P=c;this.K=d;this.R=131072;this.M=0};
hi=function(a){switch(arguments.length){case 6:return fi(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]);case 7:return gi(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6]);default:throw Error(["Invalid arity: ",$APP.t.o(arguments.length)].join(""));}};fi=function(a,b,c,d,e,f){var g=$APP.xd(b);if(g===d)return new ei(null,g,2,[b,c,e,f]);var k=new Sh;return ii.sc(a,g,b,c,k).sc(a,d,e,f,k)};
gi=function(a,b,c,d,e,f,g){var k=$APP.xd(c);if(k===e)return new ei(null,k,2,[c,d,f,g]);var l=new Sh;return ii.tc(a,b,k,c,d,l).tc(a,b,e,f,g,l)};$APP.ji=function(a,b,c,d,e){this.meta=a;this.nodes=b;this.i=c;this.s=d;this.N=e;this.M=32374988;this.R=0};mi=function(a){switch(arguments.length){case 1:return ki(arguments[0]);case 3:return li(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",$APP.t.o(arguments.length)].join(""));}};ki=function(a){return li(a,0,null)};
li=function(a,b,c){if(null==c)for(c=a.length;;)if(b<c){if(null!=a[b])return new $APP.ji(null,a,b,null,null);var d=a[b+1];if($APP.p(d)&&(d=d.fe(),$APP.p(d)))return new $APP.ji(null,a,b+2,d,null);b+=2}else return null;else return new $APP.ji(null,a,b,c,null)};$APP.ni=function(a,b,c,d,e){this.meta=a;this.nodes=b;this.i=c;this.s=d;this.N=e;this.M=32374988;this.R=0};
qi=function(a){switch(arguments.length){case 1:return oi(arguments[0]);case 3:return pi(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",$APP.t.o(arguments.length)].join(""));}};oi=function(a){return pi(a,0,null)};pi=function(a,b,c){if(null==c)for(c=a.length;;)if(b<c){var d=a[b];if($APP.p(d)&&(d=d.fe(),$APP.p(d)))return new $APP.ni(null,a,b+1,d,null);b+=1}else return null;else return new $APP.ni(null,a,b,c,null)};ri=function(a,b){this.Db=a;this.gh=b;this.Zf=!1};
$APP.si=function(a,b,c,d,e,f){this.meta=a;this.P=b;this.root=c;this.Cb=d;this.Db=e;this.N=f;this.M=16123663;this.R=139268};$APP.ti=function(a,b){for(var c=a.length,d=0,e=$APP.Sc(Ph);;)if(d<c){if(b.length<=d)throw Error(["No value supplied for key: ",$APP.t.o(a[d])].join(""));var f=d+1;e=Vc(e,a[d],b[d]);d=f}else return $APP.Uc(e)};ui=function(a,b,c,d){this.va={};this.root=a;this.count=b;this.Cb=c;this.Db=d;this.M=259;this.R=56};
vi=function(a,b,c){if(a.va){if(null==b)a.Db!==c&&(a.Db=c),a.Cb||(a.count+=1,a.Cb=!0);else{var d=new Sh;b=(null==a.root?ii:a.root).tc(a.va,0,$APP.xd(b),b,c,d);b!==a.root&&(a.root=b);d.val&&(a.count+=1)}return a}throw Error("assoc! after persistent!");};wi=function(a,b,c){for(var d=b;;)if(null!=a)b=c?a.left:a.right,d=$APP.tf.j(d,a),a=b;else return d};$APP.xi=function(a,b,c,d,e){this.meta=a;this.stack=b;this.ed=c;this.P=d;this.N=e;this.M=32374990;this.R=0};
yi=function(a,b,c){return new $APP.xi(null,wi(a,null,b),b,c,null)};Bi=function(a,b,c,d){return c instanceof $APP.zi?c.left instanceof $APP.zi?new $APP.zi(c.key,c.val,c.left.Jc(),new $APP.Ai(a,b,c.right,d,null),null):c.right instanceof $APP.zi?new $APP.zi(c.right.key,c.right.val,new $APP.Ai(c.key,c.val,c.left,c.right.left,null),new $APP.Ai(a,b,c.right.right,d,null),null):new $APP.Ai(a,b,c,d,null):new $APP.Ai(a,b,c,d,null)};
Ci=function(a,b,c,d){return d instanceof $APP.zi?d.right instanceof $APP.zi?new $APP.zi(d.key,d.val,new $APP.Ai(a,b,c,d.left,null),d.right.Jc(),null):d.left instanceof $APP.zi?new $APP.zi(d.left.key,d.left.val,new $APP.Ai(a,b,c,d.left.left,null),new $APP.Ai(d.key,d.val,d.left.right,d.right,null),null):new $APP.Ai(a,b,c,d,null):new $APP.Ai(a,b,c,d,null)};
Di=function(a,b,c,d){if(c instanceof $APP.zi)return new $APP.zi(a,b,c.Jc(),d,null);if(d instanceof $APP.Ai)return Ci(a,b,c,d.oe());if(d instanceof $APP.zi&&d.left instanceof $APP.Ai)return new $APP.zi(d.left.key,d.left.val,new $APP.Ai(a,b,c,d.left.left,null),Ci(d.key,d.val,d.left.right,d.right.oe()),null);throw Error("red-black tree invariant violation");};
Ei=function(a,b,c,d){if(d instanceof $APP.zi)return new $APP.zi(a,b,c,d.Jc(),null);if(c instanceof $APP.Ai)return Bi(a,b,c.oe(),d);if(c instanceof $APP.zi&&c.right instanceof $APP.Ai)return new $APP.zi(c.right.key,c.right.val,Bi(c.key,c.val,c.left.oe(),c.right.left),new $APP.Ai(a,b,c.right.right,d,null),null);throw Error("red-black tree invariant violation");};$APP.Ai=function(a,b,c,d,e){this.key=a;this.val=b;this.left=c;this.right=d;this.N=e;this.M=166619935;this.R=0};
$APP.zi=function(a,b,c,d,e){this.key=a;this.val=b;this.left=c;this.right=d;this.N=e;this.M=166619935;this.R=0};$APP.Fi=function(a,b,c,d,e){this.Nb=a;this.mc=b;this.P=c;this.meta=d;this.N=e;this.M=418776847;this.R=8192};Gi=function(a,b){for(var c=a.mc;;)if(null!=c){var d=c.key;d=a.Nb.j?a.Nb.j(b,d):a.Nb.call(null,b,d);if(0===d)return c;c=0>d?c.left:c.right}else return null};$APP.Hi=function(a,b){this.wa=a;this.fc=b;this.M=32374988;this.R=0};
$APP.Ii=function(a){return(a=$APP.x(a))?new $APP.Hi(a,null):null};gh=function(a){return ec(a)};$APP.Ji=function(a,b){this.wa=a;this.fc=b;this.M=32374988;this.R=0};$APP.Ki=function(a){return(a=$APP.x(a))?new $APP.Ji(a,null):null};hh=function(a){return fc(a)};$APP.Oi=function(a,b){var c=$APP.$f;for(b=$APP.x(b);;)if(b){var d=$APP.y(b),e=$APP.Re.v(a,d,Li);c=$APP.Mi.j(e,Li)?$APP.Ni.v(c,d,e):c;b=$APP.z(b)}else return $APP.sc(c,$APP.we(a))};Pi=function(a){this.Ld=a};
$APP.Qi=function(a,b,c){this.meta=a;this.Hc=b;this.N=c;this.M=15077647;this.R=139268};$APP.Si=function(a){for(var b=a.length,c=$APP.Sc($APP.Ri),d=0;;)if(d<b)Tc(c,a[d]),d+=1;else break;return $APP.Uc(c)};Ti=function(a){this.Uc=a;this.R=136;this.M=259};$APP.Vi=function(a,b,c){this.meta=a;this.ac=b;this.N=c;this.M=417730831;this.R=8192};
$APP.Wi=function(a){if($APP.Be(a))return $APP.ve(a,null);a=$APP.x(a);if(null==a)return $APP.Ri;if(a instanceof $APP.Fd&&0===a.i)return $APP.Si(a.K);for(var b=$APP.Sc($APP.Ri);;)if(null!=a){var c=$APP.z(a);b=Tc(b,Rb(a));a=c}else return $APP.Uc(b)};$APP.Xi=function(a){for(var b=$APP.ih;;)if($APP.z(a))b=$APP.tf.j(b,$APP.y(a)),a=$APP.z(a);else return $APP.x(b)};
$APP.Yi=function(a){if(null!=a&&(a.R&4096||$APP.wd===a.sf))return a.Cd(null);if("string"===typeof a)return a;throw Error(["Doesn't support name: ",$APP.t.o(a)].join(""));};$APP.Zi=function(a,b){var c=$APP.Sc($APP.$f);a=$APP.x(a);for(b=$APP.x(b);;)if(a&&b)c=$APP.Qh.v(c,$APP.y(a),$APP.y(b)),a=$APP.z(a),b=$APP.z(b);else return $APP.Uc(c)};$i=function(){this.K=[]};aj=function(a,b,c){return function(d){var e=Lc(a);d=Jc(a,d);e=e.j?e.j(d,c):e.call(null,d,c);return b.j?b.j(e,0):b.call(null,e,0)}};
bj=function(a,b,c){this.start=a;this.step=b;this.count=c;this.M=82;this.R=0};cj=function(a,b,c){this.i=a;this.end=b;this.step=c};$APP.dj=function(a,b,c,d,e,f,g){this.meta=a;this.start=b;this.end=c;this.step=d;this.vb=e;this.oc=f;this.N=g;this.M=32375006;this.R=140800};$APP.ej=function(a,b,c,d,e,f,g){this.meta=a;this.start=b;this.end=c;this.step=d;this.vb=e;this.oc=f;this.N=g;this.R=140800;this.M=32374988};hj=function(a,b){return new $APP.N(null,2,5,$APP.O,[$APP.fj.j(a,b),gj.j(a,b)],null)};
ij=function(a){return $APP.Uc($APP.cf.v(function(b,c){return $APP.Qh.v(b,c,$APP.Re.v(b,c,0)+1)},$APP.Sc($APP.$f),a))};$APP.jj=function(a,b){if("string"===typeof b)return a=a.exec(b),null!=a&&$APP.A.j(a[0],b)?1===a.length?a[0]:$APP.jh(a):null;throw new TypeError("re-matches must match against a string.");};$APP.kj=function(a,b){if("string"===typeof b)return a=a.exec(b),null==a?null:1===a.length?a[0]:$APP.jh(a);throw new TypeError("re-find must match against a string.");};
$APP.mj=function(a){if(a instanceof RegExp)return a;var b=$APP.kj(/^\(\?([idmsux]*)\)/,a),c=$APP.D.v(b,0,null);b=$APP.D.v(b,1,null);a=$APP.lj.j(a,null==c?0:c.length);return new RegExp(a,$APP.p(b)?b:"")};
$APP.pj=function(a,b,c,d,e,f,g){var k=$APP.nj;$APP.nj=null==$APP.nj?null:$APP.nj-1;try{if(null!=$APP.nj&&0>$APP.nj)return $APP.Mc(a,"#");$APP.Mc(a,c);if(0===nb.o(f))$APP.x(g)&&$APP.Mc(a,function(){var C=oj.o(f);return $APP.p(C)?C:"..."}());else{if($APP.x(g)){var l=$APP.y(g);b.v?b.v(l,a,f):b.call(null,l,a,f)}for(var h=$APP.z(g),r=nb.o(f)-1;;)if(!h||null!=r&&0===r){$APP.x(h)&&0===r&&($APP.Mc(a,d),$APP.Mc(a,function(){var C=oj.o(f);return $APP.p(C)?C:"..."}()));break}else{$APP.Mc(a,d);var q=$APP.y(h);
c=a;g=f;b.v?b.v(q,c,g):b.call(null,q,c,g);var w=$APP.z(h);c=r-1;h=w;r=c}}return $APP.Mc(a,e)}finally{$APP.nj=k}};qj=function(a,b){b=$APP.x(b);for(var c=null,d=0,e=0;;)if(e<d){var f=c.fa(null,e);$APP.Mc(a,f);e+=1}else if(b=$APP.x(b))c=b,$APP.He(c)?(b=$APP.bd(c),d=$APP.cd(c),c=b,f=$APP.ge(b),b=d,d=f):(f=$APP.y(c),$APP.Mc(a,f),b=$APP.z(c),c=null,d=0),e=0;else return null};$APP.rj=function(a){if(null==$APP.rb)throw Error("No *print-fn* fn set for evaluation environment");$APP.rb.call(null,a);return null};
tj=function(a){return['"',$APP.t.o(a.replace(RegExp('[\\\\"\b\f\n\r\t]',"g"),function(b){return sj[b]})),'"'].join("")};uj=function(a,b){return(a=Ne($APP.Re.j(a,$APP.ib)))?(a=null!=b?b.M&131072||$APP.wd===b.rf?!0:!1:!1)?null!=$APP.we(b):a:a};
zj=function(a,b,c){if(null==a)return $APP.Mc(b,"nil");if(uj(c,a)){$APP.Mc(b,"^");var d=$APP.we(a);$APP.vj.v?$APP.vj.v(d,b,c):$APP.vj.call(null,d,b,c);$APP.Mc(b," ")}if(a.Vb)return a.dc(b);if(null!=a?a.M&2147483648||$APP.wd===a.ta||(a.M?0:$APP.zb($APP.Nc,a)):$APP.zb($APP.Nc,a))return Oc(a,b,c);if(!0===a||!1===a)return $APP.Mc(b,$APP.t.o(a));if("number"===typeof a)return $APP.Mc(b,isNaN(a)?"##NaN":a===Number.POSITIVE_INFINITY?"##Inf":a===Number.NEGATIVE_INFINITY?"##-Inf":$APP.t.o(a));if($APP.xb(a))return $APP.Mc(b,
"#js "),d=$APP.wj.j(function(f){return new $APP.Ue(null!=$APP.jj(/[A-Za-z_\*\+\?!\-'][\w\*\+\?!\-']*/,f)?$APP.xj.o(f):f,a[f],null)},$APP.Sa(a)),yj.J?yj.J(d,$APP.vj,b,c):yj.call(null,d,$APP.vj,b,c);if(vb(a))return $APP.pj(b,$APP.vj,"#js ["," ","]",c,a);if("string"===typeof a)return $APP.p($APP.gb.o(c))?$APP.Mc(b,tj(a)):$APP.Mc(b,a);if("function"===typeof a){var e=a.name;c=$APP.p(function(){var f=null==e;return f?f:$APP.Ra(e)}())?"Function":e;return qj(b,$APP.F(["#object[",c,$APP.p(!1)?[' "',$APP.t.o(a),
'"'].join(""):"","]"]))}if(a instanceof Date)return c=function(f,g){for(f=$APP.t.o(f);;)if(f.length<g)f=["0",f].join("");else return f},qj(b,$APP.F(['#inst "',c(a.getUTCFullYear(),4),"-",c(a.getUTCMonth()+1,2),"-",c(a.getUTCDate(),2),"T",c(a.getUTCHours(),2),":",c(a.getUTCMinutes(),2),":",c(a.getUTCSeconds(),2),".",c(a.getUTCMilliseconds(),3),"-",'00:00"']));if(a instanceof RegExp)return qj(b,$APP.F(['#"',a.source,'"']));if("symbol"===$APP.oa(a)||"undefined"!==typeof Symbol&&a instanceof Symbol)return qj(b,
$APP.F(["#object[",a.toString(),"]"]));if($APP.p(function(){var f=null==a?null:a.constructor;return null==f?null:f.Rb}()))return qj(b,$APP.F(["#object[",a.constructor.Rb.replace(RegExp("/","g"),"."),"]"]));e=function(){var f=null==a?null:a.constructor;return null==f?null:f.name}();c=$APP.p(function(){var f=null==e;return f?f:$APP.Ra(e)}())?"Object":e;return null==a.constructor?qj(b,$APP.F(["#object[",c,"]"])):qj(b,$APP.F(["#object[",c," ",$APP.t.o(a),"]"]))};
$APP.vj=function(a,b,c){var d=Aj.o(c);return $APP.p(d)?(c=$APP.Ni.v(c,Bj,zj),d.v?d.v(a,b,c):d.call(null,a,b,c)):zj(a,b,c)};Cj=function(a,b){var c=new $APP.eb,d=new $APP.md(c);a:{$APP.vj($APP.y(a),d,b);a=$APP.x($APP.z(a));for(var e=null,f=0,g=0;;)if(g<f){var k=e.fa(null,g);$APP.Mc(d," ");$APP.vj(k,d,b);g+=1}else if(a=$APP.x(a))e=a,$APP.He(e)?(a=$APP.bd(e),f=$APP.cd(e),e=a,k=$APP.ge(a),a=f,f=k):(k=$APP.y(e),$APP.Mc(d," "),$APP.vj(k,d,b),a=$APP.z(e),e=null,f=0),g=0;else break a}d.Ec(null);return c};
Dj=function(a,b){return $APP.ze(a)?"":$APP.t.o(Cj(a,b))};Ej=function(a,b){return $APP.rj(Dj(a,b))};Fj=function(a){$APP.rj("\n");return $APP.Re.j(a,fb),null};Hj=function(a){return a instanceof $APP.v?$APP.Gj.j(null,$APP.Yi(a)):$APP.xj.j(null,$APP.Yi(a))};
$APP.Jj=function(a){if($APP.p(Ij)){var b=$APP.x(a),c=$APP.x(b),d=$APP.y(c);$APP.z(c);$APP.D.v(d,0,null);$APP.D.v(d,1,null);c=$APP.qe(a);for(a=null;;){d=a;b=$APP.x(b);a=$APP.y(b);var e=$APP.z(b),f=a;a=$APP.D.v(f,0,null);b=$APP.D.v(f,1,null);if($APP.p(f))if(a instanceof $APP.K||a instanceof $APP.v)if($APP.p(d))if($APP.A.j(d,$APP.Af(a)))c=$APP.Ni.v(c,Hj(a),b),a=d,b=e;else return null;else if(d=$APP.Af(a),$APP.p(d))c=$APP.Ni.v(c,Hj(a),b),a=d,b=e;else return null;else return null;else return new $APP.N(null,
2,5,$APP.O,[d,c],null)}}else return null};Kj=function(a,b,c,d,e){return $APP.pj(d,function(f,g,k){var l=ec(f);c.v?c.v(l,g,k):c.call(null,l,g,k);$APP.Mc(g," ");f=fc(f);return c.v?c.v(f,g,k):c.call(null,f,g,k)},[$APP.t.o(a),"{"].join(""),", ","}",e,$APP.x(b))};yj=function(a,b,c,d){var e=$APP.Ee(a)?$APP.Jj(a):null,f=$APP.D.v(e,0,null);e=$APP.D.v(e,1,null);return $APP.p(f)?Kj(["#:",$APP.t.o(f)].join(""),e,b,c,d):Kj(null,a,b,c,d)};$APP.Lj=function(a,b){this.f=a;this.value=b;this.M=2147516416;this.R=1};
$APP.Mj=function(a){return a instanceof $APP.Lj};Nj=function(a){return $APP.Mj(a)?$APP.u(a):a};Oj=function(a){return function(b,c){b=a.j?a.j(b,c):a.call(null,b,c);return Wd(b)?$APP.Vd(b):b}};
Pj=function(a){var b=Oj(a);return function(){function c(g,k){return $APP.cf.v(b,g,k)}function d(g){return a.o?a.o(g):a.call(null,g)}function e(){return a.C?a.C():a.call(null)}var f=null;f=function(g,k){switch(arguments.length){case 0:return e.call(this);case 1:return d.call(this,g);case 2:return c.call(this,g,k)}throw Error("Invalid arity: "+arguments.length);};f.C=e;f.o=d;f.j=c;return f}()};$APP.Qj=function(a,b){this.Ve=a;this.Ee=b;this.M=2173173760;this.R=131072};
Rj=function(a,b){$APP.cf.v(function(c,d){return a.o?a.o(d):a.call(null,d)},null,b);return null};Sj=function(){};Tj=function(a){if(null!=a&&null!=a.zh)a=a.zh(a);else{var b=Tj[$APP.oa(null==a?null:a)];if(null!=b)a=b.o?b.o(a):b.call(null,a);else if(b=Tj._,null!=b)a=b.o?b.o(a):b.call(null,a);else throw $APP.Bb("IEncodeJS.-clj-\x3ejs",a);}return a};
Vj=function(a,b){return(null!=a?$APP.wd===a.yh||(a.Hd?0:$APP.zb(Sj,a)):$APP.zb(Sj,a))?Tj(a):"string"===typeof a||"number"===typeof a||a instanceof $APP.K||a instanceof $APP.v?b.o?b.o(a):b.call(null,a):$APP.Uj.A($APP.F([a]))};Wj=function(){};Xj=function(a,b){if(null!=a&&null!=a.xh)a=a.xh(a,b);else{var c=Xj[$APP.oa(null==a?null:a)];if(null!=c)a=c.j?c.j(a,b):c.call(null,a,b);else if(c=Xj._,null!=c)a=c.j?c.j(a,b):c.call(null,a,b);else throw $APP.Bb("IEncodeClojure.-js-\x3eclj",a);}return a};
$APP.ak=function(a){var b=$APP.Yj.o($APP.$f);return function(){function c(e){var f=null;if(0<arguments.length){f=0;for(var g=Array(arguments.length-0);f<g.length;)g[f]=arguments[f+0],++f;f=new $APP.Fd(g,0,null)}return d.call(this,f)}function d(e){var f=$APP.Re.v($APP.u(b),e,Se);return f===Se?(f=$APP.wg.j(a,e),$APP.Zj.J(b,$APP.Ni,e,f),f):f}c.B=0;c.F=function(e){e=$APP.x(e);return d(e)};c.A=d;return c}()};bk=function(a){return Math.floor(Math.random()*a)};
ck=function(a,b){return $APP.Uc($APP.cf.v(function(c,d){var e=a.o?a.o(d):a.call(null,d);return $APP.Qh.v(c,e,$APP.tf.j($APP.Re.v(c,e,$APP.ih),d))},$APP.Sc($APP.$f),b))};gk=function(){return new $APP.n(null,3,[dk,$APP.$f,ek,$APP.$f,fk,$APP.$f],null)};$APP.ik=function(){null==hk&&(hk=$APP.Yj.o(gk()));return hk};lk=function(a){var b=jk;return kk($APP.u($APP.ik()),a,b)};
kk=function(a,b,c){var d=$APP.A.j(b,c);if(d)return d;d=fk.o(a);d=d.o?d.o(b):d.call(null,b);if(!(d=$APP.Te(d,c))&&(d=$APP.Ge(c)))if(d=$APP.Ge(b))if(d=$APP.ge(c)===$APP.ge(b)){d=!0;for(var e=0;;)if(d&&e!==$APP.ge(c))d=kk(a,b.o?b.o(e):b.call(null,e),c.o?c.o(e):c.call(null,e)),e+=1;else return d}else return d;else return d;else return d};nk=function(a){return mk($APP.u($APP.ik()),a)};mk=function(a,b){return $APP.bg($APP.Re.j(dk.o(a),b))};ok=function(a,b){return $APP.bg($APP.Re.j(fk.o(a),b))};
pk=function(a,b){return $APP.bg($APP.Re.j(ek.o(a),b))};qk=function(a,b,c,d){$APP.Zj.j(a,function(){return $APP.u(b)});return $APP.Zj.j(c,function(){return $APP.u(d)})};sk=function(a,b,c,d){c=rk(a,b,c);return $APP.p(c)?c:kk(d,a,b)};tk=function(a){if(null!=a&&null!=a.vg)a=a.vg(a);else{var b=tk[$APP.oa(null==a?null:a)];if(null!=b)a=b.o?b.o(a):b.call(null,a);else if(b=tk._,null!=b)a=b.o?b.o(a):b.call(null,a);else throw $APP.Bb("IMultiFn.-reset",a);}return a};
$APP.uk=function(a,b,c){if(null!=a&&null!=a.Qa)a=a.Qa(a,b,c);else{var d=$APP.uk[$APP.oa(null==a?null:a)];if(null!=d)a=d.v?d.v(a,b,c):d.call(null,a,b,c);else if(d=$APP.uk._,null!=d)a=d.v?d.v(a,b,c):d.call(null,a,b,c);else throw $APP.Bb("IMultiFn.-add-method",a);}return a};
vk=function(a,b){if(null!=a&&null!=a.ug)a=a.ug(a,b);else{var c=vk[$APP.oa(null==a?null:a)];if(null!=c)a=c.j?c.j(a,b):c.call(null,a,b);else if(c=vk._,null!=c)a=c.j?c.j(a,b):c.call(null,a,b);else throw $APP.Bb("IMultiFn.-remove-method",a);}return a};wk=function(a,b,c){if(null!=a&&null!=a.sg)a=a.sg(a,b,c);else{var d=wk[$APP.oa(null==a?null:a)];if(null!=d)a=d.v?d.v(a,b,c):d.call(null,a,b,c);else if(d=wk._,null!=d)a=d.v?d.v(a,b,c):d.call(null,a,b,c);else throw $APP.Bb("IMultiFn.-prefer-method",a);}return a};
xk=function(a,b){if(null!=a&&null!=a.wb)a=a.wb(a,b);else{var c=xk[$APP.oa(null==a?null:a)];if(null!=c)a=c.j?c.j(a,b):c.call(null,a,b);else if(c=xk._,null!=c)a=c.j?c.j(a,b):c.call(null,a,b);else throw $APP.Bb("IMultiFn.-get-method",a);}return a};yk=function(a){if(null!=a&&null!=a.rg)a=a.rg(a);else{var b=yk[$APP.oa(null==a?null:a)];if(null!=b)a=b.o?b.o(a):b.call(null,a);else if(b=yk._,null!=b)a=b.o?b.o(a):b.call(null,a);else throw $APP.Bb("IMultiFn.-methods",a);}return a};
zk=function(a){if(null!=a&&null!=a.tg)a=a.tg(a);else{var b=zk[$APP.oa(null==a?null:a)];if(null!=b)a=b.o?b.o(a):b.call(null,a);else if(b=zk._,null!=b)a=b.o?b.o(a):b.call(null,a);else throw $APP.Bb("IMultiFn.-prefers",a);}return a};Ak=function(a,b){throw Error(["No method in multimethod '",$APP.t.o(a),"' for dispatch value: ",$APP.t.o(b)].join(""));};$APP.Bk=function(a,b,c,d,e,f,g,k){this.name=a;this.ha=b;this.Nh=c;this.Jd=d;this.Sc=e;this.ke=f;this.rd=g;this.hd=k;this.M=4194305;this.R=4352};
Ck=function(a,b){return xk(a,b)};$APP.Dk=function(a,b){this.uuid=a;this.N=b;this.M=2153775104;this.R=2048};
Ek=function(){function a(){return bk(16).toString(16)}var b=(8|3&bk(16)).toString(16);return new $APP.Dk([$APP.t.o(a()),$APP.t.o(a()),$APP.t.o(a()),$APP.t.o(a()),$APP.t.o(a()),$APP.t.o(a()),$APP.t.o(a()),$APP.t.o(a()),"-",$APP.t.o(a()),$APP.t.o(a()),$APP.t.o(a()),$APP.t.o(a()),"-4",$APP.t.o(a()),$APP.t.o(a()),$APP.t.o(a()),"-",$APP.t.o(b),$APP.t.o(a()),$APP.t.o(a()),$APP.t.o(a()),"-",$APP.t.o(a()),$APP.t.o(a()),$APP.t.o(a()),$APP.t.o(a()),$APP.t.o(a()),$APP.t.o(a()),$APP.t.o(a()),$APP.t.o(a()),$APP.t.o(a()),
$APP.t.o(a()),$APP.t.o(a()),$APP.t.o(a())].join("").toLowerCase(),null)};Fk=function(a,b,c){var d=Error(a);this.message=a;this.data=b;this.cause=c;this.name=d.name;this.description=d.description;this.number=d.number;this.fileName=d.fileName;this.lineNumber=d.lineNumber;this.columnNumber=d.columnNumber;this.stack=d.stack;return this};Gk=function(a){return a instanceof Fk?a.data:null};Hk=function(a){return a instanceof Error?a.message:null};Ik=function(a){return a instanceof Fk?a.cause:null};
$APP.il=function(a){return $APP.Te(new $APP.Qi(null,new $APP.n(null,24,[$APP.Jk,"null",Kk,"null",Lk,"null",Ok,"null",Pk,"null",$APP.Qk,"null",Rk,"null",$APP.Sk,"null",Tk,"null",$APP.Uk,"null",Vk,"null",$APP.Wk,"null",Xk,"null",Yk,"null",Zk,"null",$APP.$k,"null",$APP.al,"null",bl,"null",$APP.cl,"null",$APP.dl,"null",$APP.el,"null",$APP.fl,"null",gl,"null",$APP.hl,"null"],null),null),a)};jl=function(a,b){this.tag=a;this.form=b;this.M=2153775360;this.R=0};
ml=function(a){null==kl&&(kl=$APP.cf.v(function(b,c){b[c]=!0;return b},{},ll));return kl.hasOwnProperty(a)};ql=function(){$APP.p(nl)||(nl=function(){for(var a=ol.j(function(e,f){return f.length-e.length},$APP.Sa(pl)),b="";;)if($APP.x(a)){var c=$APP.z(a),d=[function(){var e=b;return""!==b?[e,"|"].join(""):e}(),$APP.t.o($APP.y(a))].join("");a=c;b=d}else return[b,"|\\$"].join("")}());return nl};
sl=function(a){var b=$APP.t.o(a);for(var c=new $APP.eb,d=0;;)if(d<b.length){var e=b.charAt(d),f=$APP.Ta(rl,e);null!=f?c.append(f):c.append(e);d+=1}else break;b=c.toString();b=".."===b?"_DOT__DOT_":$APP.p(ml(b))?[b,"$"].join(""):b;return a instanceof $APP.v?$APP.Gj.o(b):b};
tl=function(a){var b=$APP.t.o(a);if("_DOT__DOT_"===b)var c="..";else a:{c=new RegExp(ql(),"g");b=$APP.p($APP.Qa(b,"$"))?b.substring(0,b.length-1):b;for(var d="",e=0;;){var f=c.exec(b);if($APP.p(f))f=$APP.D.v(f,0,null),d=[d,$APP.t.o(b.substring(e,c.lastIndex-f.length)),$APP.t.o("$"===f?"/":$APP.Ta(pl,f))].join(""),e=c.lastIndex;else{c=[d,$APP.t.o(b.substring(e,b.length))].join("");break a}}}a=a instanceof $APP.v?$APP.Gj:$APP.t;return a.o?a.o(c):a.call(null,c)};
ul=function(a,b,c){var d=RegExp,e=b.source,f=$APP.p(b.ignoreCase)?"gi":"g";f=$APP.p(b.multiline)?[f,"m"].join(""):f;b=$APP.p(b.unicode)?[f,"u"].join(""):f;return a.replace(new d(e,b),c)};
wl=function(a){return function(){function b(d){var e=null;if(0<arguments.length){e=0;for(var f=Array(arguments.length-0);e<f.length;)f[e]=arguments[e+0],++e;e=new $APP.Fd(f,0,null)}return c.call(this,e)}function c(d){d=$APP.vl.j(2,d);if($APP.A.j($APP.ge(d),1))return d=$APP.y(d),a.o?a.o(d):a.call(null,d);d=$APP.jh(d);return a.o?a.o(d):a.call(null,d)}b.B=0;b.F=function(d){d=$APP.x(d);return c(d)};b.A=c;return b}()};
$APP.xl=function(a,b,c){if("string"===typeof b)return a.replace(new RegExp(String(b).replace(/([-()\[\]{}+?*.$\^|,:#<!\\])/g,"\\$1").replace(/\x08/g,"\\x08"),"g"),c);if(b instanceof RegExp)return"string"===typeof c?ul(a,b,c):ul(a,b,wl(c));throw["Invalid match arg: ",$APP.t.o(b)].join("");};$APP.yl=function(a,b,c){return a.replace(b,c)};$APP.zl=function(a){return a.toUpperCase()};$APP.Al=function(a){return a.toLowerCase()};
Dl=function(a,b){if(0>=b||b>=2+$APP.ge(a))return $APP.tf.j($APP.jh($APP.wf("",$APP.wj.j($APP.t,$APP.x(a)))),"");if($APP.p(Bl.j?Bl.j(1,b):Bl.call(null,1,b)))return new $APP.N(null,1,5,$APP.O,[a],null);if($APP.p(Bl.j?Bl.j(2,b):Bl.call(null,2,b)))return new $APP.N(null,2,5,$APP.O,["",a],null);b-=2;return $APP.tf.j($APP.jh($APP.wf("",$APP.Cl.v($APP.jh($APP.wj.j($APP.t,$APP.x(a))),0,b))),$APP.lj.j(a,b))};Fl=function(a){return $APP.El.j(a,/\n|\r\n/)};Gl=function(a){return $APP.Ra(null==a?"":String(a))};
$APP.Hl=function(a,b){return 0==a.lastIndexOf(b,0)};Il=function(a,b){return-1!=a.indexOf(b)};$APP.Jl=function(a,b,c,d,e){this.Ac=a;this.form=b;this.O=c;this.G=d;this.N=e;this.M=2230716170;this.R=139264};Kl=function(a,b){return new $APP.Jl(b,a,null,null,null)};Ml=function(a){return null==a?null:","===a?!0:Ll.test(a)};Nl=function(a){return null==a?null:!/[^0-9]/.test(a)};Ol=function(a){return"\n"===a||"\n"===a||null==a};
Ql=function(a,b){return function e(d){return new $APP.Ff(null,function(){for(;;){var f=$APP.x(d);if(f){if($APP.He(f)){var g=$APP.bd(f),k=$APP.ge(g),l=$APP.If(k);return function(){for(var r=0;;)if(r<k){var q=$APP.re(g,r),w=l;if(q instanceof $APP.v||q instanceof $APP.K){var C=$APP.Pl.j($APP.Af,$APP.Yi)(q),G=$APP.D.v(C,0,null);C=$APP.D.v(C,1,null);var M=q instanceof $APP.v?$APP.Gj:$APP.xj;q=null==G?M.j?M.j(a,C):M.call(null,a,C):$APP.A.j("_",G)?M.o?M.o(C):M.call(null,C):q}w.add(q);r+=1}else return!0}()?
$APP.Lf($APP.Nf(l),e($APP.cd(f))):$APP.Lf($APP.Nf(l),null)}var h=$APP.y(f);return $APP.wf(h instanceof $APP.v||h instanceof $APP.K?function(){var r=$APP.Pl.j($APP.Af,$APP.Yi)(h),q=$APP.D.v(r,0,null);r=$APP.D.v(r,1,null);var w=h instanceof $APP.v?$APP.Gj:$APP.xj;return null==q?w.j?w.j(a,r):w.call(null,a,r):$APP.A.j("_",q)?w.o?w.o(r):w.call(null,r):h}():h,e($APP.Jd(f)))}return null}},null,null)}(b)};Rl=function(a,b){a=parseInt(a,b);return $APP.p(isNaN(a))?-1:a};
Sl=function(a){if(null!=a&&null!=a.la)a=a.la(a);else{var b=Sl[$APP.oa(null==a?null:a)];if(null!=b)a=b.o?b.o(a):b.call(null,a);else if(b=Sl._,null!=b)a=b.o?b.o(a):b.call(null,a);else throw $APP.Bb("Reader.read-char",a);}return a};Tl=function(a){if(null!=a&&null!=a.Sb)a=a.Sb(a);else{var b=Tl[$APP.oa(null==a?null:a)];if(null!=b)a=b.o?b.o(a):b.call(null,a);else if(b=Tl._,null!=b)a=b.o?b.o(a):b.call(null,a);else throw $APP.Bb("Reader.peek-char",a);}return a};
Ul=function(a,b){if(null!=a&&null!=a.Fc)a.Fc(a,b);else{var c=Ul[$APP.oa(null==a?null:a)];if(null!=c)c.j?c.j(a,b):c.call(null,a,b);else if(c=Ul._,null!=c)c.j?c.j(a,b):c.call(null,a,b);else throw $APP.Bb("IPushbackReader.unread",a);}};Vl=function(a){if(null!=a&&null!=a.ld)a=a.ld(a);else{var b=Vl[$APP.oa(null==a?null:a)];if(null!=b)a=b.o?b.o(a):b.call(null,a);else if(b=Vl._,null!=b)a=b.o?b.o(a):b.call(null,a);else throw $APP.Bb("IndexingReader.get-line-number",a);}return a};
Wl=function(a){if(null!=a&&null!=a.kd)a=a.kd(a);else{var b=Wl[$APP.oa(null==a?null:a)];if(null!=b)a=b.o?b.o(a):b.call(null,a);else if(b=Wl._,null!=b)a=b.o?b.o(a):b.call(null,a);else throw $APP.Bb("IndexingReader.get-column-number",a);}return a};Xl=function(a){if(null!=a&&null!=a.Bg)a=a.Ge;else{var b=Xl[$APP.oa(null==a?null:a)];if(null!=b)a=b.o?b.o(a):b.call(null,a);else if(b=Xl._,null!=b)a=b.o?b.o(a):b.call(null,a);else throw $APP.Bb("IndexingReader.get-file-name",a);}return a};
Yl=function(a,b){this.s=a;this.hh=b;this.Od=0};$l=function(a){var b=Zl.o(1);this.lc=a;this.gd=b;this.nc=this.gf=1};am=function(a,b){return"\r"===b?(b=a.Sb(null),"\f"!==b&&"\n"!==b||a.la(null),"\n"):b};bm=function(a){this.lc=a;this.column=this.line=1;this.vc=!0;this.prev=null;this.le=0;this.Ge=null};em=function(a){var b=$APP.Yj.o(new $APP.n(null,2,[$APP.cm,new $APP.eb,$APP.dm,$APP.P(0)],null));this.lc=a;this.column=this.line=1;this.vc=!0;this.prev=null;this.le=0;this.Ge=null;this.frames=b};
fm=function(a){return null!=a?$APP.wd===a.Ag?!0:!1:!1};gm=function(a){return new $l(new Yl(a,$APP.ge(a)))};hm=function(a){return new bm("string"===typeof a?gm(a):a)};
om=function(a,b){var c=$APP.cm.o($APP.u(a.frames));try{$APP.Zj.A(a.frames,$APP.im,new $APP.N(null,1,5,$APP.O,[$APP.dm],null),$APP.tf,$APP.F([c.getLength()]));var d=b.C?b.C():b.call(null);if(null!=d&&(d.M&131072||$APP.wd===d.rf)){var e=$APP.u(a.frames);var f=$APP.lj.j($APP.t.o($APP.cm.o(e)),$APP.y($APP.dm.o(e)));var g=new $APP.n(null,1,[lm,f],null),k=$APP.we(d);var l=$APP.ve(d,$APP.mm.A($APP.F([g,$APP.nm.j(k,lm)])))}else l=d;return l}finally{$APP.Zj.J(a.frames,$APP.im,new $APP.N(null,1,5,$APP.O,[$APP.dm],
null),$APP.Jd)}};sm=function(a,b,c,d){var e=$APP.ge(b);a=$APP.p(a)?0:10<e?10:e;b=$APP.wj.j($APP.pm.j(qm,!0),$APP.Ig.j(a,b));b=$APP.wg.j($APP.t,$APP.rm.j(" ",b));e=a<e?"...":null;return[$APP.t.o(c),$APP.t.o(b),e,$APP.t.o(d)].join("")};
Am=function(a,b,c){b=new $APP.n(null,2,[$APP.tm,um,vm,b],null);a=fm(a)?$APP.Ni.A(b,$APP.wm,Xl(a),$APP.F([$APP.xm,Vl(a),ym,Wl(a)])):b;var d=$APP.wm.o(a);b=$APP.xm.o(a);var e=ym.o(a);d=$APP.p(d)?[$APP.t.o(d)," "].join(""):null;b=$APP.p(b)?["[line ",$APP.t.o(b),", col ",$APP.t.o(e),"]"].join(""):null;c=$APP.wg.S($APP.t,d,b,$APP.p($APP.p(d)?d:b)?" ":null,c);throw $APP.zm.j(c,a);};Cm=function(a,b){return Am(a,Bm,$APP.F([$APP.wg.j($APP.t,b)]))};Em=function(a,b){return Am(a,Dm,$APP.F([$APP.wg.j($APP.t,b)]))};
Gm=function(a,b){return Am(a,Fm,$APP.F([$APP.wg.j($APP.t,b)]))};Hm=function(a,b,c,d){Cm(a,$APP.F(["The map literal starting with ",qm.j(!1,$APP.y(d)),$APP.p(b)?[" on line ",$APP.t.o(b)," column ",$APP.t.o(c)].join(""):null," contains ",$APP.ge(d)," form(s). Map literals must contain an even number of forms."]))};Im=function(a,b,c){return Cm(a,$APP.F(["Invalid ",$APP.Yi(b),": ",c,"."]))};Jm=function(a,b,c){return Cm(a,$APP.F(["Invalid character: ",c," found while reading ",$APP.Yi(b),"."]))};
Lm=function(a,b){a:{var c=$APP.Km instanceof $APP.K?$APP.Km.ia:null;switch(c){case "regex":c='#"';break a;case "string":c='"';break a;default:throw Error(["No matching clause: ",$APP.t.o(c)].join(""));}}return Gm(a,$APP.F(["Unexpected EOF reading ",$APP.Yi($APP.Km)," starting ",$APP.wg.v($APP.t,c,b),"."]))};Mm=function(a,b){return Em(a,$APP.F(["Invalid digit ",b," in unicode character."]))};Nm=function(a){return Cm(a,$APP.F(["Octal escape sequence must be in range [0, 377]."]))};
Om=function(a,b){b=function(c){return function f(e){return new $APP.Ff(null,function(){for(var g=e;;)if(g=$APP.x(g)){if($APP.He(g)){var k=$APP.bd(g),l=$APP.ge(k),h=$APP.If(l);a:for(var r=0;;)if(r<l){var q=$APP.re(k,r),w=$APP.D.v(q,0,null);1<$APP.D.v(q,1,null)&&h.add(w);r+=1}else{k=!0;break a}return k?$APP.Lf($APP.Nf(h),f($APP.cd(g))):$APP.Lf($APP.Nf(h),null)}h=$APP.y(g);k=$APP.D.v(h,0,null);if(1<$APP.D.v(h,1,null))return $APP.wf(k,f($APP.Jd(g)));g=$APP.Jd(g)}else return null},null,null)}(ij(c))}(b);
return $APP.wg.S($APP.t,a,1<$APP.ge(b)?"s":null,": ",$APP.rm.j(", ",b))};Pm=function(a,b,c){Cm(a,$APP.F([Om([db($APP.Yi(b))," literal contains duplicate key"].join(""),c)]))};Qm=function(a,b){return Nl(b)||("+"===b||"-"===b)&&Nl(a.Sb(null))};Rm=function(a){for(var b=a.la(null);;)if(Ml.o?Ml.o(b):Ml.call(null,b))b=a.la(null);else return b};Sm=function(a,b){a=$APP.kj(a,b);return $APP.D.v(a,0,null)===b};
Wm=function(a){if(Sm(Tm,a)){var b=$APP.jh($APP.kj(Tm,a));if(null!=(b.o?b.o(2):b.call(null,2)))a=0;else{a="-"===(b.o?b.o(1):b.call(null,1));b=null!=(b.o?b.o(3):b.call(null,3))?new $APP.N(null,2,5,$APP.O,[b.o?b.o(3):b.call(null,3),10],null):null!=(b.o?b.o(4):b.call(null,4))?new $APP.N(null,2,5,$APP.O,[b.o?b.o(4):b.call(null,4),16],null):null!=(b.o?b.o(5):b.call(null,5))?new $APP.N(null,2,5,$APP.O,[b.o?b.o(5):b.call(null,5),8],null):null!=(b.o?b.o(7):b.call(null,7))?new $APP.N(null,2,5,$APP.O,[b.o?b.o(7):
b.call(null,7),parseInt(b.o?b.o(6):b.call(null,6))],null):new $APP.N(null,2,5,$APP.O,[null,null],null);var c=b.o?b.o(0):b.call(null,0);null==c?a=null:(b=parseInt(c,b.o?b.o(1):b.call(null,1)),a=a?-1*b:b,a=$APP.p(isNaN(a))?null:a)}}else Sm(Um,a)?(b=$APP.jh($APP.kj(Um,a)),a=null!=(b.o?b.o(4):b.call(null,4))?parseFloat(b.o?b.o(1):b.call(null,1)):parseFloat(a)):Sm(Vm,a)?(b=$APP.jh($APP.kj(Vm,a)),a=b.o?b.o(1):b.call(null,1),b=b.o?b.o(2):b.call(null,2),a=$APP.p($APP.kj(/^\+/,a))?$APP.lj.j(a,1):a,a=parseInt(a)/
parseInt(b)):a=null;return a};Xm=function(a){if(""===a||!0===/:$/.test(a)||!0===/^::/.test(a))return null;var b=a.indexOf("/"),c=0<b?$APP.lj.v(a,0,b):null;if(null!=c){b+=1;if(b===$APP.ge(a))return null;a=$APP.lj.j(a,b);return Nl($APP.D.j(a,0))||""===a||!1!==/:$/.test(c)||"/"!==a&&-1!==a.indexOf("/")?null:new $APP.N(null,2,5,$APP.O,[c,a],null)}return"/"===a||-1===a.indexOf("/")?new $APP.N(null,2,5,$APP.O,[null,a],null):null};
Ym=function(){return function(){function a(c,d){var e=null;if(1<arguments.length){e=0;for(var f=Array(arguments.length-1);e<f.length;)f[e]=arguments[e+1],++e;e=new $APP.Fd(f,0,null)}return b.call(this,c,e)}function b(c){return Cm(c,$APP.F(["Unreadable form"]))}a.B=1;a.F=function(c){var d=$APP.y(c);c=$APP.Jd(c);return b(d,c)};a.A=b;return a}()};$m=function(a){var b="#"!==a;return b?(b="'"!==a)?(b=":"!==a)?Zm.o?Zm.o(a):Zm.call(null,a):b:b:b};an=function(a){return"@"===a||"`"===a||"~"===a};
bn=function(a,b,c,d){if($APP.wb(c))return Gm(a,$APP.F(["Unexpected EOF while reading start of ",$APP.Yi(b),"."]));if($APP.p($APP.p(d)?an(c):d))return Jm(a,b,c);d=new $APP.eb;for(Ul(a,c);;){if(Ml(c)||$m(c)||null==c)return $APP.t.o(d);if(an(c))return Jm(a,b,c);d.append(Sl(a));c=Tl(a)}};en=function(a,b,c){b=Sl(a);if($APP.p(b)){var d=cn.o?cn.o(b):cn.call(null,b);if($APP.p(d))return d.v?d.v(a,b,c):d.call(null,a,b,c);Ul(a,b);return dn.v?dn.v(a,b,c):dn.call(null,a,b,c)}return Gm(a,$APP.F(["Unexpected EOF while reading dispatch character."]))};
fn=function(a,b){return Cm(a,$APP.F(["Unmatched delimiter ",b,"."]))};gn=function(a,b,c){b=1+b;if($APP.ge(a)!==b)throw Em(null,$APP.F(["Invalid unicode literal: \\",a,"."]));for(var d=1,e=0;;){if(d===b)return String.fromCharCode(e);var f=Rl($APP.D.j(a,d),c);if(-1===f)return c=$APP.D.j(a,d),Em(null,$APP.F(["Invalid digit ",c," in unicode character \\",a,"."]));e=f+e*c;d+=1}};
hn=function(a,b,c,d,e){for(var f=1,g=Rl(b,c);;){if(-1===g)return Mm(a,b);if(f!==d){var k=Tl(a);var l=Ml(k);l||(l=Zm.o?Zm.o(k):Zm.call(null,k),l=$APP.p(l)?l:null==k);if($APP.p(l))return $APP.p(e)?Em(a,$APP.F(["Invalid unicode literal. Unicode literals should be ",d,"characters long. ","Value supplied is ",f," characters long."])):String.fromCharCode(g);l=Rl(k,c);Sl(a);if(-1===l)return Mm(a,k);g=l+g*c;f+=1}else return String.fromCharCode(g)}};
kn=function(a){var b=Sl(a);if(null!=b){b=$m(b)||an(b)||Ml(b)?$APP.t.o(b):bn(a,jn,b,!1);var c=b.length;if(1===c)return $APP.D.j(b,0);if("newline"===b)return"\n";if("space"===b)return" ";if("tab"===b)return"\t";if("backspace"===b)return"\b";if("formfeed"===b)return"\f";if("return"===b)return"\r";if($APP.p(0==b.lastIndexOf("u",0)))return b=gn(b,4,16),c=b.charCodeAt(),55295<c&&57344>c?(b=c.toString(16),a=Cm(a,$APP.F(["Invalid character literal \\u",b,"."]))):a=b,a;if($APP.p(0==b.lastIndexOf("o",0))){--c;
if(3<c)return Cm(a,$APP.F(["Invalid octal escape sequence in a character literal: ",b,". Octal escape sequences must be 3 or fewer digits."]));b=gn(b,c,8);return 255<(b|0)?Nm(a):b}return Cm(a,$APP.F(["Unsupported character: ",b,"."]))}return Gm(a,$APP.F(["Unexpected EOF while reading character."]))};ln=function(a){return fm(a)?new $APP.N(null,2,5,$APP.O,[Vl(a),(Wl(a)|0)-1|0],null):null};
on=function(a,b,c,d){var e=ln(c),f=$APP.D.v(e,0,null);e=$APP.D.v(e,1,null);b=null==b?null:$APP.hf(b);for(var g=$APP.Sc($APP.ih);;){var k=Rm(c);if(!$APP.p(k)){var l=a,h=f,r=e,q=$APP.ge(g);Gm(c,$APP.F(["Unexpected EOF while reading ",$APP.p(q)?["item ",$APP.t.o(q)," of "].join(""):null,$APP.Yi(l),$APP.p(h)?[", starting at line ",$APP.t.o(h)," and column ",$APP.t.o(r)].join(""):null,"."]))}if($APP.A.j(b,null==k?null:$APP.hf(k)))return $APP.Uc(g);l=Zm.o?Zm.o(k):Zm.call(null,k);$APP.p(l)?(k=l.v?l.v(c,
k,d):l.call(null,c,k,d),g=k!==c?$APP.dh.j(g,k):g):(Ul(c,k),k=mn?mn(c,!0,null,d):nn.call(null,c,!0,null,d),g=k!==c?$APP.dh.j(g,k):g)}};qn=function(a,b,c){a=on($APP.pn,")",a,c);return $APP.ze(a)?$APP.Id:$APP.wg.j($APP.P,a)};sn=function(a,b,c){return on($APP.rn,"]",a,c)};
wn=function(a,b,c){var d=ln(a);b=$APP.D.v(d,0,null);d=$APP.D.v(d,1,null);c=on($APP.tn,"}",a,c);var e=$APP.ge(c),f=$APP.un.j(2,c),g=$APP.Wi(f);!$APP.vg(e)&&Hm(a,b,d,c);$APP.A.j($APP.ge(g),$APP.ge(f))||Pm(a,$APP.tn,f);if(e<=2*vn)a=$APP.Ih(Of(c),!0,!0);else a:for(a=Of(c),b=a.length,d=0,e=$APP.Sc(Ph);;)if(d<b)c=d+2,e=Vc(e,a[d],a[d+1]),d=c;else{a=$APP.Uc(e);break a}return a};
xn=function(a,b){for(var c=function(){var g=new $APP.eb;g.append(b);return g}(),d=Sl(a);;){if($APP.p(function(){var g=Ml(d);if(g)return g;g=Zm.o?Zm.o(d):Zm.call(null,d);return $APP.p(g)?g:null==d}())){var e=$APP.t.o(c);Ul(a,d);var f=Wm(e);return $APP.p(f)?f:Cm(a,$APP.F(["Invalid number: ",e,"."]))}e=function(){var g=c;g.append(d);return g}();f=Sl(a);c=e;d=f}};
yn=function(a,b){a=Sl(b);switch(a){case "t":return"\t";case "r":return"\r";case "n":return"\n";case "\\":return"\\";case '"':return'"';case "b":return"\b";case "f":return"\f";case "u":return a=Sl(b),-1===parseInt(a|0,16)?Cm(b,$APP.F(["Invalid unicode escape: \\u",a,"."])):hn(b,a,16,4,!0);default:return Nl(a)?(a=hn(b,a,8,3,!1),255<(a|0)?Nm(b):a):Cm(b,$APP.F(["Unsupported escape character: \\",a,"."]))}};
zn=function(a){for(var b=new $APP.eb,c=Sl(a);;){var d=c;if($APP.A.j(null,d))return Lm(a,$APP.F(['"',b]));if($APP.A.j("\\",d)){d=function(){var f=b;f.append(yn(b,a));return f}();var e=Sl(a);b=d;c=e}else{if($APP.A.j('"',d))return $APP.t.o(b);d=function(){var f=b;f.append(c);return f}();e=Sl(a);b=d;c=e}}};
Cn=function(a,b){b=bn(a,$APP.An,b,!0);if($APP.p(b))switch(b){case "nil":return null;case "true":return!0;case "false":return!1;case "/":return Bn;default:var c=Xm(b);c=$APP.p(c)?$APP.Gj.j(c.o?c.o(0):c.call(null,0),c.o?c.o(1):c.call(null,1)):null;return $APP.p(c)?c:Im(a,$APP.An,b)}else return null};
En=function(a){var b=Sl(a);if(Ml(b))return Cm(a,$APP.F(["A single colon is not a valid keyword."]));b=bn(a,Dn,b,!0);var c=Xm(b);if($APP.p($APP.p(c)?-1===b.indexOf("::"):c)){var d=c.o?c.o(0):c.call(null,0);c=c.o?c.o(1):c.call(null,1);return":"===$APP.D.j(b,0)?Im(a,Dn,[":",$APP.t.o(b)].join("")):$APP.xj.j(d,c)}return Im(a,Dn,[":",$APP.t.o(b)].join(""))};
Gn=function(a,b,c){b=mn?mn(a,!0,null,c):nn.call(null,a,!0,null,c);b=b instanceof $APP.K?$APP.Zf([b,!0]):b instanceof $APP.v?new $APP.n(null,1,[$APP.Fn,b],null):"string"===typeof b?new $APP.n(null,1,[$APP.Fn,b],null):b;$APP.Ee(b)||Cm(a,$APP.F(["Metadata cannot be ",qm.j(!1,b),". Metadata must be a Symbol, Keyword, String or Map."]));c=mn?mn(a,!0,null,c):nn.call(null,a,!0,null,c);return null!=c&&(c.M&131072||$APP.wd===c.rf)?$APP.ve(c,$APP.mm.A($APP.F([$APP.we(c),b]))):Cm(a,$APP.F(["Metadata can not be applied to ",
qm.j(!1,c),". ","Metadata can only be applied to IMetas."]))};In=function(a,b,c){b=on($APP.Hn,"}",a,c);c=$APP.Wi(b);$APP.A.j($APP.ge(b),$APP.ge(c))||Pm(a,$APP.Hn,b);return c};Jn=function(a){mn?mn(a,!0,null,!0):nn.call(null,a,!0,null,!0);return a};
Ln=function(a,b,c){b=Sl(a);b=bn(a,Kn,b,!0);var d=null==b?null:Xm(b);if(null==d)var e=null;else e=$APP.D.v(d,0,null),d=$APP.D.v(d,1,null),e=$APP.p(e)?null:d;return $APP.p(e)?"{"===Rm(a)?(c=on(Kn,"}",a,c),!$APP.vg($APP.ge(c))&&Hm(a,null,null,c),b=Ql($APP.t.o(e),$APP.un.j(2,c)),c=$APP.un.j(2,$APP.Jd(c)),$APP.A.j($APP.ge($APP.Wi(b)),$APP.ge(b))||Pm(a,Kn,b),$APP.Zi(b,c)):Cm(a,$APP.F(["Namespaced map with namespace ",b," does not specify a map."])):Cm(a,$APP.F(["Invalid value used as namespace in namespaced map: ",
b,"."]))};Pn=function(a,b,c){b=mn?mn(a,!0,null,c):nn.call(null,a,!0,null,c);return $APP.A.j(Mn,b)?Number.NaN:$APP.A.j(Nn,b)?Number.NEGATIVE_INFINITY:$APP.A.j(On,b)?Number.POSITIVE_INFINITY:Cm(a,$APP.F([["Invalid token: ##",$APP.t.o(b)].join("")]))};
Zm=function(a){switch(a){case '"':return zn;case ":":return En;case ";":return Qn;case "^":return Gn;case "(":return qn;case ")":return fn;case "[":return sn;case "]":return fn;case "{":return wn;case "}":return fn;case "\\":return kn;case "#":return en;default:return null}};cn=function(a){switch(a){case "^":return Gn;case "{":return In;case "\x3c":return Ym();case "!":return Qn;case "_":return Jn;case ":":return Ln;case "#":return Pn;default:return null}};
dn=function(a,b,c){b=mn?mn(a,!0,null,c):nn.call(null,a,!0,null,c);var d=mn?mn(a,!0,null,c):nn.call(null,a,!0,null,c);b instanceof $APP.v||Cm(a,$APP.F(["Invalid reader tag: ",qm.j(!1,"Reader tag must be a symbol"),". Reader tags must be symbols."]));var e=$APP.Re.j(Rn.o(c),b);e=$APP.p(e)?e:$APP.$f.o?$APP.$f.o(b):$APP.$f.call(null,b);if($APP.p(e))return e.o?e.o(d):e.call(null,d);c=$APP.Sn.o(c);return $APP.p(c)?c.j?c.j(b,d):c.call(null,b,d):Cm(a,$APP.F(["No reader function for tag ",qm.j(!1,b),"."]))};
nn=function(a){switch(arguments.length){case 1:return Tn($APP.$f,arguments[0]);case 2:return Tn(arguments[0],arguments[1]);case 4:return mn(arguments[0],arguments[1],arguments[2],arguments[3]);default:throw Error(["Invalid arity: ",$APP.t.o(arguments.length)].join(""));}};Tn=function(a,b){a=$APP.ag(a);var c=$APP.Re.j(a,Fm),d=!$APP.Te(a,Fm);return mn(b,d,c,a)};
mn=function(a,b,c,d){try{for(;;){var e=Sl(a);if(!Ml(e)){if(null==e){if($APP.p(b)){b=a;var f=$APP.p(null)?Gm(b,$APP.F(["EOF while reading, starting at line ",null,"."])):Gm(b,$APP.F(["EOF while reading."]))}else f=c;return f}if(Qm(a,e))return xn(a,e);var g=Zm(e);if($APP.p(g)){var k=g.v?g.v(a,e,d):g.call(null,a,e,d);if(k!==a)return k}else return Cn(a,e)}}}catch(l){if(l instanceof Error){f=l;if(f instanceof Fk){b=Gk(f);if($APP.A.j(um,$APP.tm.o(b)))throw f;throw $APP.zm.v(f.message,$APP.mm.A($APP.F([new $APP.n(null,
1,[$APP.tm,um],null),b,fm(a)?new $APP.n(null,3,[$APP.xm,Vl(a),$APP.Un,Wl(a),$APP.wm,Xl(a)],null):null])),f);}throw $APP.zm.v(f.message,$APP.mm.A($APP.F([new $APP.n(null,1,[$APP.tm,um],null),fm(a)?new $APP.n(null,3,[$APP.xm,Vl(a),$APP.Un,Wl(a),$APP.wm,Xl(a)],null):null])),f);}throw l;}};Vn=function(a,b){return $APP.p($APP.p(b)?$APP.Mi.j(b,""):b)?Tn(a,gm(b)):null};Wn=function(a){a=parseInt(a,10);return $APP.wb(isNaN(a))?a:null};
Xn=function(a,b,c,d){if(!(a<=b&&b<=c))throw Error([$APP.t.o(d)," Failed:  ",$APP.t.o(a),"\x3c\x3d",$APP.t.o(b),"\x3c\x3d",$APP.t.o(c)].join(""));return b};
$n=function(a){var b=$APP.jj(Yn,a);$APP.D.v(b,0,null);var c=$APP.D.v(b,1,null),d=$APP.D.v(b,2,null),e=$APP.D.v(b,3,null),f=$APP.D.v(b,4,null),g=$APP.D.v(b,5,null),k=$APP.D.v(b,6,null),l=$APP.D.v(b,7,null),h=$APP.D.v(b,8,null),r=$APP.D.v(b,9,null),q=$APP.D.v(b,10,null);if($APP.wb(b))throw Error(["Unrecognized date/time syntax: ",$APP.t.o(a)].join(""));a=Wn(c);b=function(){var R=Wn(d);return $APP.p(R)?R:1}();c=function(){var R=Wn(e);return $APP.p(R)?R:1}();var w=function(){var R=Wn(f);return $APP.p(R)?
R:0}(),C=function(){var R=Wn(g);return $APP.p(R)?R:0}(),G=function(){var R=Wn(k);return $APP.p(R)?R:0}(),M=function(){a:if($APP.A.j(3,$APP.ge(l)))var R=l;else if(3<$APP.ge(l))R=$APP.lj.v(l,0,3);else for(R=new $APP.eb(l);;)if(3>R.getLength())R=R.append("0");else{R=R.toString();break a}R=Wn(R);return $APP.p(R)?R:0}();h=($APP.A.j(h,"-")?-1:1)*(60*function(){var R=Wn(r);return $APP.p(R)?R:0}()+function(){var R=Wn(q);return $APP.p(R)?R:0}());return new $APP.N(null,8,5,$APP.O,[a,Xn(1,b,12,"timestamp month field must be in range 1..12"),
Xn(1,c,Zn(b,0===kf(a,4)&&(0!==kf(a,100)||0===kf(a,400))),"timestamp day field must be in range 1..last day in month"),Xn(0,w,23,"timestamp hour field must be in range 0..23"),Xn(0,C,59,"timestamp minute field must be in range 0..59"),Xn(0,G,$APP.A.j(C,59)?60:59,"timestamp second field must be in range 0..60"),Xn(0,M,999,"timestamp millisecond field must be in range 0..999"),h],null)};
ao=function(a){if("string"===typeof a){var b=$n(a);if($APP.p(b)){a=$APP.D.v(b,0,null);var c=$APP.D.v(b,1,null),d=$APP.D.v(b,2,null),e=$APP.D.v(b,3,null),f=$APP.D.v(b,4,null),g=$APP.D.v(b,5,null),k=$APP.D.v(b,6,null);b=$APP.D.v(b,7,null);b=new Date(Date.UTC(a,c-1,d,e,f,g,k)-6E4*b)}else throw Error(["Unrecognized date/time syntax: ",$APP.t.o(a)].join(""));return b}throw Error("Instance literal expects a string for its timestamp.");};
bo=function(a){return"string"===typeof a||a instanceof $APP.K&&null==$APP.Af(a)};co=function(a){this.val=a};
fo=function(a,b,c){if(qf(c))return $APP.ve(function(){var e=$APP.wg.j($APP.P,$APP.wj.j(a,c));return b.o?b.o(e):b.call(null,e)}(),$APP.we(c));if(fh(c)){var d=new $APP.Ue(function(){var e=ec(c);return a.o?a.o(e):a.call(null,e)}(),function(){var e=fc(c);return a.o?a.o(e):a.call(null,e)}(),null);return b.o?b.o(d):b.call(null,d)}return $APP.Le(c)?$APP.ve(function(){var e=$APP.eo.o($APP.wj.j(a,c));return b.o?b.o(e):b.call(null,e)}(),$APP.we(c)):$APP.Fe(c)?(d=$APP.cf.v(function(e,f){return $APP.tf.j(e,a.o?
a.o(f):a.call(null,f))},c,c),b.o?b.o(d):b.call(null,d)):$APP.Ae(c)?(d=$APP.Nh.j($APP.qe(c),$APP.wj.j(a,c)),b.o?b.o(d):b.call(null,d)):b.o?b.o(c):b.call(null,c)};
oo=function(a){var b=$APP.Cg(new $APP.n(null,2,[go,0,ho,!1],null));a=io(function(e){if(e instanceof $APP.v){var f=$APP.jj(/^%(.*)/,$APP.Yi(e));if($APP.p(f)){$APP.D.v(f,0,null);f=$APP.D.v(f,1,null);if($APP.ze(f))return b.Ub(null,$APP.jo.J(b.Ca(null),go,$APP.ko,1)),lo;$APP.A.j("\x26",f)?b.Ub(null,$APP.Ni.v(b.Ca(null),ho,!0)):(f=parseInt(f),b.Ub(null,$APP.jo.J(b.Ca(null),go,$APP.ko,f)))}}return e},a);var c=$APP.u(b),d=$APP.ag(c);c=$APP.Re.j(d,go);d=$APP.Re.j(d,ho);c=$APP.wj.j(function(e){return $APP.Gj.o(["%",
$APP.t.o(e)].join(""))},$APP.mo.j(1,c+1));c=$APP.jh($APP.Q.j(c,$APP.p(d)?new $APP.N(null,2,5,$APP.O,[$APP.Jk,no],null):null));return new $APP.J(null,$APP.$k,new $APP.J(null,c,new $APP.J(null,a,null,1,null),2,null),3,null)};
xo=function(a,b,c,d){a:{d=$APP.x(d);for(var e=$APP.Sc($APP.ih);;)if(d){var f=$APP.y(d);e=$APP.dh.j(e,$APP.Le(f)&&$APP.A.j($APP.y(f),$APP.po)?new $APP.J(null,qo,new $APP.J(null,$APP.le(f),null,1,null),2,null):$APP.Le(f)&&$APP.A.j($APP.y(f),ro)?$APP.le(f):new $APP.J(null,qo,new $APP.J(null,so.v?so.v(a,b,f):so.call(null,a,b,f),null,1,null),2,null));d=$APP.z(d)}else{a=$APP.x($APP.Uc(e));break a}}a=new $APP.J(null,to,new $APP.J(null,new $APP.J(null,uo,new $APP.J(null,$APP.wf(vo,a),null,1,null),2,null),
null,1,null),2,null);return $APP.p(c)?new $APP.J(null,wo,new $APP.J(null,c,new $APP.J(null,a,null,1,null),2,null),3,null):a};yo=function(a){a=$APP.x(a);for(var b=$APP.Sc($APP.ih);;)if(a){var c=$APP.y(a);a=$APP.z(a);b=$APP.dh.j($APP.dh.j(b,ec(c)),fc(c))}else return $APP.x($APP.Uc(b))};
Ho=function(a,b,c){var d=$APP.ag(a),e=$APP.Re.j(d,zo);if($APP.il(c))return new $APP.J(null,$APP.el,new $APP.J(null,c,null,1,null),2,null);if(c instanceof $APP.v)return new $APP.J(null,$APP.el,new $APP.J(null,function(){var f=$APP.Yi(c);if($APP.il(c))return c;if($APP.Qa(f,"#")){var g=$APP.Re.j($APP.u(e),c);if($APP.p(g))return g;f=$APP.lj.v(f,0,f.length-1);f=$APP.Ao.o([f,"__"].join(""));f=$APP.Gj.o([$APP.Yi(f),"__auto__"].join(""));$APP.Zj.J(e,$APP.Ni,c,f);return f}f=Bo.o(Co.o(d));f=$APP.p(f)?f:$APP.gf;
return f.o?f.o(c):f.call(null,c)}(),null,1,null),2,null);if($APP.Le(c)&&$APP.A.j($APP.y(c),$APP.po))return $APP.le(c);if($APP.Le(c)&&$APP.A.j($APP.y(c),ro))throw Error("unquote-splice not in list");if($APP.Ae(c)){if(c instanceof Dc)return c;if($APP.Ee(c))return xo(d,b,16<=$APP.ge(c)?Do:Eo,yo(c));if($APP.Ge(c))return new $APP.J(null,Fo,new $APP.J(null,xo(d,b,null,c),null,1,null),2,null);if($APP.Be(c))return xo(d,b,Go,c);if($APP.Le(c)||qf(c))return(a=$APP.x(c))?xo(d,b,null,a):$APP.P(qo);throw Error("Unknown Collection type");
}return c instanceof $APP.K||"number"===typeof c||yb(c)||"string"===typeof c||null==c||Ke(c)||c instanceof RegExp?c:new $APP.J(null,$APP.el,new $APP.J(null,c,null,1,null),2,null)};so=function(a,b,c){var d=Ho(a,b,c),e=null!=c?c.M&262144||$APP.wd===c.Bf?!0:!1:!1;return(e?$APP.x($APP.nm.A($APP.we(c),Io.o(a),$APP.F([Jo.o(a),Ko.o(a),Lo.o(a)]))):e)?new $APP.J(null,Mo,new $APP.J(null,d,new $APP.J(null,Ho(a,b,$APP.we(c)),null,1,null),2,null),3,null):d};Oo=function(a,b,c){return No(a,b,c,null)};
No=function(a,b,c,d){return Po(a,b,c,d,null)};Po=function(a,b,c,d,e){var f=fm(b),g=f?ym.j(e,Wl(b)):null;b=f?Qo.j(e,Vl(b)):null;throw $APP.zm.j(c,$APP.mm.A($APP.F([$APP.Ni.A(new $APP.n(null,1,[$APP.tm,Ro],null),Io.o(a),b,$APP.F([Jo.o(a),g])),d])));};So=function(a){return $APP.p(a)?-1<["\r","\n","\t"," ",","].indexOf(a):a};
To=function(a,b){for(var c=new $APP.eb;;){var d=So(b);if(!$APP.p(d)){b:switch(b){case '"':case ";":case "@":case "^":case "`":case "~":case "(":case ")":case "[":case "]":case "{":case "}":case "\\":d=!0;break b;default:d=!1}d=$APP.p(d)?d:null==b}if($APP.p(d))return $APP.p(b)&&a.Fc(null,b),$APP.t.o(c);c=c.append(b);b=a.la(null)}};
Uo=function(a,b,c){for(var d=function(){var k=new $APP.eb;k.append(c);return k}(),e=b.la(null);;){if($APP.p(function(){var k=So(e);if($APP.p(k))return k;a:switch(e){case ":":case ";":case "'":case "@":case "^":case "`":case "~":case "(":case ")":case "[":case "]":case "{":case "}":case "\\":case "%":case "#":case '"':k=!0;break a;default:k=!1}return $APP.p(k)?k:null==e}())){var f=$APP.t.o(d);b.Fc(null,e);var g=Wm(f);return $APP.p(g)?g:Oo(a,b,["Invalid number: ",f].join(""))}f=function(){var k=d;k.append(e);
return k}();g=b.la(null);d=f;e=g}};Wo=function(a,b){a=Vo.o(a);return Tn(a,b)};
ap=function(a,b){var c=fm(b),d=c?b.ld(null):null;c=c?b.kd(null):null;for(var e=b.la(null),f=new $APP.eb,g=b.la(null);;){var k=g;if($APP.A.j(null,k))return No(a,b,["EOF while reading, expected ",$APP.t.o(e)," to match ",$APP.t.o(e)," at [",$APP.t.o(d),",",$APP.t.o(c),"]"].join(""),new $APP.n(null,3,[Xo,$APP.t.o(e),Yo,$APP.t.o(e),Zo,new $APP.n(null,2,[Qo,d,ym,c],null)],null));if($APP.A.j("\\",k)){k=function(){var h=f;h.append($o.j?$o.j(f,b):$o.call(null,f,b));return h}();var l=b.la(null);f=k;g=l}else{if($APP.A.j('"',
k))return $APP.t.o(f);k=function(){var h=f;h.append(g);return h}();l=b.la(null);f=k;g=l}}};$APP.bp=function(a,b,c,d,e){this.row=a;this.Gc=b;this.O=c;this.G=d;this.N=e;this.M=2230716170;this.R=139264};cp=function(a){return new $APP.bp(a.ld(null),a.kd(null),null,null,null)};dp=function(a){a:for(var b=a.la(null),c=new $APP.eb;;){if(Ol(b)){$APP.t.o(c);break a}var d=a.la(null);c=c.append(b);b=d}return a};ep=function(a){for(;;){var b=a.la(null);if($APP.p(b)){if(!$APP.p(So(b)))return a.Fc(null,b),a}else return null}};
op=function(a,b,c){var d=$APP.ih,e=fm(b),f=e?b.ld(null):null;e=e?b.kd(null):null;var g=b.la(null);a=$APP.Ni.v($APP.Ni.v(a,fp,c),gp,new $APP.n(null,3,[hp,g,Qo,f,ym,e],null));for(d=$APP.Sc(d);;){var k=ip?ip(a,b):jp.call(null,a,b);var l=k;l=null==l?null:$APP.we(l);l=null==l?null:kp.o(l);if(lp===k)return No(a,b,["EOF while reading, expected ",$APP.t.o(c)," to match ",$APP.t.o(g)," at [",$APP.t.o(f),",",$APP.t.o(e),"]"].join(""),new $APP.n(null,3,[Xo,$APP.t.o(c),Yo,$APP.t.o(g),Zo,new $APP.n(null,2,[Qo,
f,ym,e],null)],null));if(mp===k)return $APP.Uc(d);if($APP.p(l)){k=$APP.x(k);l=null;for(var h=0,r=0;;)if(r<h){var q=l.fa(null,r);$APP.dh.j(d,q);r+=1}else if(k=$APP.x(k))l=k,$APP.He(l)?(k=$APP.bd(l),r=$APP.cd(l),l=k,h=$APP.ge(k),k=r):(k=$APP.y(l),$APP.dh.j(d,k),k=$APP.z(l),l=null,h=0),r=0;else break}else k===np||(d=$APP.dh.j(d,k))}};
pp=function(a,b){b.la(null);for(var c=new $APP.eb,d=b.la(null);;){if('"'===d)return $APP.t.o(c);if(null==d)return Oo(a,b,"Error while parsing regex");c.append(d);"\\"===d&&(d=b.la(null),null==d&&Oo(a,b,"Error while parsing regex"),c.append(d));d=b.la(null)}};
qp=function(a,b){b=function(c){return function f(e){return new $APP.Ff(null,function(){for(var g=e;;)if(g=$APP.x(g)){if($APP.He(g)){var k=$APP.bd(g),l=$APP.ge(k),h=$APP.If(l);a:for(var r=0;;)if(r<l){var q=$APP.re(k,r),w=$APP.D.v(q,0,null);1<$APP.D.v(q,1,null)&&h.add(w);r+=1}else{k=!0;break a}return k?$APP.Lf($APP.Nf(h),f($APP.cd(g))):$APP.Lf($APP.Nf(h),null)}h=$APP.y(g);k=$APP.D.v(h,0,null);if(1<$APP.D.v(h,1,null))return $APP.wf(k,f($APP.Jd(g)));g=$APP.Jd(g)}else return null},null,null)}(ij(c))}(b);
return $APP.wg.S($APP.t,a,1<$APP.ge(b)?"s":null,": ",$APP.rm.j(", ",b))};rp=function(a,b,c,d,e){Po(a,b,qp([db($APP.Yi(d))," literal contains duplicate key"].join(""),e),null,c)};sp=function(a,b){var c=fm(b)?cp(b):null,d=op(a,b,"}"),e=$APP.Wi(d);$APP.A.j($APP.ge(d),$APP.ge(e))||rp(a,b,c,$APP.Hn,d);return e};
vp=function(a,b){for(var c=tp.o(a);;){var d=ip?ip(a,b):jp.call(null,a,b);if(mp===d)return np;if(np===np&&($APP.Te(c,d)||$APP.zf(d,$APP.Sn))){c=ip?ip(a,b):jp.call(null,a,b);for(a=$APP.Ni.v(a,up,!0);;){d=ip?ip(a,b):jp.call(null,a,b);if(mp!==d)if(lp===d){d=fp.o(a);var e=gp.o(a),f=$APP.ag(e);e=$APP.Re.j(f,Qo);var g=$APP.Re.j(f,ym);f=$APP.Re.j(f,hp);No(a,b,["EOF while reading, expected ",$APP.t.o(d)," to match ",$APP.t.o(f)," at [",$APP.t.o(e),",",$APP.t.o(g),"]"].join(""),new $APP.n(null,2,[Xo,$APP.t.o(d),
Yo,$APP.t.o(f)],null))}else continue;break}return c}d=$APP.Ni.v(a,up,!0);e=b;ip?ip(d,e):jp.call(null,d,e)}};
Ap=function(a,b){ep(b);var c=wp.o(a),d=$APP.A.j("@",b.Sb(null));d&&b.la(null);ep(b);if($APP.zf(xp,c))return Kl(ip?ip(a,b):jp.call(null,a,b),d);if($APP.te(c))return b=yp.J(ip?ip(a,b):jp.call(null,a,b),$APP.Ni,zp,d),c.o?c.o(b):c.call(null,b);var e=fm(b);c=e?b.ld(null):null;e=e?b.kd(null):null;var f=b.la(null);a=$APP.Ni.v($APP.Ni.v(a,fp,")"),gp,new $APP.n(null,3,[hp,f,Qo,c,ym,e],null));a=vp(a,b);return a===np?b:d?yp.j(a,function(g){return $APP.Ni.v(g,kp,!0)}):a};
Dp=function(a,b,c,d){var e=Bp.o(a);return $APP.p(e)?e:No(a,b,$APP.p(d)?d:"Use `:auto-resolve` to resolve aliases.",new $APP.n(null,1,[Cp,[":",$APP.t.o(c)].join("")],null))};Ep=function(a,b,c,d,e,f){b=b.o?b.o(c):b.call(null,c);return $APP.p(b)?b:No(a,d,$APP.p(f)?f:["Alias `",$APP.t.o($APP.Gj.o(c)),"` not found in `:auto-resolve`"].join(""),new $APP.n(null,1,[Cp,[":",$APP.t.o(e)].join("")],null))};
Hp=function(a,b,c){c=To(b,c);if($APP.p(c))switch(c){case "nil":return null;case "true":return!0;case "false":return!1;case "/":return Bn;default:var d=Fp.o?Fp.o(c):Fp.call(null,c);d=$APP.p(d)?$APP.Gj.j(d.o?d.o(0):d.call(null,0),d.o?d.o(1):d.call(null,1)):null;return $APP.p(d)?d:No(a,b,["Invalid symbol: ",c].join(""),$APP.jo.J(cp(b),ym,Gp,c.length))}else return null};
Jp=function(a,b){if(":"===b.Sb(null)){b.la(null);var c=!0}else c=null;var d=c,e=$APP.p(d)?"{"===b.Sb(null):null,f=$APP.p(d)?$APP.p(e)?null:Hp(a,b,b.la(null)):Hp(a,b,b.la(null));c=ip?ip(a,b):jp.call(null,a,b);if($APP.p(d))return d=$APP.p(e)?$APP.Ip:$APP.Gj.o($APP.Yi(f)),e=Dp(a,b,d,null),a=Ep(a,e,d,b,f,null),$APP.Zi(Ql($APP.t.o(a),$APP.Ii(c)),$APP.Ki(c));a=$APP.Yi(f);return $APP.Zi(Ql(a,$APP.Ii(c)),$APP.Ki(c))};
Sp=function(a,b){var c=b.Sb(null);if($APP.A.j(null,c))return Oo(a,b,"Unexpected EOF.");if($APP.A.j("!",c))return dp(b),b;if($APP.A.j('"',c)){c=Kp.o(a);if($APP.p(c)){var d=pp(a,b);return!0===c?$APP.mj(d):c.o?c.o(d):c.call(null,d)}return Oo(a,b,"Regex not allowed. Use the `:regex` option")}if($APP.A.j("#",c))return b.la(null),Lp.v?Lp.v(b,null,null):Lp.call(null,b,null,null);if($APP.A.j("'",c))return c=Mp.o(a),$APP.p(c)?(b.la(null),d=ip?ip(a,b):jp.call(null,a,b),lp===d&&Oo(a,b,"EOF while reading"),!0===
c?new $APP.J(null,$APP.dl,new $APP.J(null,d,null,1,null),2,null):c.o?c.o(d):c.call(null,d)):Oo(a,b,"Var literal not allowed. Use the `:var` option");if($APP.A.j("(",c)){c=Np.o(a);if($APP.p(c)){if($APP.p(Op.o(a)))return Oo(a,b,"Nested fn literals not allowed.");d=function(){var f=$APP.Ni.v(a,Op,!0);return ip?ip(f,b):jp.call(null,f,b)}();return!0===c?oo(d):c.o?c.o(d):c.call(null,d)}return Oo(a,b,"Function literal not allowed. Use the `:fn` option")}if($APP.A.j(":",c))return b.la(null),Jp(a,b);if($APP.A.j("{",
c))return sp(a,b);if($APP.A.j("\x3d",c))return c=Pp.o(a),$APP.p(c)?(b.la(null),d=ip?ip(a,b):jp.call(null,a,b),!0===c?new $APP.J(null,Qp,new $APP.J(null,d,null,1,null),2,null):c.o?c.o(d):c.call(null,d)):Oo(a,b,"Read-eval not allowed. Use the `:read-eval` option");if($APP.A.j("?",c))return $APP.p(wp.o(a))||Oo(a,b,"Conditional read not allowed."),b.la(null),Ap(a,b);if($APP.A.j("_",c))return b.la(null),ip?ip(a,b):jp.call(null,a,b),b;a:switch(c){case "^":case "'":case "(":case "{":case '"':case "!":case "_":case "?":case ":":case "#":c=
!0;break a;default:c=!1}if($APP.p(c))return b.Fc(null,"#"),Wo(a,b);c=up.o(a);if($APP.p(c))return ip?ip(a,b):jp.call(null,a,b),ip?ip(a,b):jp.call(null,a,b);var e=ip?ip(a,b):jp.call(null,a,b);c=ip?ip(a,b):jp.call(null,a,b);d=function(){var f=Rn.o(a);f=$APP.p(f)?f.o?f.o(e):f.call(null,e):null;return $APP.p(f)?f:Rp.call(null,e)}();if($APP.p(d))return d.o?d.o(c):d.call(null,c);throw Error(["No reader function for tag ",$APP.t.o(e)].join(""));};
Wp=function(a,b){var c=fm(b)?cp(b):null,d=op(a,b,"}"),e=$APP.ge(d);if(0<e){$APP.vg(e)||Po(a,b,["The map literal starting with ",$APP.t.o(qm.j(!1,$APP.y(d)))," contains ",$APP.t.o($APP.ge(d))," form(s). Map literals must contain an even number of forms."].join(""),null,c);var f=$APP.un.j(2,d);$APP.p($APP.wg.j(Tp,f))||rp(a,b,c,$APP.tn,f)}return 16>=e?$APP.wg.j($APP.Up,d):$APP.wg.j($APP.Vp,d)};
Xp=function(a,b){b.la(null);var c=b.la(null);$APP.p(So(c))&&Oo(a,b,"Invalid token: :");c=To(b,c);var d=":"===c.charAt(0);if(d){var e=d?$APP.lj.j(c,1):c;d=Fp.o?Fp.o(e):Fp.call(null,e);c=$APP.D.v(d,0,null);d=$APP.D.v(d,1,null);if($APP.p(c)){var f=Dp(a,b,e,null);e=$APP.Gj.o(c);a=Ep(a,f,e,b,c,null)}else f=Dp(a,b,e,"Use `:auto-resolve` + `:current` to resolve current namespace."),a=Ep(a,f,$APP.Ip,b,e,"Use `:auto-resolve` + `:current` to resolve current namespace.");return $APP.xj.j($APP.t.o(a),d)}return $APP.xj.o(c)};
Yp=function(a){return a instanceof $APP.K?$APP.Zf([a,!0]):a instanceof $APP.v?new $APP.n(null,1,[$APP.Fn,a],null):"string"===typeof a?new $APP.n(null,1,[$APP.Fn,a],null):a};Zp=function(a,b){return a instanceof $APP.K?$APP.Zf([b.o?b.o(a):b.call(null,a),b.o?b.o(!0):b.call(null,!0)]):a instanceof $APP.v?$APP.Zf([b.o?b.o($APP.Fn):b.call(null,$APP.Fn),b.o?b.o(a):b.call(null,a)]):"string"===typeof a?$APP.Zf([b.o?b.o($APP.Fn):b.call(null,$APP.Fn),b.o?b.o(a):b.call(null,a)]):a};
hq=function(a,b,c){var d=fm(b);if($APP.A.j("#",c))return b.la(null),Sp(a,b);if($APP.A.j(null,c))return lp;if($APP.A.j("@",c))return c=$APP.$p.o(a),$APP.p(c)?(d=c,b.la(null),c=ip?ip(a,b):jp.call(null,a,b),!0===d?new $APP.J(null,$APP.aq,new $APP.J(null,c,null,1,null),2,null):d.o?d.o(c):d.call(null,c)):Oo(a,b,"Deref not allowed. Use the `:deref` option");if($APP.A.j("`",c))return c=Co.o(a),$APP.p(c)?(d=c,b.la(null),c=ip?ip(a,b):jp.call(null,a,b),!0===d||$APP.Ee(d)?(d=$APP.Yj.o($APP.$f),d=$APP.Ni.v(a,
zo,d),so(d,b,c)):d.o?d.o(c):d.call(null,c)):Oo(a,b,"Syntax quote not allowed. Use the `:syntax-quote` option");if($APP.A.j('"',c))return ap(a,b);if($APP.A.j("'",c))return c=bq.o(a),$APP.p(c)?(d=c,b.la(null),c=ip?ip(a,b):jp.call(null,a,b),lp===c&&Oo(a,b,"EOF while reading"),!0===d?new $APP.J(null,$APP.el,new $APP.J(null,c,null,1,null),2,null):d.o?d.o(c):d.call(null,c)):Wo(a,b);if($APP.A.j("(",c))return $APP.wg.j($APP.P,op(a,b,")"));if($APP.A.j(")",c)){var e=fp.o(a);if($APP.Mi.j(e,c))return d=d?cp(b):
null,b.la(null),Po(a,b,["Unmatched delimiter: ",$APP.t.o(c),$APP.p(e)?[", expected: ",$APP.t.o(e),function(){var f=gp.o(a);if($APP.p(f)){var g=$APP.ag(f);f=$APP.Re.j(g,Qo);var k=$APP.Re.j(g,ym);g=$APP.Re.j(g,hp);return[" to match ",$APP.t.o(g)," at ",$APP.t.o(new $APP.N(null,2,5,$APP.O,[f,k],null))].join("")}return null}()].join(""):null].join(""),function(){var f=gp.o(a),g=$APP.ag(f);f=$APP.Re.j(g,hp);var k=$APP.Re.j(g,Qo);g=$APP.Re.j(g,ym);return new $APP.n(null,3,[Yo,$APP.t.o(f),Zo,new $APP.n(null,
2,[Qo,k,ym,g],null),Xo,$APP.t.o(e)],null)}(),d);b.la(null);return mp}if($APP.A.j(":",c))return Xp(a,b);if($APP.A.j(";",c))return dp(b);if($APP.A.j("[",c))return op(a,b,"]");if($APP.A.j("{",c))return Wp(a,b);if($APP.A.j("\\",c))return c=b.la(null),cq.v?cq.v(b,c,null):cq.call(null,b,c,null);if($APP.A.j("]",c)){e=fp.o(a);if($APP.Mi.j(e,c))return d=d?cp(b):null,b.la(null),Po(a,b,["Unmatched delimiter: ",$APP.t.o(c),$APP.p(e)?[", expected: ",$APP.t.o(e),function(){var f=gp.o(a);if($APP.p(f)){var g=$APP.ag(f);
f=$APP.Re.j(g,Qo);var k=$APP.Re.j(g,ym);g=$APP.Re.j(g,hp);return[" to match ",$APP.t.o(g)," at ",$APP.t.o(new $APP.N(null,2,5,$APP.O,[f,k],null))].join("")}return null}()].join(""):null].join(""),function(){var f=gp.o(a),g=$APP.ag(f);f=$APP.Re.j(g,hp);var k=$APP.Re.j(g,Qo);g=$APP.Re.j(g,ym);return new $APP.n(null,3,[Yo,$APP.t.o(f),Zo,new $APP.n(null,2,[Qo,k,ym,g],null),Xo,$APP.t.o(e)],null)}(),d);b.la(null);return mp}if($APP.A.j("}",c)){e=fp.o(a);if($APP.Mi.j(e,c))return d=d?cp(b):null,b.la(null),
Po(a,b,["Unmatched delimiter: ",$APP.t.o(c),$APP.p(e)?[", expected: ",$APP.t.o(e),function(){var f=gp.o(a);if($APP.p(f)){var g=$APP.ag(f);f=$APP.Re.j(g,Qo);var k=$APP.Re.j(g,ym);g=$APP.Re.j(g,hp);return[" to match ",$APP.t.o(g)," at ",$APP.t.o(new $APP.N(null,2,5,$APP.O,[f,k],null))].join("")}return null}()].join(""):null].join(""),function(){var f=gp.o(a),g=$APP.ag(f);f=$APP.Re.j(g,hp);var k=$APP.Re.j(g,Qo);g=$APP.Re.j(g,ym);return new $APP.n(null,3,[Yo,$APP.t.o(f),Zo,new $APP.n(null,2,[Qo,k,ym,
g],null),Xo,$APP.t.o(e)],null)}(),d);b.la(null);return mp}if($APP.A.j("^",c))return b.la(null),c=dq?dq(a,b,!0):jp.call(null,a,b,!0),yp.v(ip?ip(a,b):jp.call(null,a,b),$APP.mm,c);if($APP.A.j("~",c)){c=function(){var f=Co.o(a);return $APP.p(f)?(f=eq.o(a),$APP.p(f)?f:!0):f}();if($APP.p(c)){d=c;b.la(null);if("@"===b.Sb(null))return d=function(){var f=Co.o(a);return $APP.p(f)?(f=fq.o(a),$APP.p(f)?f:!0):f}(),$APP.p(d)?(b.la(null),c=ip?ip(a,b):jp.call(null,a,b),!0===d?new $APP.J(null,ro,new $APP.J(null,c,
null,1,null),2,null):d.o?d.o(c):d.call(null,c)):Oo(a,b,"Syntax unquote splice not allowed. Use the `:syntax-quote` option");c=ip?ip(a,b):jp.call(null,a,b);return!0===d?new $APP.J(null,$APP.po,new $APP.J(null,c,null,1,null),2,null):d.o?d.o(c):d.call(null,c)}return Oo(a,b,"Syntax unquote not allowed. Use the `:syntax-unquote` option")}c=b.la(null);return $APP.p(gq.j?gq.j(b,c):gq.call(null,b,c))?Uo(a,b,c):Hp(a,b,c)};
jp=function(a){switch(arguments.length){case 2:return ip(arguments[0],arguments[1]);case 3:return dq(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",$APP.t.o(arguments.length)].join(""));}};ip=function(a,b){return dq(a,b,null)};
dq=function(a,b,c){for(;;){var d=fm(b),e=function(){var B=ep(b);return $APP.p(B)?Tl(b):B}();if($APP.p(e)){var f=e,g=d?cp(b):null,k=lm.o(a),l=$APP.p(k)?$APP.cm.o($APP.u(b.frames)):null,h=$APP.p(k)?l.getLength():null,r=$APP.p(k)?om(b,function(B,ca,H,I,aa,da,fa,pa){return function(){return hq(B,ca,pa)}}(a,b,c,g,k,l,h,f,e,d)):hq(a,b,f);if(b!==r){if(mp===r)return r;var q=iq.o(a),w=jq.o(a),C=kq.o(a),G=null!=r?r.M&262144||$APP.wd===r.Bf?!0:r.M?!1:$APP.zb(rc,r):$APP.zb(rc,r),M=$APP.p(k)?$APP.lj.j($APP.t.o(l),
h).trim():null,R=function(){var B=d;if(B){if(B=G)B=(B=$APP.wb(w))?B:w.o?w.o(r):w.call(null,r);return $APP.p(B)?B:q}return B}(),W=$APP.p(function(){var B=d;return B?(B=R,$APP.p(B)?C:B):B}())?cp(b):null,Z=$APP.p(R)?Qo.o(g):null,ea=$APP.p(C)?Qo.o(W):null,ia=$APP.p(R)?ym.o(g):null,ka=$APP.p(C)?ym.o(W):null,Y=$APP.p(q)?function(B,ca,H,I,aa,da,fa,pa,sa,ta,ua,Aa,Fa,za){return function(va){var Ma=function(){var ab=new $APP.n(null,1,[lq,va],null);ab=$APP.p(sa)?$APP.Ni.v(ab,mq,function(){var kb=$APP.Zf([Io.o(B),
ua,Jo.o(B),Fa]);return $APP.p(da)?$APP.Ni.A(kb,Ko.o(B),Aa,$APP.F([Lo.o(B),za])):kb}()):ab;return $APP.p(pa)?$APP.Ni.v(ab,function(){var kb=nq.o(B);return $APP.p(kb)?kb:lm}(),pa):ab}();return I.o?I.o(Ma):I.call(null,Ma)}}(a,b,c,q,w,C,G,M,R,W,Z,ea,ia,ka,g,k,l,h,r,f,e,d):null,E=$APP.p(c)?$APP.p(Y)?Zp(r,Y):Yp(r):r;return $APP.p(q)?Y.o?Y.o(E):Y.call(null,E):$APP.p(R)?yp.j(E,function(B,ca,H,I,aa,da,fa,pa,sa,ta,ua,Aa,Fa,za){return function(va){va=$APP.Ni.v($APP.Ni.v(va,Io.o(B),ua),Jo.o(B),Fa);va=$APP.p(da)?
$APP.Ni.v($APP.Ni.v(va,Ko.o(B),Aa),Lo.o(B),za):va;return $APP.p(pa)?$APP.Ni.v(va,nq.o(B),pa):va}}(a,b,c,q,w,C,G,M,R,W,Z,ea,ia,ka,Y,E,g,k,l,h,r,f,e,d)):E}}else return lp}};$APP.oq=function(a,b,c,d,e,f,g,k,l,h,r,q,w,C,G,M,R,W,Z,ea,ia,ka){this.bb=a;this.deref=b;this.nb=c;this.ob=d;this.pb=e;this.quote=f;this.fn=g;this.Pa=k;this.jb=l;this.kb=h;this.lb=r;this.ab=q;this.fb=w;this.cb=C;this.source=G;this.mb=M;this.ib=R;this.hb=W;this.eb=Z;this.O=ea;this.G=ia;this.N=ka;this.M=2230716170;this.R=139264};
qq=function(a){var b=$APP.nm.A(a,$APP.pq,$APP.F([$APP.$p,Co,eq,fq,bq,Np,Mp,Pp,Kp,Io,Jo,Ko,Lo,lm,nq,iq,jq,kq]));b=$APP.Fe(a)?$APP.Nh.j($APP.$f,b):b;return new $APP.oq($APP.pq.o(a),$APP.$p.o(a),Co.o(a),eq.o(a),fq.o(a),bq.o(a),Np.o(a),Mp.o(a),Pp.o(a),Kp.o(a),Io.o(a),Jo.o(a),Ko.o(a),Lo.o(a),lm.o(a),nq.o(a),iq.o(a),jq.o(a),kq.o(a),null,$APP.bg(b),null)};
rq=function(a,b){if(null!=a&&null!=a.Qe)a=a.Qe(a,b);else{var c=rq[$APP.oa(null==a?null:a)];if(null!=c)a=c.j?c.j(a,b):c.call(null,a,b);else if(c=rq._,null!=c)a=c.j?c.j(a,b):c.call(null,a,b);else throw $APP.Bb("IBox.setVal",a);}return a};sq=function(a){if(null!=a&&null!=a.Tc)a=a.Tc(a);else{var b=sq[$APP.oa(null==a?null:a)];if(null!=b)a=b.o?b.o(a):b.call(null,a);else if(b=sq._,null!=b)a=b.o?b.o(a):b.call(null,a);else throw $APP.Bb("IBox.getVal",a);}return a};
tq=function(a){if(null!=a&&null!=a.ti)a=a.Gg;else{var b=tq[$APP.oa(null==a?null:a)];if(null!=b)a=b.o?b.o(a):b.call(null,a);else if(b=tq._,null!=b)a=b.o?b.o(a):b.call(null,a);else throw $APP.Bb("IReified.getMethods",a);}return a};uq=function(a,b){this.Gg=a;this.li=b};
vq=function(a,b,c){if(null!=a&&null!=a.ih)a=a.ih(a,b,c);else{var d=vq[$APP.oa(null==a?null:a)];if(null!=d)a=d.v?d.v(a,b,c):d.call(null,a,b,c);else if(d=vq._,null!=d)a=d.v?d.v(a,b,c):d.call(null,a,b,c);else throw $APP.Bb("SciTypeInstance.-mutate",a);}return a};wq=function(a){this.form=a};
xq=function(a){if(null!=a&&null!=a.vi)a=a.stack;else{var b=xq[$APP.oa(null==a?null:a)];if(null!=b)a=b.o?b.o(a):b.call(null,a);else if(b=xq._,null!=b)a=b.o?b.o(a):b.call(null,a);else throw $APP.Bb("Stack.stack",a);}return a};$APP.yq=function(a,b,c,d,e){this.f=a;this.stack=b;this.O=c;this.G=d;this.N=e;this.M=2230716170;this.R=139264};zq=function(a,b){return new $APP.yq(a,b,null,null,null)};S=function(a,b,c){if(a instanceof $APP.yq){var d=a.f;return d.v?d.v(a,b,c):d.call(null,a,b,c)}return a};
Aq=function(a){if(null!=a&&null!=a.td)a=a.td(a);else{var b=Aq[$APP.oa(null==a?null:a)];if(null!=b)a=b.o?b.o(a):b.call(null,a);else if(b=Aq._,null!=b)a=b.o?b.o(a):b.call(null,a);else throw $APP.Bb("HasName.getName",a);}return a};Bq=function(a,b){this.bindings=a;this.prev=b};Dq=function(){return $APP.u(Cq)};Eq=function(a){this.val=a};Fq=function(){var a=$APP.u(Cq);return new Bq(a.bindings,null)};Gq=function(a){return $APP.jd(Cq,a)};
Hq=function(a,b){if(null!=a&&null!=a.kh)a=a.kh(a,b);else{var c=Hq[$APP.oa(null==a?null:a)];if(null!=c)a=c.j?c.j(a,b):c.call(null,a,b);else if(c=Hq._,null!=c)a=c.j?c.j(a,b):c.call(null,a,b);else throw $APP.Bb("IVar.bindRoot",a);}return a};Iq=function(a){if(null!=a&&null!=a.xi)a=a.root;else{var b=Iq[$APP.oa(null==a?null:a)];if(null!=b)a=b.o?b.o(a):b.call(null,a);else if(b=Iq._,null!=b)a=b.o?b.o(a):b.call(null,a);else throw $APP.Bb("IVar.getRawRoot",a);}return a};
Jq=function(a){if(null!=a&&null!=a.mh)a=a.mh(a);else{var b=Jq[$APP.oa(null==a?null:a)];if(null!=b)a=b.o?b.o(a):b.call(null,a);else if(b=Jq._,null!=b)a=b.o?b.o(a):b.call(null,a);else throw $APP.Bb("IVar.isMacro",a);}return a};Kq=function(a){if(null!=a&&null!=a.lh)a=a.lh(a);else{var b=Kq[$APP.oa(null==a?null:a)];if(null!=b)a=b.o?b.o(a):b.call(null,a);else if(b=Kq._,null!=b)a=b.o?b.o(a):b.call(null,a);else throw $APP.Bb("IVar.hasRoot",a);}return a};
Lq=function(a){if(null!=a&&null!=a.nh)a.nh(a,!0);else{var b=Lq[$APP.oa(null==a?null:a)];if(null!=b)b.j?b.j(a,!0):b.call(null,a,!0);else if(b=Lq._,null!=b)b.j?b.j(a,!0):b.call(null,a,!0);else throw $APP.Bb("IVar.setThreadBound",a);}};Mq=function(a){if(null!=a&&null!=a.Yf)a.Yf(a);else{var b=Mq[$APP.oa(null==a?null:a)];if(null!=b)b.o?b.o(a):b.call(null,a);else if(b=Mq._,null!=b)b.o?b.o(a):b.call(null,a);else throw $APP.Bb("IVar.unbind",a);}};
Nq=function(a){if(null!=a&&null!=a.jh)a=a.jh(a);else{var b=Nq[$APP.oa(null==a?null:a)];if(null!=b)a=b.o?b.o(a):b.call(null,a);else if(b=Nq._,null!=b)a=b.o?b.o(a):b.call(null,a);else throw $APP.Bb("DynVar.dynamic?",a);}return a};Oq=function(a){if(null!=a&&null!=a.wi)a=a.Hg;else{var b=Oq[$APP.oa(null==a?null:a)];if(null!=b)a=b.o?b.o(a):b.call(null,a);else if(b=Oq._,null!=b)a=b.o?b.o(a):b.call(null,a);else throw $APP.Bb("CtxVar.needs-ctx?",a);}return a};
$APP.Pq=function(a){var b=Dq();a=$APP.cf.v(function(c,d){var e=$APP.D.v(d,0,null);d=$APP.D.v(d,1,null);if($APP.wb(Nq(e)))throw Error(["Can't dynamically bind non-dynamic var ",$APP.t.o(e)].join(""));Lq(e);return $APP.Ni.v(c,e,new Eq(d))},b.bindings,a);return Gq(new Bq(a,b))};$APP.Rq=function(){var a=Dq().prev;if($APP.p(a))return Qq===a?$APP.jd(Cq,Qq):Gq(a);throw Error("No frame to pop.");};
Sq=function(){var a=Dq(),b=$APP.$f;for(a=$APP.x(a.bindings);;)if(a){var c=$APP.y(a),d=$APP.D.v(c,0,null);c=$APP.D.v(c,1,null).Tc(null);b=$APP.Ni.v(b,d,c);a=$APP.z(a)}else return b};Tq=function(a){var b=$APP.u(Cq);return $APP.p(b)?b.bindings.get(a):null};Uq=function(a){throw Error(["Attempting to call unbound fn: ",$APP.t.o(a)].join(""));};Vq=function(a){this.Ab=a;this.M=1;this.R=0};Wq=function(a){return Df(a)?$APP.Gj.o($APP.Yi(a)):a};
Xq=function(a,b,c){this.data=a;this.namespace=b;this.name=c;this.M=131072;this.R=4096};Yq=function(a,b,c,d){$APP.p(b)&&0<$APP.ge(b)&&$APP.ff(function(e,f,g){g.J?g.J(f,a,c,d):g.call(null,f,a,c,d);return null},null,b)};Zq=function(a,b,c,d){this.root=a;this.Ic=b;this.meta=c;this.ph=!1;this.Hg=d;this.Bb=null;this.M=2147647489;this.R=0};
ar=function(a){var b=function(){var c=$APP.T.o(a.meta);return null==c?null:$APP.Yi(c)}();return $APP.p(b)?$APP.Gj.j(function(){var c=$APP.$q.o(a.meta);c=null==c?null:Aq(c);return null==c?null:$APP.Yi(c)}(),b):a.Ic};br=function(a,b){this.name=a;this.meta=b;this.M=131072;this.R=0};$APP.cr=function(a,b){return new br(a,b)};gr=function(a){return $APP.Oi(a,new $APP.N(null,8,5,$APP.O,[$APP.$q,$APP.T,dr,$APP.wm,$APP.xm,$APP.Un,er,$APP.fr],null))};
kr=function(a){var b=function(){var e=$APP.we(a);return $APP.p(e)?e:a}(),c=Me(a)?$APP.y(a):null,d=function(){var e=hr.o(b);return $APP.p(e)?e:null==c?null:$APP.we(c)}();d=$APP.A.j(ir,jr.o(d))?$APP.Ni.v(d,$APP.$q,$APP.$q.o(b)):d;return $APP.x($APP.Pg.j($APP.bg,new $APP.N(null,2,5,$APP.O,[gr(b),gr(d)],null)))};lr=function(a){var b=$APP.$q.o(a);return $APP.p(b)?$APP.Ni.v(a,$APP.$q,b.td(null)):a};
or=function(a){a=$APP.u(a);a=mr.o(a);var b=$APP.Ng.A(kr,$APP.F([a]));a=$APP.cf.v(function(c,d){var e=$APP.D.v(c,0,null),f=$APP.D.v(c,1,null),g=$APP.D.v(c,2,null),k=$APP.D.v(c,3,null);c=function(){var h=$APP.T.o(d);return $APP.p(h)?h:k}();var l=function(){var h=$APP.wm.o(d);return $APP.p(h)?h:f}();g=g===$APP.$q.o(d)?$APP.Ni.A(d,$APP.T,c,$APP.F([$APP.wm,l])):d;return new $APP.N(null,4,5,$APP.O,[$APP.tf.j(e,g),l,$APP.$q.o(d),c],null)},function(){var c=$APP.y(b);return new $APP.N(null,4,5,$APP.O,[$APP.Id,
$APP.wm.o(c),$APP.$q.o(c),$APP.T.o(c)],null)}(),b);return $APP.nr.j(lr,$APP.y(a))};
tr=function(a){a=Nj(a);a=$APP.pr.j(function(c){var d=$APP.ag(c);c=$APP.Re.j(d,$APP.T);var e=$APP.Re.j(d,$APP.wm),f=$APP.Re.j(d,$APP.$q),g=$APP.Re.j(d,$APP.xm),k=$APP.Re.j(d,$APP.Un),l=$APP.Re.j(d,er);d=$APP.Re.j(d,dr);return $APP.p($APP.p(g)?g:l)?new $APP.n(null,2,[$APP.T,[$APP.t.o($APP.p(c)?[$APP.t.o(f),"/",$APP.t.o(c)].join(""):f),$APP.p(d)?["#",$APP.t.o(d)].join(""):null].join(""),mq,[$APP.t.o($APP.p(e)?e:$APP.p(l)?"\x3cbuilt-in\x3e":"\x3cexpr\x3e"),$APP.p(g)?[":",$APP.t.o(g),":",$APP.t.o(k)].join(""):
null].join("")],null):null},a);var b=$APP.cf.v($APP.ko,0,$APP.wj.j($APP.qr.j($APP.ge,$APP.T),a));return $APP.nr.j(function(c){var d=$APP.ag(c);c=$APP.Re.j(d,$APP.T);d=$APP.Re.j(d,mq);var e=b-$APP.ge(c);return[[$APP.t.o(c),$APP.rr.o($APP.sr.j(e," "))].join("")," - ",$APP.t.o(d)].join("")},a)};
zr=function(a){var b=$APP.ur.j(2,a),c=function k(e,f,g){function l(r,q,w){var C=$APP.Ao.o("map__"),G=vr.o(q),M=function(Z){return function(ea){return $APP.p($APP.wr.o(q))?$APP.tf.A(ea,$APP.wr.o(q),$APP.F([Z])):ea}}(C,G,h,b)($APP.tf.j($APP.tf.j($APP.tf.j($APP.tf.j(r,C),w),C),new $APP.J(null,$APP.Uk,new $APP.J(null,new $APP.J(null,$APP.Le,new $APP.J(null,C,null,1,null),2,null),new $APP.J(null,$APP.U.o($APP.x($APP.Q.j(new $APP.J(null,xr,null,1,null),new $APP.J(null,C,null,1,null)))),new $APP.J(null,
C,null,1,null),2,null),3,null),4,null)));for(r=function(){var Z=$APP.cf.v(function(){return function(ea,ia){if(ia instanceof $APP.K){var ka=$APP.Af(ia),Y=$APP.Yi(ia);return $APP.A.j(Y,"keys")?$APP.Ni.v(ea,ia,function(E){return $APP.xj.j($APP.p(ka)?ka:$APP.Af(E),$APP.Yi(E))}):$APP.A.j(Y,"syms")?$APP.Ni.v(ea,ia,function(E){return new $APP.J(null,$APP.el,new $APP.J(null,$APP.Gj.j($APP.p(ka)?ka:$APP.Af(E),$APP.Yi(E)),null,1,null),2,null)}):$APP.A.j(Y,"strs")?$APP.Ni.v(ea,ia,$APP.t):ea}return ea}}(M,C,
G,h,b),$APP.$f,$APP.Ii(q));return $APP.cf.v(function(){return function(ea,ia){return $APP.cf.v(function(ka,Y){var E=$APP.Ni.v;var B=fc(ia);B=B.o?B.o(Y):B.call(null,Y);return E.call($APP.Ni,ka,Y,B)},$APP.nm.j(ea,ec(ia)),function(){var ka=ec(ia);return ka.o?ka.o(ea):ka.call(null,ea)}())}}(Z,M,C,G,h,b),$APP.nm.A(q,$APP.wr,$APP.F([vr])),Z)}();;)if($APP.x(r)){w=ec($APP.y(r));var R=fc($APP.y(r)),W=null!=w&&(w.R&4096||$APP.wd===w.sf)?$APP.ve($APP.Gj.j(null,$APP.Yi(w)),$APP.we(w)):w;R=$APP.Te(G,W)?new $APP.J(null,
yr,new $APP.J(null,C,new $APP.J(null,R,new $APP.J(null,G.o?G.o(W):G.call(null,W),null,1,null),2,null),3,null),4,null):new $APP.J(null,yr,new $APP.J(null,C,new $APP.J(null,R,null,1,null),2,null),3,null);w=w instanceof $APP.K||w instanceof $APP.v?$APP.tf.A(M,W,$APP.F([R])):k(M,w,R);r=$APP.z(r);M=w}else return M}function h(r,q,w){var C=$APP.Ao.o("vec__"),G=$APP.Ao.o("seq__"),M=$APP.Ao.o("first__"),R=$APP.ug(new $APP.Qi(null,new $APP.n(null,1,[$APP.Jk,null],null),null),q);r=$APP.tf.A(r,C,$APP.F([w]));
r=$APP.p(R)?$APP.tf.A(r,G,$APP.F([new $APP.J(null,$APP.x,new $APP.J(null,C,null,1,null),2,null)])):r;w=0;for(var W=!1;;)if($APP.x(q)){var Z=$APP.y(q);if($APP.A.j(Z,$APP.Jk))r=k(r,$APP.le(q),G),q=oe(q),W=!0;else{if($APP.A.j(Z,$APP.wr))return k(r,$APP.le(q),C);if($APP.p(W))throw Error("Unsupported binding form, only :as can follow \x26 parameter");r=k($APP.p(R)?$APP.tf.A(r,M,$APP.F([$APP.U.o($APP.x($APP.Q.j(new $APP.J(null,$APP.y,null,1,null),new $APP.J(null,G,null,1,null)))),G,$APP.U.o($APP.x($APP.Q.j(new $APP.J(null,
$APP.z,null,1,null),new $APP.J(null,G,null,1,null))))])):r,Z,$APP.p(R)?M:new $APP.J(null,$APP.D,new $APP.J(null,C,new $APP.J(null,w,new $APP.J(null,null,null,1,null),2,null),3,null),4,null));w+=1;q=$APP.z(q)}}else return r}if(f instanceof $APP.v)return $APP.tf.j($APP.tf.j(e,$APP.p($APP.Af(f))?$APP.Gj.o($APP.Yi(f)):f),g);if(f instanceof $APP.K)return $APP.tf.j($APP.tf.j(e,$APP.Gj.o($APP.Yi(f))),g);if($APP.Ge(f))return h(e,f,g);if($APP.Ee(f))return l(e,f,g);throw Error(["Unsupported binding form: ",
$APP.t.o(f)].join(""));};if($APP.tg(zd,$APP.wj.j($APP.y,b)))return a;if(a=$APP.x($APP.Pg.j(function(e){return $APP.y(e)instanceof $APP.K},b)))throw Error(["Unsupported binding key: ",$APP.t.o($APP.me(a))].join(""));return $APP.cf.v(function(e,f){return c(e,$APP.y(f),$APP.le(f))},$APP.ih,b)};Ar=function(a){return null==a||"number"===typeof a||"string"===typeof a||a instanceof $APP.K||Ke(a)||a instanceof RegExp};Cr=function(a,b){return Br(a,b,$APP.$f)};
Br=function(a,b,c){b=$APP.we(b);var d=$APP.ag(b);b=$APP.Re.j(d,$APP.xm);var e=$APP.Re.j(d,$APP.Un);d=$APP.Re.v(d,$APP.wm,$APP.u(Dr));throw $APP.zm.j(a,$APP.mm.A($APP.F([new $APP.n(null,4,[$APP.tm,jk,$APP.xm,$APP.p(b)?b:$APP.xm.o(Er),$APP.Un,$APP.p(e)?e:$APP.Un.o(Er),$APP.wm,d],null),c])));};Gr=function(a){a=$APP.we(a);if(null==a)return null;var b=Fr.o(a);return $APP.p(b)?b:$APP.fr.o(a)};Jr=function(a,b,c){return Hr(a,Ir.o(a),b,c)};
Hr=function(a,b,c,d){if($APP.p(Kr))throw c;var e=xq(d),f=Lr.o(a),g=$APP.Mr.o(a),k=Gk(c),l=function(){var M=Nr.o(k);M=$APP.p(M)?M:null;return $APP.p(M)?M:$APP.Cg($APP.Id)}();$APP.p(e)&&$APP.jd(l,$APP.tf.j($APP.u(l),e));var h=Gk(c);a=function(){var M=lk($APP.tm.o(h));return M?Nr.o(h):M}();if($APP.p(a))throw c;var r=c.message;a=function(){if($APP.p(e))return e;var M=null==f?null:$APP.u(f);M=null==M?null:Nr.o(M);M=null==M?null:$APP.Re.j(M,g);M=null==M?null:$APP.u(M);M=null==M?null:$APP.pe(M);return null==
M?null:$APP.we(M)}();a=$APP.ag(a);var q=$APP.Re.j(a,$APP.xm),w=$APP.Re.j(a,$APP.Un),C=$APP.Re.j(a,$APP.wm);if($APP.p($APP.p(q)?w:q)){var G=Or.o(h);throw function(){var M=new $APP.n(null,6,[$APP.tm,jk,$APP.xm,q,$APP.Un,w,Pr,r,Nr,l,$APP.wm,C],null);M=$APP.p(G)?$APP.Ni.v(M,Or,G):M;return $APP.zm.v(r,M,c)}();}throw c;};Qr=function(a){switch($APP.Af(a)){case "clojure.core":case "cljs.core":return $APP.Gj.o($APP.Yi(a));default:return a}};
Ur=function(a,b,c,d){var e=$APP.u(a);e=$APP.Rr.j(e,new $APP.N(null,2,5,$APP.O,[$APP.Sr,b],null));var f=lq.o(e);return $APP.p(f)?f:$APP.p($APP.p(e)?e:c)?(c=$APP.cr(b,d),$APP.Zj.J(a,$APP.Tr,new $APP.N(null,3,5,$APP.O,[$APP.Sr,b,lq],null),c),c):null};Wr=function(a,b,c){a=Lr.o(a);c=$APP.mm.A($APP.F([$APP.we(b),c]));b=Ur(a,b,!0,c);return rq($APP.Vr,b)};Yr=function(a,b){var c=$APP.u(Xr);return c.j?c.j(a,b):c.call(null,a,b)};
bs=function(a,b){if($APP.tg(zd,a))return new $APP.n(null,2,[$APP.Zr,a,$APP.$r,b],null);for(var c=$APP.ve($APP.ih,$APP.we(a)),d=$APP.ih;;)if($APP.p(a))if($APP.y(a)instanceof $APP.v){var e=$APP.z(a);c=$APP.tf.j(c,$APP.y(a));a=e}else{var f=$APP.Ao.o("p__");e=$APP.z(a);c=$APP.tf.j(c,f);d=$APP.tf.j($APP.tf.j(d,$APP.y(a)),f);a=e}else return new $APP.n(null,2,[$APP.Zr,c,$APP.$r,new $APP.N(null,1,5,$APP.O,[$APP.U.o($APP.x($APP.Q.A(new $APP.J(null,$APP.as,null,1,null),new $APP.J(null,d,null,1,null),$APP.F([b]))))],
null)],null)};ds=function(a,b){a=$APP.Ni.A(a,$APP.$q,$APP.u($APP.Vr),$APP.F([$APP.wm,$APP.u(Dr)]));return $APP.p(b)?$APP.Ni.v(a,cs,!0):a};fs=function(a,b,c){c=$APP.Ni.A(c,$APP.es,!0,$APP.F([$APP.T,Wq.o?Wq.o(a):Wq.call(null,a)]));return new Zq(b,a,c,!1)};gs=function(){return Aq($APP.u($APP.Vr))};is=function(a,b,c){return hs(a,b,c,!1)};hs=function(a,b,c,d){return new Zq(b,a,$APP.Ni.v(c,$APP.T,Wq.o?Wq.o(a):Wq.call(null,a)),d)};js=function(a){return a instanceof Zq};
ms=function(a){var b=ks(a);return["#object[",$APP.t.o(b)," 0x",$APP.t.o($APP.xd(a).toString(16)),' "',$APP.t.o(ls.o(a)),'"]'].join("")};ns=function(a,b,c,d){this.dd=a;this.type=b;this.Pa=c;this.Ib=d;this.M=2147483648;this.R=0};os=function(a,b,c,d,e){var f=c[d];if(null==f)throw Error(["Could not find instance method: ",$APP.t.o(d)].join(""));d=e.map(function(g){return S(g,a,b)});return Reflect.apply(f,c,d)};
ps=function(a,b,c,d){for(;;)if(null==c)d=b.length-1,c=0;else{a=$APP.Ta(a,b[c]);if(c===d)return a;c+=1}};qs=function(a,b,c,d){return Reflect.construct(c,d.map(function(e){return S(e,a,b)}))};rs=function(a,b,c,d,e){return Reflect.apply(d,c,e.map(function(f){return S(f,a,b)}))};
Ms=function(a,b){a=$APP.u(Lr.o(a));var c=ss.o(a),d=$APP.Af(b);c=$APP.p(d)?"js"===d?$APP.Te(c,$APP.Gj.o($APP.Yi(b)))?b:null:null:$APP.Te(c,b)?b:null;if($APP.p(c))return c;c=$APP.Re.j(ts.o(a),b);if($APP.p(c))return c;c=gs();return $APP.Rr.j(a,new $APP.N(null,4,5,$APP.O,[$APP.Sr,c,ts,b],null))};
Ns=function(a,b){var c=$APP.u(Lr.o(a)),d=ss.o(c);return function(){var e=$APP.Af(b);e=$APP.p(e)?"js"===e?$APP.Re.j(d,$APP.Gj.o($APP.Yi(b))):null:$APP.Re.j(d,b);if($APP.p(e))return e;e=gs();e=$APP.Rr.j(c,new $APP.N(null,3,5,$APP.O,[$APP.Sr,e,ts],null));e=Ve(e,b);if($APP.p(e))return $APP.D.v(e,0,null),e=$APP.D.v(e,1,null),$APP.Re.j(d,e);e=$APP.Rr.j(c,new $APP.N(null,2,5,$APP.O,[ts,b],null));return $APP.p(e)?$APP.Re.j(d,e):null}()};
Qs=function(a){return $APP.Rr.j($APP.u(Lr.o(a)),new $APP.N(null,3,5,$APP.O,[$APP.Sr,Os,Ps],null))};Rs=function(a){return a instanceof Xq?$APP.Gj.j($APP.Af(a),$APP.Yi(a)):a};Vs=function(a){var b=$APP.F([$APP.Sn,$APP.Ss]);if($APP.x($APP.wg.v($APP.Ts,$APP.wg.j(Us,$APP.Ii(a)),b)))throw a=$APP.wg.J($APP.t,"Only these options are valid: ",$APP.y(b),$APP.wj.j(function(c){return[", ",$APP.t.o(c)].join("")},$APP.Jd(b))),Error(a);};Ws=function(a,b,c){return $APP.uk(a,b,c)};
Xs=function(a){return $APP.Nh.j($APP.$f,$APP.wj.j(function(b){var c=$APP.x(b);b=$APP.y(c);c=$APP.z(c);var d=$APP.pe(c);d="string"===typeof d?new $APP.N(null,2,5,$APP.O,[$APP.Xi(c),d],null):new $APP.N(null,2,5,$APP.O,[c,null],null);c=$APP.D.v(d,0,null);d=$APP.D.v(d,1,null);return new $APP.N(null,2,5,$APP.O,[$APP.xj.o(b),new $APP.n(null,3,[$APP.T,b,$APP.V,c,$APP.X,d],null)],null)},a))};
kt=function(a,b,c){var d=$APP.x(b);b=$APP.y(d);d=$APP.z(d);return new $APP.J(null,b,new $APP.J(null,$APP.p(c)?$APP.U.o($APP.x($APP.Q.A(new $APP.J(null,$APP.as,null,1,null),new $APP.J(null,$APP.jh($APP.U.o($APP.x($APP.Q.j(new $APP.J(null,Ys,null,1,null),new $APP.J(null,$APP.y(b),null,1,null))))),null,1,null),$APP.F([new $APP.J(null,$APP.U.o($APP.x($APP.Q.A(new $APP.J(null,Zs,null,1,null),new $APP.J(null,$APP.jh($APP.U.o($APP.x($APP.Q.j(new $APP.J(null,$s,null,1,null),new $APP.J(null,$APP.U.o($APP.x($APP.Q.j(new $APP.J(null,
at,null,1,null),new $APP.J(null,Ys,null,1,null)))),null,1,null))))),null,1,null),$APP.F([new $APP.J(null,$APP.U.o($APP.x($APP.Q.A(new $APP.J(null,Zs,null,1,null),new $APP.J(null,$APP.jh($APP.U.o($APP.x($APP.Q.j(new $APP.J(null,bt,null,1,null),new $APP.J(null,$APP.U.o($APP.x($APP.Q.A(new $APP.J(null,yr,null,1,null),new $APP.J(null,$s,null,1,null),$APP.F([new $APP.J(null,$APP.U.o($APP.x($APP.Q.j(new $APP.J(null,$APP.el,null,1,null),new $APP.J(null,a,null,1,null)))),null,1,null)])))),null,1,null))))),
null,1,null),$APP.F([new $APP.J(null,$APP.U.o($APP.x($APP.Q.A(new $APP.J(null,ct,null,1,null),new $APP.J(null,bt,null,1,null),$APP.F([new $APP.J(null,b,null,1,null)])))),null,1,null),new $APP.J(null,$APP.U.o($APP.x($APP.Q.A(new $APP.J(null,$APP.as,null,1,null),new $APP.J(null,$APP.jh($APP.U.o($APP.x($APP.Q.A(new $APP.J(null,bt,null,1,null),new $APP.J(null,$APP.U.o($APP.x($APP.Q.A(new $APP.J(null,dt,null,1,null),new $APP.J(null,a,null,1,null),$APP.F([new $APP.J(null,$APP.U.o($APP.x($APP.Q.j(new $APP.J(null,
et,null,1,null),new $APP.J(null,Ys,null,1,null)))),null,1,null)])))),null,1,null),$APP.F([new $APP.J(null,ft,null,1,null),new $APP.J(null,$APP.U.o($APP.x($APP.Q.A(new $APP.J(null,dt,null,1,null),new $APP.J(null,a,null,1,null),$APP.F([new $APP.J(null,$APP.Sn,null,1,null)])))),null,1,null)]))))),null,1,null),$APP.F([new $APP.J(null,$APP.U.o($APP.x($APP.Q.A(new $APP.J(null,$APP.Uk,null,1,null),new $APP.J(null,$APP.U.o($APP.x($APP.Q.A(new $APP.J(null,gt,null,1,null),new $APP.J(null,ft,null,1,null),$APP.F([new $APP.J(null,
bt,null,1,null)])))),null,1,null),$APP.F([new $APP.J(null,$APP.U.o($APP.x($APP.Q.A(new $APP.J(null,ct,null,1,null),new $APP.J(null,bt,null,1,null),$APP.F([new $APP.J(null,b,null,1,null)])))),null,1,null),new $APP.J(null,$APP.U.o($APP.x($APP.Q.j(new $APP.J(null,$APP.Sk,null,1,null),d))),null,1,null)])))),null,1,null)])))),null,1,null)])))),null,1,null),new $APP.J(null,$APP.U.o($APP.x($APP.Q.A(new $APP.J(null,$APP.as,null,1,null),new $APP.J(null,$APP.jh($APP.U.o($APP.x($APP.Q.A(new $APP.J(null,bt,null,
1,null),new $APP.J(null,$APP.U.o($APP.x($APP.Q.A(new $APP.J(null,dt,null,1,null),new $APP.J(null,a,null,1,null),$APP.F([new $APP.J(null,$APP.U.o($APP.x($APP.Q.j(new $APP.J(null,et,null,1,null),new $APP.J(null,Ys,null,1,null)))),null,1,null)])))),null,1,null),$APP.F([new $APP.J(null,ft,null,1,null),new $APP.J(null,$APP.U.o($APP.x($APP.Q.A(new $APP.J(null,dt,null,1,null),new $APP.J(null,a,null,1,null),$APP.F([new $APP.J(null,$APP.Sn,null,1,null)])))),null,1,null)]))))),null,1,null),$APP.F([new $APP.J(null,
$APP.U.o($APP.x($APP.Q.A(new $APP.J(null,$APP.Uk,null,1,null),new $APP.J(null,$APP.U.o($APP.x($APP.Q.A(new $APP.J(null,gt,null,1,null),new $APP.J(null,ft,null,1,null),$APP.F([new $APP.J(null,bt,null,1,null)])))),null,1,null),$APP.F([new $APP.J(null,$APP.U.o($APP.x($APP.Q.A(new $APP.J(null,ct,null,1,null),new $APP.J(null,bt,null,1,null),$APP.F([new $APP.J(null,b,null,1,null)])))),null,1,null),new $APP.J(null,$APP.U.o($APP.x($APP.Q.j(new $APP.J(null,$APP.Sk,null,1,null),d))),null,1,null)])))),null,
1,null)])))),null,1,null)])))),null,1,null)])))):$APP.U.o($APP.x($APP.Q.A(new $APP.J(null,$APP.as,null,1,null),new $APP.J(null,$APP.jh($APP.U.o($APP.x($APP.Q.j(new $APP.J(null,ht,null,1,null),new $APP.J(null,$APP.y(b),null,1,null))))),null,1,null),$APP.F([new $APP.J(null,$APP.U.o($APP.x($APP.Q.A(new $APP.J(null,Zs,null,1,null),new $APP.J(null,$APP.jh($APP.U.o($APP.x($APP.Q.j(new $APP.J(null,it,null,1,null),new $APP.J(null,$APP.U.o($APP.x($APP.Q.j(new $APP.J(null,at,null,1,null),new $APP.J(null,ht,
null,1,null)))),null,1,null))))),null,1,null),$APP.F([new $APP.J(null,$APP.U.o($APP.x($APP.Q.A(new $APP.J(null,Zs,null,1,null),new $APP.J(null,$APP.jh($APP.U.o($APP.x($APP.Q.j(new $APP.J(null,jt,null,1,null),new $APP.J(null,$APP.U.o($APP.x($APP.Q.A(new $APP.J(null,yr,null,1,null),new $APP.J(null,it,null,1,null),$APP.F([new $APP.J(null,$APP.U.o($APP.x($APP.Q.j(new $APP.J(null,$APP.el,null,1,null),new $APP.J(null,a,null,1,null)))),null,1,null)])))),null,1,null))))),null,1,null),$APP.F([new $APP.J(null,
$APP.U.o($APP.x($APP.Q.A(new $APP.J(null,ct,null,1,null),new $APP.J(null,jt,null,1,null),$APP.F([new $APP.J(null,b,null,1,null)])))),null,1,null),new $APP.J(null,$APP.U.o($APP.x($APP.Q.j(new $APP.J(null,$APP.Sk,null,1,null),d))),null,1,null)])))),null,1,null),new $APP.J(null,$APP.U.o($APP.x($APP.Q.j(new $APP.J(null,$APP.Sk,null,1,null),d))),null,1,null)])))),null,1,null)])))),null,1,null),2,null)};
ot=function(a,b){var c=$APP.x(b);b=$APP.y(c);c=$APP.z(c);return new $APP.J(null,b,new $APP.J(null,$APP.U.o($APP.x($APP.Q.A(new $APP.J(null,$APP.as,null,1,null),new $APP.J(null,$APP.jh($APP.U.o($APP.x($APP.Q.j(new $APP.J(null,lt,null,1,null),new $APP.J(null,$APP.y(b),null,1,null))))),null,1,null),$APP.F([new $APP.J(null,$APP.U.o($APP.x($APP.Q.A(new $APP.J(null,$APP.as,null,1,null),new $APP.J(null,$APP.jh($APP.U.o($APP.x($APP.Q.A(new $APP.J(null,mt,null,1,null),new $APP.J(null,$APP.U.o($APP.x($APP.Q.A(new $APP.J(null,
dt,null,1,null),new $APP.J(null,a,null,1,null),$APP.F([new $APP.J(null,$APP.U.o($APP.x($APP.Q.j(new $APP.J(null,et,null,1,null),new $APP.J(null,lt,null,1,null)))),null,1,null)])))),null,1,null),$APP.F([new $APP.J(null,nt,null,1,null),new $APP.J(null,$APP.U.o($APP.x($APP.Q.A(new $APP.J(null,dt,null,1,null),new $APP.J(null,a,null,1,null),$APP.F([new $APP.J(null,$APP.Sn,null,1,null)])))),null,1,null)]))))),null,1,null),$APP.F([new $APP.J(null,$APP.U.o($APP.x($APP.Q.A(new $APP.J(null,$APP.Uk,null,1,null),
new $APP.J(null,$APP.U.o($APP.x($APP.Q.A(new $APP.J(null,gt,null,1,null),new $APP.J(null,nt,null,1,null),$APP.F([new $APP.J(null,mt,null,1,null)])))),null,1,null),$APP.F([new $APP.J(null,$APP.U.o($APP.x($APP.Q.A(new $APP.J(null,ct,null,1,null),new $APP.J(null,mt,null,1,null),$APP.F([new $APP.J(null,b,null,1,null)])))),null,1,null),new $APP.J(null,$APP.U.o($APP.x($APP.Q.j(new $APP.J(null,$APP.Sk,null,1,null),c))),null,1,null)])))),null,1,null)])))),null,1,null)])))),null,1,null),2,null)};
rt=function(a,b,c,d){var e=$APP.A.j(pt,a);return $APP.wj.j(function(f){var g=$APP.x(f);f=$APP.y(g);g=$APP.z(g);var k=$APP.Gj.j(c,$APP.Yi(f));f=$APP.p(d)?$APP.Ge($APP.y(g))?kt(k,g,e):$APP.wj.j(function(l){return kt(k,l,e)},g):e?$APP.Ge($APP.y(g))?ot(k,g):$APP.wj.j(function(l){return ot(k,l)},g):g;return e?$APP.U.o($APP.x($APP.Q.A(new $APP.J(null,qt,null,1,null),new $APP.J(null,k,null,1,null),$APP.F([new $APP.J(null,$APP.Sn,null,1,null),f])))):$APP.U.o($APP.x($APP.Q.A(new $APP.J(null,qt,null,1,null),
new $APP.J(null,k,null,1,null),$APP.F([new $APP.J(null,a,null,1,null),f]))))},b)};st=function(a){return $APP.t.o(a)};vt=function(a,b){var c=function(){var d=tt.o(a);if($APP.p(d)){var e=$APP.Te(d,pt);if(e)return e;e=ks(b);return $APP.p(e)?$APP.Te(d,st(e)):null}return null}();return $APP.p(c)?c:Ne($APP.ug(function(d){var e=Ck(d,ks(b));return $APP.p(e)?(d=yk(d),d=$APP.Re.j(d,$APP.Sn),e!==d):null},ut.o(a)))};
xt=function(a,b){if(b instanceof uq)return $APP.Te(b.li,a);var c=$APP.wt.o(a),d=function(){if($APP.p(c)){if($APP.p($APP.A.j?$APP.A.j($APP.mc,c):$APP.A.call(null,$APP.mc,c)))return null!=b?b.M&32768||$APP.wd===b.Ad?!0:b.M?!1:$APP.zb($APP.mc,b):$APP.zb($APP.mc,b);if($APP.p($APP.A.j?$APP.A.j(id,c):$APP.A.call(null,id,c)))return null!=b?b.R&65536||$APP.wd===b.Qi?!0:b.R?!1:$APP.zb(id,b):$APP.zb(id,b);if($APP.p($APP.A.j?$APP.A.j(gd,c):$APP.A.call(null,gd,c)))return null!=b?b.R&32768||$APP.wd===b.Ni?!0:
b.R?!1:$APP.zb(gd,b):$APP.zb(gd,b);if($APP.p($APP.A.j?$APP.A.j(Dc,c):$APP.A.call(null,Dc,c)))return null!=b?b.M&67108864||$APP.wd===b.Ch?!0:b.M?!1:$APP.zb(Dc,b):$APP.zb(Dc,b);throw Error(["No matching clause: ",$APP.t.o(c)].join(""));}return c}();return $APP.p(d)?d:vt(a,b)};yt=function(a){var b=ks(a);return["#",$APP.t.o(b),$APP.t.o($APP.Nh.j($APP.$f,a))].join("")};$APP.zt=function(a,b,c,d,e){this.dd=a;this.type=b;this.Pa=c;this.Ib=d;this.Ke=e;this.M=2230716170;this.R=139264};
Ct=function(a,b){var c=$APP.t.o(b),d=At.j(c,".");b=$APP.p(d)?$APP.lj.v(c,d+1,c.length):c;c=$APP.p(d)?$APP.Gj.o($APP.lj.v(c,0,d)):gs();b=$APP.Gj.o(b);c=$APP.Gj.o($APP.xl($APP.t.o(c),"_","-"));a=$APP.Rr.j($APP.u(Lr.o(a)),new $APP.N(null,2,5,$APP.O,[$APP.Sr,c],null));c=$APP.Re.j(a,b);a=$APP.p(c)?c:$APP.Re.j(Bt.o(a),b);return $APP.p(a)?js(a)?$APP.u(a):a:null};Dt=function(a,b){a=Ct(a,b);return $APP.p(a)?a instanceof Xq?a:null:null};
Gt=function(a,b,c,d,e){var f=S(d,a,b),g=S(e,a,b),k=Aq($APP.$q.o(g));a=$APP.Zj.j(Lr.o(a),function(l){var h=$APP.Re.j($APP.Re.j(l,$APP.Sr),k),r=$APP.Re.j(h,c);r=js(r)?r:new Zq(r,$APP.Gj.j($APP.t.o(k),$APP.t.o(c)),$APP.we(r),!1);Et!==f&&Hq(r,f);Ft.A(r,$APP.mm,$APP.F([g]));h=$APP.Ni.v(h,c,r);return $APP.Tr(l,new $APP.N(null,2,5,$APP.O,[$APP.Sr,k],null),h)});return $APP.Re.j($APP.Re.j($APP.Re.j(a,$APP.Sr),k),c)};
Kt=function(a,b,c,d,e,f){try{var g=Kr;Kr=function(){var h=$APP.wb(f)&&$APP.x(d);return h?h:Kr}();try{return S(c,a,b)}finally{Kr=g}}catch(h){var k=h,l=$APP.cf.v(function(r,q){var w=$APP.Ht.o(q);$APP.p(function(){var C=$APP.zf($APP.Sn,w);return C?C:w instanceof $APP.yq?(C=S(w,a,b),k instanceof C):k instanceof w}())?(r=$APP.O,b[It.o(q)]=k,q=S($APP.$r.o(q),a,b),q=$APP.Vd(new $APP.N(null,2,5,r,[Jt,q],null))):q=null;return q},null,d);return $APP.p(l)?($APP.D.v(l,0,null),$APP.D.v(l,1,null)):Hr(a,0,k,c)}finally{S(e,
a,b)}};
Ot=function(a,b,c,d,e,f,g){var k=$APP.we(c);k=Lt.o(k);var l=S(c,a,b);if(l instanceof $APP.zt)return $APP.Re.j(l,$APP.xj.o(d));if(l instanceof ns)return $APP.Re.j(l.Tc(null),$APP.Gj.o(d));var h=$APP.p(k)?k:$APP.Ab(l),r=$APP.u(Lr.o(a)),q=ss.o(r);k=function(){if($APP.p(g))return g;var w=$APP.Re.j(q,Mt);if($APP.p(w))return w;w=$APP.Gj.o(h.name);return $APP.Re.j(q,w)}();$APP.p(k)||function(){var w=Nt.o(r);return $APP.p(w)?w.o?w.o(l):w.call(null,l):null}();$APP.p(k)||Cr(["Method ",$APP.t.o(d)," on ",$APP.t.o(h),
" not allowed!"].join(""),c);return $APP.p(e)?l[d]:os(a,b,l,d,f)};
Pt=function(a,b,c,d){switch($APP.ge(d)){case 0:return c.C?c.C():c.call(null);case 1:var e=S($APP.y(d),a,b),f=$APP.Jd(d);return c.o?c.o(e):c.call(null,e);case 2:var g=S($APP.y(d),a,b);f=$APP.Jd(d);var k=S($APP.y(f),a,b),l=$APP.Jd(f);return c.j?c.j(g,k):c.call(null,g,k);case 3:var h=S($APP.y(d),a,b);f=$APP.Jd(d);var r=S($APP.y(f),a,b);l=$APP.Jd(f);var q=S($APP.y(l),a,b),w=$APP.Jd(l);return c.v?c.v(h,r,q):c.call(null,h,r,q);case 4:var C=S($APP.y(d),a,b);f=$APP.Jd(d);var G=S($APP.y(f),a,b);l=$APP.Jd(f);
var M=S($APP.y(l),a,b);w=$APP.Jd(l);var R=S($APP.y(w),a,b),W=$APP.Jd(w);return c.J?c.J(C,G,M,R):c.call(null,C,G,M,R);case 5:var Z=S($APP.y(d),a,b);f=$APP.Jd(d);var ea=S($APP.y(f),a,b);l=$APP.Jd(f);var ia=S($APP.y(l),a,b);w=$APP.Jd(l);var ka=S($APP.y(w),a,b);W=$APP.Jd(w);var Y=S($APP.y(W),a,b),E=$APP.Jd(W);return c.S?c.S(Z,ea,ia,ka,Y):c.call(null,Z,ea,ia,ka,Y);case 6:var B=S($APP.y(d),a,b);f=$APP.Jd(d);var ca=S($APP.y(f),a,b);l=$APP.Jd(f);var H=S($APP.y(l),a,b);w=$APP.Jd(l);var I=S($APP.y(w),a,b);
W=$APP.Jd(w);var aa=S($APP.y(W),a,b);E=$APP.Jd(W);var da=S($APP.y(E),a,b),fa=$APP.Jd(E);return c.qa?c.qa(B,ca,H,I,aa,da):c.call(null,B,ca,H,I,aa,da);case 7:var pa=S($APP.y(d),a,b);f=$APP.Jd(d);var sa=S($APP.y(f),a,b);l=$APP.Jd(f);var ta=S($APP.y(l),a,b);w=$APP.Jd(l);var ua=S($APP.y(w),a,b);W=$APP.Jd(w);var Aa=S($APP.y(W),a,b);E=$APP.Jd(W);var Fa=S($APP.y(E),a,b);fa=$APP.Jd(E);var za=S($APP.y(fa),a,b),va=$APP.Jd(fa);return c.Na?c.Na(pa,sa,ta,ua,Aa,Fa,za):c.call(null,pa,sa,ta,ua,Aa,Fa,za);case 8:var Ma=
S($APP.y(d),a,b);f=$APP.Jd(d);var ab=S($APP.y(f),a,b);l=$APP.Jd(f);var kb=S($APP.y(l),a,b);w=$APP.Jd(l);var Ob=S($APP.y(w),a,b);W=$APP.Jd(w);var bc=S($APP.y(W),a,b);E=$APP.Jd(W);var tc=S($APP.y(E),a,b);fa=$APP.Jd(E);var Kc=S($APP.y(fa),a,b);va=$APP.Jd(fa);var Od=S($APP.y(va),a,b),pc=$APP.Jd(va);return c.za?c.za(Ma,ab,kb,Ob,bc,tc,Kc,Od):c.call(null,Ma,ab,kb,Ob,bc,tc,Kc,Od);case 9:var ci=S($APP.y(d),a,b);f=$APP.Jd(d);var us=S($APP.y(f),a,b);l=$APP.Jd(f);var Xw=S($APP.y(l),a,b);w=$APP.Jd(l);var Yw=S($APP.y(w),
a,b);W=$APP.Jd(w);var vs=S($APP.y(W),a,b);E=$APP.Jd(W);var Zw=S($APP.y(E),a,b);fa=$APP.Jd(E);var $w=S($APP.y(fa),a,b);va=$APP.Jd(fa);var ax=S($APP.y(va),a,b);pc=$APP.Jd(va);var bx=S($APP.y(pc),a,b),dd=$APP.Jd(pc);return c.Oa?c.Oa(ci,us,Xw,Yw,vs,Zw,$w,ax,bx):c.call(null,ci,us,Xw,Yw,vs,Zw,$w,ax,bx);case 10:var jm=S($APP.y(d),a,b);f=$APP.Jd(d);var ws=S($APP.y(f),a,b);l=$APP.Jd(f);var cx=S($APP.y(l),a,b);w=$APP.Jd(l);var dx=S($APP.y(w),a,b);W=$APP.Jd(w);var xs=S($APP.y(W),a,b);E=$APP.Jd(W);var ex=S($APP.y(E),
a,b);fa=$APP.Jd(E);var fx=S($APP.y(fa),a,b);va=$APP.Jd(fa);var gx=S($APP.y(va),a,b);pc=$APP.Jd(va);var hx=S($APP.y(pc),a,b);dd=$APP.Jd(pc);var Mk=S($APP.y(dd),a,b),td=$APP.Jd(dd);return c.Da?c.Da(jm,ws,cx,dx,xs,ex,fx,gx,hx,Mk):c.call(null,jm,ws,cx,dx,xs,ex,fx,gx,hx,Mk);case 11:var ys=S($APP.y(d),a,b);f=$APP.Jd(d);var zs=S($APP.y(f),a,b);l=$APP.Jd(f);var As=S($APP.y(l),a,b);w=$APP.Jd(l);var Bs=S($APP.y(w),a,b);W=$APP.Jd(w);var Cs=S($APP.y(W),a,b);E=$APP.Jd(W);var Ds=S($APP.y(E),a,b);fa=$APP.Jd(E);
var Es=S($APP.y(fa),a,b);va=$APP.Jd(fa);var Nk=S($APP.y(va),a,b);pc=$APP.Jd(va);var Fs=S($APP.y(pc),a,b);dd=$APP.Jd(pc);var Gs=S($APP.y(dd),a,b);td=$APP.Jd(dd);var Hs=S($APP.y(td),a,b),Pd=$APP.Jd(td);return c.Ea?c.Ea(ys,zs,As,Bs,Cs,Ds,Es,Nk,Fs,Gs,Hs):c.call(null,ys,zs,As,Bs,Cs,Ds,Es,Nk,Fs,Gs,Hs);case 12:var Is=S($APP.y(d),a,b);f=$APP.Jd(d);var Js=S($APP.y(f),a,b);l=$APP.Jd(f);var Ks=S($APP.y(l),a,b);w=$APP.Jd(l);var sh=S($APP.y(w),a,b);W=$APP.Jd(w);var Ze=S($APP.y(W),a,b);E=$APP.Jd(W);var Pf=S($APP.y(E),
a,b);fa=$APP.Jd(E);var qc=S($APP.y(fa),a,b);va=$APP.Jd(fa);var Dd=S($APP.y(va),a,b);pc=$APP.Jd(va);var cc=S($APP.y(pc),a,b);dd=$APP.Jd(pc);var Qf=S($APP.y(dd),a,b);td=$APP.Jd(dd);var yO=S($APP.y(td),a,b);Pd=$APP.Jd(td);var zO=S($APP.y(Pd),a,b),lf=$APP.Jd(Pd);return c.Fa?c.Fa(Is,Js,Ks,sh,Ze,Pf,qc,Dd,cc,Qf,yO,zO):c.call(null,Is,Js,Ks,sh,Ze,Pf,qc,Dd,cc,Qf,yO,zO);case 13:var AO=S($APP.y(d),a,b);f=$APP.Jd(d);var BO=S($APP.y(f),a,b);l=$APP.Jd(f);var CO=S($APP.y(l),a,b);w=$APP.Jd(l);var DO=S($APP.y(w),a,
b);W=$APP.Jd(w);var EO=S($APP.y(W),a,b);E=$APP.Jd(W);var FO=S($APP.y(E),a,b);fa=$APP.Jd(E);var GO=S($APP.y(fa),a,b);va=$APP.Jd(fa);var HO=S($APP.y(va),a,b);pc=$APP.Jd(va);var IO=S($APP.y(pc),a,b);dd=$APP.Jd(pc);var JO=S($APP.y(dd),a,b);td=$APP.Jd(dd);var KO=S($APP.y(td),a,b);Pd=$APP.Jd(td);var LO=S($APP.y(Pd),a,b);lf=$APP.Jd(Pd);var MO=S($APP.y(lf),a,b),Rf=$APP.Jd(lf);return c.Ga?c.Ga(AO,BO,CO,DO,EO,FO,GO,HO,IO,JO,KO,LO,MO):c.call(null,AO,BO,CO,DO,EO,FO,GO,HO,IO,JO,KO,LO,MO);case 14:var NO=S($APP.y(d),
a,b);f=$APP.Jd(d);var OO=S($APP.y(f),a,b);l=$APP.Jd(f);var PO=S($APP.y(l),a,b);w=$APP.Jd(l);var QO=S($APP.y(w),a,b);W=$APP.Jd(w);var RO=S($APP.y(W),a,b);E=$APP.Jd(W);var SO=S($APP.y(E),a,b);fa=$APP.Jd(E);var TO=S($APP.y(fa),a,b);va=$APP.Jd(fa);var UO=S($APP.y(va),a,b);pc=$APP.Jd(va);var VO=S($APP.y(pc),a,b);dd=$APP.Jd(pc);var WO=S($APP.y(dd),a,b);td=$APP.Jd(dd);var XO=S($APP.y(td),a,b);Pd=$APP.Jd(td);var YO=S($APP.y(Pd),a,b);lf=$APP.Jd(Pd);var ZO=S($APP.y(lf),a,b);Rf=$APP.Jd(lf);var $O=S($APP.y(Rf),
a,b),Wg=$APP.Jd(Rf);return c.Ha?c.Ha(NO,OO,PO,QO,RO,SO,TO,UO,VO,WO,XO,YO,ZO,$O):c.call(null,NO,OO,PO,QO,RO,SO,TO,UO,VO,WO,XO,YO,ZO,$O);case 15:var aP=S($APP.y(d),a,b);f=$APP.Jd(d);var bP=S($APP.y(f),a,b);l=$APP.Jd(f);var cP=S($APP.y(l),a,b);w=$APP.Jd(l);var dP=S($APP.y(w),a,b);W=$APP.Jd(w);var eP=S($APP.y(W),a,b);E=$APP.Jd(W);var fP=S($APP.y(E),a,b);fa=$APP.Jd(E);var gP=S($APP.y(fa),a,b);va=$APP.Jd(fa);var hP=S($APP.y(va),a,b);pc=$APP.Jd(va);var iP=S($APP.y(pc),a,b);dd=$APP.Jd(pc);var jP=S($APP.y(dd),
a,b);td=$APP.Jd(dd);var kP=S($APP.y(td),a,b);Pd=$APP.Jd(td);var lP=S($APP.y(Pd),a,b);lf=$APP.Jd(Pd);var mP=S($APP.y(lf),a,b);Rf=$APP.Jd(lf);var nP=S($APP.y(Rf),a,b);Wg=$APP.Jd(Rf);var oP=S($APP.y(Wg),a,b),Ui=$APP.Jd(Wg);return c.Ia?c.Ia(aP,bP,cP,dP,eP,fP,gP,hP,iP,jP,kP,lP,mP,nP,oP):c.call(null,aP,bP,cP,dP,eP,fP,gP,hP,iP,jP,kP,lP,mP,nP,oP);case 16:var pP=S($APP.y(d),a,b);f=$APP.Jd(d);var qP=S($APP.y(f),a,b);l=$APP.Jd(f);var rP=S($APP.y(l),a,b);w=$APP.Jd(l);var sP=S($APP.y(w),a,b);W=$APP.Jd(w);var tP=
S($APP.y(W),a,b);E=$APP.Jd(W);var uP=S($APP.y(E),a,b);fa=$APP.Jd(E);var vP=S($APP.y(fa),a,b);va=$APP.Jd(fa);var wP=S($APP.y(va),a,b);pc=$APP.Jd(va);var xP=S($APP.y(pc),a,b);dd=$APP.Jd(pc);var yP=S($APP.y(dd),a,b);td=$APP.Jd(dd);var zP=S($APP.y(td),a,b);Pd=$APP.Jd(td);var AP=S($APP.y(Pd),a,b);lf=$APP.Jd(Pd);var BP=S($APP.y(lf),a,b);Rf=$APP.Jd(lf);var CP=S($APP.y(Rf),a,b);Wg=$APP.Jd(Rf);var DP=S($APP.y(Wg),a,b);Ui=$APP.Jd(Wg);var EP=S($APP.y(Ui),a,b),km=$APP.Jd(Ui);return c.Ja?c.Ja(pP,qP,rP,sP,tP,uP,
vP,wP,xP,yP,zP,AP,BP,CP,DP,EP):c.call(null,pP,qP,rP,sP,tP,uP,vP,wP,xP,yP,zP,AP,BP,CP,DP,EP);case 17:var FP=S($APP.y(d),a,b);f=$APP.Jd(d);var GP=S($APP.y(f),a,b);l=$APP.Jd(f);var HP=S($APP.y(l),a,b);w=$APP.Jd(l);var IP=S($APP.y(w),a,b);W=$APP.Jd(w);var JP=S($APP.y(W),a,b);E=$APP.Jd(W);var KP=S($APP.y(E),a,b);fa=$APP.Jd(E);var LP=S($APP.y(fa),a,b);va=$APP.Jd(fa);var MP=S($APP.y(va),a,b);pc=$APP.Jd(va);var NP=S($APP.y(pc),a,b);dd=$APP.Jd(pc);var OP=S($APP.y(dd),a,b);td=$APP.Jd(dd);var PP=S($APP.y(td),
a,b);Pd=$APP.Jd(td);var QP=S($APP.y(Pd),a,b);lf=$APP.Jd(Pd);var RP=S($APP.y(lf),a,b);Rf=$APP.Jd(lf);var SP=S($APP.y(Rf),a,b);Wg=$APP.Jd(Rf);var TP=S($APP.y(Wg),a,b);Ui=$APP.Jd(Wg);var UP=S($APP.y(Ui),a,b);km=$APP.Jd(Ui);var VP=S($APP.y(km),a,b),Ls=$APP.Jd(km);return c.Ka?c.Ka(FP,GP,HP,IP,JP,KP,LP,MP,NP,OP,PP,QP,RP,SP,TP,UP,VP):c.call(null,FP,GP,HP,IP,JP,KP,LP,MP,NP,OP,PP,QP,RP,SP,TP,UP,VP);case 18:var WP=S($APP.y(d),a,b);f=$APP.Jd(d);var XP=S($APP.y(f),a,b);l=$APP.Jd(f);var YP=S($APP.y(l),a,b);w=
$APP.Jd(l);var ZP=S($APP.y(w),a,b);W=$APP.Jd(w);var $P=S($APP.y(W),a,b);E=$APP.Jd(W);var aQ=S($APP.y(E),a,b);fa=$APP.Jd(E);var bQ=S($APP.y(fa),a,b);va=$APP.Jd(fa);var cQ=S($APP.y(va),a,b);pc=$APP.Jd(va);var dQ=S($APP.y(pc),a,b);dd=$APP.Jd(pc);var eQ=S($APP.y(dd),a,b);td=$APP.Jd(dd);var fQ=S($APP.y(td),a,b);Pd=$APP.Jd(td);var gQ=S($APP.y(Pd),a,b);lf=$APP.Jd(Pd);var hQ=S($APP.y(lf),a,b);Rf=$APP.Jd(lf);var iQ=S($APP.y(Rf),a,b);Wg=$APP.Jd(Rf);var jQ=S($APP.y(Wg),a,b);Ui=$APP.Jd(Wg);var kQ=S($APP.y(Ui),
a,b);km=$APP.Jd(Ui);var lQ=S($APP.y(km),a,b);Ls=$APP.Jd(km);var mQ=S($APP.y(Ls),a,b),FF=$APP.Jd(Ls);return c.La?c.La(WP,XP,YP,ZP,$P,aQ,bQ,cQ,dQ,eQ,fQ,gQ,hQ,iQ,jQ,kQ,lQ,mQ):c.call(null,WP,XP,YP,ZP,$P,aQ,bQ,cQ,dQ,eQ,fQ,gQ,hQ,iQ,jQ,kQ,lQ,mQ);case 19:var nQ=S($APP.y(d),a,b);f=$APP.Jd(d);var oQ=S($APP.y(f),a,b);l=$APP.Jd(f);var pQ=S($APP.y(l),a,b);w=$APP.Jd(l);var qQ=S($APP.y(w),a,b);W=$APP.Jd(w);var rQ=S($APP.y(W),a,b);E=$APP.Jd(W);var sQ=S($APP.y(E),a,b);fa=$APP.Jd(E);var tQ=S($APP.y(fa),a,b);va=$APP.Jd(fa);
var uQ=S($APP.y(va),a,b);pc=$APP.Jd(va);var vQ=S($APP.y(pc),a,b);dd=$APP.Jd(pc);var wQ=S($APP.y(dd),a,b);td=$APP.Jd(dd);var xQ=S($APP.y(td),a,b);Pd=$APP.Jd(td);var yQ=S($APP.y(Pd),a,b);lf=$APP.Jd(Pd);var zQ=S($APP.y(lf),a,b);Rf=$APP.Jd(lf);var AQ=S($APP.y(Rf),a,b);Wg=$APP.Jd(Rf);var BQ=S($APP.y(Wg),a,b);Ui=$APP.Jd(Wg);var CQ=S($APP.y(Ui),a,b);km=$APP.Jd(Ui);var DQ=S($APP.y(km),a,b);Ls=$APP.Jd(km);var EQ=S($APP.y(Ls),a,b);FF=$APP.Jd(Ls);var FQ=S($APP.y(FF),a,b);$APP.Jd(FF);return c.Ma?c.Ma(nQ,oQ,pQ,
qQ,rQ,sQ,tQ,uQ,vQ,wQ,xQ,yQ,zQ,AQ,BQ,CQ,DQ,EQ,FQ):c.call(null,nQ,oQ,pQ,qQ,rQ,sQ,tQ,uQ,vQ,wQ,xQ,yQ,zQ,AQ,BQ,CQ,DQ,EQ,FQ);default:return f=$APP.nr.j(function(U0){return S(U0,a,b)},d),$APP.wg.j(c,f)}};
Rt=function(a,b,c,d,e,f,g){return $APP.p(g)?function(){switch(c){case 0:return function(){function k(h){var r=null;if(0<arguments.length){r=0;for(var q=Array(arguments.length-0);r<q.length;)q[r]=arguments[r+0],++r;r=new $APP.Fd(q,0,null)}return l.call(this,r)}function l(h){var r=0===f?null:Zl.o(f);$APP.p(d)&&(d.j?d.j(b,r):d.call(null,b,r));for(r[g]=h;;)if(h=S(e,a,r),!$APP.zf(Qt,h))return h}k.B=0;k.F=function(h){h=$APP.x(h);return l(h)};k.A=l;return k}();case 1:return function(){function k(h,r){var q=
null;if(1<arguments.length){q=0;for(var w=Array(arguments.length-1);q<w.length;)w[q]=arguments[q+1],++q;q=new $APP.Fd(w,0,null)}return l.call(this,h,q)}function l(h,r){var q=0===f?null:Zl.o(f);$APP.p(d)&&(d.j?d.j(b,q):d.call(null,b,q));q[0]=h;for(q[g]=r;;)if(h=S(e,a,q),!$APP.zf(Qt,h))return h}k.B=1;k.F=function(h){var r=$APP.y(h);h=$APP.Jd(h);return l(r,h)};k.A=l;return k}();case 2:return function(){function k(h,r,q){var w=null;if(2<arguments.length){w=0;for(var C=Array(arguments.length-2);w<C.length;)C[w]=
arguments[w+2],++w;w=new $APP.Fd(C,0,null)}return l.call(this,h,r,w)}function l(h,r,q){var w=0===f?null:Zl.o(f);$APP.p(d)&&(d.j?d.j(b,w):d.call(null,b,w));w[0]=h;w[1]=r;for(w[g]=q;;)if(h=S(e,a,w),!$APP.zf(Qt,h))return h}k.B=2;k.F=function(h){var r=$APP.y(h);h=$APP.z(h);var q=$APP.y(h);h=$APP.Jd(h);return l(r,q,h)};k.A=l;return k}();case 3:return function(){function k(h,r,q,w){var C=null;if(3<arguments.length){C=0;for(var G=Array(arguments.length-3);C<G.length;)G[C]=arguments[C+3],++C;C=new $APP.Fd(G,
0,null)}return l.call(this,h,r,q,C)}function l(h,r,q,w){var C=0===f?null:Zl.o(f);$APP.p(d)&&(d.j?d.j(b,C):d.call(null,b,C));C[0]=h;C[1]=r;C[2]=q;for(C[g]=w;;)if(h=S(e,a,C),!$APP.zf(Qt,h))return h}k.B=3;k.F=function(h){var r=$APP.y(h);h=$APP.z(h);var q=$APP.y(h);h=$APP.z(h);var w=$APP.y(h);h=$APP.Jd(h);return l(r,q,w,h)};k.A=l;return k}();case 4:return function(){function k(h,r,q,w,C){var G=null;if(4<arguments.length){G=0;for(var M=Array(arguments.length-4);G<M.length;)M[G]=arguments[G+4],++G;G=new $APP.Fd(M,
0,null)}return l.call(this,h,r,q,w,G)}function l(h,r,q,w,C){var G=0===f?null:Zl.o(f);$APP.p(d)&&(d.j?d.j(b,G):d.call(null,b,G));G[0]=h;G[1]=r;G[2]=q;G[3]=w;for(G[g]=C;;)if(h=S(e,a,G),!$APP.zf(Qt,h))return h}k.B=4;k.F=function(h){var r=$APP.y(h);h=$APP.z(h);var q=$APP.y(h);h=$APP.z(h);var w=$APP.y(h);h=$APP.z(h);var C=$APP.y(h);h=$APP.Jd(h);return l(r,q,w,C,h)};k.A=l;return k}();case 5:return function(){function k(h,r,q,w,C,G){var M=null;if(5<arguments.length){M=0;for(var R=Array(arguments.length-
5);M<R.length;)R[M]=arguments[M+5],++M;M=new $APP.Fd(R,0,null)}return l.call(this,h,r,q,w,C,M)}function l(h,r,q,w,C,G){var M=0===f?null:Zl.o(f);$APP.p(d)&&(d.j?d.j(b,M):d.call(null,b,M));M[0]=h;M[1]=r;M[2]=q;M[3]=w;M[4]=C;for(M[g]=G;;)if(h=S(e,a,M),!$APP.zf(Qt,h))return h}k.B=5;k.F=function(h){var r=$APP.y(h);h=$APP.z(h);var q=$APP.y(h);h=$APP.z(h);var w=$APP.y(h);h=$APP.z(h);var C=$APP.y(h);h=$APP.z(h);var G=$APP.y(h);h=$APP.Jd(h);return l(r,q,w,C,G,h)};k.A=l;return k}();case 6:return function(){function k(h,
r,q,w,C,G,M){var R=null;if(6<arguments.length){R=0;for(var W=Array(arguments.length-6);R<W.length;)W[R]=arguments[R+6],++R;R=new $APP.Fd(W,0,null)}return l.call(this,h,r,q,w,C,G,R)}function l(h,r,q,w,C,G,M){var R=0===f?null:Zl.o(f);$APP.p(d)&&(d.j?d.j(b,R):d.call(null,b,R));R[0]=h;R[1]=r;R[2]=q;R[3]=w;R[4]=C;R[5]=G;for(R[g]=M;;)if(h=S(e,a,R),!$APP.zf(Qt,h))return h}k.B=6;k.F=function(h){var r=$APP.y(h);h=$APP.z(h);var q=$APP.y(h);h=$APP.z(h);var w=$APP.y(h);h=$APP.z(h);var C=$APP.y(h);h=$APP.z(h);
var G=$APP.y(h);h=$APP.z(h);var M=$APP.y(h);h=$APP.Jd(h);return l(r,q,w,C,G,M,h)};k.A=l;return k}();case 7:return function(){function k(h,r,q,w,C,G,M,R){var W=null;if(7<arguments.length){W=0;for(var Z=Array(arguments.length-7);W<Z.length;)Z[W]=arguments[W+7],++W;W=new $APP.Fd(Z,0,null)}return l.call(this,h,r,q,w,C,G,M,W)}function l(h,r,q,w,C,G,M,R){var W=0===f?null:Zl.o(f);$APP.p(d)&&(d.j?d.j(b,W):d.call(null,b,W));W[0]=h;W[1]=r;W[2]=q;W[3]=w;W[4]=C;W[5]=G;W[6]=M;for(W[g]=R;;)if(h=S(e,a,W),!$APP.zf(Qt,
h))return h}k.B=7;k.F=function(h){var r=$APP.y(h);h=$APP.z(h);var q=$APP.y(h);h=$APP.z(h);var w=$APP.y(h);h=$APP.z(h);var C=$APP.y(h);h=$APP.z(h);var G=$APP.y(h);h=$APP.z(h);var M=$APP.y(h);h=$APP.z(h);var R=$APP.y(h);h=$APP.Jd(h);return l(r,q,w,C,G,M,R,h)};k.A=l;return k}();case 8:return function(){function k(h,r,q,w,C,G,M,R,W){var Z=null;if(8<arguments.length){Z=0;for(var ea=Array(arguments.length-8);Z<ea.length;)ea[Z]=arguments[Z+8],++Z;Z=new $APP.Fd(ea,0,null)}return l.call(this,h,r,q,w,C,G,M,
R,Z)}function l(h,r,q,w,C,G,M,R,W){var Z=0===f?null:Zl.o(f);$APP.p(d)&&(d.j?d.j(b,Z):d.call(null,b,Z));Z[0]=h;Z[1]=r;Z[2]=q;Z[3]=w;Z[4]=C;Z[5]=G;Z[6]=M;Z[7]=R;for(Z[g]=W;;)if(h=S(e,a,Z),!$APP.zf(Qt,h))return h}k.B=8;k.F=function(h){var r=$APP.y(h);h=$APP.z(h);var q=$APP.y(h);h=$APP.z(h);var w=$APP.y(h);h=$APP.z(h);var C=$APP.y(h);h=$APP.z(h);var G=$APP.y(h);h=$APP.z(h);var M=$APP.y(h);h=$APP.z(h);var R=$APP.y(h);h=$APP.z(h);var W=$APP.y(h);h=$APP.Jd(h);return l(r,q,w,C,G,M,R,W,h)};k.A=l;return k}();
case 9:return function(){function k(h,r,q,w,C,G,M,R,W,Z){var ea=null;if(9<arguments.length){ea=0;for(var ia=Array(arguments.length-9);ea<ia.length;)ia[ea]=arguments[ea+9],++ea;ea=new $APP.Fd(ia,0,null)}return l.call(this,h,r,q,w,C,G,M,R,W,ea)}function l(h,r,q,w,C,G,M,R,W,Z){var ea=0===f?null:Zl.o(f);$APP.p(d)&&(d.j?d.j(b,ea):d.call(null,b,ea));ea[0]=h;ea[1]=r;ea[2]=q;ea[3]=w;ea[4]=C;ea[5]=G;ea[6]=M;ea[7]=R;ea[8]=W;for(ea[g]=Z;;)if(h=S(e,a,ea),!$APP.zf(Qt,h))return h}k.B=9;k.F=function(h){var r=$APP.y(h);
h=$APP.z(h);var q=$APP.y(h);h=$APP.z(h);var w=$APP.y(h);h=$APP.z(h);var C=$APP.y(h);h=$APP.z(h);var G=$APP.y(h);h=$APP.z(h);var M=$APP.y(h);h=$APP.z(h);var R=$APP.y(h);h=$APP.z(h);var W=$APP.y(h);h=$APP.z(h);var Z=$APP.y(h);h=$APP.Jd(h);return l(r,q,w,C,G,M,R,W,Z,h)};k.A=l;return k}();case 10:return function(){function k(h,r,q,w,C,G,M,R,W,Z,ea){var ia=null;if(10<arguments.length){ia=0;for(var ka=Array(arguments.length-10);ia<ka.length;)ka[ia]=arguments[ia+10],++ia;ia=new $APP.Fd(ka,0,null)}return l.call(this,
h,r,q,w,C,G,M,R,W,Z,ia)}function l(h,r,q,w,C,G,M,R,W,Z,ea){var ia=0===f?null:Zl.o(f);$APP.p(d)&&(d.j?d.j(b,ia):d.call(null,b,ia));ia[0]=h;ia[1]=r;ia[2]=q;ia[3]=w;ia[4]=C;ia[5]=G;ia[6]=M;ia[7]=R;ia[8]=W;ia[9]=Z;for(ia[g]=ea;;)if(h=S(e,a,ia),!$APP.zf(Qt,h))return h}k.B=10;k.F=function(h){var r=$APP.y(h);h=$APP.z(h);var q=$APP.y(h);h=$APP.z(h);var w=$APP.y(h);h=$APP.z(h);var C=$APP.y(h);h=$APP.z(h);var G=$APP.y(h);h=$APP.z(h);var M=$APP.y(h);h=$APP.z(h);var R=$APP.y(h);h=$APP.z(h);var W=$APP.y(h);h=
$APP.z(h);var Z=$APP.y(h);h=$APP.z(h);var ea=$APP.y(h);h=$APP.Jd(h);return l(r,q,w,C,G,M,R,W,Z,ea,h)};k.A=l;return k}();case 11:return function(){function k(h,r,q,w,C,G,M,R,W,Z,ea,ia){var ka=null;if(11<arguments.length){ka=0;for(var Y=Array(arguments.length-11);ka<Y.length;)Y[ka]=arguments[ka+11],++ka;ka=new $APP.Fd(Y,0,null)}return l.call(this,h,r,q,w,C,G,M,R,W,Z,ea,ka)}function l(h,r,q,w,C,G,M,R,W,Z,ea,ia){var ka=0===f?null:Zl.o(f);$APP.p(d)&&(d.j?d.j(b,ka):d.call(null,b,ka));ka[0]=h;ka[1]=r;ka[2]=
q;ka[3]=w;ka[4]=C;ka[5]=G;ka[6]=M;ka[7]=R;ka[8]=W;ka[9]=Z;ka[10]=ea;for(ka[g]=ia;;)if(h=S(e,a,ka),!$APP.zf(Qt,h))return h}k.B=11;k.F=function(h){var r=$APP.y(h);h=$APP.z(h);var q=$APP.y(h);h=$APP.z(h);var w=$APP.y(h);h=$APP.z(h);var C=$APP.y(h);h=$APP.z(h);var G=$APP.y(h);h=$APP.z(h);var M=$APP.y(h);h=$APP.z(h);var R=$APP.y(h);h=$APP.z(h);var W=$APP.y(h);h=$APP.z(h);var Z=$APP.y(h);h=$APP.z(h);var ea=$APP.y(h);h=$APP.z(h);var ia=$APP.y(h);h=$APP.Jd(h);return l(r,q,w,C,G,M,R,W,Z,ea,ia,h)};k.A=l;return k}();
case 12:return function(){function k(h,r,q,w,C,G,M,R,W,Z,ea,ia,ka){var Y=null;if(12<arguments.length){Y=0;for(var E=Array(arguments.length-12);Y<E.length;)E[Y]=arguments[Y+12],++Y;Y=new $APP.Fd(E,0,null)}return l.call(this,h,r,q,w,C,G,M,R,W,Z,ea,ia,Y)}function l(h,r,q,w,C,G,M,R,W,Z,ea,ia,ka){var Y=0===f?null:Zl.o(f);$APP.p(d)&&(d.j?d.j(b,Y):d.call(null,b,Y));Y[0]=h;Y[1]=r;Y[2]=q;Y[3]=w;Y[4]=C;Y[5]=G;Y[6]=M;Y[7]=R;Y[8]=W;Y[9]=Z;Y[10]=ea;Y[11]=ia;for(Y[g]=ka;;)if(h=S(e,a,Y),!$APP.zf(Qt,h))return h}
k.B=12;k.F=function(h){var r=$APP.y(h);h=$APP.z(h);var q=$APP.y(h);h=$APP.z(h);var w=$APP.y(h);h=$APP.z(h);var C=$APP.y(h);h=$APP.z(h);var G=$APP.y(h);h=$APP.z(h);var M=$APP.y(h);h=$APP.z(h);var R=$APP.y(h);h=$APP.z(h);var W=$APP.y(h);h=$APP.z(h);var Z=$APP.y(h);h=$APP.z(h);var ea=$APP.y(h);h=$APP.z(h);var ia=$APP.y(h);h=$APP.z(h);var ka=$APP.y(h);h=$APP.Jd(h);return l(r,q,w,C,G,M,R,W,Z,ea,ia,ka,h)};k.A=l;return k}();case 13:return function(){function k(h,r,q,w,C,G,M,R,W,Z,ea,ia,ka,Y){var E=null;
if(13<arguments.length){E=0;for(var B=Array(arguments.length-13);E<B.length;)B[E]=arguments[E+13],++E;E=new $APP.Fd(B,0,null)}return l.call(this,h,r,q,w,C,G,M,R,W,Z,ea,ia,ka,E)}function l(h,r,q,w,C,G,M,R,W,Z,ea,ia,ka,Y){var E=0===f?null:Zl.o(f);$APP.p(d)&&(d.j?d.j(b,E):d.call(null,b,E));E[0]=h;E[1]=r;E[2]=q;E[3]=w;E[4]=C;E[5]=G;E[6]=M;E[7]=R;E[8]=W;E[9]=Z;E[10]=ea;E[11]=ia;E[12]=ka;for(E[g]=Y;;)if(h=S(e,a,E),!$APP.zf(Qt,h))return h}k.B=13;k.F=function(h){var r=$APP.y(h);h=$APP.z(h);var q=$APP.y(h);
h=$APP.z(h);var w=$APP.y(h);h=$APP.z(h);var C=$APP.y(h);h=$APP.z(h);var G=$APP.y(h);h=$APP.z(h);var M=$APP.y(h);h=$APP.z(h);var R=$APP.y(h);h=$APP.z(h);var W=$APP.y(h);h=$APP.z(h);var Z=$APP.y(h);h=$APP.z(h);var ea=$APP.y(h);h=$APP.z(h);var ia=$APP.y(h);h=$APP.z(h);var ka=$APP.y(h);h=$APP.z(h);var Y=$APP.y(h);h=$APP.Jd(h);return l(r,q,w,C,G,M,R,W,Z,ea,ia,ka,Y,h)};k.A=l;return k}();case 14:return function(){function k(h,r,q,w,C,G,M,R,W,Z,ea,ia,ka,Y,E){var B=null;if(14<arguments.length){B=0;for(var ca=
Array(arguments.length-14);B<ca.length;)ca[B]=arguments[B+14],++B;B=new $APP.Fd(ca,0,null)}return l.call(this,h,r,q,w,C,G,M,R,W,Z,ea,ia,ka,Y,B)}function l(h,r,q,w,C,G,M,R,W,Z,ea,ia,ka,Y,E){var B=0===f?null:Zl.o(f);$APP.p(d)&&(d.j?d.j(b,B):d.call(null,b,B));B[0]=h;B[1]=r;B[2]=q;B[3]=w;B[4]=C;B[5]=G;B[6]=M;B[7]=R;B[8]=W;B[9]=Z;B[10]=ea;B[11]=ia;B[12]=ka;B[13]=Y;for(B[g]=E;;)if(h=S(e,a,B),!$APP.zf(Qt,h))return h}k.B=14;k.F=function(h){var r=$APP.y(h);h=$APP.z(h);var q=$APP.y(h);h=$APP.z(h);var w=$APP.y(h);
h=$APP.z(h);var C=$APP.y(h);h=$APP.z(h);var G=$APP.y(h);h=$APP.z(h);var M=$APP.y(h);h=$APP.z(h);var R=$APP.y(h);h=$APP.z(h);var W=$APP.y(h);h=$APP.z(h);var Z=$APP.y(h);h=$APP.z(h);var ea=$APP.y(h);h=$APP.z(h);var ia=$APP.y(h);h=$APP.z(h);var ka=$APP.y(h);h=$APP.z(h);var Y=$APP.y(h);h=$APP.z(h);var E=$APP.y(h);h=$APP.Jd(h);return l(r,q,w,C,G,M,R,W,Z,ea,ia,ka,Y,E,h)};k.A=l;return k}();case 15:return function(){function k(h,r,q,w,C,G,M,R,W,Z,ea,ia,ka,Y,E,B){var ca=null;if(15<arguments.length){ca=0;for(var H=
Array(arguments.length-15);ca<H.length;)H[ca]=arguments[ca+15],++ca;ca=new $APP.Fd(H,0,null)}return l.call(this,h,r,q,w,C,G,M,R,W,Z,ea,ia,ka,Y,E,ca)}function l(h,r,q,w,C,G,M,R,W,Z,ea,ia,ka,Y,E,B){var ca=0===f?null:Zl.o(f);$APP.p(d)&&(d.j?d.j(b,ca):d.call(null,b,ca));ca[0]=h;ca[1]=r;ca[2]=q;ca[3]=w;ca[4]=C;ca[5]=G;ca[6]=M;ca[7]=R;ca[8]=W;ca[9]=Z;ca[10]=ea;ca[11]=ia;ca[12]=ka;ca[13]=Y;ca[14]=E;for(ca[g]=B;;)if(h=S(e,a,ca),!$APP.zf(Qt,h))return h}k.B=15;k.F=function(h){var r=$APP.y(h);h=$APP.z(h);var q=
$APP.y(h);h=$APP.z(h);var w=$APP.y(h);h=$APP.z(h);var C=$APP.y(h);h=$APP.z(h);var G=$APP.y(h);h=$APP.z(h);var M=$APP.y(h);h=$APP.z(h);var R=$APP.y(h);h=$APP.z(h);var W=$APP.y(h);h=$APP.z(h);var Z=$APP.y(h);h=$APP.z(h);var ea=$APP.y(h);h=$APP.z(h);var ia=$APP.y(h);h=$APP.z(h);var ka=$APP.y(h);h=$APP.z(h);var Y=$APP.y(h);h=$APP.z(h);var E=$APP.y(h);h=$APP.z(h);var B=$APP.y(h);h=$APP.Jd(h);return l(r,q,w,C,G,M,R,W,Z,ea,ia,ka,Y,E,B,h)};k.A=l;return k}();case 16:return function(){function k(h,r,q,w,C,
G,M,R,W,Z,ea,ia,ka,Y,E,B,ca){var H=null;if(16<arguments.length){H=0;for(var I=Array(arguments.length-16);H<I.length;)I[H]=arguments[H+16],++H;H=new $APP.Fd(I,0,null)}return l.call(this,h,r,q,w,C,G,M,R,W,Z,ea,ia,ka,Y,E,B,H)}function l(h,r,q,w,C,G,M,R,W,Z,ea,ia,ka,Y,E,B,ca){var H=0===f?null:Zl.o(f);$APP.p(d)&&(d.j?d.j(b,H):d.call(null,b,H));H[0]=h;H[1]=r;H[2]=q;H[3]=w;H[4]=C;H[5]=G;H[6]=M;H[7]=R;H[8]=W;H[9]=Z;H[10]=ea;H[11]=ia;H[12]=ka;H[13]=Y;H[14]=E;H[15]=B;for(H[g]=ca;;)if(h=S(e,a,H),!$APP.zf(Qt,
h))return h}k.B=16;k.F=function(h){var r=$APP.y(h);h=$APP.z(h);var q=$APP.y(h);h=$APP.z(h);var w=$APP.y(h);h=$APP.z(h);var C=$APP.y(h);h=$APP.z(h);var G=$APP.y(h);h=$APP.z(h);var M=$APP.y(h);h=$APP.z(h);var R=$APP.y(h);h=$APP.z(h);var W=$APP.y(h);h=$APP.z(h);var Z=$APP.y(h);h=$APP.z(h);var ea=$APP.y(h);h=$APP.z(h);var ia=$APP.y(h);h=$APP.z(h);var ka=$APP.y(h);h=$APP.z(h);var Y=$APP.y(h);h=$APP.z(h);var E=$APP.y(h);h=$APP.z(h);var B=$APP.y(h);h=$APP.z(h);var ca=$APP.y(h);h=$APP.Jd(h);return l(r,q,
w,C,G,M,R,W,Z,ea,ia,ka,Y,E,B,ca,h)};k.A=l;return k}();case 17:return function(){function k(h,r,q,w,C,G,M,R,W,Z,ea,ia,ka,Y,E,B,ca,H){var I=null;if(17<arguments.length){I=0;for(var aa=Array(arguments.length-17);I<aa.length;)aa[I]=arguments[I+17],++I;I=new $APP.Fd(aa,0,null)}return l.call(this,h,r,q,w,C,G,M,R,W,Z,ea,ia,ka,Y,E,B,ca,I)}function l(h,r,q,w,C,G,M,R,W,Z,ea,ia,ka,Y,E,B,ca,H){var I=0===f?null:Zl.o(f);$APP.p(d)&&(d.j?d.j(b,I):d.call(null,b,I));I[0]=h;I[1]=r;I[2]=q;I[3]=w;I[4]=C;I[5]=G;I[6]=M;
I[7]=R;I[8]=W;I[9]=Z;I[10]=ea;I[11]=ia;I[12]=ka;I[13]=Y;I[14]=E;I[15]=B;I[16]=ca;for(I[g]=H;;)if(h=S(e,a,I),!$APP.zf(Qt,h))return h}k.B=17;k.F=function(h){var r=$APP.y(h);h=$APP.z(h);var q=$APP.y(h);h=$APP.z(h);var w=$APP.y(h);h=$APP.z(h);var C=$APP.y(h);h=$APP.z(h);var G=$APP.y(h);h=$APP.z(h);var M=$APP.y(h);h=$APP.z(h);var R=$APP.y(h);h=$APP.z(h);var W=$APP.y(h);h=$APP.z(h);var Z=$APP.y(h);h=$APP.z(h);var ea=$APP.y(h);h=$APP.z(h);var ia=$APP.y(h);h=$APP.z(h);var ka=$APP.y(h);h=$APP.z(h);var Y=$APP.y(h);
h=$APP.z(h);var E=$APP.y(h);h=$APP.z(h);var B=$APP.y(h);h=$APP.z(h);var ca=$APP.y(h);h=$APP.z(h);var H=$APP.y(h);h=$APP.Jd(h);return l(r,q,w,C,G,M,R,W,Z,ea,ia,ka,Y,E,B,ca,H,h)};k.A=l;return k}();case 18:return function(){function k(h,r,q,w,C,G,M,R,W,Z,ea,ia,ka,Y,E,B,ca,H,I){var aa=null;if(18<arguments.length){aa=0;for(var da=Array(arguments.length-18);aa<da.length;)da[aa]=arguments[aa+18],++aa;aa=new $APP.Fd(da,0,null)}return l.call(this,h,r,q,w,C,G,M,R,W,Z,ea,ia,ka,Y,E,B,ca,H,aa)}function l(h,r,
q,w,C,G,M,R,W,Z,ea,ia,ka,Y,E,B,ca,H,I){var aa=0===f?null:Zl.o(f);$APP.p(d)&&(d.j?d.j(b,aa):d.call(null,b,aa));aa[0]=h;aa[1]=r;aa[2]=q;aa[3]=w;aa[4]=C;aa[5]=G;aa[6]=M;aa[7]=R;aa[8]=W;aa[9]=Z;aa[10]=ea;aa[11]=ia;aa[12]=ka;aa[13]=Y;aa[14]=E;aa[15]=B;aa[16]=ca;aa[17]=H;for(aa[g]=I;;)if(h=S(e,a,aa),!$APP.zf(Qt,h))return h}k.B=18;k.F=function(h){var r=$APP.y(h);h=$APP.z(h);var q=$APP.y(h);h=$APP.z(h);var w=$APP.y(h);h=$APP.z(h);var C=$APP.y(h);h=$APP.z(h);var G=$APP.y(h);h=$APP.z(h);var M=$APP.y(h);h=$APP.z(h);
var R=$APP.y(h);h=$APP.z(h);var W=$APP.y(h);h=$APP.z(h);var Z=$APP.y(h);h=$APP.z(h);var ea=$APP.y(h);h=$APP.z(h);var ia=$APP.y(h);h=$APP.z(h);var ka=$APP.y(h);h=$APP.z(h);var Y=$APP.y(h);h=$APP.z(h);var E=$APP.y(h);h=$APP.z(h);var B=$APP.y(h);h=$APP.z(h);var ca=$APP.y(h);h=$APP.z(h);var H=$APP.y(h);h=$APP.z(h);var I=$APP.y(h);h=$APP.Jd(h);return l(r,q,w,C,G,M,R,W,Z,ea,ia,ka,Y,E,B,ca,H,I,h)};k.A=l;return k}();case 19:return function(){function k(h,r,q,w,C,G,M,R,W,Z,ea,ia,ka,Y,E,B,ca,H,I,aa){var da=
null;if(19<arguments.length){da=0;for(var fa=Array(arguments.length-19);da<fa.length;)fa[da]=arguments[da+19],++da;da=new $APP.Fd(fa,0,null)}return l.call(this,h,r,q,w,C,G,M,R,W,Z,ea,ia,ka,Y,E,B,ca,H,I,da)}function l(h,r,q,w,C,G,M,R,W,Z,ea,ia,ka,Y,E,B,ca,H,I,aa){var da=0===f?null:Zl.o(f);$APP.p(d)&&(d.j?d.j(b,da):d.call(null,b,da));da[0]=h;da[1]=r;da[2]=q;da[3]=w;da[4]=C;da[5]=G;da[6]=M;da[7]=R;da[8]=W;da[9]=Z;da[10]=ea;da[11]=ia;da[12]=ka;da[13]=Y;da[14]=E;da[15]=B;da[16]=ca;da[17]=H;da[18]=I;for(da[g]=
aa;;)if(h=S(e,a,da),!$APP.zf(Qt,h))return h}k.B=19;k.F=function(h){var r=$APP.y(h);h=$APP.z(h);var q=$APP.y(h);h=$APP.z(h);var w=$APP.y(h);h=$APP.z(h);var C=$APP.y(h);h=$APP.z(h);var G=$APP.y(h);h=$APP.z(h);var M=$APP.y(h);h=$APP.z(h);var R=$APP.y(h);h=$APP.z(h);var W=$APP.y(h);h=$APP.z(h);var Z=$APP.y(h);h=$APP.z(h);var ea=$APP.y(h);h=$APP.z(h);var ia=$APP.y(h);h=$APP.z(h);var ka=$APP.y(h);h=$APP.z(h);var Y=$APP.y(h);h=$APP.z(h);var E=$APP.y(h);h=$APP.z(h);var B=$APP.y(h);h=$APP.z(h);var ca=$APP.y(h);
h=$APP.z(h);var H=$APP.y(h);h=$APP.z(h);var I=$APP.y(h);h=$APP.z(h);var aa=$APP.y(h);h=$APP.Jd(h);return l(r,q,w,C,G,M,R,W,Z,ea,ia,ka,Y,E,B,ca,H,I,aa,h)};k.A=l;return k}();case 20:return function(){function k(h,r,q,w,C,G,M,R,W,Z,ea,ia,ka,Y,E,B,ca,H,I,aa,da){var fa=null;if(20<arguments.length){fa=0;for(var pa=Array(arguments.length-20);fa<pa.length;)pa[fa]=arguments[fa+20],++fa;fa=new $APP.Fd(pa,0,null)}return l.call(this,h,r,q,w,C,G,M,R,W,Z,ea,ia,ka,Y,E,B,ca,H,I,aa,fa)}function l(h,r,q,w,C,G,M,R,
W,Z,ea,ia,ka,Y,E,B,ca,H,I,aa,da){var fa=0===f?null:Zl.o(f);$APP.p(d)&&(d.j?d.j(b,fa):d.call(null,b,fa));fa[0]=h;fa[1]=r;fa[2]=q;fa[3]=w;fa[4]=C;fa[5]=G;fa[6]=M;fa[7]=R;fa[8]=W;fa[9]=Z;fa[10]=ea;fa[11]=ia;fa[12]=ka;fa[13]=Y;fa[14]=E;fa[15]=B;fa[16]=ca;fa[17]=H;fa[18]=I;fa[19]=aa;for(fa[g]=da;;)if(h=S(e,a,fa),!$APP.zf(Qt,h))return h}k.B=20;k.F=function(h){var r=$APP.y(h);h=$APP.z(h);var q=$APP.y(h);h=$APP.z(h);var w=$APP.y(h);h=$APP.z(h);var C=$APP.y(h);h=$APP.z(h);var G=$APP.y(h);h=$APP.z(h);var M=
$APP.y(h);h=$APP.z(h);var R=$APP.y(h);h=$APP.z(h);var W=$APP.y(h);h=$APP.z(h);var Z=$APP.y(h);h=$APP.z(h);var ea=$APP.y(h);h=$APP.z(h);var ia=$APP.y(h);h=$APP.z(h);var ka=$APP.y(h);h=$APP.z(h);var Y=$APP.y(h);h=$APP.z(h);var E=$APP.y(h);h=$APP.z(h);var B=$APP.y(h);h=$APP.z(h);var ca=$APP.y(h);h=$APP.z(h);var H=$APP.y(h);h=$APP.z(h);var I=$APP.y(h);h=$APP.z(h);var aa=$APP.y(h);h=$APP.z(h);var da=$APP.y(h);h=$APP.Jd(h);return l(r,q,w,C,G,M,R,W,Z,ea,ia,ka,Y,E,B,ca,H,I,aa,da,h)};k.A=l;return k}();default:throw Error(["No matching clause: ",
$APP.t.o(c)].join(""));}}():function(){switch(c){case 0:return function(){var k=0===f?null:Zl.o(f);for($APP.p(d)&&(d.j?d.j(b,k):d.call(null,b,k));;){var l=S(e,a,k);if(!$APP.zf(Qt,l))return l}};case 1:return function(k){var l=0===f?null:Zl.o(f);$APP.p(d)&&(d.j?d.j(b,l):d.call(null,b,l));for(l[0]=k;;)if(k=S(e,a,l),!$APP.zf(Qt,k))return k};case 2:return function(k,l){var h=0===f?null:Zl.o(f);$APP.p(d)&&(d.j?d.j(b,h):d.call(null,b,h));h[0]=k;for(h[1]=l;;)if(k=S(e,a,h),!$APP.zf(Qt,k))return k};case 3:return function(k,
l,h){var r=0===f?null:Zl.o(f);$APP.p(d)&&(d.j?d.j(b,r):d.call(null,b,r));r[0]=k;r[1]=l;for(r[2]=h;;)if(k=S(e,a,r),!$APP.zf(Qt,k))return k};case 4:return function(k,l,h,r){var q=0===f?null:Zl.o(f);$APP.p(d)&&(d.j?d.j(b,q):d.call(null,b,q));q[0]=k;q[1]=l;q[2]=h;for(q[3]=r;;)if(k=S(e,a,q),!$APP.zf(Qt,k))return k};case 5:return function(k,l,h,r,q){var w=0===f?null:Zl.o(f);$APP.p(d)&&(d.j?d.j(b,w):d.call(null,b,w));w[0]=k;w[1]=l;w[2]=h;w[3]=r;for(w[4]=q;;)if(k=S(e,a,w),!$APP.zf(Qt,k))return k};case 6:return function(k,
l,h,r,q,w){var C=0===f?null:Zl.o(f);$APP.p(d)&&(d.j?d.j(b,C):d.call(null,b,C));C[0]=k;C[1]=l;C[2]=h;C[3]=r;C[4]=q;for(C[5]=w;;)if(k=S(e,a,C),!$APP.zf(Qt,k))return k};case 7:return function(k,l,h,r,q,w,C){var G=0===f?null:Zl.o(f);$APP.p(d)&&(d.j?d.j(b,G):d.call(null,b,G));G[0]=k;G[1]=l;G[2]=h;G[3]=r;G[4]=q;G[5]=w;for(G[6]=C;;)if(k=S(e,a,G),!$APP.zf(Qt,k))return k};case 8:return function(k,l,h,r,q,w,C,G){var M=0===f?null:Zl.o(f);$APP.p(d)&&(d.j?d.j(b,M):d.call(null,b,M));M[0]=k;M[1]=l;M[2]=h;M[3]=r;
M[4]=q;M[5]=w;M[6]=C;for(M[7]=G;;)if(k=S(e,a,M),!$APP.zf(Qt,k))return k};case 9:return function(k,l,h,r,q,w,C,G,M){var R=0===f?null:Zl.o(f);$APP.p(d)&&(d.j?d.j(b,R):d.call(null,b,R));R[0]=k;R[1]=l;R[2]=h;R[3]=r;R[4]=q;R[5]=w;R[6]=C;R[7]=G;for(R[8]=M;;)if(k=S(e,a,R),!$APP.zf(Qt,k))return k};case 10:return function(k,l,h,r,q,w,C,G,M,R){var W=0===f?null:Zl.o(f);$APP.p(d)&&(d.j?d.j(b,W):d.call(null,b,W));W[0]=k;W[1]=l;W[2]=h;W[3]=r;W[4]=q;W[5]=w;W[6]=C;W[7]=G;W[8]=M;for(W[9]=R;;)if(k=S(e,a,W),!$APP.zf(Qt,
k))return k};case 11:return function(k,l,h,r,q,w,C,G,M,R,W){var Z=0===f?null:Zl.o(f);$APP.p(d)&&(d.j?d.j(b,Z):d.call(null,b,Z));Z[0]=k;Z[1]=l;Z[2]=h;Z[3]=r;Z[4]=q;Z[5]=w;Z[6]=C;Z[7]=G;Z[8]=M;Z[9]=R;for(Z[10]=W;;)if(k=S(e,a,Z),!$APP.zf(Qt,k))return k};case 12:return function(k,l,h,r,q,w,C,G,M,R,W,Z){var ea=0===f?null:Zl.o(f);$APP.p(d)&&(d.j?d.j(b,ea):d.call(null,b,ea));ea[0]=k;ea[1]=l;ea[2]=h;ea[3]=r;ea[4]=q;ea[5]=w;ea[6]=C;ea[7]=G;ea[8]=M;ea[9]=R;ea[10]=W;for(ea[11]=Z;;)if(k=S(e,a,ea),!$APP.zf(Qt,
k))return k};case 13:return function(k,l,h,r,q,w,C,G,M,R,W,Z,ea){var ia=0===f?null:Zl.o(f);$APP.p(d)&&(d.j?d.j(b,ia):d.call(null,b,ia));ia[0]=k;ia[1]=l;ia[2]=h;ia[3]=r;ia[4]=q;ia[5]=w;ia[6]=C;ia[7]=G;ia[8]=M;ia[9]=R;ia[10]=W;ia[11]=Z;for(ia[12]=ea;;)if(k=S(e,a,ia),!$APP.zf(Qt,k))return k};case 14:return function(k,l,h,r,q,w,C,G,M,R,W,Z,ea,ia){var ka=0===f?null:Zl.o(f);$APP.p(d)&&(d.j?d.j(b,ka):d.call(null,b,ka));ka[0]=k;ka[1]=l;ka[2]=h;ka[3]=r;ka[4]=q;ka[5]=w;ka[6]=C;ka[7]=G;ka[8]=M;ka[9]=R;ka[10]=
W;ka[11]=Z;ka[12]=ea;for(ka[13]=ia;;)if(k=S(e,a,ka),!$APP.zf(Qt,k))return k};case 15:return function(k,l,h,r,q,w,C,G,M,R,W,Z,ea,ia,ka){var Y=0===f?null:Zl.o(f);$APP.p(d)&&(d.j?d.j(b,Y):d.call(null,b,Y));Y[0]=k;Y[1]=l;Y[2]=h;Y[3]=r;Y[4]=q;Y[5]=w;Y[6]=C;Y[7]=G;Y[8]=M;Y[9]=R;Y[10]=W;Y[11]=Z;Y[12]=ea;Y[13]=ia;for(Y[14]=ka;;)if(k=S(e,a,Y),!$APP.zf(Qt,k))return k};case 16:return function(k,l,h,r,q,w,C,G,M,R,W,Z,ea,ia,ka,Y){var E=0===f?null:Zl.o(f);$APP.p(d)&&(d.j?d.j(b,E):d.call(null,b,E));E[0]=k;E[1]=
l;E[2]=h;E[3]=r;E[4]=q;E[5]=w;E[6]=C;E[7]=G;E[8]=M;E[9]=R;E[10]=W;E[11]=Z;E[12]=ea;E[13]=ia;E[14]=ka;for(E[15]=Y;;)if(k=S(e,a,E),!$APP.zf(Qt,k))return k};case 17:return function(k,l,h,r,q,w,C,G,M,R,W,Z,ea,ia,ka,Y,E){var B=0===f?null:Zl.o(f);$APP.p(d)&&(d.j?d.j(b,B):d.call(null,b,B));B[0]=k;B[1]=l;B[2]=h;B[3]=r;B[4]=q;B[5]=w;B[6]=C;B[7]=G;B[8]=M;B[9]=R;B[10]=W;B[11]=Z;B[12]=ea;B[13]=ia;B[14]=ka;B[15]=Y;for(B[16]=E;;)if(k=S(e,a,B),!$APP.zf(Qt,k))return k};case 18:return function(k,l,h,r,q,w,C,G,M,R,
W,Z,ea,ia,ka,Y,E,B){var ca=0===f?null:Zl.o(f);$APP.p(d)&&(d.j?d.j(b,ca):d.call(null,b,ca));ca[0]=k;ca[1]=l;ca[2]=h;ca[3]=r;ca[4]=q;ca[5]=w;ca[6]=C;ca[7]=G;ca[8]=M;ca[9]=R;ca[10]=W;ca[11]=Z;ca[12]=ea;ca[13]=ia;ca[14]=ka;ca[15]=Y;ca[16]=E;for(ca[17]=B;;)if(k=S(e,a,ca),!$APP.zf(Qt,k))return k};case 19:return function(k,l,h,r,q,w,C,G,M,R,W,Z,ea,ia,ka,Y,E,B,ca){var H=0===f?null:Zl.o(f);$APP.p(d)&&(d.j?d.j(b,H):d.call(null,b,H));H[0]=k;H[1]=l;H[2]=h;H[3]=r;H[4]=q;H[5]=w;H[6]=C;H[7]=G;H[8]=M;H[9]=R;H[10]=
W;H[11]=Z;H[12]=ea;H[13]=ia;H[14]=ka;H[15]=Y;H[16]=E;H[17]=B;for(H[18]=ca;;)if(k=S(e,a,H),!$APP.zf(Qt,k))return k};case 20:return function(k,l,h,r,q,w,C,G,M,R,W,Z,ea,ia,ka,Y,E,B,ca,H){var I=0===f?null:Zl.o(f);$APP.p(d)&&(d.j?d.j(b,I):d.call(null,b,I));I[0]=k;I[1]=l;I[2]=h;I[3]=r;I[4]=q;I[5]=w;I[6]=C;I[7]=G;I[8]=M;I[9]=R;I[10]=W;I[11]=Z;I[12]=ea;I[13]=ia;I[14]=ka;I[15]=Y;I[16]=E;I[17]=B;I[18]=ca;for(I[19]=H;;)if(k=S(e,a,I),!$APP.zf(Qt,k))return k};default:throw Error(["No matching clause: ",$APP.t.o(c)].join(""));
}}()};St=function(a,b){if($APP.tg(zd,a))return $APP.wf(a,b);for(var c=$APP.ve($APP.ih,$APP.we(a)),d=$APP.ih;;)if($APP.p(a))if($APP.y(a)instanceof $APP.v){var e=$APP.z(a);c=$APP.tf.j(c,$APP.y(a));a=e}else{var f=$APP.Ao.o("p__");e=$APP.z(a);c=$APP.tf.j(c,f);d=$APP.tf.j($APP.tf.j(d,$APP.y(a)),f);a=e}else return $APP.U.o($APP.x($APP.Q.j(new $APP.J(null,c,null,1,null),new $APP.J(null,$APP.U.o($APP.x($APP.Q.A(new $APP.J(null,$APP.as,null,1,null),new $APP.J(null,d,null,1,null),$APP.F([b])))),null,1,null))))};
Ut=function(a){function b(d){var e=$APP.y(d);e=$APP.A.j(Tt,$APP.y(e))?$APP.Cl.v(e,2,$APP.ge(e)):e;d=$APP.z(d);return $APP.Ee($APP.y(d))?$APP.z(d)?$APP.ve(e,$APP.tf.j($APP.p($APP.we(e))?$APP.we(e):$APP.$f,$APP.y(d))):e:e}if($APP.Le($APP.y(a)))for(var c=$APP.ih;;)if($APP.p(a))c=$APP.tf.j(c,b($APP.y(a))),a=$APP.z(a);else return $APP.x(c);else return new $APP.J(null,b(a),null,1,null)};
Vt=function(a,b,c,d,e){var f=Bt.o(a),g=$APP.p(e)?$APP.Wi(e):null;b=$APP.cf.v(function(k,l){var h=$APP.D.v(l,0,null);l=$APP.D.v(l,1,null);var r;if(r=h instanceof $APP.v)r=c.o?c.o(h):c.call(null,h),r=$APP.p(r)?$APP.wb(g)||$APP.Te(g,h):r;return $APP.p(r)?$APP.Ni.v(k,d.o?d.o(h):d.call(null,h),l):k},f,b);return $APP.Ni.v(a,Bt,b)};
$t=function(a,b,c,d,e){var f=$APP.Wt.o(b),g=$APP.p(f)?$APP.cf.v(function(r,q){return Reflect.get(r,q)},e,f.split(".")):e,k=$APP.Gj.o(sl([$APP.t.o(c),$APP.p(f)?"$":null,$APP.t.o(f)].join(""))),l=$APP.Tr($APP.Tr(a,new $APP.N(null,3,5,$APP.O,[ss,k,$APP.Ht],null),g),new $APP.N(null,2,5,$APP.O,[Xt,k],null),g),h=function(){var r=$APP.wr.o(b);return $APP.p(r)?$APP.Tr(l,new $APP.N(null,4,5,$APP.O,[$APP.Sr,d,ts,r],null),k):l}();return function(){var r=Yt.o(b);if($APP.p(r)){var q=Zt.o(b);return $APP.cf.v(function(w,
C){var G=$APP.Gj.o([$APP.t.o(c),"$$",$APP.t.o(C)].join("")),M=Reflect.get(g,$APP.t.o(C));C=$APP.Re.v(q,C,C);return $APP.Tr($APP.Tr($APP.Tr(w,new $APP.N(null,4,5,$APP.O,[$APP.Sr,d,ts,C],null),G),new $APP.N(null,3,5,$APP.O,[ss,G,$APP.Ht],null),M),new $APP.N(null,2,5,$APP.O,[Xt,G],null),M)},h,r)}return h}()};
hu=function(a,b,c,d,e){var f=$APP.ag(e);e=$APP.Re.j(f,$APP.wr);var g=$APP.Re.j(f,Yt),k=$APP.Re.j(f,Zt),l=$APP.Re.j(f,au),h=$APP.Re.j(f,bu),r=$APP.Re.j(f,cu),q="string"===typeof d?function(){var M=$APP.El.v(d,$APP.mj("\\$"),2),R=$APP.D.v(M,0,null);M=$APP.D.v(M,1,null);var W=$APP.Re.j(du.o(a),R);return $APP.p(W)?$t(a,$APP.Ni.v(f,$APP.Wt,M),R,b,W):a}():null;if($APP.p(q))return q;q=$APP.Rr.j(a,new $APP.N(null,2,5,$APP.O,[$APP.Sr,b],null));var w=$APP.p(e)?$APP.Tr(q,new $APP.N(null,2,5,$APP.O,[eu,e],null),
d):q,C=$APP.p(k)?function(M){var R=k.o?k.o(M):k.call(null,M);return $APP.p(R)?R:M}:$APP.gf,G=$APP.p(l)?function(){var M=$APP.Wi(l);return function(R){return!$APP.Te(M,R)}}():$APP.yg(!0);if($APP.p(g))if($APP.p(function(){var M=$APP.zf(fu,g);return M?M:r}()))e=Vt(w,c,G,C,null);else if($APP.De(g))e=function(){var M=Bt.o(w);M=$APP.cf.v(function(R,W){if($APP.p(G(W))){var Z=$APP.Ni.v,ea=C.o?C.o(W):C.call(null,W);var ia=Ve(c,W);if($APP.p(ia))$APP.D.v(ia,0,null),W=$APP.D.v(ia,1,null);else throw Error([$APP.t.o(W),
" does not exist"].join(""));R=Z.call($APP.Ni,R,ea,W)}return R},M,g);return $APP.Ni.v(w,Bt,M)}();else throw Error(":refer value must be a sequential collection of symbols");else e=$APP.p(r)?Vt(w,c,G,C,h):w;e=$APP.Tr(a,new $APP.N(null,2,5,$APP.O,[$APP.Sr,b],null),e);h=function(){var M=null==c?null:lq.o(c);M=null==M?null:$APP.we(M);return null==M?null:gu.o(M)}();$APP.p(h)&&(h.o?h.o($APP.$f):h.call(null,$APP.$f));return e};
ku=function(a,b){$APP.Zj.j(a,function(c){var d=iu.o(c);if($APP.Te(d,b))return c;d=$APP.Rr.j(c,new $APP.N(null,3,5,$APP.O,[$APP.Sr,Os,ju],null));$APP.Zj.v($APP.u(d),$APP.tf,b);return $APP.jo.v(c,iu,function(e){return null==e?$APP.Si([b]):$APP.tf.j(e,b)})})};
yu=function(a,b,c){var d=Lr.o(a),e=$APP.u(d),f=gs(),g=$APP.Re.v(lu.o(e),b,b),k=(b="string"===typeof g)?function(){var Z=$APP.El.v(g,$APP.mj("\\$"),2),ea=$APP.D.v(Z,0,null),ia=$APP.D.v(Z,1,null),ka=$APP.Re.j(du.o(e),ea);return $APP.p(ka)?($APP.Zj.j(d,function(Y){return $t(Y,$APP.Ni.v(c,$APP.Wt,ia),ea,f,ka)}),$APP.$f):null}():null;if($APP.p(k))return k;k=mu.o(c);if($APP.p(k))return $APP.Ag(d,hu(e,f,null,g,new $APP.n(null,1,[$APP.wr,k],null)));k=$APP.ag(c);var l=$APP.Re.j(k,nu),h=$APP.Re.j(k,ou),r=$APP.Re.j(e,
$APP.Sr);k=$APP.p(l)?l:$APP.p(h)?h:ou.o(a);var q=$APP.p(k)?null:$APP.Re.j(r,g);if($APP.p(q)){var w=pu.o(a);$APP.p($APP.p(w)?!$APP.Te(iu.o(e),g)&&Qe(w.indexOf(g)):w)?Cr(function(){var Z=["[ ",$APP.t.o(g)," ]"].join(""),ea=$APP.tf.j(w,g);Z=qu.j($APP.Zf([g,Z]),ea);return["Cyclic load dependency: ",$APP.rr.j("-\x3e",Z)].join("")}(),g):$APP.Ag(d,hu(e,f,q,g,c))}else{var C=ru.o(e);if($APP.p(C)){var G=$APP.u($APP.Vr);q=function(){var Z=new $APP.n(null,6,[su,g,tu,g,$APP.uu,a,vu,c,$APP.$q,Aq(G),nu,$APP.p(l)?
l:h],null);return C.o?C.o(Z):C.call(null,Z)}();if($APP.p(q)){var M=$APP.ag(q);k=$APP.Re.j(M,$APP.wm);q=$APP.Re.j(M,lm);M=$APP.Re.j(M,wu);var R=$APP.jo.v($APP.Ni.v($APP.Ni.v(a,Ir,$APP.$f),ou,h),pu,function(Z){return null==Z?new $APP.N(null,1,5,$APP.O,[g],null):$APP.tf.j(Z,g)});if($APP.p(q))try{$APP.Pq($APP.Zf([$APP.Vr,G,Dr,k]));try{var W=$APP.u(xu);W.j?W.j(R,q):W.call(null,R,q)}finally{$APP.Rq()}}catch(Z){if(Z instanceof Error)throw b=Z,$APP.Zj.A(d,$APP.jo,$APP.Sr,$APP.nm,$APP.F([g])),b;throw Z;}$APP.p(M)||
$APP.Zj.j(d,function(Z){var ea=$APP.Re.j(Z,$APP.Sr);ea=$APP.Re.j(ea,g);return hu(Z,f,ea,g,c)})}else if(W=$APP.p(k)?function(){var Z=$APP.Re.j(r,g);return $APP.p(Z)?$APP.Ag(d,hu(e,f,Z,g,c)):null}():null,!$APP.p(W))throw Error(["Could not find namespace: ",$APP.t.o(g),"."].join(""));}else throw Error(["Could not find namespace ",$APP.t.o(g),"."].join(""));}b||ku(d,g);return null};zu=function(a,b){return a instanceof $APP.v?$APP.wf(a,b):$APP.Q.j(a,b)};
Au=function(a){return a instanceof $APP.v||$APP.Ge(a)&&(null==$APP.le(a)||$APP.le(a)instanceof $APP.K)};
Gu=function(a,b,c){var d=$APP.wf(b,c),e=$APP.Pg.j(yf,d);b=$APP.Bu.j(e,$APP.sr.o(!0));d=$APP.Pg.j(xg(yf),d);(e=$APP.x($APP.Cu.j(new $APP.Qi(null,new $APP.n(null,7,[cu,null,$APP.wr,null,Du,null,Eu,null,nu,null,ou,null,Yt,null],null),null),e)))&&Cr($APP.wg.v($APP.t,"Unsupported option(s) supplied: ",$APP.rm.j(",",e)),c);$APP.x(d)||Cr("Nothing specified to load",c);e=$APP.x(d);d=null;for(var f=0,g=0;;)if(g<f){var k=d.fa(null,g);if(Au(k))$APP.wg.J(Fu,a,null,zu(k,b));else{var l=$APP.x(k);k=$APP.y(l);l=
$APP.z(l);null==k&&Cr("prefix cannot be nil",c);l=$APP.x(l);for(var h=null,r=0,q=0;;)if(q<r){var w=h.fa(null,q);$APP.wg.J(Fu,a,k,zu(w,b));q+=1}else if(l=$APP.x(l))h=l,$APP.He(h)?(l=$APP.bd(h),q=$APP.cd(h),h=l,r=$APP.ge(l),l=q):(l=$APP.y(h),$APP.wg.J(Fu,a,k,zu(l,b)),l=$APP.z(h),h=null,r=0),q=0;else break}g+=1}else if(e=$APP.x(e)){if($APP.He(e))f=$APP.bd(e),e=$APP.cd(e),d=f,f=$APP.ge(f);else{k=$APP.y(e);if(Au(k))$APP.wg.J(Fu,a,null,zu(k,b));else for(f=$APP.x(k),d=$APP.y(f),f=$APP.z(f),null==d&&Cr("prefix cannot be nil",
c),f=$APP.x(f),g=null,l=k=0;;)if(l<k)h=g.fa(null,l),$APP.wg.J(Fu,a,d,zu(h,b)),l+=1;else if(f=$APP.x(f))g=f,$APP.He(g)?(f=$APP.bd(g),l=$APP.cd(g),g=f,k=$APP.ge(f),f=l):(f=$APP.y(g),$APP.wg.J(Fu,a,d,zu(f,b)),f=$APP.z(g),g=null,k=0),l=0;else break;e=$APP.z(e);d=null;f=0}g=0}else return null};
Iu=function(a,b){for(;;)if($APP.p(b)){var c=b,d=$APP.D.v(c,0,null),e=$APP.D.v(c,1,null),f=d,g=f instanceof $APP.K?f.ia:null;switch(g){case "exclude":$APP.Zj.j(Lr.o(a),function(k,l,h,r,q,w,C){return function(G){var M=gs();return $APP.im.J(G,new $APP.N(null,5,5,$APP.O,[$APP.Sr,M,Yt,C,au],null),$APP.Hu.j($APP.Nh,$APP.Ri),w)}}(b,f,g,c,d,e,Os));break;case "only":$APP.Zj.j(Lr.o(a),function(k,l,h,r,q,w,C){return function(G){var M=gs(),R=$APP.Rr.j(G,new $APP.N(null,2,5,$APP.O,[$APP.Sr,C],null));R=$APP.Oi(R,
w);return $APP.im.J(G,new $APP.N(null,2,5,$APP.O,[$APP.Sr,M],null),$APP.mm,R)}}(b,f,g,c,d,e,Os));break;case "rename":$APP.Zj.j(Lr.o(a),function(k,l,h,r,q,w,C){return function(G){var M=gs(),R=$APP.Sr.o(G),W=$APP.Re.j(R,M),Z=$APP.Rr.j(G,new $APP.N(null,2,5,$APP.O,[$APP.Sr,C],null));R=$APP.cf.v(function(ea,ia,ka,Y,E,B,ca,H,I,aa,da){return function(fa,pa){var sa=$APP.D.v(pa,0,null);pa=$APP.D.v(pa,1,null);return $APP.im.J($APP.Tr(fa,new $APP.N(null,2,5,$APP.O,[Bt,pa],null),$APP.Re.j(E,sa)),new $APP.N(null,
3,5,$APP.O,[Yt,da,au],null),$APP.Hu.j($APP.tf,$APP.Ri),sa)}}(k,M,R,W,Z,l,h,r,q,w,C),W,w);return $APP.Tr(G,new $APP.N(null,2,5,$APP.O,[$APP.Sr,M],null),R)}}(b,f,g,c,d,e,Os));break;default:throw Error(["No matching clause: ",$APP.t.o(g)].join(""));}b=oe(b)}else break};
Ju=function(a,b,c){var d=gs(),e=$APP.Sr.o(a),f=function(){var w=$APP.Re.j(e,b);if($APP.p(w))return w;throw Error(["No namespace: ",$APP.t.o(b)].join(""));}(),g=$APP.wg.j($APP.Vp,c),k=$APP.Pg.j(zd,$APP.Ii(f)),l=function(){var w=Zt.o(g);return $APP.p(w)?w:$APP.$f}(),h=$APP.Wi(au.o(g)),r=$APP.A.j(fu,Yt.o(g))?k:function(){var w=Yt.o(g);if($APP.p(w))return w;w=bu.o(g);return $APP.p(w)?w:k}();if($APP.p($APP.p(r)?!$APP.De(r):r))throw Error(":only/:refer value must be a sequential collection of symbols");
c=$APP.Re.j(e,d);var q=Bt.o(c);r=$APP.cf.v(function(w,C){if($APP.wb(h.o?h.o(C):h.call(null,C))){var G=$APP.Re.j(f,C);if(!$APP.p(G))throw Error([$APP.t.o(C)," does not exist"].join(""));var M=$APP.Ni.v,R=l.o?l.o(C):l.call(null,C);return M.call($APP.Ni,w,$APP.p(R)?R:C,G)}return w},q,r);c=$APP.Ni.v(c,Bt,r);d=$APP.Ni.v(e,d,c);return $APP.Ni.v(a,$APP.Sr,d)};Ku=function(a,b){return Br(a,b,new $APP.n(null,1,[Or,"analysis"],null))};
Mu=function(a,b){return yp.j(a,function(c){return $APP.Ni.A(c,jr,ir,$APP.F([Lu,b]))})};Qu=function(a,b,c){var d=$APP.D.v(c,0,null);c=$APP.D.v(c,1,null);if(Nu!==b&&Ou!==b){d=Qr(d);var e=Mt.o(a);($APP.p(e)?js(c)&&$APP.wb(er.o($APP.we(c)))||$APP.Te(e,d):1)||Ku([$APP.t.o(b)," is not allowed!"].join(""),b);a=Pu.o(a);$APP.p(a)&&$APP.Te(a,d)&&Ku([$APP.t.o(b)," is not allowed!"].join(""),b)}};
Vu=function(a,b,c){var d=function(){var q=$APP.Af(b);return null==q?null:$APP.Gj.o(q)}(),e=$APP.Gj.o($APP.Yi(b)),f=a.get(Lr),g=$APP.u(f),k=gs(),l=function(){var q=$APP.Sr.o(g);return k.o?k.o(q):k.call(null,q)}(),h=$APP.p(d)?function(){var q=$APP.Rr.j(l,new $APP.N(null,2,5,$APP.O,[eu,d],null));return $APP.p(q)?q:d}():null;if($APP.p(h)){f=$APP.A.j(h,Os)||$APP.A.j(h,$APP.Ru)?function(){var q=null==g?null:$APP.Sr.o(g);q=null==q?null:$APP.Re.j(q,Os);q=null==q?null:Ve(q,e);if($APP.p(q))return q;q=$APP.p(c)?
$APP.Re.j(Su,e):null;return $APP.p(q)?new $APP.N(null,2,5,$APP.O,[b,q],null):null}():null;if($APP.p(f))return f;f=function(){var q=null==g?null:$APP.Sr.o(g);q=null==q?null:$APP.Re.j(q,h);return null==q?null:Ve(q,e)}();if($APP.p(f))return f;if($APP.p(!1))return null;f=$APP.Ht.o(Ns(a,h));if($APP.p(f)){var r=f;return new $APP.N(null,2,5,$APP.O,[b,$APP.p(c)?$APP.ve(new $APP.N(null,2,5,$APP.O,[r,$APP.t.o(e).split(".")],null),new $APP.n(null,1,[Tu,!0],null)):function(){var q=$APP.Ni.A($APP.we(b),$APP.wm,
$APP.u(Dr),$APP.F([$APP.$q,$APP.u($APP.Vr)])),w=$APP.t.o(e).split("."),C=w.length,G=C-1;return 1===C?zq(function(){return $APP.Ta(r,e)},q):zq(function(){return ps(r,w,0,G)},q)}()],null)}return null}f=function(){var q=Bt.o(l);return $APP.p(q)?Ve(q,e):null}();if($APP.p(f))return f;f=Ve(l,b);if($APP.p(f))return f;f=function(){var q=function(){var w=null==g?null:$APP.Sr.o(g);w=null==w?null:$APP.Re.j(w,Os);return null==w?null:Ve(w,e)}();return $APP.p(function(){var w=null==l?null:Yt.o(l);w=null==w?null:
$APP.Re.j(w,Os);w=null==w?null:au.o(w);return null==w?null:$APP.Te(w,e)}())?null:q}();if($APP.p(f))return f;f=$APP.p($APP.p(c)?$APP.Re.j(Su,b):null)?new $APP.N(null,2,5,$APP.O,[b,b],null):null;if($APP.p(f))return f;if($APP.p(!1))return null;f=function(){var q=$APP.Ht.o(Ns(a,b));return $APP.p(q)?new $APP.N(null,2,5,$APP.O,[b,q],null):null}();if($APP.p(f))return f;if($APP.p(Uu.o(a)))return null;f=Ct(a,b);return $APP.p(f)?new $APP.N(null,2,5,$APP.O,[b,f],null):null};
Xu=function(a,b,c){var d=dk.o(a);a=$APP.jd(b,function(e){return $APP.y($APP.cf.v(function(f){var g=$APP.D.v(f,0,null),k=$APP.D.v(f,1,null);f=$APP.im.v(g,k,function(l){var h=Wu.o(l);h=$APP.p(h)?h:$APP.$f;return $APP.Te(h,c)?l:$APP.Ni.v(l,Wu,$APP.Ni.v(h,c,$APP.ge(h)))});k=new $APP.N(null,2,5,$APP.O,[f,$APP.ye($APP.ye(k))],null);return $APP.A.j(g,f)?$APP.Vd(k):k},new $APP.N(null,2,5,$APP.O,[e,d],null),$APP.mo.o($APP.ge(d)/2)))}($APP.u(b)));return $APP.Rr.j(a,$APP.tf.A(d,Wu,$APP.F([c])))};
av=function(a,b,c,d){a=Yu.J(a,b,c,d);if($APP.p(a))return a;a=$APP.Yi(b);return $APP.p($APP.p(c)?0==a.lastIndexOf(".",0)&&1<a.length:c)?new $APP.N(null,2,5,$APP.O,[b,Zu],null):$APP.p($APP.p(c)?$APP.Qa(a,".")&&1<a.length:c)?new $APP.N(null,2,5,$APP.O,[b,$u],null):null};
bv=function(a,b,c){var d=$APP.Af(b);b=$APP.Yi(b).split(".");a=$APP.Ni.v(a,Uu,!0);for(var e=null;;){if($APP.ze(b))return null;var f=$APP.y(b);b=$APP.z(b);var g=$APP.Gj.j(d,[e,$APP.p(e)?".":null,$APP.t.o(f)].join("")),k=$APP.wb(d);e=$APP.p(k?e:k)?$APP.Gj.j(e,f):null;f=av(a,g,!1,c);if($APP.p(f))return new $APP.N(null,2,5,$APP.O,[$APP.le(f),b],null);e=$APP.p(e)?av(a,e,!1,c):null;if($APP.p(e))return new $APP.N(null,2,5,$APP.O,[$APP.le(e),b],null);e=$APP.t.o(g)}};
dv=function(a,b,c,d){d=bv(a,b,d);if($APP.p(d)){a=$APP.D.v(d,0,null);d=$APP.D.v(d,1,null);var e=js(a)?$APP.u(a):a,f=$APP.cv.o(d);return $APP.p(c)?new $APP.N(null,2,5,$APP.O,[b,$APP.ve(new $APP.N(null,2,5,$APP.O,[e,f],null),new $APP.n(null,1,[Tu,!0],null))],null):e instanceof $APP.yq?new $APP.N(null,2,5,$APP.O,[b,zq(function(g,k,l){return ps(S(e,k,l),f,null,null)},b)],null):new $APP.N(null,2,5,$APP.O,[b,ps(e,f,null,null)],null)}return null};
ev=function(a,b,c,d){var e=av(a,b,c,d);$APP.p(e)?b=e:(a=dv(a,b,c,d),b=$APP.p(a)?a:Ku(["Could not resolve symbol: ",$APP.t.o(b)].join(""),b));return $APP.le(b)};gv=function(a){return $APP.Ni.v(a,fv,!1)};hv=function(a,b){return Br(a,b,new $APP.n(null,1,[Or,"analysis"],null))};
ov=function(a,b){a=$APP.Ni.v(a,iv,!0);if($APP.Le(b)){var c=$APP.y(b);if(c instanceof $APP.v){if($APP.p($APP.Re.j(jv,c)))return b;if($APP.Te(new $APP.Qi(null,new $APP.n(null,1,[kv,null],null),null),c))return lv.j?lv.j(a,b):lv.call(null,a,b);if($APP.A.j(mv,c))return b;try{var d=ev(a,c,!0,null)}catch(f){d=nv}if($APP.zf(nv,d))return b;var e=js(d);c=e?Jq(d):e;e=e?Oq(d):e;d=$APP.p(c)?$APP.u(d):d;return $APP.p($APP.p(c)?c:Gr(d))?$APP.p(e)?$APP.wg.S(d,b,Ir.o(a),a,$APP.Jd(b)):$APP.wg.J(d,b,Ir.o(a),$APP.Jd(b)):
b}}return b};pv=function(a,b){var c=fv.o(a),d=gv(a),e=$APP.nr.j(function(g){return lv.j?lv.j(d,g):lv.call(null,d,g)},$APP.Xi(b)),f=function(){var g=$APP.Ni.v(a,fv,c),k=$APP.pe(b);return lv.j?lv.j(g,k):lv.call(null,g,k)}();return $APP.tf.j(e,f)};
qv=function(a,b,c){$APP.p(fv.o(a))||hv("Can only recur from tail position",b);a=$APP.Zr.o(a);b=$APP.ge(c);switch(b){case 0:return zq(function(){return Qt},null);case 1:var d=$APP.D.j(c,0);$APP.D.j(a,0);return zq(function(Y,E,B){Y=S(d,E,B);B[0]=Y;return Qt},null);case 2:d=$APP.D.j(c,0);$APP.D.j(a,0);var e=$APP.D.j(c,1);$APP.D.j(a,1);return zq(function(Y,E,B){Y=S(d,E,B);E=S(e,E,B);B[0]=Y;B[1]=E;return Qt},null);case 3:d=$APP.D.j(c,0);$APP.D.j(a,0);e=$APP.D.j(c,1);$APP.D.j(a,1);var f=$APP.D.j(c,2);$APP.D.j(a,
2);return zq(function(Y,E,B){Y=S(d,E,B);var ca=S(e,E,B);E=S(f,E,B);B[0]=Y;B[1]=ca;B[2]=E;return Qt},null);case 4:d=$APP.D.j(c,0);$APP.D.j(a,0);e=$APP.D.j(c,1);$APP.D.j(a,1);f=$APP.D.j(c,2);$APP.D.j(a,2);var g=$APP.D.j(c,3);$APP.D.j(a,3);return zq(function(Y,E,B){Y=S(d,E,B);var ca=S(e,E,B),H=S(f,E,B);E=S(g,E,B);B[0]=Y;B[1]=ca;B[2]=H;B[3]=E;return Qt},null);case 5:d=$APP.D.j(c,0);$APP.D.j(a,0);e=$APP.D.j(c,1);$APP.D.j(a,1);f=$APP.D.j(c,2);$APP.D.j(a,2);g=$APP.D.j(c,3);$APP.D.j(a,3);var k=$APP.D.j(c,
4);$APP.D.j(a,4);return zq(function(Y,E,B){Y=S(d,E,B);var ca=S(e,E,B),H=S(f,E,B),I=S(g,E,B);E=S(k,E,B);B[0]=Y;B[1]=ca;B[2]=H;B[3]=I;B[4]=E;return Qt},null);case 6:d=$APP.D.j(c,0);$APP.D.j(a,0);e=$APP.D.j(c,1);$APP.D.j(a,1);f=$APP.D.j(c,2);$APP.D.j(a,2);g=$APP.D.j(c,3);$APP.D.j(a,3);k=$APP.D.j(c,4);$APP.D.j(a,4);var l=$APP.D.j(c,5);$APP.D.j(a,5);return zq(function(Y,E,B){Y=S(d,E,B);var ca=S(e,E,B),H=S(f,E,B),I=S(g,E,B),aa=S(k,E,B);E=S(l,E,B);B[0]=Y;B[1]=ca;B[2]=H;B[3]=I;B[4]=aa;B[5]=E;return Qt},null);
case 7:d=$APP.D.j(c,0);$APP.D.j(a,0);e=$APP.D.j(c,1);$APP.D.j(a,1);f=$APP.D.j(c,2);$APP.D.j(a,2);g=$APP.D.j(c,3);$APP.D.j(a,3);k=$APP.D.j(c,4);$APP.D.j(a,4);l=$APP.D.j(c,5);$APP.D.j(a,5);var h=$APP.D.j(c,6);$APP.D.j(a,6);return zq(function(Y,E,B){Y=S(d,E,B);var ca=S(e,E,B),H=S(f,E,B),I=S(g,E,B),aa=S(k,E,B),da=S(l,E,B);E=S(h,E,B);B[0]=Y;B[1]=ca;B[2]=H;B[3]=I;B[4]=aa;B[5]=da;B[6]=E;return Qt},null);case 8:d=$APP.D.j(c,0);$APP.D.j(a,0);e=$APP.D.j(c,1);$APP.D.j(a,1);f=$APP.D.j(c,2);$APP.D.j(a,2);g=$APP.D.j(c,
3);$APP.D.j(a,3);k=$APP.D.j(c,4);$APP.D.j(a,4);l=$APP.D.j(c,5);$APP.D.j(a,5);h=$APP.D.j(c,6);$APP.D.j(a,6);var r=$APP.D.j(c,7);$APP.D.j(a,7);return zq(function(Y,E,B){Y=S(d,E,B);var ca=S(e,E,B),H=S(f,E,B),I=S(g,E,B),aa=S(k,E,B),da=S(l,E,B),fa=S(h,E,B);E=S(r,E,B);B[0]=Y;B[1]=ca;B[2]=H;B[3]=I;B[4]=aa;B[5]=da;B[6]=fa;B[7]=E;return Qt},null);case 9:d=$APP.D.j(c,0);$APP.D.j(a,0);e=$APP.D.j(c,1);$APP.D.j(a,1);f=$APP.D.j(c,2);$APP.D.j(a,2);g=$APP.D.j(c,3);$APP.D.j(a,3);k=$APP.D.j(c,4);$APP.D.j(a,4);l=$APP.D.j(c,
5);$APP.D.j(a,5);h=$APP.D.j(c,6);$APP.D.j(a,6);r=$APP.D.j(c,7);$APP.D.j(a,7);var q=$APP.D.j(c,8);$APP.D.j(a,8);return zq(function(Y,E,B){Y=S(d,E,B);var ca=S(e,E,B),H=S(f,E,B),I=S(g,E,B),aa=S(k,E,B),da=S(l,E,B),fa=S(h,E,B),pa=S(r,E,B);E=S(q,E,B);B[0]=Y;B[1]=ca;B[2]=H;B[3]=I;B[4]=aa;B[5]=da;B[6]=fa;B[7]=pa;B[8]=E;return Qt},null);case 10:d=$APP.D.j(c,0);$APP.D.j(a,0);e=$APP.D.j(c,1);$APP.D.j(a,1);f=$APP.D.j(c,2);$APP.D.j(a,2);g=$APP.D.j(c,3);$APP.D.j(a,3);k=$APP.D.j(c,4);$APP.D.j(a,4);l=$APP.D.j(c,
5);$APP.D.j(a,5);h=$APP.D.j(c,6);$APP.D.j(a,6);r=$APP.D.j(c,7);$APP.D.j(a,7);q=$APP.D.j(c,8);$APP.D.j(a,8);var w=$APP.D.j(c,9);$APP.D.j(a,9);return zq(function(Y,E,B){Y=S(d,E,B);var ca=S(e,E,B),H=S(f,E,B),I=S(g,E,B),aa=S(k,E,B),da=S(l,E,B),fa=S(h,E,B),pa=S(r,E,B),sa=S(q,E,B);E=S(w,E,B);B[0]=Y;B[1]=ca;B[2]=H;B[3]=I;B[4]=aa;B[5]=da;B[6]=fa;B[7]=pa;B[8]=sa;B[9]=E;return Qt},null);case 11:d=$APP.D.j(c,0);$APP.D.j(a,0);e=$APP.D.j(c,1);$APP.D.j(a,1);f=$APP.D.j(c,2);$APP.D.j(a,2);g=$APP.D.j(c,3);$APP.D.j(a,
3);k=$APP.D.j(c,4);$APP.D.j(a,4);l=$APP.D.j(c,5);$APP.D.j(a,5);h=$APP.D.j(c,6);$APP.D.j(a,6);r=$APP.D.j(c,7);$APP.D.j(a,7);q=$APP.D.j(c,8);$APP.D.j(a,8);w=$APP.D.j(c,9);$APP.D.j(a,9);var C=$APP.D.j(c,10);$APP.D.j(a,10);return zq(function(Y,E,B){Y=S(d,E,B);var ca=S(e,E,B),H=S(f,E,B),I=S(g,E,B),aa=S(k,E,B),da=S(l,E,B),fa=S(h,E,B),pa=S(r,E,B),sa=S(q,E,B),ta=S(w,E,B);E=S(C,E,B);B[0]=Y;B[1]=ca;B[2]=H;B[3]=I;B[4]=aa;B[5]=da;B[6]=fa;B[7]=pa;B[8]=sa;B[9]=ta;B[10]=E;return Qt},null);case 12:d=$APP.D.j(c,0);
$APP.D.j(a,0);e=$APP.D.j(c,1);$APP.D.j(a,1);f=$APP.D.j(c,2);$APP.D.j(a,2);g=$APP.D.j(c,3);$APP.D.j(a,3);k=$APP.D.j(c,4);$APP.D.j(a,4);l=$APP.D.j(c,5);$APP.D.j(a,5);h=$APP.D.j(c,6);$APP.D.j(a,6);r=$APP.D.j(c,7);$APP.D.j(a,7);q=$APP.D.j(c,8);$APP.D.j(a,8);w=$APP.D.j(c,9);$APP.D.j(a,9);C=$APP.D.j(c,10);$APP.D.j(a,10);var G=$APP.D.j(c,11);$APP.D.j(a,11);return zq(function(Y,E,B){Y=S(d,E,B);var ca=S(e,E,B),H=S(f,E,B),I=S(g,E,B),aa=S(k,E,B),da=S(l,E,B),fa=S(h,E,B),pa=S(r,E,B),sa=S(q,E,B),ta=S(w,E,B),ua=
S(C,E,B);E=S(G,E,B);B[0]=Y;B[1]=ca;B[2]=H;B[3]=I;B[4]=aa;B[5]=da;B[6]=fa;B[7]=pa;B[8]=sa;B[9]=ta;B[10]=ua;B[11]=E;return Qt},null);case 13:d=$APP.D.j(c,0);$APP.D.j(a,0);e=$APP.D.j(c,1);$APP.D.j(a,1);f=$APP.D.j(c,2);$APP.D.j(a,2);g=$APP.D.j(c,3);$APP.D.j(a,3);k=$APP.D.j(c,4);$APP.D.j(a,4);l=$APP.D.j(c,5);$APP.D.j(a,5);h=$APP.D.j(c,6);$APP.D.j(a,6);r=$APP.D.j(c,7);$APP.D.j(a,7);q=$APP.D.j(c,8);$APP.D.j(a,8);w=$APP.D.j(c,9);$APP.D.j(a,9);C=$APP.D.j(c,10);$APP.D.j(a,10);G=$APP.D.j(c,11);$APP.D.j(a,11);
var M=$APP.D.j(c,12);$APP.D.j(a,12);return zq(function(Y,E,B){Y=S(d,E,B);var ca=S(e,E,B),H=S(f,E,B),I=S(g,E,B),aa=S(k,E,B),da=S(l,E,B),fa=S(h,E,B),pa=S(r,E,B),sa=S(q,E,B),ta=S(w,E,B),ua=S(C,E,B),Aa=S(G,E,B);E=S(M,E,B);B[0]=Y;B[1]=ca;B[2]=H;B[3]=I;B[4]=aa;B[5]=da;B[6]=fa;B[7]=pa;B[8]=sa;B[9]=ta;B[10]=ua;B[11]=Aa;B[12]=E;return Qt},null);case 14:d=$APP.D.j(c,0);$APP.D.j(a,0);e=$APP.D.j(c,1);$APP.D.j(a,1);f=$APP.D.j(c,2);$APP.D.j(a,2);g=$APP.D.j(c,3);$APP.D.j(a,3);k=$APP.D.j(c,4);$APP.D.j(a,4);l=$APP.D.j(c,
5);$APP.D.j(a,5);h=$APP.D.j(c,6);$APP.D.j(a,6);r=$APP.D.j(c,7);$APP.D.j(a,7);q=$APP.D.j(c,8);$APP.D.j(a,8);w=$APP.D.j(c,9);$APP.D.j(a,9);C=$APP.D.j(c,10);$APP.D.j(a,10);G=$APP.D.j(c,11);$APP.D.j(a,11);M=$APP.D.j(c,12);$APP.D.j(a,12);var R=$APP.D.j(c,13);$APP.D.j(a,13);return zq(function(Y,E,B){Y=S(d,E,B);var ca=S(e,E,B),H=S(f,E,B),I=S(g,E,B),aa=S(k,E,B),da=S(l,E,B),fa=S(h,E,B),pa=S(r,E,B),sa=S(q,E,B),ta=S(w,E,B),ua=S(C,E,B),Aa=S(G,E,B),Fa=S(M,E,B);E=S(R,E,B);B[0]=Y;B[1]=ca;B[2]=H;B[3]=I;B[4]=aa;B[5]=
da;B[6]=fa;B[7]=pa;B[8]=sa;B[9]=ta;B[10]=ua;B[11]=Aa;B[12]=Fa;B[13]=E;return Qt},null);case 15:d=$APP.D.j(c,0);$APP.D.j(a,0);e=$APP.D.j(c,1);$APP.D.j(a,1);f=$APP.D.j(c,2);$APP.D.j(a,2);g=$APP.D.j(c,3);$APP.D.j(a,3);k=$APP.D.j(c,4);$APP.D.j(a,4);l=$APP.D.j(c,5);$APP.D.j(a,5);h=$APP.D.j(c,6);$APP.D.j(a,6);r=$APP.D.j(c,7);$APP.D.j(a,7);q=$APP.D.j(c,8);$APP.D.j(a,8);w=$APP.D.j(c,9);$APP.D.j(a,9);C=$APP.D.j(c,10);$APP.D.j(a,10);G=$APP.D.j(c,11);$APP.D.j(a,11);M=$APP.D.j(c,12);$APP.D.j(a,12);R=$APP.D.j(c,
13);$APP.D.j(a,13);var W=$APP.D.j(c,14);$APP.D.j(a,14);return zq(function(Y,E,B){Y=S(d,E,B);var ca=S(e,E,B),H=S(f,E,B),I=S(g,E,B),aa=S(k,E,B),da=S(l,E,B),fa=S(h,E,B),pa=S(r,E,B),sa=S(q,E,B),ta=S(w,E,B),ua=S(C,E,B),Aa=S(G,E,B),Fa=S(M,E,B),za=S(R,E,B);E=S(W,E,B);B[0]=Y;B[1]=ca;B[2]=H;B[3]=I;B[4]=aa;B[5]=da;B[6]=fa;B[7]=pa;B[8]=sa;B[9]=ta;B[10]=ua;B[11]=Aa;B[12]=Fa;B[13]=za;B[14]=E;return Qt},null);case 16:d=$APP.D.j(c,0);$APP.D.j(a,0);e=$APP.D.j(c,1);$APP.D.j(a,1);f=$APP.D.j(c,2);$APP.D.j(a,2);g=$APP.D.j(c,
3);$APP.D.j(a,3);k=$APP.D.j(c,4);$APP.D.j(a,4);l=$APP.D.j(c,5);$APP.D.j(a,5);h=$APP.D.j(c,6);$APP.D.j(a,6);r=$APP.D.j(c,7);$APP.D.j(a,7);q=$APP.D.j(c,8);$APP.D.j(a,8);w=$APP.D.j(c,9);$APP.D.j(a,9);C=$APP.D.j(c,10);$APP.D.j(a,10);G=$APP.D.j(c,11);$APP.D.j(a,11);M=$APP.D.j(c,12);$APP.D.j(a,12);R=$APP.D.j(c,13);$APP.D.j(a,13);W=$APP.D.j(c,14);$APP.D.j(a,14);var Z=$APP.D.j(c,15);$APP.D.j(a,15);return zq(function(Y,E,B){Y=S(d,E,B);var ca=S(e,E,B),H=S(f,E,B),I=S(g,E,B),aa=S(k,E,B),da=S(l,E,B),fa=S(h,E,
B),pa=S(r,E,B),sa=S(q,E,B),ta=S(w,E,B),ua=S(C,E,B),Aa=S(G,E,B),Fa=S(M,E,B),za=S(R,E,B),va=S(W,E,B);E=S(Z,E,B);B[0]=Y;B[1]=ca;B[2]=H;B[3]=I;B[4]=aa;B[5]=da;B[6]=fa;B[7]=pa;B[8]=sa;B[9]=ta;B[10]=ua;B[11]=Aa;B[12]=Fa;B[13]=za;B[14]=va;B[15]=E;return Qt},null);case 17:d=$APP.D.j(c,0);$APP.D.j(a,0);e=$APP.D.j(c,1);$APP.D.j(a,1);f=$APP.D.j(c,2);$APP.D.j(a,2);g=$APP.D.j(c,3);$APP.D.j(a,3);k=$APP.D.j(c,4);$APP.D.j(a,4);l=$APP.D.j(c,5);$APP.D.j(a,5);h=$APP.D.j(c,6);$APP.D.j(a,6);r=$APP.D.j(c,7);$APP.D.j(a,
7);q=$APP.D.j(c,8);$APP.D.j(a,8);w=$APP.D.j(c,9);$APP.D.j(a,9);C=$APP.D.j(c,10);$APP.D.j(a,10);G=$APP.D.j(c,11);$APP.D.j(a,11);M=$APP.D.j(c,12);$APP.D.j(a,12);R=$APP.D.j(c,13);$APP.D.j(a,13);W=$APP.D.j(c,14);$APP.D.j(a,14);Z=$APP.D.j(c,15);$APP.D.j(a,15);var ea=$APP.D.j(c,16);$APP.D.j(a,16);return zq(function(Y,E,B){Y=S(d,E,B);var ca=S(e,E,B),H=S(f,E,B),I=S(g,E,B),aa=S(k,E,B),da=S(l,E,B),fa=S(h,E,B),pa=S(r,E,B),sa=S(q,E,B),ta=S(w,E,B),ua=S(C,E,B),Aa=S(G,E,B),Fa=S(M,E,B),za=S(R,E,B),va=S(W,E,B),Ma=
S(Z,E,B);E=S(ea,E,B);B[0]=Y;B[1]=ca;B[2]=H;B[3]=I;B[4]=aa;B[5]=da;B[6]=fa;B[7]=pa;B[8]=sa;B[9]=ta;B[10]=ua;B[11]=Aa;B[12]=Fa;B[13]=za;B[14]=va;B[15]=Ma;B[16]=E;return Qt},null);case 18:d=$APP.D.j(c,0);$APP.D.j(a,0);e=$APP.D.j(c,1);$APP.D.j(a,1);f=$APP.D.j(c,2);$APP.D.j(a,2);g=$APP.D.j(c,3);$APP.D.j(a,3);k=$APP.D.j(c,4);$APP.D.j(a,4);l=$APP.D.j(c,5);$APP.D.j(a,5);h=$APP.D.j(c,6);$APP.D.j(a,6);r=$APP.D.j(c,7);$APP.D.j(a,7);q=$APP.D.j(c,8);$APP.D.j(a,8);w=$APP.D.j(c,9);$APP.D.j(a,9);C=$APP.D.j(c,10);
$APP.D.j(a,10);G=$APP.D.j(c,11);$APP.D.j(a,11);M=$APP.D.j(c,12);$APP.D.j(a,12);R=$APP.D.j(c,13);$APP.D.j(a,13);W=$APP.D.j(c,14);$APP.D.j(a,14);Z=$APP.D.j(c,15);$APP.D.j(a,15);ea=$APP.D.j(c,16);$APP.D.j(a,16);var ia=$APP.D.j(c,17);$APP.D.j(a,17);return zq(function(Y,E,B){Y=S(d,E,B);var ca=S(e,E,B),H=S(f,E,B),I=S(g,E,B),aa=S(k,E,B),da=S(l,E,B),fa=S(h,E,B),pa=S(r,E,B),sa=S(q,E,B),ta=S(w,E,B),ua=S(C,E,B),Aa=S(G,E,B),Fa=S(M,E,B),za=S(R,E,B),va=S(W,E,B),Ma=S(Z,E,B),ab=S(ea,E,B);E=S(ia,E,B);B[0]=Y;B[1]=
ca;B[2]=H;B[3]=I;B[4]=aa;B[5]=da;B[6]=fa;B[7]=pa;B[8]=sa;B[9]=ta;B[10]=ua;B[11]=Aa;B[12]=Fa;B[13]=za;B[14]=va;B[15]=Ma;B[16]=ab;B[17]=E;return Qt},null);case 19:d=$APP.D.j(c,0);$APP.D.j(a,0);e=$APP.D.j(c,1);$APP.D.j(a,1);f=$APP.D.j(c,2);$APP.D.j(a,2);g=$APP.D.j(c,3);$APP.D.j(a,3);k=$APP.D.j(c,4);$APP.D.j(a,4);l=$APP.D.j(c,5);$APP.D.j(a,5);h=$APP.D.j(c,6);$APP.D.j(a,6);r=$APP.D.j(c,7);$APP.D.j(a,7);q=$APP.D.j(c,8);$APP.D.j(a,8);w=$APP.D.j(c,9);$APP.D.j(a,9);C=$APP.D.j(c,10);$APP.D.j(a,10);G=$APP.D.j(c,
11);$APP.D.j(a,11);M=$APP.D.j(c,12);$APP.D.j(a,12);R=$APP.D.j(c,13);$APP.D.j(a,13);W=$APP.D.j(c,14);$APP.D.j(a,14);Z=$APP.D.j(c,15);$APP.D.j(a,15);ea=$APP.D.j(c,16);$APP.D.j(a,16);ia=$APP.D.j(c,17);$APP.D.j(a,17);var ka=$APP.D.j(c,18);$APP.D.j(a,18);return zq(function(Y,E,B){Y=S(d,E,B);var ca=S(e,E,B),H=S(f,E,B),I=S(g,E,B),aa=S(k,E,B),da=S(l,E,B),fa=S(h,E,B),pa=S(r,E,B),sa=S(q,E,B),ta=S(w,E,B),ua=S(C,E,B),Aa=S(G,E,B),Fa=S(M,E,B),za=S(R,E,B),va=S(W,E,B),Ma=S(Z,E,B),ab=S(ea,E,B),kb=S(ia,E,B);E=S(ka,
E,B);B[0]=Y;B[1]=ca;B[2]=H;B[3]=I;B[4]=aa;B[5]=da;B[6]=fa;B[7]=pa;B[8]=sa;B[9]=ta;B[10]=ua;B[11]=Aa;B[12]=Fa;B[13]=za;B[14]=va;B[15]=Ma;B[16]=ab;B[17]=kb;B[18]=E;return Qt},null);default:throw Error(["No matching clause: ",$APP.t.o(b)].join(""));}};rv=function(a,b){return $APP.nr.j(function(c){return lv.j?lv.j(a,c):lv.call(null,a,c)},b)};$APP.sv=function(a,b,c,d,e,f,g,k,l){this.params=a;this.body=b;this.Wb=c;this.bc=d;this.$b=e;this.Xb=f;this.O=g;this.G=k;this.N=l;this.M=2230716170;this.R=139264};
Av=function(a,b,c,d){var e=$APP.ag(a);a=$APP.Re.j(e,tv);var f=$APP.x(b);b=$APP.y(f);var g=$APP.z(f);$APP.p(b)||hv("Parameter declaration missing.",a);$APP.Ge(b)||hv("Parameter declaration should be a vector",a);f=hj(function(C){return $APP.Mi.j($APP.Jk,C)},b);var k=$APP.D.v(f,0,null);f=$APP.D.v(f,1,null);$APP.D.v(f,0,null);f=$APP.D.v(f,1,null);var l=$APP.jh(k);k=$APP.ge(l);l=$APP.p(f)?$APP.tf.j(l,f):l;var h=$APP.Ni.v(e,$APP.Zr,l);e=$APP.ge(l);e=uv.j(e,$APP.Ao);var r=$APP.Zi(l,e),q=$APP.Zi(e,$APP.mo.C());
l=$APP.wg.v($APP.nm,Ir.o(h),l);l=$APP.Ni.v(h,Ir,$APP.mm.A($APP.F([l,r])));l=$APP.Ni.v(l,vv,q);var w=$APP.jo.J(l,dk,$APP.tf,$APP.p(f)?f:k);$APP.jd(wv.o(w),$APP.Tr($APP.u(wv.o(w)),$APP.tf.j(dk.o(w),Wu),$APP.Zi(e,$APP.mo.C())));c=$APP.p(c)?function(){var C=wv.o(w);return xv.v?xv.v(w,C,d):xv.call(null,w,C,d)}():null;g=yv($APP.Ni.v(w,fv,!0),a,g);a=$APP.Rr.j($APP.u(wv.o(w)),$APP.tf.j(dk.o(w),Wu));b=new $APP.sv(b,g,k,f,c,a,null,null,null);return $APP.p(f)?$APP.Ni.v(b,zv,$APP.Re.j(a,$APP.pe(e))):b};
Fv=function(a,b,c,d,e,f){var g=$APP.Bv.o(b),k=Cv.o(b),l=Dv.o(b),h=$APP.$r.o(b),r=zv.o(b);return zq(function(q,w,C){q=a.o?a.o(C):a.call(null,C);var G=Rt(w,q,g,k,h,l,r),M=null==e?G:function(){var W=S(e,w,C);return yp.v(G,$APP.mm,W)}(),R=$APP.p(f)?yp.j(M,function(W){return $APP.Ni.A(W,Fr,f,$APP.F([Ev,M]))}):M;$APP.p(d)&&(q[c]=R);return R},null)};Gv=function(a){var b=$APP.Bv.o(a),c=Cv.o(a),d=Dv.o(a),e=$APP.$r.o(a),f=zv.o(a);return function(g){return zq(function(k,l){return Rt(l,g,b,c,e,d,f)},null)}};
Sv=function(a,b){var c=$APP.x(b);$APP.y(c);c=$APP.z(c);var d=$APP.y(c),e=$APP.z(c),f=$APP.we(b);c=Hv.o(f);var g=$APP.fr.o(c);c=Iv.o(c);f=$APP.nm.j(f,Hv);var k=$APP.Ni.v(a,tv,b);a=d instanceof $APP.v?d:null;d=$APP.p(a)?e:$APP.wf(d,e);e=$APP.Le($APP.y(d))?d:new $APP.N(null,1,5,$APP.O,[d],null);var l=$APP.Ao.C();d=$APP.Hu.j($APP.tf,$APP.ih)(dk.o(k),l);k=$APP.Ni.v(k,dk,d);var h=$APP.p(a)?$APP.Tr(k,new $APP.N(null,2,5,$APP.O,[Ir,a],null),l):k,r=$APP.p(c)?c:a;a=Ir.o(h);k=$APP.Wi($APP.Ki(a));var q=$APP.Ni.v(h,
Jv,k);h=wv.o(q);a=$APP.cf.v(function(ka,Y){ka=$APP.ag(ka);var E=$APP.Re.j(ka,go),B=$APP.Re.j(ka,Kv),ca=$APP.y(Y),H=Av(q,Y,r,l),I=Lv.o(H),aa=$APP.Bv.o(H),da=$APP.p(I)?aa:null;$APP.p($APP.p(I)?B:I)&&hv("Can't have more than 1 variadic overload",b);I=$APP.wb(I);$APP.p(I?$APP.p(B)?aa>B:B:I)&&hv("Can't have fixed arity function with more params than variadic function",b);return $APP.jo.J($APP.jo.J($APP.Ni.A(ka,Kv,da,$APP.F([go,aa>E?aa:E])),Mv,$APP.tf,$APP.Ni.v(H,Nv,Y)),$APP.V,$APP.tf,ca)},new $APP.n(null,
4,[Mv,$APP.ih,$APP.V,$APP.ih,Ov,null,go,-1],null),e);e=$APP.Rr.j($APP.u(h),d);e=$APP.wg.j($APP.mm,$APP.wj.j(Wu,$APP.Ki(e)));var w=$APP.p(r)?$APP.Te(e,l):null,C=$APP.Pg.j(k,$APP.Ii(e)),G=$APP.Rr.j($APP.u(h),$APP.tf.j($APP.ye(d),Wu));d=$APP.p(G)?$APP.Zi(C,$APP.nr.j(G,C)):null;var M=$APP.ge(C);e=$APP.Zi(C,$APP.mo.o(M));var R=$APP.p(r)?$APP.Ni.v(e,l,M):e;d=($APP.p(w)?w:$APP.x(d))?function(){var ka=$APP.p(r)?M+1:M,Y=$APP.cv.o($APP.pr.j(function(E){var B=$APP.Re.j(G,E);if($APP.p(B)){E=$APP.Re.j(R,E);var ca=
Zl.o(2);ca[0]=B;ca[1]=E;return ca}return null},C));return new $APP.N(null,2,5,$APP.O,[function(E){for(var B=Y.length,ca=0,H=Zl.o(ka);;)if(ca<B){var I=ca+1;ca=Y[ca];H[ca[1]]=E[ca[0]];ca=I}else return H},ka],null)}():new $APP.N(null,1,5,$APP.O,[$APP.yg(null)],null);var W=$APP.D.v(d,0,null);d=$APP.D.v(d,1,null);e=Mv.o(a);var Z=$APP.nr.j(function(ka){var Y=vv.o(ka),E=Pv.o(ka),B=$APP.cv.o($APP.pr.j(function(H){var I=Y.o?Y.o(H):Y.call(null,H);if($APP.p(I)){var aa=Zl.o(2);aa[0]=R.o?R.o(H):R.call(null,H);
aa[1]=I;return aa}return null},C)),ca=$APP.ge(Y);return $APP.Ni.A(ka,Dv,ca,$APP.F([Qv,E,Cv,0<B.length?function(H,I){for(var aa=B.length,da=0,fa=I;;)if(da<aa)I=da+1,da=B[da],fa[da[1]]=H[da[0]],da=I;else return fa}:null]))},e);f=$APP.nm.A(f,$APP.xm,$APP.F([$APP.Un]));var ea=$APP.x(f)?lv.j?lv.j(q,f):lv.call(null,q,f):null;f=$APP.A.j(1,$APP.ge(Z))?$APP.y(Z):null;gs();var ia=null==d?null:d-1;f=$APP.p(f)?Fv(W,f,ia,w,ea,g):function(){var ka=$APP.cf.v(function(Y,E){var B=Gv(E),ca=Lv.o(E);E=$APP.Bv.o(E);return $APP.p(ca)?
$APP.Ni.v(Y,Rv,B):$APP.Ni.v(Y,E,B)},$APP.$f,Z);return zq(function(Y,E,B){var ca=W.o?W.o(B):W.call(null,B),H=function(){function aa(fa){var pa=null;if(0<arguments.length){pa=0;for(var sa=Array(arguments.length-0);pa<sa.length;)sa[pa]=arguments[pa+0],++pa;pa=new $APP.Fd(sa,0,null)}return da.call(this,pa)}function da(fa){var pa=$APP.ge(fa);var sa=$APP.Re.j(ka,pa);sa=$APP.p(sa)?sa:Rv.o(ka);if($APP.p(sa))return pa=sa.o?sa.o(ca):sa.call(null,ca),pa=S(pa,E,B),$APP.wg.j(pa,fa);fa=Error;pa=$APP.p(g)?pa-2:
pa;pa=["Cannot call ",$APP.t.o(r)," with ",$APP.t.o(pa)," arguments"].join("");throw fa(pa);}aa.B=0;aa.F=function(fa){fa=$APP.x(fa);return da(fa)};aa.A=da;return aa}(),I=null==ea?H:function(){var aa=S(ea,E,B);return yp.v(H,$APP.mm,aa)}();Y=$APP.p(g)?yp.j(I,function(aa){return $APP.Ni.A(aa,Fr,g,$APP.F([Ev,I]))}):I;$APP.p(w)&&(ca[ia]=Y);return Y},null)}();return $APP.p(c)?$APP.ve(f,new $APP.n(null,1,[$APP.V,$APP.V.o(a)],null)):f};
xv=function(a,b,c){var d=dk.o(a);a=$APP.jd(b,function(e){return $APP.im.v(e,$APP.tf.j(d,Wu),function(f){return $APP.Te(f,c)?f:$APP.Ni.v(f,c,$APP.ge(f))})}($APP.u(b)));return $APP.Rr.j(a,$APP.tf.A(d,Wu,$APP.F([c])))};
Tv=function(a,b,c){var d=gs();a=Lr.o(a);var e=$APP.Rr.j($APP.u(a),new $APP.N(null,2,5,$APP.O,[$APP.Sr,d],null)),f=Bt.o(e),g=function(){var k=$APP.p(f)?f.get(b):f;if($APP.p(k))k=hv([$APP.t.o(b)," already refers to ",$APP.t.o(k)," in namespace ",$APP.t.o(d)].join(""),c);else if($APP.wb($APP.Re.j(e,b))){k=$APP.Ni.v;var l=new Zq(null,$APP.Gj.j($APP.t.o(d),$APP.t.o(b)),new $APP.n(null,3,[$APP.T,b,$APP.$q,$APP.u($APP.Vr),$APP.wm,$APP.u(Dr)],null),!1);l.Yf(null);k=k.call($APP.Ni,e,b,l)}else k=e;return k}();
$APP.Zj.j(a,function(k){return $APP.jo.S(k,$APP.Sr,$APP.Ni,d,g)})};
Uv=function(a,b){a=gv(a);$APP.D.v(b,0,null);var c=$APP.D.v(b,1,null),d=$APP.D.v(b,2,null),e=$APP.D.v(b,3,null);Tv(a,c,b);Cf(c)||hv("Var name should be simple symbol.",b);var f=$APP.ge(b),g=$APP.A.j(4,f)&&"string"===typeof d?d:null;if(!(f<=($APP.p(g)?4:3)))throw Error("Too many arguments to def");d=$APP.p(g)?e:d;var k=$APP.A.j(2,f)?Et:lv.j?lv.j(a,d):lv.call(null,a,d);b=$APP.we(b);f=$APP.xm.o(b);var l=$APP.we(c);b=$APP.p(f)?$APP.Ni.v($APP.Ni.v(l,$APP.xm,$APP.xm.o(b)),$APP.Un,$APP.Un.o(b)):function(){var r=
Er;return $APP.Ni.v($APP.Ni.v(l,$APP.xm,$APP.xm.o(r)),$APP.Un,$APP.Un.o(r))}();b=$APP.Ni.v(b,$APP.$q,$APP.u($APP.Vr));g=$APP.p(g)?$APP.Ni.v(b,$APP.X,g):b;var h=$APP.p(l)?lv.j?lv.j(a,g):lv.call(null,a,g):g;return zq(function(r,q,w){return Gt(q,w,c,k,h)},null)};Vv=function(a,b){var c=$APP.Jd(b);a=$APP.Ni.v(a,fv,!0);var d=yv(a,b,c);return zq(function(e,f,g){return new $APP.Ff(null,function(){return S(d,f,g)},null,null)},null)};
Wv=function(a,b){var c=$APP.Jd(b);a=rv(a,c);c=$APP.Ni.A($APP.we(b),$APP.$q,$APP.u($APP.Vr),$APP.F([$APP.wm,$APP.u(Dr),cs,!0]));switch($APP.ge(a)){case 0:case 1:return hv("Too few arguments to if",b);case 2:var d=$APP.D.j(a,0),e=$APP.D.j(a,1);return $APP.wb(d)?null:Ar(d)?e:zq(function(g,k,l){return $APP.p(S(d,k,l))?S(e,k,l):null},c);case 3:d=$APP.D.j(a,0);e=$APP.D.j(a,1);var f=$APP.D.j(a,2);return $APP.wb(d)?f:Ar(d)?e:zq(function(g,k,l){return $APP.p(S(d,k,l))?S(e,k,l):S(f,k,l)},c);default:return hv("Too many arguments to if",
b)}};
Yv=function(a,b){function c(C,G,M){return $APP.Te(C,G)?hv(["Duplicate case test constant ",$APP.t.o(G)].join(""),b):$APP.Ni.v(C,G,M)}var d=gv(a),e=function(){var C=$APP.le(b);return lv.j?lv.j(d,C):lv.call(null,d,C)}(),f=oe(b),g=$APP.un.j(2,f),k=rv(a,$APP.un.j(2,$APP.Jd(f))),l=$APP.vg($APP.ge(f))?null:new $APP.N(null,2,5,$APP.O,[!0,function(){var C=$APP.pe(f);return lv.j?lv.j(a,C):lv.call(null,a,C)}()],null),h=$APP.D.v(l,0,null),r=$APP.D.v(l,1,null),q=$APP.Bu.j(g,k),w=function(){for(var C=$APP.x(q),G=
$APP.$f;;)if(C){var M=C,R=$APP.x(M),W=$APP.y(R),Z=$APP.z(R),ea=W,ia=$APP.y(Z),ka=$APP.z(Z),Y=ia,E=ka;if($APP.Le(ea)){var B=E;G=$APP.cf.v(function(ca,H,I,aa,da,fa,pa,sa,ta,ua,Aa,Fa,za,va,Ma,ab,kb,Ob,bc,tc,Kc){return function(Od,pc){return Kc(Od,pc,ua)}}(C,G,M,R,W,Z,ea,ia,ka,Y,E,d,e,f,g,k,l,h,r,q,c),G,ea);C=B}else C=E,G=c(G,ea,Y)}else return G}();return $APP.p(h)?zq(function(C,G,M){C=S(e,G,M);C=$APP.Re.v(w,C,Xv);return $APP.zf(Xv,C)?S(r,G,M):S(C,G,M)},null):zq(function(C,G,M){C=S(e,G,M);var R=$APP.Re.v(w,
C,Xv);if($APP.zf(Xv,R))throw Error(["No matching clause: ",$APP.t.o(C)].join(""));return S(R,G,M)},null)};
bw=function(a,b){var c=gv(a),d=$APP.z(b);a=ds($APP.we(b),!0);b=function(){for(var q=d,w=$APP.ih,C=$APP.ih,G=null;;)if(q){var M=$APP.y(q);q=$APP.z(q);if($APP.Le(M)&&$APP.A.j($APP.fl,$APP.y(M)))C=$APP.tf.j(C,M);else{if($APP.wb(q)&&$APP.Le(M)&&$APP.A.j($APP.Qk,$APP.y(M)))return new $APP.N(null,3,5,$APP.O,[w,C,M],null);w=$APP.tf.j(w,M)}}else return new $APP.N(null,3,5,$APP.O,[w,C,G],null)}();var e=$APP.D.v(b,0,null),f=$APP.D.v(b,1,null),g=$APP.D.v(b,2,null),k=function(){var q=$APP.wf($APP.Sk,e);return lv.j?
lv.j(c,q):lv.call(null,c,q)}(),l=$APP.nr.j(function(q){q=$APP.x(q);$APP.y(q);var w=$APP.z(q);q=$APP.y(w);w=$APP.z(w);var C=$APP.y(w),G=$APP.z(w);w=$APP.A.j(Zv,q)?Error:$APP.A.j($v,q)?Object:$APP.A.j($APP.Sn,q)?$APP.Sn:lv.j?lv.j(c,q):lv.call(null,c,q);if($APP.p(w)){var M=$APP.Ao.C(),R=wv.o(c);R=xv(c,R,M);var W=$APP.Tr($APP.im.v(c,new $APP.N(null,1,5,$APP.O,[Ir],null),function(ea){return $APP.Ni.v($APP.nm.j(ea,C),C,M)}),new $APP.N(null,2,5,$APP.O,[vv,M],null),R),Z=function(){var ea=$APP.wf($APP.Sk,
G);return lv.j?lv.j(W,ea):lv.call(null,W,ea)}();return new $APP.n(null,4,[$APP.Ht,w,It,R,$APP.$r,Z,$APP.aw,q],null)}return hv(["Unable to resolve classname: ",$APP.t.o(q)].join(""),q)},f),h=function(){var q=$APP.A.j(1,$APP.ge(l))?$APP.D.j(l,0):null;q=$APP.aw.o(q);var w=$APP.A.j(Zv,q);return w?(q=null==q?null:$APP.we(q),null==q?null:jk.o(q)):w}(),r=$APP.p(g)?function(){var q=$APP.wf($APP.Sk,$APP.Jd(g));return lv.j?lv.j(c,q):lv.call(null,c,q)}():null;return zq(function(q,w,C){return Kt(w,C,k,l,r,h)},
a)};cw=function(a,b){$APP.D.v(b,0,null);var c=$APP.D.v(b,1,null);$APP.A.j(2,$APP.ge(b))||hv("Too many arguments to throw",b);a=gv(a);var d=lv.j?lv.j(a,c):lv.call(null,a,c);b=$APP.Ni.A($APP.we(b),$APP.$q,$APP.u($APP.Vr),$APP.F([$APP.wm,$APP.u(Dr),cs,!0]));return zq(function(e,f,g){return Hr(f,0,S(d,f,g),e)},b)};
iw=function(a,b){var c=$APP.x(b);$APP.y(c);var d=$APP.z(c);c=$APP.y(d);var e=$APP.z(d);d=$APP.y(e);e=$APP.z(e);var f=gv(a);a=$APP.Le(d)?d:$APP.wf(d,e);a=$APP.x(a);var g=$APP.y(a);a=$APP.z(a);var k=lv.j?lv.j(f,c):lv.call(null,f,c),l=$APP.Yi(g),h=a?rv(f,a):null;return function(){var r=0==l.lastIndexOf("-",0),q=r?$APP.lj.j(l,1):l,w=$APP.Ni.A($APP.we(b),$APP.$q,$APP.u($APP.Vr),$APP.F([$APP.wm,$APP.u(Dr)])),C=function(){var M=dw;return $APP.p(M)?M:(M=g===ew)?M:Mt.o(ss.o($APP.u(Lr.o(f))))}(),G=$APP.cv.o(h);
return $APP.ve(function(){var M=new $APP.N(null,2,5,$APP.O,[Ne(C),Ne(r)],null);if($APP.A.j(new $APP.N(null,2,5,$APP.O,[!0,!0],null),M))return zq(function(R,W,Z){return S(k,W,Z)[q]},w);if($APP.A.j(new $APP.N(null,2,5,$APP.O,[!0,!1],null),M))return zq(function(R,W,Z){R=S(k,W,Z);return os(W,Z,R,q,G)},w);$APP.fw.A($APP.F([$APP.Sn,new $APP.N(null,2,5,$APP.O,[C,r],null)]));return zq(function(R,W,Z){return Ot(W,Z,k,q,r,G,C)},w)}(),new $APP.n(null,2,[gw,k,hw,l],null))}()};
mw=function(a,b){var c=$APP.x(b);$APP.y(c);c=$APP.z(c);var d=$APP.y(c);c=$APP.z(c);var e=gv(a);if(d instanceof $APP.v){a=function(){var h=Ns(e,d);if($APP.p(h)){var r=$APP.jw.o(h);h=$APP.p(r)?r:$APP.Ht.o(h)}else h=null;h=$APP.p(h)?h:null;return $APP.p(h)?h:ev(e,d,!1,null)}();if($APP.p(a)){var f=a;a=rv(e,c);var g=js(f),k=g?f:null;c=g?$APP.u(k):f instanceof $APP.v?f:null;c=$APP.p(c)?kw.o($APP.we(c)):null;if($APP.p(c))return g=$APP.Ni.A($APP.we(b),$APP.$q,$APP.u($APP.Vr),$APP.F([$APP.wm,$APP.u(Dr)])),
lw.qa?lw.qa(e,b,c,a,g,null):lw.call(null,e,b,c,a,g,null);if(g){var l=$APP.cv.o(a);return zq(function(h,r,q){return qs(r,q,$APP.u(k),l)},null)}if(f instanceof $APP.yq)return l=$APP.cv.o(a),zq(function(h,r,q){return qs(r,q,S(f,r,q),l)},null);l=$APP.cv.o(a);return zq(function(h,r,q){return qs(r,q,f,l)},null)}g=Dt(e,d);return $APP.p(g)?(a=rv(e,c),c=kw.o($APP.we(g)),g=$APP.Ni.A($APP.we(b),$APP.$q,$APP.u($APP.Vr),$APP.F([$APP.wm,$APP.u(Dr)])),lw.qa?lw.qa(e,b,c,a,g,null):lw.call(null,e,b,c,a,g,null)):hv(["Unable to resolve classname: ",
$APP.t.o(d)].join(""),d)}f=lv.j?lv.j(e,d):lv.call(null,e,d);a=rv(e,c);l=$APP.cv.o(a);return zq(function(h,r,q){return qs(r,q,S(f,r,q),l)},null)};nw=function(a,b,c){b=$APP.Ni.A($APP.we(b),$APP.wm,$APP.u(Dr),$APP.F([$APP.$q,$APP.u($APP.Vr)]));return zq(function(d,e){try{return $APP.wg.v(a,e,c)}catch(f){if(f instanceof Error)return Hr(e,0,f,d);throw f;}},b)};
sw=function(a,b){var c=$APP.x(b),d=$APP.y(c),e=$APP.z(c),f=$APP.y(e),g=$APP.z(e);if(!(f instanceof $APP.v))throw Error(["Namespace name must be symbol, got: ",$APP.Uj.A($APP.F([f]))].join(""));var k=function(){var I=$APP.y(g);return"string"===typeof I?new $APP.N(null,2,5,$APP.O,[I,$APP.z(g)],null):new $APP.N(null,2,5,$APP.O,[null,g],null)}(),l=$APP.D.v(k,0,null),h=$APP.D.v(k,1,null),r=function(){var I=$APP.y(h);return $APP.Ee(I)?new $APP.N(null,2,5,$APP.O,[I,$APP.z(h)],null):new $APP.N(null,2,5,$APP.O,
[null,h],null)}(),q=$APP.D.v(r,0,null),w=$APP.D.v(r,1,null),C=$APP.p(l)?$APP.Ni.v(q,$APP.X,l):q;Wr(a,f,C);for(var G=w,M=$APP.ih;;)if($APP.p(G)){var R=$APP.y(G),W=$APP.x(R),Z=$APP.y(W),ea=$APP.z(W),ia=Z,ka=ea,Y=R,E=ia,B=E instanceof $APP.K?E.ia:null;switch(B){case "require":case "use":case "import":case "refer-clojure":var ca=$APP.z(G),H=$APP.tf.j(M,nw(function(){var I=ia,aa=I instanceof $APP.K?I.ia:null;switch(aa){case "require":return ow;case "use":return pw;case "import":return qw;case "refer-clojure":return function(){return function(){function da(pa,
sa){var ta=null;if(1<arguments.length){ta=0;for(var ua=Array(arguments.length-1);ta<ua.length;)ua[ta]=arguments[ta+1],++ta;ta=new $APP.Fd(ua,0,null)}return fa.call(this,pa,ta)}function fa(pa,sa){return $APP.wg.J(rw,pa,Os,sa)}da.B=1;da.F=function(pa){var sa=$APP.y(pa);pa=$APP.Jd(pa);return fa(sa,pa)};da.A=fa;return da}()}(G,M,I,aa,E,B,R,W,Z,ea,ia,ka,Y,k,l,h,r,q,w,C,b,c,d,e,d,f,g,f,g,b);default:throw Error(["No matching clause: ",$APP.t.o(aa)].join(""));}}(),Y,ka));G=ca;M=H;continue;case "gen-class":ca=
$APP.z(G);H=M;G=ca;M=H;continue;default:throw Error(["No matching clause: ",$APP.t.o(B)].join(""));}}else return yv(a,b,$APP.tf.j(M,zq(function(I,aa,da,fa,pa,sa,ta,ua,Aa,Fa,za,va,Ma,ab,kb,Ob,bc){return function(tc,Kc){ku(Lr.o(Kc),bc);return null}}(G,M,k,l,h,r,q,w,C,b,c,d,e,d,f,g,f,g,b),null)))};
ww=function(a,b){$APP.D.v(b,0,null);var c=$APP.D.v(b,1,null),d=$APP.D.v(b,2,null);if(c instanceof $APP.v){var e=ev(a,c,!1,null),f=lv.j?lv.j(a,d):lv.call(null,a,d);if(js(e))return zq(function(r,q,w){r=S(f,q,w);return rq(e,r)},null);if($APP.p(tw.o($APP.we(e)))){var g=ev(a,uw,!1,null),k=$APP.Re.j(vw.o(a),c);return zq(function(r,q,w){r=S(f,q,w);q=S(g,q,w);return k.j?k.j(q,r):k.call(null,q,r)},null)}return hv("Invalid assignment target",b)}if($APP.Le(c)){e=lv.j?lv.j(a,c):lv.call(null,a,c);f=lv.j?lv.j(a,
d):lv.call(null,a,d);a=$APP.we(e);var l=$APP.lj.j(hw.o(a),1),h=gw.o(a);return zq(function(r,q,w){r=S(h,q,w);q=S(f,q,w);r[l]=q},null)}return hv("Invalid assignment target",b)};
xw=function(a,b,c){switch($APP.ge(b)){case 0:return zq(function(Y,E,B){try{var ca=B[a];return ca.C?ca.C():ca.call(null)}catch(H){if(H instanceof Error)return Hr(E,0,H,Y);throw H;}},c);case 1:var d=$APP.D.j(b,0);return zq(function(Y,E,B){try{var ca=S(d,E,B),H=B[a];return H.o?H.o(ca):H.call(null,ca)}catch(I){if(I instanceof Error)return Hr(E,0,I,Y);throw I;}},c);case 2:d=$APP.D.j(b,0);var e=$APP.D.j(b,1);return zq(function(Y,E,B){try{var ca=S(d,E,B),H=S(e,E,B),I=B[a];return I.j?I.j(ca,H):I.call(null,
ca,H)}catch(aa){if(aa instanceof Error)return Hr(E,0,aa,Y);throw aa;}},c);case 3:d=$APP.D.j(b,0);e=$APP.D.j(b,1);var f=$APP.D.j(b,2);return zq(function(Y,E,B){try{var ca=S(d,E,B),H=S(e,E,B),I=S(f,E,B),aa=B[a];return aa.v?aa.v(ca,H,I):aa.call(null,ca,H,I)}catch(da){if(da instanceof Error)return Hr(E,0,da,Y);throw da;}},c);case 4:d=$APP.D.j(b,0);e=$APP.D.j(b,1);f=$APP.D.j(b,2);var g=$APP.D.j(b,3);return zq(function(Y,E,B){try{var ca=S(d,E,B),H=S(e,E,B),I=S(f,E,B),aa=S(g,E,B),da=B[a];return da.J?da.J(ca,
H,I,aa):da.call(null,ca,H,I,aa)}catch(fa){if(fa instanceof Error)return Hr(E,0,fa,Y);throw fa;}},c);case 5:d=$APP.D.j(b,0);e=$APP.D.j(b,1);f=$APP.D.j(b,2);g=$APP.D.j(b,3);var k=$APP.D.j(b,4);return zq(function(Y,E,B){try{var ca=S(d,E,B),H=S(e,E,B),I=S(f,E,B),aa=S(g,E,B),da=S(k,E,B),fa=B[a];return fa.S?fa.S(ca,H,I,aa,da):fa.call(null,ca,H,I,aa,da)}catch(pa){if(pa instanceof Error)return Hr(E,0,pa,Y);throw pa;}},c);case 6:d=$APP.D.j(b,0);e=$APP.D.j(b,1);f=$APP.D.j(b,2);g=$APP.D.j(b,3);k=$APP.D.j(b,
4);var l=$APP.D.j(b,5);return zq(function(Y,E,B){try{var ca=S(d,E,B),H=S(e,E,B),I=S(f,E,B),aa=S(g,E,B),da=S(k,E,B),fa=S(l,E,B),pa=B[a];return pa.qa?pa.qa(ca,H,I,aa,da,fa):pa.call(null,ca,H,I,aa,da,fa)}catch(sa){if(sa instanceof Error)return Hr(E,0,sa,Y);throw sa;}},c);case 7:d=$APP.D.j(b,0);e=$APP.D.j(b,1);f=$APP.D.j(b,2);g=$APP.D.j(b,3);k=$APP.D.j(b,4);l=$APP.D.j(b,5);var h=$APP.D.j(b,6);return zq(function(Y,E,B){try{var ca=S(d,E,B),H=S(e,E,B),I=S(f,E,B),aa=S(g,E,B),da=S(k,E,B),fa=S(l,E,B),pa=S(h,
E,B),sa=B[a];return sa.Na?sa.Na(ca,H,I,aa,da,fa,pa):sa.call(null,ca,H,I,aa,da,fa,pa)}catch(ta){if(ta instanceof Error)return Hr(E,0,ta,Y);throw ta;}},c);case 8:d=$APP.D.j(b,0);e=$APP.D.j(b,1);f=$APP.D.j(b,2);g=$APP.D.j(b,3);k=$APP.D.j(b,4);l=$APP.D.j(b,5);h=$APP.D.j(b,6);var r=$APP.D.j(b,7);return zq(function(Y,E,B){try{var ca=S(d,E,B),H=S(e,E,B),I=S(f,E,B),aa=S(g,E,B),da=S(k,E,B),fa=S(l,E,B),pa=S(h,E,B),sa=S(r,E,B),ta=B[a];return ta.za?ta.za(ca,H,I,aa,da,fa,pa,sa):ta.call(null,ca,H,I,aa,da,fa,pa,
sa)}catch(ua){if(ua instanceof Error)return Hr(E,0,ua,Y);throw ua;}},c);case 9:d=$APP.D.j(b,0);e=$APP.D.j(b,1);f=$APP.D.j(b,2);g=$APP.D.j(b,3);k=$APP.D.j(b,4);l=$APP.D.j(b,5);h=$APP.D.j(b,6);r=$APP.D.j(b,7);var q=$APP.D.j(b,8);return zq(function(Y,E,B){try{var ca=S(d,E,B),H=S(e,E,B),I=S(f,E,B),aa=S(g,E,B),da=S(k,E,B),fa=S(l,E,B),pa=S(h,E,B),sa=S(r,E,B),ta=S(q,E,B),ua=B[a];return ua.Oa?ua.Oa(ca,H,I,aa,da,fa,pa,sa,ta):ua.call(null,ca,H,I,aa,da,fa,pa,sa,ta)}catch(Aa){if(Aa instanceof Error)return Hr(E,
0,Aa,Y);throw Aa;}},c);case 10:d=$APP.D.j(b,0);e=$APP.D.j(b,1);f=$APP.D.j(b,2);g=$APP.D.j(b,3);k=$APP.D.j(b,4);l=$APP.D.j(b,5);h=$APP.D.j(b,6);r=$APP.D.j(b,7);q=$APP.D.j(b,8);var w=$APP.D.j(b,9);return zq(function(Y,E,B){try{var ca=S(d,E,B),H=S(e,E,B),I=S(f,E,B),aa=S(g,E,B),da=S(k,E,B),fa=S(l,E,B),pa=S(h,E,B),sa=S(r,E,B),ta=S(q,E,B),ua=S(w,E,B),Aa=B[a];return Aa.Da?Aa.Da(ca,H,I,aa,da,fa,pa,sa,ta,ua):Aa.call(null,ca,H,I,aa,da,fa,pa,sa,ta,ua)}catch(Fa){if(Fa instanceof Error)return Hr(E,0,Fa,Y);throw Fa;
}},c);case 11:d=$APP.D.j(b,0);e=$APP.D.j(b,1);f=$APP.D.j(b,2);g=$APP.D.j(b,3);k=$APP.D.j(b,4);l=$APP.D.j(b,5);h=$APP.D.j(b,6);r=$APP.D.j(b,7);q=$APP.D.j(b,8);w=$APP.D.j(b,9);var C=$APP.D.j(b,10);return zq(function(Y,E,B){try{var ca=S(d,E,B),H=S(e,E,B),I=S(f,E,B),aa=S(g,E,B),da=S(k,E,B),fa=S(l,E,B),pa=S(h,E,B),sa=S(r,E,B),ta=S(q,E,B),ua=S(w,E,B),Aa=S(C,E,B),Fa=B[a];return Fa.Ea?Fa.Ea(ca,H,I,aa,da,fa,pa,sa,ta,ua,Aa):Fa.call(null,ca,H,I,aa,da,fa,pa,sa,ta,ua,Aa)}catch(za){if(za instanceof Error)return Hr(E,
0,za,Y);throw za;}},c);case 12:d=$APP.D.j(b,0);e=$APP.D.j(b,1);f=$APP.D.j(b,2);g=$APP.D.j(b,3);k=$APP.D.j(b,4);l=$APP.D.j(b,5);h=$APP.D.j(b,6);r=$APP.D.j(b,7);q=$APP.D.j(b,8);w=$APP.D.j(b,9);C=$APP.D.j(b,10);var G=$APP.D.j(b,11);return zq(function(Y,E,B){try{var ca=S(d,E,B),H=S(e,E,B),I=S(f,E,B),aa=S(g,E,B),da=S(k,E,B),fa=S(l,E,B),pa=S(h,E,B),sa=S(r,E,B),ta=S(q,E,B),ua=S(w,E,B),Aa=S(C,E,B),Fa=S(G,E,B),za=B[a];return za.Fa?za.Fa(ca,H,I,aa,da,fa,pa,sa,ta,ua,Aa,Fa):za.call(null,ca,H,I,aa,da,fa,pa,sa,
ta,ua,Aa,Fa)}catch(va){if(va instanceof Error)return Hr(E,0,va,Y);throw va;}},c);case 13:d=$APP.D.j(b,0);e=$APP.D.j(b,1);f=$APP.D.j(b,2);g=$APP.D.j(b,3);k=$APP.D.j(b,4);l=$APP.D.j(b,5);h=$APP.D.j(b,6);r=$APP.D.j(b,7);q=$APP.D.j(b,8);w=$APP.D.j(b,9);C=$APP.D.j(b,10);G=$APP.D.j(b,11);var M=$APP.D.j(b,12);return zq(function(Y,E,B){try{var ca=S(d,E,B),H=S(e,E,B),I=S(f,E,B),aa=S(g,E,B),da=S(k,E,B),fa=S(l,E,B),pa=S(h,E,B),sa=S(r,E,B),ta=S(q,E,B),ua=S(w,E,B),Aa=S(C,E,B),Fa=S(G,E,B),za=S(M,E,B),va=B[a];return va.Ga?
va.Ga(ca,H,I,aa,da,fa,pa,sa,ta,ua,Aa,Fa,za):va.call(null,ca,H,I,aa,da,fa,pa,sa,ta,ua,Aa,Fa,za)}catch(Ma){if(Ma instanceof Error)return Hr(E,0,Ma,Y);throw Ma;}},c);case 14:d=$APP.D.j(b,0);e=$APP.D.j(b,1);f=$APP.D.j(b,2);g=$APP.D.j(b,3);k=$APP.D.j(b,4);l=$APP.D.j(b,5);h=$APP.D.j(b,6);r=$APP.D.j(b,7);q=$APP.D.j(b,8);w=$APP.D.j(b,9);C=$APP.D.j(b,10);G=$APP.D.j(b,11);M=$APP.D.j(b,12);var R=$APP.D.j(b,13);return zq(function(Y,E,B){try{var ca=S(d,E,B),H=S(e,E,B),I=S(f,E,B),aa=S(g,E,B),da=S(k,E,B),fa=S(l,
E,B),pa=S(h,E,B),sa=S(r,E,B),ta=S(q,E,B),ua=S(w,E,B),Aa=S(C,E,B),Fa=S(G,E,B),za=S(M,E,B),va=S(R,E,B),Ma=B[a];return Ma.Ha?Ma.Ha(ca,H,I,aa,da,fa,pa,sa,ta,ua,Aa,Fa,za,va):Ma.call(null,ca,H,I,aa,da,fa,pa,sa,ta,ua,Aa,Fa,za,va)}catch(ab){if(ab instanceof Error)return Hr(E,0,ab,Y);throw ab;}},c);case 15:d=$APP.D.j(b,0);e=$APP.D.j(b,1);f=$APP.D.j(b,2);g=$APP.D.j(b,3);k=$APP.D.j(b,4);l=$APP.D.j(b,5);h=$APP.D.j(b,6);r=$APP.D.j(b,7);q=$APP.D.j(b,8);w=$APP.D.j(b,9);C=$APP.D.j(b,10);G=$APP.D.j(b,11);M=$APP.D.j(b,
12);R=$APP.D.j(b,13);var W=$APP.D.j(b,14);return zq(function(Y,E,B){try{var ca=S(d,E,B),H=S(e,E,B),I=S(f,E,B),aa=S(g,E,B),da=S(k,E,B),fa=S(l,E,B),pa=S(h,E,B),sa=S(r,E,B),ta=S(q,E,B),ua=S(w,E,B),Aa=S(C,E,B),Fa=S(G,E,B),za=S(M,E,B),va=S(R,E,B),Ma=S(W,E,B),ab=B[a];return ab.Ia?ab.Ia(ca,H,I,aa,da,fa,pa,sa,ta,ua,Aa,Fa,za,va,Ma):ab.call(null,ca,H,I,aa,da,fa,pa,sa,ta,ua,Aa,Fa,za,va,Ma)}catch(kb){if(kb instanceof Error)return Hr(E,0,kb,Y);throw kb;}},c);case 16:d=$APP.D.j(b,0);e=$APP.D.j(b,1);f=$APP.D.j(b,
2);g=$APP.D.j(b,3);k=$APP.D.j(b,4);l=$APP.D.j(b,5);h=$APP.D.j(b,6);r=$APP.D.j(b,7);q=$APP.D.j(b,8);w=$APP.D.j(b,9);C=$APP.D.j(b,10);G=$APP.D.j(b,11);M=$APP.D.j(b,12);R=$APP.D.j(b,13);W=$APP.D.j(b,14);var Z=$APP.D.j(b,15);return zq(function(Y,E,B){try{var ca=S(d,E,B),H=S(e,E,B),I=S(f,E,B),aa=S(g,E,B),da=S(k,E,B),fa=S(l,E,B),pa=S(h,E,B),sa=S(r,E,B),ta=S(q,E,B),ua=S(w,E,B),Aa=S(C,E,B),Fa=S(G,E,B),za=S(M,E,B),va=S(R,E,B),Ma=S(W,E,B),ab=S(Z,E,B),kb=B[a];return kb.Ja?kb.Ja(ca,H,I,aa,da,fa,pa,sa,ta,ua,Aa,
Fa,za,va,Ma,ab):kb.call(null,ca,H,I,aa,da,fa,pa,sa,ta,ua,Aa,Fa,za,va,Ma,ab)}catch(Ob){if(Ob instanceof Error)return Hr(E,0,Ob,Y);throw Ob;}},c);case 17:d=$APP.D.j(b,0);e=$APP.D.j(b,1);f=$APP.D.j(b,2);g=$APP.D.j(b,3);k=$APP.D.j(b,4);l=$APP.D.j(b,5);h=$APP.D.j(b,6);r=$APP.D.j(b,7);q=$APP.D.j(b,8);w=$APP.D.j(b,9);C=$APP.D.j(b,10);G=$APP.D.j(b,11);M=$APP.D.j(b,12);R=$APP.D.j(b,13);W=$APP.D.j(b,14);Z=$APP.D.j(b,15);var ea=$APP.D.j(b,16);return zq(function(Y,E,B){try{var ca=S(d,E,B),H=S(e,E,B),I=S(f,E,
B),aa=S(g,E,B),da=S(k,E,B),fa=S(l,E,B),pa=S(h,E,B),sa=S(r,E,B),ta=S(q,E,B),ua=S(w,E,B),Aa=S(C,E,B),Fa=S(G,E,B),za=S(M,E,B),va=S(R,E,B),Ma=S(W,E,B),ab=S(Z,E,B),kb=S(ea,E,B),Ob=B[a];return Ob.Ka?Ob.Ka(ca,H,I,aa,da,fa,pa,sa,ta,ua,Aa,Fa,za,va,Ma,ab,kb):Ob.call(null,ca,H,I,aa,da,fa,pa,sa,ta,ua,Aa,Fa,za,va,Ma,ab,kb)}catch(bc){if(bc instanceof Error)return Hr(E,0,bc,Y);throw bc;}},c);case 18:d=$APP.D.j(b,0);e=$APP.D.j(b,1);f=$APP.D.j(b,2);g=$APP.D.j(b,3);k=$APP.D.j(b,4);l=$APP.D.j(b,5);h=$APP.D.j(b,6);r=
$APP.D.j(b,7);q=$APP.D.j(b,8);w=$APP.D.j(b,9);C=$APP.D.j(b,10);G=$APP.D.j(b,11);M=$APP.D.j(b,12);R=$APP.D.j(b,13);W=$APP.D.j(b,14);Z=$APP.D.j(b,15);ea=$APP.D.j(b,16);var ia=$APP.D.j(b,17);return zq(function(Y,E,B){try{var ca=S(d,E,B),H=S(e,E,B),I=S(f,E,B),aa=S(g,E,B),da=S(k,E,B),fa=S(l,E,B),pa=S(h,E,B),sa=S(r,E,B),ta=S(q,E,B),ua=S(w,E,B),Aa=S(C,E,B),Fa=S(G,E,B),za=S(M,E,B),va=S(R,E,B),Ma=S(W,E,B),ab=S(Z,E,B),kb=S(ea,E,B),Ob=S(ia,E,B),bc=B[a];return bc.La?bc.La(ca,H,I,aa,da,fa,pa,sa,ta,ua,Aa,Fa,za,
va,Ma,ab,kb,Ob):bc.call(null,ca,H,I,aa,da,fa,pa,sa,ta,ua,Aa,Fa,za,va,Ma,ab,kb,Ob)}catch(tc){if(tc instanceof Error)return Hr(E,0,tc,Y);throw tc;}},c);case 19:d=$APP.D.j(b,0);e=$APP.D.j(b,1);f=$APP.D.j(b,2);g=$APP.D.j(b,3);k=$APP.D.j(b,4);l=$APP.D.j(b,5);h=$APP.D.j(b,6);r=$APP.D.j(b,7);q=$APP.D.j(b,8);w=$APP.D.j(b,9);C=$APP.D.j(b,10);G=$APP.D.j(b,11);M=$APP.D.j(b,12);R=$APP.D.j(b,13);W=$APP.D.j(b,14);Z=$APP.D.j(b,15);ea=$APP.D.j(b,16);ia=$APP.D.j(b,17);var ka=$APP.D.j(b,18);return zq(function(Y,E,
B){try{var ca=S(d,E,B),H=S(e,E,B),I=S(f,E,B),aa=S(g,E,B),da=S(k,E,B),fa=S(l,E,B),pa=S(h,E,B),sa=S(r,E,B),ta=S(q,E,B),ua=S(w,E,B),Aa=S(C,E,B),Fa=S(G,E,B),za=S(M,E,B),va=S(R,E,B),Ma=S(W,E,B),ab=S(Z,E,B),kb=S(ea,E,B),Ob=S(ia,E,B),bc=S(ka,E,B),tc=B[a];return tc.Ma?tc.Ma(ca,H,I,aa,da,fa,pa,sa,ta,ua,Aa,Fa,za,va,Ma,ab,kb,Ob,bc):tc.call(null,ca,H,I,aa,da,fa,pa,sa,ta,ua,Aa,Fa,za,va,Ma,ab,kb,Ob,bc)}catch(Kc){if(Kc instanceof Error)return Hr(E,0,Kc,Y);throw Kc;}},c);default:return function(Y,E){return Pt(Y,
E,E[a],b)}}};
yw=function(a,b,c){a=$APP.Ni.A($APP.we(a),$APP.wm,$APP.u(Dr),$APP.F([$APP.$q,$APP.u($APP.Vr)]));switch($APP.ge(c)){case 0:return zq(function(Y,E){return b.o?b.o(E):b.call(null,E)},a);case 1:var d=$APP.D.j(c,0);return zq(function(Y,E,B){Y=S(d,E,B);return b.j?b.j(E,Y):b.call(null,E,Y)},a);case 2:d=$APP.D.j(c,0);var e=$APP.D.j(c,1);return zq(function(Y,E,B){Y=S(d,E,B);B=S(e,E,B);return b.v?b.v(E,Y,B):b.call(null,E,Y,B)},a);case 3:d=$APP.D.j(c,0);e=$APP.D.j(c,1);var f=$APP.D.j(c,2);return zq(function(Y,E,
B){Y=S(d,E,B);var ca=S(e,E,B);B=S(f,E,B);return b.J?b.J(E,Y,ca,B):b.call(null,E,Y,ca,B)},a);case 4:d=$APP.D.j(c,0);e=$APP.D.j(c,1);f=$APP.D.j(c,2);var g=$APP.D.j(c,3);return zq(function(Y,E,B){Y=S(d,E,B);var ca=S(e,E,B),H=S(f,E,B);B=S(g,E,B);return b.S?b.S(E,Y,ca,H,B):b.call(null,E,Y,ca,H,B)},a);case 5:d=$APP.D.j(c,0);e=$APP.D.j(c,1);f=$APP.D.j(c,2);g=$APP.D.j(c,3);var k=$APP.D.j(c,4);return zq(function(Y,E,B){Y=S(d,E,B);var ca=S(e,E,B),H=S(f,E,B),I=S(g,E,B);B=S(k,E,B);return b.qa?b.qa(E,Y,ca,H,I,
B):b.call(null,E,Y,ca,H,I,B)},a);case 6:d=$APP.D.j(c,0);e=$APP.D.j(c,1);f=$APP.D.j(c,2);g=$APP.D.j(c,3);k=$APP.D.j(c,4);var l=$APP.D.j(c,5);return zq(function(Y,E,B){Y=S(d,E,B);var ca=S(e,E,B),H=S(f,E,B),I=S(g,E,B),aa=S(k,E,B);B=S(l,E,B);return b.Na?b.Na(E,Y,ca,H,I,aa,B):b.call(null,E,Y,ca,H,I,aa,B)},a);case 7:d=$APP.D.j(c,0);e=$APP.D.j(c,1);f=$APP.D.j(c,2);g=$APP.D.j(c,3);k=$APP.D.j(c,4);l=$APP.D.j(c,5);var h=$APP.D.j(c,6);return zq(function(Y,E,B){Y=S(d,E,B);var ca=S(e,E,B),H=S(f,E,B),I=S(g,E,B),
aa=S(k,E,B),da=S(l,E,B);B=S(h,E,B);return b.za?b.za(E,Y,ca,H,I,aa,da,B):b.call(null,E,Y,ca,H,I,aa,da,B)},a);case 8:d=$APP.D.j(c,0);e=$APP.D.j(c,1);f=$APP.D.j(c,2);g=$APP.D.j(c,3);k=$APP.D.j(c,4);l=$APP.D.j(c,5);h=$APP.D.j(c,6);var r=$APP.D.j(c,7);return zq(function(Y,E,B){Y=S(d,E,B);var ca=S(e,E,B),H=S(f,E,B),I=S(g,E,B),aa=S(k,E,B),da=S(l,E,B),fa=S(h,E,B);B=S(r,E,B);return b.Oa?b.Oa(E,Y,ca,H,I,aa,da,fa,B):b.call(null,E,Y,ca,H,I,aa,da,fa,B)},a);case 9:d=$APP.D.j(c,0);e=$APP.D.j(c,1);f=$APP.D.j(c,2);
g=$APP.D.j(c,3);k=$APP.D.j(c,4);l=$APP.D.j(c,5);h=$APP.D.j(c,6);r=$APP.D.j(c,7);var q=$APP.D.j(c,8);return zq(function(Y,E,B){Y=S(d,E,B);var ca=S(e,E,B),H=S(f,E,B),I=S(g,E,B),aa=S(k,E,B),da=S(l,E,B),fa=S(h,E,B),pa=S(r,E,B);B=S(q,E,B);return b.Da?b.Da(E,Y,ca,H,I,aa,da,fa,pa,B):b.call(null,E,Y,ca,H,I,aa,da,fa,pa,B)},a);case 10:d=$APP.D.j(c,0);e=$APP.D.j(c,1);f=$APP.D.j(c,2);g=$APP.D.j(c,3);k=$APP.D.j(c,4);l=$APP.D.j(c,5);h=$APP.D.j(c,6);r=$APP.D.j(c,7);q=$APP.D.j(c,8);var w=$APP.D.j(c,9);return zq(function(Y,
E,B){Y=S(d,E,B);var ca=S(e,E,B),H=S(f,E,B),I=S(g,E,B),aa=S(k,E,B),da=S(l,E,B),fa=S(h,E,B),pa=S(r,E,B),sa=S(q,E,B);B=S(w,E,B);return b.Ea?b.Ea(E,Y,ca,H,I,aa,da,fa,pa,sa,B):b.call(null,E,Y,ca,H,I,aa,da,fa,pa,sa,B)},a);case 11:d=$APP.D.j(c,0);e=$APP.D.j(c,1);f=$APP.D.j(c,2);g=$APP.D.j(c,3);k=$APP.D.j(c,4);l=$APP.D.j(c,5);h=$APP.D.j(c,6);r=$APP.D.j(c,7);q=$APP.D.j(c,8);w=$APP.D.j(c,9);var C=$APP.D.j(c,10);return zq(function(Y,E,B){Y=S(d,E,B);var ca=S(e,E,B),H=S(f,E,B),I=S(g,E,B),aa=S(k,E,B),da=S(l,E,
B),fa=S(h,E,B),pa=S(r,E,B),sa=S(q,E,B),ta=S(w,E,B);B=S(C,E,B);return b.Fa?b.Fa(E,Y,ca,H,I,aa,da,fa,pa,sa,ta,B):b.call(null,E,Y,ca,H,I,aa,da,fa,pa,sa,ta,B)},a);case 12:d=$APP.D.j(c,0);e=$APP.D.j(c,1);f=$APP.D.j(c,2);g=$APP.D.j(c,3);k=$APP.D.j(c,4);l=$APP.D.j(c,5);h=$APP.D.j(c,6);r=$APP.D.j(c,7);q=$APP.D.j(c,8);w=$APP.D.j(c,9);C=$APP.D.j(c,10);var G=$APP.D.j(c,11);return zq(function(Y,E,B){Y=S(d,E,B);var ca=S(e,E,B),H=S(f,E,B),I=S(g,E,B),aa=S(k,E,B),da=S(l,E,B),fa=S(h,E,B),pa=S(r,E,B),sa=S(q,E,B),ta=
S(w,E,B),ua=S(C,E,B);B=S(G,E,B);return b.Ga?b.Ga(E,Y,ca,H,I,aa,da,fa,pa,sa,ta,ua,B):b.call(null,E,Y,ca,H,I,aa,da,fa,pa,sa,ta,ua,B)},a);case 13:d=$APP.D.j(c,0);e=$APP.D.j(c,1);f=$APP.D.j(c,2);g=$APP.D.j(c,3);k=$APP.D.j(c,4);l=$APP.D.j(c,5);h=$APP.D.j(c,6);r=$APP.D.j(c,7);q=$APP.D.j(c,8);w=$APP.D.j(c,9);C=$APP.D.j(c,10);G=$APP.D.j(c,11);var M=$APP.D.j(c,12);return zq(function(Y,E,B){Y=S(d,E,B);var ca=S(e,E,B),H=S(f,E,B),I=S(g,E,B),aa=S(k,E,B),da=S(l,E,B),fa=S(h,E,B),pa=S(r,E,B),sa=S(q,E,B),ta=S(w,E,
B),ua=S(C,E,B),Aa=S(G,E,B);B=S(M,E,B);return b.Ha?b.Ha(E,Y,ca,H,I,aa,da,fa,pa,sa,ta,ua,Aa,B):b.call(null,E,Y,ca,H,I,aa,da,fa,pa,sa,ta,ua,Aa,B)},a);case 14:d=$APP.D.j(c,0);e=$APP.D.j(c,1);f=$APP.D.j(c,2);g=$APP.D.j(c,3);k=$APP.D.j(c,4);l=$APP.D.j(c,5);h=$APP.D.j(c,6);r=$APP.D.j(c,7);q=$APP.D.j(c,8);w=$APP.D.j(c,9);C=$APP.D.j(c,10);G=$APP.D.j(c,11);M=$APP.D.j(c,12);var R=$APP.D.j(c,13);return zq(function(Y,E,B){Y=S(d,E,B);var ca=S(e,E,B),H=S(f,E,B),I=S(g,E,B),aa=S(k,E,B),da=S(l,E,B),fa=S(h,E,B),pa=
S(r,E,B),sa=S(q,E,B),ta=S(w,E,B),ua=S(C,E,B),Aa=S(G,E,B),Fa=S(M,E,B);B=S(R,E,B);return b.Ia?b.Ia(E,Y,ca,H,I,aa,da,fa,pa,sa,ta,ua,Aa,Fa,B):b.call(null,E,Y,ca,H,I,aa,da,fa,pa,sa,ta,ua,Aa,Fa,B)},a);case 15:d=$APP.D.j(c,0);e=$APP.D.j(c,1);f=$APP.D.j(c,2);g=$APP.D.j(c,3);k=$APP.D.j(c,4);l=$APP.D.j(c,5);h=$APP.D.j(c,6);r=$APP.D.j(c,7);q=$APP.D.j(c,8);w=$APP.D.j(c,9);C=$APP.D.j(c,10);G=$APP.D.j(c,11);M=$APP.D.j(c,12);R=$APP.D.j(c,13);var W=$APP.D.j(c,14);return zq(function(Y,E,B){Y=S(d,E,B);var ca=S(e,E,
B),H=S(f,E,B),I=S(g,E,B),aa=S(k,E,B),da=S(l,E,B),fa=S(h,E,B),pa=S(r,E,B),sa=S(q,E,B),ta=S(w,E,B),ua=S(C,E,B),Aa=S(G,E,B),Fa=S(M,E,B),za=S(R,E,B);B=S(W,E,B);return b.Ja?b.Ja(E,Y,ca,H,I,aa,da,fa,pa,sa,ta,ua,Aa,Fa,za,B):b.call(null,E,Y,ca,H,I,aa,da,fa,pa,sa,ta,ua,Aa,Fa,za,B)},a);case 16:d=$APP.D.j(c,0);e=$APP.D.j(c,1);f=$APP.D.j(c,2);g=$APP.D.j(c,3);k=$APP.D.j(c,4);l=$APP.D.j(c,5);h=$APP.D.j(c,6);r=$APP.D.j(c,7);q=$APP.D.j(c,8);w=$APP.D.j(c,9);C=$APP.D.j(c,10);G=$APP.D.j(c,11);M=$APP.D.j(c,12);R=$APP.D.j(c,
13);W=$APP.D.j(c,14);var Z=$APP.D.j(c,15);return zq(function(Y,E,B){Y=S(d,E,B);var ca=S(e,E,B),H=S(f,E,B),I=S(g,E,B),aa=S(k,E,B),da=S(l,E,B),fa=S(h,E,B),pa=S(r,E,B),sa=S(q,E,B),ta=S(w,E,B),ua=S(C,E,B),Aa=S(G,E,B),Fa=S(M,E,B),za=S(R,E,B),va=S(W,E,B);B=S(Z,E,B);return b.Ka?b.Ka(E,Y,ca,H,I,aa,da,fa,pa,sa,ta,ua,Aa,Fa,za,va,B):b.call(null,E,Y,ca,H,I,aa,da,fa,pa,sa,ta,ua,Aa,Fa,za,va,B)},a);case 17:d=$APP.D.j(c,0);e=$APP.D.j(c,1);f=$APP.D.j(c,2);g=$APP.D.j(c,3);k=$APP.D.j(c,4);l=$APP.D.j(c,5);h=$APP.D.j(c,
6);r=$APP.D.j(c,7);q=$APP.D.j(c,8);w=$APP.D.j(c,9);C=$APP.D.j(c,10);G=$APP.D.j(c,11);M=$APP.D.j(c,12);R=$APP.D.j(c,13);W=$APP.D.j(c,14);Z=$APP.D.j(c,15);var ea=$APP.D.j(c,16);return zq(function(Y,E,B){Y=S(d,E,B);var ca=S(e,E,B),H=S(f,E,B),I=S(g,E,B),aa=S(k,E,B),da=S(l,E,B),fa=S(h,E,B),pa=S(r,E,B),sa=S(q,E,B),ta=S(w,E,B),ua=S(C,E,B),Aa=S(G,E,B),Fa=S(M,E,B),za=S(R,E,B),va=S(W,E,B),Ma=S(Z,E,B);B=S(ea,E,B);return b.La?b.La(E,Y,ca,H,I,aa,da,fa,pa,sa,ta,ua,Aa,Fa,za,va,Ma,B):b.call(null,E,Y,ca,H,I,aa,da,
fa,pa,sa,ta,ua,Aa,Fa,za,va,Ma,B)},a);case 18:d=$APP.D.j(c,0);e=$APP.D.j(c,1);f=$APP.D.j(c,2);g=$APP.D.j(c,3);k=$APP.D.j(c,4);l=$APP.D.j(c,5);h=$APP.D.j(c,6);r=$APP.D.j(c,7);q=$APP.D.j(c,8);w=$APP.D.j(c,9);C=$APP.D.j(c,10);G=$APP.D.j(c,11);M=$APP.D.j(c,12);R=$APP.D.j(c,13);W=$APP.D.j(c,14);Z=$APP.D.j(c,15);ea=$APP.D.j(c,16);var ia=$APP.D.j(c,17);return zq(function(Y,E,B){Y=S(d,E,B);var ca=S(e,E,B),H=S(f,E,B),I=S(g,E,B),aa=S(k,E,B),da=S(l,E,B),fa=S(h,E,B),pa=S(r,E,B),sa=S(q,E,B),ta=S(w,E,B),ua=S(C,
E,B),Aa=S(G,E,B),Fa=S(M,E,B),za=S(R,E,B),va=S(W,E,B),Ma=S(Z,E,B),ab=S(ea,E,B);B=S(ia,E,B);return b.Ma?b.Ma(E,Y,ca,H,I,aa,da,fa,pa,sa,ta,ua,Aa,Fa,za,va,Ma,ab,B):b.call(null,E,Y,ca,H,I,aa,da,fa,pa,sa,ta,ua,Aa,Fa,za,va,Ma,ab,B)},a);case 19:d=$APP.D.j(c,0);e=$APP.D.j(c,1);f=$APP.D.j(c,2);g=$APP.D.j(c,3);k=$APP.D.j(c,4);l=$APP.D.j(c,5);h=$APP.D.j(c,6);r=$APP.D.j(c,7);q=$APP.D.j(c,8);w=$APP.D.j(c,9);C=$APP.D.j(c,10);G=$APP.D.j(c,11);M=$APP.D.j(c,12);R=$APP.D.j(c,13);W=$APP.D.j(c,14);Z=$APP.D.j(c,15);ea=
$APP.D.j(c,16);ia=$APP.D.j(c,17);var ka=$APP.D.j(c,18);return zq(function(Y,E,B){Y=S(d,E,B);var ca=S(e,E,B),H=S(f,E,B),I=S(g,E,B),aa=S(k,E,B),da=S(l,E,B),fa=S(h,E,B),pa=S(r,E,B),sa=S(q,E,B),ta=S(w,E,B),ua=S(C,E,B),Aa=S(G,E,B),Fa=S(M,E,B),za=S(R,E,B),va=S(W,E,B),Ma=S(Z,E,B),ab=S(ea,E,B),kb=S(ia,E,B);B=S(ka,E,B);return b.rb?b.rb(E,Y,ca,H,I,aa,da,fa,pa,sa,ta,ua,Aa,Fa,za,va,Ma,ab,kb,B):b.call(null,E,Y,ca,H,I,aa,da,fa,pa,sa,ta,ua,Aa,Fa,za,va,Ma,ab,kb,B)},a);default:return zq(function(Y,E,B){return Pt(E,
B,b,$APP.wf(E,c))},a)}};
lw=function(a,b,c,d,e,f){switch($APP.ge(d)){case 0:return $APP.p(f)?zq(function(ca,H,I){try{var aa=f.v?f.v(H,I,c):f.call(null,H,I,c);return aa.C?aa.C():aa.call(null)}catch(da){if(da instanceof Error)return Hr(H,0,da,ca);throw da;}},e):zq(function(ca,H){try{return c.C?c.C():c.call(null)}catch(I){if(I instanceof Error)return Hr(H,0,I,ca);throw I;}},e);case 1:var g=$APP.D.j(d,0);return $APP.p(f)?zq(function(ca,H,I){try{var aa=S(g,H,I),da=f.v?f.v(H,I,c):f.call(null,H,I,c);return da.o?da.o(aa):da.call(null,
aa)}catch(fa){if(fa instanceof Error)return Hr(H,0,fa,ca);throw fa;}},e):zq(function(ca,H,I){try{var aa=S(g,H,I);return c.o?c.o(aa):c.call(null,aa)}catch(da){if(da instanceof Error)return Hr(H,0,da,ca);throw da;}},e);case 2:g=$APP.D.j(d,0);var k=$APP.D.j(d,1);return $APP.p(f)?zq(function(ca,H,I){try{var aa=S(g,H,I),da=S(k,H,I),fa=f.v?f.v(H,I,c):f.call(null,H,I,c);return fa.j?fa.j(aa,da):fa.call(null,aa,da)}catch(pa){if(pa instanceof Error)return Hr(H,0,pa,ca);throw pa;}},e):zq(function(ca,H,I){try{var aa=
S(g,H,I),da=S(k,H,I);return c.j?c.j(aa,da):c.call(null,aa,da)}catch(fa){if(fa instanceof Error)return Hr(H,0,fa,ca);throw fa;}},e);case 3:g=$APP.D.j(d,0);k=$APP.D.j(d,1);var l=$APP.D.j(d,2);return $APP.p(f)?zq(function(ca,H,I){try{var aa=S(g,H,I),da=S(k,H,I),fa=S(l,H,I),pa=f.v?f.v(H,I,c):f.call(null,H,I,c);return pa.v?pa.v(aa,da,fa):pa.call(null,aa,da,fa)}catch(sa){if(sa instanceof Error)return Hr(H,0,sa,ca);throw sa;}},e):zq(function(ca,H,I){try{var aa=S(g,H,I),da=S(k,H,I),fa=S(l,H,I);return c.v?
c.v(aa,da,fa):c.call(null,aa,da,fa)}catch(pa){if(pa instanceof Error)return Hr(H,0,pa,ca);throw pa;}},e);case 4:g=$APP.D.j(d,0);k=$APP.D.j(d,1);l=$APP.D.j(d,2);var h=$APP.D.j(d,3);return $APP.p(f)?zq(function(ca,H,I){try{var aa=S(g,H,I),da=S(k,H,I),fa=S(l,H,I),pa=S(h,H,I),sa=f.v?f.v(H,I,c):f.call(null,H,I,c);return sa.J?sa.J(aa,da,fa,pa):sa.call(null,aa,da,fa,pa)}catch(ta){if(ta instanceof Error)return Hr(H,0,ta,ca);throw ta;}},e):zq(function(ca,H,I){try{var aa=S(g,H,I),da=S(k,H,I),fa=S(l,H,I),pa=
S(h,H,I);return c.J?c.J(aa,da,fa,pa):c.call(null,aa,da,fa,pa)}catch(sa){if(sa instanceof Error)return Hr(H,0,sa,ca);throw sa;}},e);case 5:g=$APP.D.j(d,0);k=$APP.D.j(d,1);l=$APP.D.j(d,2);h=$APP.D.j(d,3);var r=$APP.D.j(d,4);return $APP.p(f)?zq(function(ca,H,I){try{var aa=S(g,H,I),da=S(k,H,I),fa=S(l,H,I),pa=S(h,H,I),sa=S(r,H,I),ta=f.v?f.v(H,I,c):f.call(null,H,I,c);return ta.S?ta.S(aa,da,fa,pa,sa):ta.call(null,aa,da,fa,pa,sa)}catch(ua){if(ua instanceof Error)return Hr(H,0,ua,ca);throw ua;}},e):zq(function(ca,
H,I){try{var aa=S(g,H,I),da=S(k,H,I),fa=S(l,H,I),pa=S(h,H,I),sa=S(r,H,I);return c.S?c.S(aa,da,fa,pa,sa):c.call(null,aa,da,fa,pa,sa)}catch(ta){if(ta instanceof Error)return Hr(H,0,ta,ca);throw ta;}},e);case 6:g=$APP.D.j(d,0);k=$APP.D.j(d,1);l=$APP.D.j(d,2);h=$APP.D.j(d,3);r=$APP.D.j(d,4);var q=$APP.D.j(d,5);return $APP.p(f)?zq(function(ca,H,I){try{var aa=S(g,H,I),da=S(k,H,I),fa=S(l,H,I),pa=S(h,H,I),sa=S(r,H,I),ta=S(q,H,I),ua=f.v?f.v(H,I,c):f.call(null,H,I,c);return ua.qa?ua.qa(aa,da,fa,pa,sa,ta):ua.call(null,
aa,da,fa,pa,sa,ta)}catch(Aa){if(Aa instanceof Error)return Hr(H,0,Aa,ca);throw Aa;}},e):zq(function(ca,H,I){try{var aa=S(g,H,I),da=S(k,H,I),fa=S(l,H,I),pa=S(h,H,I),sa=S(r,H,I),ta=S(q,H,I);return c.qa?c.qa(aa,da,fa,pa,sa,ta):c.call(null,aa,da,fa,pa,sa,ta)}catch(ua){if(ua instanceof Error)return Hr(H,0,ua,ca);throw ua;}},e);case 7:g=$APP.D.j(d,0);k=$APP.D.j(d,1);l=$APP.D.j(d,2);h=$APP.D.j(d,3);r=$APP.D.j(d,4);q=$APP.D.j(d,5);var w=$APP.D.j(d,6);return $APP.p(f)?zq(function(ca,H,I){try{var aa=S(g,H,
I),da=S(k,H,I),fa=S(l,H,I),pa=S(h,H,I),sa=S(r,H,I),ta=S(q,H,I),ua=S(w,H,I),Aa=f.v?f.v(H,I,c):f.call(null,H,I,c);return Aa.Na?Aa.Na(aa,da,fa,pa,sa,ta,ua):Aa.call(null,aa,da,fa,pa,sa,ta,ua)}catch(Fa){if(Fa instanceof Error)return Hr(H,0,Fa,ca);throw Fa;}},e):zq(function(ca,H,I){try{var aa=S(g,H,I),da=S(k,H,I),fa=S(l,H,I),pa=S(h,H,I),sa=S(r,H,I),ta=S(q,H,I),ua=S(w,H,I);return c.Na?c.Na(aa,da,fa,pa,sa,ta,ua):c.call(null,aa,da,fa,pa,sa,ta,ua)}catch(Aa){if(Aa instanceof Error)return Hr(H,0,Aa,ca);throw Aa;
}},e);case 8:g=$APP.D.j(d,0);k=$APP.D.j(d,1);l=$APP.D.j(d,2);h=$APP.D.j(d,3);r=$APP.D.j(d,4);q=$APP.D.j(d,5);w=$APP.D.j(d,6);var C=$APP.D.j(d,7);return $APP.p(f)?zq(function(ca,H,I){try{var aa=S(g,H,I),da=S(k,H,I),fa=S(l,H,I),pa=S(h,H,I),sa=S(r,H,I),ta=S(q,H,I),ua=S(w,H,I),Aa=S(C,H,I),Fa=f.v?f.v(H,I,c):f.call(null,H,I,c);return Fa.za?Fa.za(aa,da,fa,pa,sa,ta,ua,Aa):Fa.call(null,aa,da,fa,pa,sa,ta,ua,Aa)}catch(za){if(za instanceof Error)return Hr(H,0,za,ca);throw za;}},e):zq(function(ca,H,I){try{var aa=
S(g,H,I),da=S(k,H,I),fa=S(l,H,I),pa=S(h,H,I),sa=S(r,H,I),ta=S(q,H,I),ua=S(w,H,I),Aa=S(C,H,I);return c.za?c.za(aa,da,fa,pa,sa,ta,ua,Aa):c.call(null,aa,da,fa,pa,sa,ta,ua,Aa)}catch(Fa){if(Fa instanceof Error)return Hr(H,0,Fa,ca);throw Fa;}},e);case 9:g=$APP.D.j(d,0);k=$APP.D.j(d,1);l=$APP.D.j(d,2);h=$APP.D.j(d,3);r=$APP.D.j(d,4);q=$APP.D.j(d,5);w=$APP.D.j(d,6);C=$APP.D.j(d,7);var G=$APP.D.j(d,8);return $APP.p(f)?zq(function(ca,H,I){try{var aa=S(g,H,I),da=S(k,H,I),fa=S(l,H,I),pa=S(h,H,I),sa=S(r,H,I),
ta=S(q,H,I),ua=S(w,H,I),Aa=S(C,H,I),Fa=S(G,H,I),za=f.v?f.v(H,I,c):f.call(null,H,I,c);return za.Oa?za.Oa(aa,da,fa,pa,sa,ta,ua,Aa,Fa):za.call(null,aa,da,fa,pa,sa,ta,ua,Aa,Fa)}catch(va){if(va instanceof Error)return Hr(H,0,va,ca);throw va;}},e):zq(function(ca,H,I){try{var aa=S(g,H,I),da=S(k,H,I),fa=S(l,H,I),pa=S(h,H,I),sa=S(r,H,I),ta=S(q,H,I),ua=S(w,H,I),Aa=S(C,H,I),Fa=S(G,H,I);return c.Oa?c.Oa(aa,da,fa,pa,sa,ta,ua,Aa,Fa):c.call(null,aa,da,fa,pa,sa,ta,ua,Aa,Fa)}catch(za){if(za instanceof Error)return Hr(H,
0,za,ca);throw za;}},e);case 10:g=$APP.D.j(d,0);k=$APP.D.j(d,1);l=$APP.D.j(d,2);h=$APP.D.j(d,3);r=$APP.D.j(d,4);q=$APP.D.j(d,5);w=$APP.D.j(d,6);C=$APP.D.j(d,7);G=$APP.D.j(d,8);var M=$APP.D.j(d,9);return $APP.p(f)?zq(function(ca,H,I){try{var aa=S(g,H,I),da=S(k,H,I),fa=S(l,H,I),pa=S(h,H,I),sa=S(r,H,I),ta=S(q,H,I),ua=S(w,H,I),Aa=S(C,H,I),Fa=S(G,H,I),za=S(M,H,I),va=f.v?f.v(H,I,c):f.call(null,H,I,c);return va.Da?va.Da(aa,da,fa,pa,sa,ta,ua,Aa,Fa,za):va.call(null,aa,da,fa,pa,sa,ta,ua,Aa,Fa,za)}catch(Ma){if(Ma instanceof
Error)return Hr(H,0,Ma,ca);throw Ma;}},e):zq(function(ca,H,I){try{var aa=S(g,H,I),da=S(k,H,I),fa=S(l,H,I),pa=S(h,H,I),sa=S(r,H,I),ta=S(q,H,I),ua=S(w,H,I),Aa=S(C,H,I),Fa=S(G,H,I),za=S(M,H,I);return c.Da?c.Da(aa,da,fa,pa,sa,ta,ua,Aa,Fa,za):c.call(null,aa,da,fa,pa,sa,ta,ua,Aa,Fa,za)}catch(va){if(va instanceof Error)return Hr(H,0,va,ca);throw va;}},e);case 11:g=$APP.D.j(d,0);k=$APP.D.j(d,1);l=$APP.D.j(d,2);h=$APP.D.j(d,3);r=$APP.D.j(d,4);q=$APP.D.j(d,5);w=$APP.D.j(d,6);C=$APP.D.j(d,7);G=$APP.D.j(d,8);
M=$APP.D.j(d,9);var R=$APP.D.j(d,10);return $APP.p(f)?zq(function(ca,H,I){try{var aa=S(g,H,I),da=S(k,H,I),fa=S(l,H,I),pa=S(h,H,I),sa=S(r,H,I),ta=S(q,H,I),ua=S(w,H,I),Aa=S(C,H,I),Fa=S(G,H,I),za=S(M,H,I),va=S(R,H,I),Ma=f.v?f.v(H,I,c):f.call(null,H,I,c);return Ma.Ea?Ma.Ea(aa,da,fa,pa,sa,ta,ua,Aa,Fa,za,va):Ma.call(null,aa,da,fa,pa,sa,ta,ua,Aa,Fa,za,va)}catch(ab){if(ab instanceof Error)return Hr(H,0,ab,ca);throw ab;}},e):zq(function(ca,H,I){try{var aa=S(g,H,I),da=S(k,H,I),fa=S(l,H,I),pa=S(h,H,I),sa=S(r,
H,I),ta=S(q,H,I),ua=S(w,H,I),Aa=S(C,H,I),Fa=S(G,H,I),za=S(M,H,I),va=S(R,H,I);return c.Ea?c.Ea(aa,da,fa,pa,sa,ta,ua,Aa,Fa,za,va):c.call(null,aa,da,fa,pa,sa,ta,ua,Aa,Fa,za,va)}catch(Ma){if(Ma instanceof Error)return Hr(H,0,Ma,ca);throw Ma;}},e);case 12:g=$APP.D.j(d,0);k=$APP.D.j(d,1);l=$APP.D.j(d,2);h=$APP.D.j(d,3);r=$APP.D.j(d,4);q=$APP.D.j(d,5);w=$APP.D.j(d,6);C=$APP.D.j(d,7);G=$APP.D.j(d,8);M=$APP.D.j(d,9);R=$APP.D.j(d,10);var W=$APP.D.j(d,11);return $APP.p(f)?zq(function(ca,H,I){try{var aa=S(g,
H,I),da=S(k,H,I),fa=S(l,H,I),pa=S(h,H,I),sa=S(r,H,I),ta=S(q,H,I),ua=S(w,H,I),Aa=S(C,H,I),Fa=S(G,H,I),za=S(M,H,I),va=S(R,H,I),Ma=S(W,H,I),ab=f.v?f.v(H,I,c):f.call(null,H,I,c);return ab.Fa?ab.Fa(aa,da,fa,pa,sa,ta,ua,Aa,Fa,za,va,Ma):ab.call(null,aa,da,fa,pa,sa,ta,ua,Aa,Fa,za,va,Ma)}catch(kb){if(kb instanceof Error)return Hr(H,0,kb,ca);throw kb;}},e):zq(function(ca,H,I){try{var aa=S(g,H,I),da=S(k,H,I),fa=S(l,H,I),pa=S(h,H,I),sa=S(r,H,I),ta=S(q,H,I),ua=S(w,H,I),Aa=S(C,H,I),Fa=S(G,H,I),za=S(M,H,I),va=S(R,
H,I),Ma=S(W,H,I);return c.Fa?c.Fa(aa,da,fa,pa,sa,ta,ua,Aa,Fa,za,va,Ma):c.call(null,aa,da,fa,pa,sa,ta,ua,Aa,Fa,za,va,Ma)}catch(ab){if(ab instanceof Error)return Hr(H,0,ab,ca);throw ab;}},e);case 13:g=$APP.D.j(d,0);k=$APP.D.j(d,1);l=$APP.D.j(d,2);h=$APP.D.j(d,3);r=$APP.D.j(d,4);q=$APP.D.j(d,5);w=$APP.D.j(d,6);C=$APP.D.j(d,7);G=$APP.D.j(d,8);M=$APP.D.j(d,9);R=$APP.D.j(d,10);W=$APP.D.j(d,11);var Z=$APP.D.j(d,12);return $APP.p(f)?zq(function(ca,H,I){try{var aa=S(g,H,I),da=S(k,H,I),fa=S(l,H,I),pa=S(h,H,
I),sa=S(r,H,I),ta=S(q,H,I),ua=S(w,H,I),Aa=S(C,H,I),Fa=S(G,H,I),za=S(M,H,I),va=S(R,H,I),Ma=S(W,H,I),ab=S(Z,H,I),kb=f.v?f.v(H,I,c):f.call(null,H,I,c);return kb.Ga?kb.Ga(aa,da,fa,pa,sa,ta,ua,Aa,Fa,za,va,Ma,ab):kb.call(null,aa,da,fa,pa,sa,ta,ua,Aa,Fa,za,va,Ma,ab)}catch(Ob){if(Ob instanceof Error)return Hr(H,0,Ob,ca);throw Ob;}},e):zq(function(ca,H,I){try{var aa=S(g,H,I),da=S(k,H,I),fa=S(l,H,I),pa=S(h,H,I),sa=S(r,H,I),ta=S(q,H,I),ua=S(w,H,I),Aa=S(C,H,I),Fa=S(G,H,I),za=S(M,H,I),va=S(R,H,I),Ma=S(W,H,I),
ab=S(Z,H,I);return c.Ga?c.Ga(aa,da,fa,pa,sa,ta,ua,Aa,Fa,za,va,Ma,ab):c.call(null,aa,da,fa,pa,sa,ta,ua,Aa,Fa,za,va,Ma,ab)}catch(kb){if(kb instanceof Error)return Hr(H,0,kb,ca);throw kb;}},e);case 14:g=$APP.D.j(d,0);k=$APP.D.j(d,1);l=$APP.D.j(d,2);h=$APP.D.j(d,3);r=$APP.D.j(d,4);q=$APP.D.j(d,5);w=$APP.D.j(d,6);C=$APP.D.j(d,7);G=$APP.D.j(d,8);M=$APP.D.j(d,9);R=$APP.D.j(d,10);W=$APP.D.j(d,11);Z=$APP.D.j(d,12);var ea=$APP.D.j(d,13);return $APP.p(f)?zq(function(ca,H,I){try{var aa=S(g,H,I),da=S(k,H,I),fa=
S(l,H,I),pa=S(h,H,I),sa=S(r,H,I),ta=S(q,H,I),ua=S(w,H,I),Aa=S(C,H,I),Fa=S(G,H,I),za=S(M,H,I),va=S(R,H,I),Ma=S(W,H,I),ab=S(Z,H,I),kb=S(ea,H,I),Ob=f.v?f.v(H,I,c):f.call(null,H,I,c);return Ob.Ha?Ob.Ha(aa,da,fa,pa,sa,ta,ua,Aa,Fa,za,va,Ma,ab,kb):Ob.call(null,aa,da,fa,pa,sa,ta,ua,Aa,Fa,za,va,Ma,ab,kb)}catch(bc){if(bc instanceof Error)return Hr(H,0,bc,ca);throw bc;}},e):zq(function(ca,H,I){try{var aa=S(g,H,I),da=S(k,H,I),fa=S(l,H,I),pa=S(h,H,I),sa=S(r,H,I),ta=S(q,H,I),ua=S(w,H,I),Aa=S(C,H,I),Fa=S(G,H,I),
za=S(M,H,I),va=S(R,H,I),Ma=S(W,H,I),ab=S(Z,H,I),kb=S(ea,H,I);return c.Ha?c.Ha(aa,da,fa,pa,sa,ta,ua,Aa,Fa,za,va,Ma,ab,kb):c.call(null,aa,da,fa,pa,sa,ta,ua,Aa,Fa,za,va,Ma,ab,kb)}catch(Ob){if(Ob instanceof Error)return Hr(H,0,Ob,ca);throw Ob;}},e);case 15:g=$APP.D.j(d,0);k=$APP.D.j(d,1);l=$APP.D.j(d,2);h=$APP.D.j(d,3);r=$APP.D.j(d,4);q=$APP.D.j(d,5);w=$APP.D.j(d,6);C=$APP.D.j(d,7);G=$APP.D.j(d,8);M=$APP.D.j(d,9);R=$APP.D.j(d,10);W=$APP.D.j(d,11);Z=$APP.D.j(d,12);ea=$APP.D.j(d,13);var ia=$APP.D.j(d,14);
return $APP.p(f)?zq(function(ca,H,I){try{var aa=S(g,H,I),da=S(k,H,I),fa=S(l,H,I),pa=S(h,H,I),sa=S(r,H,I),ta=S(q,H,I),ua=S(w,H,I),Aa=S(C,H,I),Fa=S(G,H,I),za=S(M,H,I),va=S(R,H,I),Ma=S(W,H,I),ab=S(Z,H,I),kb=S(ea,H,I),Ob=S(ia,H,I),bc=f.v?f.v(H,I,c):f.call(null,H,I,c);return bc.Ia?bc.Ia(aa,da,fa,pa,sa,ta,ua,Aa,Fa,za,va,Ma,ab,kb,Ob):bc.call(null,aa,da,fa,pa,sa,ta,ua,Aa,Fa,za,va,Ma,ab,kb,Ob)}catch(tc){if(tc instanceof Error)return Hr(H,0,tc,ca);throw tc;}},e):zq(function(ca,H,I){try{var aa=S(g,H,I),da=S(k,
H,I),fa=S(l,H,I),pa=S(h,H,I),sa=S(r,H,I),ta=S(q,H,I),ua=S(w,H,I),Aa=S(C,H,I),Fa=S(G,H,I),za=S(M,H,I),va=S(R,H,I),Ma=S(W,H,I),ab=S(Z,H,I),kb=S(ea,H,I),Ob=S(ia,H,I);return c.Ia?c.Ia(aa,da,fa,pa,sa,ta,ua,Aa,Fa,za,va,Ma,ab,kb,Ob):c.call(null,aa,da,fa,pa,sa,ta,ua,Aa,Fa,za,va,Ma,ab,kb,Ob)}catch(bc){if(bc instanceof Error)return Hr(H,0,bc,ca);throw bc;}},e);case 16:g=$APP.D.j(d,0);k=$APP.D.j(d,1);l=$APP.D.j(d,2);h=$APP.D.j(d,3);r=$APP.D.j(d,4);q=$APP.D.j(d,5);w=$APP.D.j(d,6);C=$APP.D.j(d,7);G=$APP.D.j(d,
8);M=$APP.D.j(d,9);R=$APP.D.j(d,10);W=$APP.D.j(d,11);Z=$APP.D.j(d,12);ea=$APP.D.j(d,13);ia=$APP.D.j(d,14);var ka=$APP.D.j(d,15);return $APP.p(f)?zq(function(ca,H,I){try{var aa=S(g,H,I),da=S(k,H,I),fa=S(l,H,I),pa=S(h,H,I),sa=S(r,H,I),ta=S(q,H,I),ua=S(w,H,I),Aa=S(C,H,I),Fa=S(G,H,I),za=S(M,H,I),va=S(R,H,I),Ma=S(W,H,I),ab=S(Z,H,I),kb=S(ea,H,I),Ob=S(ia,H,I),bc=S(ka,H,I),tc=f.v?f.v(H,I,c):f.call(null,H,I,c);return tc.Ja?tc.Ja(aa,da,fa,pa,sa,ta,ua,Aa,Fa,za,va,Ma,ab,kb,Ob,bc):tc.call(null,aa,da,fa,pa,sa,
ta,ua,Aa,Fa,za,va,Ma,ab,kb,Ob,bc)}catch(Kc){if(Kc instanceof Error)return Hr(H,0,Kc,ca);throw Kc;}},e):zq(function(ca,H,I){try{var aa=S(g,H,I),da=S(k,H,I),fa=S(l,H,I),pa=S(h,H,I),sa=S(r,H,I),ta=S(q,H,I),ua=S(w,H,I),Aa=S(C,H,I),Fa=S(G,H,I),za=S(M,H,I),va=S(R,H,I),Ma=S(W,H,I),ab=S(Z,H,I),kb=S(ea,H,I),Ob=S(ia,H,I),bc=S(ka,H,I);return c.Ja?c.Ja(aa,da,fa,pa,sa,ta,ua,Aa,Fa,za,va,Ma,ab,kb,Ob,bc):c.call(null,aa,da,fa,pa,sa,ta,ua,Aa,Fa,za,va,Ma,ab,kb,Ob,bc)}catch(tc){if(tc instanceof Error)return Hr(H,0,tc,
ca);throw tc;}},e);case 17:g=$APP.D.j(d,0);k=$APP.D.j(d,1);l=$APP.D.j(d,2);h=$APP.D.j(d,3);r=$APP.D.j(d,4);q=$APP.D.j(d,5);w=$APP.D.j(d,6);C=$APP.D.j(d,7);G=$APP.D.j(d,8);M=$APP.D.j(d,9);R=$APP.D.j(d,10);W=$APP.D.j(d,11);Z=$APP.D.j(d,12);ea=$APP.D.j(d,13);ia=$APP.D.j(d,14);ka=$APP.D.j(d,15);var Y=$APP.D.j(d,16);return $APP.p(f)?zq(function(ca,H,I){try{var aa=S(g,H,I),da=S(k,H,I),fa=S(l,H,I),pa=S(h,H,I),sa=S(r,H,I),ta=S(q,H,I),ua=S(w,H,I),Aa=S(C,H,I),Fa=S(G,H,I),za=S(M,H,I),va=S(R,H,I),Ma=S(W,H,I),
ab=S(Z,H,I),kb=S(ea,H,I),Ob=S(ia,H,I),bc=S(ka,H,I),tc=S(Y,H,I),Kc=f.v?f.v(H,I,c):f.call(null,H,I,c);return Kc.Ka?Kc.Ka(aa,da,fa,pa,sa,ta,ua,Aa,Fa,za,va,Ma,ab,kb,Ob,bc,tc):Kc.call(null,aa,da,fa,pa,sa,ta,ua,Aa,Fa,za,va,Ma,ab,kb,Ob,bc,tc)}catch(Od){if(Od instanceof Error)return Hr(H,0,Od,ca);throw Od;}},e):zq(function(ca,H,I){try{var aa=S(g,H,I),da=S(k,H,I),fa=S(l,H,I),pa=S(h,H,I),sa=S(r,H,I),ta=S(q,H,I),ua=S(w,H,I),Aa=S(C,H,I),Fa=S(G,H,I),za=S(M,H,I),va=S(R,H,I),Ma=S(W,H,I),ab=S(Z,H,I),kb=S(ea,H,I),
Ob=S(ia,H,I),bc=S(ka,H,I),tc=S(Y,H,I);return c.Ka?c.Ka(aa,da,fa,pa,sa,ta,ua,Aa,Fa,za,va,Ma,ab,kb,Ob,bc,tc):c.call(null,aa,da,fa,pa,sa,ta,ua,Aa,Fa,za,va,Ma,ab,kb,Ob,bc,tc)}catch(Kc){if(Kc instanceof Error)return Hr(H,0,Kc,ca);throw Kc;}},e);case 18:g=$APP.D.j(d,0);k=$APP.D.j(d,1);l=$APP.D.j(d,2);h=$APP.D.j(d,3);r=$APP.D.j(d,4);q=$APP.D.j(d,5);w=$APP.D.j(d,6);C=$APP.D.j(d,7);G=$APP.D.j(d,8);M=$APP.D.j(d,9);R=$APP.D.j(d,10);W=$APP.D.j(d,11);Z=$APP.D.j(d,12);ea=$APP.D.j(d,13);ia=$APP.D.j(d,14);ka=$APP.D.j(d,
15);Y=$APP.D.j(d,16);var E=$APP.D.j(d,17);return $APP.p(f)?zq(function(ca,H,I){try{var aa=S(g,H,I),da=S(k,H,I),fa=S(l,H,I),pa=S(h,H,I),sa=S(r,H,I),ta=S(q,H,I),ua=S(w,H,I),Aa=S(C,H,I),Fa=S(G,H,I),za=S(M,H,I),va=S(R,H,I),Ma=S(W,H,I),ab=S(Z,H,I),kb=S(ea,H,I),Ob=S(ia,H,I),bc=S(ka,H,I),tc=S(Y,H,I),Kc=S(E,H,I),Od=f.v?f.v(H,I,c):f.call(null,H,I,c);return Od.La?Od.La(aa,da,fa,pa,sa,ta,ua,Aa,Fa,za,va,Ma,ab,kb,Ob,bc,tc,Kc):Od.call(null,aa,da,fa,pa,sa,ta,ua,Aa,Fa,za,va,Ma,ab,kb,Ob,bc,tc,Kc)}catch(pc){if(pc instanceof
Error)return Hr(H,0,pc,ca);throw pc;}},e):zq(function(ca,H,I){try{var aa=S(g,H,I),da=S(k,H,I),fa=S(l,H,I),pa=S(h,H,I),sa=S(r,H,I),ta=S(q,H,I),ua=S(w,H,I),Aa=S(C,H,I),Fa=S(G,H,I),za=S(M,H,I),va=S(R,H,I),Ma=S(W,H,I),ab=S(Z,H,I),kb=S(ea,H,I),Ob=S(ia,H,I),bc=S(ka,H,I),tc=S(Y,H,I),Kc=S(E,H,I);return c.La?c.La(aa,da,fa,pa,sa,ta,ua,Aa,Fa,za,va,Ma,ab,kb,Ob,bc,tc,Kc):c.call(null,aa,da,fa,pa,sa,ta,ua,Aa,Fa,za,va,Ma,ab,kb,Ob,bc,tc,Kc)}catch(Od){if(Od instanceof Error)return Hr(H,0,Od,ca);throw Od;}},e);case 19:g=
$APP.D.j(d,0);k=$APP.D.j(d,1);l=$APP.D.j(d,2);h=$APP.D.j(d,3);r=$APP.D.j(d,4);q=$APP.D.j(d,5);w=$APP.D.j(d,6);C=$APP.D.j(d,7);G=$APP.D.j(d,8);M=$APP.D.j(d,9);R=$APP.D.j(d,10);W=$APP.D.j(d,11);Z=$APP.D.j(d,12);ea=$APP.D.j(d,13);ia=$APP.D.j(d,14);ka=$APP.D.j(d,15);Y=$APP.D.j(d,16);E=$APP.D.j(d,17);var B=$APP.D.j(d,18);return $APP.p(f)?zq(function(ca,H,I){try{var aa=S(g,H,I),da=S(k,H,I),fa=S(l,H,I),pa=S(h,H,I),sa=S(r,H,I),ta=S(q,H,I),ua=S(w,H,I),Aa=S(C,H,I),Fa=S(G,H,I),za=S(M,H,I),va=S(R,H,I),Ma=S(W,
H,I),ab=S(Z,H,I),kb=S(ea,H,I),Ob=S(ia,H,I),bc=S(ka,H,I),tc=S(Y,H,I),Kc=S(E,H,I),Od=S(B,H,I),pc=f.v?f.v(H,I,c):f.call(null,H,I,c);return pc.Ma?pc.Ma(aa,da,fa,pa,sa,ta,ua,Aa,Fa,za,va,Ma,ab,kb,Ob,bc,tc,Kc,Od):pc.call(null,aa,da,fa,pa,sa,ta,ua,Aa,Fa,za,va,Ma,ab,kb,Ob,bc,tc,Kc,Od)}catch(ci){if(ci instanceof Error)return Hr(H,0,ci,ca);throw ci;}},e):zq(function(ca,H,I){try{var aa=S(g,H,I),da=S(k,H,I),fa=S(l,H,I),pa=S(h,H,I),sa=S(r,H,I),ta=S(q,H,I),ua=S(w,H,I),Aa=S(C,H,I),Fa=S(G,H,I),za=S(M,H,I),va=S(R,
H,I),Ma=S(W,H,I),ab=S(Z,H,I),kb=S(ea,H,I),Ob=S(ia,H,I),bc=S(ka,H,I),tc=S(Y,H,I),Kc=S(E,H,I),Od=S(B,H,I);return c.Ma?c.Ma(aa,da,fa,pa,sa,ta,ua,Aa,Fa,za,va,Ma,ab,kb,Ob,bc,tc,Kc,Od):c.call(null,aa,da,fa,pa,sa,ta,ua,Aa,Fa,za,va,Ma,ab,kb,Ob,bc,tc,Kc,Od)}catch(pc){if(pc instanceof Error)return Hr(H,0,pc,ca);throw pc;}},e);default:return $APP.p(f)?zq(function(ca,H,I){return Pt(H,I,f.v?f.v(H,I,c):f.call(null,H,I,c),d)},e):zq(function(ca,H,I){return Pt(H,I,c,d)},e)}};
zw=function(a){var b=$APP.Jd(a);a=$APP.Ni.A($APP.we(a),$APP.$q,$APP.u($APP.Vr),$APP.F([$APP.wm,$APP.u(Dr)]));return zq(function(c,d){try{return $APP.wg.v(qw,d,b)}catch(e){if(e instanceof Error)return Hr(d,0,e,c);throw e;}},a)};
Jw=function(a,b,c){if($APP.A.j($APP.cl,c)){if(3>$APP.ge(b))throw Error("Malformed member expression, expecting (.member target ...)");return iw(a,b)}if($APP.A.j(Aw,c))return Bw(a,b,$APP.Jd(b));if($APP.A.j(Cw,c))return zw(b);if($APP.A.j(Dw,c))return Yv(a,b);if($APP.A.j($APP.$k,c))return Sv(a,b);if($APP.A.j($APP.Uk,c))return Wv(a,b);if($APP.A.j(Rk,c)){c=$APP.le(b);var d=$APP.un.j(2,c);b=oe(b);b=$APP.U.o($APP.x($APP.Q.A(new $APP.J(null,Yk,null,1,null),new $APP.J(null,c,null,1,null),$APP.F([new $APP.J(null,
Ew.j($APP.U.o($APP.x($APP.Q.A(new $APP.J(null,$APP.$k,null,1,null),new $APP.J(null,$APP.jh(d),null,1,null),$APP.F([b])))),d),null,1,null)]))));return lv.j?lv.j(a,b):lv.call(null,a,b)}if($APP.A.j($APP.Sk,c))return yv(a,b,$APP.Jd(b));if($APP.A.j($u,c))return c=$APP.x(b),b=$APP.y(c),c=$APP.z(c),d=$APP.Yi(b),d=$APP.ve($APP.Gj.j($APP.Af(b),$APP.lj.v(d,0,d.length-1)),$APP.we(b)),mw(a,$APP.ve(Ew.v(Vk,d,c),$APP.we(b)));if($APP.A.j($APP.hl,c))return Uv(a,b);if($APP.A.j($APP.el,c))return $APP.A.j(2,$APP.ge(b))||
hv("Wrong number of args (0) passed to quote",b),$APP.le(b);if($APP.A.j(Yk,c))return Fw(a,b,$APP.le(b),oe(b));if($APP.A.j(Zu,c)){d=$APP.x(b);c=$APP.y(d);var e=$APP.z(d);d=$APP.y(e);e=$APP.z(e);if(2>$APP.ge(b))throw Error("Malformed member expression, expecting (.member target ...)");return iw(a,$APP.ve(new $APP.J(null,$APP.cl,new $APP.J(null,d,new $APP.J(null,$APP.wf($APP.Gj.o($APP.lj.j($APP.Yi(c),1)),e),null,1,null),2,null),3,null),$APP.we(b)))}if($APP.A.j($APP.Wk,c))return sw(a,b);if($APP.A.j(Kk,
c))return Yv(a,b);if($APP.A.j(bl,c))return ww(a,b);if($APP.A.j($APP.al,c))return qv(a,b,rv(gv(a),$APP.Jd(b)));if($APP.A.j(Vk,c))return mw(a,b);if($APP.A.j($APP.dl,c))return $APP.D.v(b,0,null),b=$APP.D.v(b,1,null),ev(a,b,!1,null);if($APP.A.j(Gw,c))return Vv(a,b);if($APP.A.j(gl,c))return cw(a,b);if($APP.A.j(Ok,c))return bw(a,b);if($APP.A.j(Hw,c))return Iw(a,b,$APP.Jd(b));throw Error(["No matching clause: ",$APP.t.o(c)].join(""));};
Pw=function(a,b,c,d){var e=$APP.p($APP.p(d)?$APP.p(c)?$APP.xm.o(c):c:d)?new $APP.n(null,2,[$APP.Un,$APP.Un.o(c),$APP.xm,$APP.xm.o(c)],null):null;$APP.p(e)&&(Er=e);try{var f=Kw.o(c);$APP.p(f)&&$APP.Pq($APP.Zf([Dr,f]));try{var g=$APP.y(b);if(g instanceof $APP.v){var k=$APP.Re.j(jv,g);$APP.p($APP.p(k)?Lw.o(a):k)&&Qu(a,g,new $APP.N(null,2,5,$APP.O,[k,null],null));var l=$APP.p(k)?k:ev(a,g,!0,null),h=$APP.we(l),r=$APP.p(h)?jr.o(h):h,q=Mw.o(h),w=$APP.p(q)?q:l;if($APP.p($APP.p(h)?Tu.o(h):h)){var C=$APP.D.v(w,
0,null),G=$APP.D.v(w,1,null),M=$APP.pe(G),R=$APP.A.j(M,""),W=$APP.ge(G),Z=$APP.A.j(1,W)?new $APP.N(null,2,5,$APP.O,[C,M],null):function(){var za=G.splice(0,W-1);return new $APP.N(null,2,5,$APP.O,[ps(C,za,null,null),M],null)}(),ea=$APP.D.v(Z,0,null),ia=$APP.D.v(Z,1,null),ka=rv(a,$APP.Jd(b)),Y=$APP.cv.o(ka);if(R)return zq(function(za,va,Ma){return qs(va,Ma,ea,Y)},null);var E=$APP.Ta(ea,ia);return zq(function(za,va,Ma){return rs(va,Ma,ea,E,Y)},null)}if($APP.p(function(){var za=$APP.wb(r);return za?(za=
w instanceof $APP.v)?$APP.p(k)?k:$APP.Te(Su,w):za:za}()))return Jw(a,b,w);try{if($APP.p(Gr(w))){var B=function(){var za=js(w);return za?Oq(w):za}(),ca=js(w)?$APP.u(w):w,H=function(){var za=ca.afn;return $APP.p(za)?za:ca}(),I=$APP.p(B)?$APP.wg.S(H,b,Ir.o(a),a,$APP.Jd(b)):$APP.wg.J(H,b,Ir.o(a),$APP.Jd(b));return $APP.p(iv.o(a))?I:$APP.p($APP.p(d)?$APP.Le(I)&&$APP.A.j($APP.Sk,$APP.y(I)):d)?new wq(null!=I&&(I.M&262144||$APP.wd===I.Bf)?$APP.ve(I,$APP.mm.A($APP.F([c,$APP.we(I)]))):I):function(){var za=
$APP.p(c)?null!=I&&(I.M&262144||$APP.wd===I.Bf)?$APP.ve(I,$APP.mm.A($APP.F([c,$APP.we(I)]))):I:I;return lv.v?lv.v(a,za,d):lv.call(null,a,za,d)}()}var aa=Nw.o(h);if($APP.p(aa))return ca=aa,lw(a,b,ca,rv(a,$APP.Jd(b)),$APP.Ni.A(c,$APP.$q,$APP.u($APP.Vr),$APP.F([$APP.wm,$APP.u(Dr),hr,h])),null);var da=jr.o($APP.we(w));if($APP.p(da))switch(da instanceof $APP.K?da.ia:null){case "resolve-sym":return xw(Lu.o($APP.we(w)),rv(a,$APP.Jd(b)),$APP.Ni.A(c,$APP.$q,$APP.u($APP.Vr),$APP.F([$APP.wm,$APP.u(Dr),hr,h])));
default:return ka=rv(a,$APP.Jd(b)),lw(a,b,w,ka,$APP.Ni.A(c,$APP.$q,$APP.u($APP.Vr),$APP.F([$APP.wm,$APP.u(Dr),hr,h])),null)}else{B=function(){var za=js(w);return za?Oq(w):za}();if($APP.p(B))return yw(b,w,rv(a,$APP.Jd(b)));var fa=Ow.o(a);if($APP.p($APP.p(fa)?fa.o?fa.o(w):fa.call(null,w):fa))return ka=rv(a,$APP.Jd(b)),lw(a,b,w,ka,$APP.Ni.A(c,$APP.$q,$APP.u($APP.Vr),$APP.F([$APP.wm,$APP.u(Dr),hr,h])),function(za,va){return $APP.u(va.get(g))});ka=rv(a,$APP.Jd(b));return lw(a,b,w,ka,$APP.Ni.A(c,$APP.$q,
$APP.u($APP.Vr),$APP.F([$APP.wm,$APP.u(Dr),hr,h])),js(w)?function(za,va,Ma){return $APP.u(Ma)}:null)}}catch(za){if(za instanceof Error){var pa=za;return Jr(a,pa,function(){var va=$APP.Ni.A(c,$APP.$q,$APP.u($APP.Vr),$APP.F([$APP.wm,$APP.u(Dr),hr,h]));return zq(function(){return null},va)}())}throw za;}}else if(g instanceof $APP.K){ka=rv(a,$APP.Jd(b));var sa=$APP.ge(ka);switch(sa){case 1:var ta=$APP.D.j(ka,0);return zq(function(za,va,Ma){return g.o(S(ta,va,Ma))},null);case 2:var ua=$APP.D.j(ka,0),Aa=
$APP.D.j(ka,1);return zq(function(za,va,Ma){return g.j(S(ua,va,Ma),S(Aa,va,Ma))},null);default:return hv(["Wrong number of args (",$APP.t.o(sa),") passed to: ",$APP.t.o(g)].join(""),b)}}else{l=lv.j?lv.j(a,g):lv.call(null,a,g);ka=rv(a,$APP.Jd(b));var Fa=$APP.Ni.A(c,$APP.$q,$APP.u($APP.Vr),$APP.F([$APP.wm,$APP.u(Dr)]));return lw(a,b,l,ka,Fa,js(l)?function(za,va,Ma){return S($APP.u(Ma),za,va)}:function(za,va,Ma){return S(Ma,za,va)})}}catch(za){return pa=za,Jr(a,pa,zq(function(){return null},ds(c,!1)))}finally{$APP.p(f)&&
$APP.Rq()}}finally{$APP.p(e)&&(Er=null)}};Qw=function(a){return 16>=a?$APP.Up:$APP.Vp};Rw=function(a,b,c){var d=Qw($APP.ge(c));lw(a,b,d,c,null,null);return lw(a,b,d,c,null,null)};Sw=function(a){return!(a instanceof $APP.yq)};
Tw=function(a,b,c){a=gv(a);var d=$APP.Nh.v($APP.ih,Pj,b),e=rv(a,d),f=$APP.tg(Sw,e);d=f?$APP.A.j(d,e):null;d=f?$APP.p(d)?b:function(){var l=Qw($APP.ge(e));return $APP.wg.j(l,e)}():null;var g=f?d:Rw(a,b,e),k=$APP.p(c)?lv.j?lv.j(a,c):lv.call(null,a,c):null;return $APP.p(k)?zq(function(l,h,r){l=S(g,h,r);h=S(k,h,r);return $APP.ve(l,h)},null):g};
Uw=function(a,b,c,d,e){a=gv(a);var f=$APP.p(e)?lv.j?lv.j(a,e):lv.call(null,a,e):null;e=rv(a,d);var g=$APP.tg(Sw,e),k=$APP.Be(d),l=g&&$APP.A.j(k?function(){var r=$APP.x(d);return r?r:$APP.ih}():d,e);b=g?l?$APP.ze(d)?k?$APP.Ri:$APP.ih:d:b.o?b.o(e):b.call(null,e):null;var h=g?b:lw(a,d,c,e,null,null);return $APP.p(f)?zq(function(r,q,w){r=S(h,q,w);q=S(f,q,w);return $APP.ve(r,q)},null):h};
Ww=function(a,b){b=b.val;if($APP.Ee(b)){var c=$APP.Ii(b),d=$APP.wj.j($APP.Yi,c),e=$APP.Ki(b),f=rv(a,e);return zq(function(g,k,l){return $APP.wg.j(Vw,$APP.Bu.j(d,$APP.wj.j(function(h){return S(h,k,l)},f)))},null)}e=rv(a,b);return zq(function(g,k,l){var h=[];Rj(function(r){return h.push(S(r,k,l))},e);return h},null)};jx=function(a,b,c,d,e){c=new $APP.n(null,3,[$APP.$q,$APP.p(c)?c:ix,$APP.fr,!0,er,!0],null);e=$APP.p(e)?$APP.mm.A($APP.F([c,e])):c;return hs(a,b,e,d)};
lx=function(a,b){return kx(a,b,null,!1)};mx=function(a,b,c){return kx(a,b,c,!0)};kx=function(a,b,c,d){d=$APP.p(d)?d:!0===c;c=new $APP.n(null,2,[$APP.$q,!0===c?ix:$APP.p(c)?c:ix,er,!0],null);c=$APP.p(null)?$APP.mm.A($APP.F([c,null])):c;return hs(a,b,c,d)};ox=function(a,b){var c=$APP.wg.v(nx,a,b);return $APP.wf(c,$APP.Cu.j(function(d){return c===d},b))};
$APP.px=function(a,b){return $APP.cf.v(function(c,d){var e=$APP.D.v(d,0,null);d=$APP.D.v(d,1,null);return $APP.Te(a,e)?$APP.Ni.v(c,d,$APP.Re.j(a,e)):c},$APP.wg.v($APP.nm,a,$APP.Ii(b)),b)};qx=function(a,b){return $APP.cf.v(function(c,d){var e=$APP.Oi(d,b);return $APP.Ni.v(c,e,$APP.tf.j($APP.Re.v(c,e,$APP.Ri),d))},$APP.$f,a)};rx=function(a){return $APP.Uc($APP.ff(function(b,c,d){return $APP.Qh.v(b,d,c)},$APP.Sc($APP.$f),a))};
sx=function(a,b,c){if(qf(c)){var d=$APP.wg.j($APP.P,$APP.wj.j(a,c));return b.o?b.o(d):b.call(null,d)}return fh(c)?(d=new $APP.Ue(function(){var e=ec(c);return a.o?a.o(e):a.call(null,e)}(),function(){var e=fc(c);return a.o?a.o(e):a.call(null,e)}(),null),b.o?b.o(d):b.call(null,d)):$APP.Le(c)?(d=$APP.eo.o($APP.wj.j(a,c)),b.o?b.o(d):b.call(null,d)):$APP.Fe(c)?(d=$APP.cf.v(function(e,f){return $APP.tf.j(e,a.o?a.o(f):a.call(null,f))},c,c),b.o?b.o(d):b.call(null,d)):$APP.Ae(c)?(d=$APP.Nh.j($APP.qe(c),$APP.wj.j(a,
c)),b.o?b.o(d):b.call(null,d)):b.o?b.o(c):b.call(null,c)};ux=function(a,b){return tx(function(c){return $APP.Te(a,c)?a.o?a.o(c):a.call(null,c):c},b)};vx=function(a,b){var c=$APP.ge(a)-1;$APP.A.j(2,c)||Cr(["Wrong number of args (",$APP.t.o(c),") passed to: clojure.core/for"].join(""),a);$APP.Ge(b)||Cr("for requires a vector for its binding",a);$APP.vg($APP.ge(b))||Cr("for requires an even number of forms in binding vector",a)};wx=function(a){return fs(a,null,new $APP.n(null,2,[$APP.$q,ix,er,!0],null))};
yx=function(a){var b=$APP.we(a);if($APP.p(b)){if($APP.p(xx.o(b)))return $APP.Gj.o($APP.t.o($APP.u(a)));a=$APP.T.o(b);if($APP.p(a))return b=$APP.$q.o(b),$APP.p(b)?$APP.Gj.j($APP.t.o(Aq(b)),$APP.t.o(a)):null}return null};
zx=function(a,b){var c=$APP.u(Lr.o(a)),d=function(){var r=$APP.Af(b);return $APP.p(r)?$APP.Gj.o(r):null}(),e=gs(),f=$APP.t.o(e),g=$APP.Re.j(c,$APP.Sr),k=$APP.Re.j(g,e),l=eu.o(k),h=function w(q){var C=$APP.Yi(q),G=function(){var M=Bt.o(k);return $APP.p(M)?(M=$APP.Re.j(M,q),$APP.p(M)?yx(M):null):null}();if($APP.p(G))return G;G=function(){var M=$APP.Re.j(k,q);return $APP.p(M)?yx(M):null}();if($APP.p(G))return G;G=$APP.Te($APP.Re.j(g,Os),q)&&$APP.wb(function(){var M=null==k?null:Yt.o(k);M=null==M?null:
$APP.Re.j(M,Os);M=null==M?null:au.o(M);return null==M?null:$APP.Te(M,q)}())||$APP.Te(Su,q)?$APP.Gj.j("clojure.core",C):null;if($APP.p(G))return G;G=Ms(a,q);return $APP.p(G)?G:-1!=C.indexOf(".")?0!=C.lastIndexOf(".",0)&&$APP.Qa(C,".")?$APP.Gj.o([$APP.t.o(w($APP.Gj.o($APP.lj.v(C,0,C.length-1)))),"."].join("")):q:$APP.Gj.j(f,C)};return $APP.wb(d)?h(b):function(){var q=$APP.Re.j(c,$APP.Sr);if($APP.p($APP.Re.j(q,d)))return b;var w=$APP.Re.j(l,d);if($APP.p(w))return $APP.Gj.j($APP.t.o(w),$APP.Yi(b));q=
$APP.Re.j(ts.o($APP.Re.j(q,e)),d);return $APP.p(q)?$APP.Gj.j($APP.t.o(q),$APP.Yi(b)):b}()};Bx=function(){throw $APP.zm.j("EvalReader not allowed when *read-eval* is false.",new $APP.n(null,1,[$APP.tm,Ax],null));};Cx=function(a,b){b=Bp.o(b);if($APP.p(b))return b;a=Lr.o(a);b=$APP.u(a);a=gs();b=$APP.Rr.j(b,new $APP.N(null,2,5,$APP.O,[$APP.Sr,a],null));b=eu.o(b);return $APP.Ni.v(b,$APP.Ip,a)};
Lx=function(a,b,c){var d=tp.o(a),e=Rn.o(a),f=js(e)?$APP.u(e):e,g=Cx(a,c),k=function(){var l=$APP.Ni.A(Dx,tp,d,$APP.F([Bp,g,Co,new $APP.n(null,1,[Bo,function(h){return zx(a,h)}],null),Rn,function(h){var r=$APP.p(f)?f.o?f.o(h):f.call(null,h):f;if($APP.p(r))return r;r=function(){var w=$APP.u(Ex);return w.o?w.o(h):w.call(null,h)}();if($APP.p(r))return r;r=function(){var w=$APP.u(Fx);w=w.v?w.v(a,$APP.$f,h):w.call(null,a,$APP.$f,h);w=null==w?null:$APP.we(w);return null==w?null:Gx.o(w)}();if($APP.p(r))return r;
var q=$APP.u(Hx);return $APP.p(q)?function(w){return q.j?q.j(h,w):q.call(null,h,w)}:null},Pp,$APP.p($APP.u(Ix))?function(h){return Yr(a,h)}:Bx]));return $APP.p(c)?$APP.mm.A($APP.F([l,c])):l}();return function(){try{b instanceof em&&$APP.cm.o($APP.u(b.frames)).clear();var l=ip(k,b);if(lp===l){var h=$APP.Re.j(k,Fm);var r=$APP.p(h)?h:Jx}else r=l;return $APP.zf(r,Jx)?Kx:r instanceof $APP.v&&fm(b)?yp.qa(r,$APP.Ni,$APP.xm,Vl(b),$APP.Un,Wl(b)-$APP.t.o(r).length):r}catch(q){if(q instanceof Fk)throw r=q,$APP.zm.v(r.message,
$APP.Ni.A(Gk(r),$APP.tm,Ax,$APP.F([Or,"parse",$APP.wm,$APP.u(Dr)])),r);throw q;}}()};Nx=function(a,b){if($APP.zf(Kx,b)){b=Fm.o(a);if($APP.p(b)){if($APP.zf(Mx,b))throw $APP.zm.j("EOF while reading",new $APP.n(null,2,[$APP.tm,Ax,vu,a],null));return b}throw $APP.zm.j("EOF while reading",new $APP.n(null,2,[$APP.tm,Ax,vu,a],null));}return b};Ox=function(a){return a.td(null)};$APP.Px=function(a,b){return Ur(Lr.o(a),b,!1,null)};
Qx=function(a,b){if(b instanceof br)return b;a=$APP.Px(a,b);if($APP.p(a))return a;throw Error(["No namespace: ",$APP.t.o(b)," found"].join(""));};Rx=function(a,b){b=Qx(a,b);b=Ox(b);a=$APP.Rr.j($APP.u(Lr.o(a)),new $APP.N(null,3,5,$APP.O,[$APP.Sr,b,eu],null));return $APP.Zi($APP.Ii(a),$APP.wj.j(function(c){return $APP.cr(c,null)},$APP.Ki(a)))};Sx=function(a){return $APP.nm.A(a,eu,$APP.F([ts,lq,Yt,Bt]))};
Tx=function(a,b){b=Qx(a,b);b=Ox(b);a=$APP.Rr.j($APP.u(Lr.o(a)),new $APP.N(null,2,5,$APP.O,[$APP.Sr,b],null));return Sx(a)};Vx=function(a,b){b=Qx(a,b);b=Ox(b);a=$APP.Rr.j($APP.u(Lr.o(a)),new $APP.N(null,2,5,$APP.O,[$APP.Sr,b],null));a=Sx(a);return $APP.Nh.j($APP.$f,$APP.pr.j(function(c){var d=$APP.D.v(c,0,null);c=$APP.D.v(c,1,null);return $APP.p($APP.Ux.o($APP.we(c)))?null:new $APP.N(null,2,5,$APP.O,[d,c],null)},a))};
Wx=function(a,b){b=Qx(a,b);b=Ox(b);var c=$APP.u(Lr.o(a));a=ts.o(c);b=$APP.Rr.j(c,new $APP.N(null,3,5,$APP.O,[$APP.Sr,b,ts],null));var d=ss.o(c);c=$APP.Q.j($APP.Ii(a),$APP.Ii(b));a=$APP.Q.j($APP.Ki(a),$APP.Ki(b));return $APP.Zi(c,$APP.wj.j($APP.qr.j($APP.Ht,function(e){return $APP.Re.j(d,e)}),a))};
Xx=function(a,b){b=Qx(a,b);b=Ox(b);var c=$APP.u(Lr.o(a));a=$APP.Rr.j(c,new $APP.N(null,3,5,$APP.O,[$APP.Sr,b,Bt],null));b=$APP.Rr.j(c,new $APP.N(null,2,5,$APP.O,[$APP.Sr,Os],null));b=Sx(b);return $APP.mm.A($APP.F([b,a]))};Yx=function(a){var b=Lr.o(a);a=$APP.Re.j($APP.u(b),$APP.Sr);a=$APP.Cu.j(function(c){$APP.D.v(c,0,null);c=$APP.D.v(c,1,null);return $APP.Ux.o(c)},a);return $APP.wj.j(function(c){return Ur(b,c,!0,null)},$APP.Ii(a))};Zx=function(a){return new Xq(a,null,null)};
ay=function(a){var b=$APP.V.o(a),c=$APP.X.o(a),d=$APP.fr.o(a);$x.A($APP.F(["-------------------------"]));var e=$x.A;var f=$APP.$q.o(a);f=$APP.p(f)?[$APP.t.o(Ox(f)),"/"].join(""):null;e.call($x,$APP.F([[f,$APP.t.o($APP.T.o(a))].join("")]));$APP.p(b)&&$x.A($APP.F([b]));$APP.p(d)&&$x.A($APP.F(["Macro"]));return $APP.p(c)?$x.A($APP.F([" ",c])):null};by=function(a,b,c){return ux($APP.Zi(a,c),b)};
jy=function(a,b,c,d,e,f,g,k,l,h,r){$APP.Zj.j(a,function(q){var w=$APP.Sr.o(q),C=$APP.cy.A($APP.mm,$APP.F([$APP.p(w)?w:dy,$APP.p(w)?null:new $APP.n(null,1,[ey,$APP.Ni.v(b,lq,fy)],null),d])),G=$APP.mm.A($APP.F([c,$APP.Rr.j(q,new $APP.N(null,3,5,$APP.O,[$APP.Sr,ey,eu],null))])),M=$APP.jo.A;C=$APP.jo.S(C,ey,$APP.Ni,eu,G);G=is(Ps,gk(),new $APP.n(null,1,[$APP.$q,ix],null));w=$APP.Q.j($APP.Ii(w),gy);w=fs(ju,$APP.Yj.o($APP.Nh.j(hy(),w)),new $APP.n(null,4,[$APP.X,"A ref to a sorted set of symbols representing loaded libs",
$APP.$q,ix,$APP.Ux,!0,er,!0],null));M=M.call($APP.jo,C,Os,$APP.Ni,Ps,G,ju,$APP.F([w]));w=ts.o(q);w=$APP.p(w)?$APP.mm.A($APP.F([w,g])):g;C=$APP.mm.A($APP.F([lu.o(q),r]));G=$APP.mm.A($APP.F([du.o(q),h]));return $APP.wb(q)?new $APP.n(null,4,[$APP.Sr,M,ts,w,ru,k,iy,l],null):$APP.Ni.A(q,$APP.Sr,M,$APP.F([ts,w,ru,k,iy,l,du,G,Nt,Nt.o(e),ss,ss.o(e),Xt,f,lu,C]))})};ky=function(a,b){return $APP.bg($APP.Nh.v(a,$APP.qr.j(Pj,$APP.wj.o(Qr)),b))};
ly=function(a){for(var b=$APP.Sc($APP.Oi(a,new $APP.N(null,1,5,$APP.O,[Mt],null))),c=a;;){var d=$APP.y(c);if($APP.p(d)){var e=d;d=$APP.D.v(e,0,null);e=$APP.D.v(e,1,null);b=$APP.Qh.v(b,d,$APP.Ee(e)?e:new $APP.n(null,1,[$APP.Ht,e],null));c=$APP.Jd(c)}else return new $APP.n(null,2,[Nt,Nt.o(a),ss,$APP.Uc(b)],null)}};my=function(){return null};$APP.oy=function(a,b){$APP.Pq($APP.Zf([$APP.Vr,$APP.u($APP.Vr)]));try{var c=hm(gm(b));for(b=null;;){var d=Lx(a,c,null);if($APP.zf(Kx,d))return b;b=ny(a,d)}}finally{$APP.Rq()}};
$APP.py=function(a,b,c){return new Zq(b,a,$APP.Ni.v(c,$APP.T,Wq.o?Wq.o(a):Wq.call(null,a)),!1)};$APP.qy=function(a,b,c){return new Zq(b,a,$APP.Ni.A(c,$APP.es,!0,$APP.F([$APP.T,Wq.o?Wq.o(a):Wq.call(null,a)])),!1)};$APP.ry=function(a,b,c){return new Zq(yp.J(b,$APP.Ni,Fr,!0),a,$APP.Ni.A(c,$APP.fr,!0,$APP.F([$APP.T,Wq.o?Wq.o(a):Wq.call(null,a)])),!1)};
vy=function(a,b){var c=Lr.o(a),d=$APP.u(c),e=$APP.ag(b);b=$APP.Re.j(e,tp);var f=$APP.Re.j(e,$APP.Sr),g=$APP.Re.j(e,lu),k=$APP.Re.j(e,du),l=$APP.Re.j(e,Ir),h=$APP.Re.j(e,Rn),r=$APP.Re.j(e,sy),q=$APP.Re.j(e,ts),w=$APP.Re.j(e,Mt),C=$APP.Re.v(e,ru,ru.o(d)),G=$APP.Re.v(e,iy,iy.o(d)),M=$APP.Re.j(e,eu);d=$APP.Re.j(e,Pu);e=$APP.Re.j(e,ty);e=$APP.mm.A($APP.F([Xt.o($APP.u(c)),e]));var R=ly(e);jy(c,l,M,f,R,e,q,C,G,k,g);f=$APP.Ni.A;g=Lw.o(a);return f.call($APP.Ni,new $APP.n(null,5,[Ir,$APP.$f,Lr,c,tp,b,Rn,h,
Lw,$APP.p(g)?g:$APP.p(w)?w:d],null),Mt,$APP.p(w)?ky(Mt.o(a),$APP.F([w])):null,$APP.F([Pu,$APP.p(d)?ky(Pu.o(a),$APP.F([d])):null,sy,r,uy,uy.o(a)]))};wy=function(a){a=null==a?null:Gk(a);a=null==a?null:Nr.o(a);return null==a?null:or(a)};$APP.yy=function(a,b){return $APP.cf.v(function(c,d){var e=$APP.D.v(d,0,null);d=$APP.D.v(d,1,null);var f=$APP.ib.o(d);return $APP.Ni.v(c,e,$APP.py(e,$APP.xy.o(d),$APP.Ni.A(f,$APP.$q,b,$APP.F([$APP.T,e]))))},$APP.$f,a)};zy=function(a){console.error($APP.rr.j(" ",a))};
Ay=function(a){zy($APP.F([$APP.wg.S($APP.t,"----- ",a," ",$APP.sr.j(43-$APP.ge(a),"-"))]))};By=function(a,b){if($APP.p(b))return new $APP.N(null,1,5,$APP.O,[a],null);b=$APP.ge(a);return 10>=b?new $APP.N(null,1,5,$APP.O,[a],null):new $APP.N(null,2,5,$APP.O,[$APP.Ig.j(5,a),$APP.Eg.j(b-5,a)],null)};
Ey=function(a,b){b=$APP.ag(b);b=$APP.Re.j(b,Cy);a=tr(a);b=By(a,b);a=$APP.D.v(b,0,null);b=$APP.D.v(b,1,null);Rj(function(c){return Dy.A($APP.F([c,"\n"]))},a);$APP.p(b)&&(Dy.A($APP.F(["...\n"])),Rj(function(c){return Dy.A($APP.F([c,"\n"]))},b))};
Gy=function(a,b){var c=$APP.ag(Gk(a)),d=$APP.Re.j(c,$APP.wm),e=$APP.Re.j(c,$APP.xm);c=$APP.Re.j(c,$APP.Un);if($APP.p($APP.p(d)?e:d)&&(b=$APP.Re.j(b,d),$APP.p(b))){var f=e-1;e=function(){var k=f-4;return 0<k?k:0}();b=Jg(f-e+1,$APP.Ig.j(f+6-e,$APP.Eg.j(e,$APP.Fy.j($APP.P,Fl(b)))));e=$APP.D.v(b,0,null);b=$APP.D.v(b,1,null);a=$APP.Q.A(e,new $APP.N(null,1,5,$APP.O,[new $APP.N(null,2,5,$APP.O,[null,[$APP.rr.j("",$APP.sr.j(c-1," ")),["^--- ",$APP.t.o(Hk(a))].join("")].join("")],null)],null),$APP.F([b]));
c=$APP.wj.j($APP.y,a);var g=$APP.cf.v($APP.ko,0,$APP.wj.j($APP.qr.j($APP.ge,$APP.t),c));a=$APP.wj.j(function(k){var l=$APP.D.v(k,0,null);k=$APP.D.v(k,1,null);return $APP.p(l)?[$APP.t.o($APP.t.o(l+1).padStart(g,"0")),"  ",$APP.t.o(k)].join(""):[$APP.rr.o($APP.sr.j(2+g," ")),$APP.t.o(k)].join("")},a);return["\n",$APP.rr.j("\n",a)].join("")}return null};
Jy=function(a){var b=Hy.o($APP.u($APP.Iy)),c=Gk(a),d=lk($APP.tm.o(c)),e=wy(a);Ay("Scittle error");var f=a.name;$APP.p(f)&&($APP.A.j("Error",f)||zy($APP.F(["Type:    ",f])));f=a.message;$APP.p(f)&&zy($APP.F([["Message:  ",$APP.t.o(f)].join("")]));f=Gk(Ik(a));$APP.p(f)&&zy($APP.F(["Data:     ",$APP.Uj.A($APP.F([f]))]));var g=$APP.ag(c);f=$APP.Re.j(g,$APP.wm);var k=$APP.Re.j(g,$APP.xm);g=$APP.Re.j(g,$APP.Un);$APP.p(k)&&zy($APP.F([["Location: ",$APP.p(f)?[$APP.t.o(f),":"].join(""):null,$APP.t.o(k),":",
$APP.t.o(g),""].join("")]));c=Or.o(c);$APP.p(c)&&zy($APP.F(["Phase:   ",c]));a=d?Gy(a,b):null;$APP.p(a)&&(Ay("Context"),zy($APP.F([a])));d&&(d=function(){var l=function(){var h=new $APP.eb,r=qb,q=$APP.rb;qb=!0;$APP.rb=function(w){return h.append(w)};try{$APP.p(e)&&Ey(e,b)}finally{$APP.rb=q,qb=r}return $APP.t.o(h)}();return Gl(l)?null:l}(),$APP.p(d)&&(Ay("Stack trace"),zy($APP.F([d]))))};
$APP.My=function(a){try{a:{var b=$APP.Zf([$APP.Vr,$APP.u($APP.Ky)]);$APP.Pq(b);try{var c=new Yl(a,$APP.ge(a)),d=new $l(c);var e=hm(d);for(a=null;;){var f=$APP.u($APP.Iy);b=$APP.$f;var g=Lx(f,e,b);if($APP.zf(Kx,g)){var k=$APP.Re.j(b,Fm);var l=$APP.p(k)?k:Ly}else l=g;if($APP.A.j(Ly,l)){Dg($APP.Ky,$APP.u($APP.Vr));var h=a;break a}b=void 0;var r=$APP.u($APP.Iy);c=l;var q=$APP.Ni.v,w=$APP.Mr.o(r);b=$APP.p(w)?w:$APP.Ao.C();var C=q.call($APP.Ni,r,$APP.Mr,b);a=ny(C,c)}}finally{$APP.Rq()}h=void 0}return h}catch(G){throw h=
G,Jy(h),h;}};$APP.Ny=function(a){$APP.Zj.v($APP.Iy,vy,a)};Py=function(){var a=document.querySelectorAll("script[type\x3d'application/x-scittle']");return Oy(a)};Qy=function(){return $APP.cb("iPhone")&&!$APP.cb("iPod")&&!$APP.cb("iPad")};Ty=function(){0!=Ry&&(Sy[$APP.xa(this)]=this);this.$d=this.$d;this.Nd=this.Nd};Uy=function(a,b){this.type=a;this.currentTarget=this.target=b;this.defaultPrevented=this.me=!1};
Vy=function(a,b){Uy.call(this,a?a.type:"");this.relatedTarget=this.currentTarget=this.target=null;this.button=this.screenY=this.screenX=this.clientY=this.clientX=this.offsetY=this.offsetX=0;this.key="";this.charCode=this.keyCode=0;this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1;this.state=null;this.pointerId=0;this.pointerType="";this.ae=null;a&&this.init(a,b)};
Xy=function(a,b,c,d,e){this.listener=a;this.proxy=null;this.src=b;this.type=c;this.capture=!!d;this.handler=e;this.key=++Wy;this.pe=this.xe=!1};Yy=function(a){a.pe=!0;a.listener=null;a.proxy=null;a.src=null;a.handler=null};Zy=function(a){this.src=a;this.Yb={};this.te=0};az=function(a,b){var c=b.type;if(c in a.Yb){var d=a.Yb[c],e=(0,$APP.$y)(d,b),f;(f=0<=e)&&Array.prototype.splice.call(d,e,1);f&&(Yy(b),0==a.Yb[c].length&&(delete a.Yb[c],a.te--))}};
bz=function(a,b,c,d){for(var e=0;e<a.length;++e){var f=a[e];if(!f.pe&&f.listener==b&&f.capture==!!c&&f.handler==d)return e}return-1};$APP.dz=function(a,b,c,d,e){if(d&&d.once)cz(a,b,c,d,e);else if(Array.isArray(b))for(var f=0;f<b.length;f++)$APP.dz(a,b[f],c,d,e);else c=ez(c),a&&a[fz]?a.listen(b,c,qa(d)?!!d.capture:!!d,e):gz(a,b,c,!1,d,e)};
gz=function(a,b,c,d,e,f){if(!b)throw Error("Invalid event type");var g=qa(e)?!!e.capture:!!e,k=hz(a);k||(a[iz]=k=new Zy(a));c=k.add(b,c,d,g,f);if(!c.proxy){d=jz();c.proxy=d;d.src=a;d.listener=c;if(a.addEventListener)kz||(e=g),void 0===e&&(e=!1),a.addEventListener(b.toString(),d,e);else if(a.attachEvent)a.attachEvent(lz(b.toString()),d);else if(a.addListener&&a.removeListener)a.addListener(d);else throw Error("addEventListener and attachEvent are unavailable.");mz++}};
jz=function(){function a(c){return b.call(a.src,a.listener,c)}const b=nz;return a};cz=function(a,b,c,d,e){if(Array.isArray(b))for(var f=0;f<b.length;f++)cz(a,b[f],c,d,e);else c=ez(c),a&&a[fz]?a.Rc.add(String(b),c,!0,qa(d)?!!d.capture:!!d,e):gz(a,b,c,!0,d,e)};oz=function(a,b,c,d,e){if(Array.isArray(b))for(var f=0;f<b.length;f++)oz(a,b[f],c,d,e);else d=qa(d)?!!d.capture:!!d,c=ez(c),a&&a[fz]?a.Rc.remove(String(b),c,d,e):a&&(a=hz(a))&&(b=a.If(b,c,d,e))&&pz(b)};
pz=function(a){if("number"!==typeof a&&a&&!a.pe){var b=a.src;if(b&&b[fz])az(b.Rc,a);else{var c=a.type,d=a.proxy;b.removeEventListener?b.removeEventListener(c,d,a.capture):b.detachEvent?b.detachEvent(lz(c),d):b.addListener&&b.removeListener&&b.removeListener(d);mz--;(c=hz(b))?(az(c,a),0==c.te&&(c.src=null,b[iz]=null)):Yy(a)}}};lz=function(a){return a in qz?qz[a]:qz[a]="on"+a};nz=function(a,b){if(a.pe)a=!0;else{b=new Vy(b,this);var c=a.listener,d=a.handler||a.src;a.xe&&pz(a);a=c.call(d,b)}return a};
hz=function(a){a=a[iz];return a instanceof Zy?a:null};ez=function(a){if("function"===typeof a)return a;a[rz]||(a[rz]=function(b){return a.handleEvent(b)});return a[rz]};$APP.sz=function(){Ty.call(this);this.Rc=new Zy(this);this.rh=this;this.Pf=null};tz=function(a,b,c,d){b=a.Rc.Yb[String(b)];if(!b)return!0;b=b.concat();for(var e=!0,f=0;f<b.length;++f){var g=b[f];if(g&&!g.pe&&g.capture==c){var k=g.listener,l=g.handler||g.src;g.xe&&az(a.Rc,g);e=!1!==k.call(l,d)&&e}}return e&&!d.defaultPrevented};
ba=[];$APP.uz=$APP.uz||{};$APP.la=this||self;ra="closure_uid_"+(1E9*Math.random()>>>0);wa=0;Ea[" "]=$APP.na;var vz,wz,Ia,Ja;
$APP.Ga=class{constructor(a,b){this.Ua=a|0;this.ua=b|0}isSafeInteger(){var a=this.ua>>21;return 0==a||-1==a&&!(0==this.Ua&&-2097152==this.ua)}toString(a){a=a||10;if(2>a||36<a)throw Error("radix out of range: "+a);if(this.isSafeInteger()){var b=$APP.Oa(this);return 10==a?""+b:b.toString(a)}b=14-(a>>2);var c=Math.pow(a,b),d=$APP.Ha(c,c/4294967296);c=this.div(d);var e=Math,f=e.abs;d=c.multiply(d);d=this.add($APP.Ka(d));e=f.call(e,$APP.Oa(d));f=10==a?""+e:e.toString(a);f.length<b&&(f="0000000000000".substr(f.length-
b)+f);e=$APP.Oa(c);return(10==a?e:e.toString(a))+f}equals(a){return this.Ua==a.Ua&&this.ua==a.ua}compare(a){return this.ua==a.ua?this.Ua==a.Ua?0:this.Ua>>>0>a.Ua>>>0?1:-1:this.ua>a.ua?1:-1}add(a){var b=this.ua>>>16,c=this.ua&65535,d=this.Ua>>>16,e=a.ua>>>16,f=a.ua&65535,g=a.Ua>>>16;a=(this.Ua&65535)+(a.Ua&65535);g=(a>>>16)+(d+g);d=g>>>16;d+=c+f;b=(d>>>16)+(b+e)&65535;return $APP.Ha((g&65535)<<16|a&65535,b<<16|d&65535)}multiply(a){if(Pa(this))return this;if(Pa(a))return a;var b=this.ua>>>16,c=this.ua&
65535,d=this.Ua>>>16,e=this.Ua&65535,f=a.ua>>>16,g=a.ua&65535,k=a.Ua>>>16;a=a.Ua&65535;var l=e*a;var h=(l>>>16)+d*a;var r=h>>>16;h=(h&65535)+e*k;r+=h>>>16;r+=c*a;var q=r>>>16;r=(r&65535)+d*k;q+=r>>>16;r=(r&65535)+e*g;q=q+(r>>>16)+(b*a+c*k+d*g+e*f)&65535;return $APP.Ha((h&65535)<<16|l&65535,q<<16|r&65535)}div(a){if(Pa(a))throw Error("division by zero");if(0>this.ua){if(this.equals(Ja)){if(a.equals(vz)||a.equals(wz))return Ja;if(a.equals(Ja))return vz;var b=1;if(0==b)b=this;else{var c=this.ua;b=32>
b?$APP.Ha(this.Ua>>>b|c<<32-b,c>>b):$APP.Ha(c>>b-32,0<=c?0:-1)}b=b.div(a).shiftLeft(1);if(b.equals($APP.La))return 0>a.ua?vz:wz;c=a.multiply(b);c=this.add($APP.Ka(c));return b.add(c.div(a))}return 0>a.ua?$APP.Ka(this).div($APP.Ka(a)):$APP.Ka($APP.Ka(this).div(a))}if(Pa(this))return $APP.La;if(0>a.ua)return a.equals(Ja)?$APP.La:$APP.Ka(this.div($APP.Ka(a)));var d=$APP.La;for(c=this;0<=c.compare(a);){b=Math.max(1,Math.floor($APP.Oa(c)/$APP.Oa(a)));var e=Math.ceil(Math.log(b)/Math.LN2);e=48>=e?1:Math.pow(2,
e-48);for(var f=$APP.Na(b),g=f.multiply(a);0>g.ua||0<g.compare(c);)b-=e,f=$APP.Na(b),g=f.multiply(a);Pa(f)&&(f=vz);d=d.add(f);c=c.add($APP.Ka(g))}return d}not(){return $APP.Ha(~this.Ua,~this.ua)}and(a){return $APP.Ha(this.Ua&a.Ua,this.ua&a.ua)}or(a){return $APP.Ha(this.Ua|a.Ua,this.ua|a.ua)}xor(a){return $APP.Ha(this.Ua^a.Ua,this.ua^a.ua)}shiftLeft(a){a&=63;if(0==a)return this;var b=this.Ua;return 32>a?$APP.Ha(b<<a,this.ua<<a|b>>>32-a):$APP.Ha(0,b<<a-32)}};$APP.Ga.prototype.Ra=$APP.ha(0);
$APP.La=$APP.Ha(0,0);vz=$APP.Ha(1,0);wz=$APP.Ha(-1,-1);Ia=$APP.Ha(4294967295,2147483647);Ja=$APP.Ha(0,2147483648);$APP.xz=String.prototype.trim?function(a){return a.trim()}:function(a){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(a)[1]};var Va="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");$APP.$y=Array.prototype.indexOf?function(a,b){return Array.prototype.indexOf.call(a,b,void 0)}:function(a,b){if("string"===typeof a)return"string"!==typeof b||1!=b.length?-1:a.indexOf(b,0);for(let c=0;c<a.length;c++)if(c in a&&a[c]===b)return c;return-1};var yz;a:{const a=$APP.la.navigator;if(a){const b=a.userAgent;if(b){yz=b;break a}}yz=""}var bb=yz;$APP.zz=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?\x3d[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");$APP.m=$APP.eb.prototype;$APP.m.Xc="";$APP.m.set=function(a){this.Xc=""+a};$APP.m.append=function(a,b,c){this.Xc+=String(a);if(null!=b)for(let d=1;d<arguments.length;d++)this.Xc+=arguments[d];return this};$APP.m.clear=function(){this.Xc=""};$APP.m.getLength=function(){return this.Xc.length};$APP.m.toString=function(){return this.Xc};var eg,qb,jb,mb,Ij,Gd,rl,pl,nl,Az,Dz,kA,vn,UA,sj,Dy,ZA;$APP.cg={};$APP.dg={};$APP.wd={};$APP.rb=null;qb=!0;$APP.hb=!0;jb=!1;mb=!1;Ij=!1;$APP.ob=null;$APP.nj=null;Gd="undefined"!==typeof Symbol&&"function"===$APP.oa(Symbol)?Symbol.iterator:"@@iterator";
rl={"]":"_RBRACK_","'":"_SINGLEQUOTE_","\x3d":"_EQ_",'"':"_DOUBLEQUOTE_","!":"_BANG_","*":"_STAR_","%":"_PERCENT_","|":"_BAR_","~":"_TILDE_","/":"_SLASH_","\\":"_BSLASH_","-":"_","?":"_QMARK_","\x26":"_AMPERSAND_",":":"_COLON_","\x3c":"_LT_","{":"_LBRACE_","}":"_RBRACE_","[":"_LBRACK_","#":"_SHARP_","^":"_CARET_","+":"_PLUS_","@":"_CIRCA_","\x3e":"_GT_"};
pl={_RBRACE_:"}",_COLON_:":",_BANG_:"!",_QMARK_:"?",_BSLASH_:"\\\\",_SLASH_:"/",_PERCENT_:"%",_PLUS_:"+",_SHARP_:"#",_LBRACE_:"{",_BAR_:"|",_LBRACK_:"[",_EQ_:"\x3d",_:"-",_TILDE_:"~",_RBRACK_:"]",_GT_:"\x3e",_SINGLEQUOTE_:"'",_CIRCA_:"@",_AMPERSAND_:"\x26",_DOUBLEQUOTE_:'\\"',_CARET_:"^",_LT_:"\x3c",_STAR_:"*"};nl=null;
Az=function Az(a){switch(arguments.length){case 1:return Az.o(arguments[0]);case 2:return Az.j(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new $APP.Fd(c.slice(2),0,null);return Az.A(arguments[0],arguments[1],c)}};Az.o=function(a){return Array(a)};Az.j=function(a,b){return Array(b)};
Az.A=function(a,b,c){a=Array(b);b=a.length;for(var d=0;;)if(d<b)a[d]=$APP.wg.v?$APP.wg.v(Az,null,c):$APP.wg.call(null,Az,null,c),d+=1;else break;return a};Az.F=function(a){var b=$APP.y.o?$APP.y.o(a):$APP.y.call(null,a),c=$APP.z.o?$APP.z.o(a):$APP.z.call(null,a);a=$APP.y.o?$APP.y.o(c):$APP.y.call(null,c);c=$APP.z.o?$APP.z.o(c):$APP.z.call(null,c);return this.A(b,a,c)};Az.B=2;
var Bz=function Bz(a){switch(arguments.length){case 2:return Bz.j(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new $APP.Fd(c.slice(2),0,null);return Bz.A(arguments[0],arguments[1],c)}};Bz.j=function(a,b){return a[b]};Bz.A=function(a,b,c){a=a[b];return $APP.wg.v?$APP.wg.v(Bz,a,c):$APP.wg.call(null,Bz,a,c)};
Bz.F=function(a){var b=$APP.y.o?$APP.y.o(a):$APP.y.call(null,a),c=$APP.z.o?$APP.z.o(a):$APP.z.call(null,a);a=$APP.y.o?$APP.y.o(c):$APP.y.call(null,c);c=$APP.z.o?$APP.z.o(c):$APP.z.call(null,c);return this.A(b,a,c)};Bz.B=2;
var Cz=function Cz(a){switch(arguments.length){case 3:return Cz.v(arguments[0],arguments[1],arguments[2]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new $APP.Fd(c.slice(3),0,null);return Cz.A(arguments[0],arguments[1],arguments[2],c)}};Cz.v=function(a,b,c){return a[b]=c};Cz.A=function(a,b,c,d){a=a[b];return $APP.wg.J?$APP.wg.J(Cz,a,c,d):$APP.wg.call(null,Cz,a,c,d)};
Cz.F=function(a){var b=$APP.y.o?$APP.y.o(a):$APP.y.call(null,a),c=$APP.z.o?$APP.z.o(a):$APP.z.call(null,a);a=$APP.y.o?$APP.y.o(c):$APP.y.call(null,c);var d=$APP.z.o?$APP.z.o(c):$APP.z.call(null,c);c=$APP.y.o?$APP.y.o(d):$APP.y.call(null,d);d=$APP.z.o?$APP.z.o(d):$APP.z.call(null,d);return this.A(b,a,c,d)};Cz.B=3;
$APP.cv=function cv(a){switch(arguments.length){case 1:return cv.o(arguments[0]);case 2:return cv.j(arguments[0],arguments[1]);default:throw Error(["Invalid arity: ",$APP.t.o(arguments.length)].join(""));}};$APP.cv.o=function(a){return $APP.cv.j(null,a)};$APP.cv.j=function(a,b){function c(d,e){d.push(e);return d}a=[];return $APP.cf.v?$APP.cf.v(c,a,b):$APP.cf.call(null,c,a,b)};$APP.cv.B=2;
Dz=function(){function a(d,e,f){var g=$APP.re[$APP.oa(null==d?null:d)];if(null!=g)return g.v?g.v(d,e,f):g.call(null,d,e,f);g=$APP.re._;if(null!=g)return g.v?g.v(d,e,f):g.call(null,d,e,f);throw $APP.Bb("IIndexed.-nth",d);}function b(d,e){var f=$APP.re[$APP.oa(null==d?null:d)];if(null!=f)return f.j?f.j(d,e):f.call(null,d,e);f=$APP.re._;if(null!=f)return f.j?f.j(d,e):f.call(null,d,e);throw $APP.Bb("IIndexed.-nth",d);}var c=null;c=function(d,e,f){switch(arguments.length){case 2:return b.call(this,d,e);
case 3:return a.call(this,d,e,f)}throw Error("Invalid arity: "+arguments.length);};c.j=b;c.v=a;return c}();$APP.re=function re(a){switch(arguments.length){case 2:return re.j(arguments[0],arguments[1]);case 3:return re.v(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",$APP.t.o(arguments.length)].join(""));}};$APP.re.j=function(a,b){return null!=a&&null!=a.fa?a.fa(a,b):Dz(a,b)};$APP.re.v=function(a,b,c){return null!=a&&null!=a.sb?a.sb(a,b,c):Dz(a,b,c)};$APP.re.B=3;
var Fz=function(){function a(d,e,f){var g=Ez[$APP.oa(null==d?null:d)];if(null!=g)return g.v?g.v(d,e,f):g.call(null,d,e,f);g=Ez._;if(null!=g)return g.v?g.v(d,e,f):g.call(null,d,e,f);throw $APP.Bb("ILookup.-lookup",d);}function b(d,e){var f=Ez[$APP.oa(null==d?null:d)];if(null!=f)return f.j?f.j(d,e):f.call(null,d,e);f=Ez._;if(null!=f)return f.j?f.j(d,e):f.call(null,d,e);throw $APP.Bb("ILookup.-lookup",d);}var c=null;c=function(d,e,f){switch(arguments.length){case 2:return b.call(this,d,e);case 3:return a.call(this,
d,e,f)}throw Error("Invalid arity: "+arguments.length);};c.j=b;c.v=a;return c}(),Ez=function Ez(a){switch(arguments.length){case 2:return Ez.j(arguments[0],arguments[1]);case 3:return Ez.v(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",$APP.t.o(arguments.length)].join(""));}};Ez.j=function(a,b){return null!=a&&null!=a.sa?a.sa(a,b):Fz(a,b)};Ez.v=function(a,b,c){return null!=a&&null!=a.V?a.V(a,b,c):Fz(a,b,c)};Ez.B=3;
var Hz=function(){function a(d,e,f){var g=Gz[$APP.oa(null==d?null:d)];if(null!=g)return g.v?g.v(d,e,f):g.call(null,d,e,f);g=Gz._;if(null!=g)return g.v?g.v(d,e,f):g.call(null,d,e,f);throw $APP.Bb("IReduce.-reduce",d);}function b(d,e){var f=Gz[$APP.oa(null==d?null:d)];if(null!=f)return f.j?f.j(d,e):f.call(null,d,e);f=Gz._;if(null!=f)return f.j?f.j(d,e):f.call(null,d,e);throw $APP.Bb("IReduce.-reduce",d);}var c=null;c=function(d,e,f){switch(arguments.length){case 2:return b.call(this,d,e);case 3:return a.call(this,
d,e,f)}throw Error("Invalid arity: "+arguments.length);};c.j=b;c.v=a;return c}(),Gz=function Gz(a){switch(arguments.length){case 2:return Gz.j(arguments[0],arguments[1]);case 3:return Gz.v(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",$APP.t.o(arguments.length)].join(""));}};Gz.j=function(a,b){return null!=a&&null!=a.Ya?a.Ya(a,b):Hz(a,b)};Gz.v=function(a,b,c){return null!=a&&null!=a.Za?a.Za(a,b,c):Hz(a,b,c)};Gz.B=3;
var Jz=function(){function a(f,g,k,l,h){var r=Iz[$APP.oa(null==f?null:f)];if(null!=r)return r.S?r.S(f,g,k,l,h):r.call(null,f,g,k,l,h);r=Iz._;if(null!=r)return r.S?r.S(f,g,k,l,h):r.call(null,f,g,k,l,h);throw $APP.Bb("ISwap.-swap!",f);}function b(f,g,k,l){var h=Iz[$APP.oa(null==f?null:f)];if(null!=h)return h.J?h.J(f,g,k,l):h.call(null,f,g,k,l);h=Iz._;if(null!=h)return h.J?h.J(f,g,k,l):h.call(null,f,g,k,l);throw $APP.Bb("ISwap.-swap!",f);}function c(f,g,k){var l=Iz[$APP.oa(null==f?null:f)];if(null!=
l)return l.v?l.v(f,g,k):l.call(null,f,g,k);l=Iz._;if(null!=l)return l.v?l.v(f,g,k):l.call(null,f,g,k);throw $APP.Bb("ISwap.-swap!",f);}function d(f,g){var k=Iz[$APP.oa(null==f?null:f)];if(null!=k)return k.j?k.j(f,g):k.call(null,f,g);k=Iz._;if(null!=k)return k.j?k.j(f,g):k.call(null,f,g);throw $APP.Bb("ISwap.-swap!",f);}var e=null;e=function(f,g,k,l,h){switch(arguments.length){case 2:return d.call(this,f,g);case 3:return c.call(this,f,g,k);case 4:return b.call(this,f,g,k,l);case 5:return a.call(this,
f,g,k,l,h)}throw Error("Invalid arity: "+arguments.length);};e.j=d;e.v=c;e.J=b;e.S=a;return e}(),Iz=function Iz(a){switch(arguments.length){case 2:return Iz.j(arguments[0],arguments[1]);case 3:return Iz.v(arguments[0],arguments[1],arguments[2]);case 4:return Iz.J(arguments[0],arguments[1],arguments[2],arguments[3]);case 5:return Iz.S(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4]);default:throw Error(["Invalid arity: ",$APP.t.o(arguments.length)].join(""));}};
Iz.j=function(a,b){return null!=a&&null!=a.ye?a.ye(a,b):Jz(a,b)};Iz.v=function(a,b,c){return null!=a&&null!=a.ze?a.ze(a,b,c):Jz(a,b,c)};Iz.J=function(a,b,c,d){return null!=a&&null!=a.Ae?a.Ae(a,b,c,d):Jz(a,b,c,d)};Iz.S=function(a,b,c,d,e){return null!=a&&null!=a.Be?a.Be(a,b,c,d,e):Jz(a,b,c,d,e)};Iz.B=5;$APP.md.prototype.$c=function(a,b){return this.ri.append(b)};$APP.md.prototype.Ec=function(){return null};
var od="undefined"!==typeof Math&&"undefined"!==typeof Math.imul?function(a,b){return Math.imul(a,b)}:function(a,b){var c=a&65535,d=b&65535;return c*d+((a>>>16&65535)*d+c*(b>>>16&65535)<<16>>>0)|0},ud={},sd=0;$APP.m=$APP.v.prototype;$APP.m.toString=function(){return this.Pb};$APP.m.Y=$APP.ha(31);$APP.m.U=function(a,b){return b instanceof $APP.v?this.Pb===b.Pb:!1};
$APP.m.call=function(a){switch(arguments.length-1){case 1:return this.o(arguments[1]);case 2:return this.j(arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",$APP.t.o(arguments.length-1)].join(""));}};$APP.m.apply=function(a,b){return this.call.apply(this,[this].concat(Eb(b)))};$APP.m.o=function(a){return $APP.Re.j?$APP.Re.j(a,this):$APP.Re.call(null,a,this)};$APP.m.j=function(a,b){return $APP.Re.v?$APP.Re.v(a,this,b):$APP.Re.call(null,a,this,b)};$APP.m.aa=function(){return this.fc};
$APP.m.ea=function(a,b){return new $APP.v(this.ns,this.name,this.Pb,this.vd,b)};$APP.m.ga=function(){var a=this.vd;return null!=a?a:this.vd=a=Ad(this)};$APP.m.Cd=function(){return this.name};$APP.m.Dd=function(){return this.ns};$APP.m.Z=function(a,b){return $APP.Mc(b,this.Pb)};$APP.Gj=function Gj(a){switch(arguments.length){case 1:return Gj.o(arguments[0]);case 2:return Gj.j(arguments[0],arguments[1]);default:throw Error(["Invalid arity: ",$APP.t.o(arguments.length)].join(""));}};
$APP.Gj.o=function(a){for(;;){if(a instanceof $APP.v)return a;if("string"===typeof a){var b=a.indexOf("/");return 1>b?$APP.Gj.j(null,a):$APP.Gj.j(a.substring(0,b),a.substring(b+1,a.length))}if(a instanceof $APP.Cd)return a.Ic;if(a instanceof $APP.K)a=a.ia;else throw Error("no conversion to symbol");}};$APP.Gj.j=function(a,b){var c=null!=a?[$APP.t.o(a),"/",$APP.t.o(b)].join(""):b;return new $APP.v(a,b,c,null,null)};$APP.Gj.B=2;$APP.m=$APP.Cd.prototype;$APP.m.toString=function(){return["#'",$APP.t.o(this.Ic)].join("")};
$APP.m.Ca=function(){return this.val.C?this.val.C():this.val.call(null)};$APP.m.aa=function(){return this.fc};$APP.m.ea=function(a,b){return new $APP.Cd(this.val,this.Ic,b)};$APP.m.U=function(a,b){return b instanceof $APP.Cd?(a=this.Ic,b=b.Ic,$APP.A.j?$APP.A.j(a,b):$APP.A.call(null,a,b)):!1};$APP.m.ga=function(){return Ad(this.Ic)};$APP.m.og=$APP.wd;
$APP.m.call=function(a){switch(arguments.length-1){case 0:return this.C();case 1:return this.o(arguments[1]);case 2:return this.j(arguments[1],arguments[2]);case 3:return this.v(arguments[1],arguments[2],arguments[3]);case 4:return this.J(arguments[1],arguments[2],arguments[3],arguments[4]);case 5:return this.S(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]);case 6:return this.qa(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6]);case 7:return this.Na(arguments[1],
arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7]);case 8:return this.za(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8]);case 9:return this.Oa(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9]);case 10:return this.Da(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10]);
case 11:return this.Ea(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11]);case 12:return this.Fa(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12]);case 13:return this.Ga(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],
arguments[11],arguments[12],arguments[13]);case 14:return this.Ha(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14]);case 15:return this.Ia(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15]);case 16:return this.Ja(arguments[1],
arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15],arguments[16]);case 17:return this.Ka(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15],arguments[16],arguments[17]);case 18:return this.La(arguments[1],arguments[2],
arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15],arguments[16],arguments[17],arguments[18]);case 19:return this.Ma(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15],arguments[16],arguments[17],arguments[18],arguments[19]);case 20:return this.rb(arguments[1],
arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15],arguments[16],arguments[17],arguments[18],arguments[19],arguments[20]);case 21:return this.Lc(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15],arguments[16],arguments[17],
arguments[18],arguments[19],arguments[20],arguments[21]);default:throw Error(["Invalid arity: ",$APP.t.o(arguments.length-1)].join(""));}};$APP.m.apply=function(a,b){return this.call.apply(this,[this].concat(Eb(b)))};$APP.m.C=function(){var a=this.val.C?this.val.C():this.val.call(null);return a.C?a.C():a.call(null)};$APP.m.o=function(a){var b=this.val.C?this.val.C():this.val.call(null);return b.o?b.o(a):b.call(null,a)};
$APP.m.j=function(a,b){var c=this.val.C?this.val.C():this.val.call(null);return c.j?c.j(a,b):c.call(null,a,b)};$APP.m.v=function(a,b,c){var d=this.val.C?this.val.C():this.val.call(null);return d.v?d.v(a,b,c):d.call(null,a,b,c)};$APP.m.J=function(a,b,c,d){var e=this.val.C?this.val.C():this.val.call(null);return e.J?e.J(a,b,c,d):e.call(null,a,b,c,d)};$APP.m.S=function(a,b,c,d,e){var f=this.val.C?this.val.C():this.val.call(null);return f.S?f.S(a,b,c,d,e):f.call(null,a,b,c,d,e)};
$APP.m.qa=function(a,b,c,d,e,f){var g=this.val.C?this.val.C():this.val.call(null);return g.qa?g.qa(a,b,c,d,e,f):g.call(null,a,b,c,d,e,f)};$APP.m.Na=function(a,b,c,d,e,f,g){var k=this.val.C?this.val.C():this.val.call(null);return k.Na?k.Na(a,b,c,d,e,f,g):k.call(null,a,b,c,d,e,f,g)};$APP.m.za=function(a,b,c,d,e,f,g,k){var l=this.val.C?this.val.C():this.val.call(null);return l.za?l.za(a,b,c,d,e,f,g,k):l.call(null,a,b,c,d,e,f,g,k)};
$APP.m.Oa=function(a,b,c,d,e,f,g,k,l){var h=this.val.C?this.val.C():this.val.call(null);return h.Oa?h.Oa(a,b,c,d,e,f,g,k,l):h.call(null,a,b,c,d,e,f,g,k,l)};$APP.m.Da=function(a,b,c,d,e,f,g,k,l,h){var r=this.val.C?this.val.C():this.val.call(null);return r.Da?r.Da(a,b,c,d,e,f,g,k,l,h):r.call(null,a,b,c,d,e,f,g,k,l,h)};$APP.m.Ea=function(a,b,c,d,e,f,g,k,l,h,r){var q=this.val.C?this.val.C():this.val.call(null);return q.Ea?q.Ea(a,b,c,d,e,f,g,k,l,h,r):q.call(null,a,b,c,d,e,f,g,k,l,h,r)};
$APP.m.Fa=function(a,b,c,d,e,f,g,k,l,h,r,q){var w=this.val.C?this.val.C():this.val.call(null);return w.Fa?w.Fa(a,b,c,d,e,f,g,k,l,h,r,q):w.call(null,a,b,c,d,e,f,g,k,l,h,r,q)};$APP.m.Ga=function(a,b,c,d,e,f,g,k,l,h,r,q,w){var C=this.val.C?this.val.C():this.val.call(null);return C.Ga?C.Ga(a,b,c,d,e,f,g,k,l,h,r,q,w):C.call(null,a,b,c,d,e,f,g,k,l,h,r,q,w)};
$APP.m.Ha=function(a,b,c,d,e,f,g,k,l,h,r,q,w,C){var G=this.val.C?this.val.C():this.val.call(null);return G.Ha?G.Ha(a,b,c,d,e,f,g,k,l,h,r,q,w,C):G.call(null,a,b,c,d,e,f,g,k,l,h,r,q,w,C)};$APP.m.Ia=function(a,b,c,d,e,f,g,k,l,h,r,q,w,C,G){var M=this.val.C?this.val.C():this.val.call(null);return M.Ia?M.Ia(a,b,c,d,e,f,g,k,l,h,r,q,w,C,G):M.call(null,a,b,c,d,e,f,g,k,l,h,r,q,w,C,G)};
$APP.m.Ja=function(a,b,c,d,e,f,g,k,l,h,r,q,w,C,G,M){var R=this.val.C?this.val.C():this.val.call(null);return R.Ja?R.Ja(a,b,c,d,e,f,g,k,l,h,r,q,w,C,G,M):R.call(null,a,b,c,d,e,f,g,k,l,h,r,q,w,C,G,M)};$APP.m.Ka=function(a,b,c,d,e,f,g,k,l,h,r,q,w,C,G,M,R){var W=this.val.C?this.val.C():this.val.call(null);return W.Ka?W.Ka(a,b,c,d,e,f,g,k,l,h,r,q,w,C,G,M,R):W.call(null,a,b,c,d,e,f,g,k,l,h,r,q,w,C,G,M,R)};
$APP.m.La=function(a,b,c,d,e,f,g,k,l,h,r,q,w,C,G,M,R,W){var Z=this.val.C?this.val.C():this.val.call(null);return Z.La?Z.La(a,b,c,d,e,f,g,k,l,h,r,q,w,C,G,M,R,W):Z.call(null,a,b,c,d,e,f,g,k,l,h,r,q,w,C,G,M,R,W)};$APP.m.Ma=function(a,b,c,d,e,f,g,k,l,h,r,q,w,C,G,M,R,W,Z){var ea=this.val.C?this.val.C():this.val.call(null);return ea.Ma?ea.Ma(a,b,c,d,e,f,g,k,l,h,r,q,w,C,G,M,R,W,Z):ea.call(null,a,b,c,d,e,f,g,k,l,h,r,q,w,C,G,M,R,W,Z)};
$APP.m.rb=function(a,b,c,d,e,f,g,k,l,h,r,q,w,C,G,M,R,W,Z,ea){var ia=this.val.C?this.val.C():this.val.call(null);return ia.rb?ia.rb(a,b,c,d,e,f,g,k,l,h,r,q,w,C,G,M,R,W,Z,ea):ia.call(null,a,b,c,d,e,f,g,k,l,h,r,q,w,C,G,M,R,W,Z,ea)};$APP.m.Lc=function(a,b,c,d,e,f,g,k,l,h,r,q,w,C,G,M,R,W,Z,ea,ia){var ka=this.val.C?this.val.C():this.val.call(null);return $APP.wg.mf?$APP.wg.mf(ka,a,b,c,d,e,f,g,k,l,h,r,q,w,C,G,M,R,W,Z,ea,ia):$APP.wg.call(null,ka,a,b,c,d,e,f,g,k,l,h,r,q,w,C,G,M,R,W,Z,ea,ia)};
$APP.A=function A(a){switch(arguments.length){case 1:return A.o(arguments[0]);case 2:return A.j(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new $APP.Fd(c.slice(2),0,null);return A.A(arguments[0],arguments[1],c)}};$APP.A.o=function(){return!0};$APP.A.j=function(a,b){return null==a?null==b:a===b||xc(a,b)};
$APP.A.A=function(a,b,c){for(;;)if($APP.A.j(a,b))if($APP.z(c))a=b,b=$APP.y(c),c=$APP.z(c);else return $APP.A.j(b,$APP.y(c));else return!1};$APP.A.F=function(a){var b=$APP.y(a),c=$APP.z(a);a=$APP.y(c);c=$APP.z(c);return this.A(b,a,c)};$APP.A.B=2;Kd.prototype.next=function(){if(null!=this.s){var a=$APP.y(this.s);this.s=$APP.z(this.s);return{value:a,done:!1}}return{value:null,done:!0}};Md.prototype.ja=function(){return this};Md.prototype.Ta=function(){return this.value};
Md.prototype.$a=function(){null==this.Ye&&(this.Ye=Hd.o?Hd.o(this.Ld):Hd.call(null,this.Ld));return this.Ye};var Kz=rd(qd(0,pd(1)),0),Lz=rd(qd(0,pd(0)),0);Ib["null"]=!0;Jb["null"]=function(){return 0};$APP.m=Date.prototype;$APP.m.U=function(a,b){return b instanceof Date&&this.valueOf()===b.valueOf()};$APP.m.Dc=$APP.wd;$APP.m.hc=function(a,b){if(b instanceof Date)return Ya(this.valueOf(),b.valueOf());throw Error(["Cannot compare ",$APP.t.o(this)," to ",$APP.t.o(b)].join(""));};$APP.m.Fh=$APP.wd;
$APP.m.zg=function(){return this.getTime()};xc.number=function(a,b){return a===b};Gb["function"]=!0;nc["function"]=!0;oc["function"]=function(){return null};yc._=function(a){return $APP.xa(a)};Ud.prototype.Ca=function(){return this.val};je.prototype.Ba=function(){return this.i<this.K.length};je.prototype.next=function(){var a=this.K[this.i];this.i+=1;return a};$APP.m=$APP.Fd.prototype;$APP.m.toString=function(){return nd(this)};$APP.m.Y=$APP.ha(30);
$APP.m.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return he(this,b,0);case 2:return he(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.o=function(b){return he(this,b,0)};a.j=function(b,c){return he(this,b,c)};return a}();
$APP.m.lastIndexOf=function(){function a(c){return ie(this,c,$APP.ge.o?$APP.ge.o(this):$APP.ge.call(null,this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return ie(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.o=a;b.j=function(c,d){return ie(this,c,d)};return b}();$APP.m.fa=function(a,b){a=b+this.i;if(0<=a&&a<this.K.length)return this.K[a];throw Error("Index out of bounds");};
$APP.m.sb=function(a,b,c){a=b+this.i;return 0<=a&&a<this.K.length?this.K[a]:c};$APP.m.Aa=function(){return new je(this.K,this.i)};$APP.m.aa=function(){return this.meta};$APP.m.ka=$APP.ha(52);$APP.m.Xa=function(){return this.i+1<this.K.length?new $APP.Fd(this.K,this.i+1,null):null};$APP.m.ma=function(){var a=this.K.length-this.i;return 0>a?0:a};$APP.m.Mc=function(){var a=this.ma(null);return 0<a?new $APP.ke(this,a-1,null):null};$APP.m.ga=function(){return Nd(this)};
$APP.m.U=function(a,b){return pf.j?pf.j(this,b):pf.call(null,this,b)};$APP.m.ya=function(){return $APP.Id};$APP.m.Ya=function(a,b){return de(this.K,b,this.K[this.i],this.i+1)};$APP.m.Za=function(a,b,c){return de(this.K,b,c,this.i)};$APP.m.Ta=function(){return this.K[this.i]};$APP.m.$a=function(){return this.i+1<this.K.length?new $APP.Fd(this.K,this.i+1,null):$APP.Id};$APP.m.ja=function(){return this.i<this.K.length?this:null};
$APP.m.ea=function(a,b){return b===this.meta?this:new $APP.Fd(this.K,this.i,b)};$APP.m.oa=function(a,b){return $APP.wf.j?$APP.wf.j(b,this):$APP.wf.call(null,b,this)};$APP.Fd.prototype[Gd]=function(){return Ld(this)};$APP.m=$APP.ke.prototype;$APP.m.toString=function(){return nd(this)};$APP.m.Y=$APP.ha(29);
$APP.m.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return he(this,b,0);case 2:return he(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.o=function(b){return he(this,b,0)};a.j=function(b,c){return he(this,b,c)};return a}();
$APP.m.lastIndexOf=function(){function a(c){return ie(this,c,$APP.ge.o?$APP.ge.o(this):$APP.ge.call(null,this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return ie(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.o=a;b.j=function(c,d){return ie(this,c,d)};return b}();$APP.m.aa=function(){return this.meta};$APP.m.ka=$APP.ha(51);$APP.m.Xa=function(){return 0<this.i?new $APP.ke(this.Sd,this.i-1,null):null};
$APP.m.ma=function(){return this.i+1};$APP.m.ga=function(){return Nd(this)};$APP.m.U=function(a,b){return pf.j?pf.j(this,b):pf.call(null,this,b)};$APP.m.ya=function(){return $APP.Id};$APP.m.Ya=function(a,b){return $e?$e(b,this):bf.call(null,b,this)};$APP.m.Za=function(a,b,c){return af?af(b,c,this):bf.call(null,b,c,this)};$APP.m.Ta=function(){return $APP.re(this.Sd,this.i)};$APP.m.$a=function(){return 0<this.i?new $APP.ke(this.Sd,this.i-1,null):$APP.Id};$APP.m.ja=function(){return this};
$APP.m.ea=function(a,b){return b===this.meta?this:new $APP.ke(this.Sd,this.i,b)};$APP.m.oa=function(a,b){return $APP.wf.j?$APP.wf.j(b,this):$APP.wf.call(null,b,this)};$APP.ke.prototype[Gd]=function(){return Ld(this)};xc._=function(a,b){return a===b};
$APP.tf=function tf(a){switch(arguments.length){case 0:return tf.C();case 1:return tf.o(arguments[0]);case 2:return tf.j(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new $APP.Fd(c.slice(2),0,null);return tf.A(arguments[0],arguments[1],c)}};$APP.tf.C=function(){return $APP.ih};$APP.tf.o=function(a){return a};$APP.tf.j=function(a,b){return null!=a?$APP.Nb(a,b):new $APP.J(null,b,null,1,null)};
$APP.tf.A=function(a,b,c){for(;;)if($APP.p(c))a=$APP.tf.j(a,b),b=$APP.y(c),c=$APP.z(c);else return $APP.tf.j(a,b)};$APP.tf.F=function(a){var b=$APP.y(a),c=$APP.z(a);a=$APP.y(c);c=$APP.z(c);return this.A(b,a,c)};$APP.tf.B=2;$APP.D=function D(a){switch(arguments.length){case 2:return D.j(arguments[0],arguments[1]);case 3:return D.v(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",$APP.t.o(arguments.length)].join(""));}};
$APP.D.j=function(a,b){if("number"!==typeof b)throw Error("Index argument to nth must be a number");if(null==a)return a;if(null!=a&&(a.M&16||$APP.wd===a.qg))return a.fa(null,b);if(vb(a)){if(-1<b&&b<a.length)return a[b|0];throw Error("Index out of bounds");}if("string"===typeof a){if(-1<b&&b<a.length)return a.charAt(b|0);throw Error("Index out of bounds");}if(null!=a&&(a.M&64||$APP.wd===a.Ed)||null!=a&&(a.M&16777216||$APP.wd===a.tf)){if(0>b)throw Error("Index out of bounds");a:for(;;){if(null==a)throw Error("Index out of bounds");
if(0===b){if($APP.x(a)){a=$APP.y(a);break a}throw Error("Index out of bounds");}if(fe(a)){a=$APP.re(a,b);break a}if($APP.x(a))a=$APP.z(a),--b;else throw Error("Index out of bounds");}return a}if($APP.zb(Pb,a))return $APP.re(a,b);throw Error(["nth not supported on this type ",$APP.t.o(Cb($APP.Ab(a)))].join(""));};
$APP.D.v=function(a,b,c){if("number"!==typeof b)throw Error("Index argument to nth must be a number.");if(null==a)return c;if(null!=a&&(a.M&16||$APP.wd===a.qg))return a.sb(null,b,c);if(vb(a))return-1<b&&b<a.length?a[b|0]:c;if("string"===typeof a)return-1<b&&b<a.length?a.charAt(b|0):c;if(null!=a&&(a.M&64||$APP.wd===a.Ed)||null!=a&&(a.M&16777216||$APP.wd===a.tf))return 0>b?c:se(a,b,c);if($APP.zb(Pb,a))return $APP.re(a,b,c);throw Error(["nth not supported on this type ",$APP.t.o(Cb($APP.Ab(a)))].join(""));
};$APP.D.B=3;$APP.Re=function Re(a){switch(arguments.length){case 2:return Re.j(arguments[0],arguments[1]);case 3:return Re.v(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",$APP.t.o(arguments.length)].join(""));}};$APP.Re.j=function(a,b){return null==a?null:null!=a&&(a.M&256||$APP.wd===a.Ah)?a.sa(null,b):vb(a)?null!=b&&b<a.length?a[b|0]:null:"string"===typeof a?null!=b&&-1<b&&b<a.length?a.charAt(b|0):null:$APP.zb(Vb,a)?Ez(a,b):null};
$APP.Re.v=function(a,b,c){return null!=a?null!=a&&(a.M&256||$APP.wd===a.Ah)?a.V(null,b,c):vb(a)?null!=b&&-1<b&&b<a.length?a[b|0]:c:"string"===typeof a?null!=b&&-1<b&&b<a.length?a.charAt(b|0):c:$APP.zb(Vb,a)?Ez(a,b,c):c:c};$APP.Re.B=3;
$APP.Ni=function Ni(a){switch(arguments.length){case 3:return Ni.v(arguments[0],arguments[1],arguments[2]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new $APP.Fd(c.slice(3),0,null);return Ni.A(arguments[0],arguments[1],arguments[2],c)}};$APP.Ni.v=function(a,b,c){return null!=a&&(a.M&512||$APP.wd===a.pg)?a.pa(null,b,c):null!=a?Yb(a,b,c):$APP.Zf([b,c])};
$APP.Ni.A=function(a,b,c,d){for(;;)if(a=$APP.Ni.v(a,b,c),$APP.p(d))b=$APP.y(d),c=$APP.le(d),d=oe(d);else return a};$APP.Ni.F=function(a){var b=$APP.y(a),c=$APP.z(a);a=$APP.y(c);var d=$APP.z(c);c=$APP.y(d);d=$APP.z(d);return this.A(b,a,c,d)};$APP.Ni.B=3;
$APP.nm=function nm(a){switch(arguments.length){case 1:return nm.o(arguments[0]);case 2:return nm.j(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new $APP.Fd(c.slice(2),0,null);return nm.A(arguments[0],arguments[1],c)}};$APP.nm.o=function(a){return a};$APP.nm.j=function(a,b){return null==a?null:dc(a,b)};$APP.nm.A=function(a,b,c){for(;;){if(null==a)return null;a=$APP.nm.j(a,b);if($APP.p(c))b=$APP.y(c),c=$APP.z(c);else return a}};
$APP.nm.F=function(a){var b=$APP.y(a),c=$APP.z(a);a=$APP.y(c);c=$APP.z(c);return this.A(b,a,c)};$APP.nm.B=2;$APP.m=ue.prototype;$APP.m.aa=function(){return this.meta};$APP.m.ea=function(a,b){return new ue(this.afn,b)};$APP.m.og=$APP.wd;
$APP.m.call=function(a){switch(arguments.length-1){case 0:return this.C();case 1:return this.o(arguments[1]);case 2:return this.j(arguments[1],arguments[2]);case 3:return this.v(arguments[1],arguments[2],arguments[3]);case 4:return this.J(arguments[1],arguments[2],arguments[3],arguments[4]);case 5:return this.S(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]);case 6:return this.qa(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6]);case 7:return this.Na(arguments[1],
arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7]);case 8:return this.za(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8]);case 9:return this.Oa(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9]);case 10:return this.Da(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10]);
case 11:return this.Ea(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11]);case 12:return this.Fa(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12]);case 13:return this.Ga(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],
arguments[11],arguments[12],arguments[13]);case 14:return this.Ha(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14]);case 15:return this.Ia(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15]);case 16:return this.Ja(arguments[1],
arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15],arguments[16]);case 17:return this.Ka(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15],arguments[16],arguments[17]);case 18:return this.La(arguments[1],arguments[2],
arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15],arguments[16],arguments[17],arguments[18]);case 19:return this.Ma(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15],arguments[16],arguments[17],arguments[18],arguments[19]);case 20:return this.rb(arguments[1],
arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15],arguments[16],arguments[17],arguments[18],arguments[19],arguments[20]);case 21:return this.Lc(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15],arguments[16],arguments[17],
arguments[18],arguments[19],arguments[20],arguments[21]);default:throw Error(["Invalid arity: ",$APP.t.o(arguments.length-1)].join(""));}};$APP.m.apply=function(a,b){return this.call.apply(this,[this].concat(Eb(b)))};$APP.m.C=function(){return this.afn.C?this.afn.C():this.afn.call(null)};$APP.m.o=function(a){return this.afn.o?this.afn.o(a):this.afn.call(null,a)};$APP.m.j=function(a,b){return this.afn.j?this.afn.j(a,b):this.afn.call(null,a,b)};
$APP.m.v=function(a,b,c){return this.afn.v?this.afn.v(a,b,c):this.afn.call(null,a,b,c)};$APP.m.J=function(a,b,c,d){return this.afn.J?this.afn.J(a,b,c,d):this.afn.call(null,a,b,c,d)};$APP.m.S=function(a,b,c,d,e){return this.afn.S?this.afn.S(a,b,c,d,e):this.afn.call(null,a,b,c,d,e)};$APP.m.qa=function(a,b,c,d,e,f){return this.afn.qa?this.afn.qa(a,b,c,d,e,f):this.afn.call(null,a,b,c,d,e,f)};
$APP.m.Na=function(a,b,c,d,e,f,g){return this.afn.Na?this.afn.Na(a,b,c,d,e,f,g):this.afn.call(null,a,b,c,d,e,f,g)};$APP.m.za=function(a,b,c,d,e,f,g,k){return this.afn.za?this.afn.za(a,b,c,d,e,f,g,k):this.afn.call(null,a,b,c,d,e,f,g,k)};$APP.m.Oa=function(a,b,c,d,e,f,g,k,l){return this.afn.Oa?this.afn.Oa(a,b,c,d,e,f,g,k,l):this.afn.call(null,a,b,c,d,e,f,g,k,l)};$APP.m.Da=function(a,b,c,d,e,f,g,k,l,h){return this.afn.Da?this.afn.Da(a,b,c,d,e,f,g,k,l,h):this.afn.call(null,a,b,c,d,e,f,g,k,l,h)};
$APP.m.Ea=function(a,b,c,d,e,f,g,k,l,h,r){return this.afn.Ea?this.afn.Ea(a,b,c,d,e,f,g,k,l,h,r):this.afn.call(null,a,b,c,d,e,f,g,k,l,h,r)};$APP.m.Fa=function(a,b,c,d,e,f,g,k,l,h,r,q){return this.afn.Fa?this.afn.Fa(a,b,c,d,e,f,g,k,l,h,r,q):this.afn.call(null,a,b,c,d,e,f,g,k,l,h,r,q)};$APP.m.Ga=function(a,b,c,d,e,f,g,k,l,h,r,q,w){return this.afn.Ga?this.afn.Ga(a,b,c,d,e,f,g,k,l,h,r,q,w):this.afn.call(null,a,b,c,d,e,f,g,k,l,h,r,q,w)};
$APP.m.Ha=function(a,b,c,d,e,f,g,k,l,h,r,q,w,C){return this.afn.Ha?this.afn.Ha(a,b,c,d,e,f,g,k,l,h,r,q,w,C):this.afn.call(null,a,b,c,d,e,f,g,k,l,h,r,q,w,C)};$APP.m.Ia=function(a,b,c,d,e,f,g,k,l,h,r,q,w,C,G){return this.afn.Ia?this.afn.Ia(a,b,c,d,e,f,g,k,l,h,r,q,w,C,G):this.afn.call(null,a,b,c,d,e,f,g,k,l,h,r,q,w,C,G)};$APP.m.Ja=function(a,b,c,d,e,f,g,k,l,h,r,q,w,C,G,M){return this.afn.Ja?this.afn.Ja(a,b,c,d,e,f,g,k,l,h,r,q,w,C,G,M):this.afn.call(null,a,b,c,d,e,f,g,k,l,h,r,q,w,C,G,M)};
$APP.m.Ka=function(a,b,c,d,e,f,g,k,l,h,r,q,w,C,G,M,R){return this.afn.Ka?this.afn.Ka(a,b,c,d,e,f,g,k,l,h,r,q,w,C,G,M,R):this.afn.call(null,a,b,c,d,e,f,g,k,l,h,r,q,w,C,G,M,R)};$APP.m.La=function(a,b,c,d,e,f,g,k,l,h,r,q,w,C,G,M,R,W){return this.afn.La?this.afn.La(a,b,c,d,e,f,g,k,l,h,r,q,w,C,G,M,R,W):this.afn.call(null,a,b,c,d,e,f,g,k,l,h,r,q,w,C,G,M,R,W)};
$APP.m.Ma=function(a,b,c,d,e,f,g,k,l,h,r,q,w,C,G,M,R,W,Z){return this.afn.Ma?this.afn.Ma(a,b,c,d,e,f,g,k,l,h,r,q,w,C,G,M,R,W,Z):this.afn.call(null,a,b,c,d,e,f,g,k,l,h,r,q,w,C,G,M,R,W,Z)};$APP.m.rb=function(a,b,c,d,e,f,g,k,l,h,r,q,w,C,G,M,R,W,Z,ea){return this.afn.rb?this.afn.rb(a,b,c,d,e,f,g,k,l,h,r,q,w,C,G,M,R,W,Z,ea):this.afn.call(null,a,b,c,d,e,f,g,k,l,h,r,q,w,C,G,M,R,W,Z,ea)};
$APP.m.Lc=function(a,b,c,d,e,f,g,k,l,h,r,q,w,C,G,M,R,W,Z,ea,ia){return $APP.wg.mf?$APP.wg.mf(this.afn,a,b,c,d,e,f,g,k,l,h,r,q,w,C,G,M,R,W,Z,ea,ia):$APP.wg.call(null,this.afn,a,b,c,d,e,f,g,k,l,h,r,q,w,C,G,M,R,W,Z,ea,ia)};
$APP.Ts=function Ts(a){switch(arguments.length){case 1:return Ts.o(arguments[0]);case 2:return Ts.j(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new $APP.Fd(c.slice(2),0,null);return Ts.A(arguments[0],arguments[1],c)}};$APP.Ts.o=function(a){return a};$APP.Ts.j=function(a,b){return null==a?null:hc(a,b)};$APP.Ts.A=function(a,b,c){for(;;){if(null==a)return null;a=$APP.Ts.j(a,b);if($APP.p(c))b=$APP.y(c),c=$APP.z(c);else return a}};
$APP.Ts.F=function(a){var b=$APP.y(a),c=$APP.z(a);a=$APP.y(c);c=$APP.z(c);return this.A(b,a,c)};$APP.Ts.B=2;var Vw=function Vw(a){switch(arguments.length){case 0:return Vw.C();default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new $APP.Fd(c.slice(0),0,null);return Vw.A(c)}};Vw.C=function(){return{}};Vw.A=function(a){return $APP.wg.j?$APP.wg.j(Xa,a):$APP.wg.call(null,Xa,a)};Vw.F=function(a){return this.A($APP.x(a))};Vw.B=0;
var Se={},Tp=function Tp(a){switch(arguments.length){case 1:return Tp.o(arguments[0]);case 2:return Tp.j(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new $APP.Fd(c.slice(2),0,null);return Tp.A(arguments[0],arguments[1],c)}};Tp.o=function(){return!0};Tp.j=function(a,b){return!$APP.A.j(a,b)};
Tp.A=function(a,b,c){if($APP.A.j(a,b))return!1;a=$APP.Si([a,b]);for(b=c;;){var d=$APP.y(b);c=$APP.z(b);if($APP.p(b)){if($APP.Te(a,d))return!1;a=$APP.tf.j(a,d);b=c}else return!0}};Tp.F=function(a){var b=$APP.y(a),c=$APP.z(a);a=$APP.y(c);c=$APP.z(c);return this.A(b,a,c)};Tp.B=2;var ol=function ol(a){switch(arguments.length){case 1:return ol.o(arguments[0]);case 2:return ol.j(arguments[0],arguments[1]);default:throw Error(["Invalid arity: ",$APP.t.o(arguments.length)].join(""));}};
ol.o=function(a){return ol.j($APP.We,a)};ol.j=function(a,b){if($APP.x(b)){var c=Of.o?Of.o(b):Of.call(null,b);$a(c,Ye(a));return $APP.ve($APP.x(c),$APP.we(b))}return $APP.Id};ol.B=2;var Mz=function Mz(a){switch(arguments.length){case 2:return Mz.j(arguments[0],arguments[1]);case 3:return Mz.v(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",$APP.t.o(arguments.length)].join(""));}};Mz.j=function(a,b){return Mz.v(a,$APP.We,b)};
Mz.v=function(a,b,c){return ol.j(function(d,e){d=a.o?a.o(d):a.call(null,d);e=a.o?a.o(e):a.call(null,e);var f=Ye(b);return f.j?f.j(d,e):f.call(null,d,e)},c)};Mz.B=3;$APP.cf=function cf(a){switch(arguments.length){case 2:return cf.j(arguments[0],arguments[1]);case 3:return cf.v(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",$APP.t.o(arguments.length)].join(""));}};
$APP.cf.j=function(a,b){return null!=b&&(b.M&524288||$APP.wd===b.Dh)?b.Ya(null,a):vb(b)?be(b,a):"string"===typeof b?be(b,a):$APP.zb(uc,b)?Gz(b,a):Ed(b)?df(b,a):$e(a,b)};$APP.cf.v=function(a,b,c){return null!=c&&(c.M&524288||$APP.wd===c.Dh)?c.Za(null,a,b):vb(c)?ce(c,a,b):"string"===typeof c?ce(c,a,b):$APP.zb(uc,c)?Gz(c,a,b):Ed(c)?ef(c,a,b):af(a,b,c)};$APP.cf.B=3;
var Nz=function Nz(a){switch(arguments.length){case 1:return Nz.o(arguments[0]);case 2:return Nz.j(arguments[0],arguments[1]);default:throw Error(["Invalid arity: ",$APP.t.o(arguments.length)].join(""));}};Nz.o=function(a){return Nz.j(a,$APP.gf)};
Nz.j=function(a,b){return function(){function c(g,k){return a.j?a.j(g,k):a.call(null,g,k)}function d(g){return b.o?b.o(g):b.call(null,g)}function e(){return a.C?a.C():a.call(null)}var f=null;f=function(g,k){switch(arguments.length){case 0:return e.call(this);case 1:return d.call(this,g);case 2:return c.call(this,g,k)}throw Error("Invalid arity: "+arguments.length);};f.C=e;f.o=d;f.j=c;return f}()};Nz.B=2;
var Oz=function Oz(a){switch(arguments.length){case 3:return Oz.v(arguments[0],arguments[1],arguments[2]);case 4:return Oz.J(arguments[0],arguments[1],arguments[2],arguments[3]);default:throw Error(["Invalid arity: ",$APP.t.o(arguments.length)].join(""));}};Oz.v=function(a,b,c){return Oz.J(a,b,b.C?b.C():b.call(null),c)};Oz.J=function(a,b,c,d){a=a.o?a.o(b):a.call(null,b);c=$APP.cf.v(a,c,d);return a.o?a.o(c):a.call(null,c)};Oz.B=4;
$APP.Pz=function Pz(a){switch(arguments.length){case 0:return Pz.C();case 1:return Pz.o(arguments[0]);case 2:return Pz.j(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new $APP.Fd(c.slice(2),0,null);return Pz.A(arguments[0],arguments[1],c)}};$APP.Pz.C=function(){return 0};$APP.Pz.o=function(a){return a};$APP.Pz.j=function(a,b){return a+b};$APP.Pz.A=function(a,b,c){return $APP.cf.v($APP.Pz,a+b,c)};
$APP.Pz.F=function(a){var b=$APP.y(a),c=$APP.z(a);a=$APP.y(c);c=$APP.z(c);return this.A(b,a,c)};$APP.Pz.B=2;var Gp=function Gp(a){switch(arguments.length){case 1:return Gp.o(arguments[0]);case 2:return Gp.j(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new $APP.Fd(c.slice(2),0,null);return Gp.A(arguments[0],arguments[1],c)}};Gp.o=function(a){return-a};Gp.j=function(a,b){return a-b};
Gp.A=function(a,b,c){return $APP.cf.v(Gp,a-b,c)};Gp.F=function(a){var b=$APP.y(a),c=$APP.z(a);a=$APP.y(c);c=$APP.z(c);return this.A(b,a,c)};Gp.B=2;var Qz=function Qz(a){switch(arguments.length){case 0:return Qz.C();case 1:return Qz.o(arguments[0]);case 2:return Qz.j(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new $APP.Fd(c.slice(2),0,null);return Qz.A(arguments[0],arguments[1],c)}};Qz.C=function(){return 1};Qz.o=function(a){return a};
Qz.j=function(a,b){return a*b};Qz.A=function(a,b,c){return $APP.cf.v(Qz,a*b,c)};Qz.F=function(a){var b=$APP.y(a),c=$APP.z(a);a=$APP.y(c);c=$APP.z(c);return this.A(b,a,c)};Qz.B=2;var Rz=function Rz(a){switch(arguments.length){case 1:return Rz.o(arguments[0]);case 2:return Rz.j(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new $APP.Fd(c.slice(2),0,null);return Rz.A(arguments[0],arguments[1],c)}};Rz.o=function(a){return 1/a};
Rz.j=function(a,b){return a/b};Rz.A=function(a,b,c){return $APP.cf.v(Rz,a/b,c)};Rz.F=function(a){var b=$APP.y(a),c=$APP.z(a);a=$APP.y(c);c=$APP.z(c);return this.A(b,a,c)};Rz.B=2;var Sz=function Sz(a){switch(arguments.length){case 1:return Sz.o(arguments[0]);case 2:return Sz.j(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new $APP.Fd(c.slice(2),0,null);return Sz.A(arguments[0],arguments[1],c)}};Sz.o=function(){return!0};
Sz.j=function(a,b){return a<b};Sz.A=function(a,b,c){for(;;)if(a<b)if($APP.z(c))a=b,b=$APP.y(c),c=$APP.z(c);else return b<$APP.y(c);else return!1};Sz.F=function(a){var b=$APP.y(a),c=$APP.z(a);a=$APP.y(c);c=$APP.z(c);return this.A(b,a,c)};Sz.B=2;
var Tz=function Tz(a){switch(arguments.length){case 1:return Tz.o(arguments[0]);case 2:return Tz.j(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new $APP.Fd(c.slice(2),0,null);return Tz.A(arguments[0],arguments[1],c)}};Tz.o=function(){return!0};Tz.j=function(a,b){return a<=b};Tz.A=function(a,b,c){for(;;)if(a<=b)if($APP.z(c))a=b,b=$APP.y(c),c=$APP.z(c);else return b<=$APP.y(c);else return!1};
Tz.F=function(a){var b=$APP.y(a),c=$APP.z(a);a=$APP.y(c);c=$APP.z(c);return this.A(b,a,c)};Tz.B=2;var Uz=function Uz(a){switch(arguments.length){case 1:return Uz.o(arguments[0]);case 2:return Uz.j(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new $APP.Fd(c.slice(2),0,null);return Uz.A(arguments[0],arguments[1],c)}};Uz.o=function(){return!0};Uz.j=function(a,b){return a>b};
Uz.A=function(a,b,c){for(;;)if(a>b)if($APP.z(c))a=b,b=$APP.y(c),c=$APP.z(c);else return b>$APP.y(c);else return!1};Uz.F=function(a){var b=$APP.y(a),c=$APP.z(a);a=$APP.y(c);c=$APP.z(c);return this.A(b,a,c)};Uz.B=2;var Vz=function Vz(a){switch(arguments.length){case 1:return Vz.o(arguments[0]);case 2:return Vz.j(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new $APP.Fd(c.slice(2),0,null);return Vz.A(arguments[0],arguments[1],c)}};
Vz.o=function(){return!0};Vz.j=function(a,b){return a>=b};Vz.A=function(a,b,c){for(;;)if(a>=b)if($APP.z(c))a=b,b=$APP.y(c),c=$APP.z(c);else return b>=$APP.y(c);else return!1};Vz.F=function(a){var b=$APP.y(a),c=$APP.z(a);a=$APP.y(c);c=$APP.z(c);return this.A(b,a,c)};Vz.B=2;
$APP.ko=function ko(a){switch(arguments.length){case 1:return ko.o(arguments[0]);case 2:return ko.j(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new $APP.Fd(c.slice(2),0,null);return ko.A(arguments[0],arguments[1],c)}};$APP.ko.o=function(a){return a};$APP.ko.j=function(a,b){return a>b?a:b};$APP.ko.A=function(a,b,c){return $APP.cf.v($APP.ko,a>b?a:b,c)};
$APP.ko.F=function(a){var b=$APP.y(a),c=$APP.z(a);a=$APP.y(c);c=$APP.z(c);return this.A(b,a,c)};$APP.ko.B=2;var Wz=function Wz(a){switch(arguments.length){case 1:return Wz.o(arguments[0]);case 2:return Wz.j(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new $APP.Fd(c.slice(2),0,null);return Wz.A(arguments[0],arguments[1],c)}};Wz.o=function(a){return a};Wz.j=function(a,b){return a<b?a:b};
Wz.A=function(a,b,c){return $APP.cf.v(Wz,a<b?a:b,c)};Wz.F=function(a){var b=$APP.y(a),c=$APP.z(a);a=$APP.y(c);c=$APP.z(c);return this.A(b,a,c)};Wz.B=2;var Xz=function Xz(a){switch(arguments.length){case 0:return Xz.C();case 1:return Xz.o(arguments[0]);case 2:return Xz.j(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new $APP.Fd(c.slice(2),0,null);return Xz.A(arguments[0],arguments[1],c)}};Xz.C=function(){return 0};Xz.o=function(a){return a};
Xz.j=function(a,b){return a+b};Xz.A=function(a,b,c){return $APP.cf.v(Xz,a+b,c)};Xz.F=function(a){var b=$APP.y(a),c=$APP.z(a);a=$APP.y(c);c=$APP.z(c);return this.A(b,a,c)};Xz.B=2;var Yz=function Yz(a){switch(arguments.length){case 0:return Yz.C();case 1:return Yz.o(arguments[0]);case 2:return Yz.j(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new $APP.Fd(c.slice(2),0,null);return Yz.A(arguments[0],arguments[1],c)}};Yz.C=function(){return 0};
Yz.o=function(a){return a};Yz.j=function(a,b){return a+b};Yz.A=function(a,b,c){return $APP.cf.v(Yz,a+b,c)};Yz.F=function(a){var b=$APP.y(a),c=$APP.z(a);a=$APP.y(c);c=$APP.z(c);return this.A(b,a,c)};Yz.B=2;var Zz=function Zz(a){switch(arguments.length){case 1:return Zz.o(arguments[0]);case 2:return Zz.j(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new $APP.Fd(c.slice(2),0,null);return Zz.A(arguments[0],arguments[1],c)}};
Zz.o=function(a){return 1/a};Zz.j=function(a,b){return a/b};Zz.A=function(a,b,c){return $APP.cf.v(Zz,a/b,c)};Zz.F=function(a){var b=$APP.y(a),c=$APP.z(a);a=$APP.y(c);c=$APP.z(c);return this.A(b,a,c)};Zz.B=2;
var $z=function $z(a){switch(arguments.length){case 0:return $z.C();case 1:return $z.o(arguments[0]);case 2:return $z.j(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new $APP.Fd(c.slice(2),0,null);return $z.A(arguments[0],arguments[1],c)}};$z.C=function(){return 1};$z.o=function(a){return a};$z.j=function(a,b){return a*b};$z.A=function(a,b,c){return $APP.cf.v($z,a*b,c)};
$z.F=function(a){var b=$APP.y(a),c=$APP.z(a);a=$APP.y(c);c=$APP.z(c);return this.A(b,a,c)};$z.B=2;var aA=function aA(a){switch(arguments.length){case 0:return aA.C();case 1:return aA.o(arguments[0]);case 2:return aA.j(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new $APP.Fd(c.slice(2),0,null);return aA.A(arguments[0],arguments[1],c)}};aA.C=function(){return 1};aA.o=function(a){return a};aA.j=function(a,b){return a*b};
aA.A=function(a,b,c){return $APP.cf.v(aA,a*b,c)};aA.F=function(a){var b=$APP.y(a),c=$APP.z(a);a=$APP.y(c);c=$APP.z(c);return this.A(b,a,c)};aA.B=2;var bA=function bA(a){switch(arguments.length){case 1:return bA.o(arguments[0]);case 2:return bA.j(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new $APP.Fd(c.slice(2),0,null);return bA.A(arguments[0],arguments[1],c)}};bA.o=function(a){return-a};bA.j=function(a,b){return a-b};
bA.A=function(a,b,c){return $APP.cf.v(bA,a-b,c)};bA.F=function(a){var b=$APP.y(a),c=$APP.z(a);a=$APP.y(c);c=$APP.z(c);return this.A(b,a,c)};bA.B=2;var cA=function cA(a){switch(arguments.length){case 1:return cA.o(arguments[0]);case 2:return cA.j(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new $APP.Fd(c.slice(2),0,null);return cA.A(arguments[0],arguments[1],c)}};cA.o=function(a){return-a};cA.j=function(a,b){return a-b};
cA.A=function(a,b,c){return $APP.cf.v(cA,a-b,c)};cA.F=function(a){var b=$APP.y(a),c=$APP.z(a);a=$APP.y(c);c=$APP.z(c);return this.A(b,a,c)};cA.B=2;var dA=function dA(a){switch(arguments.length){case 2:return dA.j(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new $APP.Fd(c.slice(2),0,null);return dA.A(arguments[0],arguments[1],c)}};dA.j=function(a,b){return a^b};dA.A=function(a,b,c){return $APP.cf.v(dA,a^b,c)};
dA.F=function(a){var b=$APP.y(a),c=$APP.z(a);a=$APP.y(c);c=$APP.z(c);return this.A(b,a,c)};dA.B=2;var eA=function eA(a){switch(arguments.length){case 2:return eA.j(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new $APP.Fd(c.slice(2),0,null);return eA.A(arguments[0],arguments[1],c)}};eA.j=function(a,b){return a&b};eA.A=function(a,b,c){return $APP.cf.v(eA,a&b,c)};
eA.F=function(a){var b=$APP.y(a),c=$APP.z(a);a=$APP.y(c);c=$APP.z(c);return this.A(b,a,c)};eA.B=2;var fA=function fA(a){switch(arguments.length){case 2:return fA.j(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new $APP.Fd(c.slice(2),0,null);return fA.A(arguments[0],arguments[1],c)}};fA.j=function(a,b){return a|b};fA.A=function(a,b,c){return $APP.cf.v(fA,a|b,c)};
fA.F=function(a){var b=$APP.y(a),c=$APP.z(a);a=$APP.y(c);c=$APP.z(c);return this.A(b,a,c)};fA.B=2;var gA=function gA(a){switch(arguments.length){case 2:return gA.j(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new $APP.Fd(c.slice(2),0,null);return gA.A(arguments[0],arguments[1],c)}};gA.j=function(a,b){return a&~b};gA.A=function(a,b,c){return $APP.cf.v(gA,a&~b,c)};
gA.F=function(a){var b=$APP.y(a),c=$APP.z(a);a=$APP.y(c);c=$APP.z(c);return this.A(b,a,c)};gA.B=2;var Bl=function Bl(a){switch(arguments.length){case 1:return Bl.o(arguments[0]);case 2:return Bl.j(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new $APP.Fd(c.slice(2),0,null);return Bl.A(arguments[0],arguments[1],c)}};Bl.o=function(){return!0};Bl.j=function(a,b){return xc(a,b)};
Bl.A=function(a,b,c){for(;;)if(a===b)if($APP.z(c))a=b,b=$APP.y(c),c=$APP.z(c);else return b===$APP.y(c);else return!1};Bl.F=function(a){var b=$APP.y(a),c=$APP.z(a);a=$APP.y(c);c=$APP.z(c);return this.A(b,a,c)};Bl.B=2;$APP.t=function t(a){switch(arguments.length){case 0:return t.C();case 1:return t.o(arguments[0]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new $APP.Fd(c.slice(1),0,null);return t.A(arguments[0],c)}};$APP.t.C=function(){return""};
$APP.t.o=function(a){return null==a?"":[a].join("")};$APP.t.A=function(a,b){for(a=new $APP.eb($APP.t.o(a));;)if($APP.p(b))a=a.append($APP.t.o($APP.y(b))),b=$APP.z(b);else return a.toString()};$APP.t.F=function(a){var b=$APP.y(a);a=$APP.z(a);return this.A(b,a)};$APP.t.B=1;
$APP.lj=function lj(a){switch(arguments.length){case 2:return lj.j(arguments[0],arguments[1]);case 3:return lj.v(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",$APP.t.o(arguments.length)].join(""));}};$APP.lj.j=function(a,b){return a.substring(b)};$APP.lj.v=function(a,b,c){return a.substring(b,c)};$APP.lj.B=3;$APP.m=$APP.J.prototype;$APP.m.toString=function(){return nd(this)};$APP.m.Y=$APP.ha(28);
$APP.m.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return he(this,b,0);case 2:return he(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.o=function(b){return he(this,b,0)};a.j=function(b,c){return he(this,b,c)};return a}();
$APP.m.lastIndexOf=function(){function a(c){return ie(this,c,this.count)}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return ie(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.o=a;b.j=function(c,d){return ie(this,c,d)};return b}();$APP.m.aa=function(){return this.meta};$APP.m.ka=$APP.ha(50);$APP.m.Xa=function(){return 1===this.count?null:this.zb};$APP.m.ma=function(){return this.count};$APP.m.Nc=function(){return this.first};$APP.m.Oc=function(){return this.$a(null)};
$APP.m.ga=function(){var a=this.N;return null!=a?a:this.N=a=Nd(this)};$APP.m.U=function(a,b){return pf(this,b)};$APP.m.ya=function(){return $APP.sc($APP.Id,this.meta)};$APP.m.Ya=function(a,b){return $e(b,this)};$APP.m.Za=function(a,b,c){return af(b,c,this)};$APP.m.Ta=function(){return this.first};$APP.m.$a=function(){return 1===this.count?$APP.Id:this.zb};$APP.m.ja=function(){return this};$APP.m.ea=function(a,b){return b===this.meta?this:new $APP.J(b,this.first,this.zb,this.count,this.N)};
$APP.m.oa=function(a,b){return new $APP.J(this.meta,b,this,this.count+1,null)};$APP.J.prototype[Gd]=function(){return Ld(this)};$APP.m=$APP.rf.prototype;$APP.m.toString=function(){return nd(this)};$APP.m.Y=$APP.ha(27);$APP.m.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return he(this,b,0);case 2:return he(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.o=function(b){return he(this,b,0)};a.j=function(b,c){return he(this,b,c)};return a}();
$APP.m.lastIndexOf=function(){function a(c){return ie(this,c,$APP.ge(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return ie(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.o=a;b.j=function(c,d){return ie(this,c,d)};return b}();$APP.m.aa=function(){return this.meta};$APP.m.ka=$APP.ha(49);$APP.m.Xa=function(){return null};$APP.m.ma=function(){return 0};$APP.m.Nc=function(){return null};
$APP.m.Oc=function(){throw Error("Can't pop empty list");};$APP.m.ga=function(){return Kz};$APP.m.U=function(a,b){return qf(b)||$APP.De(b)?null==$APP.x(b):!1};$APP.m.ya=function(){return this};$APP.m.Ya=function(a,b){return $e(b,this)};$APP.m.Za=function(a,b,c){return af(b,c,this)};$APP.m.Ta=function(){return null};$APP.m.$a=function(){return $APP.Id};$APP.m.ja=function(){return null};$APP.m.ea=function(a,b){return b===this.meta?this:new $APP.rf(b)};
$APP.m.oa=function(a,b){return new $APP.J(this.meta,b,null,1,null)};$APP.Id=new $APP.rf(null);$APP.rf.prototype[Gd]=function(){return Ld(this)};$APP.P=function P(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=0<c.length?new $APP.Fd(c.slice(0),0,null):null;return P.A(c)};
$APP.P.A=function(a){if(a instanceof $APP.Fd&&0===a.i)var b=a.K;else a:for(b=[];;)if(null!=a)b.push(Rb(a)),a=Ub(a);else break a;a=b.length;for(var c=$APP.Id;;)if(0<a){var d=a-1;c=$APP.Nb(c,b[a-1]);a=d}else return c};$APP.P.B=0;$APP.P.F=function(a){return this.A($APP.x(a))};$APP.m=$APP.vf.prototype;$APP.m.toString=function(){return nd(this)};$APP.m.Y=$APP.ha(26);
$APP.m.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return he(this,b,0);case 2:return he(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.o=function(b){return he(this,b,0)};a.j=function(b,c){return he(this,b,c)};return a}();
$APP.m.lastIndexOf=function(){function a(c){return ie(this,c,$APP.ge(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return ie(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.o=a;b.j=function(c,d){return ie(this,c,d)};return b}();$APP.m.aa=function(){return this.meta};$APP.m.ka=$APP.ha(48);$APP.m.Xa=function(){return null==this.zb?null:$APP.x(this.zb)};$APP.m.ga=function(){var a=this.N;return null!=a?a:this.N=a=Nd(this)};
$APP.m.U=function(a,b){return pf(this,b)};$APP.m.ya=function(){return $APP.Id};$APP.m.Ya=function(a,b){return $e(b,this)};$APP.m.Za=function(a,b,c){return af(b,c,this)};$APP.m.Ta=function(){return this.first};$APP.m.$a=function(){return null==this.zb?$APP.Id:this.zb};$APP.m.ja=function(){return this};$APP.m.ea=function(a,b){return b===this.meta?this:new $APP.vf(b,this.first,this.zb,this.N)};$APP.m.oa=function(a,b){return new $APP.vf(null,b,this,null)};$APP.vf.prototype[Gd]=function(){return Ld(this)};
$APP.m=$APP.K.prototype;$APP.m.toString=function(){return[":",$APP.t.o(this.ia)].join("")};$APP.m.Y=$APP.ha(25);$APP.m.U=function(a,b){return b instanceof $APP.K?this.ia===b.ia:!1};$APP.m.call=function(a){switch(arguments.length-1){case 1:return this.o(arguments[1]);case 2:return this.j(arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",$APP.t.o(arguments.length-1)].join(""));}};$APP.m.apply=function(a,b){return this.call.apply(this,[this].concat(Eb(b)))};
$APP.m.o=function(a){return $APP.Re.j(a,this)};$APP.m.j=function(a,b){return $APP.Re.v(a,this,b)};$APP.m.ga=function(){var a=this.vd;return null!=a?a:this.vd=a=Ad(this)+2654435769|0};$APP.m.Cd=function(){return this.name};$APP.m.Dd=function(){return this.ns};$APP.m.Z=function(a,b){return $APP.Mc(b,[":",$APP.t.o(this.ia)].join(""))};
$APP.xj=function xj(a){switch(arguments.length){case 1:return xj.o(arguments[0]);case 2:return xj.j(arguments[0],arguments[1]);default:throw Error(["Invalid arity: ",$APP.t.o(arguments.length)].join(""));}};
$APP.xj.o=function(a){if(a instanceof $APP.K)return a;if(a instanceof $APP.v)return new $APP.K($APP.Af(a),$APP.Yi.o?$APP.Yi.o(a):$APP.Yi.call(null,a),a.Pb,null);if($APP.A.j("/",a))return new $APP.K(null,a,a,null);if("string"===typeof a){var b=a.split("/");return 2===b.length?new $APP.K(b[0],b[1],a,null):new $APP.K(null,b[0],a,null)}return null};
$APP.xj.j=function(a,b){a=a instanceof $APP.K?$APP.Yi.o?$APP.Yi.o(a):$APP.Yi.call(null,a):a instanceof $APP.v?$APP.Yi.o?$APP.Yi.o(a):$APP.Yi.call(null,a):a;b=b instanceof $APP.K?$APP.Yi.o?$APP.Yi.o(b):$APP.Yi.call(null,b):b instanceof $APP.v?$APP.Yi.o?$APP.Yi.o(b):$APP.Yi.call(null,b):b;return new $APP.K(a,b,[$APP.p(a)?[$APP.t.o(a),"/"].join(""):null,$APP.t.o(b)].join(""),null)};$APP.xj.B=2;$APP.m=$APP.Ff.prototype;$APP.m.toString=function(){return nd(this)};$APP.m.Y=$APP.ha(24);
$APP.m.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return he(this,b,0);case 2:return he(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.o=function(b){return he(this,b,0)};a.j=function(b,c){return he(this,b,c)};return a}();
$APP.m.lastIndexOf=function(){function a(c){return ie(this,c,$APP.ge(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return ie(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.o=a;b.j=function(c,d){return ie(this,c,d)};return b}();$APP.m.aa=function(){return this.meta};$APP.m.Xa=function(){this.ja(null);return null==this.s?null:$APP.z(this.s)};$APP.m.ga=function(){var a=this.N;return null!=a?a:this.N=a=Nd(this)};
$APP.m.U=function(a,b){return pf(this,b)};$APP.m.ya=function(){return $APP.sc($APP.Id,this.meta)};$APP.m.jd=function(){return $APP.wb(this.fn)};$APP.m.Ya=function(a,b){return $e(b,this)};$APP.m.Za=function(a,b,c){return af(b,c,this)};$APP.m.Ta=function(){this.ja(null);return null==this.s?null:$APP.y(this.s)};$APP.m.$a=function(){this.ja(null);return null!=this.s?$APP.Jd(this.s):$APP.Id};
$APP.m.ja=function(){Gf(this);if(null==this.s)return null;for(var a=this.s;;)if(a instanceof $APP.Ff)a=Gf(a);else return this.s=a,$APP.x(this.s)};$APP.m.ea=function(a,b){var c=this;return b===this.meta?c:new $APP.Ff(b,function(){return c.ja(null)},null,this.N)};$APP.m.oa=function(a,b){return $APP.wf(b,this)};$APP.Ff.prototype[Gd]=function(){return Ld(this)};Hf.prototype.add=function(a){this.gd[this.end]=a;return this.end+=1};
Hf.prototype.vb=function(){var a=new Jf(this.gd,0,this.end);this.gd=null;return a};Hf.prototype.ma=function(){return this.end};$APP.m=Jf.prototype;$APP.m.ma=function(){return this.end-this.off};$APP.m.fa=function(a,b){return this.K[this.off+b]};$APP.m.sb=function(a,b,c){return 0<=b&&b<this.end-this.off?this.K[this.off+b]:c};$APP.m.lf=function(){if(this.off===this.end)throw Error("-drop-first of empty chunk");return new Jf(this.K,this.off+1,this.end)};
$APP.m.Ya=function(a,b){return de(this.K,b,this.K[this.off],this.off+1)};$APP.m.Za=function(a,b,c){return de(this.K,b,c,this.off)};$APP.m=$APP.Kf.prototype;$APP.m.toString=function(){return nd(this)};$APP.m.Y=$APP.ha(23);$APP.m.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return he(this,b,0);case 2:return he(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.o=function(b){return he(this,b,0)};a.j=function(b,c){return he(this,b,c)};return a}();
$APP.m.lastIndexOf=function(){function a(c){return ie(this,c,$APP.ge(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return ie(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.o=a;b.j=function(c,d){return ie(this,c,d)};return b}();$APP.m.aa=function(){return this.meta};$APP.m.Xa=function(){return 1<Jb(this.vb)?new $APP.Kf(ad(this.vb),this.wc,null,null):null==this.wc?null:Ac(this.wc)};
$APP.m.ga=function(){var a=this.N;return null!=a?a:this.N=a=Nd(this)};$APP.m.U=function(a,b){return pf(this,b)};$APP.m.ya=function(){return $APP.Id};$APP.m.Ta=function(){return $APP.re(this.vb,0)};$APP.m.$a=function(){return 1<Jb(this.vb)?new $APP.Kf(ad(this.vb),this.wc,null,null):null==this.wc?$APP.Id:this.wc};$APP.m.ja=function(){return this};$APP.m.Ud=function(){return this.vb};$APP.m.Yc=function(){return null==this.wc?$APP.Id:this.wc};
$APP.m.ea=function(a,b){return b===this.meta?this:new $APP.Kf(this.vb,this.wc,b,this.N)};$APP.m.oa=function(a,b){return $APP.wf(b,this)};$APP.m.Td=function(){return null==this.wc?null:this.wc};$APP.Kf.prototype[Gd]=function(){return Ld(this)};var hA=function hA(a){switch(arguments.length){case 1:return hA.o(arguments[0]);case 2:return hA.j(arguments[0],arguments[1]);default:throw Error(["Invalid arity: ",$APP.t.o(arguments.length)].join(""));}};
hA.o=function(a){return"number"===typeof a?hA.j(a,null):$APP.cv.o(a)};hA.j=function(a,b){var c=Array(a);if($APP.Le(b)){var d=0;for(b=$APP.x(b);;)if(b&&d<a)c[d]=$APP.y(b),d+=1,b=$APP.z(b);else return c}else{for(d=0;;)if(d<a)c[d]=b,d+=1;else break;return c}};hA.B=2;var iA=function iA(a){switch(arguments.length){case 1:return iA.o(arguments[0]);case 2:return iA.j(arguments[0],arguments[1]);default:throw Error(["Invalid arity: ",$APP.t.o(arguments.length)].join(""));}};
iA.o=function(a){return"number"===typeof a?iA.j(a,null):$APP.cv.o(a)};iA.j=function(a,b){var c=Array(a);if($APP.Le(b)){var d=0;for(b=$APP.x(b);;)if(b&&d<a)c[d]=$APP.y(b),d+=1,b=$APP.z(b);else return c}else{for(d=0;;)if(d<a)c[d]=b,d+=1;else break;return c}};iA.B=2;var jA=function jA(a){switch(arguments.length){case 1:return jA.o(arguments[0]);case 2:return jA.j(arguments[0],arguments[1]);default:throw Error(["Invalid arity: ",$APP.t.o(arguments.length)].join(""));}};
jA.o=function(a){return"number"===typeof a?jA.j(a,null):$APP.cv.o(a)};jA.j=function(a,b){var c=Array(a);if($APP.Le(b)){var d=0;for(b=$APP.x(b);;)if(b&&d<a)c[d]=$APP.y(b),d+=1,b=$APP.z(b);else return c}else{for(d=0;;)if(d<a)c[d]=b,d+=1;else break;return c}};jA.B=2;var Zl=function Zl(a){switch(arguments.length){case 1:return Zl.o(arguments[0]);case 2:return Zl.j(arguments[0],arguments[1]);default:throw Error(["Invalid arity: ",$APP.t.o(arguments.length)].join(""));}};
Zl.o=function(a){return"number"===typeof a?Zl.j(a,null):$APP.cv.o(a)};Zl.j=function(a,b){var c=Array(a);if($APP.Le(b)){var d=0;for(b=$APP.x(b);;)if(b&&d<a)c[d]=$APP.y(b),d+=1,b=$APP.z(b);else return c}else{for(d=0;;)if(d<a)c[d]=b,d+=1;else break;return c}};Zl.B=2;kA=function kA(a){if(null==a)return null;var c=$APP.z(a);return null==c?$APP.x($APP.y(a)):$APP.wf($APP.y(a),kA.o?kA.o(c):kA.call(null,c))};
$APP.Q=function Q(a){switch(arguments.length){case 0:return Q.C();case 1:return Q.o(arguments[0]);case 2:return Q.j(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new $APP.Fd(c.slice(2),0,null);return Q.A(arguments[0],arguments[1],c)}};$APP.Q.C=function(){return new $APP.Ff(null,function(){return null},null,null)};$APP.Q.o=function(a){return new $APP.Ff(null,function(){return a},null,null)};
$APP.Q.j=function(a,b){return new $APP.Ff(null,function(){var c=$APP.x(a);return c?$APP.He(c)?$APP.Lf($APP.bd(c),$APP.Q.j($APP.cd(c),b)):$APP.wf($APP.y(c),$APP.Q.j($APP.Jd(c),b)):b},null,null)};$APP.Q.A=function(a,b,c){return function g(e,f){return new $APP.Ff(null,function(){var k=$APP.x(e);return k?$APP.He(k)?$APP.Lf($APP.bd(k),g($APP.cd(k),f)):$APP.wf($APP.y(k),g($APP.Jd(k),f)):$APP.p(f)?g($APP.y(f),$APP.z(f)):null},null,null)}($APP.Q.j(a,b),c)};
$APP.Q.F=function(a){var b=$APP.y(a),c=$APP.z(a);a=$APP.y(c);c=$APP.z(c);return this.A(b,a,c)};$APP.Q.B=2;
var Ew=function Ew(a){switch(arguments.length){case 1:return Ew.o(arguments[0]);case 2:return Ew.j(arguments[0],arguments[1]);case 3:return Ew.v(arguments[0],arguments[1],arguments[2]);case 4:return Ew.J(arguments[0],arguments[1],arguments[2],arguments[3]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new $APP.Fd(c.slice(4),0,null);return Ew.A(arguments[0],arguments[1],arguments[2],arguments[3],c)}};Ew.o=function(a){return $APP.x(a)};
Ew.j=function(a,b){return $APP.wf(a,b)};Ew.v=function(a,b,c){return $APP.wf(a,$APP.wf(b,c))};Ew.J=function(a,b,c,d){return $APP.wf(a,$APP.wf(b,$APP.wf(c,d)))};Ew.A=function(a,b,c,d,e){return $APP.wf(a,$APP.wf(b,$APP.wf(c,$APP.wf(d,kA(e)))))};Ew.F=function(a){var b=$APP.y(a),c=$APP.z(a);a=$APP.y(c);var d=$APP.z(c);c=$APP.y(d);var e=$APP.z(d);d=$APP.y(e);e=$APP.z(e);return this.A(b,a,c,d,e)};Ew.B=4;
$APP.dh=function dh(a){switch(arguments.length){case 0:return dh.C();case 1:return dh.o(arguments[0]);case 2:return dh.j(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new $APP.Fd(c.slice(2),0,null);return dh.A(arguments[0],arguments[1],c)}};$APP.dh.C=function(){return $APP.Sc($APP.ih)};$APP.dh.o=function(a){return a};$APP.dh.j=function(a,b){return Tc(a,b)};
$APP.dh.A=function(a,b,c){for(;;)if(a=Tc(a,b),$APP.p(c))b=$APP.y(c),c=$APP.z(c);else return a};$APP.dh.F=function(a){var b=$APP.y(a),c=$APP.z(a);a=$APP.y(c);c=$APP.z(c);return this.A(b,a,c)};$APP.dh.B=2;$APP.Qh=function Qh(a){switch(arguments.length){case 3:return Qh.v(arguments[0],arguments[1],arguments[2]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new $APP.Fd(c.slice(3),0,null);return Qh.A(arguments[0],arguments[1],arguments[2],c)}};
$APP.Qh.v=function(a,b,c){return Vc(a,b,c)};$APP.Qh.A=function(a,b,c,d){for(;;)if(a=Vc(a,b,c),$APP.p(d))b=$APP.y(d),c=$APP.le(d),d=oe(d);else return a};$APP.Qh.F=function(a){var b=$APP.y(a),c=$APP.z(a);a=$APP.y(c);var d=$APP.z(c);c=$APP.y(d);d=$APP.z(d);return this.A(b,a,c,d)};$APP.Qh.B=3;
var lA=function lA(a){switch(arguments.length){case 2:return lA.j(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new $APP.Fd(c.slice(2),0,null);return lA.A(arguments[0],arguments[1],c)}};lA.j=function(a,b){return Wc(a,b)};lA.A=function(a,b,c){for(;;)if(a=Wc(a,b),$APP.p(c))b=$APP.y(c),c=$APP.z(c);else return a};lA.F=function(a){var b=$APP.y(a),c=$APP.z(a);a=$APP.y(c);c=$APP.z(c);return this.A(b,a,c)};lA.B=2;
var mA=function mA(a){switch(arguments.length){case 2:return mA.j(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new $APP.Fd(c.slice(2),0,null);return mA.A(arguments[0],arguments[1],c)}};mA.j=function(a,b){return Yc(a,b)};mA.A=function(a,b,c){for(;;)if(a=Yc(a,b),$APP.p(c))b=$APP.y(c),c=$APP.z(c);else return a};mA.F=function(a){var b=$APP.y(a),c=$APP.z(a);a=$APP.y(c);c=$APP.z(c);return this.A(b,a,c)};mA.B=2;
$APP.wg=function wg(a){switch(arguments.length){case 2:return wg.j(arguments[0],arguments[1]);case 3:return wg.v(arguments[0],arguments[1],arguments[2]);case 4:return wg.J(arguments[0],arguments[1],arguments[2],arguments[3]);case 5:return wg.S(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new $APP.Fd(c.slice(5),0,null);return wg.A(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],
c)}};$APP.wg.j=function(a,b){if(a.F){var c=a.B,d=Sf(c+1,b);return d<=c?Tf(a,d,b):a.F(b)}b=$APP.x(b);return null==b?a.C?a.C():a.call(a):Wf(a,Rb(b),Uf(b))};$APP.wg.v=function(a,b,c){if(a.F){b=Ew.j(b,c);var d=a.B;c=Sf(d,c)+1;return c<=d?Tf(a,c,b):a.F(b)}return Wf(a,b,$APP.x(c))};$APP.wg.J=function(a,b,c,d){return a.F?(b=Ew.v(b,c,d),c=a.B,d=2+Sf(c-1,d),d<=c?Tf(a,d,b):a.F(b)):Vf(a,b,c,$APP.x(d))};
$APP.wg.S=function(a,b,c,d,e){return a.F?(b=Ew.J(b,c,d,e),c=a.B,e=3+Sf(c-2,e),e<=c?Tf(a,e,b):a.F(b)):Xf(a,b,c,d,$APP.x(e))};$APP.wg.A=function(a,b,c,d,e,f){return a.F?(f=kA(f),b=$APP.wf(b,$APP.wf(c,$APP.wf(d,$APP.wf(e,f)))),c=a.B,f=4+Sf(c-3,f),f<=c?Tf(a,f,b):a.F(b)):Yf(a,b,c,d,e,kA(f))};$APP.wg.F=function(a){var b=$APP.y(a),c=$APP.z(a);a=$APP.y(c);var d=$APP.z(c);c=$APP.y(d);var e=$APP.z(d);d=$APP.y(e);var f=$APP.z(e);e=$APP.y(f);f=$APP.z(f);return this.A(b,a,c,d,e,f)};$APP.wg.B=5;
var yp=function yp(a){switch(arguments.length){case 2:return yp.j(arguments[0],arguments[1]);case 3:return yp.v(arguments[0],arguments[1],arguments[2]);case 4:return yp.J(arguments[0],arguments[1],arguments[2],arguments[3]);case 5:return yp.S(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4]);case 6:return yp.qa(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new $APP.Fd(c.slice(6),
0,null);return yp.A(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],c)}};yp.j=function(a,b){var c=$APP.we(a);b=b.o?b.o(c):b.call(null,c);return $APP.ve(a,b)};yp.v=function(a,b,c){var d=$APP.we(a);b=b.j?b.j(d,c):b.call(null,d,c);return $APP.ve(a,b)};yp.J=function(a,b,c,d){var e=$APP.we(a);b=b.v?b.v(e,c,d):b.call(null,e,c,d);return $APP.ve(a,b)};yp.S=function(a,b,c,d,e){var f=$APP.we(a);b=b.J?b.J(f,c,d,e):b.call(null,f,c,d,e);return $APP.ve(a,b)};
yp.qa=function(a,b,c,d,e,f){var g=$APP.we(a);b=b.S?b.S(g,c,d,e,f):b.call(null,g,c,d,e,f);return $APP.ve(a,b)};yp.A=function(a,b,c,d,e,f,g){return $APP.ve(a,$APP.wg.A(b,$APP.we(a),c,d,e,$APP.F([f,g])))};yp.F=function(a){var b=$APP.y(a),c=$APP.z(a);a=$APP.y(c);var d=$APP.z(c);c=$APP.y(d);var e=$APP.z(d);d=$APP.y(e);var f=$APP.z(e);e=$APP.y(f);var g=$APP.z(f);f=$APP.y(g);g=$APP.z(g);return this.A(b,a,c,d,e,f,g)};yp.B=6;
$APP.Mi=function Mi(a){switch(arguments.length){case 1:return Mi.o(arguments[0]);case 2:return Mi.j(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new $APP.Fd(c.slice(2),0,null);return Mi.A(arguments[0],arguments[1],c)}};$APP.Mi.o=function(){return!1};$APP.Mi.j=function(a,b){return!$APP.A.j(a,b)};$APP.Mi.A=function(a,b,c){return $APP.wb($APP.wg.J($APP.A,a,b,c))};
$APP.Mi.F=function(a){var b=$APP.y(a),c=$APP.z(a);a=$APP.y(c);c=$APP.z(c);return this.A(b,a,c)};$APP.Mi.B=2;gg.prototype.Ba=function(){return this.i<this.s.length};gg.prototype.next=function(){var a=this.s.charAt(this.i);this.i+=1;return a};gg.prototype.remove=function(){return Error("Unsupported operation")};hg.prototype.Ba=function(){return this.i<this.K.length};hg.prototype.next=function(){var a=this.K[this.i];this.i+=1;return a};hg.prototype.remove=function(){return Error("Unsupported operation")};
var ig={},nA={};jg.prototype.Ba=function(){this.Qd===ig?(this.Qd=nA,this.Gb=$APP.x(this.Gb)):this.Qd===this.Gb&&(this.Gb=$APP.z(this.Qd));return null!=this.Gb};jg.prototype.next=function(){if(this.Ba())return this.Qd=this.Gb,$APP.y(this.Gb);throw Error("No such element");};jg.prototype.remove=function(){return Error("Unsupported operation")};lg.prototype.add=function(a){this.Ue.push(a);return this};lg.prototype.remove=function(){return this.Ue.shift()};lg.prototype.Kd=function(){return 0===this.Ue.length};
lg.prototype.toString=function(){return["Many: ",$APP.t.o(this.Ue)].join("")};var qg={};mg.prototype.add=function(a){return this.val===qg?(this.val=a,this):new lg([this.val,a])};mg.prototype.remove=function(){if(this.val===qg)throw Error("Removing object from empty buffer");var a=this.val;this.val=qg;return a};mg.prototype.Kd=function(){return this.val===qg};mg.prototype.toString=function(){return["Single: ",$APP.t.o(this.val)].join("")};ng.prototype.add=function(a){return new mg(a)};
ng.prototype.remove=function(){throw Error("Removing object from empty buffer");};ng.prototype.Kd=function(){return!0};ng.prototype.toString=function(){return"Empty"};var pg=new ng;og.prototype.Ba=function(){for(var a=$APP.x(this.Lf);;)if(null!=a)if($APP.y(a).Ba())a=$APP.z(a);else return!1;else return!0};og.prototype.next=function(){for(var a=[],b=this.Lf.length,c=0;;)if(c<b)a[c]=this.Lf[c].next(),c+=1;else break;return $APP.F(a)};
var oA=function oA(a){return new $APP.Ff(null,function(){if(a.Ba())for(var c=[],d=0;;){var e=a.Ba();if($APP.p($APP.p(e)?32>d:e))c[d]=a.next(),d+=1;else return $APP.Lf(new Jf(c,0,d),oA.o?oA.o(a):oA.call(null,a))}else return null},null,null)};
rg.prototype.step=function(){if(this.Gb!==qg)return!0;for(;;)if(this.Gb===qg)if(this.buffer.Kd()){if(this.Ff)return!1;if(this.$f.Ba()){if(this.multi)var a=$APP.wg.j(this.Bc,$APP.wf(null,this.$f.next()));else a=this.$f.next(),a=this.Bc.j?this.Bc.j(null,a):this.Bc.call(null,null,a);Wd(a)&&(this.Bc.o?this.Bc.o(null):this.Bc.call(null,null),this.Ff=!0)}else this.Bc.o?this.Bc.o(null):this.Bc.call(null,null),this.Ff=!0}else this.Gb=this.buffer.remove();else return!0};rg.prototype.Ba=function(){return this.step()};
rg.prototype.next=function(){if(this.Ba()){var a=this.Gb;this.Gb=qg;return a}throw Error("No such element");};rg.prototype.remove=function(){return Error("Unsupported operation")};rg.prototype[Gd]=function(){return Ld(this)};
$APP.U=function U(a){switch(arguments.length){case 1:return U.o(arguments[0]);case 2:return U.j(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new $APP.Fd(c.slice(2),0,null);return U.A(arguments[0],arguments[1],c)}};$APP.U.o=function(a){return $APP.Le(a)?a:(a=$APP.x(a))?a:$APP.Id};$APP.U.j=function(a,b){b=kg(b);a=sg(a,b,!1);a=oA(a);return $APP.p(a)?a:$APP.Id};
$APP.U.A=function(a,b,c){b=$APP.wf(b,c);b=$APP.wj.j?$APP.wj.j(kg,b):$APP.wj.call(null,kg,b);a=oA(sg(a,new og(Of(b)),!0));return $APP.p(a)?a:$APP.Id};$APP.U.F=function(a){var b=$APP.y(a),c=$APP.z(a);a=$APP.y(c);c=$APP.z(c);return this.A(b,a,c)};$APP.U.B=2;
$APP.qr=function qr(a){switch(arguments.length){case 0:return qr.C();case 1:return qr.o(arguments[0]);case 2:return qr.j(arguments[0],arguments[1]);case 3:return qr.v(arguments[0],arguments[1],arguments[2]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new $APP.Fd(c.slice(3),0,null);return qr.A(arguments[0],arguments[1],arguments[2],c)}};$APP.qr.C=function(){return $APP.gf};$APP.qr.o=function(a){return a};
$APP.qr.j=function(a,b){return function(){function c(l,h,r){l=b.v?b.v(l,h,r):b.call(null,l,h,r);return a.o?a.o(l):a.call(null,l)}function d(l,h){l=b.j?b.j(l,h):b.call(null,l,h);return a.o?a.o(l):a.call(null,l)}function e(l){l=b.o?b.o(l):b.call(null,l);return a.o?a.o(l):a.call(null,l)}function f(){var l=b.C?b.C():b.call(null);return a.o?a.o(l):a.call(null,l)}var g=null,k=function(){function l(r,q,w,C){var G=null;if(3<arguments.length){G=0;for(var M=Array(arguments.length-3);G<M.length;)M[G]=arguments[G+
3],++G;G=new $APP.Fd(M,0,null)}return h.call(this,r,q,w,G)}function h(r,q,w,C){r=$APP.wg.S(b,r,q,w,C);return a.o?a.o(r):a.call(null,r)}l.B=3;l.F=function(r){var q=$APP.y(r);r=$APP.z(r);var w=$APP.y(r);r=$APP.z(r);var C=$APP.y(r);r=$APP.Jd(r);return h(q,w,C,r)};l.A=h;return l}();g=function(l,h,r,q){switch(arguments.length){case 0:return f.call(this);case 1:return e.call(this,l);case 2:return d.call(this,l,h);case 3:return c.call(this,l,h,r);default:var w=null;if(3<arguments.length){w=0;for(var C=Array(arguments.length-
3);w<C.length;)C[w]=arguments[w+3],++w;w=new $APP.Fd(C,0,null)}return k.A(l,h,r,w)}throw Error("Invalid arity: "+arguments.length);};g.B=3;g.F=k.F;g.C=f;g.o=e;g.j=d;g.v=c;g.A=k.A;return g}()};
$APP.qr.v=function(a,b,c){return function(){function d(h,r,q){h=c.v?c.v(h,r,q):c.call(null,h,r,q);h=b.o?b.o(h):b.call(null,h);return a.o?a.o(h):a.call(null,h)}function e(h,r){h=c.j?c.j(h,r):c.call(null,h,r);h=b.o?b.o(h):b.call(null,h);return a.o?a.o(h):a.call(null,h)}function f(h){h=c.o?c.o(h):c.call(null,h);h=b.o?b.o(h):b.call(null,h);return a.o?a.o(h):a.call(null,h)}function g(){var h=c.C?c.C():c.call(null);h=b.o?b.o(h):b.call(null,h);return a.o?a.o(h):a.call(null,h)}var k=null,l=function(){function h(q,
w,C,G){var M=null;if(3<arguments.length){M=0;for(var R=Array(arguments.length-3);M<R.length;)R[M]=arguments[M+3],++M;M=new $APP.Fd(R,0,null)}return r.call(this,q,w,C,M)}function r(q,w,C,G){q=$APP.wg.S(c,q,w,C,G);q=b.o?b.o(q):b.call(null,q);return a.o?a.o(q):a.call(null,q)}h.B=3;h.F=function(q){var w=$APP.y(q);q=$APP.z(q);var C=$APP.y(q);q=$APP.z(q);var G=$APP.y(q);q=$APP.Jd(q);return r(w,C,G,q)};h.A=r;return h}();k=function(h,r,q,w){switch(arguments.length){case 0:return g.call(this);case 1:return f.call(this,
h);case 2:return e.call(this,h,r);case 3:return d.call(this,h,r,q);default:var C=null;if(3<arguments.length){C=0;for(var G=Array(arguments.length-3);C<G.length;)G[C]=arguments[C+3],++C;C=new $APP.Fd(G,0,null)}return l.A(h,r,q,C)}throw Error("Invalid arity: "+arguments.length);};k.B=3;k.F=l.F;k.C=g;k.o=f;k.j=e;k.v=d;k.A=l.A;return k}()};
$APP.qr.A=function(a,b,c,d){var e=$APP.uf(Ew.J(a,b,c,d));return function(){function f(k){var l=null;if(0<arguments.length){l=0;for(var h=Array(arguments.length-0);l<h.length;)h[l]=arguments[l+0],++l;l=new $APP.Fd(h,0,null)}return g.call(this,l)}function g(k){k=$APP.wg.j($APP.y(e),k);for(var l=$APP.z(e);;)if(l){var h=$APP.y(l);k=h.o?h.o(k):h.call(null,k);l=$APP.z(l)}else return k}f.B=0;f.F=function(k){k=$APP.x(k);return g(k)};f.A=g;return f}()};
$APP.qr.F=function(a){var b=$APP.y(a),c=$APP.z(a);a=$APP.y(c);var d=$APP.z(c);c=$APP.y(d);d=$APP.z(d);return this.A(b,a,c,d)};$APP.qr.B=3;
$APP.pm=function pm(a){switch(arguments.length){case 1:return pm.o(arguments[0]);case 2:return pm.j(arguments[0],arguments[1]);case 3:return pm.v(arguments[0],arguments[1],arguments[2]);case 4:return pm.J(arguments[0],arguments[1],arguments[2],arguments[3]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new $APP.Fd(c.slice(4),0,null);return pm.A(arguments[0],arguments[1],arguments[2],arguments[3],c)}};$APP.pm.o=function(a){return a};
$APP.pm.j=function(a,b){return function(){function c(l,h,r){return a.J?a.J(b,l,h,r):a.call(null,b,l,h,r)}function d(l,h){return a.v?a.v(b,l,h):a.call(null,b,l,h)}function e(l){return a.j?a.j(b,l):a.call(null,b,l)}function f(){return a.o?a.o(b):a.call(null,b)}var g=null,k=function(){function l(r,q,w,C){var G=null;if(3<arguments.length){G=0;for(var M=Array(arguments.length-3);G<M.length;)M[G]=arguments[G+3],++G;G=new $APP.Fd(M,0,null)}return h.call(this,r,q,w,G)}function h(r,q,w,C){return $APP.wg.A(a,
b,r,q,w,$APP.F([C]))}l.B=3;l.F=function(r){var q=$APP.y(r);r=$APP.z(r);var w=$APP.y(r);r=$APP.z(r);var C=$APP.y(r);r=$APP.Jd(r);return h(q,w,C,r)};l.A=h;return l}();g=function(l,h,r,q){switch(arguments.length){case 0:return f.call(this);case 1:return e.call(this,l);case 2:return d.call(this,l,h);case 3:return c.call(this,l,h,r);default:var w=null;if(3<arguments.length){w=0;for(var C=Array(arguments.length-3);w<C.length;)C[w]=arguments[w+3],++w;w=new $APP.Fd(C,0,null)}return k.A(l,h,r,w)}throw Error("Invalid arity: "+
arguments.length);};g.B=3;g.F=k.F;g.C=f;g.o=e;g.j=d;g.v=c;g.A=k.A;return g}()};
$APP.pm.v=function(a,b,c){return function(){function d(h,r,q){return a.S?a.S(b,c,h,r,q):a.call(null,b,c,h,r,q)}function e(h,r){return a.J?a.J(b,c,h,r):a.call(null,b,c,h,r)}function f(h){return a.v?a.v(b,c,h):a.call(null,b,c,h)}function g(){return a.j?a.j(b,c):a.call(null,b,c)}var k=null,l=function(){function h(q,w,C,G){var M=null;if(3<arguments.length){M=0;for(var R=Array(arguments.length-3);M<R.length;)R[M]=arguments[M+3],++M;M=new $APP.Fd(R,0,null)}return r.call(this,q,w,C,M)}function r(q,w,C,G){return $APP.wg.A(a,
b,c,q,w,$APP.F([C,G]))}h.B=3;h.F=function(q){var w=$APP.y(q);q=$APP.z(q);var C=$APP.y(q);q=$APP.z(q);var G=$APP.y(q);q=$APP.Jd(q);return r(w,C,G,q)};h.A=r;return h}();k=function(h,r,q,w){switch(arguments.length){case 0:return g.call(this);case 1:return f.call(this,h);case 2:return e.call(this,h,r);case 3:return d.call(this,h,r,q);default:var C=null;if(3<arguments.length){C=0;for(var G=Array(arguments.length-3);C<G.length;)G[C]=arguments[C+3],++C;C=new $APP.Fd(G,0,null)}return l.A(h,r,q,C)}throw Error("Invalid arity: "+
arguments.length);};k.B=3;k.F=l.F;k.C=g;k.o=f;k.j=e;k.v=d;k.A=l.A;return k}()};
$APP.pm.J=function(a,b,c,d){return function(){function e(r,q,w){return a.qa?a.qa(b,c,d,r,q,w):a.call(null,b,c,d,r,q,w)}function f(r,q){return a.S?a.S(b,c,d,r,q):a.call(null,b,c,d,r,q)}function g(r){return a.J?a.J(b,c,d,r):a.call(null,b,c,d,r)}function k(){return a.v?a.v(b,c,d):a.call(null,b,c,d)}var l=null,h=function(){function r(w,C,G,M){var R=null;if(3<arguments.length){R=0;for(var W=Array(arguments.length-3);R<W.length;)W[R]=arguments[R+3],++R;R=new $APP.Fd(W,0,null)}return q.call(this,w,C,G,R)}
function q(w,C,G,M){return $APP.wg.A(a,b,c,d,w,$APP.F([C,G,M]))}r.B=3;r.F=function(w){var C=$APP.y(w);w=$APP.z(w);var G=$APP.y(w);w=$APP.z(w);var M=$APP.y(w);w=$APP.Jd(w);return q(C,G,M,w)};r.A=q;return r}();l=function(r,q,w,C){switch(arguments.length){case 0:return k.call(this);case 1:return g.call(this,r);case 2:return f.call(this,r,q);case 3:return e.call(this,r,q,w);default:var G=null;if(3<arguments.length){G=0;for(var M=Array(arguments.length-3);G<M.length;)M[G]=arguments[G+3],++G;G=new $APP.Fd(M,
0,null)}return h.A(r,q,w,G)}throw Error("Invalid arity: "+arguments.length);};l.B=3;l.F=h.F;l.C=k;l.o=g;l.j=f;l.v=e;l.A=h.A;return l}()};$APP.pm.A=function(a,b,c,d,e){return function(){function f(k){var l=null;if(0<arguments.length){l=0;for(var h=Array(arguments.length-0);l<h.length;)h[l]=arguments[l+0],++l;l=new $APP.Fd(h,0,null)}return g.call(this,l)}function g(k){return $APP.wg.S(a,b,c,d,$APP.Q.j(e,k))}f.B=0;f.F=function(k){k=$APP.x(k);return g(k)};f.A=g;return f}()};
$APP.pm.F=function(a){var b=$APP.y(a),c=$APP.z(a);a=$APP.y(c);var d=$APP.z(c);c=$APP.y(d);var e=$APP.z(d);d=$APP.y(e);e=$APP.z(e);return this.A(b,a,c,d,e)};$APP.pm.B=4;$APP.Hu=function Hu(a){switch(arguments.length){case 2:return Hu.j(arguments[0],arguments[1]);case 3:return Hu.v(arguments[0],arguments[1],arguments[2]);case 4:return Hu.J(arguments[0],arguments[1],arguments[2],arguments[3]);default:throw Error(["Invalid arity: ",$APP.t.o(arguments.length)].join(""));}};
$APP.Hu.j=function(a,b){return function(){function c(k,l,h){k=null==k?b:k;return a.v?a.v(k,l,h):a.call(null,k,l,h)}function d(k,l){k=null==k?b:k;return a.j?a.j(k,l):a.call(null,k,l)}function e(k){k=null==k?b:k;return a.o?a.o(k):a.call(null,k)}var f=null,g=function(){function k(h,r,q,w){var C=null;if(3<arguments.length){C=0;for(var G=Array(arguments.length-3);C<G.length;)G[C]=arguments[C+3],++C;C=new $APP.Fd(G,0,null)}return l.call(this,h,r,q,C)}function l(h,r,q,w){return $APP.wg.S(a,null==h?b:h,r,
q,w)}k.B=3;k.F=function(h){var r=$APP.y(h);h=$APP.z(h);var q=$APP.y(h);h=$APP.z(h);var w=$APP.y(h);h=$APP.Jd(h);return l(r,q,w,h)};k.A=l;return k}();f=function(k,l,h,r){switch(arguments.length){case 1:return e.call(this,k);case 2:return d.call(this,k,l);case 3:return c.call(this,k,l,h);default:var q=null;if(3<arguments.length){q=0;for(var w=Array(arguments.length-3);q<w.length;)w[q]=arguments[q+3],++q;q=new $APP.Fd(w,0,null)}return g.A(k,l,h,q)}throw Error("Invalid arity: "+arguments.length);};f.B=
3;f.F=g.F;f.o=e;f.j=d;f.v=c;f.A=g.A;return f}()};
$APP.Hu.v=function(a,b,c){return function(){function d(k,l,h){k=null==k?b:k;l=null==l?c:l;return a.v?a.v(k,l,h):a.call(null,k,l,h)}function e(k,l){k=null==k?b:k;l=null==l?c:l;return a.j?a.j(k,l):a.call(null,k,l)}var f=null,g=function(){function k(h,r,q,w){var C=null;if(3<arguments.length){C=0;for(var G=Array(arguments.length-3);C<G.length;)G[C]=arguments[C+3],++C;C=new $APP.Fd(G,0,null)}return l.call(this,h,r,q,C)}function l(h,r,q,w){return $APP.wg.S(a,null==h?b:h,null==r?c:r,q,w)}k.B=3;k.F=function(h){var r=
$APP.y(h);h=$APP.z(h);var q=$APP.y(h);h=$APP.z(h);var w=$APP.y(h);h=$APP.Jd(h);return l(r,q,w,h)};k.A=l;return k}();f=function(k,l,h,r){switch(arguments.length){case 2:return e.call(this,k,l);case 3:return d.call(this,k,l,h);default:var q=null;if(3<arguments.length){q=0;for(var w=Array(arguments.length-3);q<w.length;)w[q]=arguments[q+3],++q;q=new $APP.Fd(w,0,null)}return g.A(k,l,h,q)}throw Error("Invalid arity: "+arguments.length);};f.B=3;f.F=g.F;f.j=e;f.v=d;f.A=g.A;return f}()};
$APP.Hu.J=function(a,b,c,d){return function(){function e(l,h,r){l=null==l?b:l;h=null==h?c:h;r=null==r?d:r;return a.v?a.v(l,h,r):a.call(null,l,h,r)}function f(l,h){l=null==l?b:l;h=null==h?c:h;return a.j?a.j(l,h):a.call(null,l,h)}var g=null,k=function(){function l(r,q,w,C){var G=null;if(3<arguments.length){G=0;for(var M=Array(arguments.length-3);G<M.length;)M[G]=arguments[G+3],++G;G=new $APP.Fd(M,0,null)}return h.call(this,r,q,w,G)}function h(r,q,w,C){return $APP.wg.S(a,null==r?b:r,null==q?c:q,null==
w?d:w,C)}l.B=3;l.F=function(r){var q=$APP.y(r);r=$APP.z(r);var w=$APP.y(r);r=$APP.z(r);var C=$APP.y(r);r=$APP.Jd(r);return h(q,w,C,r)};l.A=h;return l}();g=function(l,h,r,q){switch(arguments.length){case 2:return f.call(this,l,h);case 3:return e.call(this,l,h,r);default:var w=null;if(3<arguments.length){w=0;for(var C=Array(arguments.length-3);w<C.length;)C[w]=arguments[w+3],++w;w=new $APP.Fd(C,0,null)}return k.A(l,h,r,w)}throw Error("Invalid arity: "+arguments.length);};g.B=3;g.F=k.F;g.j=f;g.v=e;g.A=
k.A;return g}()};$APP.Hu.B=4;$APP.Fy=function Fy(a){switch(arguments.length){case 1:return Fy.o(arguments[0]);case 2:return Fy.j(arguments[0],arguments[1]);default:throw Error(["Invalid arity: ",$APP.t.o(arguments.length)].join(""));}};
$APP.Fy.o=function(a){return function(b){var c=$APP.Cg.o?$APP.Cg.o(-1):$APP.Cg.call(null,-1);return function(){function d(k,l){var h=$APP.jd(c,$APP.u(c)+1);l=a.j?a.j(h,l):a.call(null,h,l);return b.j?b.j(k,l):b.call(null,k,l)}function e(k){return b.o?b.o(k):b.call(null,k)}function f(){return b.C?b.C():b.call(null)}var g=null;g=function(k,l){switch(arguments.length){case 0:return f.call(this);case 1:return e.call(this,k);case 2:return d.call(this,k,l)}throw Error("Invalid arity: "+arguments.length);
};g.C=f;g.o=e;g.j=d;return g}()}};$APP.Fy.j=function(a,b){return function f(d,e){return new $APP.Ff(null,function(){var g=$APP.x(e);if(g){if($APP.He(g)){for(var k=$APP.bd(g),l=$APP.ge(k),h=$APP.If(l),r=0;;)if(r<l)$APP.Mf(h,function(){var q=d+r,w=$APP.re(k,r);return a.j?a.j(q,w):a.call(null,q,w)}()),r+=1;else break;return $APP.Lf($APP.Nf(h),f(d+l,$APP.cd(g)))}return $APP.wf(function(){var q=$APP.y(g);return a.j?a.j(d,q):a.call(null,d,q)}(),f(d+1,$APP.Jd(g)))}return null},null,null)}(0,b)};
$APP.Fy.B=2;$APP.pr=function pr(a){switch(arguments.length){case 1:return pr.o(arguments[0]);case 2:return pr.j(arguments[0],arguments[1]);default:throw Error(["Invalid arity: ",$APP.t.o(arguments.length)].join(""));}};
$APP.pr.o=function(a){return function(b){return function(){function c(g,k){k=a.o?a.o(k):a.call(null,k);return null==k?g:b.j?b.j(g,k):b.call(null,g,k)}function d(g){return b.o?b.o(g):b.call(null,g)}function e(){return b.C?b.C():b.call(null)}var f=null;f=function(g,k){switch(arguments.length){case 0:return e.call(this);case 1:return d.call(this,g);case 2:return c.call(this,g,k)}throw Error("Invalid arity: "+arguments.length);};f.C=e;f.o=d;f.j=c;return f}()}};
$APP.pr.j=function(a,b){return new $APP.Ff(null,function(){var c=$APP.x(b);if(c){if($APP.He(c)){for(var d=$APP.bd(c),e=$APP.ge(d),f=$APP.If(e),g=0;;)if(g<e){var k=function(){var l=$APP.re(d,g);return a.o?a.o(l):a.call(null,l)}();null!=k&&f.add(k);g+=1}else break;return $APP.Lf($APP.Nf(f),$APP.pr.j(a,$APP.cd(c)))}e=function(){var l=$APP.y(c);return a.o?a.o(l):a.call(null,l)}();return null==e?$APP.pr.j(a,$APP.Jd(c)):$APP.wf(e,$APP.pr.j(a,$APP.Jd(c)))}return null},null,null)};$APP.pr.B=2;$APP.m=$APP.zg.prototype;
$APP.m.Y=$APP.ha(22);$APP.m.U=function(a,b){return this===b};$APP.m.Ca=function(){return this.state};$APP.m.aa=function(){return this.meta};
$APP.m.Ce=function(a,b){for(var c=$APP.x(this.Bb),d=null,e=0,f=0;;)if(f<e){var g=d.fa(null,f),k=$APP.D.v(g,0,null);g=$APP.D.v(g,1,null);g.J?g.J(k,this,a,b):g.call(null,k,this,a,b);f+=1}else if(c=$APP.x(c))$APP.He(c)?(d=$APP.bd(c),c=$APP.cd(c),k=d,e=$APP.ge(d),d=k):(d=$APP.y(c),k=$APP.D.v(d,0,null),g=$APP.D.v(d,1,null),g.J?g.J(k,this,a,b):g.call(null,k,this,a,b),c=$APP.z(c),d=null,e=0),f=0;else break};$APP.m.Xd=function(a,b,c){this.Bb=$APP.Ni.v(this.Bb,b,c);return this};
$APP.m.Yd=function(a,b){return this.Bb=$APP.nm.j(this.Bb,b)};$APP.m.ga=function(){return $APP.xa(this)};$APP.Yj=function Yj(a){switch(arguments.length){case 1:return Yj.o(arguments[0]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new $APP.Fd(c.slice(1),0,null);return Yj.A(arguments[0],c)}};$APP.Yj.o=function(a){return new $APP.zg(a,null,null)};
$APP.Yj.A=function(a,b){var c=$APP.ag(b);b=$APP.Re.j(c,$APP.ib);c=$APP.Re.j(c,$APP.pA);return new $APP.zg(a,b,c)};$APP.Yj.F=function(a){var b=$APP.y(a);a=$APP.z(a);return this.A(b,a)};$APP.Yj.B=1;
$APP.Zj=function Zj(a){switch(arguments.length){case 2:return Zj.j(arguments[0],arguments[1]);case 3:return Zj.v(arguments[0],arguments[1],arguments[2]);case 4:return Zj.J(arguments[0],arguments[1],arguments[2],arguments[3]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new $APP.Fd(c.slice(4),0,null);return Zj.A(arguments[0],arguments[1],arguments[2],arguments[3],c)}};
$APP.Zj.j=function(a,b){if(a instanceof $APP.zg){var c=a.state;b=b.o?b.o(c):b.call(null,c);a=$APP.Ag(a,b)}else a=Iz(a,b);return a};$APP.Zj.v=function(a,b,c){if(a instanceof $APP.zg){var d=a.state;b=b.j?b.j(d,c):b.call(null,d,c);a=$APP.Ag(a,b)}else a=Iz(a,b,c);return a};$APP.Zj.J=function(a,b,c,d){if(a instanceof $APP.zg){var e=a.state;b=b.v?b.v(e,c,d):b.call(null,e,c,d);a=$APP.Ag(a,b)}else a=Iz(a,b,c,d);return a};
$APP.Zj.A=function(a,b,c,d,e){return a instanceof $APP.zg?$APP.Ag(a,$APP.wg.S(b,a.state,c,d,e)):Iz(a,b,c,d,e)};$APP.Zj.F=function(a){var b=$APP.y(a),c=$APP.z(a);a=$APP.y(c);var d=$APP.z(c);c=$APP.y(d);var e=$APP.z(d);d=$APP.y(e);e=$APP.z(e);return this.A(b,a,c,d,e)};$APP.Zj.B=4;Bg.prototype.Ub=function(a,b){return this.state=b};Bg.prototype.Ca=function(){return this.state};
var qA=function qA(a){switch(arguments.length){case 1:return qA.o(arguments[0]);case 2:return qA.j(arguments[0],arguments[1]);default:throw Error(["Invalid arity: ",$APP.t.o(arguments.length)].join(""));}};
qA.o=function(a){return function(b){var c=$APP.Cg(-1);return function(){function d(k,l){var h=c.Ub(null,c.Ca(null)+1);l=a.j?a.j(h,l):a.call(null,h,l);return null==l?k:b.j?b.j(k,l):b.call(null,k,l)}function e(k){return b.o?b.o(k):b.call(null,k)}function f(){return b.C?b.C():b.call(null)}var g=null;g=function(k,l){switch(arguments.length){case 0:return f.call(this);case 1:return e.call(this,k);case 2:return d.call(this,k,l)}throw Error("Invalid arity: "+arguments.length);};g.C=f;g.o=e;g.j=d;return g}()}};
qA.j=function(a,b){return function f(d,e){return new $APP.Ff(null,function(){var g=$APP.x(e);if(g){if($APP.He(g)){for(var k=$APP.bd(g),l=$APP.ge(k),h=$APP.If(l),r=0;;)if(r<l){var q=function(){var w=d+r,C=$APP.re(k,r);return a.j?a.j(w,C):a.call(null,w,C)}();null!=q&&h.add(q);r+=1}else break;return $APP.Lf($APP.Nf(h),f(d+l,$APP.cd(g)))}l=function(){var w=$APP.y(g);return a.j?a.j(d,w):a.call(null,d,w)}();return null==l?f(d+1,$APP.Jd(g)):$APP.wf(l,f(d+1,$APP.Jd(g)))}return null},null,null)}(0,b)};
qA.B=2;var rA=function rA(a){switch(arguments.length){case 1:return rA.o(arguments[0]);case 2:return rA.j(arguments[0],arguments[1]);case 3:return rA.v(arguments[0],arguments[1],arguments[2]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new $APP.Fd(c.slice(3),0,null);return rA.A(arguments[0],arguments[1],arguments[2],c)}};
rA.o=function(a){return function(){function b(g,k,l){g=a.o?a.o(g):a.call(null,g);$APP.p(g)?(k=a.o?a.o(k):a.call(null,k),l=$APP.p(k)?a.o?a.o(l):a.call(null,l):k):l=g;return Ne(l)}function c(g,k){g=a.o?a.o(g):a.call(null,g);k=$APP.p(g)?a.o?a.o(k):a.call(null,k):g;return Ne(k)}function d(g){return Ne(a.o?a.o(g):a.call(null,g))}var e=null,f=function(){function g(l,h,r,q){var w=null;if(3<arguments.length){w=0;for(var C=Array(arguments.length-3);w<C.length;)C[w]=arguments[w+3],++w;w=new $APP.Fd(C,0,null)}return k.call(this,
l,h,r,w)}function k(l,h,r,q){l=e.v(l,h,r);q=$APP.p(l)?$APP.tg(a,q):l;return Ne(q)}g.B=3;g.F=function(l){var h=$APP.y(l);l=$APP.z(l);var r=$APP.y(l);l=$APP.z(l);var q=$APP.y(l);l=$APP.Jd(l);return k(h,r,q,l)};g.A=k;return g}();e=function(g,k,l,h){switch(arguments.length){case 0:return!0;case 1:return d.call(this,g);case 2:return c.call(this,g,k);case 3:return b.call(this,g,k,l);default:var r=null;if(3<arguments.length){r=0;for(var q=Array(arguments.length-3);r<q.length;)q[r]=arguments[r+3],++r;r=new $APP.Fd(q,
0,null)}return f.A(g,k,l,r)}throw Error("Invalid arity: "+arguments.length);};e.B=3;e.F=f.F;e.C=function(){return!0};e.o=d;e.j=c;e.v=b;e.A=f.A;return e}()};
rA.j=function(a,b){return function(){function c(k,l,h){return Ne(function(){var r=a.o?a.o(k):a.call(null,k);return $APP.p(r)?(r=a.o?a.o(l):a.call(null,l),$APP.p(r)?(r=a.o?a.o(h):a.call(null,h),$APP.p(r)?(r=b.o?b.o(k):b.call(null,k),$APP.p(r)?(r=b.o?b.o(l):b.call(null,l),$APP.p(r)?b.o?b.o(h):b.call(null,h):r):r):r):r):r}())}function d(k,l){return Ne(function(){var h=a.o?a.o(k):a.call(null,k);return $APP.p(h)?(h=a.o?a.o(l):a.call(null,l),$APP.p(h)?(h=b.o?b.o(k):b.call(null,k),$APP.p(h)?b.o?b.o(l):b.call(null,
l):h):h):h}())}function e(k){var l=a.o?a.o(k):a.call(null,k);k=$APP.p(l)?b.o?b.o(k):b.call(null,k):l;return Ne(k)}var f=null,g=function(){function k(h,r,q,w){var C=null;if(3<arguments.length){C=0;for(var G=Array(arguments.length-3);C<G.length;)G[C]=arguments[C+3],++C;C=new $APP.Fd(G,0,null)}return l.call(this,h,r,q,C)}function l(h,r,q,w){return Ne(function(){var C=f.v(h,r,q);return $APP.p(C)?$APP.tg(function(G){var M=a.o?a.o(G):a.call(null,G);return $APP.p(M)?b.o?b.o(G):b.call(null,G):M},w):C}())}
k.B=3;k.F=function(h){var r=$APP.y(h);h=$APP.z(h);var q=$APP.y(h);h=$APP.z(h);var w=$APP.y(h);h=$APP.Jd(h);return l(r,q,w,h)};k.A=l;return k}();f=function(k,l,h,r){switch(arguments.length){case 0:return!0;case 1:return e.call(this,k);case 2:return d.call(this,k,l);case 3:return c.call(this,k,l,h);default:var q=null;if(3<arguments.length){q=0;for(var w=Array(arguments.length-3);q<w.length;)w[q]=arguments[q+3],++q;q=new $APP.Fd(w,0,null)}return g.A(k,l,h,q)}throw Error("Invalid arity: "+arguments.length);
};f.B=3;f.F=g.F;f.C=function(){return!0};f.o=e;f.j=d;f.v=c;f.A=g.A;return f}()};
rA.v=function(a,b,c){return function(){function d(l,h,r){return Ne(function(){var q=a.o?a.o(l):a.call(null,l);return $APP.p(q)?(q=a.o?a.o(h):a.call(null,h),$APP.p(q)?(q=a.o?a.o(r):a.call(null,r),$APP.p(q)?(q=b.o?b.o(l):b.call(null,l),$APP.p(q)?(q=b.o?b.o(h):b.call(null,h),$APP.p(q)?(q=b.o?b.o(r):b.call(null,r),$APP.p(q)?(q=c.o?c.o(l):c.call(null,l),$APP.p(q)?(q=c.o?c.o(h):c.call(null,h),$APP.p(q)?c.o?c.o(r):c.call(null,r):q):q):q):q):q):q):q):q}())}function e(l,h){return Ne(function(){var r=a.o?a.o(l):
a.call(null,l);return $APP.p(r)?(r=a.o?a.o(h):a.call(null,h),$APP.p(r)?(r=b.o?b.o(l):b.call(null,l),$APP.p(r)?(r=b.o?b.o(h):b.call(null,h),$APP.p(r)?(r=c.o?c.o(l):c.call(null,l),$APP.p(r)?c.o?c.o(h):c.call(null,h):r):r):r):r):r}())}function f(l){var h=a.o?a.o(l):a.call(null,l);$APP.p(h)?(h=b.o?b.o(l):b.call(null,l),l=$APP.p(h)?c.o?c.o(l):c.call(null,l):h):l=h;return Ne(l)}var g=null,k=function(){function l(r,q,w,C){var G=null;if(3<arguments.length){G=0;for(var M=Array(arguments.length-3);G<M.length;)M[G]=
arguments[G+3],++G;G=new $APP.Fd(M,0,null)}return h.call(this,r,q,w,G)}function h(r,q,w,C){return Ne(function(){var G=g.v(r,q,w);return $APP.p(G)?$APP.tg(function(M){var R=a.o?a.o(M):a.call(null,M);return $APP.p(R)?(R=b.o?b.o(M):b.call(null,M),$APP.p(R)?c.o?c.o(M):c.call(null,M):R):R},C):G}())}l.B=3;l.F=function(r){var q=$APP.y(r);r=$APP.z(r);var w=$APP.y(r);r=$APP.z(r);var C=$APP.y(r);r=$APP.Jd(r);return h(q,w,C,r)};l.A=h;return l}();g=function(l,h,r,q){switch(arguments.length){case 0:return!0;case 1:return f.call(this,
l);case 2:return e.call(this,l,h);case 3:return d.call(this,l,h,r);default:var w=null;if(3<arguments.length){w=0;for(var C=Array(arguments.length-3);w<C.length;)C[w]=arguments[w+3],++w;w=new $APP.Fd(C,0,null)}return k.A(l,h,r,w)}throw Error("Invalid arity: "+arguments.length);};g.B=3;g.F=k.F;g.C=function(){return!0};g.o=f;g.j=e;g.v=d;g.A=k.A;return g}()};
rA.A=function(a,b,c,d){var e=Ew.J(a,b,c,d);return function(){function f(r,q,w){return $APP.tg(function(C){var G=C.o?C.o(r):C.call(null,r);return $APP.p(G)?(G=C.o?C.o(q):C.call(null,q),$APP.p(G)?C.o?C.o(w):C.call(null,w):G):G},e)}function g(r,q){return $APP.tg(function(w){var C=w.o?w.o(r):w.call(null,r);return $APP.p(C)?w.o?w.o(q):w.call(null,q):C},e)}function k(r){return $APP.tg(function(q){return q.o?q.o(r):q.call(null,r)},e)}var l=null,h=function(){function r(w,C,G,M){var R=null;if(3<arguments.length){R=
0;for(var W=Array(arguments.length-3);R<W.length;)W[R]=arguments[R+3],++R;R=new $APP.Fd(W,0,null)}return q.call(this,w,C,G,R)}function q(w,C,G,M){return Ne(function(){var R=l.v(w,C,G);return $APP.p(R)?$APP.tg(function(W){return $APP.tg(W,M)},e):R}())}r.B=3;r.F=function(w){var C=$APP.y(w);w=$APP.z(w);var G=$APP.y(w);w=$APP.z(w);var M=$APP.y(w);w=$APP.Jd(w);return q(C,G,M,w)};r.A=q;return r}();l=function(r,q,w,C){switch(arguments.length){case 0:return!0;case 1:return k.call(this,r);case 2:return g.call(this,
r,q);case 3:return f.call(this,r,q,w);default:var G=null;if(3<arguments.length){G=0;for(var M=Array(arguments.length-3);G<M.length;)M[G]=arguments[G+3],++G;G=new $APP.Fd(M,0,null)}return h.A(r,q,w,G)}throw Error("Invalid arity: "+arguments.length);};l.B=3;l.F=h.F;l.C=function(){return!0};l.o=k;l.j=g;l.v=f;l.A=h.A;return l}()};rA.F=function(a){var b=$APP.y(a),c=$APP.z(a);a=$APP.y(c);var d=$APP.z(c);c=$APP.y(d);d=$APP.z(d);return this.A(b,a,c,d)};rA.B=3;
var sA=function sA(a){switch(arguments.length){case 1:return sA.o(arguments[0]);case 2:return sA.j(arguments[0],arguments[1]);case 3:return sA.v(arguments[0],arguments[1],arguments[2]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new $APP.Fd(c.slice(3),0,null);return sA.A(arguments[0],arguments[1],arguments[2],c)}};
sA.o=function(a){return function(){function b(g,k,l){g=a.o?a.o(g):a.call(null,g);if($APP.p(g))return g;k=a.o?a.o(k):a.call(null,k);return $APP.p(k)?k:a.o?a.o(l):a.call(null,l)}function c(g,k){g=a.o?a.o(g):a.call(null,g);return $APP.p(g)?g:a.o?a.o(k):a.call(null,k)}function d(g){return a.o?a.o(g):a.call(null,g)}var e=null,f=function(){function g(l,h,r,q){var w=null;if(3<arguments.length){w=0;for(var C=Array(arguments.length-3);w<C.length;)C[w]=arguments[w+3],++w;w=new $APP.Fd(C,0,null)}return k.call(this,
l,h,r,w)}function k(l,h,r,q){l=e.v(l,h,r);return $APP.p(l)?l:$APP.ug(a,q)}g.B=3;g.F=function(l){var h=$APP.y(l);l=$APP.z(l);var r=$APP.y(l);l=$APP.z(l);var q=$APP.y(l);l=$APP.Jd(l);return k(h,r,q,l)};g.A=k;return g}();e=function(g,k,l,h){switch(arguments.length){case 0:return null;case 1:return d.call(this,g);case 2:return c.call(this,g,k);case 3:return b.call(this,g,k,l);default:var r=null;if(3<arguments.length){r=0;for(var q=Array(arguments.length-3);r<q.length;)q[r]=arguments[r+3],++r;r=new $APP.Fd(q,
0,null)}return f.A(g,k,l,r)}throw Error("Invalid arity: "+arguments.length);};e.B=3;e.F=f.F;e.C=function(){return null};e.o=d;e.j=c;e.v=b;e.A=f.A;return e}()};
sA.j=function(a,b){return function(){function c(k,l,h){var r=a.o?a.o(k):a.call(null,k);if($APP.p(r))return r;r=a.o?a.o(l):a.call(null,l);if($APP.p(r))return r;r=a.o?a.o(h):a.call(null,h);if($APP.p(r))return r;k=b.o?b.o(k):b.call(null,k);if($APP.p(k))return k;l=b.o?b.o(l):b.call(null,l);return $APP.p(l)?l:b.o?b.o(h):b.call(null,h)}function d(k,l){var h=a.o?a.o(k):a.call(null,k);if($APP.p(h))return h;h=a.o?a.o(l):a.call(null,l);if($APP.p(h))return h;k=b.o?b.o(k):b.call(null,k);return $APP.p(k)?k:b.o?
b.o(l):b.call(null,l)}function e(k){var l=a.o?a.o(k):a.call(null,k);return $APP.p(l)?l:b.o?b.o(k):b.call(null,k)}var f=null,g=function(){function k(h,r,q,w){var C=null;if(3<arguments.length){C=0;for(var G=Array(arguments.length-3);C<G.length;)G[C]=arguments[C+3],++C;C=new $APP.Fd(G,0,null)}return l.call(this,h,r,q,C)}function l(h,r,q,w){h=f.v(h,r,q);return $APP.p(h)?h:$APP.ug(function(C){var G=a.o?a.o(C):a.call(null,C);return $APP.p(G)?G:b.o?b.o(C):b.call(null,C)},w)}k.B=3;k.F=function(h){var r=$APP.y(h);
h=$APP.z(h);var q=$APP.y(h);h=$APP.z(h);var w=$APP.y(h);h=$APP.Jd(h);return l(r,q,w,h)};k.A=l;return k}();f=function(k,l,h,r){switch(arguments.length){case 0:return null;case 1:return e.call(this,k);case 2:return d.call(this,k,l);case 3:return c.call(this,k,l,h);default:var q=null;if(3<arguments.length){q=0;for(var w=Array(arguments.length-3);q<w.length;)w[q]=arguments[q+3],++q;q=new $APP.Fd(w,0,null)}return g.A(k,l,h,q)}throw Error("Invalid arity: "+arguments.length);};f.B=3;f.F=g.F;f.C=function(){return null};
f.o=e;f.j=d;f.v=c;f.A=g.A;return f}()};
sA.v=function(a,b,c){return function(){function d(l,h,r){var q=a.o?a.o(l):a.call(null,l);if($APP.p(q))return q;q=a.o?a.o(h):a.call(null,h);if($APP.p(q))return q;q=a.o?a.o(r):a.call(null,r);if($APP.p(q))return q;q=b.o?b.o(l):b.call(null,l);if($APP.p(q))return q;q=b.o?b.o(h):b.call(null,h);if($APP.p(q))return q;q=b.o?b.o(r):b.call(null,r);if($APP.p(q))return q;l=c.o?c.o(l):c.call(null,l);if($APP.p(l))return l;h=c.o?c.o(h):c.call(null,h);return $APP.p(h)?h:c.o?c.o(r):c.call(null,r)}function e(l,h){var r=
a.o?a.o(l):a.call(null,l);if($APP.p(r))return r;r=a.o?a.o(h):a.call(null,h);if($APP.p(r))return r;r=b.o?b.o(l):b.call(null,l);if($APP.p(r))return r;r=b.o?b.o(h):b.call(null,h);if($APP.p(r))return r;l=c.o?c.o(l):c.call(null,l);return $APP.p(l)?l:c.o?c.o(h):c.call(null,h)}function f(l){var h=a.o?a.o(l):a.call(null,l);if($APP.p(h))return h;h=b.o?b.o(l):b.call(null,l);return $APP.p(h)?h:c.o?c.o(l):c.call(null,l)}var g=null,k=function(){function l(r,q,w,C){var G=null;if(3<arguments.length){G=0;for(var M=
Array(arguments.length-3);G<M.length;)M[G]=arguments[G+3],++G;G=new $APP.Fd(M,0,null)}return h.call(this,r,q,w,G)}function h(r,q,w,C){r=g.v(r,q,w);return $APP.p(r)?r:$APP.ug(function(G){var M=a.o?a.o(G):a.call(null,G);if($APP.p(M))return M;M=b.o?b.o(G):b.call(null,G);return $APP.p(M)?M:c.o?c.o(G):c.call(null,G)},C)}l.B=3;l.F=function(r){var q=$APP.y(r);r=$APP.z(r);var w=$APP.y(r);r=$APP.z(r);var C=$APP.y(r);r=$APP.Jd(r);return h(q,w,C,r)};l.A=h;return l}();g=function(l,h,r,q){switch(arguments.length){case 0:return null;
case 1:return f.call(this,l);case 2:return e.call(this,l,h);case 3:return d.call(this,l,h,r);default:var w=null;if(3<arguments.length){w=0;for(var C=Array(arguments.length-3);w<C.length;)C[w]=arguments[w+3],++w;w=new $APP.Fd(C,0,null)}return k.A(l,h,r,w)}throw Error("Invalid arity: "+arguments.length);};g.B=3;g.F=k.F;g.C=function(){return null};g.o=f;g.j=e;g.v=d;g.A=k.A;return g}()};
sA.A=function(a,b,c,d){var e=Ew.J(a,b,c,d);return function(){function f(r,q,w){return $APP.ug(function(C){var G=C.o?C.o(r):C.call(null,r);if($APP.p(G))return G;G=C.o?C.o(q):C.call(null,q);return $APP.p(G)?G:C.o?C.o(w):C.call(null,w)},e)}function g(r,q){return $APP.ug(function(w){var C=w.o?w.o(r):w.call(null,r);return $APP.p(C)?C:w.o?w.o(q):w.call(null,q)},e)}function k(r){return $APP.ug(function(q){return q.o?q.o(r):q.call(null,r)},e)}var l=null,h=function(){function r(w,C,G,M){var R=null;if(3<arguments.length){R=
0;for(var W=Array(arguments.length-3);R<W.length;)W[R]=arguments[R+3],++R;R=new $APP.Fd(W,0,null)}return q.call(this,w,C,G,R)}function q(w,C,G,M){w=l.v(w,C,G);return $APP.p(w)?w:$APP.ug(function(R){return $APP.ug(R,M)},e)}r.B=3;r.F=function(w){var C=$APP.y(w);w=$APP.z(w);var G=$APP.y(w);w=$APP.z(w);var M=$APP.y(w);w=$APP.Jd(w);return q(C,G,M,w)};r.A=q;return r}();l=function(r,q,w,C){switch(arguments.length){case 0:return null;case 1:return k.call(this,r);case 2:return g.call(this,r,q);case 3:return f.call(this,
r,q,w);default:var G=null;if(3<arguments.length){G=0;for(var M=Array(arguments.length-3);G<M.length;)M[G]=arguments[G+3],++G;G=new $APP.Fd(M,0,null)}return h.A(r,q,w,G)}throw Error("Invalid arity: "+arguments.length);};l.B=3;l.F=h.F;l.C=function(){return null};l.o=k;l.j=g;l.v=f;l.A=h.A;return l}()};sA.F=function(a){var b=$APP.y(a),c=$APP.z(a);a=$APP.y(c);var d=$APP.z(c);c=$APP.y(d);d=$APP.z(d);return this.A(b,a,c,d)};sA.B=3;
$APP.wj=function wj(a){switch(arguments.length){case 1:return wj.o(arguments[0]);case 2:return wj.j(arguments[0],arguments[1]);case 3:return wj.v(arguments[0],arguments[1],arguments[2]);case 4:return wj.J(arguments[0],arguments[1],arguments[2],arguments[3]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new $APP.Fd(c.slice(4),0,null);return wj.A(arguments[0],arguments[1],arguments[2],arguments[3],c)}};
$APP.wj.o=function(a){return function(b){return function(){function c(k,l){l=a.o?a.o(l):a.call(null,l);return b.j?b.j(k,l):b.call(null,k,l)}function d(k){return b.o?b.o(k):b.call(null,k)}function e(){return b.C?b.C():b.call(null)}var f=null,g=function(){function k(h,r,q){var w=null;if(2<arguments.length){w=0;for(var C=Array(arguments.length-2);w<C.length;)C[w]=arguments[w+2],++w;w=new $APP.Fd(C,0,null)}return l.call(this,h,r,w)}function l(h,r,q){r=$APP.wg.v(a,r,q);return b.j?b.j(h,r):b.call(null,
h,r)}k.B=2;k.F=function(h){var r=$APP.y(h);h=$APP.z(h);var q=$APP.y(h);h=$APP.Jd(h);return l(r,q,h)};k.A=l;return k}();f=function(k,l,h){switch(arguments.length){case 0:return e.call(this);case 1:return d.call(this,k);case 2:return c.call(this,k,l);default:var r=null;if(2<arguments.length){r=0;for(var q=Array(arguments.length-2);r<q.length;)q[r]=arguments[r+2],++r;r=new $APP.Fd(q,0,null)}return g.A(k,l,r)}throw Error("Invalid arity: "+arguments.length);};f.B=2;f.F=g.F;f.C=e;f.o=d;f.j=c;f.A=g.A;return f}()}};
$APP.wj.j=function(a,b){return new $APP.Ff(null,function(){var c=$APP.x(b);if(c){if($APP.He(c)){for(var d=$APP.bd(c),e=$APP.ge(d),f=$APP.If(e),g=0;;)if(g<e)$APP.Mf(f,function(){var k=$APP.re(d,g);return a.o?a.o(k):a.call(null,k)}()),g+=1;else break;return $APP.Lf($APP.Nf(f),$APP.wj.j(a,$APP.cd(c)))}return $APP.wf(function(){var k=$APP.y(c);return a.o?a.o(k):a.call(null,k)}(),$APP.wj.j(a,$APP.Jd(c)))}return null},null,null)};
$APP.wj.v=function(a,b,c){return new $APP.Ff(null,function(){var d=$APP.x(b),e=$APP.x(c);if(d&&e){var f=$APP.y(d);var g=$APP.y(e);f=a.j?a.j(f,g):a.call(null,f,g);d=$APP.wf(f,$APP.wj.v(a,$APP.Jd(d),$APP.Jd(e)))}else d=null;return d},null,null)};
$APP.wj.J=function(a,b,c,d){return new $APP.Ff(null,function(){var e=$APP.x(b),f=$APP.x(c),g=$APP.x(d);if(e&&f&&g){var k=$APP.y(e);var l=$APP.y(f),h=$APP.y(g);k=a.v?a.v(k,l,h):a.call(null,k,l,h);e=$APP.wf(k,$APP.wj.J(a,$APP.Jd(e),$APP.Jd(f),$APP.Jd(g)))}else e=null;return e},null,null)};
$APP.wj.A=function(a,b,c,d,e){return $APP.wj.j(function(f){return $APP.wg.j(a,f)},function k(g){return new $APP.Ff(null,function(){var l=$APP.wj.j($APP.x,g);return $APP.tg($APP.gf,l)?$APP.wf($APP.wj.j($APP.y,l),k($APP.wj.j($APP.Jd,l))):null},null,null)}($APP.tf.A(e,d,$APP.F([c,b]))))};$APP.wj.F=function(a){var b=$APP.y(a),c=$APP.z(a);a=$APP.y(c);var d=$APP.z(c);c=$APP.y(d);var e=$APP.z(d);d=$APP.y(e);e=$APP.z(e);return this.A(b,a,c,d,e)};$APP.wj.B=4;
$APP.Ig=function Ig(a){switch(arguments.length){case 1:return Ig.o(arguments[0]);case 2:return Ig.j(arguments[0],arguments[1]);default:throw Error(["Invalid arity: ",$APP.t.o(arguments.length)].join(""));}};
$APP.Ig.o=function(a){return function(b){var c=$APP.Cg(a);return function(){function d(k,l){var h=$APP.u(c),r=c.Ub(null,c.Ca(null)-1);k=0<h?b.j?b.j(k,l):b.call(null,k,l):k;return 0<r?k:Xd(k)}function e(k){return b.o?b.o(k):b.call(null,k)}function f(){return b.C?b.C():b.call(null)}var g=null;g=function(k,l){switch(arguments.length){case 0:return f.call(this);case 1:return e.call(this,k);case 2:return d.call(this,k,l)}throw Error("Invalid arity: "+arguments.length);};g.C=f;g.o=e;g.j=d;return g}()}};
$APP.Ig.j=function(a,b){return new $APP.Ff(null,function(){if(0<a){var c=$APP.x(b);return c?$APP.wf($APP.y(c),$APP.Ig.j(a-1,$APP.Jd(c))):null}return null},null,null)};$APP.Ig.B=2;$APP.Eg=function Eg(a){switch(arguments.length){case 1:return Eg.o(arguments[0]);case 2:return Eg.j(arguments[0],arguments[1]);default:throw Error(["Invalid arity: ",$APP.t.o(arguments.length)].join(""));}};
$APP.Eg.o=function(a){return function(b){var c=$APP.Cg(a);return function(){function d(k,l){var h=$APP.u(c);c.Ub(null,c.Ca(null)-1);return 0<h?k:b.j?b.j(k,l):b.call(null,k,l)}function e(k){return b.o?b.o(k):b.call(null,k)}function f(){return b.C?b.C():b.call(null)}var g=null;g=function(k,l){switch(arguments.length){case 0:return f.call(this);case 1:return e.call(this,k);case 2:return d.call(this,k,l)}throw Error("Invalid arity: "+arguments.length);};g.C=f;g.o=e;g.j=d;return g}()}};
$APP.Eg.j=function(a,b){return new $APP.Ff(null,function(){a:for(var c=a,d=b;;)if(d=$APP.x(d),0<c&&d)--c,d=$APP.Jd(d);else break a;return d},null,null)};$APP.Eg.B=2;$APP.vl=function vl(a){switch(arguments.length){case 1:return vl.o(arguments[0]);case 2:return vl.j(arguments[0],arguments[1]);default:throw Error(["Invalid arity: ",$APP.t.o(arguments.length)].join(""));}};$APP.vl.o=function(a){return $APP.vl.j(1,a)};$APP.vl.j=function(a,b){return $APP.wj.v(function(c){return c},b,$APP.Eg.j(a,b))};
$APP.vl.B=2;var gj=function gj(a){switch(arguments.length){case 1:return gj.o(arguments[0]);case 2:return gj.j(arguments[0],arguments[1]);default:throw Error(["Invalid arity: ",$APP.t.o(arguments.length)].join(""));}};
gj.o=function(a){return function(b){var c=$APP.Cg(!0);return function(){function d(k,l){var h=$APP.u(c);if($APP.p($APP.p(h)?a.o?a.o(l):a.call(null,l):h))return k;$APP.jd(c,null);return b.j?b.j(k,l):b.call(null,k,l)}function e(k){return b.o?b.o(k):b.call(null,k)}function f(){return b.C?b.C():b.call(null)}var g=null;g=function(k,l){switch(arguments.length){case 0:return f.call(this);case 1:return e.call(this,k);case 2:return d.call(this,k,l)}throw Error("Invalid arity: "+arguments.length);};g.C=f;g.o=
e;g.j=d;return g}()}};gj.j=function(a,b){return new $APP.Ff(null,function(){a:for(var c=a,d=b;;){d=$APP.x(d);var e;if(e=d)e=$APP.y(d),e=c.o?c.o(e):c.call(null,e);if($APP.p(e))d=$APP.Jd(d);else break a}return d},null,null)};gj.B=2;$APP.m=Gg.prototype;$APP.m.toString=function(){return nd(this)};$APP.m.aa=function(){return this.meta};$APP.m.Xa=function(){return this.$a(null)};$APP.m.ya=function(){return $APP.Id};$APP.m.jd=function(){return null!=this.current};
$APP.m.Ya=function(a,b){for(var c=this,d=Hg(this),e=$APP.y(d);;){var f=function(){var g=$APP.z(d);return g?g:c.all}();a=function(){var g=e,k=$APP.y(f);return b.j?b.j(g,k):b.call(null,g,k)}();if(Wd(a))return $APP.u(a);d=f;e=a}};$APP.m.Za=function(a,b,c){for(var d=this,e=Hg(this),f=c;;){c=function(){var g=f,k=$APP.y(e);return b.j?b.j(g,k):b.call(null,g,k)}();if(Wd(c))return $APP.u(c);e=a=function(){var g=$APP.z(e);return g?g:d.all}();f=c}};$APP.m.Ta=function(){return $APP.y(Hg(this))};
$APP.m.$a=function(){null==this.Gb&&(this.Gb=new Gg(null,this.all,Hg(this),null,null));return this.Gb};$APP.m.ja=function(){return this};$APP.m.ea=function(a,b){return b===this.meta?this:new Gg(b,this.all,this.prev,this.current,this.Gb)};$APP.m.oa=function(a,b){return $APP.wf(b,this)};$APP.m=$APP.Kg.prototype;$APP.m.toString=function(){return nd(this)};$APP.m.Y=$APP.ha(21);
$APP.m.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return he(this,b,0);case 2:return he(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.o=function(b){return he(this,b,0)};a.j=function(b,c){return he(this,b,c)};return a}();
$APP.m.lastIndexOf=function(){function a(c){return ie(this,c,this.count)}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return ie(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.o=a;b.j=function(c,d){return ie(this,c,d)};return b}();$APP.m.aa=function(){return this.meta};$APP.m.Xa=function(){return null==this.next?1<this.count?this.next=new $APP.Kg(null,this.count-1,this.val,null,null):-1===this.count?this:null:this.next};
$APP.m.ga=function(){var a=this.N;return null!=a?a:this.N=a=Nd(this)};$APP.m.U=function(a,b){return pf(this,b)};$APP.m.ya=function(){return $APP.Id};$APP.m.jd=function(){return!1};$APP.m.Ya=function(a,b){if(-1===this.count)for(var c=b.j?b.j(this.val,this.val):b.call(null,this.val,this.val);;){if(Wd(c))return $APP.u(c);c=b.j?b.j(c,this.val):b.call(null,c,this.val)}else for(a=1,c=this.val;;)if(a<this.count){c=b.j?b.j(c,this.val):b.call(null,c,this.val);if(Wd(c))return $APP.u(c);a+=1}else return c};
$APP.m.Za=function(a,b,c){if(-1===this.count)for(c=b.j?b.j(c,this.val):b.call(null,c,this.val);;){if(Wd(c))return $APP.u(c);c=b.j?b.j(c,this.val):b.call(null,c,this.val)}else for(a=0;;)if(a<this.count){c=b.j?b.j(c,this.val):b.call(null,c,this.val);if(Wd(c))return $APP.u(c);a+=1}else return c};$APP.m.Ta=function(){return this.val};$APP.m.$a=function(){return null==this.next?1<this.count?this.next=new $APP.Kg(null,this.count-1,this.val,null,null):-1===this.count?this:$APP.Id:this.next};$APP.m.ja=function(){return this};
$APP.m.ea=function(a,b){return b===this.meta?this:new $APP.Kg(b,this.count,this.val,this.next,null)};$APP.m.oa=function(a,b){return $APP.wf(b,this)};$APP.sr=function sr(a){switch(arguments.length){case 1:return sr.o(arguments[0]);case 2:return sr.j(arguments[0],arguments[1]);default:throw Error(["Invalid arity: ",$APP.t.o(arguments.length)].join(""));}};$APP.sr.o=function(a){return new $APP.Kg(null,-1,a,null,null)};$APP.sr.j=function(a,b){return 0<a?new $APP.Kg(null,a,b,null,null):$APP.Id};
$APP.sr.B=2;var uv=function uv(a){switch(arguments.length){case 1:return uv.o(arguments[0]);case 2:return uv.j(arguments[0],arguments[1]);default:throw Error(["Invalid arity: ",$APP.t.o(arguments.length)].join(""));}};uv.o=function(a){return new $APP.Ff(null,function(){return $APP.wf(a.C?a.C():a.call(null),uv.o(a))},null,null)};uv.j=function(a,b){return $APP.Ig.j(a,uv.o(b))};uv.B=2;var tA={};$APP.m=Lg.prototype;$APP.m.toString=function(){return nd(this)};$APP.m.aa=function(){return this.meta};
$APP.m.Xa=function(){return this.$a(null)};$APP.m.ya=function(){return $APP.Id};$APP.m.jd=function(){return this.seed!==tA};$APP.m.Ya=function(a,b){a=this.Ta(null);var c=this.f.o?this.f.o(a):this.f.call(null,a);for(a=b.j?b.j(a,c):b.call(null,a,c);;){if(Wd(a))return $APP.u(a);c=this.f.o?this.f.o(c):this.f.call(null,c);a=b.j?b.j(a,c):b.call(null,a,c)}};
$APP.m.Za=function(a,b,c){a=this.Ta(null);for(c=b.j?b.j(c,a):b.call(null,c,a);;){if(Wd(c))return $APP.u(c);a=this.f.o?this.f.o(a):this.f.call(null,a);c=b.j?b.j(c,a):b.call(null,c,a)}};$APP.m.Ta=function(){tA===this.seed&&(this.seed=this.f.o?this.f.o(this.Rf):this.f.call(null,this.Rf));return this.seed};$APP.m.$a=function(){null==this.next&&(this.next=new Lg(null,this.f,this.Ta(null),tA,null));return this.next};$APP.m.ja=function(){return this};
$APP.m.ea=function(a,b){return b===this.meta?this:new Lg(b,this.f,this.Rf,this.seed,this.next)};$APP.m.oa=function(a,b){return $APP.wf(b,this)};$APP.Bu=function Bu(a){switch(arguments.length){case 0:return Bu.C();case 1:return Bu.o(arguments[0]);case 2:return Bu.j(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new $APP.Fd(c.slice(2),0,null);return Bu.A(arguments[0],arguments[1],c)}};$APP.Bu.C=function(){return $APP.Id};
$APP.Bu.o=function(a){return new $APP.Ff(null,function(){return a},null,null)};$APP.Bu.j=function(a,b){return new $APP.Ff(null,function(){var c=$APP.x(a),d=$APP.x(b);return c&&d?$APP.wf($APP.y(c),$APP.wf($APP.y(d),$APP.Bu.j($APP.Jd(c),$APP.Jd(d)))):null},null,null)};$APP.Bu.A=function(a,b,c){return new $APP.Ff(null,function(){var d=$APP.wj.j($APP.x,$APP.tf.A(c,b,$APP.F([a])));return $APP.tg($APP.gf,d)?$APP.Q.j($APP.wj.j($APP.y,d),$APP.wg.j($APP.Bu,$APP.wj.j($APP.Jd,d))):null},null,null)};
$APP.Bu.F=function(a){var b=$APP.y(a),c=$APP.z(a);a=$APP.y(c);c=$APP.z(c);return this.A(b,a,c)};$APP.Bu.B=2;$APP.rm=function rm(a){switch(arguments.length){case 1:return rm.o(arguments[0]);case 2:return rm.j(arguments[0],arguments[1]);default:throw Error(["Invalid arity: ",$APP.t.o(arguments.length)].join(""));}};
$APP.rm.o=function(a){return function(b){var c=$APP.Cg(!1);return function(){function d(k,l){if($APP.p($APP.u(c)))return k=b.j?b.j(k,a):b.call(null,k,a),Wd(k)?k:b.j?b.j(k,l):b.call(null,k,l);$APP.jd(c,!0);return b.j?b.j(k,l):b.call(null,k,l)}function e(k){return b.o?b.o(k):b.call(null,k)}function f(){return b.C?b.C():b.call(null)}var g=null;g=function(k,l){switch(arguments.length){case 0:return f.call(this);case 1:return e.call(this,k);case 2:return d.call(this,k,l)}throw Error("Invalid arity: "+
arguments.length);};g.C=f;g.o=e;g.j=d;return g}()}};$APP.rm.j=function(a,b){return $APP.Eg.j(1,$APP.Bu.j($APP.sr.o(a),b))};$APP.rm.B=2;$APP.Ng=function Ng(a){switch(arguments.length){case 1:return Ng.o(arguments[0]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new $APP.Fd(c.slice(1),0,null);return Ng.A(arguments[0],c)}};$APP.Ng.o=function(a){return $APP.qr.j($APP.wj.o(a),Pj)};$APP.Ng.A=function(a,b){return $APP.wg.j($APP.Q,$APP.wg.v($APP.wj,a,b))};
$APP.Ng.F=function(a){var b=$APP.y(a);a=$APP.z(a);return this.A(b,a)};$APP.Ng.B=1;$APP.Pg=function Pg(a){switch(arguments.length){case 1:return Pg.o(arguments[0]);case 2:return Pg.j(arguments[0],arguments[1]);default:throw Error(["Invalid arity: ",$APP.t.o(arguments.length)].join(""));}};
$APP.Pg.o=function(a){return function(b){return function(){function c(g,k){return $APP.p(a.o?a.o(k):a.call(null,k))?b.j?b.j(g,k):b.call(null,g,k):g}function d(g){return b.o?b.o(g):b.call(null,g)}function e(){return b.C?b.C():b.call(null)}var f=null;f=function(g,k){switch(arguments.length){case 0:return e.call(this);case 1:return d.call(this,g);case 2:return c.call(this,g,k)}throw Error("Invalid arity: "+arguments.length);};f.C=e;f.o=d;f.j=c;return f}()}};
$APP.Pg.j=function(a,b){return new $APP.Ff(null,function(){var c=$APP.x(b);if(c){if($APP.He(c)){for(var d=$APP.bd(c),e=$APP.ge(d),f=$APP.If(e),g=0;;)if(g<e){var k=$APP.re(d,g);k=a.o?a.o(k):a.call(null,k);$APP.p(k)&&$APP.Mf(f,$APP.re(d,g));g+=1}else break;return $APP.Lf($APP.Nf(f),$APP.Pg.j(a,$APP.cd(c)))}d=$APP.y(c);c=$APP.Jd(c);return $APP.p(a.o?a.o(d):a.call(null,d))?$APP.wf(d,$APP.Pg.j(a,c)):$APP.Pg.j(a,c)}return null},null,null)};$APP.Pg.B=2;
$APP.Cu=function Cu(a){switch(arguments.length){case 1:return Cu.o(arguments[0]);case 2:return Cu.j(arguments[0],arguments[1]);default:throw Error(["Invalid arity: ",$APP.t.o(arguments.length)].join(""));}};$APP.Cu.o=function(a){return $APP.Pg.o(xg(a))};$APP.Cu.j=function(a,b){return $APP.Pg.j(xg(a),b)};$APP.Cu.B=2;
$APP.Nh=function Nh(a){switch(arguments.length){case 0:return Nh.C();case 1:return Nh.o(arguments[0]);case 2:return Nh.j(arguments[0],arguments[1]);case 3:return Nh.v(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",$APP.t.o(arguments.length)].join(""));}};$APP.Nh.C=function(){return $APP.ih};$APP.Nh.o=function(a){return a};
$APP.Nh.j=function(a,b){return null!=a?null!=a&&(a.R&4||$APP.wd===a.vh)?$APP.sc($APP.Uc($APP.cf.v(Tc,$APP.Sc(a),b)),$APP.we(a)):$APP.cf.v($APP.Nb,a,b):$APP.cf.v($APP.tf,a,b)};
$APP.Nh.v=function(a,b,c){if(null!=a&&(a.R&4||$APP.wd===a.vh)){var d=$APP.we(a);return Oz.J(b,function(){function e(k,l){return $APP.dh.j(k,l)}function f(k){return $APP.sc($APP.Uc(k),d)}var g=null;g=function(k,l){switch(arguments.length){case 1:return f.call(this,k);case 2:return e.call(this,k,l)}throw Error("Invalid arity: "+arguments.length);};g.o=f;g.j=e;return g}(),$APP.Sc(a),c)}return Oz.J(b,$APP.tf,a,c)};$APP.Nh.B=3;
$APP.nr=function nr(a){switch(arguments.length){case 2:return nr.j(arguments[0],arguments[1]);case 3:return nr.v(arguments[0],arguments[1],arguments[2]);case 4:return nr.J(arguments[0],arguments[1],arguments[2],arguments[3]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new $APP.Fd(c.slice(4),0,null);return nr.A(arguments[0],arguments[1],arguments[2],arguments[3],c)}};
$APP.nr.j=function(a,b){return $APP.Uc($APP.cf.v(function(c,d){return $APP.dh.j(c,a.o?a.o(d):a.call(null,d))},$APP.Sc($APP.ih),b))};$APP.nr.v=function(a,b,c){return $APP.Nh.j($APP.ih,$APP.wj.v(a,b,c))};$APP.nr.J=function(a,b,c,d){return $APP.Nh.j($APP.ih,$APP.wj.J(a,b,c,d))};$APP.nr.A=function(a,b,c,d,e){return $APP.Nh.j($APP.ih,$APP.wg.A($APP.wj,a,b,c,d,$APP.F([e])))};
$APP.nr.F=function(a){var b=$APP.y(a),c=$APP.z(a);a=$APP.y(c);var d=$APP.z(c);c=$APP.y(d);var e=$APP.z(d);d=$APP.y(e);e=$APP.z(e);return this.A(b,a,c,d,e)};$APP.nr.B=4;$APP.ur=function ur(a){switch(arguments.length){case 2:return ur.j(arguments[0],arguments[1]);case 3:return ur.v(arguments[0],arguments[1],arguments[2]);case 4:return ur.J(arguments[0],arguments[1],arguments[2],arguments[3]);default:throw Error(["Invalid arity: ",$APP.t.o(arguments.length)].join(""));}};
$APP.ur.j=function(a,b){return $APP.ur.v(a,a,b)};$APP.ur.v=function(a,b,c){return new $APP.Ff(null,function(){var d=$APP.x(c);if(d){var e=$APP.Ig.j(a,d);return a===$APP.ge(e)?$APP.wf(e,$APP.ur.v(a,b,$APP.Eg.j(b,d))):null}return null},null,null)};$APP.ur.J=function(a,b,c,d){return new $APP.Ff(null,function(){var e=$APP.x(d);if(e){var f=$APP.Ig.j(a,e);return a===$APP.ge(f)?$APP.wf(f,$APP.ur.J(a,b,c,$APP.Eg.j(b,e))):new $APP.J(null,$APP.Ig.j(a,$APP.Q.j(f,c)),null,1,null)}return null},null,null)};
$APP.ur.B=4;$APP.Rr=function Rr(a){switch(arguments.length){case 2:return Rr.j(arguments[0],arguments[1]);case 3:return Rr.v(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",$APP.t.o(arguments.length)].join(""));}};$APP.Rr.j=function(a,b){return $APP.cf.v($APP.Re,a,b)};$APP.Rr.v=function(a,b,c){var d=Se;for(b=$APP.x(b);;)if(null!=b){a=$APP.Re.v(a,$APP.y(b),d);if(d===a)return c;b=$APP.z(b)}else return a};$APP.Rr.B=3;
$APP.Tr=function Tr(a,b,c){var e=$APP.x(b);b=$APP.y(e);var f=$APP.z(e);if(f){e=$APP.Ni.v;var g=$APP.Re.j(a,b);c=Tr.v?Tr.v(g,f,c):Tr.call(null,g,f,c);a=e.call($APP.Ni,a,b,c)}else a=$APP.Ni.v(a,b,c);return a};
$APP.im=function im(a){switch(arguments.length){case 3:return im.v(arguments[0],arguments[1],arguments[2]);case 4:return im.J(arguments[0],arguments[1],arguments[2],arguments[3]);case 5:return im.S(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4]);case 6:return im.qa(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new $APP.Fd(c.slice(6),0,null);return im.A(arguments[0],
arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],c)}};$APP.im.v=function(a,b,c){var d=$APP.x(b);b=$APP.y(d);if(d=$APP.z(d))a=$APP.Ni.v(a,b,$APP.im.v($APP.Re.j(a,b),d,c));else{d=$APP.Ni.v;var e=$APP.Re.j(a,b);c=c.o?c.o(e):c.call(null,e);a=d.call($APP.Ni,a,b,c)}return a};$APP.im.J=function(a,b,c,d){var e=$APP.x(b);b=$APP.y(e);if(e=$APP.z(e))a=$APP.Ni.v(a,b,$APP.im.J($APP.Re.j(a,b),e,c,d));else{e=$APP.Ni.v;var f=$APP.Re.j(a,b);c=c.j?c.j(f,d):c.call(null,f,d);a=e.call($APP.Ni,a,b,c)}return a};
$APP.im.S=function(a,b,c,d,e){var f=$APP.x(b);b=$APP.y(f);if(f=$APP.z(f))a=$APP.Ni.v(a,b,$APP.im.S($APP.Re.j(a,b),f,c,d,e));else{f=$APP.Ni.v;var g=$APP.Re.j(a,b);c=c.v?c.v(g,d,e):c.call(null,g,d,e);a=f.call($APP.Ni,a,b,c)}return a};$APP.im.qa=function(a,b,c,d,e,f){var g=$APP.x(b);b=$APP.y(g);if(g=$APP.z(g))a=$APP.Ni.v(a,b,$APP.im.qa($APP.Re.j(a,b),g,c,d,e,f));else{g=$APP.Ni.v;var k=$APP.Re.j(a,b);c=c.J?c.J(k,d,e,f):c.call(null,k,d,e,f);a=g.call($APP.Ni,a,b,c)}return a};
$APP.im.A=function(a,b,c,d,e,f,g){var k=$APP.x(b);b=$APP.y(k);return(k=$APP.z(k))?$APP.Ni.v(a,b,$APP.wg.A($APP.im,$APP.Re.j(a,b),k,c,d,$APP.F([e,f,g]))):$APP.Ni.v(a,b,$APP.wg.A(c,$APP.Re.j(a,b),d,e,f,$APP.F([g])))};$APP.im.F=function(a){var b=$APP.y(a),c=$APP.z(a);a=$APP.y(c);var d=$APP.z(c);c=$APP.y(d);var e=$APP.z(d);d=$APP.y(e);var f=$APP.z(e);e=$APP.y(f);var g=$APP.z(f);f=$APP.y(g);g=$APP.z(g);return this.A(b,a,c,d,e,f,g)};$APP.im.B=6;
$APP.jo=function jo(a){switch(arguments.length){case 3:return jo.v(arguments[0],arguments[1],arguments[2]);case 4:return jo.J(arguments[0],arguments[1],arguments[2],arguments[3]);case 5:return jo.S(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4]);case 6:return jo.qa(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new $APP.Fd(c.slice(6),0,null);return jo.A(arguments[0],
arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],c)}};$APP.jo.v=function(a,b,c){var d=$APP.Ni.v,e=$APP.Re.j(a,b);c=c.o?c.o(e):c.call(null,e);return d.call($APP.Ni,a,b,c)};$APP.jo.J=function(a,b,c,d){var e=$APP.Ni.v,f=$APP.Re.j(a,b);c=c.j?c.j(f,d):c.call(null,f,d);return e.call($APP.Ni,a,b,c)};$APP.jo.S=function(a,b,c,d,e){var f=$APP.Ni.v,g=$APP.Re.j(a,b);c=c.v?c.v(g,d,e):c.call(null,g,d,e);return f.call($APP.Ni,a,b,c)};
$APP.jo.qa=function(a,b,c,d,e,f){var g=$APP.Ni.v,k=$APP.Re.j(a,b);c=c.J?c.J(k,d,e,f):c.call(null,k,d,e,f);return g.call($APP.Ni,a,b,c)};$APP.jo.A=function(a,b,c,d,e,f,g){return $APP.Ni.v(a,b,$APP.wg.A(c,$APP.Re.j(a,b),d,e,f,$APP.F([g])))};$APP.jo.F=function(a){var b=$APP.y(a),c=$APP.z(a);a=$APP.y(c);var d=$APP.z(c);c=$APP.y(d);var e=$APP.z(d);d=$APP.y(e);var f=$APP.z(e);e=$APP.y(f);var g=$APP.z(f);f=$APP.y(g);g=$APP.z(g);return this.A(b,a,c,d,e,f,g)};$APP.jo.B=6;
var uA=function uA(a,b,c,d){var f=Tg(c),g=a.P-1>>>b&31;5===b?f.K[g]=d:(c=c.K[g],null!=c?(b-=5,a=uA.J?uA.J(a,b,c,d):uA.call(null,a,b,c,d)):a=Vg(null,b-5,d),f.K[g]=a);return f},vA=function vA(a,b,c,d,e){var g=Tg(c);if(0===b)g.K[d&31]=e;else{var k=d>>>b&31;b-=5;c=c.K[k];a=vA.S?vA.S(a,b,c,d,e):vA.call(null,a,b,c,d,e);g.K[k]=a}return g},wA=function wA(a,b,c){var e=a.P-2>>>b&31;if(5<b){b-=5;var f=c.K[e];a=wA.v?wA.v(a,b,f):wA.call(null,a,b,f);if(null==a&&0===e)return null;c=Tg(c);c.K[e]=a;return c}if(0===
e)return null;c=Tg(c);c.K[e]=null;return c};$g.prototype.Ba=function(){return this.i<this.end};$g.prototype.next=function(){32===this.i-this.base&&(this.K=Yg(this.xb,this.i),this.base+=32);var a=this.K[this.i&31];this.i+=1;return a};$APP.m=$APP.N.prototype;$APP.m.Zc=$APP.wd;$APP.m.Kc=function(a,b){return 0<=b&&b<this.P?new $APP.Ue(b,Yg(this,b)[b&31],null):null};$APP.m.toString=function(){return nd(this)};$APP.m.Y=$APP.ha(20);
$APP.m.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return he(this,b,0);case 2:return he(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.o=function(b){return he(this,b,0)};a.j=function(b,c){return he(this,b,c)};return a}();
$APP.m.lastIndexOf=function(){function a(c){return ie(this,c,$APP.ge(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return ie(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.o=a;b.j=function(c,d){return ie(this,c,d)};return b}();$APP.m.sa=function(a,b){return this.V(null,b,null)};$APP.m.V=function(a,b,c){return"number"===typeof b?this.sb(null,b,c):c};
$APP.m.tb=function(a,b,c){a=0;for(var d=c;;)if(a<this.P){var e=Yg(this,a);c=e.length;a:for(var f=0;;)if(f<c){var g=f+a,k=e[f];d=b.v?b.v(d,g,k):b.call(null,d,g,k);if(Wd(d)){e=d;break a}f+=1}else{e=d;break a}if(Wd(e))return $APP.u(e);a+=c;d=e}else return d};$APP.m.kf=$APP.wd;$APP.m.fa=function(a,b){return Zg(this,b)[b&31]};$APP.m.sb=function(a,b,c){return 0<=b&&b<this.P?Yg(this,b)[b&31]:c};
$APP.m.pc=function(a,b,c){if(0<=b&&b<this.P)return Ug(this)<=b?(a=Eb(this.tail),a[b&31]=c,new $APP.N(this.meta,this.P,this.shift,this.root,a,null)):new $APP.N(this.meta,this.P,this.shift,vA(this,this.shift,this.root,b,c),this.tail,null);if(b===this.P)return this.oa(null,c);throw Error(["Index ",$APP.t.o(b)," out of bounds  [0,",$APP.t.o(this.P),"]"].join(""));};$APP.m.Aa=function(){return ah(this,0,this.P)};$APP.m.aa=function(){return this.meta};$APP.m.ka=$APP.ha(47);$APP.m.ma=function(){return this.P};
$APP.m.Nc=function(){return 0<this.P?this.fa(null,this.P-1):null};
$APP.m.Oc=function(){if(0===this.P)throw Error("Can't pop empty vector");if(1===this.P)return $APP.sc($APP.ih,this.meta);if(1<this.P-Ug(this))return new $APP.N(this.meta,this.P-1,this.shift,this.root,this.tail.slice(0,-1),null);var a=Yg(this,this.P-2),b=wA(this,this.shift,this.root);b=null==b?$APP.O:b;var c=this.P-1;return 5<this.shift&&null==b.K[1]?new $APP.N(this.meta,c,this.shift-5,b.K[0],a,null):new $APP.N(this.meta,c,this.shift,b,a,null)};
$APP.m.Mc=function(){return 0<this.P?new $APP.ke(this,this.P-1,null):null};$APP.m.ga=function(){var a=this.N;return null!=a?a:this.N=a=Nd(this)};$APP.m.U=function(a,b){if(b instanceof $APP.N)if(this.P===$APP.ge(b))for(a=this.Aa(null),b=b.Aa(null);;)if(a.Ba()){var c=a.next(),d=b.next();if(!$APP.A.j(c,d))return!1}else return!0;else return!1;else return pf(this,b)};$APP.m.Bd=function(){return new uh(this.P,this.shift,rh.o?rh.o(this.root):rh.call(null,this.root),th.o?th.o(this.tail):th.call(null,this.tail))};
$APP.m.ya=function(){return $APP.sc($APP.ih,this.meta)};$APP.m.Ya=function(a,b){return ch(this,b,0,this.P)};$APP.m.Za=function(a,b,c){a=0;for(var d=c;;)if(a<this.P){var e=Yg(this,a);c=e.length;a:for(var f=0;;)if(f<c){var g=e[f];d=b.j?b.j(d,g):b.call(null,d,g);if(Wd(d)){e=d;break a}f+=1}else{e=d;break a}if(Wd(e))return $APP.u(e);a+=c;d=e}else return d};$APP.m.pa=function(a,b,c){if("number"===typeof b)return this.pc(null,b,c);throw Error("Vector's key for assoc must be a number.");};
$APP.m.Wa=function(a,b){return $APP.Pe(b)?0<=b&&b<this.P:!1};$APP.m.ja=function(){if(0===this.P)return null;if(32>=this.P)return new $APP.Fd(this.tail,0,null);a:{var a=this.root;for(var b=this.shift;;)if(0<b)b-=5,a=a.K[0];else{a=a.K;break a}}return lh?lh(this,a,0,0):nh.call(null,this,a,0,0)};$APP.m.ea=function(a,b){return b===this.meta?this:new $APP.N(b,this.P,this.shift,this.root,this.tail,this.N)};
$APP.m.oa=function(a,b){if(32>this.P-Ug(this)){a=this.tail.length;for(var c=Array(a+1),d=0;;)if(d<a)c[d]=this.tail[d],d+=1;else break;c[a]=b;return new $APP.N(this.meta,this.P+1,this.shift,this.root,c,null)}a=(c=this.P>>>5>1<<this.shift)?this.shift+5:this.shift;c?(c=Sg(null),c.K[0]=this.root,d=Vg(null,this.shift,new Rg(null,this.tail)),c.K[1]=d):c=uA(this,this.shift,this.root,new Rg(null,this.tail));return new $APP.N(this.meta,this.P+1,a,c,[b],null)};
$APP.m.call=function(a){switch(arguments.length-1){case 1:return this.o(arguments[1]);default:throw Error(["Invalid arity: ",$APP.t.o(arguments.length-1)].join(""));}};$APP.m.apply=function(a,b){return this.call.apply(this,[this].concat(Eb(b)))};$APP.m.o=function(a){if("number"===typeof a)return this.fa(null,a);throw Error("Key must be integer");};
$APP.O=new Rg(null,[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null]);$APP.ih=new $APP.N(null,0,5,$APP.O,[],Kz);$APP.N.prototype[Gd]=function(){return Ld(this)};$APP.xA=function xA(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=0<c.length?new $APP.Fd(c.slice(0),0,null):null;return xA.A(c)};
$APP.xA.A=function(a){return a instanceof $APP.Fd&&0===a.i?$APP.eh(a.K,!vb(a.K)):$APP.jh(a)};$APP.xA.B=0;$APP.xA.F=function(a){return this.A($APP.x(a))};$APP.m=$APP.kh.prototype;$APP.m.toString=function(){return nd(this)};$APP.m.Y=$APP.ha(19);
$APP.m.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return he(this,b,0);case 2:return he(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.o=function(b){return he(this,b,0)};a.j=function(b,c){return he(this,b,c)};return a}();
$APP.m.lastIndexOf=function(){function a(c){return ie(this,c,$APP.ge(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return ie(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.o=a;b.j=function(c,d){return ie(this,c,d)};return b}();$APP.m.aa=function(){return this.meta};$APP.m.Xa=function(){if(this.off+1<this.node.length){var a=this.cc;var b=this.node,c=this.i,d=this.off+1;a=lh?lh(a,b,c,d):nh.call(null,a,b,c,d);return null==a?null:a}return this.Td()};
$APP.m.ga=function(){var a=this.N;return null!=a?a:this.N=a=Nd(this)};$APP.m.U=function(a,b){return pf(this,b)};$APP.m.ya=function(){return $APP.Id};$APP.m.Ya=function(a,b){return ch(this.cc,b,this.i+this.off,$APP.ge(this.cc))};$APP.m.Za=function(a,b,c){return bh(this.cc,b,c,this.i+this.off,$APP.ge(this.cc))};$APP.m.Ta=function(){return this.node[this.off]};
$APP.m.$a=function(){if(this.off+1<this.node.length){var a=this.cc;var b=this.node,c=this.i,d=this.off+1;a=lh?lh(a,b,c,d):nh.call(null,a,b,c,d);return null==a?$APP.Id:a}return this.Yc(null)};$APP.m.ja=function(){return this};$APP.m.Ud=function(){var a=this.node;return new Jf(a,this.off,a.length)};$APP.m.Yc=function(){var a=this.i+this.node.length;if(a<Jb(this.cc)){var b=this.cc,c=Yg(this.cc,a);return lh?lh(b,c,a,0):nh.call(null,b,c,a,0)}return $APP.Id};
$APP.m.ea=function(a,b){return b===this.meta?this:mh?mh(this.cc,this.node,this.i,this.off,b):nh.call(null,this.cc,this.node,this.i,this.off,b)};$APP.m.oa=function(a,b){return $APP.wf(b,this)};$APP.m.Td=function(){var a=this.i+this.node.length;if(a<Jb(this.cc)){var b=this.cc,c=Yg(this.cc,a);return lh?lh(b,c,a,0):nh.call(null,b,c,a,0)}return null};$APP.kh.prototype[Gd]=function(){return Ld(this)};$APP.m=$APP.oh.prototype;$APP.m.Zc=$APP.wd;
$APP.m.Kc=function(a,b){if(0>b)return null;a=this.start+b;return a<this.end?new $APP.Ue(b,Ez(this.xb,a),null):null};$APP.m.toString=function(){return nd(this)};$APP.m.Y=$APP.ha(18);$APP.m.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return he(this,b,0);case 2:return he(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.o=function(b){return he(this,b,0)};a.j=function(b,c){return he(this,b,c)};return a}();
$APP.m.lastIndexOf=function(){function a(c){return ie(this,c,$APP.ge(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return ie(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.o=a;b.j=function(c,d){return ie(this,c,d)};return b}();$APP.m.sa=function(a,b){return this.V(null,b,null)};$APP.m.V=function(a,b,c){return"number"===typeof b?this.sb(null,b,c):c};
$APP.m.tb=function(a,b,c){a=this.start;for(var d=0;;)if(a<this.end){var e=d,f=$APP.re(this.xb,a);c=b.v?b.v(c,e,f):b.call(null,c,e,f);if(Wd(c))return $APP.u(c);d+=1;a+=1}else return c};$APP.m.fa=function(a,b){return 0>b||this.end<=this.start+b?Xg(b,this.end-this.start):$APP.re(this.xb,this.start+b)};$APP.m.sb=function(a,b,c){return 0>b||this.end<=this.start+b?c:$APP.re(this.xb,this.start+b,c)};
$APP.m.pc=function(a,b,c){a=this.start+b;if(0>b||this.end+1<=a)throw Error(["Index ",$APP.t.o(b)," out of bounds [0,",$APP.t.o(this.ma(null)),"]"].join(""));b=this.meta;c=$APP.Ni.v(this.xb,a,c);var d=this.start,e=this.end;a+=1;a=e>a?e:a;return ph.S?ph.S(b,c,d,a,null):ph.call(null,b,c,d,a,null)};$APP.m.Aa=function(){return null!=this.xb&&$APP.wd===this.xb.kf?ah(this.xb,this.start,this.end):new jg(this)};$APP.m.aa=function(){return this.meta};$APP.m.ka=$APP.ha(46);
$APP.m.ma=function(){return this.end-this.start};$APP.m.Nc=function(){return this.start===this.end?null:$APP.re(this.xb,this.end-1)};$APP.m.Oc=function(){if(this.start===this.end)throw Error("Can't pop empty vector");var a=this.meta,b=this.xb,c=this.start,d=this.end-1;return ph.S?ph.S(a,b,c,d,null):ph.call(null,a,b,c,d,null)};$APP.m.Mc=function(){return this.start!==this.end?new $APP.ke(this,this.end-this.start-1,null):null};$APP.m.ga=function(){var a=this.N;return null!=a?a:this.N=a=Nd(this)};
$APP.m.U=function(a,b){return pf(this,b)};$APP.m.ya=function(){return $APP.sc($APP.ih,this.meta)};$APP.m.Ya=function(a,b){return null!=this.xb&&$APP.wd===this.xb.kf?ch(this.xb,b,this.start,this.end):$d(this,b)};$APP.m.Za=function(a,b,c){return null!=this.xb&&$APP.wd===this.xb.kf?bh(this.xb,b,c,this.start,this.end):ae(this,b,c)};$APP.m.pa=function(a,b,c){if("number"===typeof b)return this.pc(null,b,c);throw Error("Subvec's key for assoc must be a number.");};
$APP.m.Wa=function(a,b){return $APP.Pe(b)?0<=b&&b<this.end-this.start:!1};$APP.m.ja=function(){var a=this;return function d(c){return c===a.end?null:$APP.wf($APP.re(a.xb,c),new $APP.Ff(null,function(){return d(c+1)},null,null))}(a.start)};$APP.m.ea=function(a,b){return b===this.meta?this:ph.S?ph.S(b,this.xb,this.start,this.end,this.N):ph.call(null,b,this.xb,this.start,this.end,this.N)};
$APP.m.oa=function(a,b){a=this.meta;b=lc(this.xb,this.end,b);var c=this.start,d=this.end+1;return ph.S?ph.S(a,b,c,d,null):ph.call(null,a,b,c,d,null)};$APP.m.call=function(a){switch(arguments.length-1){case 1:return this.o(arguments[1]);case 2:return this.j(arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",$APP.t.o(arguments.length-1)].join(""));}};$APP.m.apply=function(a,b){return this.call.apply(this,[this].concat(Eb(b)))};$APP.m.o=function(a){return this.fa(null,a)};
$APP.m.j=function(a,b){return this.sb(null,a,b)};$APP.oh.prototype[Gd]=function(){return Ld(this)};$APP.Cl=function Cl(a){switch(arguments.length){case 2:return Cl.j(arguments[0],arguments[1]);case 3:return Cl.v(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",$APP.t.o(arguments.length)].join(""));}};$APP.Cl.j=function(a,b){return $APP.Cl.v(a,b,$APP.ge(a))};$APP.Cl.v=function(a,b,c){return ph(null,a,b|0,c|0,null)};$APP.Cl.B=3;
var yA=function yA(a,b,c,d){c=qh(a.root.va,c);var f=a.P-1>>>b&31;if(5===b)a=d;else{var g=c.K[f];null!=g?(b-=5,a=yA.J?yA.J(a,b,g,d):yA.call(null,a,b,g,d)):a=Vg(a.root.va,b-5,d)}c.K[f]=a;return c},zA=function zA(a,b,c){c=qh(a.root.va,c);var e=a.P-2>>>b&31;if(5<b){b-=5;var f=c.K[e];a=zA.v?zA.v(a,b,f):zA.call(null,a,b,f);if(null==a&&0===e)return null;c.K[e]=a;return c}if(0===e)return null;c.K[e]=null;return c};$APP.m=uh.prototype;
$APP.m.Gd=function(a,b){if(this.root.va){if(32>this.P-Ug(this))this.tail[this.P&31]=b;else{a=new Rg(this.root.va,this.tail);var c=[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null];c[0]=b;this.tail=c;this.P>>>5>1<<this.shift?(b=[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],
c=this.shift+5,b[0]=this.root,b[1]=Vg(this.root.va,this.shift,a),this.root=new Rg(this.root.va,b),this.shift=c):this.root=yA(this,this.shift,this.root,a)}this.P+=1;return this}throw Error("conj! after persistent!");};$APP.m.Wd=function(){if(this.root.va){this.root.va=null;var a=this.P-Ug(this),b=Array(a);Ie(this.tail,0,b,0,a);return new $APP.N(null,this.P,this.shift,this.root,b,null)}throw Error("persistent! called twice");};
$APP.m.Fd=function(a,b,c){if("number"===typeof b)return vh(this,b,c);throw Error("TransientVector's key for assoc! must be a number.");};
$APP.m.yg=function(){if(this.root.va){if(0===this.P)throw Error("Can't pop empty vector");if(1===this.P)this.P=0;else if(0<(this.P-1&31))--this.P;else{a:{var a=this.P-2;if(a>=Ug(this))a=this.tail;else for(var b=this.root,c=b,d=this.shift;;)if(0<d)c=qh(b.va,c.K[a>>>d&31]),d-=5;else{a=c.K;break a}}b=zA(this,this.shift,this.root);b=null!=b?b:new Rg(this.root.va,[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,
null,null,null,null]);5<this.shift&&null==b.K[1]?(this.root=qh(this.root.va,b.K[0]),this.shift-=5):this.root=b;--this.P;this.tail=a}return this}throw Error("pop! after persistent!");};$APP.m.ma=function(){if(this.root.va)return this.P;throw Error("count after persistent!");};$APP.m.fa=function(a,b){if(this.root.va)return Zg(this,b)[b&31];throw Error("nth after persistent!");};$APP.m.sb=function(a,b,c){return 0<=b&&b<this.P?this.fa(null,b):c};$APP.m.sa=function(a,b){return this.V(null,b,null)};
$APP.m.V=function(a,b,c){if(this.root.va)return"number"===typeof b?this.sb(null,b,c):c;throw Error("lookup after persistent!");};$APP.m.call=function(a){switch(arguments.length-1){case 1:return this.o(arguments[1]);case 2:return this.j(arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",$APP.t.o(arguments.length-1)].join(""));}};$APP.m.apply=function(a,b){return this.call.apply(this,[this].concat(Eb(b)))};$APP.m.o=function(a){return this.sa(null,a)};
$APP.m.j=function(a,b){return this.V(null,a,b)};wh.prototype.Ba=function(){var a=null!=this.Id&&$APP.x(this.Id);return a?a:(a=null!=this.qe)?this.qe.Ba():a};wh.prototype.next=function(){if(null!=this.Id){var a=$APP.y(this.Id);this.Id=$APP.z(this.Id);return a}if(null!=this.qe&&this.qe.Ba())return this.qe.next();throw Error("No such element");};wh.prototype.remove=function(){return Error("Unsupported operation")};$APP.m=$APP.xh.prototype;$APP.m.toString=function(){return nd(this)};$APP.m.Y=$APP.ha(17);
$APP.m.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return he(this,b,0);case 2:return he(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.o=function(b){return he(this,b,0)};a.j=function(b,c){return he(this,b,c)};return a}();
$APP.m.lastIndexOf=function(){function a(c){return ie(this,c,$APP.ge(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return ie(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.o=a;b.j=function(c,d){return ie(this,c,d)};return b}();$APP.m.aa=function(){return this.meta};$APP.m.Xa=function(){var a=$APP.z(this.Ob);return a?new $APP.xh(this.meta,a,this.Tb,null):null!=this.Tb?new $APP.xh(this.meta,this.Tb,null,null):null};
$APP.m.ga=function(){var a=this.N;return null!=a?a:this.N=a=Nd(this)};$APP.m.U=function(a,b){return pf(this,b)};$APP.m.ya=function(){return $APP.sc($APP.Id,this.meta)};$APP.m.Ta=function(){return $APP.y(this.Ob)};$APP.m.$a=function(){var a=$APP.z(this.Ob);return a?new $APP.xh(this.meta,a,this.Tb,null):null==this.Tb?this.ya(null):new $APP.xh(this.meta,this.Tb,null,null)};$APP.m.ja=function(){return this};$APP.m.ea=function(a,b){return b===this.meta?this:new $APP.xh(b,this.Ob,this.Tb,this.N)};
$APP.m.oa=function(a,b){return $APP.wf(b,this)};$APP.xh.prototype[Gd]=function(){return Ld(this)};$APP.m=$APP.yh.prototype;$APP.m.toString=function(){return nd(this)};$APP.m.Y=$APP.ha(16);$APP.m.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return he(this,b,0);case 2:return he(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.o=function(b){return he(this,b,0)};a.j=function(b,c){return he(this,b,c)};return a}();
$APP.m.lastIndexOf=function(){function a(c){return ie(this,c,this.count.o?this.count.o(this):this.count.call(null,this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return ie(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.o=a;b.j=function(c,d){return ie(this,c,d)};return b}();$APP.m.Aa=function(){return new wh(this.Ob,$APP.ld(this.Tb))};$APP.m.aa=function(){return this.meta};$APP.m.ka=$APP.ha(45);$APP.m.ma=function(){return this.count};
$APP.m.Nc=function(){return $APP.y(this.Ob)};$APP.m.Oc=function(){if($APP.p(this.Ob)){var a=$APP.z(this.Ob);return a?new $APP.yh(this.meta,this.count-1,a,this.Tb,null):new $APP.yh(this.meta,this.count-1,$APP.x(this.Tb),$APP.ih,null)}return this};$APP.m.ga=function(){var a=this.N;return null!=a?a:this.N=a=Nd(this)};$APP.m.U=function(a,b){return pf(this,b)};$APP.m.ya=function(){return $APP.sc($APP.AA,this.meta)};$APP.m.Ta=function(){return $APP.y(this.Ob)};$APP.m.$a=function(){return $APP.Jd($APP.x(this))};
$APP.m.ja=function(){var a=$APP.x(this.Tb),b=this.Ob;return $APP.p($APP.p(b)?b:a)?new $APP.xh(null,this.Ob,$APP.x(a),null):null};$APP.m.ea=function(a,b){return b===this.meta?this:new $APP.yh(b,this.count,this.Ob,this.Tb,this.N)};$APP.m.oa=function(a,b){$APP.p(this.Ob)?(a=this.Tb,b=new $APP.yh(this.meta,this.count+1,this.Ob,$APP.tf.j($APP.p(a)?a:$APP.ih,b),null)):b=new $APP.yh(this.meta,this.count+1,$APP.tf.j(this.Ob,b),$APP.ih,null);return b};$APP.AA=new $APP.yh(null,0,null,$APP.ih,Kz);
$APP.yh.prototype[Gd]=function(){return Ld(this)};$APP.zh.prototype.Y=$APP.ha(15);$APP.zh.prototype.U=function(){return!1};var Ah=new $APP.zh;$APP.Ch.prototype.Ba=function(){var a=this.i<this.lg;return a?a:this.Dg.Ba()};$APP.Ch.prototype.next=function(){if(this.i<this.lg){var a=$APP.D.j(this.nd,this.i);this.i+=1;return new $APP.Ue(a,Ez(this.pi,a),null)}return this.Dg.next()};$APP.Ch.prototype.remove=function(){return Error("Unsupported operation")};
Dh.prototype.next=function(){if(null!=this.s){var a=$APP.y(this.s),b=$APP.D.v(a,0,null);a=$APP.D.v(a,1,null);this.s=$APP.z(this.s);return{value:[b,a],done:!1}}return{value:null,done:!0}};Eh.prototype.next=function(){if(null!=this.s){var a=$APP.y(this.s);this.s=$APP.z(this.s);return{value:[a,a],done:!1}}return{value:null,done:!0}};$APP.m=$APP.Ue.prototype;$APP.m.Zc=$APP.wd;$APP.m.Kc=function(a,b){switch(b){case 0:return new $APP.Ue(0,this.key,null);case 1:return new $APP.Ue(1,this.val,null);default:return null}};
$APP.m.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return he(this,b,0);case 2:return he(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.o=function(b){return he(this,b,0)};a.j=function(b,c){return he(this,b,c)};return a}();
$APP.m.lastIndexOf=function(){function a(c){return ie(this,c,$APP.ge(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return ie(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.o=a;b.j=function(c,d){return ie(this,c,d)};return b}();$APP.m.sa=function(a,b){return this.sb(null,b,null)};$APP.m.V=function(a,b,c){return this.sb(null,b,c)};
$APP.m.fa=function(a,b){if(0===b)return this.key;if(1===b)return this.val;throw Error("Index out of bounds");};$APP.m.sb=function(a,b,c){return 0===b?this.key:1===b?this.val:c};$APP.m.pc=function(a,b,c){return(new $APP.N(null,2,5,$APP.O,[this.key,this.val],null)).pc(null,b,c)};$APP.m.aa=function(){return null};$APP.m.ma=function(){return 2};$APP.m.pf=function(){return this.key};$APP.m.qf=function(){return this.val};$APP.m.Nc=function(){return this.val};
$APP.m.Oc=function(){return new $APP.N(null,1,5,$APP.O,[this.key],null)};$APP.m.Mc=function(){return new $APP.Fd([this.val,this.key],0,null)};$APP.m.ga=function(){var a=this.N;return null!=a?a:this.N=a=Nd(this)};$APP.m.U=function(a,b){return pf(this,b)};$APP.m.ya=function(){return null};$APP.m.Ya=function(a,b){return $d(this,b)};$APP.m.Za=function(a,b,c){return ae(this,b,c)};$APP.m.pa=function(a,b,c){return $APP.Ni.v(new $APP.N(null,2,5,$APP.O,[this.key,this.val],null),b,c)};
$APP.m.Wa=function(a,b){return 0===b||1===b};$APP.m.ja=function(){return new $APP.Fd([this.key,this.val],0,null)};$APP.m.ea=function(a,b){return $APP.ve(new $APP.N(null,2,5,$APP.O,[this.key,this.val],null),b)};$APP.m.oa=function(a,b){return new $APP.N(null,3,5,$APP.O,[this.key,this.val,b],null)};
$APP.m.call=function(a){switch(arguments.length-1){case 1:return this.o(arguments[1]);case 2:return this.j(arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",$APP.t.o(arguments.length-1)].join(""));}};$APP.m.apply=function(a,b){return this.call.apply(this,[this].concat(Eb(b)))};$APP.m.o=function(a){return this.fa(null,a)};$APP.m.j=function(a,b){return this.sb(null,a,b)};$APP.m=$APP.Gh.prototype;$APP.m.toString=function(){return nd(this)};$APP.m.Y=$APP.ha(14);
$APP.m.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return he(this,b,0);case 2:return he(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.o=function(b){return he(this,b,0)};a.j=function(b,c){return he(this,b,c)};return a}();
$APP.m.lastIndexOf=function(){function a(c){return ie(this,c,$APP.ge(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return ie(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.o=a;b.j=function(c,d){return ie(this,c,d)};return b}();$APP.m.aa=function(){return this.fc};$APP.m.Xa=function(){return this.i<this.K.length-2?new $APP.Gh(this.K,this.i+2,null):null};$APP.m.ma=function(){return(this.K.length-this.i)/2};$APP.m.ga=function(){return Nd(this)};
$APP.m.U=function(a,b){return pf(this,b)};$APP.m.ya=function(){return $APP.Id};$APP.m.Ya=function(a,b){return $e(b,this)};$APP.m.Za=function(a,b,c){return af(b,c,this)};$APP.m.Ta=function(){return new $APP.Ue(this.K[this.i],this.K[this.i+1],null)};$APP.m.$a=function(){return this.i<this.K.length-2?new $APP.Gh(this.K,this.i+2,null):$APP.Id};$APP.m.ja=function(){return this};$APP.m.ea=function(a,b){return b===this.fc?this:new $APP.Gh(this.K,this.i,b)};$APP.m.oa=function(a,b){return $APP.wf(b,this)};
$APP.Gh.prototype[Gd]=function(){return Ld(this)};Hh.prototype.Ba=function(){return this.i<this.P};Hh.prototype.next=function(){var a=new $APP.Ue(this.K[this.i],this.K[this.i+1],null);this.i+=2;return a};$APP.m=$APP.n.prototype;$APP.m.Zc=$APP.wd;$APP.m.Kc=function(a,b){a=Fh(this.K,b);return-1===a?null:new $APP.Ue(this.K[a],this.K[a+1],null)};$APP.m.toString=function(){return nd(this)};$APP.m.Y=$APP.ha(13);$APP.m.keys=function(){return Ld($APP.Ii.o?$APP.Ii.o(this):$APP.Ii.call(null,this))};
$APP.m.entries=function(){return new Dh($APP.x($APP.x(this)))};$APP.m.values=function(){return Ld($APP.Ki.o?$APP.Ki.o(this):$APP.Ki.call(null,this))};$APP.m.has=function(a){return $APP.Te(this,a)};$APP.m.get=function(a,b){return this.V(null,a,b)};
$APP.m.forEach=function(a){for(var b=$APP.x(this),c=null,d=0,e=0;;)if(e<d){var f=c.fa(null,e),g=$APP.D.v(f,0,null);f=$APP.D.v(f,1,null);a.j?a.j(f,g):a.call(null,f,g);e+=1}else if(b=$APP.x(b))$APP.He(b)?(c=$APP.bd(b),b=$APP.cd(b),g=c,d=$APP.ge(c),c=g):(c=$APP.y(b),g=$APP.D.v(c,0,null),f=$APP.D.v(c,1,null),a.j?a.j(f,g):a.call(null,f,g),b=$APP.z(b),c=null,d=0),e=0;else return null};$APP.m.sa=function(a,b){return this.V(null,b,null)};$APP.m.V=function(a,b,c){a=Fh(this.K,b);return-1===a?c:this.K[a+1]};
$APP.m.tb=function(a,b,c){a=this.K.length;for(var d=0;;)if(d<a){var e=this.K[d],f=this.K[d+1];c=b.v?b.v(c,e,f):b.call(null,c,e,f);if(Wd(c))return $APP.u(c);d+=2}else return c};$APP.m.Aa=function(){return new Hh(this.K,2*this.P)};$APP.m.aa=function(){return this.meta};$APP.m.ka=$APP.ha(44);$APP.m.ma=function(){return this.P};$APP.m.ga=function(){var a=this.N;return null!=a?a:this.N=a=$APP.Qd(this)};
$APP.m.U=function(a,b){if($APP.Ee(b)&&!$APP.Fe(b))if(a=this.K.length,this.P===b.ma(null))for(var c=0;;)if(c<a){var d=b.V(null,this.K[c],Se);if(d!==Se)if($APP.A.j(this.K[c+1],d))c+=2;else return!1;else return!1}else return!0;else return!1;else return!1};$APP.m.Bd=function(){return new Oh(this.K.length,Eb(this.K))};$APP.m.ya=function(){return $APP.sc($APP.$f,this.meta)};$APP.m.Ya=function(a,b){return df(this,b)};$APP.m.Za=function(a,b,c){return ef(this,b,c)};
$APP.m.yb=function(a,b){if(0<=Fh(this.K,b)){a=this.K.length;var c=a-2;if(0===c)return this.ya(null);c=Array(c);for(var d=0,e=0;;){if(d>=a)return new $APP.n(this.meta,this.P-1,c,null);$APP.A.j(b,this.K[d])?d+=2:(c[e]=this.K[d],c[e+1]=this.K[d+1],e+=2,d+=2)}}else return this};
$APP.m.pa=function(a,b,c){a=Fh(this.K,b);if(-1===a){if(this.P<vn){a=this.K;for(var d=a.length,e=Array(d+2),f=0;;)if(f<d)e[f]=a[f],f+=1;else break;e[d]=b;e[d+1]=c;return new $APP.n(this.meta,this.P+1,e,null)}return $APP.sc(Yb($APP.Nh.j(Ph,this),b,c),this.meta)}if(c===this.K[a+1])return this;b=Eb(this.K);b[a+1]=c;return new $APP.n(this.meta,this.P,b,null)};$APP.m.Wa=function(a,b){return-1!==Fh(this.K,b)};$APP.m.ja=function(){var a=this.K;return 0<=a.length-2?new $APP.Gh(a,0,null):null};
$APP.m.ea=function(a,b){return b===this.meta?this:new $APP.n(b,this.P,this.K,this.N)};$APP.m.oa=function(a,b){if($APP.Ge(b))return this.pa(null,$APP.re(b,0),$APP.re(b,1));a=this;for(b=$APP.x(b);;){if(null==b)return a;var c=$APP.y(b);if($APP.Ge(c))a=Yb(a,$APP.re(c,0),$APP.re(c,1)),b=$APP.z(b);else throw Error("conj on a map takes map entries or seqables of map entries");}};
$APP.m.call=function(a){switch(arguments.length-1){case 1:return this.o(arguments[1]);case 2:return this.j(arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",$APP.t.o(arguments.length-1)].join(""));}};$APP.m.apply=function(a,b){return this.call.apply(this,[this].concat(Eb(b)))};$APP.m.o=function(a){return this.sa(null,a)};$APP.m.j=function(a,b){return this.V(null,a,b)};$APP.$f=new $APP.n(null,0,[],Lz);vn=8;$APP.n.prototype[Gd]=function(){return Ld(this)};$APP.m=Oh.prototype;
$APP.m.ma=function(){if(this.md)return $APP.mf(this.uc,2);throw Error("count after persistent!");};$APP.m.sa=function(a,b){return this.V(null,b,null)};$APP.m.V=function(a,b,c){if(this.md)return a=Fh(this.K,b),-1===a?c:this.K[a+1];throw Error("lookup after persistent!");};
$APP.m.Gd=function(a,b){if(this.md){if(fh(b))return this.Fd(null,gh.o?gh.o(b):gh.call(null,b),hh.o?hh.o(b):hh.call(null,b));if($APP.Ge(b))return this.Fd(null,b.o?b.o(0):b.call(null,0),b.o?b.o(1):b.call(null,1));a=$APP.x(b);for(b=this;;){var c=$APP.y(a);if($APP.p(c))a=$APP.z(a),b=Vc(b,gh.o?gh.o(c):gh.call(null,c),hh.o?hh.o(c):hh.call(null,c));else return b}}else throw Error("conj! after persistent!");};
$APP.m.Wd=function(){if(this.md)return this.md=!1,new $APP.n(null,$APP.mf(this.uc,2),this.K,null);throw Error("persistent! called twice");};$APP.m.Fd=function(a,b,c){if(this.md){a=Fh(this.K,b);if(-1===a)return this.uc+2<=2*vn?(this.uc+=2,this.K.push(b),this.K.push(c),this):$APP.Qh.v(Rh.j?Rh.j(this.uc,this.K):Rh.call(null,this.uc,this.K),b,c);c!==this.K[a+1]&&(this.K[a+1]=c);return this}throw Error("assoc! after persistent!");};
$APP.m.zf=function(a,b){if(this.md)return a=Fh(this.K,b),0<=a&&(this.K[a]=this.K[this.uc-2],this.K[a+1]=this.K[this.uc-1],a=this.K,a.pop(),a.pop(),this.uc-=2),this;throw Error("dissoc! after persistent!");};$APP.m.call=function(a){switch(arguments.length-1){case 1:return this.o(arguments[1]);case 2:return this.j(arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",$APP.t.o(arguments.length-1)].join(""));}};$APP.m.apply=function(a,b){return this.call.apply(this,[this].concat(Eb(b)))};
$APP.m.o=function(a){return this.V(null,a,null)};$APP.m.j=function(a,b){return this.V(null,a,b)};Xh.prototype.advance=function(){for(var a=this.K.length;;)if(this.i<a){var b=this.K[this.i],c=this.K[this.i+1];null!=b?b=this.je=new $APP.Ue(b,c,null):null!=c?(b=$APP.ld(c),b=b.Ba()?this.xc=b:!1):b=!1;this.i+=2;if(b)return!0}else return!1};Xh.prototype.Ba=function(){var a=null!=this.je;return a?a:(a=null!=this.xc)?a:this.advance()};
Xh.prototype.next=function(){if(null!=this.je){var a=this.je;this.je=null;return a}if(null!=this.xc)return a=this.xc.next(),this.xc.Ba()||(this.xc=null),a;if(this.advance())return this.next();throw Error("No such element");};Xh.prototype.remove=function(){return Error("Unsupported operation")};$APP.m=Yh.prototype;$APP.m.Qc=function(a){if(a===this.va)return this;var b=of(this.xa),c=Array(0>b?4:2*(b+1));Ie(this.K,0,c,0,2*b);return new Yh(a,this.xa,c)};
$APP.m.he=function(a,b,c,d,e){var f=1<<(c>>>b&31);if(0===(this.xa&f))return this;var g=of(this.xa&f-1),k=this.K[2*g],l=this.K[2*g+1];return null==k?(b=l.he(a,b+5,c,d,e),b===l?this:null!=b?Vh(this,a,2*g+1,b):this.xa===f?null:Zh(this,a,f,g)):Jh(d,k)?(e.val=!0,Zh(this,a,f,g)):this};$APP.m.fe=function(){return ki?ki(this.K):mi.call(null,this.K)};$APP.m.qd=function(a,b){return Wh(this.K,a,b)};
$APP.m.bd=function(a,b,c,d){var e=1<<(b>>>a&31);if(0===(this.xa&e))return d;var f=of(this.xa&e-1);e=this.K[2*f];f=this.K[2*f+1];return null==e?f.bd(a+5,b,c,d):Jh(c,e)?f:d};
$APP.m.tc=function(a,b,c,d,e,f){var g=1<<(c>>>b&31),k=of(this.xa&g-1);if(0===(this.xa&g)){var l=of(this.xa);if(2*l<this.K.length){a=this.Qc(a);b=a.K;f.val=!0;c=2*(l-k);f=2*k+(c-1);for(l=2*(k+1)+(c-1);0!==c;)b[l]=b[f],--l,--c,--f;b[2*k]=d;b[2*k+1]=e;a.xa|=g;return a}if(16<=l){k=[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null];k[c>>>b&31]=ii.tc(a,b+5,c,d,e,f);for(e=d=0;;)if(32>d)0===(this.xa>>>
d&1)?d+=1:(k[d]=null!=this.K[e]?ii.tc(a,b+5,$APP.xd(this.K[e]),this.K[e],this.K[e+1],f):this.K[e+1],e+=2,d+=1);else break;return new bi(a,l+1,k)}b=Array(2*(l+4));Ie(this.K,0,b,0,2*k);b[2*k]=d;b[2*k+1]=e;Ie(this.K,2*k,b,2*(k+1),2*(l-k));f.val=!0;a=this.Qc(a);a.K=b;a.xa|=g;return a}l=this.K[2*k];g=this.K[2*k+1];if(null==l)return l=g.tc(a,b+5,c,d,e,f),l===g?this:Vh(this,a,2*k+1,l);if(Jh(d,l))return e===g?this:Vh(this,a,2*k+1,e);f.val=!0;f=b+5;d=gi?gi(a,f,l,g,c,d,e):hi.call(null,a,f,l,g,c,d,e);e=2*k;
k=2*k+1;a=this.Qc(a);a.K[e]=null;a.K[k]=d;return a};
$APP.m.sc=function(a,b,c,d,e){var f=1<<(b>>>a&31),g=of(this.xa&f-1);if(0===(this.xa&f)){var k=of(this.xa);if(16<=k){g=[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null];g[b>>>a&31]=ii.sc(a+5,b,c,d,e);for(d=c=0;;)if(32>c)0===(this.xa>>>c&1)?c+=1:(g[c]=null!=this.K[d]?ii.sc(a+5,$APP.xd(this.K[d]),this.K[d],this.K[d+1],e):this.K[d+1],d+=2,c+=1);else break;return new bi(null,k+1,g)}a=Array(2*
(k+1));Ie(this.K,0,a,0,2*g);a[2*g]=c;a[2*g+1]=d;Ie(this.K,2*g,a,2*(g+1),2*(k-g));e.val=!0;return new Yh(null,this.xa|f,a)}var l=this.K[2*g];f=this.K[2*g+1];if(null==l)return k=f.sc(a+5,b,c,d,e),k===f?this:new Yh(null,this.xa,Th(this.K,2*g+1,k));if(Jh(c,l))return d===f?this:new Yh(null,this.xa,Th(this.K,2*g+1,d));e.val=!0;e=this.xa;k=this.K;a+=5;a=fi?fi(a,l,f,b,c,d):hi.call(null,a,l,f,b,c,d);c=2*g;g=2*g+1;d=Eb(k);d[c]=null;d[g]=a;return new Yh(null,e,d)};
$APP.m.ee=function(a,b,c,d){var e=1<<(b>>>a&31);if(0===(this.xa&e))return d;var f=of(this.xa&e-1);e=this.K[2*f];f=this.K[2*f+1];return null==e?f.ee(a+5,b,c,d):Jh(c,e)?new $APP.Ue(e,f,null):d};
$APP.m.ge=function(a,b,c){var d=1<<(b>>>a&31);if(0===(this.xa&d))return this;var e=of(this.xa&d-1),f=this.K[2*e],g=this.K[2*e+1];return null==f?(a=g.ge(a+5,b,c),a===g?this:null!=a?new Yh(null,this.xa,Th(this.K,2*e+1,a)):this.xa===d?null:new Yh(null,this.xa^d,Uh(this.K,e))):Jh(c,f)?this.xa===d?null:new Yh(null,this.xa^d,Uh(this.K,e)):this};$APP.m.Aa=function(){return new Xh(this.K)};var ii=new Yh(null,0,[]);
ai.prototype.Ba=function(){for(var a=this.K.length;;){if(null!=this.xc&&this.xc.Ba())return!0;if(this.i<a){var b=this.K[this.i];this.i+=1;null!=b&&(this.xc=$APP.ld(b))}else return!1}};ai.prototype.next=function(){if(this.Ba())return this.xc.next();throw Error("No such element");};ai.prototype.remove=function(){return Error("Unsupported operation")};$APP.m=bi.prototype;$APP.m.Qc=function(a){return a===this.va?this:new bi(a,this.P,Eb(this.K))};
$APP.m.he=function(a,b,c,d,e){var f=c>>>b&31,g=this.K[f];if(null==g)return this;b=g.he(a,b+5,c,d,e);if(b===g)return this;if(null==b){if(8>=this.P)return $h(this,a,f);a=Vh(this,a,f,b);--a.P;return a}return Vh(this,a,f,b)};$APP.m.fe=function(){return oi?oi(this.K):qi.call(null,this.K)};$APP.m.qd=function(a,b){for(var c=this.K.length,d=0;;)if(d<c){var e=this.K[d];if(null!=e){b=e.qd(a,b);if(Wd(b))return b;d+=1}else d+=1}else return b};
$APP.m.bd=function(a,b,c,d){var e=this.K[b>>>a&31];return null!=e?e.bd(a+5,b,c,d):d};$APP.m.tc=function(a,b,c,d,e,f){var g=c>>>b&31,k=this.K[g];if(null==k)return a=Vh(this,a,g,ii.tc(a,b+5,c,d,e,f)),a.P+=1,a;b=k.tc(a,b+5,c,d,e,f);return b===k?this:Vh(this,a,g,b)};$APP.m.sc=function(a,b,c,d,e){var f=b>>>a&31,g=this.K[f];if(null==g)return new bi(null,this.P+1,Th(this.K,f,ii.sc(a+5,b,c,d,e)));a=g.sc(a+5,b,c,d,e);return a===g?this:new bi(null,this.P,Th(this.K,f,a))};
$APP.m.ee=function(a,b,c,d){var e=this.K[b>>>a&31];return null!=e?e.ee(a+5,b,c,d):d};$APP.m.ge=function(a,b,c){var d=b>>>a&31,e=this.K[d];return null!=e?(a=e.ge(a+5,b,c),a===e?this:null==a?8>=this.P?$h(this,null,d):new bi(null,this.P-1,Th(this.K,d,a)):new bi(null,this.P,Th(this.K,d,a))):this};$APP.m.Aa=function(){return new ai(this.K)};$APP.m=ei.prototype;$APP.m.Qc=function(a){if(a===this.va)return this;var b=Array(2*(this.P+1));Ie(this.K,0,b,0,2*this.P);return new ei(a,this.Pc,this.P,b)};
$APP.m.he=function(a,b,c,d,e){b=di(this.K,this.P,d);if(-1===b)return this;e.val=!0;if(1===this.P)return null;a=this.Qc(a);e=a.K;e[b]=e[2*this.P-2];e[b+1]=e[2*this.P-1];e[2*this.P-1]=null;e[2*this.P-2]=null;--a.P;return a};$APP.m.fe=function(){return ki?ki(this.K):mi.call(null,this.K)};$APP.m.qd=function(a,b){return Wh(this.K,a,b)};$APP.m.bd=function(a,b,c,d){a=di(this.K,this.P,c);return 0>a?d:Jh(c,this.K[a])?this.K[a+1]:d};
$APP.m.tc=function(a,b,c,d,e,f){if(c===this.Pc){b=di(this.K,this.P,d);if(-1===b){if(this.K.length>2*this.P)return b=2*this.P,c=2*this.P+1,a=this.Qc(a),a.K[b]=d,a.K[c]=e,f.val=!0,a.P+=1,a;c=this.K.length;b=Array(c+2);Ie(this.K,0,b,0,c);b[c]=d;b[c+1]=e;f.val=!0;d=this.P+1;a===this.va?(this.K=b,this.P=d,a=this):a=new ei(this.va,this.Pc,d,b);return a}return this.K[b+1]===e?this:Vh(this,a,b+1,e)}return(new Yh(a,1<<(this.Pc>>>b&31),[null,this,null,null])).tc(a,b,c,d,e,f)};
$APP.m.sc=function(a,b,c,d,e){return b===this.Pc?(a=di(this.K,this.P,c),-1===a?(a=2*this.P,b=Array(a+2),Ie(this.K,0,b,0,a),b[a]=c,b[a+1]=d,e.val=!0,new ei(null,this.Pc,this.P+1,b)):$APP.A.j(this.K[a+1],d)?this:new ei(null,this.Pc,this.P,Th(this.K,a+1,d))):(new Yh(null,1<<(this.Pc>>>a&31),[null,this])).sc(a,b,c,d,e)};$APP.m.ee=function(a,b,c,d){a=di(this.K,this.P,c);return 0>a?d:Jh(c,this.K[a])?new $APP.Ue(this.K[a],this.K[a+1],null):d};
$APP.m.ge=function(a,b,c){a=di(this.K,this.P,c);return-1===a?this:1===this.P?null:new ei(null,this.Pc,this.P-1,Uh(this.K,$APP.mf(a,2)))};$APP.m.Aa=function(){return new Xh(this.K)};$APP.m=$APP.ji.prototype;$APP.m.toString=function(){return nd(this)};$APP.m.Y=$APP.ha(12);
$APP.m.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return he(this,b,0);case 2:return he(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.o=function(b){return he(this,b,0)};a.j=function(b,c){return he(this,b,c)};return a}();
$APP.m.lastIndexOf=function(){function a(c){return ie(this,c,$APP.ge(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return ie(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.o=a;b.j=function(c,d){return ie(this,c,d)};return b}();$APP.m.aa=function(){return this.meta};
$APP.m.Xa=function(){if(null==this.s){var a=this.nodes,b=this.i+2;return li?li(a,b,null):mi.call(null,a,b,null)}a=this.nodes;b=this.i;var c=$APP.z(this.s);return li?li(a,b,c):mi.call(null,a,b,c)};$APP.m.ga=function(){var a=this.N;return null!=a?a:this.N=a=Nd(this)};$APP.m.U=function(a,b){return pf(this,b)};$APP.m.ya=function(){return $APP.Id};$APP.m.Ya=function(a,b){return $e(b,this)};$APP.m.Za=function(a,b,c){return af(b,c,this)};
$APP.m.Ta=function(){return null==this.s?new $APP.Ue(this.nodes[this.i],this.nodes[this.i+1],null):$APP.y(this.s)};$APP.m.$a=function(){var a=this,b=null==a.s?function(){var c=a.nodes,d=a.i+2;return li?li(c,d,null):mi.call(null,c,d,null)}():function(){var c=a.nodes,d=a.i,e=$APP.z(a.s);return li?li(c,d,e):mi.call(null,c,d,e)}();return null!=b?b:$APP.Id};$APP.m.ja=function(){return this};$APP.m.ea=function(a,b){return b===this.meta?this:new $APP.ji(b,this.nodes,this.i,this.s,this.N)};
$APP.m.oa=function(a,b){return $APP.wf(b,this)};$APP.ji.prototype[Gd]=function(){return Ld(this)};$APP.m=$APP.ni.prototype;$APP.m.toString=function(){return nd(this)};$APP.m.Y=$APP.ha(11);$APP.m.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return he(this,b,0);case 2:return he(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.o=function(b){return he(this,b,0)};a.j=function(b,c){return he(this,b,c)};return a}();
$APP.m.lastIndexOf=function(){function a(c){return ie(this,c,$APP.ge(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return ie(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.o=a;b.j=function(c,d){return ie(this,c,d)};return b}();$APP.m.aa=function(){return this.meta};$APP.m.Xa=function(){var a=this.nodes,b=this.i,c=$APP.z(this.s);return pi?pi(a,b,c):qi.call(null,a,b,c)};$APP.m.ga=function(){var a=this.N;return null!=a?a:this.N=a=Nd(this)};
$APP.m.U=function(a,b){return pf(this,b)};$APP.m.ya=function(){return $APP.Id};$APP.m.Ya=function(a,b){return $e(b,this)};$APP.m.Za=function(a,b,c){return af(b,c,this)};$APP.m.Ta=function(){return $APP.y(this.s)};$APP.m.$a=function(){var a=this.nodes;var b=this.i,c=$APP.z(this.s);a=pi?pi(a,b,c):qi.call(null,a,b,c);return null!=a?a:$APP.Id};$APP.m.ja=function(){return this};$APP.m.ea=function(a,b){return b===this.meta?this:new $APP.ni(b,this.nodes,this.i,this.s,this.N)};
$APP.m.oa=function(a,b){return $APP.wf(b,this)};$APP.ni.prototype[Gd]=function(){return Ld(this)};ri.prototype.Ba=function(){return!this.Zf||this.gh.Ba()};ri.prototype.next=function(){if(this.Zf)return this.gh.next();this.Zf=!0;return new $APP.Ue(null,this.Db,null)};ri.prototype.remove=function(){return Error("Unsupported operation")};$APP.m=$APP.si.prototype;$APP.m.Zc=$APP.wd;
$APP.m.Kc=function(a,b){return null==b?this.Cb?new $APP.Ue(null,this.Db,null):null:null==this.root?null:this.root.ee(0,$APP.xd(b),b,null)};$APP.m.toString=function(){return nd(this)};$APP.m.Y=$APP.ha(10);$APP.m.keys=function(){return Ld($APP.Ii.o?$APP.Ii.o(this):$APP.Ii.call(null,this))};$APP.m.entries=function(){return new Dh($APP.x($APP.x(this)))};$APP.m.values=function(){return Ld($APP.Ki.o?$APP.Ki.o(this):$APP.Ki.call(null,this))};$APP.m.has=function(a){return $APP.Te(this,a)};
$APP.m.get=function(a,b){return this.V(null,a,b)};$APP.m.forEach=function(a){for(var b=$APP.x(this),c=null,d=0,e=0;;)if(e<d){var f=c.fa(null,e),g=$APP.D.v(f,0,null);f=$APP.D.v(f,1,null);a.j?a.j(f,g):a.call(null,f,g);e+=1}else if(b=$APP.x(b))$APP.He(b)?(c=$APP.bd(b),b=$APP.cd(b),g=c,d=$APP.ge(c),c=g):(c=$APP.y(b),g=$APP.D.v(c,0,null),f=$APP.D.v(c,1,null),a.j?a.j(f,g):a.call(null,f,g),b=$APP.z(b),c=null,d=0),e=0;else return null};$APP.m.sa=function(a,b){return this.V(null,b,null)};
$APP.m.V=function(a,b,c){return null==b?this.Cb?this.Db:c:null==this.root?c:this.root.bd(0,$APP.xd(b),b,c)};$APP.m.tb=function(a,b,c){a=this.Cb?b.v?b.v(c,null,this.Db):b.call(null,c,null,this.Db):c;return Wd(a)?$APP.u(a):null!=this.root?Zd(this.root.qd(b,a)):a};$APP.m.Aa=function(){var a=this.root?$APP.ld(this.root):$APP.fg();return this.Cb?new ri(this.Db,a):a};$APP.m.aa=function(){return this.meta};$APP.m.ka=$APP.ha(43);$APP.m.ma=function(){return this.P};
$APP.m.ga=function(){var a=this.N;return null!=a?a:this.N=a=$APP.Qd(this)};$APP.m.U=function(a,b){return Bh(this,b)};$APP.m.Bd=function(){return new ui(this.root,this.P,this.Cb,this.Db)};$APP.m.ya=function(){return $APP.sc(Ph,this.meta)};$APP.m.yb=function(a,b){if(null==b)return this.Cb?new $APP.si(this.meta,this.P-1,this.root,!1,null,null):this;if(null==this.root)return this;a=this.root.ge(0,$APP.xd(b),b);return a===this.root?this:new $APP.si(this.meta,this.P-1,a,this.Cb,this.Db,null)};
$APP.m.pa=function(a,b,c){if(null==b)return this.Cb&&c===this.Db?this:new $APP.si(this.meta,this.Cb?this.P:this.P+1,this.root,!0,c,null);a=new Sh;b=(null==this.root?ii:this.root).sc(0,$APP.xd(b),b,c,a);return b===this.root?this:new $APP.si(this.meta,a.val?this.P+1:this.P,b,this.Cb,this.Db,null)};$APP.m.Wa=function(a,b){return null==b?this.Cb:null==this.root?!1:this.root.bd(0,$APP.xd(b),b,Se)!==Se};
$APP.m.ja=function(){if(0<this.P){var a=null!=this.root?this.root.fe():null;return this.Cb?$APP.wf(new $APP.Ue(null,this.Db,null),a):a}return null};$APP.m.ea=function(a,b){return b===this.meta?this:new $APP.si(b,this.P,this.root,this.Cb,this.Db,this.N)};
$APP.m.oa=function(a,b){if($APP.Ge(b))return this.pa(null,$APP.re(b,0),$APP.re(b,1));a=this;for(b=$APP.x(b);;){if(null==b)return a;var c=$APP.y(b);if($APP.Ge(c))a=Yb(a,$APP.re(c,0),$APP.re(c,1)),b=$APP.z(b);else throw Error("conj on a map takes map entries or seqables of map entries");}};
$APP.m.call=function(a){switch(arguments.length-1){case 1:return this.o(arguments[1]);case 2:return this.j(arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",$APP.t.o(arguments.length-1)].join(""));}};$APP.m.apply=function(a,b){return this.call.apply(this,[this].concat(Eb(b)))};$APP.m.o=function(a){return this.sa(null,a)};$APP.m.j=function(a,b){return this.V(null,a,b)};var Ph=new $APP.si(null,0,null,!1,null,Lz);$APP.si.prototype[Gd]=function(){return Ld(this)};$APP.m=ui.prototype;
$APP.m.ma=function(){if(this.va)return this.count;throw Error("count after persistent!");};$APP.m.sa=function(a,b){return null==b?this.Cb?this.Db:null:null==this.root?null:this.root.bd(0,$APP.xd(b),b)};$APP.m.V=function(a,b,c){return null==b?this.Cb?this.Db:c:null==this.root?c:this.root.bd(0,$APP.xd(b),b,c)};
$APP.m.Gd=function(a,b){a:if(this.va)if(fh(b))a=vi(this,gh.o?gh.o(b):gh.call(null,b),hh.o?hh.o(b):hh.call(null,b));else if($APP.Ge(b))a=vi(this,b.o?b.o(0):b.call(null,0),b.o?b.o(1):b.call(null,1));else for(a=$APP.x(b),b=this;;){var c=$APP.y(a);if($APP.p(c))a=$APP.z(a),b=vi(b,gh.o?gh.o(c):gh.call(null,c),hh.o?hh.o(c):hh.call(null,c));else{a=b;break a}}else throw Error("conj! after persistent");return a};
$APP.m.Wd=function(){if(this.va){this.va=null;var a=new $APP.si(null,this.count,this.root,this.Cb,this.Db,null)}else throw Error("persistent! called twice");return a};$APP.m.Fd=function(a,b,c){return vi(this,b,c)};$APP.m.zf=function(a,b){if(this.va)null==b?this.Cb&&(this.Cb=!1,this.Db=null,--this.count):null!=this.root&&(a=new Sh,b=this.root.he(this.va,0,$APP.xd(b),b,a),b!==this.root&&(this.root=b),a.val&&--this.count);else throw Error("dissoc! after persistent!");return this};
$APP.m.call=function(a){switch(arguments.length-1){case 1:return this.o(arguments[1]);case 2:return this.j(arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",$APP.t.o(arguments.length-1)].join(""));}};$APP.m.apply=function(a,b){return this.call.apply(this,[this].concat(Eb(b)))};$APP.m.o=function(a){return this.sa(null,a)};$APP.m.j=function(a,b){return this.V(null,a,b)};$APP.m=$APP.xi.prototype;$APP.m.toString=function(){return nd(this)};$APP.m.Y=$APP.ha(9);
$APP.m.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return he(this,b,0);case 2:return he(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.o=function(b){return he(this,b,0)};a.j=function(b,c){return he(this,b,c)};return a}();
$APP.m.lastIndexOf=function(){function a(c){return ie(this,c,$APP.ge(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return ie(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.o=a;b.j=function(c,d){return ie(this,c,d)};return b}();$APP.m.aa=function(){return this.meta};$APP.m.Xa=function(){var a=$APP.y(this.stack);a=wi(this.ed?a.right:a.left,$APP.z(this.stack),this.ed);return null==a?null:new $APP.xi(null,a,this.ed,this.P-1,null)};
$APP.m.ma=function(){return 0>this.P?$APP.ge($APP.z(this))+1:this.P};$APP.m.ga=function(){var a=this.N;return null!=a?a:this.N=a=Nd(this)};$APP.m.U=function(a,b){return pf(this,b)};$APP.m.ya=function(){return $APP.Id};$APP.m.Ya=function(a,b){return $e(b,this)};$APP.m.Za=function(a,b,c){return af(b,c,this)};$APP.m.Ta=function(){return $APP.xe(this.stack)};
$APP.m.$a=function(){var a=$APP.y(this.stack);a=wi(this.ed?a.right:a.left,$APP.z(this.stack),this.ed);return null!=a?new $APP.xi(null,a,this.ed,this.P-1,null):$APP.Id};$APP.m.ja=function(){return this};$APP.m.ea=function(a,b){return b===this.meta?this:new $APP.xi(b,this.stack,this.ed,this.P,this.N)};$APP.m.oa=function(a,b){return $APP.wf(b,this)};$APP.xi.prototype[Gd]=function(){return Ld(this)};
var BA=function BA(a,b,c){var e=null!=a.left?function(){var k=a.left;return BA.v?BA.v(k,b,c):BA.call(null,k,b,c)}():c;if(Wd(e))return e;var f=function(){var k=a.key,l=a.val;return b.v?b.v(e,k,l):b.call(null,e,k,l)}();if(Wd(f))return f;if(null!=a.right){var g=a.right;return BA.v?BA.v(g,b,f):BA.call(null,g,b,f)}return f};$APP.m=$APP.Ai.prototype;$APP.m.Zc=$APP.wd;$APP.m.Kc=function(a,b){switch(b){case 0:return new $APP.Ue(0,this.key,null);case 1:return new $APP.Ue(1,this.val,null);default:return null}};
$APP.m.lastIndexOf=function(){function a(c){return ie(this,c,$APP.ge(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return ie(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.o=a;b.j=function(c,d){return ie(this,c,d)};return b}();
$APP.m.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return he(this,b,0);case 2:return he(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.o=function(b){return he(this,b,0)};a.j=function(b,c){return he(this,b,c)};return a}();$APP.m.hg=function(a){return a.kg(this)};$APP.m.oe=function(){return new $APP.zi(this.key,this.val,this.left,this.right,null)};$APP.m.Jc=function(){return this};$APP.m.gg=function(a){return a.jg(this)};
$APP.m.replace=function(a,b,c,d){return new $APP.Ai(a,b,c,d,null)};$APP.m.jg=function(a){return new $APP.Ai(a.key,a.val,this,a.right,null)};$APP.m.kg=function(a){return new $APP.Ai(a.key,a.val,a.left,this,null)};$APP.m.qd=function(a,b){return BA(this,a,b)};$APP.m.sa=function(a,b){return this.sb(null,b,null)};$APP.m.V=function(a,b,c){return this.sb(null,b,c)};$APP.m.fa=function(a,b){if(0===b)return this.key;if(1===b)return this.val;throw Error("Index out of bounds");};
$APP.m.sb=function(a,b,c){return 0===b?this.key:1===b?this.val:c};$APP.m.pc=function(a,b,c){return(new $APP.N(null,2,5,$APP.O,[this.key,this.val],null)).pc(null,b,c)};$APP.m.aa=function(){return null};$APP.m.ma=function(){return 2};$APP.m.pf=function(){return this.key};$APP.m.qf=function(){return this.val};$APP.m.Nc=function(){return this.val};$APP.m.Oc=function(){return new $APP.N(null,1,5,$APP.O,[this.key],null)};$APP.m.Mc=function(){return new $APP.Fd([this.val,this.key],0,null)};
$APP.m.ga=function(){var a=this.N;return null!=a?a:this.N=a=Nd(this)};$APP.m.U=function(a,b){return pf(this,b)};$APP.m.ya=function(){return null};$APP.m.Ya=function(a,b){return $d(this,b)};$APP.m.Za=function(a,b,c){return ae(this,b,c)};$APP.m.pa=function(a,b,c){return $APP.Ni.v(new $APP.N(null,2,5,$APP.O,[this.key,this.val],null),b,c)};$APP.m.Wa=function(a,b){return 0===b||1===b};$APP.m.ja=function(){return new $APP.Fd([this.key,this.val],0,null)};
$APP.m.ea=function(a,b){return $APP.sc(new $APP.N(null,2,5,$APP.O,[this.key,this.val],null),b)};$APP.m.oa=function(a,b){return new $APP.N(null,3,5,$APP.O,[this.key,this.val,b],null)};$APP.m.call=function(a){switch(arguments.length-1){case 1:return this.o(arguments[1]);case 2:return this.j(arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",$APP.t.o(arguments.length-1)].join(""));}};$APP.m.apply=function(a,b){return this.call.apply(this,[this].concat(Eb(b)))};
$APP.m.o=function(a){return this.fa(null,a)};$APP.m.j=function(a,b){return this.sb(null,a,b)};$APP.Ai.prototype[Gd]=function(){return Ld(this)};$APP.m=$APP.zi.prototype;$APP.m.Zc=$APP.wd;$APP.m.Kc=function(a,b){switch(b){case 0:return new $APP.Ue(0,this.key,null);case 1:return new $APP.Ue(1,this.val,null);default:return null}};
$APP.m.lastIndexOf=function(){function a(c){return ie(this,c,$APP.ge(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return ie(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.o=a;b.j=function(c,d){return ie(this,c,d)};return b}();
$APP.m.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return he(this,b,0);case 2:return he(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.o=function(b){return he(this,b,0)};a.j=function(b,c){return he(this,b,c)};return a}();$APP.m.hg=function(a){return new $APP.zi(this.key,this.val,this.left,a,null)};$APP.m.oe=function(){throw Error("red-black tree invariant violation");};$APP.m.Jc=function(){return new $APP.Ai(this.key,this.val,this.left,this.right,null)};
$APP.m.gg=function(a){return new $APP.zi(this.key,this.val,a,this.right,null)};$APP.m.replace=function(a,b,c,d){return new $APP.zi(a,b,c,d,null)};
$APP.m.jg=function(a){return this.left instanceof $APP.zi?new $APP.zi(this.key,this.val,this.left.Jc(),new $APP.Ai(a.key,a.val,this.right,a.right,null),null):this.right instanceof $APP.zi?new $APP.zi(this.right.key,this.right.val,new $APP.Ai(this.key,this.val,this.left,this.right.left,null),new $APP.Ai(a.key,a.val,this.right.right,a.right,null),null):new $APP.Ai(a.key,a.val,this,a.right,null)};
$APP.m.kg=function(a){return this.right instanceof $APP.zi?new $APP.zi(this.key,this.val,new $APP.Ai(a.key,a.val,a.left,this.left,null),this.right.Jc(),null):this.left instanceof $APP.zi?new $APP.zi(this.left.key,this.left.val,new $APP.Ai(a.key,a.val,a.left,this.left.left,null),new $APP.Ai(this.key,this.val,this.left.right,this.right,null),null):new $APP.Ai(a.key,a.val,a.left,this,null)};$APP.m.qd=function(a,b){return BA(this,a,b)};$APP.m.sa=function(a,b){return this.sb(null,b,null)};
$APP.m.V=function(a,b,c){return this.sb(null,b,c)};$APP.m.fa=function(a,b){if(0===b)return this.key;if(1===b)return this.val;throw Error("Index out of bounds");};$APP.m.sb=function(a,b,c){return 0===b?this.key:1===b?this.val:c};$APP.m.pc=function(a,b,c){return(new $APP.N(null,2,5,$APP.O,[this.key,this.val],null)).pc(null,b,c)};$APP.m.aa=function(){return null};$APP.m.ma=function(){return 2};$APP.m.pf=function(){return this.key};$APP.m.qf=function(){return this.val};$APP.m.Nc=function(){return this.val};
$APP.m.Oc=function(){return new $APP.N(null,1,5,$APP.O,[this.key],null)};$APP.m.Mc=function(){return new $APP.Fd([this.val,this.key],0,null)};$APP.m.ga=function(){var a=this.N;return null!=a?a:this.N=a=Nd(this)};$APP.m.U=function(a,b){return pf(this,b)};$APP.m.ya=function(){return null};$APP.m.Ya=function(a,b){return $d(this,b)};$APP.m.Za=function(a,b,c){return ae(this,b,c)};$APP.m.pa=function(a,b,c){return $APP.Ni.v(new $APP.N(null,2,5,$APP.O,[this.key,this.val],null),b,c)};
$APP.m.Wa=function(a,b){return 0===b||1===b};$APP.m.ja=function(){return new $APP.Fd([this.key,this.val],0,null)};$APP.m.ea=function(a,b){return $APP.sc(new $APP.N(null,2,5,$APP.O,[this.key,this.val],null),b)};$APP.m.oa=function(a,b){return new $APP.N(null,3,5,$APP.O,[this.key,this.val,b],null)};
$APP.m.call=function(a){switch(arguments.length-1){case 1:return this.o(arguments[1]);case 2:return this.j(arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",$APP.t.o(arguments.length-1)].join(""));}};$APP.m.apply=function(a,b){return this.call.apply(this,[this].concat(Eb(b)))};$APP.m.o=function(a){return this.fa(null,a)};$APP.m.j=function(a,b){return this.sb(null,a,b)};$APP.zi.prototype[Gd]=function(){return Ld(this)};
var CA=function CA(a,b,c,d,e){if(null==b)return new $APP.zi(c,d,null,null,null);var g=function(){var k=b.key;return a.j?a.j(c,k):a.call(null,c,k)}();if(0===g)return e[0]=b,null;if(0>g)return g=function(){var k=b.left;return CA.S?CA.S(a,k,c,d,e):CA.call(null,a,k,c,d,e)}(),null!=g?b.gg(g):null;g=function(){var k=b.right;return CA.S?CA.S(a,k,c,d,e):CA.call(null,a,k,c,d,e)}();return null!=g?b.hg(g):null},DA=function DA(a,b){if(null==a)return b;if(null==b)return a;if(a instanceof $APP.zi){if(b instanceof
$APP.zi){var d=function(){var e=a.right,f=b.left;return DA.j?DA.j(e,f):DA.call(null,e,f)}();return d instanceof $APP.zi?new $APP.zi(d.key,d.val,new $APP.zi(a.key,a.val,a.left,d.left,null),new $APP.zi(b.key,b.val,d.right,b.right,null),null):new $APP.zi(a.key,a.val,a.left,new $APP.zi(b.key,b.val,d,b.right,null),null)}return new $APP.zi(a.key,a.val,a.left,function(){var e=a.right;return DA.j?DA.j(e,b):DA.call(null,e,b)}(),null)}if(b instanceof $APP.zi)return new $APP.zi(b.key,b.val,function(){var e=
b.left;return DA.j?DA.j(a,e):DA.call(null,a,e)}(),b.right,null);d=function(){var e=a.right,f=b.left;return DA.j?DA.j(e,f):DA.call(null,e,f)}();return d instanceof $APP.zi?new $APP.zi(d.key,d.val,new $APP.Ai(a.key,a.val,a.left,d.left,null),new $APP.Ai(b.key,b.val,d.right,b.right,null),null):Di(a.key,a.val,a.left,new $APP.Ai(b.key,b.val,d,b.right,null))},EA=function EA(a,b,c,d){if(null!=b){var f=function(){var g=b.key;return a.j?a.j(c,g):a.call(null,c,g)}();if(0===f)return d[0]=b,DA(b.left,b.right);
if(0>f)return f=function(){var g=b.left;return EA.J?EA.J(a,g,c,d):EA.call(null,a,g,c,d)}(),null!=f||null!=d[0]?b.left instanceof $APP.Ai?Di(b.key,b.val,f,b.right):new $APP.zi(b.key,b.val,f,b.right,null):null;f=function(){var g=b.right;return EA.J?EA.J(a,g,c,d):EA.call(null,a,g,c,d)}();return null!=f||null!=d[0]?b.right instanceof $APP.Ai?Ei(b.key,b.val,b.left,f):new $APP.zi(b.key,b.val,b.left,f,null):null}return null},FA=function FA(a,b,c,d){var f=b.key,g=a.j?a.j(c,f):a.call(null,c,f);return 0===
g?b.replace(f,d,b.left,b.right):0>g?b.replace(f,b.val,function(){var k=b.left;return FA.J?FA.J(a,k,c,d):FA.call(null,a,k,c,d)}(),b.right):b.replace(f,b.val,b.left,function(){var k=b.right;return FA.J?FA.J(a,k,c,d):FA.call(null,a,k,c,d)}())};$APP.m=$APP.Fi.prototype;$APP.m.Zc=$APP.wd;$APP.m.Kc=function(a,b){return Gi(this,b)};
$APP.m.forEach=function(a){for(var b=$APP.x(this),c=null,d=0,e=0;;)if(e<d){var f=c.fa(null,e),g=$APP.D.v(f,0,null);f=$APP.D.v(f,1,null);a.j?a.j(f,g):a.call(null,f,g);e+=1}else if(b=$APP.x(b))$APP.He(b)?(c=$APP.bd(b),b=$APP.cd(b),g=c,d=$APP.ge(c),c=g):(c=$APP.y(b),g=$APP.D.v(c,0,null),f=$APP.D.v(c,1,null),a.j?a.j(f,g):a.call(null,f,g),b=$APP.z(b),c=null,d=0),e=0;else return null};$APP.m.get=function(a,b){return this.V(null,a,b)};$APP.m.entries=function(){return new Dh($APP.x($APP.x(this)))};
$APP.m.toString=function(){return nd(this)};$APP.m.keys=function(){return Ld($APP.Ii.o?$APP.Ii.o(this):$APP.Ii.call(null,this))};$APP.m.values=function(){return Ld($APP.Ki.o?$APP.Ki.o(this):$APP.Ki.call(null,this))};$APP.m.Y=$APP.ha(8);$APP.m.has=function(a){return $APP.Te(this,a)};$APP.m.sa=function(a,b){return this.V(null,b,null)};$APP.m.V=function(a,b,c){a=Gi(this,b);return null!=a?a.val:c};$APP.m.tb=function(a,b,c){return null!=this.mc?Zd(BA(this.mc,b,c)):c};$APP.m.aa=function(){return this.meta};
$APP.m.ka=$APP.ha(42);$APP.m.ma=function(){return this.P};$APP.m.Mc=function(){return 0<this.P?yi(this.mc,!1,this.P):null};$APP.m.ga=function(){var a=this.N;return null!=a?a:this.N=a=$APP.Qd(this)};$APP.m.U=function(a,b){return Bh(this,b)};$APP.m.ya=function(){return new $APP.Fi(this.Nb,null,0,this.meta,0)};$APP.m.yb=function(a,b){a=[null];b=EA(this.Nb,this.mc,b,a);return null==b?null==$APP.D.j(a,0)?this:new $APP.Fi(this.Nb,null,0,this.meta,null):new $APP.Fi(this.Nb,b.Jc(),this.P-1,this.meta,null)};
$APP.m.pa=function(a,b,c){a=[null];var d=CA(this.Nb,this.mc,b,c,a);return null==d?(a=$APP.D.j(a,0),$APP.A.j(c,a.val)?this:new $APP.Fi(this.Nb,FA(this.Nb,this.mc,b,c),this.P,this.meta,null)):new $APP.Fi(this.Nb,d.Jc(),this.P+1,this.meta,null)};$APP.m.Wa=function(a,b){return null!=Gi(this,b)};$APP.m.ja=function(){return 0<this.P?yi(this.mc,!0,this.P):null};$APP.m.ea=function(a,b){return b===this.meta?this:new $APP.Fi(this.Nb,this.mc,this.P,b,this.N)};
$APP.m.oa=function(a,b){if($APP.Ge(b))return this.pa(null,$APP.re(b,0),$APP.re(b,1));a=this;for(b=$APP.x(b);;){if(null==b)return a;var c=$APP.y(b);if($APP.Ge(c))a=Yb(a,$APP.re(c,0),$APP.re(c,1)),b=$APP.z(b);else throw Error("conj on a map takes map entries or seqables of map entries");}};
$APP.m.call=function(a){switch(arguments.length-1){case 1:return this.o(arguments[1]);case 2:return this.j(arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",$APP.t.o(arguments.length-1)].join(""));}};$APP.m.apply=function(a,b){return this.call.apply(this,[this].concat(Eb(b)))};$APP.m.o=function(a){return this.sa(null,a)};$APP.m.j=function(a,b){return this.V(null,a,b)};$APP.m.xf=function(a,b){return 0<this.P?yi(this.mc,b,this.P):null};
$APP.m.yf=function(a,b,c){if(0<this.P){a=null;for(var d=this.mc;;)if(null!=d){var e=d.key;e=this.Nb.j?this.Nb.j(b,e):this.Nb.call(null,b,e);if(0===e)return new $APP.xi(null,$APP.tf.j(a,d),c,-1,null);$APP.p(c)?0>e?(a=$APP.tf.j(a,d),d=d.left):d=d.right:0<e?(a=$APP.tf.j(a,d),d=d.right):d=d.left}else return null==a?null:new $APP.xi(null,a,c,-1,null)}else return null};$APP.m.wf=function(a,b){return gh.o?gh.o(b):gh.call(null,b)};$APP.m.vf=function(){return this.Nb};
var GA=new $APP.Fi($APP.We,null,0,null,Lz);$APP.Fi.prototype[Gd]=function(){return Ld(this)};$APP.Vp=function Vp(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=0<c.length?new $APP.Fd(c.slice(0),0,null):null;return Vp.A(c)};$APP.Vp.A=function(a){a=$APP.x(a);for(var b=$APP.Sc(Ph);;)if(a){var c=$APP.z(a);if(null==c)throw Error(["No value supplied for key: ",$APP.t.o($APP.y(a))].join(""));var d=$APP.z(c);b=$APP.Qh.v(b,$APP.y(a),$APP.y(c));a=d}else return $APP.Uc(b)};
$APP.Vp.B=0;$APP.Vp.F=function(a){return this.A($APP.x(a))};$APP.Up=function Up(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=0<c.length?new $APP.Fd(c.slice(0),0,null):null;return Up.A(c)};$APP.Up.A=function(a){a=a instanceof $APP.Fd&&0===a.i?a.K:$APP.cv.o(a);if(!$APP.vg(a.length))throw Error(["No value supplied for key: ",$APP.t.o($APP.pe(a))].join(""));return $APP.Zf(a)};$APP.Up.B=0;$APP.Up.F=function(a){return this.A($APP.x(a))};
var HA=function HA(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=0<c.length?new $APP.Fd(c.slice(0),0,null):null;return HA.A(c)};HA.A=function(a){a=$APP.x(a);for(var b=GA;;)if(a){var c=oe(a);b=$APP.Ni.v(b,$APP.y(a),$APP.le(a));a=c}else return b};HA.B=0;HA.F=function(a){return this.A($APP.x(a))};
var IA=function IA(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=1<c.length?new $APP.Fd(c.slice(1),0,null):null;return IA.A(arguments[0],c)};IA.A=function(a,b){b=$APP.x(b);for(var c=new $APP.Fi(Ye(a),null,0,null,0);;)if(b)a=oe(b),c=$APP.Ni.v(c,$APP.y(b),$APP.le(b)),b=a;else return c};IA.B=1;IA.F=function(a){var b=$APP.y(a);a=$APP.z(a);return this.A(b,a)};$APP.m=$APP.Hi.prototype;$APP.m.toString=function(){return nd(this)};$APP.m.Y=$APP.ha(7);
$APP.m.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return he(this,b,0);case 2:return he(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.o=function(b){return he(this,b,0)};a.j=function(b,c){return he(this,b,c)};return a}();
$APP.m.lastIndexOf=function(){function a(c){return ie(this,c,$APP.ge(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return ie(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.o=a;b.j=function(c,d){return ie(this,c,d)};return b}();$APP.m.aa=function(){return this.fc};
$APP.m.Xa=function(){var a=(null!=this.wa?this.wa.M&128||$APP.wd===this.wa.Vd||(this.wa.M?0:$APP.zb(Tb,this.wa)):$APP.zb(Tb,this.wa))?this.wa.Xa(null):$APP.z(this.wa);return null==a?null:new $APP.Hi(a,null)};$APP.m.ga=function(){return Nd(this)};$APP.m.U=function(a,b){return pf(this,b)};$APP.m.ya=function(){return $APP.Id};$APP.m.Ya=function(a,b){return $e(b,this)};$APP.m.Za=function(a,b,c){return af(b,c,this)};$APP.m.Ta=function(){return this.wa.Ta(null).key};
$APP.m.$a=function(){var a=(null!=this.wa?this.wa.M&128||$APP.wd===this.wa.Vd||(this.wa.M?0:$APP.zb(Tb,this.wa)):$APP.zb(Tb,this.wa))?this.wa.Xa(null):$APP.z(this.wa);return null!=a?new $APP.Hi(a,null):$APP.Id};$APP.m.ja=function(){return this};$APP.m.ea=function(a,b){return b===this.fc?this:new $APP.Hi(this.wa,b)};$APP.m.oa=function(a,b){return $APP.wf(b,this)};$APP.Hi.prototype[Gd]=function(){return Ld(this)};$APP.m=$APP.Ji.prototype;$APP.m.toString=function(){return nd(this)};$APP.m.Y=$APP.ha(6);
$APP.m.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return he(this,b,0);case 2:return he(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.o=function(b){return he(this,b,0)};a.j=function(b,c){return he(this,b,c)};return a}();
$APP.m.lastIndexOf=function(){function a(c){return ie(this,c,$APP.ge(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return ie(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.o=a;b.j=function(c,d){return ie(this,c,d)};return b}();$APP.m.aa=function(){return this.fc};
$APP.m.Xa=function(){var a=(null!=this.wa?this.wa.M&128||$APP.wd===this.wa.Vd||(this.wa.M?0:$APP.zb(Tb,this.wa)):$APP.zb(Tb,this.wa))?this.wa.Xa(null):$APP.z(this.wa);return null==a?null:new $APP.Ji(a,null)};$APP.m.ga=function(){return Nd(this)};$APP.m.U=function(a,b){return pf(this,b)};$APP.m.ya=function(){return $APP.Id};$APP.m.Ya=function(a,b){return $e(b,this)};$APP.m.Za=function(a,b,c){return af(b,c,this)};$APP.m.Ta=function(){return this.wa.Ta(null).val};
$APP.m.$a=function(){var a=(null!=this.wa?this.wa.M&128||$APP.wd===this.wa.Vd||(this.wa.M?0:$APP.zb(Tb,this.wa)):$APP.zb(Tb,this.wa))?this.wa.Xa(null):$APP.z(this.wa);return null!=a?new $APP.Ji(a,null):$APP.Id};$APP.m.ja=function(){return this};$APP.m.ea=function(a,b){return b===this.fc?this:new $APP.Ji(this.wa,b)};$APP.m.oa=function(a,b){return $APP.wf(b,this)};$APP.Ji.prototype[Gd]=function(){return Ld(this)};
$APP.mm=function mm(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=0<c.length?new $APP.Fd(c.slice(0),0,null):null;return mm.A(c)};$APP.mm.A=function(a){return $APP.p($APP.ug($APP.gf,a))?$APP.cf.j(function(b,c){return $APP.tf.j($APP.p(b)?b:$APP.$f,c)},a):null};$APP.mm.B=0;$APP.mm.F=function(a){return this.A($APP.x(a))};
$APP.cy=function cy(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=1<c.length?new $APP.Fd(c.slice(1),0,null):null;return cy.A(arguments[0],c)};$APP.cy.A=function(a,b){if($APP.p($APP.ug($APP.gf,b))){var c=function(d,e){var f=ec(e),g=fc(e);if($APP.Te(d,f)){e=$APP.Ni.v;var k=$APP.Re.j(d,f);g=a.j?a.j(k,g):a.call(null,k,g);d=e.call($APP.Ni,d,f,g)}else d=$APP.Ni.v(d,f,g);return d};return $APP.cf.j(function(d,e){return $APP.cf.v(c,$APP.p(d)?d:$APP.$f,$APP.x(e))},b)}return null};
$APP.cy.B=1;$APP.cy.F=function(a){var b=$APP.y(a);a=$APP.z(a);return this.A(b,a)};Pi.prototype.Ba=function(){return this.Ld.Ba()};Pi.prototype.next=function(){if(this.Ld.Ba())return this.Ld.next().key;throw Error("No such element");};Pi.prototype.remove=function(){return Error("Unsupported operation")};$APP.m=$APP.Qi.prototype;$APP.m.toString=function(){return nd(this)};$APP.m.Y=$APP.ha(5);$APP.m.keys=function(){return Ld($APP.x(this))};$APP.m.entries=function(){return new Eh($APP.x($APP.x(this)))};
$APP.m.values=function(){return Ld($APP.x(this))};$APP.m.has=function(a){return $APP.Te(this,a)};$APP.m.forEach=function(a){for(var b=$APP.x(this),c=null,d=0,e=0;;)if(e<d){var f=c.fa(null,e),g=$APP.D.v(f,0,null);f=$APP.D.v(f,1,null);a.j?a.j(f,g):a.call(null,f,g);e+=1}else if(b=$APP.x(b))$APP.He(b)?(c=$APP.bd(b),b=$APP.cd(b),g=c,d=$APP.ge(c),c=g):(c=$APP.y(b),g=$APP.D.v(c,0,null),f=$APP.D.v(c,1,null),a.j?a.j(f,g):a.call(null,f,g),b=$APP.z(b),c=null,d=0),e=0;else return null};
$APP.m.sa=function(a,b){return this.V(null,b,null)};$APP.m.V=function(a,b,c){a=$b(this.Hc,b);return $APP.p(a)?ec(a):c};$APP.m.Aa=function(){return new Pi($APP.ld(this.Hc))};$APP.m.aa=function(){return this.meta};$APP.m.ka=$APP.ha(41);$APP.m.ma=function(){return Jb(this.Hc)};$APP.m.ga=function(){var a=this.N;return null!=a?a:this.N=a=$APP.Qd(this)};
$APP.m.U=function(a,b){if(a=$APP.Be(b))if(a=$APP.ge(this)===$APP.ge(b))try{return $APP.ff(function(c,d){return(c=$APP.Te(b,d))?c:$APP.Vd(!1)},!0,this.Hc)}catch(c){if(c instanceof Error)return!1;throw c;}else return a;else return a};$APP.m.Bd=function(){return new Ti($APP.Sc(this.Hc))};$APP.m.ya=function(){return $APP.sc($APP.Ri,this.meta)};$APP.m.uf=function(a,b){return new $APP.Qi(this.meta,dc(this.Hc,b),null)};$APP.m.ja=function(){return $APP.Ii(this.Hc)};
$APP.m.ea=function(a,b){return b===this.meta?this:new $APP.Qi(b,this.Hc,this.N)};$APP.m.oa=function(a,b){return new $APP.Qi(this.meta,$APP.Ni.v(this.Hc,b,null),null)};$APP.m.call=function(a){switch(arguments.length-1){case 1:return this.o(arguments[1]);case 2:return this.j(arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",$APP.t.o(arguments.length-1)].join(""));}};$APP.m.apply=function(a,b){return this.call.apply(this,[this].concat(Eb(b)))};
$APP.m.o=function(a){return this.sa(null,a)};$APP.m.j=function(a,b){return this.V(null,a,b)};$APP.Ri=new $APP.Qi(null,$APP.$f,Lz);$APP.Qi.prototype[Gd]=function(){return Ld(this)};$APP.m=Ti.prototype;$APP.m.Gd=function(a,b){this.Uc=$APP.Qh.v(this.Uc,b,null);return this};$APP.m.Wd=function(){return new $APP.Qi(null,$APP.Uc(this.Uc),null)};$APP.m.xg=function(a,b){this.Uc=lA.j(this.Uc,b);return this};$APP.m.ma=function(){return $APP.ge(this.Uc)};$APP.m.sa=function(a,b){return this.V(null,b,null)};
$APP.m.V=function(a,b,c){return Ez(this.Uc,b,Se)===Se?c:b};$APP.m.call=function(a){switch(arguments.length-1){case 1:return this.o(arguments[1]);case 2:return this.j(arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",$APP.t.o(arguments.length-1)].join(""));}};$APP.m.apply=function(a,b){return this.call.apply(this,[this].concat(Eb(b)))};$APP.m.o=function(a){return Ez(this.Uc,a,Se)===Se?null:a};$APP.m.j=function(a,b){return Ez(this.Uc,a,Se)===Se?b:a};$APP.m=$APP.Vi.prototype;
$APP.m.toString=function(){return nd(this)};$APP.m.Y=$APP.ha(4);$APP.m.keys=function(){return Ld($APP.x(this))};$APP.m.entries=function(){return new Eh($APP.x($APP.x(this)))};$APP.m.values=function(){return Ld($APP.x(this))};$APP.m.has=function(a){return $APP.Te(this,a)};
$APP.m.forEach=function(a){for(var b=$APP.x(this),c=null,d=0,e=0;;)if(e<d){var f=c.fa(null,e),g=$APP.D.v(f,0,null);f=$APP.D.v(f,1,null);a.j?a.j(f,g):a.call(null,f,g);e+=1}else if(b=$APP.x(b))$APP.He(b)?(c=$APP.bd(b),b=$APP.cd(b),g=c,d=$APP.ge(c),c=g):(c=$APP.y(b),g=$APP.D.v(c,0,null),f=$APP.D.v(c,1,null),a.j?a.j(f,g):a.call(null,f,g),b=$APP.z(b),c=null,d=0),e=0;else return null};$APP.m.sa=function(a,b){return this.V(null,b,null)};$APP.m.V=function(a,b,c){a=Gi(this.ac,b);return null!=a?a.key:c};
$APP.m.aa=function(){return this.meta};$APP.m.ka=$APP.ha(40);$APP.m.ma=function(){return $APP.ge(this.ac)};$APP.m.Mc=function(){return 0<$APP.ge(this.ac)?$APP.wj.j(gh,Fc(this.ac)):null};$APP.m.ga=function(){var a=this.N;return null!=a?a:this.N=a=$APP.Qd(this)};$APP.m.U=function(a,b){if(a=$APP.Be(b))if(a=$APP.ge(this)===$APP.ge(b))try{return $APP.ff(function(c,d){return(c=$APP.Te(b,d))?c:$APP.Vd(!1)},!0,this.ac)}catch(c){if(c instanceof Error)return!1;throw c;}else return a;else return a};
$APP.m.ya=function(){return new $APP.Vi(this.meta,Lb(this.ac),0)};$APP.m.uf=function(a,b){return new $APP.Vi(this.meta,$APP.nm.j(this.ac,b),null)};$APP.m.ja=function(){return $APP.Ii(this.ac)};$APP.m.ea=function(a,b){return b===this.meta?this:new $APP.Vi(b,this.ac,this.N)};$APP.m.oa=function(a,b){return new $APP.Vi(this.meta,$APP.Ni.v(this.ac,b,null),null)};
$APP.m.call=function(a){switch(arguments.length-1){case 1:return this.o(arguments[1]);case 2:return this.j(arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",$APP.t.o(arguments.length-1)].join(""));}};$APP.m.apply=function(a,b){return this.call.apply(this,[this].concat(Eb(b)))};$APP.m.o=function(a){return this.sa(null,a)};$APP.m.j=function(a,b){return this.V(null,a,b)};$APP.m.xf=function(a,b){return $APP.wj.j(gh,Hc(this.ac,b))};
$APP.m.yf=function(a,b,c){return $APP.wj.j(gh,Ic(this.ac,b,c))};$APP.m.wf=function(a,b){return b};$APP.m.vf=function(){return Lc(this.ac)};var JA=new $APP.Vi(null,GA,Lz);$APP.Vi.prototype[Gd]=function(){return Ld(this)};var Us=function Us(a){switch(arguments.length){case 0:return Us.C();default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new $APP.Fd(c.slice(0),0,null);return Us.A(c)}};Us.C=function(){return $APP.Ri};Us.A=function(a){return $APP.Wi(a)};
Us.F=function(a){return this.A($APP.x(a))};Us.B=0;var hy=function hy(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=0<c.length?new $APP.Fd(c.slice(0),0,null):null;return hy.A(c)};hy.A=function(a){return $APP.cf.v($APP.Nb,JA,a)};hy.B=0;hy.F=function(a){return this.A($APP.x(a))};var KA=function KA(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=1<c.length?new $APP.Fd(c.slice(1),0,null):null;return KA.A(arguments[0],c)};
KA.A=function(a,b){return $APP.cf.v($APP.Nb,new $APP.Vi(null,IA(a),0),b)};KA.B=1;KA.F=function(a){var b=$APP.y(a);a=$APP.z(a);return this.A(b,a)};var qu=function qu(a){switch(arguments.length){case 1:return qu.o(arguments[0]);case 2:return qu.j(arguments[0],arguments[1]);default:throw Error(["Invalid arity: ",$APP.t.o(arguments.length)].join(""));}};qu.o=function(a){return $APP.wj.o(function(b){var c=Ve(a,b);return $APP.p(c)?fc(c):b})};
qu.j=function(a,b){if($APP.Ge(b)){var c=$APP.ge(b);return $APP.cf.v(function(d,e){var f=Ve(a,$APP.D.j(d,e));return $APP.p(f)?$APP.Ni.v(d,e,$APP.le(f)):d},b,$APP.Ig.j(c,Mg($APP.Td,0)))}return $APP.wj.j(function(d){var e=Ve(a,d);return $APP.p(e)?$APP.le(e):d},b)};qu.B=2;$APP.LA=function LA(a){switch(arguments.length){case 0:return LA.C();case 1:return LA.o(arguments[0]);default:throw Error(["Invalid arity: ",$APP.t.o(arguments.length)].join(""));}};
$APP.LA.C=function(){return function(a){var b=$APP.Cg($APP.Ri);return function(){function c(g,k){if($APP.Te($APP.u(b),k))return g;b.Ub(null,$APP.tf.j(b.Ca(null),k));return a.j?a.j(g,k):a.call(null,g,k)}function d(g){return a.o?a.o(g):a.call(null,g)}function e(){return a.C?a.C():a.call(null)}var f=null;f=function(g,k){switch(arguments.length){case 0:return e.call(this);case 1:return d.call(this,g);case 2:return c.call(this,g,k)}throw Error("Invalid arity: "+arguments.length);};f.C=e;f.o=d;f.j=c;return f}()}};
$APP.LA.o=function(a){return function e(c,d){return new $APP.Ff(null,function(){var f;a:{var g=c;for(f=d;;){var k=g;g=$APP.D.v(k,0,null);if(k=$APP.x(k))if($APP.Te(f,g))g=$APP.Jd(k);else{f=$APP.wf(g,e($APP.Jd(k),$APP.tf.j(f,g)));break a}else{f=null;break a}}}return f},null,null)}(a,$APP.Ri)};$APP.LA.B=1;
var nx=function nx(a){switch(arguments.length){case 2:return nx.j(arguments[0],arguments[1]);case 3:return nx.v(arguments[0],arguments[1],arguments[2]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new $APP.Fd(c.slice(3),0,null);return nx.A(arguments[0],arguments[1],arguments[2],c)}};nx.j=function(a,b){return b};nx.v=function(a,b,c){return(a.o?a.o(b):a.call(null,b))>(a.o?a.o(c):a.call(null,c))?b:c};
nx.A=function(a,b,c,d){return $APP.cf.v(function(e,f){return nx.v(a,e,f)},nx.v(a,b,c),d)};nx.F=function(a){var b=$APP.y(a),c=$APP.z(a);a=$APP.y(c);var d=$APP.z(c);c=$APP.y(d);d=$APP.z(d);return this.A(b,a,c,d)};nx.B=3;
var MA=function MA(a){switch(arguments.length){case 2:return MA.j(arguments[0],arguments[1]);case 3:return MA.v(arguments[0],arguments[1],arguments[2]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new $APP.Fd(c.slice(3),0,null);return MA.A(arguments[0],arguments[1],arguments[2],c)}};MA.j=function(a,b){return b};MA.v=function(a,b,c){return(a.o?a.o(b):a.call(null,b))<(a.o?a.o(c):a.call(null,c))?b:c};
MA.A=function(a,b,c,d){return $APP.cf.v(function(e,f){return MA.v(a,e,f)},MA.v(a,b,c),d)};MA.F=function(a){var b=$APP.y(a),c=$APP.z(a);a=$APP.y(c);var d=$APP.z(c);c=$APP.y(d);d=$APP.z(d);return this.A(b,a,c,d)};MA.B=3;$APP.m=$i.prototype;$APP.m.add=function(a){return this.K.push(a)};$APP.m.size=function(){return this.K.length};$APP.m.clear=function(){return this.K=[]};$APP.m.Kd=function(){return 0===this.K.length};$APP.m.toArray=function(){return this.K};
var NA=function NA(a){switch(arguments.length){case 1:return NA.o(arguments[0]);case 2:return NA.j(arguments[0],arguments[1]);case 3:return NA.v(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",$APP.t.o(arguments.length)].join(""));}};
NA.o=function(a){return function(b){var c=new $i;return function(){function d(k,l){c.add(l);return a===c.size()?(l=$APP.jh(c.toArray()),c.clear(),b.j?b.j(k,l):b.call(null,k,l)):k}function e(k){if(!$APP.p(c.Kd())){var l=$APP.jh(c.toArray());c.clear();k=Zd(b.j?b.j(k,l):b.call(null,k,l))}return b.o?b.o(k):b.call(null,k)}function f(){return b.C?b.C():b.call(null)}var g=null;g=function(k,l){switch(arguments.length){case 0:return f.call(this);case 1:return e.call(this,k);case 2:return d.call(this,k,l)}throw Error("Invalid arity: "+
arguments.length);};g.C=f;g.o=e;g.j=d;return g}()}};NA.j=function(a,b){return NA.v(a,a,b)};NA.v=function(a,b,c){return new $APP.Ff(null,function(){var d=$APP.x(c);return d?$APP.wf($APP.Ig.j(a,d),NA.v(a,b,$APP.Eg.j(b,d))):null},null,null)};NA.B=3;$APP.fj=function fj(a){switch(arguments.length){case 1:return fj.o(arguments[0]);case 2:return fj.j(arguments[0],arguments[1]);default:throw Error(["Invalid arity: ",$APP.t.o(arguments.length)].join(""));}};
$APP.fj.o=function(a){return function(b){return function(){function c(g,k){return $APP.p(a.o?a.o(k):a.call(null,k))?b.j?b.j(g,k):b.call(null,g,k):$APP.Vd(g)}function d(g){return b.o?b.o(g):b.call(null,g)}function e(){return b.C?b.C():b.call(null)}var f=null;f=function(g,k){switch(arguments.length){case 0:return e.call(this);case 1:return d.call(this,g);case 2:return c.call(this,g,k)}throw Error("Invalid arity: "+arguments.length);};f.C=e;f.o=d;f.j=c;return f}()}};
$APP.fj.j=function(a,b){return new $APP.Ff(null,function(){var c=$APP.x(b);if(c){var d=$APP.y(c);d=a.o?a.o(d):a.call(null,d);c=$APP.p(d)?$APP.wf($APP.y(c),$APP.fj.j(a,$APP.Jd(c))):null}else c=null;return c},null,null)};$APP.fj.B=2;var OA=function OA(a){switch(arguments.length){case 3:return OA.v(arguments[0],arguments[1],arguments[2]);case 5:return OA.S(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4]);default:throw Error(["Invalid arity: ",$APP.t.o(arguments.length)].join(""));}};
OA.v=function(a,b,c){var d=aj(a,b,c),e=$APP.Si([Uz,Vz]);b=e.o?e.o(b):e.call(null,b);return $APP.p(b)?(a=Ic(a,c,!0),$APP.p(a)?(c=$APP.D.v(a,0,null),$APP.p(d(c))?a:$APP.z(a)):null):$APP.fj.j(d,Hc(a,!0))};OA.S=function(a,b,c,d,e){var f=Ic(a,c,!0);if($APP.p(f)){var g=$APP.D.v(f,0,null);return $APP.fj.j(aj(a,d,e),$APP.p(aj(a,b,c)(g))?f:$APP.z(f))}return null};OA.B=5;
var PA=function PA(a){switch(arguments.length){case 3:return PA.v(arguments[0],arguments[1],arguments[2]);case 5:return PA.S(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4]);default:throw Error(["Invalid arity: ",$APP.t.o(arguments.length)].join(""));}};PA.v=function(a,b,c){var d=aj(a,b,c),e=$APP.Si([Sz,Tz]);b=e.o?e.o(b):e.call(null,b);return $APP.p(b)?(a=Ic(a,c,!1),$APP.p(a)?(c=$APP.D.v(a,0,null),$APP.p(d(c))?a:$APP.z(a)):null):$APP.fj.j(d,Hc(a,!1))};
PA.S=function(a,b,c,d,e){var f=Ic(a,e,!1);if($APP.p(f)){var g=$APP.D.v(f,0,null);return $APP.fj.j(aj(a,b,c),$APP.p(aj(a,d,e)(g))?f:$APP.z(f))}return null};PA.B=5;$APP.m=bj.prototype;$APP.m.ma=function(){return this.count};$APP.m.Ta=function(){return this.start};$APP.m.fa=function(a,b){return this.start+b*this.step};$APP.m.sb=function(a,b,c){return 0<=b&&b<this.count?this.start+b*this.step:c};
$APP.m.lf=function(){if(1>=this.count)throw Error("-drop-first of empty chunk");return new bj(this.start+this.step,this.step,this.count-1)};cj.prototype.Ba=function(){return 0<this.step?this.i<this.end:this.i>this.end};cj.prototype.next=function(){var a=this.i;this.i+=this.step;return a};$APP.m=$APP.dj.prototype;$APP.m.toString=function(){return nd(this)};$APP.m.Y=$APP.ha(3);
$APP.m.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return he(this,b,0);case 2:return he(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.o=function(b){return he(this,b,0)};a.j=function(b,c){return he(this,b,c)};return a}();
$APP.m.lastIndexOf=function(){function a(c){return ie(this,c,$APP.ge(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return ie(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.o=a;b.j=function(c,d){return ie(this,c,d)};return b}();
$APP.m.be=function(){if(null==this.vb){var a=this.ma(null);32<a?(this.oc=new $APP.dj(null,this.start+32*this.step,this.end,this.step,null,null,null),this.vb=new bj(this.start,this.step,32)):this.vb=new bj(this.start,this.step,a)}};$APP.m.fa=function(a,b){if(0<=b&&b<this.ma(null))return this.start+b*this.step;if(0<=b&&this.start>this.end&&0===this.step)return this.start;throw Error("Index out of bounds");};
$APP.m.sb=function(a,b,c){return 0<=b&&b<this.ma(null)?this.start+b*this.step:0<=b&&this.start>this.end&&0===this.step?this.start:c};$APP.m.Aa=function(){return new cj(this.start,this.end,this.step)};$APP.m.aa=function(){return this.meta};$APP.m.ka=$APP.ha(39);
$APP.m.Xa=function(){return 0<this.step?this.start+this.step<this.end?new $APP.dj(null,this.start+this.step,this.end,this.step,null,null,null):null:this.start+this.step>this.end?new $APP.dj(null,this.start+this.step,this.end,this.step,null,null,null):null};$APP.m.ma=function(){return Math.ceil((this.end-this.start)/this.step)};$APP.m.ga=function(){var a=this.N;return null!=a?a:this.N=a=Nd(this)};$APP.m.U=function(a,b){return pf(this,b)};$APP.m.ya=function(){return $APP.Id};
$APP.m.Ya=function(a,b){return $d(this,b)};$APP.m.Za=function(a,b,c){for(a=this.start;;)if(0<this.step?a<this.end:a>this.end){c=b.j?b.j(c,a):b.call(null,c,a);if(Wd(c))return $APP.u(c);a+=this.step}else return c};$APP.m.Ta=function(){return this.start};$APP.m.$a=function(){var a=this.Xa(null);return null==a?$APP.Id:a};$APP.m.ja=function(){return this};$APP.m.Ud=function(){this.be();return this.vb};$APP.m.Yc=function(){this.be();return null==this.oc?$APP.Id:this.oc};
$APP.m.ea=function(a,b){return b===this.meta?this:new $APP.dj(b,this.start,this.end,this.step,this.vb,this.oc,this.N)};$APP.m.oa=function(a,b){return $APP.wf(b,this)};$APP.m.Td=function(){return $APP.x(this.Yc(null))};$APP.dj.prototype[Gd]=function(){return Ld(this)};$APP.m=$APP.ej.prototype;$APP.m.toString=function(){return nd(this)};$APP.m.Y=$APP.ha(2);
$APP.m.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return he(this,b,0);case 2:return he(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.o=function(b){return he(this,b,0)};a.j=function(b,c){return he(this,b,c)};return a}();
$APP.m.lastIndexOf=function(){function a(c){return ie(this,c,$APP.ge(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return ie(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.o=a;b.j=function(c,d){return ie(this,c,d)};return b}();
$APP.m.be=function(){if(null==this.vb){var a=[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null];a:{var b=0;for(var c=this.start;;)if(32>b){if(a[b]=c,b+=1,c+=this.step,!(0<this.step?c<this.end:c>this.end)){b=this.vb=new Jf(a,0,b);break a}}else{b=c;break a}}null==this.vb&&(this.vb=new Jf(a,0,32),(0<this.step?b<this.end:b>this.end)&&(this.oc=new $APP.ej(null,b,this.end,this.step,null,null,null)))}};
$APP.m.Aa=function(){return new cj(this.start,this.end,this.step)};$APP.m.aa=function(){return this.meta};$APP.m.ka=$APP.ha(38);$APP.m.Xa=function(){return 0<this.step?this.start+this.step<this.end?new $APP.ej(null,this.start+this.step,this.end,this.step,null,null,null):null:this.start+this.step>this.end?new $APP.ej(null,this.start+this.step,this.end,this.step,null,null,null):null};$APP.m.ga=function(){var a=this.N;return null!=a?a:this.N=a=Nd(this)};$APP.m.U=function(a,b){return pf(this,b)};
$APP.m.ya=function(){return $APP.Id};$APP.m.Ya=function(a,b){return $e(b,this)};$APP.m.Za=function(a,b,c){for(a=this.start;;)if(0<this.step?a<this.end:a>this.end){c=b.j?b.j(c,a):b.call(null,c,a);if(Wd(c))return $APP.u(c);a+=this.step}else return c};$APP.m.Ta=function(){return this.start};$APP.m.$a=function(){var a=this.Xa(null);return null==a?$APP.Id:a};$APP.m.ja=function(){return this};$APP.m.Ud=function(){this.be();return this.vb};$APP.m.Yc=function(){this.be();return null==this.oc?$APP.Id:this.oc};
$APP.m.ea=function(a,b){return b===this.meta?this:new $APP.ej(b,this.start,this.end,this.step,this.vb,this.oc,this.N)};$APP.m.oa=function(a,b){return $APP.wf(b,this)};$APP.m.Td=function(){return $APP.x(this.Yc(null))};$APP.ej.prototype[Gd]=function(){return Ld(this)};
$APP.mo=function mo(a){switch(arguments.length){case 0:return mo.C();case 1:return mo.o(arguments[0]);case 2:return mo.j(arguments[0],arguments[1]);case 3:return mo.v(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",$APP.t.o(arguments.length)].join(""));}};$APP.mo.C=function(){return $APP.mo.v(0,Number.MAX_VALUE,1)};$APP.mo.o=function(a){return $APP.mo.v(0,a,1)};$APP.mo.j=function(a,b){return $APP.mo.v(a,b,1)};
$APP.mo.v=function(a,b,c){return 0<c?b<=a?$APP.Id:$APP.Pe(a)&&$APP.Pe(b)&&$APP.Pe(c)?new $APP.dj(null,a,b,c,null,null,null):new $APP.ej(null,a,b,c,null,null,null):0>c?b>=a?$APP.Id:$APP.Pe(a)&&$APP.Pe(b)&&$APP.Pe(c)?new $APP.dj(null,a,b,c,null,null,null):new $APP.ej(null,a,b,c,null,null,null):b===a?$APP.Id:$APP.sr.o(a)};$APP.mo.B=3;
$APP.un=function un(a){switch(arguments.length){case 1:return un.o(arguments[0]);case 2:return un.j(arguments[0],arguments[1]);default:throw Error(["Invalid arity: ",$APP.t.o(arguments.length)].join(""));}};
$APP.un.o=function(a){return function(b){var c=$APP.Cg(-1);return function(){function d(k,l){var h=c.Ub(null,c.Ca(null)+1);return 0===$APP.nf(h,a)?b.j?b.j(k,l):b.call(null,k,l):k}function e(k){return b.o?b.o(k):b.call(null,k)}function f(){return b.C?b.C():b.call(null)}var g=null;g=function(k,l){switch(arguments.length){case 0:return f.call(this);case 1:return e.call(this,k);case 2:return d.call(this,k,l)}throw Error("Invalid arity: "+arguments.length);};g.C=f;g.o=e;g.j=d;return g}()}};
$APP.un.j=function(a,b){return new $APP.Ff(null,function(){var c=$APP.x(b);return c?$APP.wf($APP.y(c),$APP.un.j(a,$APP.Eg.j(a,c))):null},null,null)};$APP.un.B=2;var QA=function QA(a){switch(arguments.length){case 1:return QA.o(arguments[0]);case 2:return QA.j(arguments[0],arguments[1]);default:throw Error(["Invalid arity: ",$APP.t.o(arguments.length)].join(""));}};
QA.o=function(a){return function(b){var c=new $i,d=$APP.Cg(RA);return function(){function e(l,h){var r=$APP.u(d),q=a.o?a.o(h):a.call(null,h);$APP.jd(d,q);if($APP.zf(r,RA)||$APP.A.j(q,r))return c.add(h),l;r=$APP.jh(c.toArray());c.clear();l=b.j?b.j(l,r):b.call(null,l,r);Wd(l)||c.add(h);return l}function f(l){if(!$APP.p(c.Kd())){var h=$APP.jh(c.toArray());c.clear();l=Zd(b.j?b.j(l,h):b.call(null,l,h))}return b.o?b.o(l):b.call(null,l)}function g(){return b.C?b.C():b.call(null)}var k=null;k=function(l,
h){switch(arguments.length){case 0:return g.call(this);case 1:return f.call(this,l);case 2:return e.call(this,l,h)}throw Error("Invalid arity: "+arguments.length);};k.C=g;k.o=f;k.j=e;return k}()}};
QA.j=function(a,b){return new $APP.Ff(null,function(){var c=$APP.x(b);if(c){var d=$APP.y(c),e=a.o?a.o(d):a.call(null,d),f=$APP.wf(d,$APP.fj.j(function(g){return $APP.A.j(e,a.o?a.o(g):a.call(null,g))},$APP.z(c)));return $APP.wf(f,QA.j(a,new $APP.Ff(null,function(){return $APP.Eg.j($APP.ge(f),c)},null,null)))}return null},null,null)};QA.B=2;
var SA=function SA(a){switch(arguments.length){case 2:return SA.j(arguments[0],arguments[1]);case 3:return SA.v(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",$APP.t.o(arguments.length)].join(""));}};SA.j=function(a,b){return new $APP.Ff(null,function(){var c=$APP.x(b);return c?SA.v(a,$APP.y(c),$APP.Jd(c)):new $APP.J(null,a.C?a.C():a.call(null),null,1,null)},null,null)};
SA.v=function(a,b,c){return Wd(b)?new $APP.J(null,$APP.u(b),null,1,null):$APP.wf(b,new $APP.Ff(null,function(){var d=$APP.x(c);if(d){var e=SA.v;var f=$APP.y(d);f=a.j?a.j(b,f):a.call(null,b,f);d=e.call(SA,a,f,$APP.Jd(d))}else d=null;return d},null,null))};SA.B=3;
$APP.Pl=function Pl(a){switch(arguments.length){case 1:return Pl.o(arguments[0]);case 2:return Pl.j(arguments[0],arguments[1]);case 3:return Pl.v(arguments[0],arguments[1],arguments[2]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new $APP.Fd(c.slice(3),0,null);return Pl.A(arguments[0],arguments[1],arguments[2],c)}};
$APP.Pl.o=function(a){return function(){function b(k,l,h){return new $APP.N(null,1,5,$APP.O,[a.v?a.v(k,l,h):a.call(null,k,l,h)],null)}function c(k,l){return new $APP.N(null,1,5,$APP.O,[a.j?a.j(k,l):a.call(null,k,l)],null)}function d(k){return new $APP.N(null,1,5,$APP.O,[a.o?a.o(k):a.call(null,k)],null)}function e(){return new $APP.N(null,1,5,$APP.O,[a.C?a.C():a.call(null)],null)}var f=null,g=function(){function k(h,r,q,w){var C=null;if(3<arguments.length){C=0;for(var G=Array(arguments.length-3);C<
G.length;)G[C]=arguments[C+3],++C;C=new $APP.Fd(G,0,null)}return l.call(this,h,r,q,C)}function l(h,r,q,w){return new $APP.N(null,1,5,$APP.O,[$APP.wg.S(a,h,r,q,w)],null)}k.B=3;k.F=function(h){var r=$APP.y(h);h=$APP.z(h);var q=$APP.y(h);h=$APP.z(h);var w=$APP.y(h);h=$APP.Jd(h);return l(r,q,w,h)};k.A=l;return k}();f=function(k,l,h,r){switch(arguments.length){case 0:return e.call(this);case 1:return d.call(this,k);case 2:return c.call(this,k,l);case 3:return b.call(this,k,l,h);default:var q=null;if(3<
arguments.length){q=0;for(var w=Array(arguments.length-3);q<w.length;)w[q]=arguments[q+3],++q;q=new $APP.Fd(w,0,null)}return g.A(k,l,h,q)}throw Error("Invalid arity: "+arguments.length);};f.B=3;f.F=g.F;f.C=e;f.o=d;f.j=c;f.v=b;f.A=g.A;return f}()};
$APP.Pl.j=function(a,b){return function(){function c(l,h,r){return new $APP.N(null,2,5,$APP.O,[a.v?a.v(l,h,r):a.call(null,l,h,r),b.v?b.v(l,h,r):b.call(null,l,h,r)],null)}function d(l,h){return new $APP.N(null,2,5,$APP.O,[a.j?a.j(l,h):a.call(null,l,h),b.j?b.j(l,h):b.call(null,l,h)],null)}function e(l){return new $APP.N(null,2,5,$APP.O,[a.o?a.o(l):a.call(null,l),b.o?b.o(l):b.call(null,l)],null)}function f(){return new $APP.N(null,2,5,$APP.O,[a.C?a.C():a.call(null),b.C?b.C():b.call(null)],null)}var g=
null,k=function(){function l(r,q,w,C){var G=null;if(3<arguments.length){G=0;for(var M=Array(arguments.length-3);G<M.length;)M[G]=arguments[G+3],++G;G=new $APP.Fd(M,0,null)}return h.call(this,r,q,w,G)}function h(r,q,w,C){return new $APP.N(null,2,5,$APP.O,[$APP.wg.S(a,r,q,w,C),$APP.wg.S(b,r,q,w,C)],null)}l.B=3;l.F=function(r){var q=$APP.y(r);r=$APP.z(r);var w=$APP.y(r);r=$APP.z(r);var C=$APP.y(r);r=$APP.Jd(r);return h(q,w,C,r)};l.A=h;return l}();g=function(l,h,r,q){switch(arguments.length){case 0:return f.call(this);
case 1:return e.call(this,l);case 2:return d.call(this,l,h);case 3:return c.call(this,l,h,r);default:var w=null;if(3<arguments.length){w=0;for(var C=Array(arguments.length-3);w<C.length;)C[w]=arguments[w+3],++w;w=new $APP.Fd(C,0,null)}return k.A(l,h,r,w)}throw Error("Invalid arity: "+arguments.length);};g.B=3;g.F=k.F;g.C=f;g.o=e;g.j=d;g.v=c;g.A=k.A;return g}()};
$APP.Pl.v=function(a,b,c){return function(){function d(h,r,q){return new $APP.N(null,3,5,$APP.O,[a.v?a.v(h,r,q):a.call(null,h,r,q),b.v?b.v(h,r,q):b.call(null,h,r,q),c.v?c.v(h,r,q):c.call(null,h,r,q)],null)}function e(h,r){return new $APP.N(null,3,5,$APP.O,[a.j?a.j(h,r):a.call(null,h,r),b.j?b.j(h,r):b.call(null,h,r),c.j?c.j(h,r):c.call(null,h,r)],null)}function f(h){return new $APP.N(null,3,5,$APP.O,[a.o?a.o(h):a.call(null,h),b.o?b.o(h):b.call(null,h),c.o?c.o(h):c.call(null,h)],null)}function g(){return new $APP.N(null,
3,5,$APP.O,[a.C?a.C():a.call(null),b.C?b.C():b.call(null),c.C?c.C():c.call(null)],null)}var k=null,l=function(){function h(q,w,C,G){var M=null;if(3<arguments.length){M=0;for(var R=Array(arguments.length-3);M<R.length;)R[M]=arguments[M+3],++M;M=new $APP.Fd(R,0,null)}return r.call(this,q,w,C,M)}function r(q,w,C,G){return new $APP.N(null,3,5,$APP.O,[$APP.wg.S(a,q,w,C,G),$APP.wg.S(b,q,w,C,G),$APP.wg.S(c,q,w,C,G)],null)}h.B=3;h.F=function(q){var w=$APP.y(q);q=$APP.z(q);var C=$APP.y(q);q=$APP.z(q);var G=
$APP.y(q);q=$APP.Jd(q);return r(w,C,G,q)};h.A=r;return h}();k=function(h,r,q,w){switch(arguments.length){case 0:return g.call(this);case 1:return f.call(this,h);case 2:return e.call(this,h,r);case 3:return d.call(this,h,r,q);default:var C=null;if(3<arguments.length){C=0;for(var G=Array(arguments.length-3);C<G.length;)G[C]=arguments[C+3],++C;C=new $APP.Fd(G,0,null)}return l.A(h,r,q,C)}throw Error("Invalid arity: "+arguments.length);};k.B=3;k.F=l.F;k.C=g;k.o=f;k.j=e;k.v=d;k.A=l.A;return k}()};
$APP.Pl.A=function(a,b,c,d){var e=Ew.J(a,b,c,d);return function(){function f(q,w,C){return $APP.cf.v(function(G,M){return $APP.tf.j(G,M.v?M.v(q,w,C):M.call(null,q,w,C))},$APP.ih,e)}function g(q,w){return $APP.cf.v(function(C,G){return $APP.tf.j(C,G.j?G.j(q,w):G.call(null,q,w))},$APP.ih,e)}function k(q){return $APP.cf.v(function(w,C){return $APP.tf.j(w,C.o?C.o(q):C.call(null,q))},$APP.ih,e)}function l(){return $APP.cf.v(function(q,w){return $APP.tf.j(q,w.C?w.C():w.call(null))},$APP.ih,e)}var h=null,
r=function(){function q(C,G,M,R){var W=null;if(3<arguments.length){W=0;for(var Z=Array(arguments.length-3);W<Z.length;)Z[W]=arguments[W+3],++W;W=new $APP.Fd(Z,0,null)}return w.call(this,C,G,M,W)}function w(C,G,M,R){return $APP.cf.v(function(W,Z){return $APP.tf.j(W,$APP.wg.S(Z,C,G,M,R))},$APP.ih,e)}q.B=3;q.F=function(C){var G=$APP.y(C);C=$APP.z(C);var M=$APP.y(C);C=$APP.z(C);var R=$APP.y(C);C=$APP.Jd(C);return w(G,M,R,C)};q.A=w;return q}();h=function(q,w,C,G){switch(arguments.length){case 0:return l.call(this);
case 1:return k.call(this,q);case 2:return g.call(this,q,w);case 3:return f.call(this,q,w,C);default:var M=null;if(3<arguments.length){M=0;for(var R=Array(arguments.length-3);M<R.length;)R[M]=arguments[M+3],++M;M=new $APP.Fd(R,0,null)}return r.A(q,w,C,M)}throw Error("Invalid arity: "+arguments.length);};h.B=3;h.F=r.F;h.C=l;h.o=k;h.j=g;h.v=f;h.A=r.A;return h}()};$APP.Pl.F=function(a){var b=$APP.y(a),c=$APP.z(a);a=$APP.y(c);var d=$APP.z(c);c=$APP.y(d);d=$APP.z(d);return this.A(b,a,c,d)};$APP.Pl.B=3;
var TA=function TA(a){switch(arguments.length){case 1:return TA.o(arguments[0]);case 2:return TA.j(arguments[0],arguments[1]);default:throw Error(["Invalid arity: ",$APP.t.o(arguments.length)].join(""));}};TA.o=function(a){for(;;)if(a=$APP.x(a))a=$APP.z(a);else return null};TA.j=function(a,b){for(;;)if($APP.x(b)&&0<a)--a,b=$APP.z(b);else return null};TA.B=2;
$APP.eo=function eo(a){switch(arguments.length){case 1:return eo.o(arguments[0]);case 2:return eo.j(arguments[0],arguments[1]);default:throw Error(["Invalid arity: ",$APP.t.o(arguments.length)].join(""));}};$APP.eo.o=function(a){TA.o(a);return a};$APP.eo.j=function(a,b){TA.j(a,b);return b};$APP.eo.B=2;
UA=function UA(a,b){var d=a.exec(b);if(null==d)return null;var e=d[0],f=1===d.length?e:$APP.jh(d);return $APP.wf(f,new $APP.Ff(null,function(){var g=e.length;g=d.index+(1>g?1:g);return g<=b.length?(g=$APP.lj.j(b,g),UA.j?UA.j(a,g):UA.call(null,a,g)):null},null,null))};sj={'"':'\\"',"\\":"\\\\","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t"};
$APP.Uj=function Uj(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=0<c.length?new $APP.Fd(c.slice(0),0,null):null;return Uj.A(c)};$APP.Uj.A=function(a){return Dj(a,pb())};$APP.Uj.B=0;$APP.Uj.F=function(a){return this.A($APP.x(a))};var VA=function VA(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=0<c.length?new $APP.Fd(c.slice(0),0,null):null;return VA.A(c)};
VA.A=function(a){var b=pb();$APP.ze(a)?a="\n":(a=Cj(a,b),a.append("\n"),a=$APP.t.o(a));return a};VA.B=0;VA.F=function(a){return this.A($APP.x(a))};var WA=function WA(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=0<c.length?new $APP.Fd(c.slice(0),0,null):null;return WA.A(c)};WA.A=function(a){return Ej(a,pb())};WA.B=0;WA.F=function(a){return this.A($APP.x(a))};
Dy=function(){function a(c){var d=null;if(0<arguments.length){d=0;for(var e=Array(arguments.length-0);d<e.length;)e[d]=arguments[d+0],++d;d=new $APP.Fd(e,0,null)}return b.call(this,d)}function b(c){return Ej(c,$APP.Ni.v(pb(),$APP.gb,!1))}a.B=0;a.F=function(c){c=$APP.x(c);return b(c)};a.A=b;return a}();$APP.XA=function XA(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=0<c.length?new $APP.Fd(c.slice(0),0,null):null;return XA.A(c)};
$APP.XA.A=function(a){return Dj(a,$APP.Ni.v(pb(),$APP.gb,!1))};$APP.XA.B=0;$APP.XA.F=function(a){return this.A($APP.x(a))};$APP.YA=function YA(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=0<c.length?new $APP.Fd(c.slice(0),0,null):null;return YA.A(c)};$APP.YA.A=function(a){Ej(a,$APP.Ni.v(pb(),$APP.gb,!1));return $APP.p(qb)?Fj(pb()):null};$APP.YA.B=0;$APP.YA.F=function(a){return this.A($APP.x(a))};
$APP.fw=function fw(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=0<c.length?new $APP.Fd(c.slice(0),0,null):null;return fw.A(c)};$APP.fw.A=function(a){Ej(a,pb());return $APP.p(qb)?Fj(pb()):null};$APP.fw.B=0;$APP.fw.F=function(a){return this.A($APP.x(a))};Bg.prototype.ta=$APP.wd;Bg.prototype.Z=function(a,b,c){$APP.Mc(b,"#object[cljs.core.Volatile ");$APP.vj(new $APP.n(null,1,[$APP.xy,this.state],null),b,c);return $APP.Mc(b,"]")};$APP.Cd.prototype.ta=$APP.wd;
$APP.Cd.prototype.Z=function(a,b,c){$APP.Mc(b,"#'");return $APP.vj(this.Ic,b,c)};$APP.Fd.prototype.ta=$APP.wd;$APP.Fd.prototype.Z=function(a,b,c){return $APP.pj(b,$APP.vj,"("," ",")",c,this)};$APP.Ff.prototype.ta=$APP.wd;$APP.Ff.prototype.Z=function(a,b,c){return $APP.pj(b,$APP.vj,"("," ",")",c,this)};$APP.Ue.prototype.ta=$APP.wd;$APP.Ue.prototype.Z=function(a,b,c){return $APP.pj(b,$APP.vj,"["," ","]",c,this)};$APP.xi.prototype.ta=$APP.wd;
$APP.xi.prototype.Z=function(a,b,c){return $APP.pj(b,$APP.vj,"("," ",")",c,this)};$APP.ji.prototype.ta=$APP.wd;$APP.ji.prototype.Z=function(a,b,c){return $APP.pj(b,$APP.vj,"("," ",")",c,this)};$APP.Ai.prototype.ta=$APP.wd;$APP.Ai.prototype.Z=function(a,b,c){return $APP.pj(b,$APP.vj,"["," ","]",c,this)};$APP.Gh.prototype.ta=$APP.wd;$APP.Gh.prototype.Z=function(a,b,c){return $APP.pj(b,$APP.vj,"("," ",")",c,this)};Md.prototype.ta=$APP.wd;
Md.prototype.Z=function(a,b,c){return $APP.pj(b,$APP.vj,"("," ",")",c,this)};$APP.Vi.prototype.ta=$APP.wd;$APP.Vi.prototype.Z=function(a,b,c){return $APP.pj(b,$APP.vj,"#{"," ","}",c,this)};$APP.kh.prototype.ta=$APP.wd;$APP.kh.prototype.Z=function(a,b,c){return $APP.pj(b,$APP.vj,"("," ",")",c,this)};$APP.vf.prototype.ta=$APP.wd;$APP.vf.prototype.Z=function(a,b,c){return $APP.pj(b,$APP.vj,"("," ",")",c,this)};Lg.prototype.ta=$APP.wd;
Lg.prototype.Z=function(a,b,c){return $APP.pj(b,$APP.vj,"("," ",")",c,this)};$APP.ke.prototype.ta=$APP.wd;$APP.ke.prototype.Z=function(a,b,c){return $APP.pj(b,$APP.vj,"("," ",")",c,this)};$APP.dj.prototype.ta=$APP.wd;$APP.dj.prototype.Z=function(a,b,c){return $APP.pj(b,$APP.vj,"("," ",")",c,this)};$APP.si.prototype.ta=$APP.wd;$APP.si.prototype.Z=function(a,b,c){return yj(this,$APP.vj,b,c)};$APP.ni.prototype.ta=$APP.wd;$APP.ni.prototype.Z=function(a,b,c){return $APP.pj(b,$APP.vj,"("," ",")",c,this)};
$APP.oh.prototype.ta=$APP.wd;$APP.oh.prototype.Z=function(a,b,c){return $APP.pj(b,$APP.vj,"["," ","]",c,this)};Gg.prototype.ta=$APP.wd;Gg.prototype.Z=function(a,b,c){return $APP.pj(b,$APP.vj,"("," ",")",c,this)};$APP.Fi.prototype.ta=$APP.wd;$APP.Fi.prototype.Z=function(a,b,c){return yj(this,$APP.vj,b,c)};$APP.Qi.prototype.ta=$APP.wd;$APP.Qi.prototype.Z=function(a,b,c){return $APP.pj(b,$APP.vj,"#{"," ","}",c,this)};$APP.Kf.prototype.ta=$APP.wd;
$APP.Kf.prototype.Z=function(a,b,c){return $APP.pj(b,$APP.vj,"("," ",")",c,this)};$APP.zg.prototype.ta=$APP.wd;$APP.zg.prototype.Z=function(a,b,c){$APP.Mc(b,"#object[cljs.core.Atom ");$APP.vj(new $APP.n(null,1,[$APP.xy,this.state],null),b,c);return $APP.Mc(b,"]")};$APP.Ji.prototype.ta=$APP.wd;$APP.Ji.prototype.Z=function(a,b,c){return $APP.pj(b,$APP.vj,"("," ",")",c,this)};$APP.zi.prototype.ta=$APP.wd;$APP.zi.prototype.Z=function(a,b,c){return $APP.pj(b,$APP.vj,"["," ","]",c,this)};
$APP.Kg.prototype.ta=$APP.wd;$APP.Kg.prototype.Z=function(a,b,c){return $APP.pj(b,$APP.vj,"("," ",")",c,this)};$APP.N.prototype.ta=$APP.wd;$APP.N.prototype.Z=function(a,b,c){return $APP.pj(b,$APP.vj,"["," ","]",c,this)};$APP.xh.prototype.ta=$APP.wd;$APP.xh.prototype.Z=function(a,b,c){return $APP.pj(b,$APP.vj,"("," ",")",c,this)};$APP.rf.prototype.ta=$APP.wd;$APP.rf.prototype.Z=function(a,b){return $APP.Mc(b,"()")};$APP.yh.prototype.ta=$APP.wd;
$APP.yh.prototype.Z=function(a,b,c){return $APP.pj(b,$APP.vj,"#queue ["," ","]",c,$APP.x(this))};$APP.n.prototype.ta=$APP.wd;$APP.n.prototype.Z=function(a,b,c){return yj(this,$APP.vj,b,c)};$APP.ej.prototype.ta=$APP.wd;$APP.ej.prototype.Z=function(a,b,c){return $APP.pj(b,$APP.vj,"("," ",")",c,this)};rg.prototype.ta=$APP.wd;rg.prototype.Z=function(a,b,c){return $APP.pj(b,$APP.vj,"("," ",")",c,this)};$APP.Hi.prototype.ta=$APP.wd;
$APP.Hi.prototype.Z=function(a,b,c){return $APP.pj(b,$APP.vj,"("," ",")",c,this)};$APP.J.prototype.ta=$APP.wd;$APP.J.prototype.Z=function(a,b,c){return $APP.pj(b,$APP.vj,"("," ",")",c,this)};$APP.v.prototype.Dc=$APP.wd;$APP.v.prototype.hc=function(a,b){if(b instanceof $APP.v)return Bd(this,b);throw Error(["Cannot compare ",$APP.t.o(this)," to ",$APP.t.o(b)].join(""));};$APP.K.prototype.Dc=$APP.wd;
$APP.K.prototype.hc=function(a,b){if(b instanceof $APP.K)return xf(this,b);throw Error(["Cannot compare ",$APP.t.o(this)," to ",$APP.t.o(b)].join(""));};$APP.oh.prototype.Dc=$APP.wd;$APP.oh.prototype.hc=function(a,b){if($APP.Ge(b))return Xe(this,b);throw Error(["Cannot compare ",$APP.t.o(this)," to ",$APP.t.o(b)].join(""));};$APP.N.prototype.Dc=$APP.wd;$APP.N.prototype.hc=function(a,b){if($APP.Ge(b))return Xe(this,b);throw Error(["Cannot compare ",$APP.t.o(this)," to ",$APP.t.o(b)].join(""));};
$APP.Ue.prototype.Dc=$APP.wd;$APP.Ue.prototype.hc=function(a,b){if($APP.Ge(b))return Xe(this,b);throw Error(["Cannot compare ",$APP.t.o(this)," to ",$APP.t.o(b)].join(""));};$APP.Ai.prototype.Dc=$APP.wd;$APP.Ai.prototype.hc=function(a,b){if($APP.Ge(b))return Xe(this,b);throw Error(["Cannot compare ",$APP.t.o(this)," to ",$APP.t.o(b)].join(""));};$APP.zi.prototype.Dc=$APP.wd;
$APP.zi.prototype.hc=function(a,b){if($APP.Ge(b))return Xe(this,b);throw Error(["Cannot compare ",$APP.t.o(this)," to ",$APP.t.o(b)].join(""));};var Ft=function Ft(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=2<c.length?new $APP.Fd(c.slice(2),0,null):null;return Ft.A(arguments[0],arguments[1],c)};Ft.A=function(a,b,c){return a.meta=$APP.wg.v(b,a.meta,c)};Ft.B=2;Ft.F=function(a){var b=$APP.y(a),c=$APP.z(a);a=$APP.y(c);c=$APP.z(c);return this.A(b,a,c)};ZA=null;
$APP.Ao=function Ao(a){switch(arguments.length){case 0:return Ao.C();case 1:return Ao.o(arguments[0]);default:throw Error(["Invalid arity: ",$APP.t.o(arguments.length)].join(""));}};$APP.Ao.C=function(){return $APP.Ao.o("G__")};$APP.Ao.o=function(a){null==ZA&&(ZA=$APP.Yj.o(0));return $APP.Gj.o([$APP.t.o(a),$APP.t.o($APP.Zj.j(ZA,$APP.Td))].join(""))};$APP.Ao.B=1;$APP.Lj.prototype.Ca=function(){$APP.p(this.f)&&(this.value=this.f.C?this.f.C():this.f.call(null),this.f=null);return this.value};
$APP.Lj.prototype.jd=function(){return $APP.wb(this.f)};$APP.Lj.prototype.Z=function(a,b,c){$APP.Mc(b,"#object[cljs.core.Delay ");$APP.vj(new $APP.n(null,2,[$APP.$A,null==this.f?aB:$APP.bB,$APP.xy,this.value],null),b,c);return $APP.Mc(b,"]")};var cB=function cB(a){switch(arguments.length){case 1:return cB.o(arguments[0]);case 2:return cB.j(arguments[0],arguments[1]);default:throw Error(["Invalid arity: ",$APP.t.o(arguments.length)].join(""));}};cB.o=function(a){return cB.j(a,null)};
cB.j=function(a,b){return function(c){return function(){function d(k,l){if($APP.p(a.o?a.o(l):a.call(null,l))){var h=dB;$APP.p(b)&&(k=c.o?c.o(k):c.call(null,k),l=b.j?b.j(k,l):b.call(null,k,l));h=$APP.Vd(new $APP.n(null,1,[h,l],null))}else h=c.j?c.j(k,l):c.call(null,k,l);return h}function e(k){return $APP.Ee(k)&&$APP.Te(k,dB)?dB.o(k):c.o?c.o(k):c.call(null,k)}function f(){return c.C?c.C():c.call(null)}var g=null;g=function(k,l){switch(arguments.length){case 0:return f.call(this);case 1:return e.call(this,
k);case 2:return d.call(this,k,l)}throw Error("Invalid arity: "+arguments.length);};g.C=f;g.o=e;g.j=d;return g}()}};cB.B=2;var mr=function mr(a){switch(arguments.length){case 0:return mr.C();case 1:return mr.o(arguments[0]);default:throw Error(["Invalid arity: ",$APP.t.o(arguments.length)].join(""));}};
mr.C=function(){return function(a){var b=$APP.Cg(RA);return function(){function c(g,k){var l=$APP.u(b);$APP.jd(b,k);return $APP.A.j(l,k)?g:a.j?a.j(g,k):a.call(null,g,k)}function d(g){return a.o?a.o(g):a.call(null,g)}function e(){return a.C?a.C():a.call(null)}var f=null;f=function(g,k){switch(arguments.length){case 0:return e.call(this);case 1:return d.call(this,g);case 2:return c.call(this,g,k)}throw Error("Invalid arity: "+arguments.length);};f.C=e;f.o=d;f.j=c;return f}()}};
mr.o=function(a){return $APP.U.j(mr.C(),a)};mr.B=1;var eB=function eB(a){switch(arguments.length){case 1:return eB.o(arguments[0]);case 2:return eB.j(arguments[0],arguments[1]);default:throw Error(["Invalid arity: ",$APP.t.o(arguments.length)].join(""));}};eB.o=function(a){return $APP.Pg.o(function(){return(fB.C?fB.C():fB.call(null))<a})};eB.j=function(a,b){return $APP.Pg.j(function(){return(fB.C?fB.C():fB.call(null))<a},b)};eB.B=2;$APP.m=$APP.Qj.prototype;
$APP.m.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return he(this,b,0);case 2:return he(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.o=function(b){return he(this,b,0)};a.j=function(b,c){return he(this,b,c)};return a}();
$APP.m.lastIndexOf=function(){function a(c){return ie(this,c,$APP.ge(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return ie(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.o=a;b.j=function(c,d){return ie(this,c,d)};return b}();$APP.m.Aa=function(){var a=kg(this.Ee);return sg(this.Ve,a,!1)};$APP.m.ja=function(){return $APP.x($APP.U.j(this.Ve,this.Ee))};$APP.m.Ya=function(a,b){return Oz.v(this.Ve,Nz.o(b),this.Ee)};
$APP.m.Za=function(a,b,c){return Oz.J(this.Ve,Nz.o(b),c,this.Ee)};$APP.m.Z=function(a,b,c){return $APP.pj(b,$APP.vj,"("," ",")",c,this)};$APP.Qj.prototype[Gd]=function(){return Ld(this)};var gB=function gB(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=0<c.length?new $APP.Fd(c.slice(0),0,null):null;return gB.A(c)};gB.A=function(a){return new $APP.Qj($APP.wg.j($APP.qr,$APP.Xi(a)),$APP.pe(a))};gB.B=0;gB.F=function(a){return this.A($APP.x(a))};
$APP.hB=function hB(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=1<c.length?new $APP.Fd(c.slice(1),0,null):null;return hB.A(arguments[0],c)};
$APP.hB.A=function(a,b){b=$APP.ag(b);var c=$APP.Re.v(b,iB,$APP.Yi),d=function g(f){if(null==f)return null;if(null!=f?$APP.wd===f.yh||(f.Hd?0:$APP.zb(Sj,f)):$APP.zb(Sj,f))return Tj(f);if(f instanceof $APP.K)return c.o?c.o(f):c.call(null,f);if(f instanceof $APP.v)return $APP.t.o(f);if($APP.Ee(f)){var k={};f=$APP.x(f);for(var l=null,h=0,r=0;;)if(r<h){var q=l.fa(null,r),w=$APP.D.v(q,0,null);q=$APP.D.v(q,1,null);w=Vj(w,d);q=g(q);k[w]=q;r+=1}else if(f=$APP.x(f))$APP.He(f)?(h=$APP.bd(f),f=$APP.cd(f),l=h,
h=$APP.ge(h)):(h=$APP.y(f),l=$APP.D.v(h,0,null),h=$APP.D.v(h,1,null),l=Vj(l,d),h=g(h),k[l]=h,f=$APP.z(f),l=null,h=0),r=0;else break;return k}if($APP.Ae(f)){k=[];f=$APP.x($APP.wj.j(g,f));l=null;for(r=h=0;;)if(r<h)w=l.fa(null,r),k.push(w),r+=1;else if(f=$APP.x(f))l=f,$APP.He(l)?(f=$APP.bd(l),r=$APP.cd(l),l=f,h=$APP.ge(f),f=r):(f=$APP.y(l),k.push(f),f=$APP.z(l),l=null,h=0),r=0;else break;return k}return f};return d(a)};$APP.hB.B=1;$APP.hB.F=function(a){var b=$APP.y(a);a=$APP.z(a);return this.A(b,a)};
$APP.jB=function jB(a){switch(arguments.length){case 1:return jB.o(arguments[0]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new $APP.Fd(c.slice(1),0,null);return jB.A(arguments[0],c)}};$APP.jB.o=function(a){return $APP.jB.A(a,$APP.F([$APP.kB,!1]))};
$APP.jB.A=function(a,b){var c=$APP.ag(b);c=$APP.Re.j(c,$APP.kB);var d=$APP.p(c)?$APP.xj:$APP.t;return function g(f){return(null!=f?$APP.wd===f.Gi||(f.Hd?0:$APP.zb(Wj,f)):$APP.zb(Wj,f))?Xj(f,$APP.wg.j($APP.Up,b)):$APP.Le(f)?$APP.eo.o($APP.wj.j(g,f)):fh(f)?new $APP.Ue(g(ec(f)),g(fc(f)),null):$APP.Ae(f)?$APP.Nh.v($APP.qe(f),$APP.wj.o(g),f):vb(f)?$APP.Uc($APP.cf.v(function(k,l){return $APP.dh.j(k,g(l))},$APP.Sc($APP.ih),f)):$APP.Ab(f)===Object?$APP.Uc($APP.cf.v(function(k,l){return $APP.Qh.v(k,d.o?d.o(l):
d.call(null,l),g($APP.Ta(f,l)))},$APP.Sc($APP.$f),$APP.Sa(f))):f}(a)};$APP.jB.F=function(a){var b=$APP.y(a);a=$APP.z(a);return this.A(b,a)};$APP.jB.B=1;var lB=function lB(a){switch(arguments.length){case 1:return lB.o(arguments[0]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new $APP.Fd(c.slice(1),0,null);return lB.A(arguments[0],c)}};lB.o=function(a){for(;;)if(a=a.C?a.C():a.call(null),!$APP.te(a))return a};
lB.A=function(a,b){return lB.o(function(){return $APP.wg.j(a,b)})};lB.F=function(a){var b=$APP.y(a);a=$APP.z(a);return this.A(b,a)};lB.B=1;var fB=function fB(a){switch(arguments.length){case 0:return fB.C();case 1:return fB.o(arguments[0]);default:throw Error(["Invalid arity: ",$APP.t.o(arguments.length)].join(""));}};fB.C=function(){return fB.o(1)};fB.o=function(a){return Math.random()*a};fB.B=1;
var hk=null,mB=function mB(a){switch(arguments.length){case 2:return mB.j(arguments[0],arguments[1]);case 3:return mB.v(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",$APP.t.o(arguments.length)].join(""));}};mB.j=function(a,b){a=$APP.F([a,b]);$APP.wg.J($APP.Zj,$APP.ik(),mB,a);return null};
mB.v=function(a,b,c){function d(k,l,h,r,q){return $APP.cf.v(function(w,C){return $APP.Ni.v(w,C,$APP.cf.v($APP.tf,$APP.Re.v(q,C,$APP.Ri),$APP.wf(r,q.o?q.o(r):q.call(null,r))))},k,$APP.wf(l,h.o?h.o(l):h.call(null,l)))}var e=dk.o(a),f=ek.o(a),g=fk.o(a);if($APP.Te(e.o?e.o(b):e.call(null,b),c))b=null;else{if($APP.Te(g.o?g.o(b):g.call(null,b),c))throw Error([$APP.t.o(b),"already has",$APP.t.o(c),"as ancestor"].join(""));if($APP.Te(g.o?g.o(c):g.call(null,c),b))throw Error(["Cyclic derivation:",$APP.t.o(c),
"has",$APP.t.o(b),"as ancestor"].join(""));b=new $APP.n(null,3,[dk,$APP.Ni.v(dk.o(a),b,$APP.tf.j($APP.Re.v(e,b,$APP.Ri),c)),fk,d(fk.o(a),b,f,c,g),ek,d(ek.o(a),c,g,b,f)],null)}return $APP.p(b)?b:a};mB.B=3;var nB=function nB(a){switch(arguments.length){case 2:return nB.j(arguments[0],arguments[1]);case 3:return nB.v(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",$APP.t.o(arguments.length)].join(""));}};
nB.j=function(a,b){a=$APP.F([a,b]);$APP.wg.J($APP.Zj,$APP.ik(),nB,a);return null};nB.v=function(a,b,c){var d=dk.o(a),e=$APP.p(d.o?d.o(b):d.call(null,b))?$APP.Ts.j(d.o?d.o(b):d.call(null,b),c):$APP.Ri;e=$APP.p($APP.bg(e))?$APP.Ni.v(d,b,e):$APP.nm.j(d,b);e=$APP.Qg($APP.wj.j(function(f){return $APP.wf($APP.y(f),$APP.rm.j($APP.y(f),$APP.le(f)))},$APP.x(e)));return $APP.Te(d.o?d.o(b):d.call(null,b),c)?$APP.cf.v(function(f,g){return $APP.wg.v(mB,f,g)},gk(),$APP.ur.j(2,e)):a};nB.B=3;
var rk=function rk(a,b,c){var e=function(){var f=$APP.u(c);return f.o?f.o(a):f.call(null,a)}();e=$APP.p($APP.p(e)?e.o?e.o(b):e.call(null,b):e)?!0:null;if($APP.p(e))return e;e=function(){for(var f=nk(b);;)if(0<$APP.ge(f)){var g=$APP.y(f);rk.v?rk.v(a,g,c):rk.call(null,a,g,c);f=$APP.Jd(f)}else return null}();if($APP.p(e))return e;e=function(){for(var f=nk(a);;)if(0<$APP.ge(f)){var g=$APP.y(f);rk.v?rk.v(g,b,c):rk.call(null,g,b,c);f=$APP.Jd(f)}else return null}();return $APP.p(e)?e:!1},oB=function oB(a,
b,c,d,e,f,g,k){var h=$APP.cf.v(function(q,w){var C=$APP.D.v(w,0,null);$APP.D.v(w,1,null);if(kk($APP.u(c),b,C)){q=null==q||sk(C,$APP.y(q),e,$APP.u(c))?w:q;if(!sk($APP.y(q),C,e,$APP.u(c)))throw Error(["Multiple methods in multimethod '",$APP.t.o(a),"' match dispatch value: ",$APP.t.o(b)," -\x3e ",$APP.t.o(C)," and ",$APP.t.o($APP.y(q)),", and neither is preferred"].join(""));return q}return q},null,$APP.u(d)),r=function(){var q;if(q=null==h)q=$APP.u(d),q=q.o?q.o(k):q.call(null,k);return $APP.p(q)?new $APP.N(null,
2,5,$APP.O,[k,q],null):h}();if($APP.p(r)){if($APP.A.j($APP.u(g),$APP.u(c)))return $APP.Zj.J(f,$APP.Ni,b,$APP.le(r)),$APP.le(r);qk(f,d,g,c);return oB.za?oB.za(a,b,c,d,e,f,g,k):oB.call(null,a,b,c,d,e,f,g,k)}return null};$APP.m=$APP.Bk.prototype;
$APP.m.call=function(a){switch(arguments.length-1){case 0:return this.C();case 1:return this.o(arguments[1]);case 2:return this.j(arguments[1],arguments[2]);case 3:return this.v(arguments[1],arguments[2],arguments[3]);case 4:return this.J(arguments[1],arguments[2],arguments[3],arguments[4]);case 5:return this.S(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]);case 6:return this.qa(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6]);case 7:return this.Na(arguments[1],
arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7]);case 8:return this.za(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8]);case 9:return this.Oa(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9]);case 10:return this.Da(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10]);
case 11:return this.Ea(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11]);case 12:return this.Fa(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12]);case 13:return this.Ga(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],
arguments[11],arguments[12],arguments[13]);case 14:return this.Ha(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14]);case 15:return this.Ia(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15]);case 16:return this.Ja(arguments[1],
arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15],arguments[16]);case 17:return this.Ka(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15],arguments[16],arguments[17]);case 18:return this.La(arguments[1],arguments[2],
arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15],arguments[16],arguments[17],arguments[18]);case 19:return this.Ma(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15],arguments[16],arguments[17],arguments[18],arguments[19]);case 20:return this.rb(arguments[1],
arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15],arguments[16],arguments[17],arguments[18],arguments[19],arguments[20]);case 21:return this.Lc(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15],arguments[16],arguments[17],
arguments[18],arguments[19],arguments[20],arguments[21]);default:throw Error(["Invalid arity: ",$APP.t.o(arguments.length-1)].join(""));}};$APP.m.apply=function(a,b){return this.call.apply(this,[this].concat(Eb(b)))};$APP.m.C=function(){var a=this.ha.C?this.ha.C():this.ha.call(null),b=this.wb(null,a);$APP.p(b)||Ak(this.name,a);return b.C?b.C():b.call(null)};
$APP.m.o=function(a){var b=this.ha.o?this.ha.o(a):this.ha.call(null,a),c=this.wb(null,b);$APP.p(c)||Ak(this.name,b);return c.o?c.o(a):c.call(null,a)};$APP.m.j=function(a,b){var c=this.ha.j?this.ha.j(a,b):this.ha.call(null,a,b),d=this.wb(null,c);$APP.p(d)||Ak(this.name,c);return d.j?d.j(a,b):d.call(null,a,b)};$APP.m.v=function(a,b,c){var d=this.ha.v?this.ha.v(a,b,c):this.ha.call(null,a,b,c),e=this.wb(null,d);$APP.p(e)||Ak(this.name,d);return e.v?e.v(a,b,c):e.call(null,a,b,c)};
$APP.m.J=function(a,b,c,d){var e=this.ha.J?this.ha.J(a,b,c,d):this.ha.call(null,a,b,c,d),f=this.wb(null,e);$APP.p(f)||Ak(this.name,e);return f.J?f.J(a,b,c,d):f.call(null,a,b,c,d)};$APP.m.S=function(a,b,c,d,e){var f=this.ha.S?this.ha.S(a,b,c,d,e):this.ha.call(null,a,b,c,d,e),g=this.wb(null,f);$APP.p(g)||Ak(this.name,f);return g.S?g.S(a,b,c,d,e):g.call(null,a,b,c,d,e)};
$APP.m.qa=function(a,b,c,d,e,f){var g=this.ha.qa?this.ha.qa(a,b,c,d,e,f):this.ha.call(null,a,b,c,d,e,f),k=this.wb(null,g);$APP.p(k)||Ak(this.name,g);return k.qa?k.qa(a,b,c,d,e,f):k.call(null,a,b,c,d,e,f)};$APP.m.Na=function(a,b,c,d,e,f,g){var k=this.ha.Na?this.ha.Na(a,b,c,d,e,f,g):this.ha.call(null,a,b,c,d,e,f,g),l=this.wb(null,k);$APP.p(l)||Ak(this.name,k);return l.Na?l.Na(a,b,c,d,e,f,g):l.call(null,a,b,c,d,e,f,g)};
$APP.m.za=function(a,b,c,d,e,f,g,k){var l=this.ha.za?this.ha.za(a,b,c,d,e,f,g,k):this.ha.call(null,a,b,c,d,e,f,g,k),h=this.wb(null,l);$APP.p(h)||Ak(this.name,l);return h.za?h.za(a,b,c,d,e,f,g,k):h.call(null,a,b,c,d,e,f,g,k)};$APP.m.Oa=function(a,b,c,d,e,f,g,k,l){var h=this.ha.Oa?this.ha.Oa(a,b,c,d,e,f,g,k,l):this.ha.call(null,a,b,c,d,e,f,g,k,l),r=this.wb(null,h);$APP.p(r)||Ak(this.name,h);return r.Oa?r.Oa(a,b,c,d,e,f,g,k,l):r.call(null,a,b,c,d,e,f,g,k,l)};
$APP.m.Da=function(a,b,c,d,e,f,g,k,l,h){var r=this.ha.Da?this.ha.Da(a,b,c,d,e,f,g,k,l,h):this.ha.call(null,a,b,c,d,e,f,g,k,l,h),q=this.wb(null,r);$APP.p(q)||Ak(this.name,r);return q.Da?q.Da(a,b,c,d,e,f,g,k,l,h):q.call(null,a,b,c,d,e,f,g,k,l,h)};$APP.m.Ea=function(a,b,c,d,e,f,g,k,l,h,r){var q=this.ha.Ea?this.ha.Ea(a,b,c,d,e,f,g,k,l,h,r):this.ha.call(null,a,b,c,d,e,f,g,k,l,h,r),w=this.wb(null,q);$APP.p(w)||Ak(this.name,q);return w.Ea?w.Ea(a,b,c,d,e,f,g,k,l,h,r):w.call(null,a,b,c,d,e,f,g,k,l,h,r)};
$APP.m.Fa=function(a,b,c,d,e,f,g,k,l,h,r,q){var w=this.ha.Fa?this.ha.Fa(a,b,c,d,e,f,g,k,l,h,r,q):this.ha.call(null,a,b,c,d,e,f,g,k,l,h,r,q),C=this.wb(null,w);$APP.p(C)||Ak(this.name,w);return C.Fa?C.Fa(a,b,c,d,e,f,g,k,l,h,r,q):C.call(null,a,b,c,d,e,f,g,k,l,h,r,q)};
$APP.m.Ga=function(a,b,c,d,e,f,g,k,l,h,r,q,w){var C=this.ha.Ga?this.ha.Ga(a,b,c,d,e,f,g,k,l,h,r,q,w):this.ha.call(null,a,b,c,d,e,f,g,k,l,h,r,q,w),G=this.wb(null,C);$APP.p(G)||Ak(this.name,C);return G.Ga?G.Ga(a,b,c,d,e,f,g,k,l,h,r,q,w):G.call(null,a,b,c,d,e,f,g,k,l,h,r,q,w)};
$APP.m.Ha=function(a,b,c,d,e,f,g,k,l,h,r,q,w,C){var G=this.ha.Ha?this.ha.Ha(a,b,c,d,e,f,g,k,l,h,r,q,w,C):this.ha.call(null,a,b,c,d,e,f,g,k,l,h,r,q,w,C),M=this.wb(null,G);$APP.p(M)||Ak(this.name,G);return M.Ha?M.Ha(a,b,c,d,e,f,g,k,l,h,r,q,w,C):M.call(null,a,b,c,d,e,f,g,k,l,h,r,q,w,C)};
$APP.m.Ia=function(a,b,c,d,e,f,g,k,l,h,r,q,w,C,G){var M=this.ha.Ia?this.ha.Ia(a,b,c,d,e,f,g,k,l,h,r,q,w,C,G):this.ha.call(null,a,b,c,d,e,f,g,k,l,h,r,q,w,C,G),R=this.wb(null,M);$APP.p(R)||Ak(this.name,M);return R.Ia?R.Ia(a,b,c,d,e,f,g,k,l,h,r,q,w,C,G):R.call(null,a,b,c,d,e,f,g,k,l,h,r,q,w,C,G)};
$APP.m.Ja=function(a,b,c,d,e,f,g,k,l,h,r,q,w,C,G,M){var R=this.ha.Ja?this.ha.Ja(a,b,c,d,e,f,g,k,l,h,r,q,w,C,G,M):this.ha.call(null,a,b,c,d,e,f,g,k,l,h,r,q,w,C,G,M),W=this.wb(null,R);$APP.p(W)||Ak(this.name,R);return W.Ja?W.Ja(a,b,c,d,e,f,g,k,l,h,r,q,w,C,G,M):W.call(null,a,b,c,d,e,f,g,k,l,h,r,q,w,C,G,M)};
$APP.m.Ka=function(a,b,c,d,e,f,g,k,l,h,r,q,w,C,G,M,R){var W=this.ha.Ka?this.ha.Ka(a,b,c,d,e,f,g,k,l,h,r,q,w,C,G,M,R):this.ha.call(null,a,b,c,d,e,f,g,k,l,h,r,q,w,C,G,M,R),Z=this.wb(null,W);$APP.p(Z)||Ak(this.name,W);return Z.Ka?Z.Ka(a,b,c,d,e,f,g,k,l,h,r,q,w,C,G,M,R):Z.call(null,a,b,c,d,e,f,g,k,l,h,r,q,w,C,G,M,R)};
$APP.m.La=function(a,b,c,d,e,f,g,k,l,h,r,q,w,C,G,M,R,W){var Z=this.ha.La?this.ha.La(a,b,c,d,e,f,g,k,l,h,r,q,w,C,G,M,R,W):this.ha.call(null,a,b,c,d,e,f,g,k,l,h,r,q,w,C,G,M,R,W),ea=this.wb(null,Z);$APP.p(ea)||Ak(this.name,Z);return ea.La?ea.La(a,b,c,d,e,f,g,k,l,h,r,q,w,C,G,M,R,W):ea.call(null,a,b,c,d,e,f,g,k,l,h,r,q,w,C,G,M,R,W)};
$APP.m.Ma=function(a,b,c,d,e,f,g,k,l,h,r,q,w,C,G,M,R,W,Z){var ea=this.ha.Ma?this.ha.Ma(a,b,c,d,e,f,g,k,l,h,r,q,w,C,G,M,R,W,Z):this.ha.call(null,a,b,c,d,e,f,g,k,l,h,r,q,w,C,G,M,R,W,Z),ia=this.wb(null,ea);$APP.p(ia)||Ak(this.name,ea);return ia.Ma?ia.Ma(a,b,c,d,e,f,g,k,l,h,r,q,w,C,G,M,R,W,Z):ia.call(null,a,b,c,d,e,f,g,k,l,h,r,q,w,C,G,M,R,W,Z)};
$APP.m.rb=function(a,b,c,d,e,f,g,k,l,h,r,q,w,C,G,M,R,W,Z,ea){var ia=this.ha.rb?this.ha.rb(a,b,c,d,e,f,g,k,l,h,r,q,w,C,G,M,R,W,Z,ea):this.ha.call(null,a,b,c,d,e,f,g,k,l,h,r,q,w,C,G,M,R,W,Z,ea),ka=this.wb(null,ia);$APP.p(ka)||Ak(this.name,ia);return ka.rb?ka.rb(a,b,c,d,e,f,g,k,l,h,r,q,w,C,G,M,R,W,Z,ea):ka.call(null,a,b,c,d,e,f,g,k,l,h,r,q,w,C,G,M,R,W,Z,ea)};
$APP.m.Lc=function(a,b,c,d,e,f,g,k,l,h,r,q,w,C,G,M,R,W,Z,ea,ia){var ka=$APP.wg.A(this.ha,a,b,c,d,$APP.F([e,f,g,k,l,h,r,q,w,C,G,M,R,W,Z,ea,ia])),Y=this.wb(null,ka);$APP.p(Y)||Ak(this.name,ka);return $APP.wg.A(Y,a,b,c,d,$APP.F([e,f,g,k,l,h,r,q,w,C,G,M,R,W,Z,ea,ia]))};
$APP.m.sg=function(a,b,c){if($APP.p(rk(c,b,this.ke)))throw Error(["Preference conflict in multimethod '",$APP.t.o(this.name),"': ",$APP.t.o(c)," is already preferred to ",$APP.t.o(b)].join(""));$APP.Zj.j(this.ke,function(d){return $APP.Ni.v(d,b,$APP.tf.j($APP.Re.v(d,b,$APP.Ri),c))});return qk(this.rd,this.Sc,this.hd,this.Jd)};$APP.m.ug=function(a,b){$APP.Zj.v(this.Sc,$APP.nm,b);qk(this.rd,this.Sc,this.hd,this.Jd);return this};$APP.m.rg=function(){return $APP.u(this.Sc)};$APP.m.tg=function(){return $APP.u(this.ke)};
$APP.m.Qa=function(a,b,c){$APP.Zj.J(this.Sc,$APP.Ni,b,c);qk(this.rd,this.Sc,this.hd,this.Jd);return this};$APP.m.vg=function(){$APP.Zj.j(this.Sc,function(){return $APP.$f});$APP.Zj.j(this.rd,function(){return $APP.$f});$APP.Zj.j(this.ke,function(){return $APP.$f});$APP.Zj.j(this.hd,function(){return null});return this};
$APP.m.wb=function(a,b){$APP.A.j($APP.u(this.hd),$APP.u(this.Jd))||qk(this.rd,this.Sc,this.hd,this.Jd);a=$APP.u(this.rd);a=a.o?a.o(b):a.call(null,b);return $APP.p(a)?a:oB(this.name,b,this.Jd,this.Sc,this.ke,this.rd,this.hd,this.Nh)};$APP.m.Cd=function(){return ed(this.name)};$APP.m.Dd=function(){return fd(this.name)};$APP.m.ga=function(){return $APP.xa(this)};$APP.m=$APP.Dk.prototype;$APP.m.Af=$APP.wd;$APP.m.toString=function(){return this.uuid};$APP.m.Y=$APP.ha(1);
$APP.m.U=function(a,b){return(a=null!=b?$APP.wd===b.Af?!0:!1:!1)?this.uuid===b.uuid:a};$APP.m.Z=function(a,b){return $APP.Mc(b,['#uuid "',$APP.t.o(this.uuid),'"'].join(""))};$APP.m.ga=function(){null==this.N&&(this.N=$APP.xd(this.uuid));return this.N};$APP.m.hc=function(a,b){if(b instanceof $APP.Dk)return Ya(this.uuid,b.uuid);throw Error(["Cannot compare ",$APP.t.o(this)," to ",$APP.t.o(b)].join(""));};Fk.prototype.__proto__=Error.prototype;Fk.prototype.ta=$APP.wd;
Fk.prototype.Z=function(a,b,c){$APP.Mc(b,"#error {:message ");$APP.vj(this.message,b,c);$APP.p(this.data)&&($APP.Mc(b,", :data "),$APP.vj(this.data,b,c));$APP.p(this.cause)&&($APP.Mc(b,", :cause "),$APP.vj(this.cause,b,c));return $APP.Mc(b,"}")};Fk.prototype.toString=function(){return nd(this)};
$APP.zm=function zm(a){switch(arguments.length){case 2:return zm.j(arguments[0],arguments[1]);case 3:return zm.v(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",$APP.t.o(arguments.length)].join(""));}};$APP.zm.j=function(a,b){return $APP.zm.v(a,b,null)};$APP.zm.v=function(a,b,c){return new Fk(a,b,c)};$APP.zm.B=3;$APP.m=jl.prototype;$APP.m.toString=function(){return nd(this)};
$APP.m.U=function(a,b){return b instanceof jl&&$APP.A.j(this.tag,b.tag)&&$APP.A.j(this.form,b.form)};$APP.m.ga=function(){return 31*$APP.xd(this.tag)+$APP.xd(this.form)};$APP.m.sa=function(a,b){return this.V(null,b,null)};$APP.m.V=function(a,b,c){switch(b instanceof $APP.K?b.ia:null){case "tag":return this.tag;case "form":return this.form;default:return c}};$APP.m.Z=function(a,b,c){$APP.Mc(b,["#",$APP.t.o(this.tag)," "].join(""));return $APP.vj(this.form,b,c)};
var ll="arguments abstract await boolean break byte case catch char class const continue debugger default delete do double else enum export extends final finally float for function goto if implements import in instanceof int interface let long native new package private protected public return short static super switch synchronized this throw throws transient try typeof var void volatile while with yield methods null constructor".split(" "),kl=null;"undefined"!==typeof console&&sb();sb();var pB,qB,rB,sB,tB,uB,um,vB,wB,xB,yB,zB,AB,Qo,BB,ru,CB,DB,Uu,EB,FB,GB,sy,HB,IB,JB,MB,NB,OB,Iv,PB,QB,RB,SB,du,TB,On,fu,VB,WB,XB,YB,$B,aC,bC,cC,vm,dC,Yo,RA,eC,fC,gC,hC,iC,jC,kC,lC,mC,oC,pC,qC,rC,nu,sC,tC,uC,vC,vu,wC,xC,jq,yC,zC,BC,up,tv,CC,EC,FC,Fm,GC,HC,IC,JC,KC,LC,NC,PC,QC,SC,TC,UC,Lr,WC,XC,YC,ZC,$C,aD,Jo,bD,cD,dD,Tk,dk,eD,fD,gD,hD,iD,kD,mD,Mn,nD,Ly,oD,pD,ht,Kw,qD,Or,aB,hr,rD,sD,Cy,uD,wD,xD,yD,AD,fq,gw,Cv,to,Cp,BD,CD,DD,ED,iu,GD,HD,JD,KD,LD,MD,ND,OD,Bo,PD,QD,Kx,au,RD,SD,TD,UD,Gx,VD,WD,XD,cs,YD,Jv,
$D,aE,wv,Bj,Wu,bE,cE,dE,eE,fE,gE,hE,iE,Dm,ss,jE,Zo,kE,lE,mE,nE,it,Bp,oE,pE,qE,rE,sE,tE,uE,vE,wE,xE,zE,ek,AE,BE,CE,DE,kq,jk,kw,EE,FE,GE,Ro,Mp,HE,IE,JE,KE,LE,NE,fb,OE,PE,QE,RE,SE,UE,Nt,VE,eq,WE,YE,ZE,$E,aF,tt,bF,cF,dF,eF,fF,Xv,Bm,no,gF,lo,hF,iF,jF,lF,Ps,mF,nF,oF,pF,qF,rF,tF,qo,uF,Zv,vF,gl,wF,xF,yF,zF,AF,BF,CF,DF,EF,HF,IF,JF,ey,LF,su,NF,OF,PF,QF,RF,SF,zo,TF,UF,Hy,Pr,VF,zp,WF,XF,Np,ju,ZF,$F,aG,Ko,bG,cG,dG,eG,fG,gG,hG,iG,jG,kG,lG,mG,go,nG,oG,Zk,pG,qG,rG,sG,tG,uG,vG,xG,wp,yG,zG,AG,BG,CG,DG,vr,EG,FG,GG,
HG,IG,JG,lq,LG,MG,Mv,NG,OG,QG,RG,TG,UG,VG,WG,XG,YG,Jt,ZG,$G,qt,aH,bH,cH,dH,eH,Nr,fH,lm,gH,kv,hH,jH,Dn,kH,lH,mH,nH,oH,pH,qH,rH,sH,vw,wH,xH,yH,zH,AH,BH,CH,DH,EH,Eo,FH,GH,HH,IH,JH,KH,Pu,LH,MH,NH,nb,OH,PH,QH,Bn,RH,SH,TH,UH,VH,WH,YH,ZH,$H,aI,cI,eI,gI,hI,iI,Gw,lI,mI,oI,uw,pI,rI,tI,uI,vI,wI,xI,yI,zI,iy,BI,ty,CI,DI,EI,FI,GI,HI,II,Aw,JI,Mt,KI,LI,MI,ho,NI,OI,PI,Tu,QI,RI,SI,Xt,TI,UI,VI,WI,Nv,XI,kp,tu,YI,ZI,$I,bJ,cJ,dJ,ft,Go,eJ,fJ,lu,gJ,hJ,iJ,er,jJ,kJ,lJ,mJ,nJ,oJ,pJ,qJ,rJ,sJ,tJ,uJ,Vo,vJ,wJ,xJ,zJ,AJ,nv,BJ,CJ,
Pp,EJ,dB,FJ,HJ,IJ,JJ,$s,KJ,LJ,MJ,Ov,Dw,Ax,PJ,oj,QJ,RJ,SJ,TJ,UJ,VJ,WJ,XJ,Pk,at,YJ,ZJ,$J,aK,bK,cK,dK,jt,Nw,eK,fK,hK,iK,jK,kK,tw,ut,lK,$u,mK,Fr,nK,Kk,oK,pK,qK,rK,sK,tK,iv,Ev,uK,vK,wK,xK,bu,yK,zK,AK,BK,CK,DK,EK,FK,GK,HK,IK,JK,KK,mu,MK,OK,PK,QK,RK,SK,TK,UK,ym,VK,WK,Hw,zv,XK,mt,YK,ZK,$K,aL,bL,cL,$v,dL,bl,eL,fL,gL,hL,iL,jL,kL,lL,nL,oL,pL,qL,sL,tL,vL,wL,xL,yL,zL,AL,iq,BL,CL,xr,DL,EL,FL,Vk,Os,Mo,GL,IL,JL,KL,ML,NL,OL,PL,QL,RL,gt,SL,TL,UL,WL,XL,YL,ZL,$L,bM,hw,cM,dM,eM,fM,gM,hM,iM,jM,kM,lM,mM,uy,nM,oM,pM,qM,
rM,sM,tM,Op,bt,uM,vM,wM,xM,yM,zM,tp,AM,BM,Tt,CM,DM,EM,FM,GM,HM,JM,KM,vv,LM,Mw,MM,NM,dr,PM,QM,Zt,RM,SM,TM,UM,It,VM,WM,XM,YM,ZM,Kp,$M,Lv,aN,Rk,bN,Eu,cN,eN,fN,gN,hN,Qt,ct,iN,jN,nt,eu,lN,Li,mN,oN,qN,rN,sN,uN,Ir,wN,xN,yN,zN,AN,BN,CN,DN,EN,FN,GN,HN,Jx,IN,JN,KN,LN,Ow,MN,NN,Dv,uo,PN,QN,xp,RN,SN,TN,UN,VN,WN,XN,YN,ZN,$N,aO,bO,cO,dO,eO,fO,hO,jO,kO,lO,mO,hp,nO,oO,pO,qO,rO,sO,tO,vO,wO,xO,HQ,Aj,IQ,JQ,LQ,MQ,OQ,QQ,RQ,SQ,TQ,jr,UQ,VQ,WQ,XQ,YQ,ZQ,$Q,ts,aR,lb,bR,cR,dR,eR,fR,gR,hR,iR,jR,kR,lR,Pv,mR,nR,oR,pR,rR,Xk,sR,
tR,uR,vR,wR,Lt,xR,yR,zR,AR,BR,nq,CR,DR,cu,ER,FR,gp,GR,Lw,HR,IR,JR,KR,LR,wu,MR,NR,OR,Rn,bq,QR,RR,SR,TR,UR,wo,VR,WR,YR,aS,cS,dS,eS,fS,gS,Hv,hS,iS,jS,Zs,aaa,kS,Nn,baa,Xo,caa,lS,daa,mS,Rv,oS,pS,eaa,faa,gaa,haa,qS,pu,iaa,rS,mv,jaa,sS,ir,lt,laa,tS,uS,vS,maa,wS,Mx,naa,xS,oaa,yS,et,Lu,paa,zS,AS,Qp,qaa,raa,saa,taa,Do,uaa,vaa,xx,BS,fk,CS,DS,waa,xaa,Lk,yaa,zaa,Aaa,ES,Baa,Qv,Caa,Daa,Eaa,Faa,Gaa,GS,Haa,yr,Iaa,Yk,ou,IS,JS,Jaa,Io,Ok,ro,Kaa,Laa,iB,fv,Maa,Naa,Bt,Oaa,KS,gu,LS,Du,Paa,Qaa,Raa,MS,Saa,Ys,NS,Taa,OS,Uaa,
Vaa,mq,Cw,Waa,QS,Yt,RS,Xaa,SS,Yaa,TS,Zaa,US,VS,$aa,aba,Co,bba,fp,WS,cba,dba,YS,eba,fba,$S,aT,Lo,gba,vo,hba,iba,bT,jba,jn,kba,dT,lba,eT,mba,nba,Kn,oba,Kv,Zu,hT,pba,Fo,iT,jT,qba,rba,sba,kT,tba,uba,vba,wba,mT,xba,nT,yba,zba,Aba,dt,Bba,pT,qT,Cba,rT;pB=new $APP.K(null,"nil","nil",99600501);qB=new $APP.v(null,"message","message",1234475525,null);rB=new $APP.v(null,"extend-protocol","extend-protocol",306378578,null);sB=new $APP.v(null,"assoc-in","assoc-in",-113585743,null);
tB=new $APP.v(null,"ns-aliases","ns-aliases",-1364180948,null);uB=new $APP.v(null,"ident?","ident?",-2061359468,null);um=new $APP.K(null,"reader-exception","reader-exception",-1938323098);vB=new $APP.v(null,"*1","*1",2110258092,null);wB=new $APP.v(null,"*2","*2",1728229926,null);xB=new $APP.v(null,"*3","*3",105062009,null);yB=new $APP.v(null,"filterv","filterv",1977739179,null);zB=new $APP.v(null,"*reader-resolver*","*reader-resolver*",309718590,null);
AB=new $APP.v(null,"m__25282__auto__","m__25282__auto__",520475721,null);Qo=new $APP.K(null,"row","row",-570139521);BB=new $APP.v(null,"*e","*e",329170866,null);ru=new $APP.K(null,"load-fn","load-fn",-2121144334);CB=new $APP.v(null,"hash-map","hash-map",-439030950,null);DB=new $APP.v(null,"vary-meta","vary-meta",-1580067831,null);Uu=new $APP.K(null,"dotted-access","dotted-access",114961112);EB=new $APP.v(null,"apropos","apropos",-1511857537,null);FB=new $APP.v(null,"Error","Error",-1692662047,null);
GB=new $APP.v(null,"ns-refers","ns-refers",-2030918515,null);sy=new $APP.K(null,"reify-fn","reify-fn",-1360983316);HB=new $APP.v("cljs.core","ex-cause","cljs.core/ex-cause",1843478517,null);IB=new $APP.v(null,"not-any?","not-any?",-2114707554,null);JB=new $APP.v(null,"apply","apply",-1334050276,null);$APP.KB=new $APP.v(null,"when-let","when-let",-1383043480,null);$APP.Ru=new $APP.v(null,"cljs.core","cljs.core",770546058,null);$APP.LB=new $APP.v(null,"-\x3e\x3e","-\x3e\x3e",-1874332161,null);
MB=new $APP.v(null,"ifn?","ifn?",-2106461064,null);NB=new $APP.v(null,"-\x3eEduction","-\x3eEduction",-188511967,null);OB=new $APP.v(null,"c__27951__auto__","c__27951__auto__",841387947,null);Iv=new $APP.K(null,"fn-name","fn-name",-766594004);PB=new $APP.v(null,"merge","merge",-163787882,null);$APP.Ip=new $APP.K(null,"current","current",-1088038603);QB=new $APP.v(null,"qualified-symbol?","qualified-symbol?",98763807,null);RB=new $APP.v(null,"ns-obj","ns-obj",-635821906,null);
SB=new $APP.v(null,"letfn","letfn",-480490827,null);du=new $APP.K(null,"js-libs","js-libs",-502933721);TB=new $APP.v(null,"psym","psym",752521989,null);$APP.UB=new $APP.v(null,"-\x3e","-\x3e",-2139605430,null);On=new $APP.v(null,"Inf","Inf",647172781,null);fu=new $APP.K(null,"all","all",892129742);$APP.Ht=new $APP.K(null,"class","class",-2030961996);VB=new $APP.v(null,"nil?","nil?",1612038930,null);WB=new $APP.v(null,"temp__29783__auto__","temp__29783__auto__",-1310931672,null);
XB=new $APP.v(null,"uri?","uri?",2029475116,null);YB=new $APP.v(null,"cat","cat",182721320,null);$APP.ZB=new $APP.v(null,"..","..",-300507420,null);$B=new $APP.v(null,"read-char*","read-char*",1494526523,null);$APP.Sn=new $APP.K(null,"default","default",-1987822328);aC=new $APP.v(null,"object-array","object-array",206434647,null);bC=new $APP.v(null,"nnext","nnext",-2065435598,null);cC=new $APP.v("cljs.core","chunk-first","cljs.core/chunk-first",-1157877305,null);
vm=new $APP.K(null,"ex-kind","ex-kind",1581199296);dC=new $APP.v(null,"sorted-map-by","sorted-map-by",218894812,null);Yo=new $APP.K("edamame","opened-delimiter","edamame/opened-delimiter",-1906008305);RA=new $APP.K("cljs.core","none","cljs.core/none",926646439);eC=new $APP.v("cljs.reader","read-date","cljs.reader/read-date",1663417238,null);fC=new $APP.v(null,"params*","params*",336153603,null);gC=new $APP.v(null,"sci.impl.records","sci.impl.records",-393424368,null);
hC=new $APP.v(null,"unreduced","unreduced",780976083,null);iC=new $APP.v(null,"add-watch","add-watch",1389887634,null);jC=new $APP.v(null,"-new-dynamic-var","-new-dynamic-var",-1029088918,null);kC=new $APP.v(null,"pop-thread-bindings","pop-thread-bindings",-1312224790,null);lC=new $APP.v("cljs.analyzer.api","resolve","cljs.analyzer.api/resolve",498213843,null);mC=new $APP.v(null,"unchecked-byte","unchecked-byte",1091664664,null);$APP.nC=new $APP.v(null,"opts","opts",1795607228,null);
oC=new $APP.v(null,"remove-all-methods","remove-all-methods",-728267092,null);pC=new $APP.v(null,"initch","initch",946908919,null);qC=new $APP.v("clojure.repl","source-fn","clojure.repl/source-fn",1877923323,null);rC=new $APP.v(null,"uuid?","uuid?",400077689,null);nu=new $APP.K(null,"reload","reload",863702807);sC=new $APP.v("cljs.core","atom","cljs.core/atom",1943839529,null);tC=new $APP.v(null,"quoted-ns","quoted-ns",-2054280928,null);uC=new $APP.v(null,"first","first",996428481,null);
vC=new $APP.v("cljs.tools.reader.impl.commons","parse-symbol","cljs.tools.reader.impl.commons/parse-symbol",-903976395,null);vu=new $APP.K(null,"opts","opts",155075701);wC=new $APP.v(null,"fnil","fnil",-187395162,null);xC=new $APP.v(null,"reduced","reduced",-1189224808,null);jq=new $APP.K(null,"location?","location?",425878086);yC=new $APP.v(null,"pop!","pop!",-1253383511,null);zC=new $APP.v(null,"unchecked-negate-int","unchecked-negate-int",-825297602,null);
$APP.AC=new $APP.v(null,"bindings","bindings",-1383038577,null);BC=new $APP.v(null,"unchecked-add-int","unchecked-add-int",-1821763285,null);up=new $APP.K("edamame.impl.parser","suppress","edamame.impl.parser/suppress",1718484755);tv=new $APP.K(null,"fn-expr","fn-expr",-933027985);CC=new $APP.v("clojure.core","multi-fn-add-method-impl","clojure.core/multi-fn-add-method-impl",-1293834231,null);$APP.DC=new $APP.v("cljs.core","nil?","cljs.core/nil?",945071861,null);
EC=new $APP.v("clojure.core","-new-dynamic-var","clojure.core/-new-dynamic-var",-1873937019,null);FC=new $APP.v(null,"method__25287__auto__","method__25287__auto__",486821141,null);Fm=new $APP.K(null,"eof","eof",-489063237);GC=new $APP.v(null,"ret__32571__auto__","ret__32571__auto__",-577051238,null);HC=new $APP.v(null,"defrecord","defrecord",273038109,null);IC=new $APP.v(null,"even?","even?",-1827825394,null);JC=new $APP.v(null,"neg?","neg?",-1902175577,null);
KC=new $APP.v(null,"float","float",-91857841,null);LC=new $APP.v(null,"chunk","chunk",449371907,null);$APP.MC=new $APP.K(null,"queue","queue",1455835879);NC=new $APP.v("cljs.core","fnil","cljs.core/fnil",479587341,null);$APP.OC=new $APP.v(null,"if-let","if-let",1803593690,null);PC=new $APP.v(null,"object?","object?",327472310,null);QC=new $APP.v(null,"c__28334__auto__","c__28334__auto__",1856516612,null);$APP.RC=new $APP.K(null,"end","end",-268185958);
SC=new $APP.v(null,"parent","parent",761652748,null);TC=new $APP.v("clojure.core","-new-var","clojure.core/-new-var",363339052,null);UC=new $APP.v(null,"not-native","not-native",-236392494,null);Lr=new $APP.K(null,"env","env",-1815813235);$APP.VC=new $APP.v(null,"error","error",661562495,null);WC=new $APP.v(null,"*print-fn*","*print-fn*",138509853,null);XC=new $APP.v("js","Number","js/Number",-508133572,null);YC=new $APP.v(null,"system-time","system-time",1690633727,null);
ZC=new $APP.K(null,"deftype-fields","deftype-fields",-222569172);$C=new $APP.K(null,"post","post",269697687);aD=new $APP.v(null,"pos?","pos?",-244377722,null);Jo=new $APP.K(null,"col-key","col-key",-2009675766);bD=new $APP.K("sci.impl","type-name","sci.impl/type-name",-1528979388);cD=new $APP.v(null,"array","array",-440182315,null);dD=new $APP.v(null,"ns-interns","ns-interns",535532824,null);Tk=new $APP.v(null,"letfn*","letfn*",-110097810,null);dk=new $APP.K(null,"parents","parents",-2027538891);
eD=new $APP.v(null,"unchecked-dec-int","unchecked-dec-int",1339067442,null);fD=new $APP.v(null,"bit-shift-left","bit-shift-left",-1814765981,null);gD=new $APP.v(null,"take-last","take-last",-41013151,null);hD=new $APP.v(null,"-\x3etype-impl","-\x3etype-impl",483401048,null);iD=new $APP.v(null,"short","short",-725675253,null);$APP.jD=new $APP.v(null,"atom","atom",1243487874,null);kD=new $APP.v(null,"symbol?","symbol?",1820680511,null);$APP.lD=new $APP.v(null,"defmacro","defmacro",2054157304,null);
mD=new $APP.v(null,"tagged-literal","tagged-literal",-896422703,null);Mn=new $APP.v(null,"NaN","NaN",666918153,null);nD=new $APP.K(null,"end-col","end-col",-724155879);Ly=new $APP.K("sci.core","eof","sci.core/eof",-808584945);oD=new $APP.v(null,"extends?","extends?",-2012201234,null);pD=new $APP.v(null,"bit-set","bit-set",-910710655,null);ht=new $APP.v(null,"farg__25997__auto__","farg__25997__auto__",1420628334,null);Kw=new $APP.K("clojure.core","eval-file","clojure.core/eval-file",801420726);
qD=new $APP.v(null,"protocol-type-impl","protocol-type-impl",561934718,null);Or=new $APP.K(null,"phase","phase",575722892);aB=new $APP.K(null,"ready","ready",1086465795);hr=new $APP.K("sci.impl","f-meta","sci.impl/f-meta",-1735495322);rD=new $APP.v(null,"doc-string?","doc-string?",393166599,null);sD=new $APP.v(null,"IRecord","IRecord",-903221169,null);$APP.V=new $APP.K(null,"arglists","arglists",1661989754);Cy=new $APP.K(null,"verbose?","verbose?",1244836832);
$APP.tD=new $APP.v(null,"when-first","when-first",821699168,null);uD=new $APP.v("cljs.core","declare","cljs.core/declare",1312638100,null);$APP.vD=new $APP.K(null,"end-column","end-column",1425389514);wD=new $APP.v(null,"odd?","odd?",-1458588199,null);xD=new $APP.v("cljs.core","alter-var-root","cljs.core/alter-var-root",-1342668238,null);yD=new $APP.v(null,"split-with","split-with",1853047034,null);$APP.zD=new $APP.v("cljs.core","when","cljs.core/when",120293186,null);
AD=new $APP.v(null,"prefer-method","prefer-method",-876100205,null);fq=new $APP.K(null,"unquote-splicing","unquote-splicing",1295267556);gw=new $APP.K("sci.impl.analyzer","instance-expr","sci.impl.analyzer/instance-expr",629338719);Cv=new $APP.K(null,"copy-enclosed-\x3einvocation","copy-enclosed-\x3einvocation",-1322388729);to=new $APP.v("clojure.core","sequence","clojure.core/sequence",1998774218,null);Cp=new $APP.K(null,"expr","expr",745722291);BD=new $APP.v(null,"bit-or","bit-or",-1144943723,null);
CD=new $APP.v(null,"sci.impl.protocols","sci.impl.protocols",-697012432,null);DD=new $APP.v("js","Boolean","js/Boolean",1661145260,null);ED=new $APP.v(null,"find","find",2136810983,null);$APP.FD=new $APP.v(null,"key","key",124488940,null);iu=new $APP.K(null,"loaded-libs","loaded-libs",-1156389652);GD=new $APP.K("sci.impl.protocols","reified","sci.impl.protocols/reified",-2019939396);HD=new $APP.v(null,"count","count",-514511684,null);$APP.ID=new $APP.v(null,"binding","binding",-2114503176,null);
JD=new $APP.v("sci.impl.deftype","-create-type","sci.impl.deftype/-create-type",-1020101113,null);KD=new $APP.v(null,"IDeref","IDeref",1738423197,null);LD=new $APP.v(null,"args__25107__auto__","args__25107__auto__",1766239054,null);MD=new $APP.v(null,"when-some","when-some",1700415903,null);ND=new $APP.v(null,"remove-ns","remove-ns",-1915058781,null);OD=new $APP.v(null,"-swap!","-swap!",-535359318,null);Bo=new $APP.K(null,"resolve-symbol","resolve-symbol",-319166964);
PD=new $APP.v("cljs.core","push-thread-bindings","cljs.core/push-thread-bindings",-703482450,null);QD=new $APP.v(null,"number?","number?",-1747282210,null);Kx=new $APP.K("sci.impl.parser.edamame","eof","sci.impl.parser.edamame/eof",-917261517);au=new $APP.K(null,"exclude","exclude",-1230250334);RD=new $APP.v(null,"unchecked-subtract","unchecked-subtract",-2137458667,null);SD=new $APP.v(null,"iterys__28332__auto__","iterys__28332__auto__",1388056700,null);
TD=new $APP.v("cljs.core","when-first","cljs.core/when-first",-667185267,null);UD=new $APP.v(null,"sort","sort",-1700969851,null);Gx=new $APP.K("sci.impl.record","map-constructor","sci.impl.record/map-constructor",1072184780);VD=new $APP.v("cljs.core","in-ns","cljs.core/in-ns",1807208747,null);WD=new $APP.v(null,"juxt","juxt",671085604,null);XD=new $APP.v("cljs.core","when-let","cljs.core/when-let",-2049838349,null);$APP.$r=new $APP.K(null,"body","body",-2049205669);
cs=new $APP.K(null,"special","special",-1125941630);YD=new $APP.v(null,"alength","alength",-1268305401,null);Jv=new $APP.K(null,"outer-idens","outer-idens",1197381241);$APP.ZD=new $APP.v(null,"with-redefs","with-redefs",-1143728263,null);$D=new $APP.v(null,"nfirst","nfirst",-554736533,null);aE=new $APP.v(null,"volatile!","volatile!",919368405,null);wv=new $APP.K(null,"closure-bindings","closure-bindings",112932037);Bj=new $APP.K(null,"fallback-impl","fallback-impl",-1501286995);
$APP.T=new $APP.K(null,"name","name",1843675177);Wu=new $APP.K(null,"syms","syms",-1575891762);bE=new $APP.v(null,"reset-meta!","reset-meta!",1699493291,null);cE=new $APP.v(null,"do-template","do-template",-1578627476,null);dE=new $APP.v(null,"map?","map?",-1780568534,null);eE=new $APP.v(null,"into","into",1489695498,null);fE=new $APP.v(null,"sorted-set","sorted-set",992325424,null);gE=new $APP.v(null,"ints","ints",-1761239845,null);hE=new $APP.v(null,"contains?","contains?",-1676812576,null);
iE=new $APP.v(null,"-deref","-deref",-283116853,null);Dm=new $APP.K(null,"illegal-argument","illegal-argument",-1845493170);ss=new $APP.K(null,"class-\x3eopts","class-\x3eopts",2061906477);jE=new $APP.v(null,"index-of","index-of",1275975485,null);Zo=new $APP.K("edamame","opened-delimiter-loc","edamame/opened-delimiter-loc",443885208);kE=new $APP.v(null,"all-ns","all-ns",1571857784,null);lE=new $APP.v(null,"with-bindings","with-bindings",-1197589787,null);
mE=new $APP.v(null,"js-keys","js-keys",-1388365203,null);$APP.kB=new $APP.K(null,"keywordize-keys","keywordize-keys",1310784252);nE=new $APP.v(null,"inst","inst",-2008473268,null);it=new $APP.v(null,"m__25998__auto__","m__25998__auto__",1893910719,null);Bp=new $APP.K(null,"auto-resolve","auto-resolve",1851201983);oE=new $APP.v(null,"int?","int?",1799729645,null);pE=new $APP.v("cljs.core","next","cljs.core/next",-1291438473,null);$APP.cm=new $APP.K(null,"buffer","buffer",617295198);
qE=new $APP.v(null,"empty?","empty?",76408555,null);rE=new $APP.v(null,"lazy-cat","lazy-cat",-89906116,null);sE=new $APP.v(null,"*print-readably*","*print-readably*",-761361221,null);tE=new $APP.v(null,"temp__29836__auto__","temp__29836__auto__",804917089,null);uE=new $APP.v(null,"dissoc","dissoc",1039760994,null);vE=new $APP.v("cljs.core","refer","cljs.core/refer",269577817,null);wE=new $APP.v(null,"replace-first","replace-first",-943534331,null);xE=new $APP.K(null,"const","const",1709929842);
$APP.yE=new $APP.v(null,"meta","meta",-1154898805,null);zE=new $APP.v(null,"reader","reader",1810192380,null);ek=new $APP.K(null,"descendants","descendants",1824886031);AE=new $APP.K("sci.impl.deftype","object","sci.impl.deftype/object",-248099673);BE=new $APP.v(null,"str","str",-1564826950,null);CE=new $APP.v(null,"type-sym","type-sym",-1942856509,null);DE=new $APP.v(null,"IPrintWithWriter","IPrintWithWriter",-1205316154,null);kq=new $APP.K(null,"end-location","end-location",-1199449467);
jk=new $APP.K("sci","error","sci/error",-979082803);kw=new $APP.K("sci.impl","constructor","sci.impl/constructor",1320345666);EE=new $APP.v(null,"*print-err-fn*","*print-err-fn*",1241679298,null);FE=new $APP.v(null,"print-str","print-str",-699700354,null);GE=new $APP.v(null,"fn-tail","fn-tail",-178337841,null);Ro=new $APP.K("edamame","error","edamame/error",882529634);$APP.xy=new $APP.K(null,"val","val",128701612);Mp=new $APP.K(null,"var","var",-769682797);
HE=new $APP.v(null,"get","get",-971253014,null);IE=new $APP.v(null,"dispatch-fn","dispatch-fn",-1401088155,null);JE=new $APP.v(null,"ex-cause","ex-cause",95392590,null);$APP.as=new $APP.v("cljs.core","let","cljs.core/let",-308701135,null);KE=new $APP.v(null,"xs__29828__auto__","xs__29828__auto__",-1522331455,null);LE=new $APP.v(null,"remove","remove",1509103113,null);$APP.ME=new $APP.K(null,"variadic?","variadic?",584179762);NE=new $APP.v(null,"isa?","isa?",1358492324,null);
fb=new $APP.K(null,"flush-on-newline","flush-on-newline",-151457939);OE=new $APP.v(null,"iterate","iterate",694501410,null);PE=new $APP.v(null,"backslash","backslash",-863649243,null);QE=new $APP.v(null,"-add-loaded-lib","-add-loaded-lib",368206419,null);RE=new $APP.v(null,"mapv","mapv",-241595241,null);SE=new $APP.v(null,"deref","deref",1494944732,null);$APP.TE=new $APP.v(null,"loop","loop",1244978678,null);UE=new $APP.v("cljs.core","assoc","cljs.core/assoc",322326297,null);
Nt=new $APP.K(null,"public-class","public-class",1127293019);VE=new $APP.v(null,"map-invert","map-invert",1258886340,null);eq=new $APP.K(null,"unquote","unquote",1649741032);WE=new $APP.v(null,"docstring?","docstring?",-180217883,null);$APP.XE=new $APP.v(null,"boolean","boolean",-278886877,null);YE=new $APP.v(null,"bytes","bytes",-1478569089,null);ZE=new $APP.v(null,"vector","vector",-751469611,null);$E=new $APP.v("cljs.reader","read-string","cljs.reader/read-string",589673466,null);
aF=new $APP.v(null,"long","long",1469079434,null);tt=new $APP.K(null,"satisfies","satisfies",-311664218);bF=new $APP.v(null,"butlast","butlast",1573039585,null);cF=new $APP.v(null,"delay?","delay?",-1528239209,null);dF=new $APP.v("clojure.repl","print-doc","clojure.repl/print-doc",-375546711,null);eF=new $APP.v(null,"tag","tag",350170304,null);fF=new $APP.v(null,"unquote","unquote",-1004694737,null);Xv=new $APP.K("sci.impl.evaluator","not-found","sci.impl.evaluator/not-found",1684798426);
Bm=new $APP.K(null,"reader-error","reader-error",1610253121);no=new $APP.v(null,"%\x26","%\x26",-728707069,null);gF=new $APP.v(null,"bit-not","bit-not",1508529851,null);lo=new $APP.v(null,"%1","%1",1309450150,null);hF=new $APP.v(null,"sym","sym",195671222,null);iF=new $APP.v(null,"names","names",-302543131,null);jF=new $APP.v(null,"int-array","int-array",459176616,null);$APP.kF=new $APP.K(null,"deprecated","deprecated",1498275348);
lF=new $APP.v(null,"reset-thread-binding-frame-impl","reset-thread-binding-frame-impl",-826674194,null);Ps=new $APP.v(null,"global-hierarchy","global-hierarchy",-2014004345,null);mF=new $APP.v(null,"aget","aget",1491056546,null);nF=new $APP.v("sci.impl.protocols","default","sci.impl.protocols/default",-1134880191,null);$APP.An=new $APP.K(null,"symbol","symbol",-1038572696);oF=new $APP.v(null,"not-every?","not-every?",-729672558,null);pF=new $APP.v(null,"comment","comment",-2122229700,null);
qF=new $APP.v("js","String","js/String",-2070054036,null);rF=new $APP.v("cljs.core","lazy-seq","cljs.core/lazy-seq",627681297,null);$APP.sF=new $APP.v(null,"doseq","doseq",221164135,null);tF=new $APP.v("cljs.core","prn","cljs.core/prn",1725204552,null);qo=new $APP.v("clojure.core","list","clojure.core/list",-1119203325,null);uF=new $APP.v(null,"some-\x3e","some-\x3e",-1011172200,null);Zv=new $APP.v("js","Error","js/Error",-1692659266,null);
vF=new $APP.v("cljs.core","with-bindings*","cljs.core/with-bindings*",-768558084,null);gl=new $APP.v(null,"throw","throw",595905694,null);wF=new $APP.v(null,"seqable?","seqable?",72462495,null);xF=new $APP.v(null,"indexed?","indexed?",1234610384,null);yF=new $APP.K(null,"when","when",-576417306);zF=new $APP.K("sci.impl.protocols","IPrintWithWriter","sci.impl.protocols/IPrintWithWriter",1832791161);AF=new $APP.v(null,"compare-and-set!","compare-and-set!",-1997299382,null);
BF=new $APP.K(null,"extend-via-metadata","extend-via-metadata",-427346794);CF=new $APP.v(null,"union","union",-511498270,null);DF=new $APP.v(null,"zero?","zero?",325758897,null);EF=new $APP.v(null,"partition-all","partition-all",-1985005385,null);$APP.GF=new $APP.v(null,"run!","run!",-2055483725,null);HF=new $APP.v("cljs.core","-add-loaded-lib","cljs.core/-add-loaded-lib",-38500354,null);IF=new $APP.v(null,"specs","specs",-1227865028,null);JF=new $APP.v(null,"rand-int","rand-int",-495012157,null);
$APP.KF=new $APP.v(null,"rest","rest",398835108,null);ey=new $APP.v(null,"user","user",-1122004413,null);LF=new $APP.v(null,"set","set",1945134081,null);$APP.MF=new $APP.K(null,"prefix","prefix",-265908465);su=new $APP.K(null,"namespace","namespace",-377510372);NF=new $APP.v(null,"take-nth","take-nth",1378204353,null);OF=new $APP.v(null,"drop-while","drop-while",719206685,null);$APP.$k=new $APP.v(null,"fn*","fn*",-752876845,null);PF=new $APP.v(null,"seq","seq",-177272256,null);
QF=new $APP.v(null,"fn?","fn?",1820990818,null);$APP.pq=new $APP.K(null,"dispatch","dispatch",1319337009);RF=new $APP.v("clojure.core","cond","clojure.core/cond",1906951420,null);SF=new $APP.v(null,"remove-method","remove-method",72923733,null);zo=new $APP.K(null,"gensyms","gensyms",248713782);TF=new $APP.v(null,"get-method","get-method",185754457,null);UF=new $APP.v(null,"update-in","update-in",-1445516941,null);Hy=new $APP.K(null,"src","src",-1651076051);Pr=new $APP.K(null,"message","message",-406056002);
VF=new $APP.v("cljs.core","LazySeq","cljs.core/LazySeq",1986389673,null);zp=new $APP.K("edamame","read-cond-splicing","edamame/read-cond-splicing",-1992728777);WF=new $APP.v("cljs.core","count","cljs.core/count",-921270233,null);$APP.aw=new $APP.K(null,"ex","ex",-1413771341);XF=new $APP.v(null,"keep","keep",-492807003,null);$APP.YF=new $APP.v("cljs.core","fn","cljs.core/fn",-1065745098,null);Np=new $APP.K(null,"fn","fn",-1175266204);ju=new $APP.v(null,"*loaded-libs*","*loaded-libs*",1951428860,null);
ZF=new $APP.v(null,"create-ns","create-ns",-782886354,null);$F=new $APP.v("cljs.tools.reader.edn","escape-char","cljs.tools.reader.edn/escape-char",17562632,null);aG=new $APP.v(null,"sort-by","sort-by",1317932224,null);Ko=new $APP.K(null,"end-row-key","end-row-key",-1126662680);bG=new $APP.v(null,"defprotocol","defprotocol",1388695348,null);cG=new $APP.v(null,"frequencies","frequencies",1757430425,null);dG=new $APP.v("cljs.core","defonce","cljs.core/defonce",-1291833100,null);
eG=new $APP.v(null,"into-array","into-array",-1875808354,null);fG=new $APP.v(null,"args__25280__auto__","args__25280__auto__",-1371818073,null);gG=new $APP.v(null,"thread-bound?","thread-bound?",2075334115,null);hG=new $APP.v(null,"transduce","transduce",-2083619734,null);iG=new $APP.v(null,"ancestors","ancestors",864486103,null);jG=new $APP.v("cljs.core","chunk-cons","cljs.core/chunk-cons",-250075688,null);kG=new $APP.K(null,"volatile-mutable","volatile-mutable",1731728411);
lG=new $APP.v(null,"ensure-reduced","ensure-reduced",-1606421005,null);mG=new $APP.v(null,"re-find","re-find",1143444147,null);go=new $APP.K(null,"max-fixed","max-fixed",166770124);nG=new $APP.v("js","Error.","js/Error.",750655924,null);oG=new $APP.v(null,"rand","rand",-1745930995,null);Zk=new $APP.v(null,"js*","js*",-1134233646,null);pG=new $APP.v("cljs.core","println","cljs.core/println",-331834442,null);qG=new $APP.v(null,"x__25284__auto__","x__25284__auto__",1481052099,null);
rG=new $APP.K("sci.impl","record","sci.impl/record",-1939193950);sG=new $APP.v(null,"meta__25286__auto__","meta__25286__auto__",-533362591,null);tG=new $APP.v(null,"gensym","gensym",-1693147401,null);$APP.wr=new $APP.K(null,"as","as",1148689641);uG=new $APP.v(null,"*print-length*","*print-length*",-687693654,null);vG=new $APP.v(null,"js-\x3eclj","js-\x3eclj",1544462432,null);$APP.wG=new $APP.v("cljs.core","and","cljs.core/and",-6692549,null);
xG=new $APP.v("cljs.core","reify*","cljs.core/reify*",1256833160,null);wp=new $APP.K(null,"read-cond","read-cond",1056899244);yG=new $APP.v("js","Function","js/Function",-749892063,null);zG=new $APP.v(null,"unchecked-char","unchecked-char",1662742943,null);AG=new $APP.v(null,"unchecked-int","unchecked-int",1672898125,null);BG=new $APP.v("cljs.core","int","cljs.core/int",20935062,null);CG=new $APP.v(null,"unchecked-multiply-int","unchecked-multiply-int",-788546068,null);
$APP.Un=new $APP.K(null,"column","column",2078222095);DG=new $APP.K(null,"ok","ok",967785236);vr=new $APP.K(null,"or","or",235744169);EG=new $APP.v(null,"unchecked-inc","unchecked-inc",-1170131490,null);FG=new $APP.v(null,"number-literal?","number-literal?",843787662,null);GG=new $APP.v(null,"prn-str","prn-str",-145225943,null);HG=new $APP.v(null,"rename-keys","rename-keys",355340888,null);IG=new $APP.v(null,"max-key","max-key",-2132814732,null);
JG=new $APP.v(null,"get-thread-binding-frame-impl","get-thread-binding-frame-impl",-701667726,null);lq=new $APP.K(null,"obj","obj",981763962);$APP.KG=new $APP.v(null,"form","form",16469056,null);LG=new $APP.v(null,"object","object",-1179821820,null);MG=new $APP.v(null,"conj!","conj!",-841007895,null);Mv=new $APP.K(null,"bodies","bodies",-1295887172);NG=new $APP.v(null,"alias","alias",-399220103,null);OG=new $APP.v(null,"parents","parents",-387007364,null);
$APP.PG=new $APP.v(null,"value","value",1946509744,null);QG=new $APP.v(null,"keyword?","keyword?",1917797069,null);RG=new $APP.K(null,"form","form",-1624062471);$APP.SG=new $APP.v("cljs.core","or","cljs.core/or",1201033885,null);TG=new $APP.v(null,"disj!","disj!",-1383872088,null);UG=new $APP.K("sci.error","realized-beyond-max","sci.error/realized-beyond-max",-1094268187);VG=new $APP.v(null,"*print-meta*","*print-meta*",-919406644,null);WG=new $APP.v(null,"counted?","counted?",1703071664,null);
XG=new $APP.v("cljs.core","protocol-type-impl","cljs.core/protocol-type-impl",155177701,null);YG=new $APP.v(null,"cljs.core.PersistentQueue.EMPTY","cljs.core.PersistentQueue.EMPTY",399917828,null);Jt=new $APP.K("sci.impl.evaluator","try-result","sci.impl.evaluator/try-result",-1394897780);ZG=new $APP.v(null,"s__28621__auto__","s__28621__auto__",-1884040260,null);$G=new $APP.v(null,"descendants","descendants",-829549738,null);qt=new $APP.v("cljs.core","defmethod","cljs.core/defmethod",-180785162,null);
aH=new $APP.v(null,"long-array","long-array",217579190,null);$APP.$q=new $APP.K(null,"ns","ns",441598760);bH=new $APP.v(null,"m__26458__auto__","m__26458__auto__",146951429,null);cH=new $APP.v(null,"associative?","associative?",-141666771,null);dH=new $APP.v(null,"amap","amap",635923055,null);eH=new $APP.v(null,"concat","concat",-467652465,null);Nr=new $APP.K("sci.impl","callstack","sci.impl/callstack",-1621010557);fH=new $APP.v(null,"as-\x3e","as-\x3e",1430690540,null);
lm=new $APP.K(null,"source","source",-433931539);gH=new $APP.K("sci.impl.records","object","sci.impl.records/object",-590699738);kv=new $APP.v(null,"for","for",316745208,null);hH=new $APP.v(null,"oldform","oldform",1995222417,null);$APP.iH=new $APP.v(null,"condp","condp",1054325175,null);jH=new $APP.v(null,"else","else",132154381,null);Dn=new $APP.K(null,"keyword","keyword",811389747);kH=new $APP.v(null,"reduced?","reduced?",1361797384,null);lH=new $APP.v(null,"var-get","var-get",-767472097,null);
mH=new $APP.v(null,"trimr","trimr",-1739157155,null);nH=new $APP.v(null,"triml","triml",-286546306,null);oH=new $APP.v(null,"join","join",881669637,null);pH=new $APP.v(null,"*file*","*file*",624866474,null);qH=new $APP.v(null,"binding-conveyor-fn","binding-conveyor-fn",2076077877,null);rH=new $APP.v(null,"re-seq","re-seq",-2105554076,null);sH=new $APP.v(null,"bit-xor","bit-xor",-1334295033,null);$APP.Mr=new $APP.K(null,"id","id",-1388402092);$APP.tH=new $APP.K(null,"else","else",-1508377146);
$APP.uH=new $APP.v(null,"defn","defn",-126010802,null);vw=new $APP.K(null,"local-\x3emutator","local-\x3emutator",1004070878);$APP.vH=new $APP.v("cljs.core","aset","cljs.core/aset",-898215545,null);$APP.Hn=new $APP.K(null,"set","set",304602554);wH=new $APP.v(null,"unchecked-add","unchecked-add",-2030665965,null);xH=new $APP.v(null,"memfn","memfn",-881453486,null);yH=new $APP.v(null,"ffirst","ffirst",-694902E3,null);zH=new $APP.v(null,"x__28622__auto__","x__28622__auto__",-980824533,null);
AH=new $APP.v(null,"bounded-count","bounded-count",1030640883,null);BH=new $APP.v(null,"swap!","swap!",-655677516,null);$APP.wt=new $APP.K(null,"protocol","protocol",652470118);CH=new $APP.v(null,"capitalize","capitalize",-2143275164,null);DH=new $APP.v(null,"bound-fn*","bound-fn*",102308621,null);EH=new $APP.v(null,"prefers","prefers",-374265406,null);Eo=new $APP.v("clojure.core","array-map","clojure.core/array-map",-1351833961,null);
FH=new $APP.v("cljs.core","chunk","cljs.core/chunk",847936424,null);GH=new $APP.v(null,"empty","empty",-1886564811,null);HH=new $APP.v(null,"shorts","shorts",107738238,null);IH=new $APP.v(null,"options","options",1740170016,null);JH=new $APP.v(null,"defmethod","defmethod",-579171823,null);KH=new $APP.v(null,"-inner-impl","-inner-impl",-1295431849,null);$APP.Jk=new $APP.v(null,"\x26","\x26",-2144855648,null);Pu=new $APP.K(null,"deny","deny",1589338523);
LH=new $APP.v(null,"repeat","repeat",-1821743682,null);MH=new $APP.v(null,"%","%",-950237169,null);NH=new $APP.v(null,"*","*",345799209,null);nb=new $APP.K(null,"print-length","print-length",1931866356);OH=new $APP.v(null,"child","child",-2030468224,null);PH=new $APP.v(null,"+","+",-740910886,null);$APP.cl=new $APP.v(null,".",".",1975675962,null);QH=new $APP.v(null,"-","-",-471816912,null);Bn=new $APP.v(null,"/","/",-1371932971,null);RH=new $APP.v(null,"boolean?","boolean?",1790940868,null);
SH=new $APP.v("cljs.core","chunked-seq?","cljs.core/chunked-seq?",-712922369,null);TH=new $APP.v(null,"remove-watch","remove-watch",-1105301448,null);UH=new $APP.v(null,"multi-fn-add-method-impl","multi-fn-add-method-impl",-523930142,null);VH=new $APP.v(null,"IReset","IReset",-1893729426,null);WH=new $APP.v(null,".toFixed",".toFixed",-895046938,null);$APP.XH=new $APP.v(null,"_","_",-1201019570,null);YH=new $APP.v(null,"cond-\x3e","cond-\x3e",561741875,null);
ZH=new $APP.v(null,"source","source",1206599988,null);$H=new $APP.v(null,"a","a",-482876059,null);aI=new $APP.v("sci.impl.deftype","-inner-impl","sci.impl.deftype/-inner-impl",528349233,null);$APP.bI=new $APP.v(null,"body","body",-408674142,null);cI=new $APP.v(null,"booleans","booleans",756846088,null);$APP.dI=new $APP.v(null,"f","f",43394975,null);eI=new $APP.K(null,"sigs","sigs",-1653119622);$APP.fI=new $APP.v(null,"e","e",-1273166571,null);gI=new $APP.v(null,"h","h",-1544777029,null);
hI=new $APP.v(null,"escape","escape",648929575,null);iI=new $APP.v(null,"attr-map?","attr-map?",116307443,null);$APP.jI=new $APP.v(null,"m","m",-1021758608,null);$APP.kI=new $APP.v(null,"p","p",1791580836,null);Gw=new $APP.v(null,"lazy-seq","lazy-seq",489632906,null);lI=new $APP.v(null,"read","read",-1514377108,null);mI=new $APP.v(null,"doubles","doubles",-1517872169,null);$APP.nI=new $APP.v(null,"t","t",242699008,null);oI=new $APP.v(null,"s","s",-948495851,null);
uw=new $APP.v(null,"__sci_this","__sci_this",-193704996,null);pI=new $APP.v(null,"re-pattern","re-pattern",1047705161,null);$APP.qI=new $APP.v(null,"v","v",1661996586,null);rI=new $APP.v(null,"\x3c\x3d","\x3c\x3d",1244895369,null);$APP.sI=new $APP.v(null,"x","x",-555367584,null);tI=new $APP.v(null,"get-in","get-in",-1965644065,null);uI=new $APP.v(null,"\x3c","\x3c",993667236,null);vI=new $APP.v(null,"\x3e","\x3e",1085014381,null);wI=new $APP.v(null,"\x3d","\x3d",-1501502141,null);
xI=new $APP.v(null,"macroexpand","macroexpand",1509933344,null);yI=new $APP.v(null,"every?","every?",2083724064,null);$APP.Ss=new $APP.K(null,"hierarchy","hierarchy",-1053470341);zI=new $APP.v(null,"keywordize-keys","keywordize-keys",-1343651517,null);iy=new $APP.K(null,"async-load-fn","async-load-fn",-472170029);$APP.AI=new $APP.v("cljs.core","alength","cljs.core/alength",-1012804190,null);BI=new $APP.v(null,"\x3d\x3d","\x3d\x3d",-234118149,null);ty=new $APP.K(null,"classes","classes",2037804510);
CI=new $APP.v(null,"chunk-append","chunk-append",-1447349559,null);DI=new $APP.v(null,"double?","double?",-2146564276,null);EI=new $APP.v(null,"a__29885__auto__","a__29885__auto__",1905769912,null);FI=new $APP.v(null,"*print-level*","*print-level*",-634488505,null);GI=new $APP.v(null,"temp__29792__auto__","temp__29792__auto__",1671153315,null);HI=new $APP.v(null,"areduce","areduce",-1873477878,null);II=new $APP.K(null,"gen-class","gen-class",-426712454);Aw=new $APP.v(null,"and","and",668631710,null);
JI=new $APP.v(null,"\x3e\x3d","\x3e\x3d",1016916022,null);Mt=new $APP.K(null,"allow","allow",-1857325745);KI=new $APP.v(null,"*data-readers*","*data-readers*",1269051058,null);LI=new $APP.v("cljs.core","unchecked-inc","cljs.core/unchecked-inc",-501313167,null);MI=new $APP.v(null,"read-string","read-string",-558384455,null);ho=new $APP.K(null,"var-args?","var-args?",-1630678710);NI=new $APP.v(null,"interleave","interleave",165488106,null);OI=new $APP.v(null,"subs","subs",1453849536,null);
PI=new $APP.v("cljs.core","binding","cljs.core/binding",2050379843,null);Tu=new $APP.K("sci.impl.analyzer","static-access","sci.impl.analyzer/static-access",-79014E3);QI=new $APP.v(null,"args__25285__auto__","args__25285__auto__",-1057121965,null);RI=new $APP.v(null,"js-delete","js-delete",170306730,null);SI=new $APP.v(null,"sorted?","sorted?",892797714,null);Xt=new $APP.K(null,"raw-classes","raw-classes",1669916511);TI=new $APP.v(null,"partial","partial",1881673272,null);
UI=new $APP.v(null,"memoize","memoize",2019341169,null);VI=new $APP.v("cljs.core","*print-fn*","cljs.core/*print-fn*",1342365176,null);WI=new $APP.v(null,"impls","impls",326516674,null);Nv=new $APP.K(null,"orig","orig",-1678309870);XI=new $APP.v(null,"*out*","*out*",1277591796,null);kp=new $APP.K("edamame.impl.parser","cond-splice","edamame.impl.parser/cond-splice",1534599765);tu=new $APP.K(null,"libname","libname",135992497);YI=new $APP.v(null,"array?","array?",-1249008197,null);
ZI=new $APP.v(null,"reset!","reset!",527275632,null);$I=new $APP.v(null,"methods__25281__auto__","methods__25281__auto__",513143257,null);$APP.aJ=new $APP.K(null,"start","start",-355208981);bJ=new $APP.K("sci.impl.deftype","IPrintWithWriter","sci.impl.deftype/IPrintWithWriter",-1280030107);cJ=new $APP.v(null,"sorted-set-by","sorted-set-by",899099765,null);dJ=new $APP.v(null,"expr","expr",-1908713478,null);ft=new $APP.v(null,"default__25996__auto__","default__25996__auto__",723457106,null);
Go=new $APP.v("clojure.core","hash-set","clojure.core/hash-set",1229125967,null);eJ=new $APP.v(null,"ns-resolve","ns-resolve",1788675756,null);fJ=new $APP.v(null,"*flush-on-newline*","*flush-on-newline*",-737526501,null);lu=new $APP.K(null,"ns-aliases","ns-aliases",1290254821);gJ=new $APP.v("cljs.core","doseq","cljs.core/doseq",-169320766,null);hJ=new $APP.v(null,"keyword-identical?","keyword-identical?",931555714,null);iJ=new $APP.v(null,"var__30537__auto__","var__30537__auto__",1267970253,null);
er=new $APP.K("sci","built-in","sci/built-in",1244659599);jJ=new $APP.v(null,"unchecked-subtract-int","unchecked-subtract-int",-1899147615,null);kJ=new $APP.v(null,"prewalk-replace","prewalk-replace",2117002030,null);lJ=new $APP.v(null,"-create-type","-create-type",805234013,null);mJ=new $APP.v(null,"zipmap","zipmap",-690049687,null);nJ=new $APP.v(null,"upper-case","upper-case",1427515769,null);oJ=new $APP.v("cljs.core","into","cljs.core/into",1879938733,null);
pJ=new $APP.v(null,"nth","nth",1529209554,null);$APP.al=new $APP.v(null,"recur","recur",1202958259,null);qJ=new $APP.v(null,"multifn","multifn",-1904313150,null);rJ=new $APP.v(null,"clojure.walk","clojure.walk",1625897340,null);sJ=new $APP.v(null,"-reset!","-reset!",1965723739,null);tJ=new $APP.v("cljs.core","long","cljs.core/long",241154833,null);uJ=new $APP.v(null,"inst?","inst?",1614698981,null);Vo=new $APP.K("tools.reader","opts","tools.reader/opts",-2121810901);
vJ=new $APP.v(null,"name","name",-810760592,null);wJ=new $APP.v(null,"ex-data","ex-data",1331491268,null);xJ=new $APP.v(null,"print","print",-1354873355,null);$APP.yJ=new $APP.K(null,"top-fn","top-fn",-2056129173);zJ=new $APP.v(null,"prepost-map?","prepost-map?",869562481,null);AJ=new $APP.v(null,"cljs.reader","cljs.reader",1327473948,null);nv=new $APP.K("sci.impl.analyzer","unresolved","sci.impl.analyzer/unresolved",308754858);BJ=new $APP.v("cljs.core","loop","cljs.core/loop",-1829423021,null);
CJ=new $APP.v(null,"to-array","to-array",-585705189,null);$APP.DJ=new $APP.v(null,"defn-","defn-",1097765044,null);Pp=new $APP.K(null,"read-eval","read-eval",1788733932);EJ=new $APP.v(null,"x__25289__auto__","x__25289__auto__",-1360280869,null);dB=new $APP.K("cljs.core","halt","cljs.core/halt",-1049036715);FJ=new $APP.v(null,"unchecked-inc-int","unchecked-inc-int",1402783397,null);$APP.GJ=new $APP.v("cljs.core","deref","cljs.core/deref",1901963335,null);
HJ=new $APP.v(null,"refer-clojure","refer-clojure",-1840651329,null);IJ=new $APP.v(null,"more","more",-418290273,null);JJ=new $APP.v(null,"not","not",1044554643,null);$s=new $APP.v(null,"m__25994__auto__","m__25994__auto__",1283404994,null);KJ=new $APP.v(null,"reduce-kv","reduce-kv",1856296400,null);LJ=new $APP.v(null,"Math","Math",2033287572,null);MJ=new $APP.v(null,"re-matches","re-matches",-1865705768,null);$APP.NJ=new $APP.v(null,"when","when",1064114221,null);
Ov=new $APP.K(null,"min-var-args","min-var-args",-1883389660);$APP.OJ=new $APP.v(null,"validator","validator",-325659154,null);Dw=new $APP.v(null,"case","case",-1510733573,null);Ax=new $APP.K("sci.error","parse","sci.error/parse",-264338844);PJ=new $APP.v(null,"format-stacktrace","format-stacktrace",-1807675175,null);oj=new $APP.K(null,"more-marker","more-marker",-14717935);QJ=new $APP.v("cljs.core","vreset!","cljs.core/vreset!",-1308835928,null);
RJ=new $APP.v(null,"completing","completing",565832990,null);SJ=new $APP.v(null,"rand-nth","rand-nth",-1227719931,null);TJ=new $APP.v(null,"v__29951__auto__","v__29951__auto__",1220317523,null);UJ=new $APP.v("cljs.core","defmulti","cljs.core/defmulti",723984225,null);VJ=new $APP.v(null,"alter-var-root","alter-var-root",-1749458519,null);WJ=new $APP.v(null,"unchecked-double","unchecked-double",-1593778036,null);XJ=new $APP.v(null,"distinct","distinct",-148347594,null);
Pk=new $APP.v(null,"ns*","ns*",1840949383,null);at=new $APP.v("cljs.core","meta","cljs.core/meta",-748218346,null);YJ=new $APP.v("cljs.core","find-ns","cljs.core/find-ns",-486459417,null);$APP.tm=new $APP.K(null,"type","type",1174270348);ZJ=new $APP.v("cljs.core","aclone","cljs.core/aclone",-758078968,null);$J=new $APP.v(null,"list?","list?",-1494629,null);aK=new $APP.v("sci.impl.protocols","type-\x3estr","sci.impl.protocols/type-\x3estr",1214133319,null);
bK=new $APP.v(null,"vector?","vector?",-61367869,null);cK=new $APP.v(null,"bound?","bound?",767722602,null);dK=new $APP.v(null,"list*","list*",765415731,null);jt=new $APP.v(null,"meth__25999__auto__","meth__25999__auto__",892415709,null);Nw=new $APP.K("sci.impl","inlined","sci.impl/inlined",-478453593);eK=new $APP.v(null,"next","next",1522830042,null);fK=new $APP.K("sci.impl","type","sci.impl/type",1797552241);$APP.gK=new $APP.v(null,"dispatch","dispatch",-1335098760,null);
hK=new $APP.v(null,"method-table__24870__auto__","method-table__24870__auto__",-1617671001,null);iK=new $APP.K(null,"let","let",-1282412701);jK=new $APP.v(null,"Delay","Delay",-956795572,null);kK=new $APP.v(null,"not\x3d","not\x3d",1466536204,null);$APP.xm=new $APP.K(null,"line","line",212345235);tw=new $APP.K(null,"mutable","mutable",875778266);$APP.uu=new $APP.K(null,"ctx","ctx",-493610118);ut=new $APP.K(null,"methods","methods",453930866);lK=new $APP.v(null,"seq?","seq?",-1951934719,null);
$u=new $APP.v(null,"expand-constructor","expand-constructor",-343741576,null);mK=new $APP.v(null,"js","js",-886355190,null);Fr=new $APP.K("sci","macro","sci/macro",-868536151);nK=new $APP.v(null,"unchecked-float","unchecked-float",1485658216,null);Kk=new $APP.v(null,"case*","case*",-1938255072,null);$APP.jw=new $APP.K(null,"constructor","constructor",-1953928811);oK=new $APP.v(null,"find-doc","find-doc",-1096800949,null);pK=new $APP.v(null,"scittle.core","scittle.core",-2069969035,null);
qK=new $APP.v(null,"ISwap","ISwap",484378193,null);rK=new $APP.v(null,"last-index-of","last-index-of",215608200,null);sK=new $APP.v(null,"constantly","constantly",-271143939,null);tK=new $APP.v(null,"rdr","rdr",190007785,null);iv=new $APP.K("sci.impl","macroexpanding","sci.impl/macroexpanding",2113471825);Ev=new $APP.K("sci.impl","inner-fn","sci.impl/inner-fn",1663302998);uK=new $APP.v(null,"flush","flush",501820328,null);vK=new $APP.v(null,"nthrest","nthrest",1219890118,null);
$APP.gb=new $APP.K(null,"readably","readably",1129599760);wK=new $APP.v(null,"true?","true?",-1600332395,null);xK=new $APP.v(null,"var-set","var-set",-1361408121,null);bu=new $APP.K(null,"only","only",1907811652);yK=new $APP.v(null,"rem","rem",664046770,null);zK=new $APP.v(null,"ns-map","ns-map",-434605548,null);AK=new $APP.v("cljs.core","pop-thread-bindings","cljs.core/pop-thread-bindings",-1994943347,null);BK=new $APP.v("cljs.core","chunk-rest","cljs.core/chunk-rest",-398161143,null);
CK=new $APP.v(null,"ret","ret",1172308713,null);DK=new $APP.v(null,"clojure.lang.IChunk","clojure.lang.IChunk",195957271,null);EK=new $APP.v(null,"make-array","make-array",-1135103906,null);FK=new $APP.v("cljs.core","*print-newline*","cljs.core/*print-newline*",6231625,null);GK=new $APP.v(null,"select-keys","select-keys",-708556589,null);HK=new $APP.v(null,"instance?","instance?",1075939923,null);IK=new $APP.v(null,"double","double",-1769548886,null);
JK=new $APP.v("sci.impl.namespaces","with-open","sci.impl.namespaces/with-open",-1695932508,null);KK=new $APP.v(null,"update","update",-1608859373,null);mu=new $APP.K(null,"as-alias","as-alias",82482467);$APP.LK=new $APP.v(null,"when-not","when-not",-1223136340,null);MK=new $APP.v(null,"lower-case","lower-case",1428172944,null);$APP.Wk=new $APP.v(null,"ns","ns",2082130287,null);$APP.NK=new $APP.K(null,"stack","stack",-793405930);$APP.bB=new $APP.K(null,"pending","pending",-220036727);
OK=new $APP.v(null,"inc","inc",324505433,null);PK=new $APP.v(null,"fields","fields",-291534703,null);QK=new $APP.v(null,"random-uuid","random-uuid",-1574409597,null);RK=new $APP.v(null,"macroexpand-all","macroexpand-all",966103926,null);SK=new $APP.v(null,"sequential?","sequential?",1102351463,null);TK=new $APP.K(null,"strable","strable",1877668047);UK=new $APP.v(null,"force","force",-1872478483,null);ym=new $APP.K(null,"col","col",-1959363084);VK=new $APP.v(null,"int","int",-100885395,null);
WK=new $APP.v(null,"nthnext","nthnext",1677356670,null);Hw=new $APP.v(null,"or","or",1876275696,null);zv=new $APP.K(null,"vararg-idx","vararg-idx",-590991228);XK=new $APP.v(null,"assoc!","assoc!",-847603280,null);mt=new $APP.v(null,"meth__26113__auto__","meth__26113__auto__",-1237760817,null);YK=new $APP.v(null,"p__29933__auto__","p__29933__auto__",-1659616782,null);ZK=new $APP.v(null,"blank?","blank?",1891979743,null);$K=new $APP.v(null,"*print-dup*","*print-dup*",103854877,null);
$APP.dm=new $APP.K(null,"offset","offset",296498311);aL=new $APP.v(null,"extend-type","extend-type",1123355921,null);bL=new $APP.v(null,"set?","set?",1636014792,null);cL=new $APP.v(null,"hash-unordered-coll","hash-unordered-coll",-240471618,null);$v=new $APP.v("js","Object","js/Object",61215323,null);dL=new $APP.v(null,"pr","pr",1056937027,null);bl=new $APP.v(null,"set!","set!",250714521,null);eL=new $APP.v(null,"reductions","reductions",549963952,null);
fL=new $APP.v(null,"rsubseq","rsubseq",-710070471,null);gL=new $APP.v(null,"chunk-next","chunk-next",-547810434,null);hL=new $APP.v(null,"*read-eval*","*read-eval*",1122065414,null);iL=new $APP.v(null,"subseq","subseq",-1558995241,null);jL=new $APP.v(null,"double-array","double-array",257035726,null);kL=new $APP.v(null,"select","select",-1506602266,null);lL=new $APP.v(null,"vswap!","vswap!",-574070781,null);$APP.mL=new $APP.v(null,"args","args",-1338879193,null);
nL=new $APP.v(null,"every-pred","every-pred",-1346958247,null);oL=new $APP.v(null,"pr-str","pr-str",-2066912145,null);pL=new $APP.v(null,"requiring-resolve","requiring-resolve",-1888505231,null);qL=new $APP.v(null,"ns-imports","ns-imports",1111168888,null);$APP.rL=new $APP.K(null,"error","error",-978969032);sL=new $APP.v(null,"-create-record-type","-create-record-type",-1472918739,null);tL=new $APP.v(null,"sb","sb",-1249746442,null);
$APP.uL=new $APP.v(null,"with-local-vars","with-local-vars",837642072,null);vL=new $APP.v(null,"unchecked-dec","unchecked-dec",2095823150,null);wL=new $APP.v(null,"partition","partition",-1479695018,null);xL=new $APP.v(null,"cljs.core.ISwap","cljs.core.ISwap",2045511362,null);yL=new $APP.v(null,"list","list",-1889078086,null);zL=new $APP.v(null,"hash-combine","hash-combine",1136881997,null);AL=new $APP.v(null,"ends-with?","ends-with?",-346570208,null);
iq=new $APP.K(null,"postprocess","postprocess",-1863762881);BL=new $APP.v(null,"eval","eval",536963622,null);CL=new $APP.v(null,"nat-int?","nat-int?",-1879663400,null);xr=new $APP.v("cljs.core","seq-to-map-for-destructuring","cljs.core/seq-to-map-for-destructuring",240595294,null);DL=new $APP.v(null,"superset?","superset?",2074872204,null);EL=new $APP.v(null,"v__30536__auto__","v__30536__auto__",2000814767,null);
FL=new $APP.v("cljs.tools.reader.edn","read-symbolic-value","cljs.tools.reader.edn/read-symbolic-value",111468855,null);Vk=new $APP.v(null,"new","new",-444906321,null);Os=new $APP.v(null,"clojure.core","clojure.core",-189332625,null);Mo=new $APP.v("cljs.core","with-meta","cljs.core/with-meta",749126446,null);GL=new $APP.v(null,"second","second",1195829517,null);$APP.HL=new $APP.v(null,"all","all",-1762306027,null);IL=new $APP.v(null,"l__29886__auto__","l__29886__auto__",-262692118,null);
JL=new $APP.v(null,"partition-by","partition-by",-1329938249,null);$APP.pn=new $APP.K(null,"list","list",765357683);KL=new $APP.v("cljs.core","seq","cljs.core/seq",-1649497689,null);$APP.LL=new $APP.K(null,"eval","eval",-1103567905);ML=new $APP.K(null,"end-row","end-row",-545103581);NL=new $APP.v(null,"sorted-map","sorted-map",-521216771,null);OL=new $APP.v(null,"peek","peek",1349135202,null);PL=new $APP.v(null,"refer","refer",676235974,null);
QL=new $APP.v("cljs.core","update","cljs.core/update",-908565906,null);RL=new $APP.v(null,"vol","vol",1137570949,null);gt=new $APP.v("cljs.core","not\x3d","cljs.core/not\x3d",1017572457,null);SL=new $APP.v(null,"unchecked-multiply","unchecked-multiply",-1019161490,null);TL=new $APP.v(null,"goog.string.StringBuffer","goog.string.StringBuffer",-1220229842,null);UL=new $APP.v(null,"simple-keyword?","simple-keyword?",-367134735,null);$APP.VL=new $APP.K(null,"value","value",305978217);
WL=new $APP.v(null,"clojure.string","clojure.string",-1415552165,null);XL=new $APP.v(null,"extend","extend",-817951763,null);YL=new $APP.v("cljs.core","constantly","cljs.core/constantly",119002258,null);ZL=new $APP.v(null,"quoted-sym","quoted-sym",474507191,null);$L=new $APP.v("cljs.core","concat","cljs.core/concat",-1133584918,null);$APP.aM=new $APP.v(null,"delay","delay",1066306308,null);bM=new $APP.v(null,"halt-when","halt-when",-140999689,null);
hw=new $APP.K("sci.impl.analyzer","method-name","sci.impl.analyzer/method-name",-842600667);cM=new $APP.v("cljs.core","bound-fn*","cljs.core/bound-fn*",-556238942,null);dM=new $APP.v(null,"macroexpand-1","macroexpand-1",659241329,null);eM=new $APP.v(null,"merge-with","merge-with",1025434534,null);fM=new $APP.v(null,"simple-ident?","simple-ident?",194189851,null);gM=new $APP.v(null,"chunk-rest","chunk-rest",-1853526420,null);hM=new $APP.v(null,"byte","byte",-1970660549,null);
iM=new $APP.v(null,"complement","complement",-913606051,null);jM=new $APP.v(null,"hash","hash",1626749931,null);kM=new $APP.v(null,"rsym","rsym",204230332,null);lM=new $APP.v(null,"keyword","keyword",-1843046022,null);mM=new $APP.v(null,"args__25290__auto__","args__25290__auto__",-869972384,null);uy=new $APP.K(null,"main-thread-id","main-thread-id",1264618959);nM=new $APP.v(null,"identical?","identical?",-745864205,null);oM=new $APP.v(null,"array-map","array-map",1555038968,null);
pM=new $APP.v(null,"with-meta","with-meta",73674707,null);qM=new $APP.v(null,"trampoline","trampoline",-71368916,null);rM=new $APP.v(null,"default__25288__auto__","default__25288__auto__",346459369,null);sM=new $APP.v(null,"bound-fn","bound-fn",125411266,null);tM=new $APP.v(null,"function","function",-486723946,null);Op=new $APP.K("edamame.impl.parser","fn-literal","edamame.impl.parser/fn-literal",-1835933155);bt=new $APP.v(null,"meth__25995__auto__","meth__25995__auto__",2038841845,null);
uM=new $APP.v(null,"min","min",2085523049,null);vM=new $APP.v(null,"unsigned-bit-shift-right","unsigned-bit-shift-right",-1953076601,null);wM=new $APP.v(null,"min-key","min-key",246826648,null);xM=new $APP.v(null,"postwalk-replace","postwalk-replace",77744733,null);yM=new $APP.K("sci.impl","print-method","sci.impl/print-method",281191566);zM=new $APP.v(null,"find-ns","find-ns",-884829568,null);tp=new $APP.K(null,"features","features",-1146962336);
AM=new $APP.v("cljs.core","with-redefs-fn","cljs.core/with-redefs-fn",-1271194088,null);BM=new $APP.v(null,"sigs","sigs",-12588095,null);Tt=new $APP.v(null,"\x26form","\x26form",1482799337,null);CM=new $APP.v(null,"not-empty","not-empty",2029453590,null);DM=new $APP.v(null,"decls","decls",-1311111277,null);EM=new $APP.v("cljs.core","assert","cljs.core/assert",1075777968,null);FM=new $APP.v(null,"sci.lang.Type","sci.lang.Type",-534180168,null);GM=new $APP.v(null,"find-var","find-var",-497901917,null);
HM=new $APP.v(null,"with-out-str","with-out-str",-140201577,null);$APP.IM=new $APP.v(null,"with-open","with-open",172119667,null);JM=new $APP.v("cljs.tools.reader.impl.commons","number-literal?","cljs.tools.reader.impl.commons/number-literal?",-1450304800,null);KM=new $APP.v(null,"disj","disj",-1076545178,null);vv=new $APP.K(null,"iden-\x3einvoke-idx","iden-\x3einvoke-idx",-1797627026);LM=new $APP.v(null,"distinct?","distinct?",-1684357959,null);
Mw=new $APP.K("sci.impl","fast-path","sci.impl/fast-path",1273254676);MM=new $APP.v(null,"unchecked-long","unchecked-long",1306610949,null);NM=new $APP.v("cljs.core","first","cljs.core/first",-752535972,null);dr=new $APP.K(null,"local","local",-1497766724);$APP.OM=new $APP.K(null,"interceptors","interceptors",-1546782951);PM=new $APP.v("cljs.core","nth","cljs.core/nth",1961052085,null);QM=new $APP.v(null,"vals","vals",-1886377036,null);Zt=new $APP.K(null,"rename","rename",1508157613);
RM=new $APP.v(null,"intern","intern",1664352151,null);SM=new $APP.v(null,"-mutate","-mutate",-795549165,null);TM=new $APP.v("cljs.core","unchecked-inc-int","cljs.core/unchecked-inc-int",-2007014592,null);UM=new $APP.v(null,"qualified-ident?","qualified-ident?",-928894763,null);It=new $APP.K(null,"ex-idx","ex-idx",795118805);VM=new $APP.v(null,"project","project",-1530041190,null);$APP.Fn=new $APP.K(null,"tag","tag",-1290361223);
WM=new $APP.v("cljs.core","chunk-buffer","cljs.core/chunk-buffer",14093626,null);XM=new $APP.v(null,"loaded-libs","loaded-libs",484141875,null);YM=new $APP.v(null,"with-redefs-fn","with-redefs-fn",-595725379,null);ZM=new $APP.v(null,"dedupe","dedupe",-461856254,null);Kp=new $APP.K(null,"regex","regex",939488856);$M=new $APP.v(null,"record?","record?",-1305224237,null);Lv=new $APP.K(null,"var-arg-name","var-arg-name",-1100024887);
aN=new $APP.v("sci.impl.records","-create-record-type","sci.impl.records/-create-record-type",558578550,null);Rk=new $APP.v(null,"loop*","loop*",615029416,null);bN=new $APP.v(null,"defmulti","defmulti",1936112154,null);Eu=new $APP.K(null,"verbose","verbose",1694226060);cN=new $APP.v(null,"a__29888__auto__","a__29888__auto__",1074548966,null);$APP.dN=new $APP.v(null,"then","then",2101129597,null);eN=new $APP.v(null,"cycle","cycle",-1944070485,null);fN=new $APP.K("sci","type","sci/type",1175422389);
gN=new $APP.v(null,"*assert*","*assert*",1479636474,null);hN=new $APP.v(null,"some-\x3e\x3e","some-\x3e\x3e",-1499987794,null);Qt=new $APP.K("sci.impl.analyzer","recur","sci.impl.analyzer/recur",2033369355);ct=new $APP.v("cljs.core","apply","cljs.core/apply",1757277831,null);iN=new $APP.v(null,"quoted","quoted",-537090817,null);jN=new $APP.v(null,"var?","var?",230455531,null);nt=new $APP.v(null,"default__26114__auto__","default__26114__auto__",-1876831954,null);
$APP.kN=new $APP.v(null,"if-not","if-not",-265415609,null);eu=new $APP.K(null,"aliases","aliases",1346874714);lN=new $APP.v(null,"keys","keys",-1586012071,null);Li=new $APP.K("cljs.core","not-found","cljs.core/not-found",-1572889185);mN=new $APP.v(null,"pos-int?","pos-int?",-1205815015,null);$APP.nN=new $APP.v("cljs.core","resolve","cljs.core/resolve",1796776582,null);oN=new $APP.v(null,"simple-symbol?","simple-symbol?",1408454822,null);$APP.Bv=new $APP.K(null,"fixed-arity","fixed-arity",1586445869);
$APP.pN=new $APP.v("cljs.core","when-not","cljs.core/when-not",-556141047,null);qN=new $APP.K(null,"declared","declared",92336021);rN=new $APP.v(null,"method-cache__24872__auto__","method-cache__24872__auto__",1524620751,null);sN=new $APP.v(null,"-write","-write",1999625154,null);$APP.tN=new $APP.K(null,"method-params","method-params",-980792179);$APP.rn=new $APP.K(null,"vector","vector",1902966158);uN=new $APP.v(null,"tagged-literal?","tagged-literal?",1117865390,null);
Ir=new $APP.K(null,"bindings","bindings",1271397192);$APP.vN=new $APP.v(null,"cljs.pprint","cljs.pprint",-966900911,null);wN=new $APP.v(null,"vreset!","vreset!",1237177091,null);xN=new $APP.v(null,"size__28335__auto__","size__28335__auto__",-1435437599,null);yN=new $APP.v(null,"realized?","realized?",207229341,null);zN=new $APP.v(null,"symbol","symbol",601958831,null);AN=new $APP.v(null,"clj-\x3ejs","clj-\x3ejs",-1880244676,null);BN=new $APP.v(null,"trim-newline","trim-newline",656815794,null);
CN=new $APP.v(null,"fnext","fnext",1424835295,null);DN=new $APP.v(null,"rseq","rseq",-1719353554,null);$APP.Qk=new $APP.v(null,"finally","finally",-1065347064,null);EN=new $APP.v(null,"parse-symbol","parse-symbol",1608073451,null);FN=new $APP.v("scittle.core","time","scittle.core/time",835259980,null);GN=new $APP.v(null,"vec","vec",982683596,null);HN=new $APP.v(null,"prewalk","prewalk",1337993264,null);Jx=new $APP.K("edamame.core","eof","edamame.core/eof",1855384188);
$APP.es=new $APP.K(null,"dynamic","dynamic",704819571);IN=new $APP.v(null,"clojure.pprint","clojure.pprint",-547379114,null);JN=new $APP.v(null,"hash-set","hash-set",-1145168432,null);$APP.Sk=new $APP.v(null,"do","do",1686842252,null);KN=new $APP.v(null,"if-some","if-some",1960677609,null);LN=new $APP.v(null,"take-while","take-while",2007268328,null);Ow=new $APP.K(null,"self-ref?","self-ref?",412808630);MN=new $APP.v(null,"push-thread-bindings","push-thread-bindings",1054019843,null);
NN=new $APP.v(null,"persistent!","persistent!",1286555698,null);Dv=new $APP.K(null,"invoc-size","invoc-size",2053298058);uo=new $APP.v("clojure.core","seq","clojure.core/seq",-1551838743,null);$APP.ON=new $APP.K(null,"sym","sym",-1444860305);PN=new $APP.v(null,"clojure.edn","clojure.edn",-302325352,null);QN=new $APP.v(null,"the-ns","the-ns",1016317907,null);$APP.el=new $APP.v(null,"quote","quote",1377916282,null);xp=new $APP.K(null,"preserve","preserve",1276846509);
RN=new $APP.v(null,"qualified-keyword?","qualified-keyword?",375456001,null);SN=new $APP.v(null,"char?","char?",-1072221244,null);TN=new $APP.v(null,"*in*","*in*",1130010229,null);UN=new $APP.v(null,"idx","idx",-1600747296,null);VN=new $APP.v(null,"method__25291__auto__","method__25291__auto__",-1635446486,null);WN=new $APP.v(null,"intersection","intersection",-650544759,null);XN=new $APP.v(null,"ex","ex",226760186,null);YN=new $APP.v(null,"iter__28336__auto__","iter__28336__auto__",349779542,null);
ZN=new $APP.v("cljs.core","*ns*","cljs.core/*ns*",1155497085,null);$N=new $APP.v(null,"derive","derive",1727397303,null);aO=new $APP.K(null,"cljs","cljs",1492417629);bO=new $APP.v(null,"clojure.template","clojure.template",-1162325089,null);cO=new $APP.v(null,"cond-\x3e\x3e","cond-\x3e\x3e",348844960,null);dO=new $APP.v(null,"bit-flip","bit-flip",809639606,null);eO=new $APP.v(null,"default__25292__auto__","default__25292__auto__",-346757695,null);$APP.$p=new $APP.K(null,"deref","deref",-145586795);
fO=new $APP.v(null,"args__26457__auto__","args__26457__auto__",1215041488,null);$APP.gO=new $APP.v(null,"fn","fn",465265323,null);hO=new $APP.v(null,"type","type",-1480165421,null);$APP.iO=new $APP.v(null,"dotimes","dotimes",-818708397,null);jO=new $APP.v(null,"subset?","subset?",1551079215,null);kO=new $APP.v(null,"map-indexed","map-indexed",-1391025435,null);lO=new $APP.v("clojure.core","deftype","clojure.core/deftype",-1728257017,null);mO=new $APP.v(null,"conj","conj",-1127293942,null);
hp=new $APP.K(null,"char","char",-641587586);nO=new $APP.v("cljs.core","chunk-append","cljs.core/chunk-append",-243671470,null);oO=new $APP.v(null,"newline","newline",-864364446,null);pO=new $APP.v(null,"cons","cons",755448454,null);qO=new $APP.v(null,"neg-int?","neg-int?",-1610409390,null);rO=new $APP.v(null,"underive","underive",-242982950,null);sO=new $APP.v("clojure.repl","dir-fn","clojure.repl/dir-fn",901908317,null);tO=new $APP.v("cljs.core","ns-name","cljs.core/ns-name",171430027,null);
$APP.uO=new $APP.v(null,"cond","cond",1606708055,null);vO=new $APP.v(null,"mod","mod",1510044207,null);wO=new $APP.K(null,"proxy-fn","proxy-fn",1116677438);xO=new $APP.v(null,"chars","chars",545901210,null);$APP.GQ=new $APP.v(null,"comp","comp",-1462482139,null);HQ=new $APP.v("cljs.core","system-time","cljs.core/system-time",1562011930,null);$APP.aq=new $APP.v("clojure.core","deref","clojure.core/deref",188719157,null);Aj=new $APP.K(null,"alt-impl","alt-impl",670969595);
IQ=new $APP.v(null,"inst-ms","inst-ms",-653961375,null);JQ=new $APP.v(null,"val","val",1769233139,null);$APP.KQ=new $APP.v("cljs.core","not","cljs.core/not",100665144,null);$APP.dl=new $APP.v(null,"var","var",870848730,null);LQ=new $APP.v(null,"dispatch-val","dispatch-val",69061E3,null);MQ=new $APP.v(null,"seq-exprs","seq-exprs",-637209651,null);$APP.NQ=new $APP.K(null,"no-doc","no-doc",1559921891);OQ=new $APP.v(null,"escape-char","escape-char",-2072670949,null);
$APP.Uk=new $APP.v(null,"if","if",1181717262,null);$APP.PQ=new $APP.v(null,"coll","coll",-1006698606,null);QQ=new $APP.v(null,"\x26env","\x26env",-919163083,null);RQ=new $APP.v(null,"drop","drop",2005013138,null);SQ=new $APP.v(null,"stringify-keys","stringify-keys",1735215919,null);TQ=new $APP.v(null,"read-symbolic-value","read-symbolic-value",-100790078,null);jr=new $APP.K("sci.impl","op","sci.impl/op",950953978);UQ=new $APP.v(null,"keep-indexed","keep-indexed",-2020916352,null);
VQ=new $APP.v(null,"source-fn","source-fn",-1114937984,null);WQ=new $APP.v(null,"any?","any?",-318999933,null);$APP.Km=new $APP.K(null,"string","string",-1989541586);XQ=new $APP.v(null,"assert","assert",677428501,null);YQ=new $APP.v("cljs.core","defn","cljs.core/defn",-1606493717,null);ZQ=new $APP.v(null,"uuid","uuid",-504564192,null);$Q=new $APP.v(null,"goog.object","goog.object",678593132,null);ts=new $APP.K(null,"imports","imports",-1249933394);
aR=new $APP.v(null,"cljs.tools.reader.edn","cljs.tools.reader.edn",-1275821532,null);lb=new $APP.K(null,"dup","dup",556298533);bR=new $APP.K("cljs.analyzer","no-resolve","cljs.analyzer/no-resolve",-1872351017);cR=new $APP.v(null,"js-obj","js-obj",342383250,null);dR=new $APP.v(null,"unchecked-negate","unchecked-negate",-1669067451,null);eR=new $APP.v(null,"ex-message","ex-message",-1128293394,null);fR=new $APP.v(null,"colls","colls",-397642425,null);$APP.$A=new $APP.K(null,"status","status",-1997798413);
gR=new $APP.v("cljs.core","ex-info","cljs.core/ex-info",-409744395,null);hR=new $APP.v("js","Array","js/Array",-423508366,null);iR=new $APP.v(null,"map-entry?","map-entry?",1140615277,null);jR=new $APP.v(null,"demunge","demunge",-1865491845,null);kR=new $APP.v(null,"dir","dir",-919681108,null);lR=new $APP.v(null,"LazySeq","LazySeq",1579450882,null);Pv=new $APP.K(null,"self-ref-idx","self-ref-idx",-1384537812);mR=new $APP.v(null,"rename","rename",-1146278156,null);
nR=new $APP.v(null,"filter","filter",691993593,null);oR=new $APP.v(null,"starts-with?","starts-with?",1014173927,null);pR=new $APP.v(null,"ex-info","ex-info",-539875240,null);$APP.qR=new $APP.K(null,"max-fixed-arity","max-fixed-arity",-690205543);rR=new $APP.v(null,"-\x3erecord-impl","-\x3erecord-impl",1274709757,null);Xk=new $APP.v(null,"deftype*","deftype*",962659890,null);sR=new $APP.v(null,"unchecked-remainder-int","unchecked-remainder-int",1427188224,null);
tR=new $APP.v(null,"interpose","interpose",-2078295140,null);uR=new $APP.v(null,"bit-and","bit-and",-479352589,null);vR=new $APP.v(null,"aset","aset",900773178,null);wR=new $APP.v(null,"false?","false?",-1522377573,null);Lt=new $APP.K(null,"tag-class","tag-class",714967874);xR=new $APP.v("cljs.core","ex-message","cljs.core/ex-message",-747602175,null);yR=new $APP.v(null,"shuffle","shuffle",-1393023609,null);
zR=new $APP.v(null,"cached-hierarchy__24873__auto__","cached-hierarchy__24873__auto__",-1675492457,null);AR=new $APP.v(null,"string?","string?",-1129175764,null);BR=new $APP.v(null,"methods","methods",2094462393,null);nq=new $APP.K(null,"source-key","source-key",-1325875542);CR=new $APP.v(null,"doto","doto",1252536074,null);DR=new $APP.v(null,"println","println",-733595439,null);cu=new $APP.K(null,"use","use",-1846382424);ER=new $APP.v(null,"fnspecs","fnspecs",-958581686,null);
FR=new $APP.v(null,"trim","trim",-1880116002,null);gp=new $APP.K("edamame.impl.parser","opened-delimiter","edamame.impl.parser/opened-delimiter",1199661648);$APP.hl=new $APP.v(null,"def","def",597100991,null);$APP.tn=new $APP.K(null,"map","map",1371690461);$APP.Zr=new $APP.K(null,"params","params",710516235);GR=new $APP.v(null,"dec","dec",-766002333,null);Lw=new $APP.K(null,"check-permissions","check-permissions",669054317);HR=new $APP.v(null,"chunk-cons","chunk-cons",433801405,null);
IR=new $APP.v(null,"chunked-seq?","chunked-seq?",1044846168,null);JR=new $APP.v(null,"-new-var","-new-var",1200468147,null);KR=new $APP.v(null,"sci.core","sci.core",-5619460,null);LR=new $APP.v(null,"doc+methods","doc+methods",2036080922,null);wu=new $APP.K(null,"handled","handled",1889700151);MR=new $APP.v(null,"ns-unalias","ns-unalias",445102632,null);NR=new $APP.v("cljs.core","multi-fn-impl","cljs.core/multi-fn-impl",1399453884,null);OR=new $APP.K(null,"bindingx","bindingx",679516896);
$APP.PR=new $APP.v(null,"default","default",-347290801,null);$APP.X=new $APP.K(null,"doc","doc",1913296891);Rn=new $APP.K(null,"readers","readers",-2118263030);bq=new $APP.K(null,"quote","quote",-262615245);$APP.fl=new $APP.v(null,"catch","catch",-1616370245,null);QR=new $APP.v(null,"apply-template","apply-template",1809601838,null);RR=new $APP.v(null,"coll?","coll?",-1874821441,null);$APP.Wt=new $APP.K(null,"path","path",-188191168);
SR=new $APP.v("cljs.core","cond-\x3e","cljs.core/cond-\x3e",-113941356,null);TR=new $APP.v(null,"reify","reify",1885539699,null);UR=new $APP.v(null,"to-array-2d","to-array-2d",-1563270737,null);wo=new $APP.v("clojure.core","apply","clojure.core/apply",1654646389,null);VR=new $APP.v(null,"or__30326__auto__","or__30326__auto__",-1644072832,null);WR=new $APP.v("cljs.core","alter-meta!","cljs.core/alter-meta!",574694262,null);YR=new $APP.v(null,"includes?","includes?",-2049283381,null);
$APP.ZR=new $APP.v("cljs.core","-\x3e","cljs.core/-\x3e",1488366311,null);$APP.$R=new $APP.K(null,"arglists-meta","arglists-meta",1944829838);aS=new $APP.v("sci.impl.records","-\x3erecord-impl","sci.impl.records/-\x3erecord-impl",-1005013370,null);$APP.bS=new $APP.v(null,"map","map",-1282745308,null);cS=new $APP.v(null,"max","max",1701898075,null);dS=new $APP.v(null,"*default-data-reader-fn*","*default-data-reader-fn*",758795499,null);eS=new $APP.v(null,"compare","compare",1109853757,null);
fS=new $APP.v(null,"multi-fn?-impl","multi-fn?-impl",1372639302,null);gS=new $APP.v(null,".close",".close",-1017758745,null);Hv=new $APP.K("sci.impl","fn","sci.impl/fn",1695180073);$APP.po=new $APP.v("clojure.core","unquote","clojure.core/unquote",843087510,null);hS=new $APP.v(null,"load-string","load-string",-403739145,null);iS=new $APP.v(null,"range","range",-1014743483,null);jS=new $APP.v(null,"use","use",-205850897,null);Zs=new $APP.v("cljs.core","if-let","cljs.core/if-let",1346583165,null);
aaa=new $APP.v(null,"index","index",108845612,null);kS=new $APP.v(null,"test","test",-2076896892,null);Nn=new $APP.v(null,"-Inf","-Inf",-2123243689,null);baa=new $APP.v(null,"take","take",871646627,null);Xo=new $APP.K("edamame","expected-delimiter","edamame/expected-delimiter",93379254);caa=new $APP.v(null,"dorun","dorun",560426022,null);lS=new $APP.v(null,"fs__28333__auto__","fs__28333__auto__",1350580291,null);daa=new $APP.v(null,"stacktrace","stacktrace",1544943133,null);
mS=new $APP.K(null,"splicing?","splicing?",-428596366);Rv=new $APP.K(null,"variadic","variadic",882626057);$APP.nS=new $APP.K(null,"test","test",577538877);oS=new $APP.v(null,"*print-newline*","*print-newline*",1478078956,null);$APP.wm=new $APP.K(null,"file","file",-1269645878);pS=new $APP.v("cljs.core","rest","cljs.core/rest",-285075455,null);eaa=new $APP.v(null,"number","number",-1084057331,null);faa=new $APP.v("sci.impl.deftype","-\x3etype-impl","sci.impl.deftype/-\x3etype-impl",-2121297742,null);
gaa=new $APP.v(null,"chunk-buffer","chunk-buffer",789680287,null);haa=new $APP.v(null,"reversible?","reversible?",314107817,null);qS=new $APP.v(null,"ns-publics","ns-publics",903350436,null);pu=new $APP.K(null,"loading","loading",-737050189);iaa=new $APP.v(null,"body-expr","body-expr",-2125506601,null);rS=new $APP.v(null,"default__25283__auto__","default__25283__auto__",1431669184,null);mv=new $APP.v("clojure.core","defrecord","clojure.core/defrecord",581689476,null);
jaa=new $APP.v(null,"bit-and-not","bit-and-not",-254338837,null);sS=new $APP.v("cljs.core","-\x3e\x3e","cljs.core/-\x3e\x3e",-1207871206,null);ir=new $APP.K(null,"resolve-sym","resolve-sym",-1193683260);lt=new $APP.v(null,"farg__26112__auto__","farg__26112__auto__",1560664543,null);$APP.kaa=new $APP.v("cljs.core","array-map","cljs.core/array-map",-1519210683,null);laa=new $APP.v(null,"longs","longs",-1017696020,null);tS=new $APP.v(null,"x__25279__auto__","x__25279__auto__",-591899098,null);
uS=new $APP.v(null,"cljs.tools.reader.impl.commons","cljs.tools.reader.impl.commons",1569241026,null);vS=new $APP.v(null,"init","init",-234949907,null);maa=new $APP.v(null,"split-lines","split-lines",777513935,null);wS=new $APP.v(null,"queue","queue",-1198599890,null);Mx=new $APP.K(null,"eofthrow","eofthrow",-334166531);naa=new $APP.v(null,"some","some",-310548046,null);xS=new $APP.v(null,"doc","doc",-741138878,null);oaa=new $APP.v(null,"print-doc","print-doc",528043232,null);
yS=new $APP.v(null,"declare","declare",654042991,null);et=new $APP.v("cljs.core","type","cljs.core/type",-821761154,null);Lu=new $APP.K("sci.impl","idx","sci.impl/idx",700902278);paa=new $APP.v("cljs.core","cons","cljs.core/cons",96507417,null);zS=new $APP.v(null,"clojure.set","clojure.set",-630955632,null);$APP.ib=new $APP.K(null,"meta","meta",1499536964);AS=new $APP.v("cljs.core","conj","cljs.core/conj",-460750931,null);
Qp=new $APP.v("edamame.core","read-eval","edamame.core/read-eval",1461005554,null);qaa=new $APP.v(null,"floats","floats",513591110,null);raa=new $APP.v(null,"with-bindings*","with-bindings*",-93186207,null);saa=new $APP.v(null,"satisfies?","satisfies?",-433227199,null);taa=new $APP.v(null,"walk","walk",1673453164,null);Do=new $APP.v("clojure.core","hash-map","clojure.core/hash-map",338908405,null);uaa=new $APP.v(null,"pop","pop",-94247249,null);vaa=new $APP.v(null,"token","token",429068312,null);
xx=new $APP.K("sci","record","sci/record",-778731026);BS=new $APP.v(null,"dir-fn","dir-fn",187684626,null);fk=new $APP.K(null,"ancestors","ancestors",-776045424);CS=new $APP.v(null,"has-root-impl","has-root-impl",-288948659,null);DS=new $APP.v(null,"sci.impl.deftype","sci.impl.deftype",959784924,null);waa=new $APP.v("cljs.core","Delay","cljs.core/Delay",-21574999,null);xaa=new $APP.v(null,"seq-to-map-for-destructuring","seq-to-map-for-destructuring",647384515,null);
Lk=new $APP.v(null,"defrecord*","defrecord*",-1936366207,null);yaa=new $APP.v(null,"reduce","reduce",1358839360,null);zaa=new $APP.v(null,"dissoc!","dissoc!",333592624,null);Aaa=new $APP.v(null,"postwalk","postwalk",967039904,null);ES=new $APP.v(null,"reify*","reify*",1646945123,null);Baa=new $APP.v("cljs.tools.reader.edn","read-char*","cljs.tools.reader.edn/read-char*",-606185164,null);$APP.FS=new $APP.K(null,"f","f",-1597136552);Qv=new $APP.K(null,"invocation-self-idx","invocation-self-idx",-1258983407);
Caa=new $APP.v("cljs.core","var-get","cljs.core/var-get",-91823622,null);Daa=new $APP.v(null,"alter-meta!","alter-meta!",1510444945,null);Eaa=new $APP.v(null,"float?","float?",673884616,null);Faa=new $APP.v(null,"difference","difference",-738334373,null);Gaa=new $APP.v(null,"read-date","read-date",1874308181,null);GS=new $APP.v(null,"replace","replace",853943757,null);$APP.HS=new $APP.v(null,"mapcat","mapcat",-601348859,null);Haa=new $APP.v(null,"chunk-first","chunk-first",1379046752,null);
yr=new $APP.v("cljs.core","get","cljs.core/get",-296075407,null);Iaa=new $APP.v(null,"prn","prn",1561684909,null);Yk=new $APP.v(null,"let*","let*",1920721458,null);ou=new $APP.K(null,"reload-all","reload-all",761570200);IS=new $APP.v(null,"deftype","deftype",1980826088,null);JS=new $APP.v("cljs.core","hash-map","cljs.core/hash-map",303385767,null);Jaa=new $APP.v(null,"doall","doall",988520834,null);Io=new $APP.K(null,"row-key","row-key",-1189010712);Ok=new $APP.v(null,"try","try",-1273693247,null);
ro=new $APP.v("clojure.core","unquote-splicing","clojure.core/unquote-splicing",-552003150,null);Kaa=new $APP.v(null,"special-symbol?","special-symbol?",-731144617,null);Laa=new $APP.v(null,"cljs.core.IDeref","cljs.core.IDeref",-783543206,null);iB=new $APP.K(null,"keyword-fn","keyword-fn",-64566675);fv=new $APP.K(null,"recur-target","recur-target",-1909494536);Maa=new $APP.v(null,"eduction","eduction",1445227968,null);Naa=new $APP.v(null,"make-hierarchy","make-hierarchy",-241558556,null);
$APP.Ux=new $APP.K(null,"private","private",-558947994);Bt=new $APP.K(null,"refers","refers",158076809);Oaa=new $APP.v(null,"comparator","comparator",-509539107,null);KS=new $APP.v(null,"clojure.repl","clojure.repl",570897595,null);gu=new $APP.K("sci.impl","required-fn","sci.impl/required-fn",2082701278);LS=new $APP.v(null,"reverse","reverse",752076261,null);Du=new $APP.K(null,"require","require",-468001333);Paa=new $APP.v(null,"some?","some?",234752293,null);
Qaa=new $APP.v(null,"random-sample","random-sample",-914181101,null);Raa=new $APP.v(null,"pred","pred",-727012372,null);MS=new $APP.v(null,"start__32570__auto__","start__32570__auto__",-411947665,null);Saa=new $APP.v(null,"namespace","namespace",1263021155,null);Ys=new $APP.v(null,"farg__25993__auto__","farg__25993__auto__",1468085486,null);NS=new $APP.v(null,"n__29730__auto__","n__29730__auto__",-898286695,null);Taa=new $APP.v(null,"type-\x3estr","type-\x3estr",360030041,null);
OS=new $APP.v(null,"prefer-table__24871__auto__","prefer-table__24871__auto__",-209434560,null);Uaa=new $APP.v(null,"cljs.core.IReset","cljs.core.IReset",348905844,null);$APP.PS=new $APP.v(null,"let","let",358118826,null);Vaa=new $APP.v(null,"string","string",-349010059,null);mq=new $APP.K(null,"loc","loc",-584284901);Cw=new $APP.v(null,"import","import",241030818,null);Waa=new $APP.v(null,"undefined?","undefined?",1356377224,null);
QS=new $APP.v(null,"ns__30538__auto__","ns__30538__auto__",930774244,null);Yt=new $APP.K(null,"refer","refer",-964295553);RS=new $APP.v(null,"require","require",1172530194,null);Xaa=new $APP.v(null,"assoc","assoc",2071440380,null);SS=new $APP.v(null,"ns-unmap","ns-unmap",1255260993,null);Yaa=new $APP.v(null,"drop-last","drop-last",-1123611530,null);TS=new $APP.v(null,"clauses","clauses",-1199594528,null);Zaa=new $APP.v(null,"split-at","split-at",-60953742,null);
$APP.pA=new $APP.K(null,"validator","validator",-1966190681);US=new $APP.v(null,"time","time",-1268547887,null);VS=new $APP.v(null,"-reified-methods","-reified-methods",1702712518,null);$aa=new $APP.v(null,"subvec","subvec",364611032,null);aba=new $APP.v(null,"multi-fn-impl","multi-fn-impl",187651105,null);Co=new $APP.K(null,"syntax-quote","syntax-quote",-1233164847);bba=new $APP.v(null,"aclone","aclone",722978531,null);
fp=new $APP.K("edamame.impl.parser","expected-delimiter","edamame.impl.parser/expected-delimiter",2057965803);$APP.Sr=new $APP.K(null,"namespaces","namespaces",-1444157469);WS=new $APP.v(null,"toString","toString",-95766347,null);cba=new $APP.v(null,"split","split",1041096409,null);$APP.XS=new $APP.v(null,"defonce","defonce",-1681484013,null);dba=new $APP.v(null,"bit-shift-right","bit-shift-right",884046498,null);YS=new $APP.v("cljs.core","pr-str","cljs.core/pr-str",-552799478,null);
$APP.ZS=new $APP.v("cljs.core","str","cljs.core/str",-1971828991,null);eba=new $APP.v(null,"integer?","integer?",1303791671,null);fba=new $APP.v(null,"transient","transient",899115069,null);$S=new $APP.v(null,"l__29889__auto__","l__29889__auto__",1945473224,null);aT=new $APP.v(null,"and__30353__auto__","and__30353__auto__",462426098,null);Lo=new $APP.K(null,"end-col-key","end-col-key",81813304);gba=new $APP.v(null,"identity","identity",-1007039734,null);
vo=new $APP.v("clojure.core","concat","clojure.core/concat",-1236478952,null);hba=new $APP.v(null,"last","last",-1548700637,null);iba=new $APP.K(null,"no-test","no-test",-1679482642);bT=new $APP.v(null,"*ns*","*ns*",740153818,null);jba=new $APP.v("cljs.core","-","cljs.core/-",187040141,null);jn=new $APP.K(null,"character","character",380652989);$APP.cT=new $APP.v(null,"forms","forms",-608443419,null);kba=new $APP.v(null,"PersistentQueue","PersistentQueue",-160870792,null);
dT=new $APP.v("cljs.core","\x3c","cljs.core/\x3c",1677496129,null);lba=new $APP.K(null,"\x3e\x3e","\x3e\x3e",-277509267);eT=new $APP.v(null,"while","while",-1691317983,null);$APP.fT=new $APP.v("cljs.core","\x3d","cljs.core/\x3d",-1891498332,null);mba=new $APP.v(null,"-pr-writer","-pr-writer",-445354136,null);nba=new $APP.v(null,"bit-test","bit-test",543456753,null);Kn=new $APP.K(null,"namespaced-map","namespaced-map",1235665380);$APP.gT=new $APP.K(null,"exception","exception",-335277064);
oba=new $APP.K(null,"pre","pre",2118456869);Kv=new $APP.K(null,"min-varargs","min-varargs",1999010596);Zu=new $APP.v(null,"expand-dot*","expand-dot*",-1946890561,null);hT=new $APP.v(null,"*err*","*err*",2070937226,null);pba=new $APP.v(null,"char","char",998943941,null);Fo=new $APP.v("clojure.core","vec","clojure.core/vec",146271141,null);iT=new $APP.K("sci.impl","var","sci.impl/var",-2041185552);jT=new $APP.v(null,"Object","Object",61210754,null);
qba=new $APP.K("sci.impl.namespaces","TODO","sci.impl.namespaces/TODO",-1842365958);rba=new $APP.v(null,"group-by","group-by",1261391725,null);sba=new $APP.v(null,"unchecked-divide-int","unchecked-divide-int",1613116468,null);kT=new $APP.v(null,"temp__29816__auto__","temp__29816__auto__",-1183779305,null);tba=new $APP.v(null,"flatten","flatten",-1441633353,null);$APP.lT=new $APP.v("cljs.core","var?","cljs.core/var?",1711182854,null);
uba=new $APP.v(null,"unchecked-short","unchecked-short",27848057,null);vba=new $APP.v(null,"sequence","sequence",-1727628355,null);wba=new $APP.v(null,"quot","quot",-1125214196,null);mT=new $APP.v("cljs.core","zipmap","cljs.core/zipmap",-1902130674,null);xba=new $APP.v(null,"tree-seq","tree-seq",-1800921632,null);nT=new $APP.v(null,"*print-namespace-maps*","*print-namespace-maps*",-1759108415,null);$APP.oT=new $APP.K(null,"end-line","end-line",1837326455);
yba=new $APP.v("cljs.core","-reified-methods","cljs.core/-reified-methods",-1833109469,null);zba=new $APP.v(null,"some-fn","some-fn",-490044165,null);Aba=new $APP.v(null,"ns-name","ns-name",-436814796,null);dt=new $APP.v("cljs.core","get-method","cljs.core/get-method",-487793502,null);Bba=new $APP.v(null,"munge","munge",-174396700,null);pT=new $APP.K(null,"while","while",963117786);qT=new $APP.v(null,"resolve","resolve",56086045,null);Cba=new $APP.v(null,"repeatedly","repeatedly",1199964457,null);
rT=new $APP.v(null,"in-ns","in-ns",-2089468466,null);$APP.fr=new $APP.K(null,"macro","macro",-867863404);var Dba;Dba=RegExp("([\\uD800-\\uDBFF])([\\uDC00-\\uDFFF])","g");$APP.rr=function rr(a){switch(arguments.length){case 1:return rr.o(arguments[0]);case 2:return rr.j(arguments[0],arguments[1]);default:throw Error(["Invalid arity: ",$APP.t.o(arguments.length)].join(""));}};$APP.rr.o=function(a){var b=new $APP.eb;for(a=$APP.x(a);;)if(null!=a)b=b.append($APP.t.o($APP.y(a))),a=$APP.z(a);else return b.toString()};
$APP.rr.j=function(a,b){var c=new $APP.eb;for(b=$APP.x(b);;)if(null!=b)c.append($APP.t.o($APP.y(b))),b=$APP.z(b),null!=b&&c.append(a);else return c.toString()};$APP.rr.B=2;$APP.El=function El(a){switch(arguments.length){case 2:return El.j(arguments[0],arguments[1]);case 3:return El.v(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",$APP.t.o(arguments.length)].join(""));}};$APP.El.j=function(a,b){return $APP.El.v(a,b,0)};
$APP.El.v=function(a,b,c){if("/(?:)/"===$APP.t.o(b))b=Dl(a,c);else if(1>c)b=$APP.jh($APP.t.o(a).split(b));else a:for(var d=c,e=$APP.ih;;){if(1===d){b=$APP.tf.j(e,a);break a}var f=$APP.kj(b,a);if(null!=f){var g=a.indexOf(f);f=a.substring(g+$APP.ge(f));--d;e=$APP.tf.j(e,a.substring(0,g));a=f}else{b=$APP.tf.j(e,a);break a}}if(0===c&&1<$APP.ge(b))a:for(c=b;;)if(""===$APP.xe(c))c=$APP.ye(c);else break a;else c=b;return c};$APP.El.B=3;
var sT=function sT(a){switch(arguments.length){case 2:return sT.j(arguments[0],arguments[1]);case 3:return sT.v(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",$APP.t.o(arguments.length)].join(""));}};sT.j=function(a,b){a=a.indexOf(b);return 0>a?null:a};sT.v=function(a,b,c){a=a.indexOf(b,c);return 0>a?null:a};sT.B=3;
var At=function At(a){switch(arguments.length){case 2:return At.j(arguments[0],arguments[1]);case 3:return At.v(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",$APP.t.o(arguments.length)].join(""));}};At.j=function(a,b){a=a.lastIndexOf(b);return 0>a?null:a};At.v=function(a,b,c){a=a.lastIndexOf(b,c);return 0>a?null:a};At.B=3;$APP.m=$APP.Jl.prototype;$APP.m.sa=function(a,b){return this.V(null,b,null)};$APP.m.V=function(a,b,c){switch(b instanceof $APP.K?b.ia:null){case "splicing?":return this.Ac;case "form":return this.form;default:return $APP.Re.v(this.G,b,c)}};$APP.m.tb=function(a,b,c){return $APP.cf.v(function(d,e){var f=$APP.D.v(e,0,null);e=$APP.D.v(e,1,null);return b.v?b.v(d,f,e):b.call(null,d,f,e)},c,this)};
$APP.m.Z=function(a,b,c){return $APP.pj(b,function(d){return $APP.pj(b,$APP.vj,""," ","",c,d)},"#cljs.tools.reader.impl.utils.ReaderConditional{",", ","}",c,$APP.Q.j(new $APP.N(null,2,5,$APP.O,[new $APP.N(null,2,5,$APP.O,[mS,this.Ac],null),new $APP.N(null,2,5,$APP.O,[RG,this.form],null)],null),this.G))};$APP.m.Aa=function(){return new $APP.Ch(this,2,new $APP.N(null,2,5,$APP.O,[mS,RG],null),$APP.p(this.G)?$APP.ld(this.G):$APP.fg())};$APP.m.aa=function(){return this.O};$APP.m.ka=$APP.ha(37);
$APP.m.ma=function(){return 2+$APP.ge(this.G)};$APP.m.ga=function(){var a=this.N;return null!=a?a:this.N=a=-209062840^$APP.Qd(this)};$APP.m.U=function(a,b){return null!=b&&this.constructor===b.constructor&&$APP.A.j(this.Ac,b.Ac)&&$APP.A.j(this.form,b.form)&&$APP.A.j(this.G,b.G)};
$APP.m.yb=function(a,b){return $APP.Te(new $APP.Qi(null,new $APP.n(null,2,[mS,null,RG,null],null),null),b)?$APP.nm.j($APP.sc($APP.Nh.j($APP.$f,this),this.O),b):new $APP.Jl(this.Ac,this.form,this.O,$APP.bg($APP.nm.j(this.G,b)),null)};$APP.m.Wa=function(a,b){switch(b instanceof $APP.K?b.ia:null){case "splicing?":case "form":return!0;default:return $APP.Te(this.G,b)}};
$APP.m.pa=function(a,b,c){return $APP.p($APP.zf.j?$APP.zf.j(mS,b):$APP.zf.call(null,mS,b))?new $APP.Jl(c,this.form,this.O,this.G,null):$APP.p($APP.zf.j?$APP.zf.j(RG,b):$APP.zf.call(null,RG,b))?new $APP.Jl(this.Ac,c,this.O,this.G,null):new $APP.Jl(this.Ac,this.form,this.O,$APP.Ni.v(this.G,b,c),null)};$APP.m.ja=function(){return $APP.x($APP.Q.j(new $APP.N(null,2,5,$APP.O,[new $APP.Ue(mS,this.Ac,null),new $APP.Ue(RG,this.form,null)],null),this.G))};
$APP.m.ea=function(a,b){return new $APP.Jl(this.Ac,this.form,b,this.G,this.N)};$APP.m.oa=function(a,b){return $APP.Ge(b)?this.pa(null,$APP.re(b,0),$APP.re(b,1)):$APP.cf.v($APP.Nb,this,b)};$APP.m.ta=$APP.wd;$APP.m.Z=function(a,b,c){$APP.Mc(b,["#?",$APP.p(this.Ac)?"@":null].join(""));return $APP.vj(this.form,b,c)};var Ll=/[\s]/;$APP.Yj.o(0);Yl.prototype.la=function(){if(this.hh>this.Od){var a=this.s.charAt(this.Od);this.Od+=1;return a}return null};Yl.prototype.Sb=function(){return this.hh>this.Od?this.s.charAt(this.Od):null};$l.prototype.la=function(){var a=this.nc<this.gf?this.gd[this.nc]:this.lc.la(null);this.nc<this.gf&&(this.nc+=1);return null==a?null:$APP.hf(a)};$l.prototype.Sb=function(){var a=this.nc<this.gf?this.gd[this.nc]:this.lc.Sb(null);return null==a?null:$APP.hf(a)};
$l.prototype.Fc=function(a,b){if($APP.p(b)){if(0===this.nc)throw Error("Pushback buffer is full");--this.nc;return this.gd[this.nc]=b}return null};$APP.m=bm.prototype;$APP.m.la=function(){var a=this.lc.la(null);return $APP.p(a)?(a=am(this.lc,a),this.prev=this.vc,this.vc=Ol(a),$APP.p(this.vc)&&(this.le=this.column,this.column=0,this.line+=1),this.column+=1,a):null};$APP.m.Sb=function(){return this.lc.Sb(null)};
$APP.m.Fc=function(a,b){$APP.p(this.vc)?(--this.line,this.column=this.le):--this.column;this.vc=this.prev;return this.lc.Fc(null,b)};$APP.m.Ag=$APP.wd;$APP.m.ld=function(){return this.line|0};$APP.m.kd=function(){return this.column|0};$APP.m.Bg=function(){return this.Ge};$APP.m=em.prototype;
$APP.m.la=function(){var a=this.lc.la(null);if($APP.p(a)){a=am(this.lc,a);this.prev=this.vc;this.vc=Ol(a);$APP.p(this.vc)&&(this.le=this.column,this.column=0,this.line+=1);this.column+=1;var b=$APP.u(this.frames);b=$APP.cm.o(b);$APP.p(b)&&b.append(a);return a}return null};$APP.m.Sb=function(){return this.lc.Sb(null)};
$APP.m.Fc=function(a,b){$APP.p(this.vc)?(--this.line,this.column=this.le):--this.column;this.vc=this.prev;$APP.p(b)&&(a=$APP.u(this.frames),a=$APP.cm.o(a),$APP.p(a)&&a.set($APP.lj.v($APP.t.o(a),0,a.getLength()-1)));return this.lc.Fc(null,b)};$APP.m.Ag=$APP.wd;$APP.m.ld=function(){return this.line|0};$APP.m.kd=function(){return this.column|0};$APP.m.Bg=function(){return this.Ge};var qm,Eba=$APP.Yj.o($APP.$f),Fba=$APP.Yj.o($APP.$f),Gba=$APP.Yj.o($APP.$f),Hba=$APP.Yj.o($APP.$f),Iba=$APP.Re.v($APP.$f,$APP.Ss,$APP.ik.C?$APP.ik.C():$APP.ik.call(null));
qm=new $APP.Bk($APP.Gj.j("cljs.tools.reader.impl.inspect","inspect*"),function(a,b){return null==b?pB:"string"===typeof b?$APP.Km:b instanceof $APP.K?TK:"number"===typeof b?TK:b instanceof $APP.v?TK:$APP.Ge(b)?$APP.rn:qf(b)?$APP.pn:$APP.Ee(b)?$APP.tn:$APP.Be(b)?$APP.Hn:$APP.A.j(b,!0)?TK:$APP.A.j(b,!1)?TK:$APP.Ab(b)},$APP.Sn,Iba,Eba,Fba,Gba,Hba);qm.Qa(null,$APP.Km,function(a,b){a=$APP.p(a)?5:20;var c=b.length>a?'..."':'"',d=b.length;return['"',$APP.t.o(b.substring(0,a<d?a:d)),c].join("")});
qm.Qa(null,TK,function(a,b){return $APP.t.o(b)});qm.Qa(null,$APP.Fd,function(){return"\x3cindexed seq\x3e"});qm.Qa(null,$APP.Gh,function(){return"\x3cmap seq\x3e"});qm.Qa(null,$APP.ji,function(){return"\x3cmap seq\x3e"});qm.Qa(null,$APP.vf,function(){return"\x3ccons\x3e"});qm.Qa(null,$APP.Ff,function(){return"\x3clazy seq\x3e"});qm.Qa(null,pB,function(){return"nil"});qm.Qa(null,$APP.pn,function(a,b){return sm(a,b,"(",")")});
qm.Qa(null,$APP.tn,function(a,b){var c=$APP.ge(b),d=$APP.p(a)?0:c;b=$APP.wg.j($APP.Q,$APP.Ig.j(d,b));return sm(a,b,"{",c>d?"...}":"}")});qm.Qa(null,$APP.Hn,function(a,b){return sm(a,b,"#{","}")});qm.Qa(null,$APP.rn,function(a,b){return sm(a,b,"[","]")});qm.Qa(null,$APP.Sn,function(a,b){return $APP.Uj.A($APP.F([$APP.Ab(b)]))});var Tm=/^([-+]?)(?:(0)|([1-9][0-9]*)|0[xX]([0-9A-Fa-f]+)|0([0-7]+)|([1-9][0-9]?)[rR]([0-9A-Za-z]+)|0[0-9]+)(N)?$/,Vm=/([-+]?[0-9]+)\/([0-9]+)/,Um=/([-+]?[0-9]+(\.[0-9]*)?([eE][-+]?[0-9]+)?)(M)?/,Qn=function Qn(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=1<c.length?new $APP.Fd(c.slice(1),0,null):null;return Qn.A(arguments[0],c)};Qn.A=function(a){for(;!Ol(a.la(null)););return a};Qn.B=1;Qn.F=function(a){var b=$APP.y(a);a=$APP.z(a);return this.A(b,a)};new $APP.eb;var Zn=function(){var a=new $APP.N(null,13,5,$APP.O,[null,31,28,31,30,31,30,31,31,30,31,30,31],null),b=new $APP.N(null,13,5,$APP.O,[null,31,29,31,30,31,30,31,31,30,31,30,31],null);return function(c,d){return $APP.Re.j($APP.p(d)?b:a,c)}}(),Yn=/(\d\d\d\d)(?:-(\d\d)(?:-(\d\d)(?:[T](\d\d)(?::(\d\d)(?::(\d\d)(?:[.](\d+))?)?)?)?)?)?(?:[Z]|([-+])(\d\d):(\d\d))?/,tT=$APP.Yj.o(null),uT=$APP.Yj.o($APP.mm.A($APP.F([new $APP.n(null,4,[nE,ao,ZQ,function(a){if("string"===typeof a)return new $APP.Dk(a.toLowerCase(),
null);throw Error("UUID literal expects a string as its representation.");},wS,function(a){if($APP.Ge(a))return $APP.Nh.j($APP.AA,a);throw Error("Queue literal expects a vector for its elements.");},mK,function(a){if($APP.Ge(a)){var b=[];a=$APP.x(a);for(var c=null,d=0,e=0;;)if(e<d){var f=c.fa(null,e);b.push(f);e+=1}else if(a=$APP.x(a))c=a,$APP.He(c)?(a=$APP.bd(c),e=$APP.cd(c),c=a,d=$APP.ge(a),a=e):(a=$APP.y(c),b.push(a),a=$APP.z(c),c=null,d=0),e=0;else break;return b}if($APP.Ee(a)){b={};a=$APP.x(a);
c=null;for(e=d=0;;)if(e<d){var g=c.fa(null,e);f=$APP.D.v(g,0,null);g=$APP.D.v(g,1,null);f=$APP.Yi(f);b[f]=g;e+=1}else if(a=$APP.x(a))$APP.He(a)?(d=$APP.bd(a),a=$APP.cd(a),c=d,d=$APP.ge(d)):(d=$APP.y(a),c=$APP.D.v(d,0,null),d=$APP.D.v(d,1,null),c=$APP.Yi(c),b[c]=d,a=$APP.z(a),c=null,d=0),e=0;else break;return b}throw Error("JS literal expects a vector or map containing only string or unqualified keyword keys");}],null),$APP.$f]))),vT=function vT(a){switch(arguments.length){case 1:return vT.o(arguments[0]);
case 2:return vT.j(arguments[0],arguments[1]);case 4:return vT.J(arguments[0],arguments[1],arguments[2],arguments[3]);default:throw Error(["Invalid arity: ",$APP.t.o(arguments.length)].join(""));}};vT.o=function(a){return Tn(new $APP.n(null,3,[Rn,$APP.u(uT),$APP.Sn,$APP.u(tT),Fm,null],null),a)};vT.j=function(a,b){a=$APP.ag(a);$APP.Re.j(a,Fm);return Tn($APP.jo.v($APP.mm.A($APP.F([a,new $APP.n(null,1,[$APP.Sn,$APP.u(tT)],null)])),Rn,function(c){return $APP.mm.A($APP.F([$APP.u(uT),c]))}),b)};
vT.J=function(a,b,c,d){return mn(a,b,c,$APP.jo.v($APP.mm.A($APP.F([d,new $APP.n(null,1,[$APP.Sn,$APP.u(tT)],null)])),Rn,function(e){return $APP.mm.A($APP.F([$APP.u(uT),e]))}))};vT.B=4;$APP.wT=function wT(a){switch(arguments.length){case 1:return wT.o(arguments[0]);case 2:return wT.j(arguments[0],arguments[1]);default:throw Error(["Invalid arity: ",$APP.t.o(arguments.length)].join(""));}};$APP.wT.o=function(a){return Vn(new $APP.n(null,3,[Rn,$APP.u(uT),$APP.Sn,$APP.u(tT),Fm,null],null),a)};
$APP.wT.j=function(a,b){return Vn($APP.jo.v($APP.mm.A($APP.F([new $APP.n(null,1,[$APP.Sn,$APP.u(tT)],null),a])),Rn,function(c){return $APP.mm.A($APP.F([$APP.u(uT),c]))}),b)};$APP.wT.B=2;var Rp=$APP.mm.A($APP.F([new $APP.n(null,4,[wS,function(a){if(!$APP.Ge(a))throw Error("Queue literal expects a vector for its elements.");return new $APP.J(null,oJ,new $APP.J(null,YG,new $APP.J(null,a,null,1,null),2,null),3,null)},ZQ,function(a){if("string"!==typeof a)throw Error("UUID literal expects a string as its representation.");try{return new $APP.Dk(a.toLowerCase(),null)}catch(b){throw Error(b.message);}},nE,function(a){if("string"!==typeof a)throw Error("Instance literal expects a string for its timestamp.");
try{var b=new $APP.Cd(function(){return ao},eC,$APP.ti([$APP.Ux,$APP.$q,$APP.T,$APP.wm,$APP.vD,$APP.Un,$APP.xm,$APP.oT,$APP.V,$APP.X,$APP.nS],[!0,AJ,Gaa,"cljs/reader.cljs",26,1,92,92,$APP.P(new $APP.N(null,1,5,$APP.O,[oI],null)),null,$APP.p(ao)?ao.X:null]));return b.o?b.o(a):b.call(null,a)}catch(c){throw Error(c.message);}},mK,function(a){if(!$APP.Ge(a)&&!$APP.Ee(a))throw Error("JavaScript literal must use map or vector notation");if($APP.Ee(a)&&!$APP.tg(bo,$APP.Ii(a)))throw Error("JavaScript literal keys must be strings or unqualified keywords");
return new co(a)}],null)]));var io=function io(a,b){return fo($APP.pm.j(io,a),a,b)};var lp={},mp={},Fp=$APP.u(new $APP.Cd(function(){return Xm},vC,$APP.ti([$APP.$q,$APP.T,$APP.wm,$APP.vD,$APP.Un,$APP.xm,$APP.oT,$APP.V,$APP.X,$APP.nS],[uS,EN,"cljs/tools/reader/impl/commons.cljs",19,1,97,97,$APP.P(new $APP.N(null,1,5,$APP.O,[vaa],null)),"Parses a string into a vector of the namespace and symbol",$APP.p(Xm)?Xm.X:null]))),gq=$APP.u(new $APP.Cd(function(){return Qm},JM,$APP.ti([$APP.$q,$APP.T,$APP.wm,$APP.vD,$APP.Un,$APP.xm,$APP.oT,$APP.Fn,$APP.V,$APP.X,$APP.nS],[uS,FG,"cljs/tools/reader/impl/commons.cljs",
31,1,20,20,$APP.XE,$APP.P(new $APP.N(null,2,5,$APP.O,[$APP.ve(zE,new $APP.n(null,1,[$APP.Fn,UC],null)),pC],null)),"Checks whether the reader is at the start of a number literal",Qm?Qm.X:null]))),$o=$APP.u(new $APP.Cd(function(){return yn},$F,$APP.ti([$APP.Ux,$APP.$q,$APP.T,$APP.wm,$APP.vD,$APP.Un,$APP.xm,$APP.oT,$APP.V,$APP.X,$APP.nS],[!0,aR,OQ,"cljs/tools/reader/edn.cljs",19,1,217,217,$APP.P(new $APP.N(null,2,5,$APP.O,[tL,tK],null)),null,$APP.p(yn)?yn.X:null]))),cq=$APP.u(new $APP.Cd(function(){return kn},
Baa,$APP.ti([$APP.Ux,$APP.$q,$APP.T,$APP.wm,$APP.vD,$APP.Un,$APP.xm,$APP.oT,$APP.V,$APP.X,$APP.nS],[!0,aR,$B,"cljs/tools/reader/edn.cljs",18,1,118,118,$APP.P(new $APP.N(null,3,5,$APP.O,[tK,PE,$APP.nC],null)),null,$APP.p(kn)?kn.X:null]))),Lp=$APP.u(new $APP.Cd(function(){return Pn},FL,$APP.ti([$APP.Ux,$APP.$q,$APP.T,$APP.wm,$APP.vD,$APP.Un,$APP.xm,$APP.oT,$APP.V,$APP.X,$APP.nS],[!0,aR,TQ,"cljs/tools/reader/edn.cljs",27,1,324,324,$APP.P(new $APP.N(null,3,5,$APP.O,[tK,$APP.XH,$APP.nC],null)),null,$APP.p(Pn)?
Pn.X:null])));$APP.m=$APP.bp.prototype;$APP.m.sa=function(a,b){return this.V(null,b,null)};$APP.m.V=function(a,b,c){switch(b instanceof $APP.K?b.ia:null){case "row":return this.row;case "col":return this.Gc;default:return $APP.Re.v(this.G,b,c)}};$APP.m.tb=function(a,b,c){return $APP.cf.v(function(d,e){var f=$APP.D.v(e,0,null);e=$APP.D.v(e,1,null);return b.v?b.v(d,f,e):b.call(null,d,f,e)},c,this)};
$APP.m.Z=function(a,b,c){return $APP.pj(b,function(d){return $APP.pj(b,$APP.vj,""," ","",c,d)},"#edamame.impl.parser.Loc{",", ","}",c,$APP.Q.j(new $APP.N(null,2,5,$APP.O,[new $APP.N(null,2,5,$APP.O,[Qo,this.row],null),new $APP.N(null,2,5,$APP.O,[ym,this.Gc],null)],null),this.G))};$APP.m.Aa=function(){return new $APP.Ch(this,2,new $APP.N(null,2,5,$APP.O,[Qo,ym],null),$APP.p(this.G)?$APP.ld(this.G):$APP.fg())};$APP.m.aa=function(){return this.O};$APP.m.ka=$APP.ha(36);$APP.m.ma=function(){return 2+$APP.ge(this.G)};
$APP.m.ga=function(){var a=this.N;return null!=a?a:this.N=a=1435872067^$APP.Qd(this)};$APP.m.U=function(a,b){return null!=b&&this.constructor===b.constructor&&$APP.A.j(this.row,b.row)&&$APP.A.j(this.Gc,b.Gc)&&$APP.A.j(this.G,b.G)};$APP.m.yb=function(a,b){return $APP.Te(new $APP.Qi(null,new $APP.n(null,2,[ym,null,Qo,null],null),null),b)?$APP.nm.j($APP.sc($APP.Nh.j($APP.$f,this),this.O),b):new $APP.bp(this.row,this.Gc,this.O,$APP.bg($APP.nm.j(this.G,b)),null)};
$APP.m.Wa=function(a,b){switch(b instanceof $APP.K?b.ia:null){case "row":case "col":return!0;default:return $APP.Te(this.G,b)}};$APP.m.pa=function(a,b,c){return $APP.p($APP.zf.j?$APP.zf.j(Qo,b):$APP.zf.call(null,Qo,b))?new $APP.bp(c,this.Gc,this.O,this.G,null):$APP.p($APP.zf.j?$APP.zf.j(ym,b):$APP.zf.call(null,ym,b))?new $APP.bp(this.row,c,this.O,this.G,null):new $APP.bp(this.row,this.Gc,this.O,$APP.Ni.v(this.G,b,c),null)};
$APP.m.ja=function(){return $APP.x($APP.Q.j(new $APP.N(null,2,5,$APP.O,[new $APP.Ue(Qo,this.row,null),new $APP.Ue(ym,this.Gc,null)],null),this.G))};$APP.m.ea=function(a,b){return new $APP.bp(this.row,this.Gc,b,this.G,this.N)};$APP.m.oa=function(a,b){return $APP.Ge(b)?this.pa(null,$APP.re(b,0),$APP.re(b,1)):$APP.cf.v($APP.Nb,this,b)};var np=$APP.Gj.o("non-match");$APP.m=$APP.oq.prototype;$APP.m.sa=function(a,b){return this.V(null,b,null)};
$APP.m.V=function(a,b,c){switch(b instanceof $APP.K?b.ia:null){case "dispatch":return this.bb;case "deref":return this.deref;case "syntax-quote":return this.nb;case "unquote":return this.ob;case "unquote-splicing":return this.pb;case "quote":return this.quote;case "fn":return this.fn;case "var":return this.Pa;case "read-eval":return this.jb;case "regex":return this.kb;case "row-key":return this.lb;case "col-key":return this.ab;case "end-row-key":return this.fb;case "end-col-key":return this.cb;case "source":return this.source;
case "source-key":return this.mb;case "postprocess":return this.ib;case "location?":return this.hb;case "end-location":return this.eb;default:return $APP.Re.v(this.G,b,c)}};$APP.m.tb=function(a,b,c){return $APP.cf.v(function(d,e){var f=$APP.D.v(e,0,null);e=$APP.D.v(e,1,null);return b.v?b.v(d,f,e):b.call(null,d,f,e)},c,this)};
$APP.m.Z=function(a,b,c){return $APP.pj(b,function(d){return $APP.pj(b,$APP.vj,""," ","",c,d)},"#edamame.impl.parser.Options{",", ","}",c,$APP.Q.j(new $APP.N(null,19,5,$APP.O,[new $APP.N(null,2,5,$APP.O,[$APP.pq,this.bb],null),new $APP.N(null,2,5,$APP.O,[$APP.$p,this.deref],null),new $APP.N(null,2,5,$APP.O,[Co,this.nb],null),new $APP.N(null,2,5,$APP.O,[eq,this.ob],null),new $APP.N(null,2,5,$APP.O,[fq,this.pb],null),new $APP.N(null,2,5,$APP.O,[bq,this.quote],null),new $APP.N(null,2,5,$APP.O,[Np,this.fn],
null),new $APP.N(null,2,5,$APP.O,[Mp,this.Pa],null),new $APP.N(null,2,5,$APP.O,[Pp,this.jb],null),new $APP.N(null,2,5,$APP.O,[Kp,this.kb],null),new $APP.N(null,2,5,$APP.O,[Io,this.lb],null),new $APP.N(null,2,5,$APP.O,[Jo,this.ab],null),new $APP.N(null,2,5,$APP.O,[Ko,this.fb],null),new $APP.N(null,2,5,$APP.O,[Lo,this.cb],null),new $APP.N(null,2,5,$APP.O,[lm,this.source],null),new $APP.N(null,2,5,$APP.O,[nq,this.mb],null),new $APP.N(null,2,5,$APP.O,[iq,this.ib],null),new $APP.N(null,2,5,$APP.O,[jq,
this.hb],null),new $APP.N(null,2,5,$APP.O,[kq,this.eb],null)],null),this.G))};$APP.m.Aa=function(){return new $APP.Ch(this,19,new $APP.N(null,19,5,$APP.O,[$APP.pq,$APP.$p,Co,eq,fq,bq,Np,Mp,Pp,Kp,Io,Jo,Ko,Lo,lm,nq,iq,jq,kq],null),$APP.p(this.G)?$APP.ld(this.G):$APP.fg())};$APP.m.aa=function(){return this.O};$APP.m.ka=$APP.ha(35);$APP.m.ma=function(){return 19+$APP.ge(this.G)};$APP.m.ga=function(){var a=this.N;return null!=a?a:this.N=a=-1037796634^$APP.Qd(this)};
$APP.m.U=function(a,b){return null!=b&&this.constructor===b.constructor&&$APP.A.j(this.bb,b.bb)&&$APP.A.j(this.deref,b.deref)&&$APP.A.j(this.nb,b.nb)&&$APP.A.j(this.ob,b.ob)&&$APP.A.j(this.pb,b.pb)&&$APP.A.j(this.quote,b.quote)&&$APP.A.j(this.fn,b.fn)&&$APP.A.j(this.Ai,b.Ai)&&$APP.A.j(this.jb,b.jb)&&$APP.A.j(this.kb,b.kb)&&$APP.A.j(this.lb,b.lb)&&$APP.A.j(this.ab,b.ab)&&$APP.A.j(this.fb,b.fb)&&$APP.A.j(this.cb,b.cb)&&$APP.A.j(this.source,b.source)&&$APP.A.j(this.mb,b.mb)&&$APP.A.j(this.ib,b.ib)&&
$APP.A.j(this.hb,b.hb)&&$APP.A.j(this.eb,b.eb)&&$APP.A.j(this.G,b.G)};
$APP.m.yb=function(a,b){return $APP.Te(new $APP.Qi(null,new $APP.n(null,19,[Np,null,fq,null,kq,null,jq,null,eq,null,Ko,null,Io,null,Jo,null,nq,null,Pp,null,lm,null,$APP.pq,null,Co,null,Mp,null,bq,null,$APP.$p,null,Kp,null,Lo,null,iq,null],null),null),b)?$APP.nm.j($APP.sc($APP.Nh.j($APP.$f,this),this.O),b):new $APP.oq(this.bb,this.deref,this.nb,this.ob,this.pb,this.quote,this.fn,this.Pa,this.jb,this.kb,this.lb,this.ab,this.fb,this.cb,this.source,this.mb,this.ib,this.hb,this.eb,this.O,$APP.bg($APP.nm.j(this.G,
b)),null)};$APP.m.Wa=function(a,b){switch(b instanceof $APP.K?b.ia:null){case "dispatch":case "deref":case "syntax-quote":case "unquote":case "unquote-splicing":case "quote":case "fn":case "var":case "read-eval":case "regex":case "row-key":case "col-key":case "end-row-key":case "end-col-key":case "source":case "source-key":case "postprocess":case "location?":case "end-location":return!0;default:return $APP.Te(this.G,b)}};
$APP.m.pa=function(a,b,c){return $APP.p($APP.zf.j?$APP.zf.j($APP.pq,b):$APP.zf.call(null,$APP.pq,b))?new $APP.oq(c,this.deref,this.nb,this.ob,this.pb,this.quote,this.fn,this.Pa,this.jb,this.kb,this.lb,this.ab,this.fb,this.cb,this.source,this.mb,this.ib,this.hb,this.eb,this.O,this.G,null):$APP.p($APP.zf.j?$APP.zf.j($APP.$p,b):$APP.zf.call(null,$APP.$p,b))?new $APP.oq(this.bb,c,this.nb,this.ob,this.pb,this.quote,this.fn,this.Pa,this.jb,this.kb,this.lb,this.ab,this.fb,this.cb,this.source,this.mb,this.ib,
this.hb,this.eb,this.O,this.G,null):$APP.p($APP.zf.j?$APP.zf.j(Co,b):$APP.zf.call(null,Co,b))?new $APP.oq(this.bb,this.deref,c,this.ob,this.pb,this.quote,this.fn,this.Pa,this.jb,this.kb,this.lb,this.ab,this.fb,this.cb,this.source,this.mb,this.ib,this.hb,this.eb,this.O,this.G,null):$APP.p($APP.zf.j?$APP.zf.j(eq,b):$APP.zf.call(null,eq,b))?new $APP.oq(this.bb,this.deref,this.nb,c,this.pb,this.quote,this.fn,this.Pa,this.jb,this.kb,this.lb,this.ab,this.fb,this.cb,this.source,this.mb,this.ib,this.hb,this.eb,
this.O,this.G,null):$APP.p($APP.zf.j?$APP.zf.j(fq,b):$APP.zf.call(null,fq,b))?new $APP.oq(this.bb,this.deref,this.nb,this.ob,c,this.quote,this.fn,this.Pa,this.jb,this.kb,this.lb,this.ab,this.fb,this.cb,this.source,this.mb,this.ib,this.hb,this.eb,this.O,this.G,null):$APP.p($APP.zf.j?$APP.zf.j(bq,b):$APP.zf.call(null,bq,b))?new $APP.oq(this.bb,this.deref,this.nb,this.ob,this.pb,c,this.fn,this.Pa,this.jb,this.kb,this.lb,this.ab,this.fb,this.cb,this.source,this.mb,this.ib,this.hb,this.eb,this.O,this.G,
null):$APP.p($APP.zf.j?$APP.zf.j(Np,b):$APP.zf.call(null,Np,b))?new $APP.oq(this.bb,this.deref,this.nb,this.ob,this.pb,this.quote,c,this.Pa,this.jb,this.kb,this.lb,this.ab,this.fb,this.cb,this.source,this.mb,this.ib,this.hb,this.eb,this.O,this.G,null):$APP.p($APP.zf.j?$APP.zf.j(Mp,b):$APP.zf.call(null,Mp,b))?new $APP.oq(this.bb,this.deref,this.nb,this.ob,this.pb,this.quote,this.fn,c,this.jb,this.kb,this.lb,this.ab,this.fb,this.cb,this.source,this.mb,this.ib,this.hb,this.eb,this.O,this.G,null):$APP.p($APP.zf.j?
$APP.zf.j(Pp,b):$APP.zf.call(null,Pp,b))?new $APP.oq(this.bb,this.deref,this.nb,this.ob,this.pb,this.quote,this.fn,this.Pa,c,this.kb,this.lb,this.ab,this.fb,this.cb,this.source,this.mb,this.ib,this.hb,this.eb,this.O,this.G,null):$APP.p($APP.zf.j?$APP.zf.j(Kp,b):$APP.zf.call(null,Kp,b))?new $APP.oq(this.bb,this.deref,this.nb,this.ob,this.pb,this.quote,this.fn,this.Pa,this.jb,c,this.lb,this.ab,this.fb,this.cb,this.source,this.mb,this.ib,this.hb,this.eb,this.O,this.G,null):$APP.p($APP.zf.j?$APP.zf.j(Io,
b):$APP.zf.call(null,Io,b))?new $APP.oq(this.bb,this.deref,this.nb,this.ob,this.pb,this.quote,this.fn,this.Pa,this.jb,this.kb,c,this.ab,this.fb,this.cb,this.source,this.mb,this.ib,this.hb,this.eb,this.O,this.G,null):$APP.p($APP.zf.j?$APP.zf.j(Jo,b):$APP.zf.call(null,Jo,b))?new $APP.oq(this.bb,this.deref,this.nb,this.ob,this.pb,this.quote,this.fn,this.Pa,this.jb,this.kb,this.lb,c,this.fb,this.cb,this.source,this.mb,this.ib,this.hb,this.eb,this.O,this.G,null):$APP.p($APP.zf.j?$APP.zf.j(Ko,b):$APP.zf.call(null,
Ko,b))?new $APP.oq(this.bb,this.deref,this.nb,this.ob,this.pb,this.quote,this.fn,this.Pa,this.jb,this.kb,this.lb,this.ab,c,this.cb,this.source,this.mb,this.ib,this.hb,this.eb,this.O,this.G,null):$APP.p($APP.zf.j?$APP.zf.j(Lo,b):$APP.zf.call(null,Lo,b))?new $APP.oq(this.bb,this.deref,this.nb,this.ob,this.pb,this.quote,this.fn,this.Pa,this.jb,this.kb,this.lb,this.ab,this.fb,c,this.source,this.mb,this.ib,this.hb,this.eb,this.O,this.G,null):$APP.p($APP.zf.j?$APP.zf.j(lm,b):$APP.zf.call(null,lm,b))?new $APP.oq(this.bb,
this.deref,this.nb,this.ob,this.pb,this.quote,this.fn,this.Pa,this.jb,this.kb,this.lb,this.ab,this.fb,this.cb,c,this.mb,this.ib,this.hb,this.eb,this.O,this.G,null):$APP.p($APP.zf.j?$APP.zf.j(nq,b):$APP.zf.call(null,nq,b))?new $APP.oq(this.bb,this.deref,this.nb,this.ob,this.pb,this.quote,this.fn,this.Pa,this.jb,this.kb,this.lb,this.ab,this.fb,this.cb,this.source,c,this.ib,this.hb,this.eb,this.O,this.G,null):$APP.p($APP.zf.j?$APP.zf.j(iq,b):$APP.zf.call(null,iq,b))?new $APP.oq(this.bb,this.deref,this.nb,
this.ob,this.pb,this.quote,this.fn,this.Pa,this.jb,this.kb,this.lb,this.ab,this.fb,this.cb,this.source,this.mb,c,this.hb,this.eb,this.O,this.G,null):$APP.p($APP.zf.j?$APP.zf.j(jq,b):$APP.zf.call(null,jq,b))?new $APP.oq(this.bb,this.deref,this.nb,this.ob,this.pb,this.quote,this.fn,this.Pa,this.jb,this.kb,this.lb,this.ab,this.fb,this.cb,this.source,this.mb,this.ib,c,this.eb,this.O,this.G,null):$APP.p($APP.zf.j?$APP.zf.j(kq,b):$APP.zf.call(null,kq,b))?new $APP.oq(this.bb,this.deref,this.nb,this.ob,this.pb,
this.quote,this.fn,this.Pa,this.jb,this.kb,this.lb,this.ab,this.fb,this.cb,this.source,this.mb,this.ib,this.hb,c,this.O,this.G,null):new $APP.oq(this.bb,this.deref,this.nb,this.ob,this.pb,this.quote,this.fn,this.Pa,this.jb,this.kb,this.lb,this.ab,this.fb,this.cb,this.source,this.mb,this.ib,this.hb,this.eb,this.O,$APP.Ni.v(this.G,b,c),null)};
$APP.m.ja=function(){return $APP.x($APP.Q.j(new $APP.N(null,19,5,$APP.O,[new $APP.Ue($APP.pq,this.bb,null),new $APP.Ue($APP.$p,this.deref,null),new $APP.Ue(Co,this.nb,null),new $APP.Ue(eq,this.ob,null),new $APP.Ue(fq,this.pb,null),new $APP.Ue(bq,this.quote,null),new $APP.Ue(Np,this.fn,null),new $APP.Ue(Mp,this.Pa,null),new $APP.Ue(Pp,this.jb,null),new $APP.Ue(Kp,this.kb,null),new $APP.Ue(Io,this.lb,null),new $APP.Ue(Jo,this.ab,null),new $APP.Ue(Ko,this.fb,null),new $APP.Ue(Lo,this.cb,null),new $APP.Ue(lm,
this.source,null),new $APP.Ue(nq,this.mb,null),new $APP.Ue(iq,this.ib,null),new $APP.Ue(jq,this.hb,null),new $APP.Ue(kq,this.eb,null)],null),this.G))};$APP.m.ea=function(a,b){return new $APP.oq(this.bb,this.deref,this.nb,this.ob,this.pb,this.quote,this.fn,this.Pa,this.jb,this.kb,this.lb,this.ab,this.fb,this.cb,this.source,this.mb,this.ib,this.hb,this.eb,b,this.G,this.N)};$APP.m.oa=function(a,b){return $APP.Ge(b)?this.pa(null,$APP.re(b,0),$APP.re(b,1)):$APP.cf.v($APP.Nb,this,b)};uq.prototype.si=$APP.wd;uq.prototype.ti=function(){return this.Gg};var ks=function ks(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=1<c.length?new $APP.Fd(c.slice(1),0,null):null;return ks.A(arguments[0],c)};ks.A=function(a){var b=null!=a&&$APP.wd===a.si?GD:null;if($APP.p(b))return b;b=null!=a&&$APP.wd===a.Re?a.type:null;if($APP.p(b))return b;b=null==a?null:$APP.we(a);b=null==b?null:$APP.tm.o(b);return $APP.p(b)?b:$APP.Ab(a)};ks.B=1;
ks.F=function(a){var b=$APP.y(a);a=$APP.z(a);return this.A(b,a)};wq.prototype.Tc=function(){return this.form};xq._=function(){return null};$APP.m=$APP.yq.prototype;$APP.m.sa=function(a,b){return this.V(null,b,null)};$APP.m.V=function(a,b,c){switch(b instanceof $APP.K?b.ia:null){case "f":return this.f;case "stack":return this.stack;default:return $APP.Re.v(this.G,b,c)}};
$APP.m.tb=function(a,b,c){return $APP.cf.v(function(d,e){var f=$APP.D.v(e,0,null);e=$APP.D.v(e,1,null);return b.v?b.v(d,f,e):b.call(null,d,f,e)},c,this)};$APP.m.Z=function(a,b,c){return $APP.pj(b,function(d){return $APP.pj(b,$APP.vj,""," ","",c,d)},"#sci.impl.types.NodeR{",", ","}",c,$APP.Q.j(new $APP.N(null,2,5,$APP.O,[new $APP.N(null,2,5,$APP.O,[$APP.FS,this.f],null),new $APP.N(null,2,5,$APP.O,[$APP.NK,this.stack],null)],null),this.G))};
$APP.m.Aa=function(){return new $APP.Ch(this,2,new $APP.N(null,2,5,$APP.O,[$APP.FS,$APP.NK],null),$APP.p(this.G)?$APP.ld(this.G):$APP.fg())};$APP.m.aa=function(){return this.O};$APP.m.ka=$APP.ha(34);$APP.m.ma=function(){return 2+$APP.ge(this.G)};$APP.m.ga=function(){var a=this.N;return null!=a?a:this.N=a=256596302^$APP.Qd(this)};$APP.m.U=function(a,b){return null!=b&&this.constructor===b.constructor&&$APP.A.j(this.f,b.f)&&$APP.A.j(this.stack,b.stack)&&$APP.A.j(this.G,b.G)};$APP.m.vi=function(){return this.stack};
$APP.m.yb=function(a,b){return $APP.Te(new $APP.Qi(null,new $APP.n(null,2,[$APP.NK,null,$APP.FS,null],null),null),b)?$APP.nm.j($APP.sc($APP.Nh.j($APP.$f,this),this.O),b):new $APP.yq(this.f,this.stack,this.O,$APP.bg($APP.nm.j(this.G,b)),null)};$APP.m.Wa=function(a,b){switch(b instanceof $APP.K?b.ia:null){case "f":case "stack":return!0;default:return $APP.Te(this.G,b)}};
$APP.m.pa=function(a,b,c){return $APP.p($APP.zf.j?$APP.zf.j($APP.FS,b):$APP.zf.call(null,$APP.FS,b))?new $APP.yq(c,this.stack,this.O,this.G,null):$APP.p($APP.zf.j?$APP.zf.j($APP.NK,b):$APP.zf.call(null,$APP.NK,b))?new $APP.yq(this.f,c,this.O,this.G,null):new $APP.yq(this.f,this.stack,this.O,$APP.Ni.v(this.G,b,c),null)};$APP.m.ja=function(){return $APP.x($APP.Q.j(new $APP.N(null,2,5,$APP.O,[new $APP.Ue($APP.FS,this.f,null),new $APP.Ue($APP.NK,this.stack,null)],null),this.G))};
$APP.m.ea=function(a,b){return new $APP.yq(this.f,this.stack,b,this.G,this.N)};$APP.m.oa=function(a,b){return $APP.Ge(b)?this.pa(null,$APP.re(b,0),$APP.re(b,1)):$APP.cf.v($APP.Nb,this,b)};var dw=!1;var Qq=new Bq($APP.$f,null),Cq=$APP.Cg(Qq);Eq.prototype.Qe=function(a,b){return this.val=b};Eq.prototype.Tc=function(){return this.val};Nq._=function(){return!1};$APP.m=Vq.prototype;$APP.m.toString=function(){return["Unbound: ",$APP.t.o(this.Ab)].join("")};
$APP.m.call=function(a){switch(arguments.length-1){case 0:return this.C();case 1:return this.o(arguments[1]);case 2:return this.j(arguments[1],arguments[2]);case 3:return this.v(arguments[1],arguments[2],arguments[3]);case 4:return this.J(arguments[1],arguments[2],arguments[3],arguments[4]);case 5:return this.S(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]);case 6:return this.qa(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6]);case 7:return this.Na(arguments[1],
arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7]);case 8:return this.za(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8]);case 9:return this.Oa(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9]);case 10:return this.Da(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10]);
case 11:return this.Ea(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11]);case 12:return this.Fa(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12]);case 13:return this.Ga(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],
arguments[11],arguments[12],arguments[13]);case 14:return this.Ha(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14]);case 15:return this.Ia(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15]);case 16:return this.Ja(arguments[1],
arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15],arguments[16]);case 17:return this.Ka(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15],arguments[16],arguments[17]);case 18:return this.La(arguments[1],arguments[2],
arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15],arguments[16],arguments[17],arguments[18]);case 19:return this.Ma(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15],arguments[16],arguments[17],arguments[18],arguments[19]);case 20:return this.rb(arguments[1],
arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15],arguments[16],arguments[17],arguments[18],arguments[19],arguments[20]);case 21:return this.Lc(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15],arguments[16],arguments[17],
arguments[18],arguments[19],arguments[20],arguments[21]);default:throw Error(["Invalid arity: ",$APP.t.o(arguments.length-1)].join(""));}};$APP.m.apply=function(a,b){return this.call.apply(this,[this].concat(Eb(b)))};$APP.m.C=function(){return Uq(this.Ab)};$APP.m.o=function(){return Uq(this.Ab)};$APP.m.j=function(){return Uq(this.Ab)};$APP.m.v=function(){return Uq(this.Ab)};$APP.m.J=function(){return Uq(this.Ab)};$APP.m.S=function(){return Uq(this.Ab)};$APP.m.qa=function(){return Uq(this.Ab)};
$APP.m.Na=function(){return Uq(this.Ab)};$APP.m.za=function(){return Uq(this.Ab)};$APP.m.Oa=function(){return Uq(this.Ab)};$APP.m.Da=function(){return Uq(this.Ab)};$APP.m.Ea=function(){return Uq(this.Ab)};$APP.m.Fa=function(){return Uq(this.Ab)};$APP.m.Ga=function(){return Uq(this.Ab)};$APP.m.Ha=function(){return Uq(this.Ab)};$APP.m.Ia=function(){return Uq(this.Ab)};$APP.m.Ja=function(){return Uq(this.Ab)};$APP.m.Ka=function(){return Uq(this.Ab)};$APP.m.La=function(){return Uq(this.Ab)};
$APP.m.Ma=function(){return Uq(this.Ab)};$APP.m.rb=function(){return Uq(this.Ab)};$APP.m.Lc=function(){return Uq(this.Ab)};var xT=function xT(a){switch(arguments.length){case 2:return xT.j(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new $APP.Fd(c.slice(2),0,null);return xT.A(arguments[0],arguments[1],c)}};xT.j=function(a,b){var c=Iq(a);b=b.o?b.o(c):b.call(null,c);return Hq(a,b)};
xT.A=function(a,b,c){return Hq(a,$APP.wg.v(b,Iq(a),c))};xT.F=function(a){var b=$APP.y(a),c=$APP.z(a);a=$APP.y(c);c=$APP.z(c);return this.A(b,a,c)};xT.B=2;$APP.m=Xq.prototype;$APP.m.Tc=function(){return this.data};$APP.m.Qe=function(a,b){return this.data=b};$APP.m.toString=function(){return $APP.t.o(bD.o(this.data))};$APP.m.aa=function(){return this.data};$APP.m.Dd=function(){if(null==this.namespace){var a=$APP.t.o(this);var b=At.j(a,".");return this.namespace=a=$APP.p(b)?$APP.lj.v(a,0,b):a}return this.namespace};$APP.m.Cd=function(){if(null==this.name){var a=$APP.t.o(this);var b=At.j(a,".");return this.name=a=$APP.p(b)?$APP.lj.j(a,b+1):a}return this.name};
$APP.m=Zq.prototype;$APP.m.toString=function(){return["#'",$APP.t.o(ar(this))].join("")};$APP.m.jh=function(){return $APP.es.o(this.meta)};$APP.m.Z=function(a,b,c){$APP.Mc(b,"#'");return Oc(ar(this),b,c)};$APP.m.aa=function(){return this.meta};
$APP.m.kh=function(a,b){a=this.root;var c=this.meta;var d=dw;d=$APP.p(d)?d:$APP.wb(er.o(c));if($APP.p(d))this.root=b;else throw b=$APP.$q.o(c),b=Aq(b),a=this.td(null),$APP.zm.j(["Built-in var #'",$APP.t.o(b),"/",$APP.t.o(a)," is read-only."].join(""),new $APP.n(null,1,[Mp,this],null));Yq(this,this.Bb,a,b);return b};$APP.m.xi=function(){return this.root};$APP.m.mh=function(){var a=$APP.fr.o(this.meta);if($APP.p(a))return a;a=$APP.we(this.root);return null==a?null:Fr.o(a)};
$APP.m.nh=function(a,b){return this.ph=b};$APP.m.Yf=function(){var a=this.meta;var b=dw;b=$APP.p(b)?b:$APP.wb(er.o(a));if($APP.p(b))return this.root=new Vq(this);a=$APP.$q.o(a);a=Aq(a);b=this.td(null);throw $APP.zm.j(["Built-in var #'",$APP.t.o(a),"/",$APP.t.o(b)," is read-only."].join(""),new $APP.n(null,1,[Mp,this],null));};$APP.m.lh=function(){return!(this.root instanceof Vq)};
$APP.m.Qe=function(a,b){a=Tq(this);if($APP.p(a))b=rq(a,b);else if($APP.p(dw))b=this.root=b;else throw Error(["Can't change/establish root binding of ",$APP.t.o(this)," with set"].join(""));return b};$APP.m.Tc=function(){return this.root};$APP.m.td=function(){var a=$APP.T.o(this.meta);return $APP.p(a)?a:this.Ic};$APP.m.wi=function(){return this.Hg};
$APP.m.call=function(a){switch(arguments.length-1){case 0:return this.C();case 1:return this.o(arguments[1]);case 2:return this.j(arguments[1],arguments[2]);case 3:return this.v(arguments[1],arguments[2],arguments[3]);case 4:return this.J(arguments[1],arguments[2],arguments[3],arguments[4]);case 5:return this.S(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]);case 6:return this.qa(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6]);case 7:return this.Na(arguments[1],
arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7]);case 8:return this.za(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8]);case 9:return this.Oa(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9]);case 10:return this.Da(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10]);
case 11:return this.Ea(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11]);case 12:return this.Fa(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12]);case 13:return this.Ga(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],
arguments[11],arguments[12],arguments[13]);case 14:return this.Ha(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14]);case 15:return this.Ia(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15]);case 16:return this.Ja(arguments[1],
arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15],arguments[16]);case 17:return this.Ka(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15],arguments[16],arguments[17]);case 18:return this.La(arguments[1],arguments[2],
arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15],arguments[16],arguments[17],arguments[18]);case 19:return this.Ma(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15],arguments[16],arguments[17],arguments[18],arguments[19]);case 20:return this.rb(arguments[1],
arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15],arguments[16],arguments[17],arguments[18],arguments[19],arguments[20]);case 21:return this.Lc(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15],arguments[16],arguments[17],
arguments[18],arguments[19],arguments[20],arguments[21]);default:throw Error(["Invalid arity: ",$APP.t.o(arguments.length-1)].join(""));}};$APP.m.apply=function(a,b){return this.call.apply(this,[this].concat(Eb(b)))};$APP.m.C=function(){var a=$APP.u(this);return a.C?a.C():a.call(null)};$APP.m.o=function(a){var b=$APP.u(this);return b.o?b.o(a):b.call(null,a)};$APP.m.j=function(a,b){var c=$APP.u(this);return c.j?c.j(a,b):c.call(null,a,b)};
$APP.m.v=function(a,b,c){var d=$APP.u(this);return d.v?d.v(a,b,c):d.call(null,a,b,c)};$APP.m.J=function(a,b,c,d){var e=$APP.u(this);return e.J?e.J(a,b,c,d):e.call(null,a,b,c,d)};$APP.m.S=function(a,b,c,d,e){var f=$APP.u(this);return f.S?f.S(a,b,c,d,e):f.call(null,a,b,c,d,e)};$APP.m.qa=function(a,b,c,d,e,f){var g=$APP.u(this);return g.qa?g.qa(a,b,c,d,e,f):g.call(null,a,b,c,d,e,f)};$APP.m.Na=function(a,b,c,d,e,f,g){var k=$APP.u(this);return k.Na?k.Na(a,b,c,d,e,f,g):k.call(null,a,b,c,d,e,f,g)};
$APP.m.za=function(a,b,c,d,e,f,g,k){var l=$APP.u(this);return l.za?l.za(a,b,c,d,e,f,g,k):l.call(null,a,b,c,d,e,f,g,k)};$APP.m.Oa=function(a,b,c,d,e,f,g,k,l){var h=$APP.u(this);return h.Oa?h.Oa(a,b,c,d,e,f,g,k,l):h.call(null,a,b,c,d,e,f,g,k,l)};$APP.m.Da=function(a,b,c,d,e,f,g,k,l,h){var r=$APP.u(this);return r.Da?r.Da(a,b,c,d,e,f,g,k,l,h):r.call(null,a,b,c,d,e,f,g,k,l,h)};
$APP.m.Ea=function(a,b,c,d,e,f,g,k,l,h,r){var q=$APP.u(this);return q.Ea?q.Ea(a,b,c,d,e,f,g,k,l,h,r):q.call(null,a,b,c,d,e,f,g,k,l,h,r)};$APP.m.Fa=function(a,b,c,d,e,f,g,k,l,h,r,q){var w=$APP.u(this);return w.Fa?w.Fa(a,b,c,d,e,f,g,k,l,h,r,q):w.call(null,a,b,c,d,e,f,g,k,l,h,r,q)};$APP.m.Ga=function(a,b,c,d,e,f,g,k,l,h,r,q,w){var C=$APP.u(this);return C.Ga?C.Ga(a,b,c,d,e,f,g,k,l,h,r,q,w):C.call(null,a,b,c,d,e,f,g,k,l,h,r,q,w)};
$APP.m.Ha=function(a,b,c,d,e,f,g,k,l,h,r,q,w,C){var G=$APP.u(this);return G.Ha?G.Ha(a,b,c,d,e,f,g,k,l,h,r,q,w,C):G.call(null,a,b,c,d,e,f,g,k,l,h,r,q,w,C)};$APP.m.Ia=function(a,b,c,d,e,f,g,k,l,h,r,q,w,C,G){var M=$APP.u(this);return M.Ia?M.Ia(a,b,c,d,e,f,g,k,l,h,r,q,w,C,G):M.call(null,a,b,c,d,e,f,g,k,l,h,r,q,w,C,G)};$APP.m.Ja=function(a,b,c,d,e,f,g,k,l,h,r,q,w,C,G,M){var R=$APP.u(this);return R.Ja?R.Ja(a,b,c,d,e,f,g,k,l,h,r,q,w,C,G,M):R.call(null,a,b,c,d,e,f,g,k,l,h,r,q,w,C,G,M)};
$APP.m.Ka=function(a,b,c,d,e,f,g,k,l,h,r,q,w,C,G,M,R){var W=$APP.u(this);return W.Ka?W.Ka(a,b,c,d,e,f,g,k,l,h,r,q,w,C,G,M,R):W.call(null,a,b,c,d,e,f,g,k,l,h,r,q,w,C,G,M,R)};$APP.m.La=function(a,b,c,d,e,f,g,k,l,h,r,q,w,C,G,M,R,W){var Z=$APP.u(this);return Z.La?Z.La(a,b,c,d,e,f,g,k,l,h,r,q,w,C,G,M,R,W):Z.call(null,a,b,c,d,e,f,g,k,l,h,r,q,w,C,G,M,R,W)};
$APP.m.Ma=function(a,b,c,d,e,f,g,k,l,h,r,q,w,C,G,M,R,W,Z){var ea=$APP.u(this);return ea.Ma?ea.Ma(a,b,c,d,e,f,g,k,l,h,r,q,w,C,G,M,R,W,Z):ea.call(null,a,b,c,d,e,f,g,k,l,h,r,q,w,C,G,M,R,W,Z)};$APP.m.rb=function(a,b,c,d,e,f,g,k,l,h,r,q,w,C,G,M,R,W,Z,ea){var ia=$APP.u(this);return ia.rb?ia.rb(a,b,c,d,e,f,g,k,l,h,r,q,w,C,G,M,R,W,Z,ea):ia.call(null,a,b,c,d,e,f,g,k,l,h,r,q,w,C,G,M,R,W,Z,ea)};
$APP.m.Lc=function(a,b,c,d,e,f,g,k,l,h,r,q,w,C,G,M,R,W,Z,ea,ia){return $APP.wg.A($APP.u(this),a,b,c,d,$APP.F([e,f,g,k,l,h,r,q,w,C,G,M,R,W,Z,ea,ia]))};$APP.m.Ca=function(){if($APP.p(this.ph)){var a=Tq(this);return $APP.p(a)?sq(a):this.root}return this.root};br.prototype.toString=function(){return $APP.t.o(this.name)};br.prototype.td=function(){return this.name};br.prototype.aa=function(){return this.meta};var Er,Kr,ew,Nu,Ou,Et,Xr,yT,zT,Fx,AT,BT,CT,xu,DT,ET,FT,Su,fy,ix,Dr;mB.j(UG,jk);mB.j(Ax,jk);Er=null;Kr=!1;ew=$APP.Gj.o("append");Nu=$APP.Gj.o("loop");Ou=$APP.Gj.o("recur");Et={};Xr=$APP.Cg(null);yT=$APP.Cg(null);zT=$APP.Cg(null);Fx=$APP.Cg(null);AT=$APP.Cg(null);BT=$APP.Cg(null);CT=$APP.Cg(null);xu=$APP.Cg(null);DT=$APP.Cg(null);ET=$APP.Cg(null);
FT=function FT(a,b){var d=xg(a);return new $APP.Ff(null,function(){var e=$APP.x(b);if(e){var f=$APP.y(e),g=$APP.wf(f,$APP.fj.j(d,$APP.z(e)));return $APP.wf(g,function(){var k=new $APP.Ff(null,function(){return $APP.Eg.j($APP.ge(g),e)},null,null);return FT.j?FT.j(a,k):FT.call(null,a,k)}())}return null},null,null)};
Su=new $APP.Qi(null,new $APP.n(null,22,[Ok,"null",Cw,"null",Gw,"null",$APP.gO,"null",$APP.Sk,"null",rT,"null",$APP.uH,"null",$APP.Uk,"null",Vk,"null",$APP.Wk,"null",Hw,"null",$APP.$k,"null",$u,"null",$APP.lD,"null",bl,"null",$APP.cl,"null",$APP.dl,"null",Dw,"null",qT,"null",Aw,"null",$APP.hl,"null",Zu,"null"],null),null);fy=$APP.cr(ey,null);ix=$APP.cr(Os,null);
Dr=fs(pH,null,new $APP.n(null,2,[$APP.X,"The path of the file being evaluated, as a String.\n\n  When there is no file, e.g. in the REPL, the value is not defined.",$APP.$q,ix],null));$APP.Vr=fs(bT,fy,new $APP.n(null,2,[$APP.$q,ix,$APP.X,"A sci.lang.Namespace object representing the current namespace."],null));var ls,Jba=$APP.Yj.o($APP.$f),Kba=$APP.Yj.o($APP.$f),Lba=$APP.Yj.o($APP.$f),Mba=$APP.Yj.o($APP.$f),Nba=$APP.Re.v($APP.$f,$APP.Ss,$APP.ik.C?$APP.ik.C():$APP.ik.call(null));ls=new $APP.Bk($APP.Gj.j("sci.impl.deftype","to-string"),ks,$APP.Sn,Nba,Jba,Kba,Lba,Mba);ls.Qa(null,$APP.Sn,function(a){var b=ks(a);return[$APP.Af(b),".",$APP.Yi(b),"@",$APP.t.o($APP.xd(a).toString(16))].join("")});$APP.m=ns.prototype;$APP.m.toString=function(){return ls.o(this)};$APP.m.Re=$APP.wd;
$APP.m.ih=function(a,b,c){this.Ib=$APP.Ni.v(this.Ib,b,c);return c};$APP.m.Z=function(a,b,c){a=this.Pa;return $APP.p(a)?(a=$APP.we(a),a=yM.o(a),$APP.p(a)?a.v?a.v(this,b,c):a.call(null,this,b,c):qj(b,$APP.F([ms(this)]))):qj(b,$APP.F([ms(this)]))};$APP.m.Tc=function(){return this.Ib};
var GT=function GT(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=5<c.length?new $APP.Fd(c.slice(5),0,null):null;return GT.A(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],c)};
GT.A=function(a,b,c,d,e,f){b=$APP.x(a);$APP.y(b);$APP.z(b);if($APP.p(iv.o(c)))return $APP.wf(lO,$APP.Jd(a));a=["-\x3e",$APP.t.o(d)].join("");a=$APP.Gj.o(a);var g=$APP.Gj.o([$APP.t.o(sl(gs())),".",$APP.t.o(d)].join(""));b=FT(zd,f);var k=$APP.Wi(e);f=$APP.Ng.A(function(l,h){function r(R){return Cf(R)?$APP.Gj.j(M,$APP.t.o(R)):R}l=$APP.x(l);var q=$APP.y(l);l=$APP.z(l);l=ck($APP.y,l);var w=function(){var R=Ir.o(c),W=$APP.u(Fx);return W.v?W.v(c,R,q):W.call(null,c,R,q)}(),C=function(){if($APP.p(w))return w;
var R=$APP.A.j(jT,q)?AE:null;return $APP.p(R)?R:$APP.A.j(DE,q)?bJ:null}();$APP.p(C)||Cr(["Protocol not found: ",$APP.t.o(q)].join(""),h);var G=js(C)?$APP.u(C):C;h=Mp.o(G);$APP.p(h)&&xT.A(h,$APP.jo,$APP.F([tt,$APP.Hu.j($APP.tf,$APP.Ri),$APP.Gj.o($APP.t.o(g))]));h=$APP.$q.o(G);var M=$APP.p(h)?$APP.t.o(Aq(h)):$APP.A.j(AE,G)?"sci.impl.deftype":null;return $APP.wj.j(function(R){var W=$APP.D.v(R,0,null);R=$APP.D.v(R,1,null);if($APP.zf(bJ,G)&&$APP.A.j(mba,W))return $APP.U.o($APP.x($APP.Q.A(new $APP.J(null,
WR,null,1,null),new $APP.J(null,$APP.U.o($APP.x($APP.Q.j(new $APP.J(null,$APP.dl,null,1,null),new $APP.J(null,d,null,1,null)))),null,1,null),$APP.F([new $APP.J(null,UE,null,1,null),new $APP.J(null,yM,null,1,null),new $APP.J(null,$APP.U.o($APP.x($APP.Q.j(new $APP.J(null,$APP.YF,null,1,null),new $APP.J(null,$APP.Jd($APP.y(R)),null,1,null)))),null,1,null)]))));R=$APP.wj.j($APP.Jd,R);var Z=$APP.nr.j(function(ea){var ia=$APP.y(ea);ea=$APP.Jd(ea);ia=bs(ia,ea);var ka=$APP.Zr.o(ia);ia=$APP.$r.o(ia);ea=$APP.y(ka);
ka=$APP.Jd(ka);ka=$APP.jh($APP.wf(uw,ka));var Y=$APP.Ao.C(),E=$APP.Q.j(new $APP.N(null,2,5,$APP.O,[Y,new $APP.J(null,aI,new $APP.J(null,uw,null,1,null),2,null)],null),$APP.Ng.A(function(B){return new $APP.N(null,2,5,$APP.O,[B,new $APP.J(null,HE,new $APP.J(null,Y,new $APP.J(null,new $APP.J(null,$APP.el,new $APP.J(null,B,null,1,null),2,null),null,1,null),2,null),3,null)],null)},$APP.F([$APP.cf.v($APP.Ts,k,ka)])));ea=$APP.Q.j(E,new $APP.N(null,2,5,$APP.O,[ea,uw],null));ea=$APP.jh(ea);return $APP.U.o($APP.x($APP.Q.j(new $APP.J(null,
ka,null,1,null),new $APP.J(null,$APP.U.o($APP.x($APP.Q.A(new $APP.J(null,$APP.as,null,1,null),new $APP.J(null,ea,null,1,null),$APP.F([ia])))),null,1,null))))},R);R=$APP.Ni.A(c,ZC,k,$APP.F([vw,$APP.Zi(k,$APP.wj.j(function(ea){return function(ia,ka){return vq(ia,ea,ka)}},k))]));W=$APP.U.o($APP.x($APP.Q.A(new $APP.J(null,qt,null,1,null),new $APP.J(null,r(W),null,1,null),$APP.F([new $APP.J(null,g,null,1,null),Z]))));Z=$APP.u(ET);return Z.j?Z.j(R,W):Z.call(null,R,W)},l)},$APP.F([b,f]));return $APP.U.o($APP.x($APP.Q.A(new $APP.J(null,
$APP.Sk,null,1,null),new $APP.J(null,$APP.U.o($APP.x($APP.Q.A(new $APP.J(null,uD,null,1,null),new $APP.J(null,d,null,1,null),$APP.F([new $APP.J(null,a,null,1,null)])))),null,1,null),$APP.F([new $APP.J(null,$APP.U.o($APP.x($APP.Q.A(new $APP.J(null,$APP.hl,null,1,null),new $APP.J(null,$APP.ve(d,new $APP.n(null,1,[fN,!0],null)),null,1,null),$APP.F([new $APP.J(null,$APP.U.o($APP.x($APP.Q.j(new $APP.J(null,JD,null,1,null),new $APP.J(null,new $APP.n(null,4,[bD,new $APP.J(null,$APP.el,new $APP.J(null,g,
null,1,null),2,null),fK,g,kw,new $APP.J(null,$APP.dl,new $APP.J(null,a,null,1,null),2,null),iT,new $APP.J(null,$APP.dl,new $APP.J(null,d,null,1,null),2,null)],null),null,1,null)))),null,1,null)])))),null,1,null),new $APP.J(null,$APP.U.o($APP.x($APP.Q.A(new $APP.J(null,YQ,null,1,null),new $APP.J(null,a,null,1,null),$APP.F([new $APP.J(null,$APP.jh($APP.U.o($APP.x($APP.Q.j(new $APP.J(null,$APP.Jk,null,1,null),new $APP.J(null,LD,null,1,null))))),null,1,null),new $APP.J(null,$APP.U.o($APP.x($APP.Q.A(new $APP.J(null,
faa,null,1,null),new $APP.J(null,$APP.U.o($APP.x($APP.Q.j(new $APP.J(null,$APP.el,null,1,null),new $APP.J(null,g,null,1,null)))),null,1,null),$APP.F([new $APP.J(null,g,null,1,null),new $APP.J(null,$APP.U.o($APP.x($APP.Q.j(new $APP.J(null,$APP.dl,null,1,null),new $APP.J(null,d,null,1,null)))),null,1,null),new $APP.J(null,$APP.U.o($APP.x($APP.Q.A(new $APP.J(null,mT,null,1,null),new $APP.J(null,new $APP.J(null,$APP.el,new $APP.J(null,e,null,1,null),2,null),null,1,null),$APP.F([new $APP.J(null,LD,null,
1,null)])))),null,1,null)])))),null,1,null)])))),null,1,null),f,new $APP.J(null,d,null,1,null)]))))};GT.B=5;GT.F=function(a){var b=$APP.y(a),c=$APP.z(a);a=$APP.y(c);var d=$APP.z(c);c=$APP.y(d);var e=$APP.z(d);d=$APP.y(e);var f=$APP.z(e);e=$APP.y(f);f=$APP.z(f);return this.A(b,a,c,d,e,f)};var HT=function HT(a){switch(arguments.length){case 3:return HT.v(arguments[0],arguments[1],arguments[2]);case 4:return HT.J(arguments[0],arguments[1],arguments[2],arguments[3]);default:throw Error(["Invalid arity: ",$APP.t.o(arguments.length)].join(""));}};HT.v=function(a,b,c){var d=Rs(b);xT.j(Qs(a),function(e){return mB.v(e,d,c)});return null};HT.J=function(a,b,c,d){a=Rs(c);return mB.v(b,a,d)};HT.B=4;
var IT=function IT(a){switch(arguments.length){case 3:return IT.v(arguments[0],arguments[1],arguments[2]);case 4:return IT.J(arguments[0],arguments[1],arguments[2],arguments[3]);default:throw Error(["Invalid arity: ",$APP.t.o(arguments.length)].join(""));}};IT.v=function(a,b,c){var d=Rs(b);xT.j(Qs(a),function(e){return nB.v(e,d,c)});return null};IT.J=function(a,b,c,d){a=Rs(c);return nB.v(b,a,d)};IT.B=4;
var JT=function JT(a){switch(arguments.length){case 3:return JT.v(arguments[0],arguments[1],arguments[2]);case 4:return JT.J(arguments[0],arguments[1],arguments[2],arguments[3]);default:throw Error(["Invalid arity: ",$APP.t.o(arguments.length)].join(""));}};JT.v=function(a,b,c){a=$APP.u(Qs(a));return kk(a,Rs(b),c)};JT.J=function(a,b,c,d){return kk(b,Rs(c),d)};JT.B=4;
var KT=function KT(a){switch(arguments.length){case 2:return KT.j(arguments[0],arguments[1]);case 3:return KT.v(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",$APP.t.o(arguments.length)].join(""));}};KT.j=function(a,b){a=$APP.u(Qs(a));return ok(a,b)};KT.v=function(a,b,c){return ok(b,c)};KT.B=3;
var LT=function LT(a){switch(arguments.length){case 2:return LT.j(arguments[0],arguments[1]);case 3:return LT.v(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",$APP.t.o(arguments.length)].join(""));}};LT.j=function(a,b){a=$APP.u(Qs(a));return pk(a,b)};LT.v=function(a,b,c){return pk(b,c)};LT.B=3;
var MT=function MT(a){switch(arguments.length){case 2:return MT.j(arguments[0],arguments[1]);case 3:return MT.v(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",$APP.t.o(arguments.length)].join(""));}};MT.j=function(a,b){a=$APP.u(Qs(a));return mk(a,b)};MT.v=function(a,b,c){return mk(b,c)};MT.B=3;var NT=function NT(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=4<c.length?new $APP.Fd(c.slice(4),0,null):null;return NT.A(arguments[0],arguments[1],arguments[2],arguments[3],c)};
NT.A=function(a,b,c,d,e){a="string"===typeof $APP.y(e)?$APP.y(e):null;e="string"===typeof $APP.y(e)?$APP.z(e):e;var f=$APP.Ee($APP.y(e))?$APP.y(e):$APP.$f;b=$APP.Ee($APP.y(e))?$APP.z(e):e;e=$APP.y(b);b=$APP.z(b);a=$APP.p(a)?$APP.Ni.v(f,$APP.X,a):f;a=$APP.p($APP.we(d))?$APP.tf.j($APP.we(d),a):a;d=$APP.ve(d,a);if($APP.A.j($APP.ge(b),1))throw Error("The syntax for defmulti has changed. Example: (defmulti name dispatch-fn :default dispatch-value)");b=$APP.wg.j($APP.Vp,b);f=$APP.Re.v(b,$APP.Sn,$APP.Sn);
c=$APP.Re.v(b,$APP.Ss,Qs(c));Vs(b);return $APP.U.o($APP.x($APP.Q.A(new $APP.J(null,dG,null,1,null),new $APP.J(null,$APP.ve(d,a),null,1,null),$APP.F([new $APP.J(null,$APP.U.o($APP.x($APP.Q.A(new $APP.J(null,$APP.as,null,1,null),new $APP.J(null,$APP.jh($APP.U.o($APP.x($APP.Q.A(new $APP.J(null,hK,null,1,null),new $APP.J(null,$APP.U.o($APP.x($APP.Q.j(new $APP.J(null,sC,null,1,null),new $APP.J(null,$APP.wg.j($APP.Up,$APP.U.o($APP.x($APP.Q.C()))),null,1,null)))),null,1,null),$APP.F([new $APP.J(null,OS,
null,1,null),new $APP.J(null,$APP.U.o($APP.x($APP.Q.j(new $APP.J(null,sC,null,1,null),new $APP.J(null,$APP.wg.j($APP.Up,$APP.U.o($APP.x($APP.Q.C()))),null,1,null)))),null,1,null),new $APP.J(null,rN,null,1,null),new $APP.J(null,$APP.U.o($APP.x($APP.Q.j(new $APP.J(null,sC,null,1,null),new $APP.J(null,$APP.wg.j($APP.Up,$APP.U.o($APP.x($APP.Q.C()))),null,1,null)))),null,1,null),new $APP.J(null,zR,null,1,null),new $APP.J(null,$APP.U.o($APP.x($APP.Q.j(new $APP.J(null,sC,null,1,null),new $APP.J(null,$APP.wg.j($APP.Up,
$APP.U.o($APP.x($APP.Q.C()))),null,1,null)))),null,1,null)]))))),null,1,null),$APP.F([new $APP.J(null,$APP.U.o($APP.x($APP.Q.A(new $APP.J(null,NR,null,1,null),new $APP.J(null,$APP.Gj.o($APP.Yi(d)),null,1,null),$APP.F([new $APP.J(null,e,null,1,null),new $APP.J(null,f,null,1,null),new $APP.J(null,c,null,1,null),new $APP.J(null,hK,null,1,null),new $APP.J(null,OS,null,1,null),new $APP.J(null,rN,null,1,null),new $APP.J(null,zR,null,1,null)])))),null,1,null)])))),null,1,null)]))))};NT.B=4;
NT.F=function(a){var b=$APP.y(a),c=$APP.z(a);a=$APP.y(c);var d=$APP.z(c);c=$APP.y(d);var e=$APP.z(d);d=$APP.y(e);e=$APP.z(e);return this.A(b,a,c,d,e)};var OT=function OT(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=4<c.length?new $APP.Fd(c.slice(4),0,null):null;return OT.A(arguments[0],arguments[1],arguments[2],arguments[3],c)};
OT.A=function(a,b,c,d,e){return new $APP.J(null,CC,new $APP.J(null,c,new $APP.J(null,d,new $APP.J(null,Ew.j($APP.gO,e),null,1,null),2,null),3,null),4,null)};OT.B=4;OT.F=function(a){var b=$APP.y(a),c=$APP.z(a);a=$APP.y(c);var d=$APP.z(c);c=$APP.y(d);var e=$APP.z(d);d=$APP.y(e);e=$APP.z(e);return this.A(b,a,c,d,e)};var pt=$APP.t.o(nF),PT=function PT(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=4<c.length?new $APP.Fd(c.slice(4),0,null):null;return PT.A(arguments[0],arguments[1],arguments[2],arguments[3],c)};
PT.A=function(a,b,c,d,e){b=function(){var r=$APP.y(e);return"string"===typeof r?new $APP.N(null,2,5,$APP.O,[r,$APP.Jd(e)],null):new $APP.N(null,2,5,$APP.O,[null,e],null)}();a=$APP.D.v(b,0,null);var f=$APP.D.v(b,1,null);c=function(){var r=$APP.y(f);return r instanceof $APP.K?new $APP.N(null,2,5,$APP.O,[$APP.Zf([r,$APP.le(f)]),oe(f)],null):new $APP.N(null,2,5,$APP.O,[null,f],null)}();b=$APP.D.v(c,0,null);c=$APP.D.v(c,1,null);var g=Xs(c),k=$APP.t.o(gs()),l=$APP.Gj.j(k,$APP.t.o(d)),h=BF.o(b);return $APP.U.o($APP.x($APP.Q.A(new $APP.J(null,
$APP.Sk,null,1,null),new $APP.J(null,$APP.U.o($APP.x($APP.Q.A(new $APP.J(null,$APP.hl,null,1,null),new $APP.J(null,$APP.ve(d,new $APP.n(null,1,[$APP.X,a],null)),null,1,null),$APP.F([new $APP.J(null,$APP.U.o($APP.x($APP.Q.A(new $APP.J(null,SR,null,1,null),new $APP.J(null,$APP.wg.j($APP.Up,$APP.U.o($APP.x($APP.Q.A(new $APP.J(null,ut,null,1,null),new $APP.J(null,$APP.wg.j(Us,$APP.U.o($APP.x($APP.Q.C()))),null,1,null),$APP.F([new $APP.J(null,$APP.T,null,1,null),new $APP.J(null,$APP.U.o($APP.x($APP.Q.j(new $APP.J(null,
$APP.el,null,1,null),new $APP.J(null,l,null,1,null)))),null,1,null),new $APP.J(null,$APP.$q,null,1,null),new $APP.J(null,ZN,null,1,null),new $APP.J(null,eI,null,1,null),new $APP.J(null,new $APP.J(null,$APP.el,new $APP.J(null,g,null,1,null),2,null),null,1,null),new $APP.J(null,Mp,null,1,null),new $APP.J(null,$APP.U.o($APP.x($APP.Q.j(new $APP.J(null,$APP.dl,null,1,null),new $APP.J(null,l,null,1,null)))),null,1,null)]))))),null,1,null),$APP.F([new $APP.J(null,h,null,1,null),new $APP.J(null,$APP.U.o($APP.x($APP.Q.A(new $APP.J(null,
UE,null,1,null),new $APP.J(null,BF,null,1,null),$APP.F([new $APP.J(null,!0,null,1,null)])))),null,1,null)])))),null,1,null)])))),null,1,null),$APP.F([$APP.wj.j(function(r){var q=$APP.x(r);r=$APP.y(q);$APP.z(q);q=$APP.Gj.j(k,$APP.t.o(r));var w=$APP.Oi($APP.Re.j(g,$APP.xj.o(r)),new $APP.N(null,2,5,$APP.O,[$APP.X,$APP.V],null));w=$APP.jo.v(w,$APP.V,function(C){return new $APP.J(null,$APP.el,new $APP.J(null,C,null,1,null),2,null)});w=new $APP.N(null,2,5,$APP.O,[$APP.U.o($APP.x($APP.Q.A(new $APP.J(null,
UJ,null,1,null),new $APP.J(null,r,null,1,null),$APP.F([new $APP.J(null,w,null,1,null),new $APP.J(null,XG,null,1,null)])))),$APP.U.o($APP.x($APP.Q.A(new $APP.J(null,qt,null,1,null),new $APP.J(null,r,null,1,null),$APP.F([new $APP.J(null,GD,null,1,null),new $APP.J(null,$APP.jh($APP.U.o($APP.x($APP.Q.A(new $APP.J(null,tS,null,1,null),new $APP.J(null,$APP.Jk,null,1,null),$APP.F([new $APP.J(null,fG,null,1,null)]))))),null,1,null),new $APP.J(null,$APP.U.o($APP.x($APP.Q.A(new $APP.J(null,$APP.as,null,1,null),
new $APP.J(null,$APP.jh($APP.U.o($APP.x($APP.Q.j(new $APP.J(null,$I,null,1,null),new $APP.J(null,$APP.U.o($APP.x($APP.Q.j(new $APP.J(null,yba,null,1,null),new $APP.J(null,tS,null,1,null)))),null,1,null))))),null,1,null),$APP.F([new $APP.J(null,$APP.U.o($APP.x($APP.Q.A(new $APP.J(null,Zs,null,1,null),new $APP.J(null,$APP.jh($APP.U.o($APP.x($APP.Q.j(new $APP.J(null,AB,null,1,null),new $APP.J(null,$APP.U.o($APP.x($APP.Q.A(new $APP.J(null,yr,null,1,null),new $APP.J(null,$I,null,1,null),$APP.F([new $APP.J(null,
$APP.U.o($APP.x($APP.Q.j(new $APP.J(null,$APP.el,null,1,null),new $APP.J(null,r,null,1,null)))),null,1,null)])))),null,1,null))))),null,1,null),$APP.F([new $APP.J(null,$APP.U.o($APP.x($APP.Q.A(new $APP.J(null,ct,null,1,null),new $APP.J(null,AB,null,1,null),$APP.F([new $APP.J(null,tS,null,1,null),new $APP.J(null,fG,null,1,null)])))),null,1,null),new $APP.J(null,$APP.U.o($APP.x($APP.Q.A(new $APP.J(null,Zs,null,1,null),new $APP.J(null,$APP.jh($APP.U.o($APP.x($APP.Q.j(new $APP.J(null,rS,null,1,null),
new $APP.J(null,$APP.U.o($APP.x($APP.Q.A(new $APP.J(null,dt,null,1,null),new $APP.J(null,r,null,1,null),$APP.F([new $APP.J(null,$APP.Sn,null,1,null)])))),null,1,null))))),null,1,null),$APP.F([new $APP.J(null,$APP.U.o($APP.x($APP.Q.A(new $APP.J(null,ct,null,1,null),new $APP.J(null,rS,null,1,null),$APP.F([new $APP.J(null,tS,null,1,null),new $APP.J(null,fG,null,1,null)])))),null,1,null),new $APP.J(null,$APP.U.o($APP.x($APP.Q.j(new $APP.J(null,gl,null,1,null),new $APP.J(null,$APP.U.o($APP.x($APP.Q.A(new $APP.J(null,
gR,null,1,null),new $APP.J(null,"No method ",null,1,null),$APP.F([new $APP.J(null,$APP.U.o($APP.x($APP.Q.j(new $APP.J(null,$APP.el,null,1,null),new $APP.J(null,r,null,1,null)))),null,1,null),new $APP.J(null," found for: ",null,1,null),new $APP.J(null,$APP.U.o($APP.x($APP.Q.j(new $APP.J(null,et,null,1,null),new $APP.J(null,tS,null,1,null)))),null,1,null)])))),null,1,null)))),null,1,null)])))),null,1,null)])))),null,1,null)])))),null,1,null)]))))],null);q=$APP.p(h)?$APP.tf.j(w,$APP.U.o($APP.x($APP.Q.A(new $APP.J(null,
qt,null,1,null),new $APP.J(null,r,null,1,null),$APP.F([new $APP.J(null,$APP.Sn,null,1,null),new $APP.J(null,$APP.jh($APP.U.o($APP.x($APP.Q.A(new $APP.J(null,qG,null,1,null),new $APP.J(null,$APP.Jk,null,1,null),$APP.F([new $APP.J(null,QI,null,1,null)]))))),null,1,null),new $APP.J(null,$APP.U.o($APP.x($APP.Q.A(new $APP.J(null,$APP.as,null,1,null),new $APP.J(null,$APP.jh($APP.U.o($APP.x($APP.Q.A(new $APP.J(null,sG,null,1,null),new $APP.J(null,$APP.U.o($APP.x($APP.Q.j(new $APP.J(null,at,null,1,null),
new $APP.J(null,qG,null,1,null)))),null,1,null),$APP.F([new $APP.J(null,FC,null,1,null),new $APP.J(null,$APP.U.o($APP.x($APP.Q.A(new $APP.J(null,yr,null,1,null),new $APP.J(null,sG,null,1,null),$APP.F([new $APP.J(null,$APP.U.o($APP.x($APP.Q.j(new $APP.J(null,$APP.el,null,1,null),new $APP.J(null,q,null,1,null)))),null,1,null)])))),null,1,null)]))))),null,1,null),$APP.F([new $APP.J(null,$APP.U.o($APP.x($APP.Q.A(new $APP.J(null,$APP.Uk,null,1,null),new $APP.J(null,FC,null,1,null),$APP.F([new $APP.J(null,
$APP.U.o($APP.x($APP.Q.A(new $APP.J(null,ct,null,1,null),new $APP.J(null,FC,null,1,null),$APP.F([new $APP.J(null,qG,null,1,null),new $APP.J(null,QI,null,1,null)])))),null,1,null),new $APP.J(null,$APP.U.o($APP.x($APP.Q.A(new $APP.J(null,$APP.as,null,1,null),new $APP.J(null,$APP.jh($APP.U.o($APP.x($APP.Q.A(new $APP.J(null,FC,null,1,null),new $APP.J(null,$APP.U.o($APP.x($APP.Q.A(new $APP.J(null,dt,null,1,null),new $APP.J(null,r,null,1,null),$APP.F([new $APP.J(null,$APP.U.o($APP.x($APP.Q.j(new $APP.J(null,
et,null,1,null),new $APP.J(null,qG,null,1,null)))),null,1,null)])))),null,1,null),$APP.F([new $APP.J(null,rM,null,1,null),new $APP.J(null,$APP.U.o($APP.x($APP.Q.A(new $APP.J(null,dt,null,1,null),new $APP.J(null,r,null,1,null),$APP.F([new $APP.J(null,$APP.Sn,null,1,null)])))),null,1,null)]))))),null,1,null),$APP.F([new $APP.J(null,$APP.U.o($APP.x($APP.Q.A(new $APP.J(null,$APP.Uk,null,1,null),new $APP.J(null,$APP.U.o($APP.x($APP.Q.A(new $APP.J(null,gt,null,1,null),new $APP.J(null,FC,null,1,null),$APP.F([new $APP.J(null,
rM,null,1,null)])))),null,1,null),$APP.F([new $APP.J(null,$APP.U.o($APP.x($APP.Q.A(new $APP.J(null,ct,null,1,null),new $APP.J(null,FC,null,1,null),$APP.F([new $APP.J(null,qG,null,1,null),new $APP.J(null,QI,null,1,null)])))),null,1,null),new $APP.J(null,$APP.U.o($APP.x($APP.Q.j(new $APP.J(null,gl,null,1,null),new $APP.J(null,$APP.U.o($APP.x($APP.Q.A(new $APP.J(null,Vk,null,1,null),new $APP.J(null,Zv,null,1,null),$APP.F([new $APP.J(null,$APP.U.o($APP.x($APP.Q.A(new $APP.J(null,$APP.ZS,null,1,null),
new $APP.J(null,"No implementation of method: ",null,1,null),$APP.F([new $APP.J(null,$APP.xj.o(r),null,1,null),new $APP.J(null," of protocol: ",null,1,null),new $APP.J(null,$APP.U.o($APP.x($APP.Q.j(new $APP.J(null,$APP.dl,null,1,null),new $APP.J(null,d,null,1,null)))),null,1,null),new $APP.J(null," found for: ",null,1,null),new $APP.J(null,$APP.U.o($APP.x($APP.Q.j(new $APP.J(null,XG,null,1,null),new $APP.J(null,qG,null,1,null)))),null,1,null)])))),null,1,null)])))),null,1,null)))),null,1,null)])))),
null,1,null)])))),null,1,null)])))),null,1,null)])))),null,1,null)]))))):$APP.tf.j(w,$APP.U.o($APP.x($APP.Q.A(new $APP.J(null,qt,null,1,null),new $APP.J(null,r,null,1,null),$APP.F([new $APP.J(null,$APP.Sn,null,1,null),new $APP.J(null,$APP.jh($APP.U.o($APP.x($APP.Q.A(new $APP.J(null,EJ,null,1,null),new $APP.J(null,$APP.Jk,null,1,null),$APP.F([new $APP.J(null,mM,null,1,null)]))))),null,1,null),new $APP.J(null,$APP.U.o($APP.x($APP.Q.A(new $APP.J(null,$APP.as,null,1,null),new $APP.J(null,$APP.jh($APP.U.o($APP.x($APP.Q.A(new $APP.J(null,
VN,null,1,null),new $APP.J(null,$APP.U.o($APP.x($APP.Q.A(new $APP.J(null,dt,null,1,null),new $APP.J(null,r,null,1,null),$APP.F([new $APP.J(null,$APP.U.o($APP.x($APP.Q.j(new $APP.J(null,et,null,1,null),new $APP.J(null,EJ,null,1,null)))),null,1,null)])))),null,1,null),$APP.F([new $APP.J(null,eO,null,1,null),new $APP.J(null,$APP.U.o($APP.x($APP.Q.A(new $APP.J(null,dt,null,1,null),new $APP.J(null,r,null,1,null),$APP.F([new $APP.J(null,$APP.Sn,null,1,null)])))),null,1,null)]))))),null,1,null),$APP.F([new $APP.J(null,
$APP.U.o($APP.x($APP.Q.A(new $APP.J(null,$APP.Uk,null,1,null),new $APP.J(null,$APP.U.o($APP.x($APP.Q.A(new $APP.J(null,gt,null,1,null),new $APP.J(null,VN,null,1,null),$APP.F([new $APP.J(null,eO,null,1,null)])))),null,1,null),$APP.F([new $APP.J(null,$APP.U.o($APP.x($APP.Q.A(new $APP.J(null,ct,null,1,null),new $APP.J(null,VN,null,1,null),$APP.F([new $APP.J(null,EJ,null,1,null),new $APP.J(null,mM,null,1,null)])))),null,1,null),new $APP.J(null,$APP.U.o($APP.x($APP.Q.j(new $APP.J(null,gl,null,1,null),
new $APP.J(null,$APP.U.o($APP.x($APP.Q.A(new $APP.J(null,Vk,null,1,null),new $APP.J(null,Zv,null,1,null),$APP.F([new $APP.J(null,$APP.U.o($APP.x($APP.Q.A(new $APP.J(null,$APP.ZS,null,1,null),new $APP.J(null,"No implementation of method: ",null,1,null),$APP.F([new $APP.J(null,$APP.xj.o(r),null,1,null),new $APP.J(null," of protocol: ",null,1,null),new $APP.J(null,$APP.U.o($APP.x($APP.Q.j(new $APP.J(null,$APP.dl,null,1,null),new $APP.J(null,d,null,1,null)))),null,1,null),new $APP.J(null," found for: ",
null,1,null),new $APP.J(null,$APP.U.o($APP.x($APP.Q.j(new $APP.J(null,XG,null,1,null),new $APP.J(null,EJ,null,1,null)))),null,1,null)])))),null,1,null)])))),null,1,null)))),null,1,null)])))),null,1,null)])))),null,1,null)])))));return $APP.U.o($APP.x($APP.Q.A(new $APP.J(null,$APP.Sk,null,1,null),q,$APP.F([new $APP.J(null,$APP.U.o($APP.x($APP.Q.A(new $APP.J(null,$APP.hl,null,1,null),new $APP.J(null,d,null,1,null),$APP.F([new $APP.J(null,$APP.U.o($APP.x($APP.Q.A(new $APP.J(null,QL,null,1,null),new $APP.J(null,
d,null,1,null),$APP.F([new $APP.J(null,ut,null,1,null),new $APP.J(null,AS,null,1,null),new $APP.J(null,r,null,1,null)])))),null,1,null)])))),null,1,null)]))))},c),new $APP.J(null,new $APP.J(null,$APP.el,new $APP.J(null,d,null,1,null),2,null),null,1,null)]))))};PT.B=4;PT.F=function(a){var b=$APP.y(a),c=$APP.z(a);a=$APP.y(c);var d=$APP.z(c);c=$APP.y(d);var e=$APP.z(d);d=$APP.y(e);e=$APP.z(e);return this.A(b,a,c,d,e)};
var QT=function QT(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=2<c.length?new $APP.Fd(c.slice(2),0,null):null;return QT.A(arguments[0],arguments[1],c)};
QT.A=function(a,b,c){for(var d=$APP.x($APP.ur.j(2,c)),e=null,f=0,g=0;;)if(g<f){for(var k=e.fa(null,g),l=$APP.D.v(k,0,null),h=$APP.D.v(k,1,null),r=BF.o(l),q=$APP.$q.o(l),w=Aq(q),C=$APP.p(r)?$APP.t.o(w):null,G=$APP.x(h),M=null,R=0,W=0;;)if(W<R){var Z=M.fa(null,W),ea=$APP.D.v(Z,0,null),ia=$APP.D.v(Z,1,null),ka=$APP.Yi(ea),Y=$APP.Gj.o(ka),E=$APP.u(Lr.o(a)),B=$APP.Rr.j(E,new $APP.N(null,3,5,$APP.O,[$APP.Sr,w,Y],null)),ca=$APP.u(B);Ws(ca,b,$APP.p(r)?function(){var Mk=$APP.Gj.j(C,ka);return function(td,
ys,zs,As,Bs,Cs,Ds,Es,Nk,Fs,Gs,Hs,Pd,Is,Js,Ks,sh){return function(){function Ze(qc,Dd){var cc=null;if(1<arguments.length){cc=0;for(var Qf=Array(arguments.length-1);cc<Qf.length;)Qf[cc]=arguments[cc+1],++cc;cc=new $APP.Fd(Qf,0,null)}return Pf.call(this,qc,cc)}function Pf(qc,Dd){var cc=$APP.we(qc);return $APP.p(cc)?(cc=$APP.Re.j(cc,Nk),$APP.p(cc)?$APP.wg.v(cc,qc,Dd):$APP.wg.v(sh,qc,Dd)):$APP.wg.v(sh,qc,Dd)}Ze.B=1;Ze.F=function(qc){var Dd=$APP.y(qc);qc=$APP.Jd(qc);return Pf(Dd,qc)};Ze.A=Pf;return Ze}()}(G,
M,R,W,d,e,f,g,Mk,ka,Y,E,B,ca,Z,ea,ia,r,q,w,C,k,l,h)}():ia);W+=1}else{var H=$APP.x(G);if(H){var I=H;if($APP.He(I)){var aa=$APP.bd(I);c=$APP.cd(I);var da=aa;aa=$APP.ge(aa);G=c;M=da;R=aa}else{var fa=$APP.y(I),pa=$APP.D.v(fa,0,null),sa=$APP.D.v(fa,1,null),ta=$APP.Yi(pa),ua=$APP.Gj.o(ta),Aa=$APP.u(Lr.o(a)),Fa=$APP.Rr.j(Aa,new $APP.N(null,3,5,$APP.O,[$APP.Sr,w,ua],null)),za=$APP.u(Fa);Ws(za,b,$APP.p(r)?function(){var Mk=$APP.Gj.j(C,ta);return function(td,ys,zs,As,Bs,Cs,Ds,Es,Nk,Fs,Gs,Hs,Pd,Is,Js,Ks,sh){return function(){function Ze(qc,
Dd){var cc=null;if(1<arguments.length){cc=0;for(var Qf=Array(arguments.length-1);cc<Qf.length;)Qf[cc]=arguments[cc+1],++cc;cc=new $APP.Fd(Qf,0,null)}return Pf.call(this,qc,cc)}function Pf(qc,Dd){var cc=$APP.we(qc);return $APP.p(cc)?(cc=$APP.Re.j(cc,Nk),$APP.p(cc)?$APP.wg.v(cc,qc,Dd):$APP.wg.v(sh,qc,Dd)):$APP.wg.v(sh,qc,Dd)}Ze.B=1;Ze.F=function(qc){var Dd=$APP.y(qc);qc=$APP.Jd(qc);return Pf(Dd,qc)};Ze.A=Pf;return Ze}()}(G,M,R,W,d,e,f,g,Mk,ta,ua,Aa,Fa,za,fa,pa,sa,I,H,r,q,w,C,k,l,h)}():sa);G=$APP.z(I);
M=null;R=0}W=0}else break}g+=1}else{var va=$APP.x(d);if(va){var Ma=va;if($APP.He(Ma))aa=$APP.bd(Ma),c=$APP.cd(Ma),da=aa,aa=$APP.ge(aa),d=c,e=da,f=aa;else{var ab=$APP.y(Ma);l=$APP.D.v(ab,0,null);h=$APP.D.v(ab,1,null);for(var kb=BF.o(l),Ob=$APP.$q.o(l),bc=Aq(Ob),tc=$APP.p(kb)?$APP.t.o(bc):null,Kc=$APP.x(h),Od=null,pc=0,ci=0;;)if(ci<pc){var us=Od.fa(null,ci),Xw=$APP.D.v(us,0,null),Yw=$APP.D.v(us,1,null),vs=$APP.Yi(Xw),Zw=$APP.Gj.o(vs),$w=$APP.u(Lr.o(a)),ax=$APP.Rr.j($w,new $APP.N(null,3,5,$APP.O,[$APP.Sr,
bc,Zw],null)),bx=$APP.u(ax);Ws(bx,b,$APP.p(kb)?function(){var Mk=$APP.Gj.j(tc,vs);return function(td,ys,zs,As,Bs,Cs,Ds,Es,Nk,Fs,Gs,Hs,Pd,Is,Js,Ks,sh){return function(){function Ze(qc,Dd){var cc=null;if(1<arguments.length){cc=0;for(var Qf=Array(arguments.length-1);cc<Qf.length;)Qf[cc]=arguments[cc+1],++cc;cc=new $APP.Fd(Qf,0,null)}return Pf.call(this,qc,cc)}function Pf(qc,Dd){var cc=$APP.we(qc);return $APP.p(cc)?(cc=$APP.Re.j(cc,Nk),$APP.p(cc)?$APP.wg.v(cc,qc,Dd):$APP.wg.v(sh,qc,Dd)):$APP.wg.v(sh,
qc,Dd)}Ze.B=1;Ze.F=function(qc){var Dd=$APP.y(qc);qc=$APP.Jd(qc);return Pf(Dd,qc)};Ze.A=Pf;return Ze}()}(Kc,Od,pc,ci,d,e,f,g,Mk,vs,Zw,$w,ax,bx,us,Xw,Yw,kb,Ob,bc,tc,ab,l,h,Ma,va)}():Yw);ci+=1}else{var dd=$APP.x(Kc);if(dd){var jm=dd;if($APP.He(jm))aa=$APP.bd(jm),c=$APP.cd(jm),da=aa,aa=$APP.ge(aa),Kc=c,Od=da,pc=aa;else{var ws=$APP.y(jm),cx=$APP.D.v(ws,0,null),dx=$APP.D.v(ws,1,null),xs=$APP.Yi(cx),ex=$APP.Gj.o(xs),fx=$APP.u(Lr.o(a)),gx=$APP.Rr.j(fx,new $APP.N(null,3,5,$APP.O,[$APP.Sr,bc,ex],null)),hx=
$APP.u(gx);Ws(hx,b,$APP.p(kb)?function(){var Mk=$APP.Gj.j(tc,xs);return function(td,ys,zs,As,Bs,Cs,Ds,Es,Nk,Fs,Gs,Hs,Pd,Is,Js,Ks,sh){return function(){function Ze(qc,Dd){var cc=null;if(1<arguments.length){cc=0;for(var Qf=Array(arguments.length-1);cc<Qf.length;)Qf[cc]=arguments[cc+1],++cc;cc=new $APP.Fd(Qf,0,null)}return Pf.call(this,qc,cc)}function Pf(qc,Dd){var cc=$APP.we(qc);return $APP.p(cc)?(cc=$APP.Re.j(cc,Nk),$APP.p(cc)?$APP.wg.v(cc,qc,Dd):$APP.wg.v(sh,qc,Dd)):$APP.wg.v(sh,qc,Dd)}Ze.B=1;Ze.F=
function(qc){var Dd=$APP.y(qc);qc=$APP.Jd(qc);return Pf(Dd,qc)};Ze.A=Pf;return Ze}()}(Kc,Od,pc,ci,d,e,f,g,Mk,xs,ex,fx,gx,hx,ws,cx,dx,jm,dd,kb,Ob,bc,tc,ab,l,h,Ma,va)}():dx);Kc=$APP.z(jm);Od=null;pc=0}ci=0}else break}d=$APP.z(Ma);e=null;f=0}g=0}else return null}};QT.B=2;QT.F=function(a){var b=$APP.y(a),c=$APP.z(a);a=$APP.y(c);c=$APP.z(c);return this.A(b,a,c)};
var RT=new $APP.n(null,7,[$APP.PR,pt,LG,$v,Vaa,qF,eaa,XC,cD,hR,tM,yG,$APP.XE,DD],null),ST=function ST(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=4<c.length?new $APP.Fd(c.slice(4),0,null):null;return ST.A(arguments[0],arguments[1],arguments[2],arguments[3],c)};
ST.A=function(a,b,c,d,e){var f=$APP.A.j(DE,d);b=FT(function(h){return!$APP.Le(h)},e);e=function(){var h=OR.o(c);var r=$APP.u(Fx);h=r.v?r.v(c,h,d):r.call(null,c,h,d);if($APP.p(h))return h;h=f?zF:null;return $APP.p(h)?h:Cr(["Protocol not found: ",$APP.t.o(d)].join(""),a)}();var g=js(e)?$APP.u(e):null,k=BF.o(g);g=$APP.$q.o(g);var l=e instanceof $APP.K?"sci.impl.protocols":$APP.t.o(Aq(g));return $APP.U.o($APP.x($APP.Q.j(new $APP.J(null,$APP.Sk,null,1,null),$APP.wj.j(function(h){var r=$APP.x(h);h=$APP.y(r);
r=$APP.z(r);h=$APP.Re.v(RT,h,h);return f?$APP.U.o($APP.x($APP.Q.A(new $APP.J(null,WR,null,1,null),new $APP.J(null,$APP.U.o($APP.x($APP.Q.j(new $APP.J(null,$APP.dl,null,1,null),new $APP.J(null,h,null,1,null)))),null,1,null),$APP.F([new $APP.J(null,UE,null,1,null),new $APP.J(null,yM,null,1,null),new $APP.J(null,$APP.U.o($APP.x($APP.Q.j(new $APP.J(null,$APP.YF,null,1,null),$APP.Jd($APP.y(r))))),null,1,null)])))):$APP.U.o($APP.x($APP.Q.A(new $APP.J(null,$APP.Sk,null,1,null),new $APP.J(null,$APP.U.o($APP.x($APP.Q.A(new $APP.J(null,
xD,null,1,null),new $APP.J(null,$APP.U.o($APP.x($APP.Q.j(new $APP.J(null,$APP.dl,null,1,null),new $APP.J(null,d,null,1,null)))),null,1,null),$APP.F([new $APP.J(null,QL,null,1,null),new $APP.J(null,tt,null,1,null),new $APP.J(null,$APP.U.o($APP.x($APP.Q.A(new $APP.J(null,NC,null,1,null),new $APP.J(null,AS,null,1,null),$APP.F([new $APP.J(null,$APP.wg.j(Us,$APP.U.o($APP.x($APP.Q.C()))),null,1,null)])))),null,1,null),new $APP.J(null,$APP.U.o($APP.x($APP.Q.j(new $APP.J(null,aK,null,1,null),new $APP.J(null,
h,null,1,null)))),null,1,null)])))),null,1,null),$APP.F([rt(h,r,l,k)]))))},b))))};ST.B=4;ST.F=function(a){var b=$APP.y(a),c=$APP.z(a);a=$APP.y(c);var d=$APP.z(c);c=$APP.y(d);var e=$APP.z(d);d=$APP.y(e);e=$APP.z(e);return this.A(b,a,c,d,e)};var TT=function TT(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=4<c.length?new $APP.Fd(c.slice(4),0,null):null;return TT.A(arguments[0],arguments[1],arguments[2],arguments[3],c)};
TT.A=function(a,b,c,d,e){var f=$APP.Re.v(RT,d,d);return $APP.U.o($APP.x($APP.Q.j(new $APP.J(null,$APP.Sk,null,1,null),$APP.wj.j(function(g){var k=$APP.x(g);g=$APP.y(k);k=$APP.z(k);var l=OR.o(c);var h=$APP.u(Fx);l=h.v?h.v(c,l,g):h.call(null,c,l,g);l=$APP.p(l)?l:Cr(["Protocol not found: ",$APP.t.o(g)].join(""),a);l=$APP.u(l);h=$APP.$q.o(l);h=$APP.t.o(Aq(h));l=BF.o(l);return $APP.U.o($APP.x($APP.Q.A(new $APP.J(null,$APP.Sk,null,1,null),new $APP.J(null,$APP.U.o($APP.x($APP.Q.A(new $APP.J(null,xD,null,
1,null),new $APP.J(null,$APP.U.o($APP.x($APP.Q.j(new $APP.J(null,$APP.dl,null,1,null),new $APP.J(null,g,null,1,null)))),null,1,null),$APP.F([new $APP.J(null,QL,null,1,null),new $APP.J(null,tt,null,1,null),new $APP.J(null,$APP.U.o($APP.x($APP.Q.A(new $APP.J(null,NC,null,1,null),new $APP.J(null,AS,null,1,null),$APP.F([new $APP.J(null,$APP.wg.j(Us,$APP.U.o($APP.x($APP.Q.C()))),null,1,null)])))),null,1,null),new $APP.J(null,$APP.U.o($APP.x($APP.Q.j(new $APP.J(null,aK,null,1,null),new $APP.J(null,f,null,
1,null)))),null,1,null)])))),null,1,null),$APP.F([rt(f,k,h,l)]))))},FT(function(g){return!$APP.Le(g)},e)))))};TT.B=4;TT.F=function(a){var b=$APP.y(a),c=$APP.z(a);a=$APP.y(c);var d=$APP.z(c);c=$APP.y(d);var e=$APP.z(d);d=$APP.y(e);e=$APP.z(e);return this.A(b,a,c,d,e)};var UT,Oba=$APP.Yj.o($APP.$f),Pba=$APP.Yj.o($APP.$f),Qba=$APP.Yj.o($APP.$f),Rba=$APP.Yj.o($APP.$f),Sba=$APP.Re.v($APP.$f,$APP.Ss,$APP.ik.C?$APP.ik.C():$APP.ik.call(null));UT=new $APP.Bk($APP.Gj.j("sci.impl.records","to-string"),ks,$APP.Sn,Sba,Oba,Pba,Qba,Rba);UT.Qa(null,$APP.Sn,function(a){var b=ks(a);return[$APP.Af(b),".",$APP.Yi(b),"@",$APP.t.o($APP.xd(a).toString(16))].join("")});$APP.m=$APP.zt.prototype;$APP.m.toString=function(){return UT.o(this)};$APP.m.sa=function(a,b){return Ez(this.Ib,b)};
$APP.m.V=function(a,b,c){return Ez(this.Ib,b,c)};$APP.m.tb=function(a,b,c){return $APP.cf.v(function(d,e){var f=$APP.D.v(e,0,null);e=$APP.D.v(e,1,null);return b.v?b.v(d,f,e):b.call(null,d,f,e)},c,this)};$APP.m.Z=function(a,b,c){a=this.Pa;return $APP.p(a)?(a=$APP.we(a),a=yM.o(a),$APP.p(a)?a.v?a.v(this,b,c):a.call(null,this,b,c):qj(b,$APP.F([yt(this)]))):qj(b,$APP.F([yt(this)]))};$APP.m.Aa=function(){return $APP.ld(this.Ib)};$APP.m.aa=function(){return $APP.we(this.Ib)};$APP.m.ka=$APP.ha(33);
$APP.m.ma=function(){return $APP.ge(this.Ib)};$APP.m.ga=function(){var a=this.Ke;return null!=a?this.Ke=a=$APP.xd($APP.t.o(sl(this.dd)))^$APP.Qd(this.Ib):a};$APP.m.U=function(a,b){return null!=b&&this.constructor===b.constructor&&$APP.A.j(this.dd,b.dd)&&$APP.A.j(this.Ib,b.Ib)};$APP.m.Re=$APP.wd;$APP.m.yb=function(a,b){return new $APP.zt(this.dd,this.type,this.Pa,$APP.nm.j(this.Ib,b),null)};$APP.m.Wa=function(a,b){return Xb(this.Ib,b)};
$APP.m.pa=function(a,b,c){return new $APP.zt(this.dd,this.type,this.Pa,$APP.Ni.v(this.Ib,b,c),null)};$APP.m.ja=function(){return Ac(this.Ib)};$APP.m.ea=function(a,b){return new $APP.zt(this.dd,this.type,this.Pa,$APP.ve(this.Ib,b),this.Ke)};$APP.m.oa=function(a,b){return $APP.Ge(b)?this.pa(null,$APP.re(b,0),$APP.re(b,1)):$APP.cf.v($APP.Nb,this,b)};
var VT=function VT(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=5<c.length?new $APP.Fd(c.slice(5),0,null):null;return VT.A(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],c)};
VT.A=function(a,b,c,d,e,f){b=$APP.x(a);$APP.y(b);$APP.z(b);if($APP.p(iv.o(c)))return $APP.wf(mv,$APP.Jd(a));b=["-\x3e",$APP.t.o(d)].join("");a=$APP.Gj.o(b);b=$APP.Gj.o(["map",b].join(""));var g=$APP.nr.j($APP.xj,e),k=$APP.Gj.o([$APP.t.o(sl(gs())),".",$APP.t.o(d)].join("")),l=FT(zd,f),h=$APP.Wi(e);e=$APP.Ng.A(function(r,q){function w(R){return Cf(R)?$APP.Gj.j(M,$APP.t.o(R)):R}r=$APP.x(r);var C=$APP.y(r);r=$APP.z(r);r=ck($APP.y,r);var G=function(){var R=Ir.o(c),W=$APP.u(Fx);return W.v?W.v(c,R,C):W.call(null,
c,R,C)}();G=$APP.p(G)?G:$APP.A.j(jT,C)?gH:null;$APP.p(G)||Cr(["Protocol not found: ",$APP.t.o(C)].join(""),q);q=js(G)?$APP.u(G):G;G=Mp.o(q);$APP.p(G)&&xT.A(G,$APP.jo,$APP.F([tt,$APP.Hu.j($APP.tf,$APP.Ri),st(k)]));G=$APP.$q.o(q);var M=$APP.p(G)?$APP.t.o(Aq(G)):$APP.A.j(gH,q)?"sci.impl.records":null;return $APP.wj.j(function(R){var W=$APP.D.v(R,0,null);R=$APP.D.v(R,1,null);R=$APP.wj.j($APP.Jd,R);R=$APP.nr.j(function(Z){var ea=$APP.y(Z);Z=$APP.Jd(Z);ea=bs(ea,Z);var ia=$APP.Zr.o(ea);ea=$APP.$r.o(ea);
var ka=$APP.y(ia),Y=$APP.Jd(ia);Z=$APP.ug(function(B){return $APP.A.j(ka,B)},Y);var E=$APP.p(Z)?$APP.Ao.o("this_"):ka;ia=$APP.p(Z)?$APP.jh($APP.wf(E,Y)):ia;Y=$APP.Ng.A(function(B){return new $APP.N(null,2,5,$APP.O,[B,new $APP.J(null,$APP.xj.o(B),new $APP.J(null,E,null,1,null),2,null)],null)},$APP.F([$APP.cf.v($APP.Ts,h,ia)]));Z=$APP.p(Z)?$APP.Q.j(Y,new $APP.N(null,2,5,$APP.O,[ka,E],null)):Y;Z=$APP.jh(Z);return $APP.U.o($APP.x($APP.Q.j(new $APP.J(null,ia,null,1,null),new $APP.J(null,$APP.U.o($APP.x($APP.Q.A(new $APP.J(null,
$APP.as,null,1,null),new $APP.J(null,Z,null,1,null),$APP.F([ea])))),null,1,null))))},R);return $APP.U.o($APP.x($APP.Q.A(new $APP.J(null,qt,null,1,null),new $APP.J(null,w(W),null,1,null),$APP.F([new $APP.J(null,k,null,1,null),R]))))},r)},$APP.F([l,f]));return $APP.U.o($APP.x($APP.Q.A(new $APP.J(null,$APP.Sk,null,1,null),new $APP.J(null,$APP.U.o($APP.x($APP.Q.A(new $APP.J(null,uD,null,1,null),new $APP.J(null,d,null,1,null),$APP.F([new $APP.J(null,a,null,1,null)])))),null,1,null),$APP.F([new $APP.J(null,
$APP.U.o($APP.x($APP.Q.j(new $APP.J(null,uD,null,1,null),new $APP.J(null,b,null,1,null)))),null,1,null),new $APP.J(null,$APP.U.o($APP.x($APP.Q.A(new $APP.J(null,$APP.hl,null,1,null),new $APP.J(null,$APP.ve(d,new $APP.n(null,1,[xx,!0],null)),null,1,null),$APP.F([new $APP.J(null,$APP.U.o($APP.x($APP.Q.j(new $APP.J(null,aN,null,1,null),new $APP.J(null,new $APP.n(null,5,[bD,new $APP.J(null,$APP.el,new $APP.J(null,k,null,1,null),2,null),rG,!0,kw,new $APP.J(null,$APP.dl,new $APP.J(null,a,null,1,null),2,
null),iT,new $APP.J(null,$APP.dl,new $APP.J(null,d,null,1,null),2,null),Gx,new $APP.J(null,$APP.dl,new $APP.J(null,b,null,1,null),2,null)],null),null,1,null)))),null,1,null)])))),null,1,null),new $APP.J(null,$APP.U.o($APP.x($APP.Q.A(new $APP.J(null,YQ,null,1,null),new $APP.J(null,a,null,1,null),$APP.F([new $APP.J(null,$APP.jh($APP.U.o($APP.x($APP.Q.j(new $APP.J(null,$APP.Jk,null,1,null),new $APP.J(null,fO,null,1,null))))),null,1,null),new $APP.J(null,$APP.U.o($APP.x($APP.Q.A(new $APP.J(null,aS,null,
1,null),new $APP.J(null,$APP.U.o($APP.x($APP.Q.j(new $APP.J(null,$APP.el,null,1,null),new $APP.J(null,k,null,1,null)))),null,1,null),$APP.F([new $APP.J(null,k,null,1,null),new $APP.J(null,$APP.U.o($APP.x($APP.Q.j(new $APP.J(null,$APP.dl,null,1,null),new $APP.J(null,d,null,1,null)))),null,1,null),new $APP.J(null,$APP.U.o($APP.x($APP.Q.A(new $APP.J(null,mT,null,1,null),new $APP.J(null,g,null,1,null),$APP.F([new $APP.J(null,fO,null,1,null)])))),null,1,null)])))),null,1,null)])))),null,1,null),new $APP.J(null,
$APP.U.o($APP.x($APP.Q.A(new $APP.J(null,YQ,null,1,null),new $APP.J(null,b,null,1,null),$APP.F([new $APP.J(null,$APP.jh($APP.U.o($APP.x($APP.Q.o(new $APP.J(null,bH,null,1,null))))),null,1,null),new $APP.J(null,$APP.U.o($APP.x($APP.Q.A(new $APP.J(null,aS,null,1,null),new $APP.J(null,$APP.U.o($APP.x($APP.Q.j(new $APP.J(null,$APP.el,null,1,null),new $APP.J(null,k,null,1,null)))),null,1,null),$APP.F([new $APP.J(null,k,null,1,null),new $APP.J(null,$APP.U.o($APP.x($APP.Q.j(new $APP.J(null,$APP.dl,null,
1,null),new $APP.J(null,d,null,1,null)))),null,1,null),new $APP.J(null,bH,null,1,null)])))),null,1,null)])))),null,1,null),e,new $APP.J(null,d,null,1,null)]))))};VT.B=5;VT.F=function(a){var b=$APP.y(a),c=$APP.z(a);a=$APP.y(c);var d=$APP.z(c);c=$APP.y(d);var e=$APP.z(d);d=$APP.y(e);var f=$APP.z(e);e=$APP.y(f);f=$APP.z(f);return this.A(b,a,c,d,e,f)};var WT=function WT(a){switch(arguments.length){case 3:return WT.v(arguments[0],arguments[1],arguments[2]);case 4:return WT.J(arguments[0],arguments[1],arguments[2],arguments[3]);default:throw Error(["Invalid arity: ",$APP.t.o(arguments.length)].join(""));}};WT.v=function(a,b,c){return WT.J(a,b,null,c)};WT.J=function(a,b,c,d){return $APP.wb(c)||!$APP.Te(c,d)?(b=S(d,a,b),c=$APP.u(DT),a=c.v?c.v(a,b,!1):c.call(null,a,b,!1),a=$APP.le(a),a instanceof $APP.yq?null:a):null};WT.B=4;$APP.jd(Fx,WT);
var qw=function qw(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=1<c.length?new $APP.Fd(c.slice(1),0,null):null;return qw.A(arguments[0],c)};
qw.A=function(a,b){b=$APP.wj.j(function(d){return $APP.Le(d)&&$APP.A.j($APP.el,$APP.y(d))?$APP.le(d):d},b);var c=Lr.o(a);return $APP.cf.v(function(d,e){d=e instanceof $APP.v?function(){var g=$APP.t.o(e),k=At.j(g,".");return $APP.p(k)?new $APP.N(null,2,5,$APP.O,[$APP.Gj.o($APP.lj.v(g,0,k)),new $APP.N(null,1,5,$APP.O,[$APP.Gj.o($APP.lj.v(g,k+1,g.length))],null)],null):new $APP.N(null,2,5,$APP.O,[null,new $APP.N(null,1,5,$APP.O,[e],null)],null)}():function(){var g=$APP.y(e),k=$APP.Jd(e);return new $APP.N(null,
2,5,$APP.O,[g,k],null)}();var f=$APP.D.v(d,0,null);d=$APP.D.v(d,1,null);return $APP.cf.v(function(g,k){g=$APP.Gj.o($APP.p(f)?[$APP.t.o(f),".",$APP.t.o(k)].join(""):k);var l=$APP.Ht.o(Ns(a,g));if($APP.p(l)){var h=gs();$APP.Zj.J(c,$APP.Tr,new $APP.N(null,4,5,$APP.O,[$APP.Sr,h,ts,k],null),g);return l}h=$APP.Gj.o(tl($APP.t.o(f)));l=$APP.Rr.j($APP.u(c),new $APP.N(null,3,5,$APP.O,[$APP.Sr,h,k],null));if($APP.p(l))return h=gs(),$APP.Zj.J(c,$APP.Tr,new $APP.N(null,4,5,$APP.O,[$APP.Sr,h,Bt,k],null),l),$APP.u(l);
throw Error(["Unable to resolve classname: ",$APP.t.o(g)].join(""));},null,d)},null,b)};qw.B=1;qw.F=function(a){var b=$APP.y(a);a=$APP.z(a);return this.A(b,a)};var XT=function XT(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=2<c.length?new $APP.Fd(c.slice(2),0,null):null;return XT.A(arguments[0],arguments[1],c)};
XT.A=function(a,b,c){b=$APP.y(c)instanceof $APP.v?$APP.y(c):null;c=$APP.p(b)?$APP.z(c):c;var d=$APP.Ge($APP.y(c))?new $APP.J(null,c,null,1,null):$APP.Le($APP.y(c))?c:Cr($APP.x(c)?["Parameter declaration ",$APP.t.o($APP.y(c))," should be a vector"].join(""):"Parameter declaration missing",a);c=$APP.wj.j(function(e){if(!$APP.Le(e))throw Cr(["Invalid signature ",$APP.t.o(e)," should be a list"].join(""),a);var f=$APP.x(e),g=$APP.y(f);f=$APP.z(f);$APP.Ge(g)||Cr($APP.Le($APP.y(d))?["Parameter declaration ",
$APP.t.o(g)," should be a vector"].join(""):["Invalid signature ",$APP.t.o(e)," should be a list"].join(""),a);var k=$APP.z(f)&&$APP.Ee($APP.y(f))?$APP.y(f):null;e=$APP.p(k)?$APP.z(f):f;k=$APP.p(k)?k:$APP.we(g);f=oba.o(k);k=$C.o(k);e=$APP.p(k)?$APP.U.o($APP.x($APP.Q.o(new $APP.J(null,$APP.U.o($APP.x($APP.Q.A(new $APP.J(null,$APP.as,null,1,null),new $APP.J(null,$APP.jh($APP.U.o($APP.x($APP.Q.j(new $APP.J(null,MH,null,1,null),new $APP.J(null,1<$APP.ge(e)?$APP.U.o($APP.x($APP.Q.j(new $APP.J(null,$APP.Sk,
null,1,null),e))):$APP.y(e),null,1,null))))),null,1,null),$APP.F([$APP.wj.j(function(l){return $APP.U.o($APP.x($APP.Q.j(new $APP.J(null,EM,null,1,null),new $APP.J(null,l,null,1,null))))},k),new $APP.J(null,MH,null,1,null)])))),null,1,null)))):e;e=$APP.p(f)?$APP.Q.j($APP.wj.j(function(l){return $APP.U.o($APP.x($APP.Q.j(new $APP.J(null,EM,null,1,null),new $APP.J(null,l,null,1,null))))},f),e):e;return St(g,e)},d);return $APP.ve($APP.p(b)?Ew.v($APP.$k,b,c):$APP.wf($APP.$k,c),$APP.we(a))};XT.B=2;
XT.F=function(a){var b=$APP.y(a),c=$APP.z(a);a=$APP.y(c);c=$APP.z(c);return this.A(b,a,c)};var YT=function YT(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=3<c.length?new $APP.Fd(c.slice(3),0,null):null;return YT.A(arguments[0],arguments[1],arguments[2],c)};
YT.A=function(a,b,c,d){c instanceof $APP.v||Cr("First argument to defn must be a symbol",a);a="string"===typeof $APP.y(d)?new $APP.n(null,1,[$APP.X,$APP.y(d)],null):$APP.$f;b="string"===typeof $APP.y(d)?$APP.z(d):d;d=$APP.Ee($APP.y(b))?$APP.tf.j(a,$APP.y(b)):a;a=$APP.Ee($APP.y(b))?$APP.z(b):b;a=$APP.Ge($APP.y(a))?new $APP.J(null,a,null,1,null):a;b=$APP.Ee($APP.pe(a))?$APP.tf.j(d,$APP.pe(a)):d;d=$APP.Ee($APP.pe(a))?$APP.Xi(a):a;a=$APP.tf.j(new $APP.n(null,1,[$APP.V,new $APP.J(null,$APP.el,new $APP.J(null,
Ut(d),null,1,null),2,null)],null),b);b=$APP.we(c);a=$APP.tf.j($APP.p(b)?b:$APP.$f,a);b=$APP.fr.o(b);d=$APP.wf($APP.YF,d);return new $APP.J(null,$APP.hl,new $APP.J(null,$APP.ve(c,a),new $APP.J(null,$APP.p($APP.p(b)?b:c)?$APP.ve(d,new $APP.n(null,1,[Hv,new $APP.n(null,2,[$APP.fr,b,Iv,c],null)],null)):d,null,1,null),2,null),3,null)};YT.B=3;YT.F=function(a){var b=$APP.y(a),c=$APP.z(a);a=$APP.y(c);var d=$APP.z(c);c=$APP.y(d);d=$APP.z(d);return this.A(b,a,c,d)};
var ZT=function ZT(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=3<c.length?new $APP.Fd(c.slice(3),0,null):null;return ZT.A(arguments[0],arguments[1],arguments[2],c)};
ZT.A=function(a,b,c,d){var e=yp.J(c,$APP.Ni,$APP.fr,!0),f=function(){for(var k=new $APP.J(null,e,null,1,null),l=d;;){var h=$APP.y(l);if("string"===typeof h)k=$APP.wf(h,k),l=$APP.z(l);else if($APP.Ee(h))k=$APP.wf(h,k),l=$APP.z(l);else return k}}();a=function(){for(var k=d;;)if("string"===typeof $APP.y(k))k=$APP.z(k);else if($APP.Ee($APP.y(k)))k=$APP.z(k);else return k}();a=$APP.Ge($APP.y(a))?new $APP.J(null,a,null,1,null):a;var g=$APP.x(function(k,l){for(;;){if(null==l)return k;var h=$APP.y(l);if($APP.Ee(h))return $APP.tf.j(k,
h);var r=$APP.tf,q=r.j,w=$APP.y(h);h=$APP.wf($APP.jh($APP.wf(Tt,$APP.wf(QQ,w))),$APP.z(h));r=q.call(r,k,h);l=$APP.z(l);k=r}}($APP.ih,a));a=function(){for(var k=f,l=g;;)if($APP.p(k)){var h=$APP.z(k);l=$APP.wf($APP.y(k),l);k=h}else return l}();return new $APP.J(null,$APP.Sk,new $APP.J(null,$APP.wf(YQ,a),new $APP.J(null,new $APP.J(null,$APP.dl,new $APP.J(null,e,null,1,null),2,null),null,1,null),2,null),3,null)};ZT.B=3;
ZT.F=function(a){var b=$APP.y(a),c=$APP.z(a);a=$APP.y(c);var d=$APP.z(c);c=$APP.y(d);d=$APP.z(d);return this.A(b,a,c,d)};var Fu=function Fu(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=3<c.length?new $APP.Fd(c.slice(3),0,null):null;return Fu.A(arguments[0],arguments[1],arguments[2],c)};
Fu.A=function(a,b,c,d){$APP.p($APP.p(b)?0<$APP.Yi(c).indexOf("."):b)&&Cr(["Found lib name '",$APP.Yi(c),"' containing period with prefix '",$APP.t.o(b),"'.  lib names inside prefix lists must not contain periods"].join(""),c);b=$APP.p(b)?$APP.Gj.o([$APP.t.o(b),".",$APP.t.o(c)].join("")):c;d=$APP.wg.j($APP.Vp,d);return yu(a,b,d)};Fu.B=3;Fu.F=function(a){var b=$APP.y(a),c=$APP.z(a);a=$APP.y(c);var d=$APP.z(c);c=$APP.y(d);d=$APP.z(d);return this.A(b,a,c,d)};
var ow=function ow(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=1<c.length?new $APP.Fd(c.slice(1),0,null):null;return ow.A(arguments[0],c)};ow.A=function(a,b){return Gu(a,Du,b)};ow.B=1;ow.F=function(a){var b=$APP.y(a);a=$APP.z(a);return this.A(b,a)};$APP.jd(yT,ow);var pw=function pw(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=1<c.length?new $APP.Fd(c.slice(1),0,null):null;return pw.A(arguments[0],c)};
pw.A=function(a,b){return Gu(a,cu,b)};pw.B=1;pw.F=function(a){var b=$APP.y(a);a=$APP.z(a);return this.A(b,a)};$APP.jd(zT,pw);var rw=function rw(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=2<c.length?new $APP.Fd(c.slice(2),0,null):null;return rw.A(arguments[0],arguments[1],c)};rw.A=function(a,b,c){$APP.A.j(Os,b)?Iu(a,c):$APP.Zj.J(Lr.o(a),Ju,b,c);return null};rw.B=2;rw.F=function(a){var b=$APP.y(a),c=$APP.z(a);a=$APP.y(c);c=$APP.z(c);return this.A(b,a,c)};
$APP.jd(AT,rw);var Yu=function Yu(a){switch(arguments.length){case 3:return Yu.v(arguments[0],arguments[1],arguments[2]);case 4:return Yu.J(arguments[0],arguments[1],arguments[2],arguments[3]);default:throw Error(["Invalid arity: ",$APP.t.o(arguments.length)].join(""));}};Yu.v=function(a,b,c){return Yu.J(a,b,c,null)};
Yu.J=function(a,b,c){var d=a.get(Ir),e=a.get(ZC),f=function(){var g=Ve(d,b);if($APP.p(g)){var k=$APP.D.v(g,0,null),l=$APP.D.v(g,1,null),h=function(){var q=$APP.Re.j(vv.o(a),l);if($APP.p(q))return q;q=Jv.o(a);q=q.o?q.o(l):q.call(null,l);return Xu(a,wv.o(a),q)}(),r=$APP.p(e)?function(){var q=null==k?null:$APP.we(k);if($APP.p(q)){var w=tw.o(q);return $APP.p(w)?w:kG.o(q)}return null}():null;g=$APP.p(c)?Mu(k,h):function(){return function(){var q=$APP.p(r)?function(){var w=$APP.le(Yu.v(a,uw,!1));return zq(function(C,
G,M){C=S(w,G,M);C=sq(C);return $APP.Re.j(C,b)},null)}():zq(function(w,C,G){return G[h]},null);return $APP.p(r)?yp.J(q,$APP.Ni,tw,!0):q}()}();return new $APP.N(null,2,5,$APP.O,[k,g],null)}return null}();if($APP.p(f))return f;f=Vu(a,b,c);return $APP.p(f)?($APP.p(Lw.o(a))&&Qu(a,b,f),f):null};Yu.B=4;$APP.jd(DT,Yu);var jv=new $APP.Qi(null,new $APP.n(null,16,[Kk,"null",Ok,"null",$APP.Qk,"null",Rk,"null",$APP.Sk,"null",$APP.Uk,"null",Vk,"null",Yk,"null",$APP.al,"null",bl,"null",$APP.cl,"null",$APP.dl,"null",$APP.el,"null",$APP.fl,"null",gl,"null",$APP.hl,"null"],null),null);Dg(BT,function $T(a,b){var d=ov(a,b);return d===b?b:$T.j?$T.j(a,d):$T.call(null,a,d)});$APP.jd(CT,ov);
var yv=function yv(a,b,c){var e=$APP.ge(c);if(5<e){var f=function(){var q=gv(a),w=$APP.Ig.j(5,c);return yv.v?yv.v(q,b,w):yv.call(null,q,b,w)}(),g=function(){var q=$APP.Eg.j(5,c);return yv.v?yv.v(a,b,q):yv.call(null,a,b,q)}();return zq(function(q,w,C){S(f,w,C);return S(g,w,C)},null)}var k=pv(a,c);switch(e){case 0:return null;case 1:return $APP.D.j(k,0);case 2:var l=$APP.D.j(k,0);f=$APP.D.j(k,1);return zq(function(q,w,C){S(l,w,C);return S(f,w,C)},null);case 3:return l=$APP.D.j(k,0),f=$APP.D.j(k,1),
g=$APP.D.j(k,2),zq(function(q,w,C){S(l,w,C);S(f,w,C);return S(g,w,C)},null);case 4:l=$APP.D.j(k,0);f=$APP.D.j(k,1);g=$APP.D.j(k,2);var h=$APP.D.j(k,3);return zq(function(q,w,C){S(l,w,C);S(f,w,C);S(g,w,C);return S(h,w,C)},null);case 5:l=$APP.D.j(k,0);f=$APP.D.j(k,1);g=$APP.D.j(k,2);h=$APP.D.j(k,3);var r=$APP.D.j(k,4);return zq(function(q,w,C){S(l,w,C);S(f,w,C);S(g,w,C);S(h,w,C);return S(r,w,C)},null);default:throw Error(["No matching clause: ",$APP.t.o(e)].join(""));}},Iw=function Iw(a,b,c){var e=
$APP.ge(c);if(5<e){var f=function(){var q=$APP.Ig.j(5,c);return Iw.v?Iw.v(a,b,q):Iw.call(null,a,b,q)}(),g=function(){var q=$APP.Eg.j(5,c);return Iw.v?Iw.v(a,b,q):Iw.call(null,a,b,q)}();return zq(function(q,w,C){q=S(f,w,C);return $APP.p(q)?q:S(g,w,C)},null)}var k=pv(a,c);switch(e){case 0:return null;case 1:return e=$APP.D.j(k,0),lv.j?lv.j(a,e):lv.call(null,a,e);case 2:return f=function(){var q=$APP.D.j(k,0);return lv.j?lv.j(a,q):lv.call(null,a,q)}(),g=function(){var q=$APP.D.j(k,1);return lv.j?lv.j(a,
q):lv.call(null,a,q)}(),zq(function(q,w,C){q=S(f,w,C);return $APP.p(q)?q:S(g,w,C)},null);case 3:f=function(){var q=$APP.D.j(k,0);return lv.j?lv.j(a,q):lv.call(null,a,q)}();g=function(){var q=$APP.D.j(k,1);return lv.j?lv.j(a,q):lv.call(null,a,q)}();var l=function(){var q=$APP.D.j(k,2);return lv.j?lv.j(a,q):lv.call(null,a,q)}();return zq(function(q,w,C){q=S(f,w,C);if($APP.p(q))return q;q=S(g,w,C);return $APP.p(q)?q:S(l,w,C)},null);case 4:f=function(){var q=$APP.D.j(k,0);return lv.j?lv.j(a,q):lv.call(null,
a,q)}();g=function(){var q=$APP.D.j(k,1);return lv.j?lv.j(a,q):lv.call(null,a,q)}();l=function(){var q=$APP.D.j(k,2);return lv.j?lv.j(a,q):lv.call(null,a,q)}();var h=function(){var q=$APP.D.j(k,3);return lv.j?lv.j(a,q):lv.call(null,a,q)}();return zq(function(q,w,C){q=S(f,w,C);if($APP.p(q))return q;q=S(g,w,C);if($APP.p(q))return q;q=S(l,w,C);return $APP.p(q)?q:S(h,w,C)},null);case 5:f=function(){var q=$APP.D.j(k,0);return lv.j?lv.j(a,q):lv.call(null,a,q)}();g=function(){var q=$APP.D.j(k,1);return lv.j?
lv.j(a,q):lv.call(null,a,q)}();l=function(){var q=$APP.D.j(k,2);return lv.j?lv.j(a,q):lv.call(null,a,q)}();h=function(){var q=$APP.D.j(k,3);return lv.j?lv.j(a,q):lv.call(null,a,q)}();var r=function(){var q=$APP.D.j(k,4);return lv.j?lv.j(a,q):lv.call(null,a,q)}();return zq(function(q,w,C){q=S(f,w,C);if($APP.p(q))return q;q=S(g,w,C);if($APP.p(q))return q;q=S(l,w,C);if($APP.p(q))return q;q=S(h,w,C);return $APP.p(q)?q:S(r,w,C)},null);default:throw Error(["No matching clause: ",$APP.t.o(e)].join(""));
}},Bw=function Bw(a,b,c){var e=$APP.ge(c);if(5<e){var f=function(){var q=$APP.Ig.j(5,c);return Bw.v?Bw.v(a,b,q):Bw.call(null,a,b,q)}(),g=function(){var q=$APP.Eg.j(5,c);return Bw.v?Bw.v(a,b,q):Bw.call(null,a,b,q)}();return zq(function(q,w,C){q=S(f,w,C);return $APP.p(q)?S(g,w,C):q},null)}var k=pv(a,c);switch(e){case 0:return!0;case 1:return e=$APP.D.j(k,0),lv.j?lv.j(a,e):lv.call(null,a,e);case 2:return f=function(){var q=$APP.D.j(k,0);return lv.j?lv.j(a,q):lv.call(null,a,q)}(),g=function(){var q=$APP.D.j(k,
1);return lv.j?lv.j(a,q):lv.call(null,a,q)}(),zq(function(q,w,C){q=S(f,w,C);return $APP.p(q)?S(g,w,C):q},null);case 3:f=function(){var q=$APP.D.j(k,0);return lv.j?lv.j(a,q):lv.call(null,a,q)}();g=function(){var q=$APP.D.j(k,1);return lv.j?lv.j(a,q):lv.call(null,a,q)}();var l=function(){var q=$APP.D.j(k,2);return lv.j?lv.j(a,q):lv.call(null,a,q)}();return zq(function(q,w,C){q=S(f,w,C);return $APP.p(q)?(q=S(g,w,C),$APP.p(q)?S(l,w,C):q):q},null);case 4:f=function(){var q=$APP.D.j(k,0);return lv.j?lv.j(a,
q):lv.call(null,a,q)}();g=function(){var q=$APP.D.j(k,1);return lv.j?lv.j(a,q):lv.call(null,a,q)}();l=function(){var q=$APP.D.j(k,2);return lv.j?lv.j(a,q):lv.call(null,a,q)}();var h=function(){var q=$APP.D.j(k,3);return lv.j?lv.j(a,q):lv.call(null,a,q)}();return zq(function(q,w,C){q=S(f,w,C);return $APP.p(q)?(q=S(g,w,C),$APP.p(q)?(q=S(l,w,C),$APP.p(q)?S(h,w,C):q):q):q},null);case 5:f=function(){var q=$APP.D.j(k,0);return lv.j?lv.j(a,q):lv.call(null,a,q)}();g=function(){var q=$APP.D.j(k,1);return lv.j?
lv.j(a,q):lv.call(null,a,q)}();l=function(){var q=$APP.D.j(k,2);return lv.j?lv.j(a,q):lv.call(null,a,q)}();h=function(){var q=$APP.D.j(k,3);return lv.j?lv.j(a,q):lv.call(null,a,q)}();var r=function(){var q=$APP.D.j(k,4);return lv.j?lv.j(a,q):lv.call(null,a,q)}();return zq(function(q,w,C){q=S(f,w,C);return $APP.p(q)?(q=S(g,w,C),$APP.p(q)?(q=S(l,w,C),$APP.p(q)?(q=S(h,w,C),$APP.p(q)?S(r,w,C):q):q):q):q},null);default:throw Error(["No matching clause: ",$APP.t.o(e)].join(""));}};$APP.m=$APP.sv.prototype;
$APP.m.sa=function(a,b){return this.V(null,b,null)};$APP.m.V=function(a,b,c){switch(b instanceof $APP.K?b.ia:null){case "params":return this.params;case "body":return this.body;case "fixed-arity":return this.Wb;case "var-arg-name":return this.bc;case "self-ref-idx":return this.$b;case "iden-\x3einvoke-idx":return this.Xb;default:return $APP.Re.v(this.G,b,c)}};
$APP.m.tb=function(a,b,c){return $APP.cf.v(function(d,e){var f=$APP.D.v(e,0,null);e=$APP.D.v(e,1,null);return b.v?b.v(d,f,e):b.call(null,d,f,e)},c,this)};
$APP.m.Z=function(a,b,c){return $APP.pj(b,function(d){return $APP.pj(b,$APP.vj,""," ","",c,d)},"#sci.impl.analyzer.FnBody{",", ","}",c,$APP.Q.j(new $APP.N(null,6,5,$APP.O,[new $APP.N(null,2,5,$APP.O,[$APP.Zr,this.params],null),new $APP.N(null,2,5,$APP.O,[$APP.$r,this.body],null),new $APP.N(null,2,5,$APP.O,[$APP.Bv,this.Wb],null),new $APP.N(null,2,5,$APP.O,[Lv,this.bc],null),new $APP.N(null,2,5,$APP.O,[Pv,this.$b],null),new $APP.N(null,2,5,$APP.O,[vv,this.Xb],null)],null),this.G))};
$APP.m.Aa=function(){return new $APP.Ch(this,6,new $APP.N(null,6,5,$APP.O,[$APP.Zr,$APP.$r,$APP.Bv,Lv,Pv,vv],null),$APP.p(this.G)?$APP.ld(this.G):$APP.fg())};$APP.m.aa=function(){return this.O};$APP.m.ka=$APP.ha(32);$APP.m.ma=function(){return 6+$APP.ge(this.G)};$APP.m.ga=function(){var a=this.N;return null!=a?a:this.N=a=1733662014^$APP.Qd(this)};
$APP.m.U=function(a,b){return null!=b&&this.constructor===b.constructor&&$APP.A.j(this.params,b.params)&&$APP.A.j(this.body,b.body)&&$APP.A.j(this.Wb,b.Wb)&&$APP.A.j(this.bc,b.bc)&&$APP.A.j(this.$b,b.$b)&&$APP.A.j(this.Xb,b.Xb)&&$APP.A.j(this.G,b.G)};
$APP.m.yb=function(a,b){return $APP.Te(new $APP.Qi(null,new $APP.n(null,6,[Lv,null,$APP.Zr,null,Pv,null,$APP.Bv,null,vv,null,$APP.$r,null],null),null),b)?$APP.nm.j($APP.sc($APP.Nh.j($APP.$f,this),this.O),b):new $APP.sv(this.params,this.body,this.Wb,this.bc,this.$b,this.Xb,this.O,$APP.bg($APP.nm.j(this.G,b)),null)};
$APP.m.Wa=function(a,b){switch(b instanceof $APP.K?b.ia:null){case "params":case "body":case "fixed-arity":case "var-arg-name":case "self-ref-idx":case "iden-\x3einvoke-idx":return!0;default:return $APP.Te(this.G,b)}};
$APP.m.pa=function(a,b,c){return $APP.p($APP.zf.j?$APP.zf.j($APP.Zr,b):$APP.zf.call(null,$APP.Zr,b))?new $APP.sv(c,this.body,this.Wb,this.bc,this.$b,this.Xb,this.O,this.G,null):$APP.p($APP.zf.j?$APP.zf.j($APP.$r,b):$APP.zf.call(null,$APP.$r,b))?new $APP.sv(this.params,c,this.Wb,this.bc,this.$b,this.Xb,this.O,this.G,null):$APP.p($APP.zf.j?$APP.zf.j($APP.Bv,b):$APP.zf.call(null,$APP.Bv,b))?new $APP.sv(this.params,this.body,c,this.bc,this.$b,this.Xb,this.O,this.G,null):$APP.p($APP.zf.j?$APP.zf.j(Lv,
b):$APP.zf.call(null,Lv,b))?new $APP.sv(this.params,this.body,this.Wb,c,this.$b,this.Xb,this.O,this.G,null):$APP.p($APP.zf.j?$APP.zf.j(Pv,b):$APP.zf.call(null,Pv,b))?new $APP.sv(this.params,this.body,this.Wb,this.bc,c,this.Xb,this.O,this.G,null):$APP.p($APP.zf.j?$APP.zf.j(vv,b):$APP.zf.call(null,vv,b))?new $APP.sv(this.params,this.body,this.Wb,this.bc,this.$b,c,this.O,this.G,null):new $APP.sv(this.params,this.body,this.Wb,this.bc,this.$b,this.Xb,this.O,$APP.Ni.v(this.G,b,c),null)};
$APP.m.ja=function(){return $APP.x($APP.Q.j(new $APP.N(null,6,5,$APP.O,[new $APP.Ue($APP.Zr,this.params,null),new $APP.Ue($APP.$r,this.body,null),new $APP.Ue($APP.Bv,this.Wb,null),new $APP.Ue(Lv,this.bc,null),new $APP.Ue(Pv,this.$b,null),new $APP.Ue(vv,this.Xb,null)],null),this.G))};$APP.m.ea=function(a,b){return new $APP.sv(this.params,this.body,this.Wb,this.bc,this.$b,this.Xb,b,this.G,this.N)};
$APP.m.oa=function(a,b){return $APP.Ge(b)?this.pa(null,$APP.re(b,0),$APP.re(b,1)):$APP.cf.v($APP.Nb,this,b)};
var Fw=function Fw(a,b,c,d){if(10<$APP.ge(c)){var f=$APP.Ig.j(10,c);d=new $APP.N(null,1,5,$APP.O,[$APP.ve(Ew.v(Yk,$APP.jh($APP.Eg.j(10,c)),d),$APP.we(b))],null);return Fw.J?Fw.J(a,b,f,d):Fw.call(null,a,b,f,d)}f=fv.o(a);var g=gv(a);a=ds($APP.we(b),!0);var k=$APP.cf.v(function(ea,ia){var ka=$APP.D.v(ea,0,null),Y=$APP.D.v(ea,1,null);ea=$APP.D.v(ea,2,null);var E=$APP.D.v(ia,0,null);ia=$APP.D.v(ia,1,null);var B=$APP.we(ia);B=$APP.p(B)?$APP.Fn.o(B):null;var ca=$APP.p(B)?yp.J(E,$APP.Ni,$APP.Fn,B):E;E=lv.j?
lv.j(ka,ia):lv.call(null,ka,ia);var H=$APP.Ao.C();ia=wv.o(ka);ia=xv(ka,ia,H);B=vv.o(ka);ia=$APP.Ni.v(B,H,ia);ka=$APP.Ni.v(ka,vv,ia);return new $APP.N(null,3,5,$APP.O,[$APP.jo.v(ka,Ir,function(I){return $APP.Ni.v($APP.nm.j(I,ca),ca,H)}),$APP.tf.j(Y,E),$APP.tf.j(ea,H)],null)},new $APP.N(null,3,5,$APP.O,[g,$APP.ih,$APP.ih],null),$APP.ur.j(2,c));g=$APP.D.v(k,0,null);c=$APP.D.v(k,1,null);k=$APP.D.v(k,2,null);var l=yv($APP.Ni.v(g,fv,f),b,d);b=vv.o(g);b=$APP.nr.j(b,k);d=$APP.ge(b);switch(d){case 0:return zq(function(ea,
ia,ka){return S(l,ia,ka)},a);case 1:var h=$APP.D.j(c,0),r=$APP.D.j(b,0);return zq(function(ea,ia,ka){ea=S(h,ia,ka);ka[r]=ea;return S(l,ia,ka)},a);case 2:h=$APP.D.j(c,0);var q=$APP.D.j(c,1);r=$APP.D.j(b,0);var w=$APP.D.j(b,1);return zq(function(ea,ia,ka){ea=S(h,ia,ka);ka[r]=ea;ea=S(q,ia,ka);ka[w]=ea;return S(l,ia,ka)},a);case 3:h=$APP.D.j(c,0);q=$APP.D.j(c,1);var C=$APP.D.j(c,2);r=$APP.D.j(b,0);w=$APP.D.j(b,1);var G=$APP.D.j(b,2);return zq(function(ea,ia,ka){ea=S(h,ia,ka);ka[r]=ea;ea=S(q,ia,ka);ka[w]=
ea;ea=S(C,ia,ka);ka[G]=ea;return S(l,ia,ka)},a);case 4:h=$APP.D.j(c,0);q=$APP.D.j(c,1);C=$APP.D.j(c,2);var M=$APP.D.j(c,3);r=$APP.D.j(b,0);w=$APP.D.j(b,1);G=$APP.D.j(b,2);var R=$APP.D.j(b,3);return zq(function(ea,ia,ka){ea=S(h,ia,ka);ka[r]=ea;ea=S(q,ia,ka);ka[w]=ea;ea=S(C,ia,ka);ka[G]=ea;ea=S(M,ia,ka);ka[R]=ea;return S(l,ia,ka)},a);case 5:h=$APP.D.j(c,0);q=$APP.D.j(c,1);C=$APP.D.j(c,2);M=$APP.D.j(c,3);var W=$APP.D.j(c,4);r=$APP.D.j(b,0);w=$APP.D.j(b,1);G=$APP.D.j(b,2);R=$APP.D.j(b,3);var Z=$APP.D.j(b,
4);return zq(function(ea,ia,ka){ea=S(h,ia,ka);ka[r]=ea;ea=S(q,ia,ka);ka[w]=ea;ea=S(C,ia,ka);ka[G]=ea;ea=S(M,ia,ka);ka[R]=ea;ea=S(W,ia,ka);ka[Z]=ea;return S(l,ia,ka)},a);default:throw Error(["No matching clause: ",$APP.t.o(d)].join(""));}},lv=function lv(a){switch(arguments.length){case 2:return lv.j(arguments[0],arguments[1]);case 3:return lv.v(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",$APP.t.o(arguments.length)].join(""));}};
lv.j=function(a,b){return lv.v(a,b,!1)};
lv.v=function(a,b,c){var d=$APP.we(b);if(Ar(b))return b;if(b instanceof $APP.v){var e=ev(a,b,!1,$APP.Fn.o(d)),f=$APP.we(e);if(Ar(e))return e;if(js(e)){if($APP.p(function(){var g=Oq(e);return $APP.p(g)?er.o(f):g}()))return $APP.pm.j(e,a);if($APP.p(xE.o(f)))return $APP.u(e);if($APP.p(Jq(e)))throw Error(["Can't take value of a macro: ",$APP.t.o(e),""].join(""));return zq(function(){return $APP.u(e)},null)}return e}return $APP.Fe(b)?b:$APP.Ee(b)?Tw(a,b,d):b instanceof co?Ww(a,b):$APP.Ge(b)?Uw(a,$APP.gf,
$APP.xA,b,d):$APP.Be(b)?Uw(a,$APP.Wi,Us,b,d):$APP.Le(b)?$APP.x(b)?Pw(a,b,d,c):b:b};lv.B=3;$APP.jd(ET,lv);"undefined"!==typeof $APP.cg&&"undefined"!==typeof $APP.cg.ig&&"undefined"!==typeof $APP.cg.ig.api&&"undefined"!==typeof $APP.cg.ig.api.resolve&&$APP.ve(lC,new $APP.n(null,1,[bR,!0],null));$APP.aU=function aU(a){switch(arguments.length){case 0:return aU.C();case 1:return aU.o(arguments[0]);case 2:return aU.j(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new $APP.Fd(c.slice(2),0,null);return aU.A(arguments[0],arguments[1],c)}};$APP.aU.C=function(){return $APP.Ri};$APP.aU.o=function(a){return a};$APP.aU.j=function(a,b){return $APP.ge(a)<$APP.ge(b)?$APP.cf.v($APP.tf,b,a):$APP.cf.v($APP.tf,a,b)};
$APP.aU.A=function(a,b,c){a=ox($APP.ge,$APP.tf.A(c,b,$APP.F([a])));return $APP.cf.v($APP.Nh,$APP.y(a),$APP.Jd(a))};$APP.aU.F=function(a){var b=$APP.y(a),c=$APP.z(a);a=$APP.y(c);c=$APP.z(c);return this.A(b,a,c)};$APP.aU.B=2;
$APP.bU=function bU(a){switch(arguments.length){case 1:return bU.o(arguments[0]);case 2:return bU.j(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new $APP.Fd(c.slice(2),0,null);return bU.A(arguments[0],arguments[1],c)}};$APP.bU.o=function(a){return a};
$APP.bU.j=function(a,b){for(;;)if($APP.ge(b)<$APP.ge(a)){var c=a;a=b;b=c}else return $APP.cf.v(function(d,e){return function(f,g){return $APP.Te(e,g)?f:$APP.Ts.j(f,g)}}(a,b),a,a)};$APP.bU.A=function(a,b,c){a=ox(function(d){return-$APP.ge(d)},$APP.tf.A(c,b,$APP.F([a])));return $APP.cf.v($APP.bU,$APP.y(a),$APP.Jd(a))};$APP.bU.F=function(a){var b=$APP.y(a),c=$APP.z(a);a=$APP.y(c);c=$APP.z(c);return this.A(b,a,c)};$APP.bU.B=2;
$APP.cU=function cU(a){switch(arguments.length){case 1:return cU.o(arguments[0]);case 2:return cU.j(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new $APP.Fd(c.slice(2),0,null);return cU.A(arguments[0],arguments[1],c)}};$APP.cU.o=function(a){return a};$APP.cU.j=function(a,b){return $APP.ge(a)<$APP.ge(b)?$APP.cf.v(function(c,d){return $APP.Te(b,d)?$APP.Ts.j(c,d):c},a,a):$APP.cf.v($APP.Ts,a,b)};
$APP.cU.A=function(a,b,c){return $APP.cf.v($APP.cU,a,$APP.tf.j(c,b))};$APP.cU.F=function(a){var b=$APP.y(a),c=$APP.z(a);a=$APP.y(c);c=$APP.z(c);return this.A(b,a,c)};$APP.cU.B=2;var dU=function dU(a){switch(arguments.length){case 2:return dU.j(arguments[0],arguments[1]);case 3:return dU.v(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",$APP.t.o(arguments.length)].join(""));}};
dU.j=function(a,b){if($APP.x(a)&&$APP.x(b)){var c=$APP.bU.j($APP.Wi($APP.Ii($APP.y(a))),$APP.Wi($APP.Ii($APP.y(b))));b=$APP.ge(a)<=$APP.ge(b)?new $APP.N(null,2,5,$APP.O,[a,b],null):new $APP.N(null,2,5,$APP.O,[b,a],null);a=$APP.D.v(b,0,null);b=$APP.D.v(b,1,null);var d=qx(a,c);return $APP.cf.v(function(e,f){var g=function(){var k=$APP.Oi(f,c);return d.o?d.o(k):d.call(null,k)}();return $APP.p(g)?$APP.cf.v(function(k,l){return $APP.tf.j(k,$APP.mm.A($APP.F([l,f])))},e,g):e},$APP.Ri,b)}return $APP.Ri};
dU.v=function(a,b,c){a=$APP.ge(a)<=$APP.ge(b)?new $APP.N(null,3,5,$APP.O,[a,b,rx(c)],null):new $APP.N(null,3,5,$APP.O,[b,a,c],null);b=$APP.D.v(a,0,null);c=$APP.D.v(a,1,null);var d=$APP.D.v(a,2,null),e=qx(b,$APP.Ki(d));return $APP.cf.v(function(f,g){var k=function(){var l=$APP.px($APP.Oi(g,$APP.Ii(d)),d);return e.o?e.o(l):e.call(null,l)}();return $APP.p(k)?$APP.cf.v(function(l,h){return $APP.tf.j(l,$APP.mm.A($APP.F([h,g])))},f,k):f},$APP.Ri,c)};dU.B=3;var tx=function tx(a,b){return sx($APP.pm.j(tx,a),a,b)},eU=function eU(a,b){return sx($APP.pm.j(eU,a),$APP.gf,a.o?a.o(b):a.call(null,b))};var fU,Tba=$APP.Yj.o($APP.$f),Uba=$APP.Yj.o($APP.$f),Vba=$APP.Yj.o($APP.$f),Wba=$APP.Yj.o($APP.$f),Xba=$APP.Re.v($APP.$f,$APP.Ss,$APP.ik.C?$APP.ik.C():$APP.ik.call(null));fU=new $APP.Bk($APP.Gj.j("sci.impl.core-protocols","-deref"),ks,$APP.Sn,Xba,Tba,Uba,Vba,Wba);fU.Qa(null,GD,function(a){var b=tq(a);b=$APP.Re.j(b,iE);return b.o?b.o(a):b.call(null,a)});
var Yba=fU.Qa(null,$APP.Sn,function(a){return $APP.u(a)}),gU=$APP.cr($APP.Ru,null),Zba=is(Laa,new $APP.n(null,3,[$APP.wt,$APP.mc,ut,$APP.Si([fU]),$APP.$q,gU],null),new $APP.n(null,1,[$APP.$q,gU],null)),hU,$ba=$APP.Yj.o($APP.$f),aca=$APP.Yj.o($APP.$f),bca=$APP.Yj.o($APP.$f),cca=$APP.Yj.o($APP.$f),dca=$APP.Re.v($APP.$f,$APP.Ss,$APP.ik.C?$APP.ik.C():$APP.ik.call(null));hU=new $APP.Bk($APP.Gj.j("sci.impl.core-protocols","-swap!"),ks,$APP.Sn,dca,$ba,aca,bca,cca);
var iU,eca=$APP.Yj.o($APP.$f),fca=$APP.Yj.o($APP.$f),gca=$APP.Yj.o($APP.$f),hca=$APP.Yj.o($APP.$f),ica=$APP.Re.v($APP.$f,$APP.Ss,$APP.ik.C?$APP.ik.C():$APP.ik.call(null));iU=new $APP.Bk($APP.Gj.j("sci.impl.core-protocols","-reset!"),ks,$APP.Sn,ica,eca,fca,gca,hca);
hU.Qa(null,GD,function(){function a(f,g,k,l){var h=tq(f);h=$APP.Re.j(h,OD);return h.J?h.J(f,g,k,l):h.call(null,f,g,k,l)}function b(f,g,k){var l=tq(f);l=$APP.Re.j(l,OD);return l.v?l.v(f,g,k):l.call(null,f,g,k)}function c(f,g){var k=tq(f);k=$APP.Re.j(k,OD);return k.j?k.j(f,g):k.call(null,f,g)}var d=null,e=function(){function f(k,l,h,r,q){var w=null;if(4<arguments.length){w=0;for(var C=Array(arguments.length-4);w<C.length;)C[w]=arguments[w+4],++w;w=new $APP.Fd(C,0,null)}return g.call(this,k,l,h,r,w)}
function g(k,l,h,r,q){var w=tq(k);return $APP.wg.A($APP.Re.j(w,OD),k,l,h,r,$APP.F([q]))}f.B=4;f.F=function(k){var l=$APP.y(k);k=$APP.z(k);var h=$APP.y(k);k=$APP.z(k);var r=$APP.y(k);k=$APP.z(k);var q=$APP.y(k);k=$APP.Jd(k);return g(l,h,r,q,k)};f.A=g;return f}();d=function(f,g,k,l,h){switch(arguments.length){case 2:return c.call(this,f,g);case 3:return b.call(this,f,g,k);case 4:return a.call(this,f,g,k,l);default:var r=null;if(4<arguments.length){r=0;for(var q=Array(arguments.length-4);r<q.length;)q[r]=
arguments[r+4],++r;r=new $APP.Fd(q,0,null)}return e.A(f,g,k,l,r)}throw Error("Invalid arity: "+arguments.length);};d.B=4;d.F=e.F;d.j=c;d.v=b;d.J=a;d.A=e.A;return d}());iU.Qa(null,GD,function(a,b){var c=tq(a);c=$APP.Re.j(c,sJ);return c.j?c.j(a,b):c.call(null,a,b)});
var jca=new $APP.N(null,2,5,$APP.O,[hU.Qa(null,$APP.Sn,function(){function a(c,d,e){var f=null;if(2<arguments.length){f=0;for(var g=Array(arguments.length-2);f<g.length;)g[f]=arguments[f+2],++f;f=new $APP.Fd(g,0,null)}return b.call(this,c,d,f)}function b(c,d,e){return $APP.wg.J($APP.Zj,c,d,e)}a.B=2;a.F=function(c){var d=$APP.y(c);c=$APP.z(c);var e=$APP.y(c);c=$APP.Jd(c);return b(d,e,c)};a.A=b;return a}()),iU.Qa(null,$APP.Sn,function(a,b){return $APP.Ag(a,b)})],null),jU=function jU(a){for(var c=[],
d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=2<c.length?new $APP.Fd(c.slice(2),0,null):null;return jU.A(arguments[0],arguments[1],c)};jU.A=function(a,b,c){return $APP.p(c)?$APP.wg.J(hU,a,b,c):hU.j(a,b)};jU.B=2;jU.F=function(a){var b=$APP.y(a),c=$APP.z(a);a=$APP.y(c);c=$APP.z(c);return this.A(b,a,c)};
var kca=is(xL,new $APP.n(null,3,[$APP.wt,id,ut,$APP.Si([hU]),$APP.$q,gU],null),new $APP.n(null,1,[$APP.$q,gU],null)),lca=is(Uaa,new $APP.n(null,3,[$APP.wt,gd,ut,$APP.Si([iU]),$APP.$q,gU],null),new $APP.n(null,1,[$APP.$q,gU],null));$APP.Wi($APP.tf.j(jca,Yba));var kU=function kU(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=3<c.length?new $APP.Fd(c.slice(3),0,null):null;return kU.A(arguments[0],arguments[1],arguments[2],c)};
kU.A=function(a,b,c,d){if(!$APP.Ge(c))throw Error("doseq requires a vector for its binding");if(!$APP.vg($APP.ge(c)))throw Error("doseq requires an even number of forms in binding vector");return $APP.D.j(function k(f,g){if($APP.wb(g))return new $APP.N(null,2,5,$APP.O,[!0,$APP.U.o($APP.x($APP.Q.j(new $APP.J(null,$APP.Sk,null,1,null),d)))],null);var l=$APP.y(g),h=$APP.le(g);if(l instanceof $APP.K){var r=k(f,oe(g)),q=r.o?r.o(0):r.call(null,0);r=r.o?r.o(1):r.call(null,1);return $APP.A.j(l,iK)?new $APP.N(null,
2,5,$APP.O,[q,$APP.U.o($APP.x($APP.Q.A(new $APP.J(null,$APP.as,null,1,null),new $APP.J(null,h,null,1,null),$APP.F([new $APP.J(null,r,null,1,null)]))))],null):$APP.A.j(l,pT)?new $APP.N(null,2,5,$APP.O,[!1,$APP.U.o($APP.x($APP.Q.A(new $APP.J(null,$APP.NJ,null,1,null),new $APP.J(null,h,null,1,null),$APP.F([new $APP.J(null,r,null,1,null),$APP.p(q)?new $APP.N(null,1,5,$APP.O,[f],null):null]))))],null):$APP.A.j(l,yF)?new $APP.N(null,2,5,$APP.O,[!1,$APP.U.o($APP.x($APP.Q.A(new $APP.J(null,$APP.Uk,null,1,
null),new $APP.J(null,h,null,1,null),$APP.F([new $APP.J(null,$APP.U.o($APP.x($APP.Q.A(new $APP.J(null,$APP.Sk,null,1,null),new $APP.J(null,r,null,1,null),$APP.F([$APP.p(q)?new $APP.N(null,1,5,$APP.O,[f],null):null])))),null,1,null),new $APP.J(null,f,null,1,null)]))))],null):null}f=$APP.Ao.o("seq_");var w=$APP.ve($APP.Ao.o("chunk_"),new $APP.n(null,1,[$APP.Fn,DK],null)),C=$APP.Ao.o("count_"),G=$APP.Ao.o("i_"),M=$APP.U.o($APP.x($APP.Q.A(new $APP.J(null,Ou,null,1,null),new $APP.J(null,$APP.U.o($APP.x($APP.Q.j(new $APP.J(null,
pE,null,1,null),new $APP.J(null,f,null,1,null)))),null,1,null),$APP.F([new $APP.J(null,null,null,1,null),new $APP.J(null,0,null,1,null),new $APP.J(null,0,null,1,null)]))));r=k(M,oe(g));q=r.o?r.o(0):r.call(null,0);r=r.o?r.o(1):r.call(null,1);var R=$APP.U.o($APP.x($APP.Q.A(new $APP.J(null,Ou,null,1,null),new $APP.J(null,f,null,1,null),$APP.F([new $APP.J(null,w,null,1,null),new $APP.J(null,C,null,1,null),new $APP.J(null,$APP.U.o($APP.x($APP.Q.j(new $APP.J(null,LI,null,1,null),new $APP.J(null,G,null,
1,null)))),null,1,null)]))));g=k(R,oe(g));g=g.o?g.o(1):g.call(null,1);return new $APP.N(null,2,5,$APP.O,[!0,$APP.U.o($APP.x($APP.Q.A(new $APP.J(null,Nu,null,1,null),new $APP.J(null,$APP.jh($APP.U.o($APP.x($APP.Q.A(new $APP.J(null,f,null,1,null),new $APP.J(null,$APP.U.o($APP.x($APP.Q.j(new $APP.J(null,KL,null,1,null),new $APP.J(null,h,null,1,null)))),null,1,null),$APP.F([new $APP.J(null,w,null,1,null),new $APP.J(null,null,null,1,null),new $APP.J(null,C,null,1,null),new $APP.J(null,0,null,1,null),new $APP.J(null,
G,null,1,null),new $APP.J(null,0,null,1,null)]))))),null,1,null),$APP.F([new $APP.J(null,$APP.U.o($APP.x($APP.Q.A(new $APP.J(null,$APP.Uk,null,1,null),new $APP.J(null,$APP.U.o($APP.x($APP.Q.A(new $APP.J(null,dT,null,1,null),new $APP.J(null,G,null,1,null),$APP.F([new $APP.J(null,C,null,1,null)])))),null,1,null),$APP.F([new $APP.J(null,$APP.U.o($APP.x($APP.Q.A(new $APP.J(null,$APP.as,null,1,null),new $APP.J(null,$APP.jh($APP.U.o($APP.x($APP.Q.j(new $APP.J(null,l,null,1,null),new $APP.J(null,$APP.U.o($APP.x($APP.Q.A(new $APP.J(null,
PM,null,1,null),new $APP.J(null,w,null,1,null),$APP.F([new $APP.J(null,G,null,1,null)])))),null,1,null))))),null,1,null),$APP.F([new $APP.J(null,g,null,1,null),$APP.p(q)?new $APP.N(null,1,5,$APP.O,[R],null):null])))),null,1,null),new $APP.J(null,$APP.U.o($APP.x($APP.Q.A(new $APP.J(null,$APP.as,null,1,null),new $APP.J(null,$APP.jh($APP.U.o($APP.x($APP.Q.j(new $APP.J(null,f,null,1,null),new $APP.J(null,$APP.U.o($APP.x($APP.Q.j(new $APP.J(null,KL,null,1,null),new $APP.J(null,f,null,1,null)))),null,1,
null))))),null,1,null),$APP.F([new $APP.J(null,$APP.U.o($APP.x($APP.Q.A(new $APP.J(null,$APP.NJ,null,1,null),new $APP.J(null,f,null,1,null),$APP.F([new $APP.J(null,$APP.U.o($APP.x($APP.Q.A(new $APP.J(null,$APP.Uk,null,1,null),new $APP.J(null,$APP.U.o($APP.x($APP.Q.j(new $APP.J(null,SH,null,1,null),new $APP.J(null,f,null,1,null)))),null,1,null),$APP.F([new $APP.J(null,$APP.U.o($APP.x($APP.Q.A(new $APP.J(null,$APP.as,null,1,null),new $APP.J(null,$APP.jh($APP.U.o($APP.x($APP.Q.j(new $APP.J(null,OB,null,
1,null),new $APP.J(null,$APP.U.o($APP.x($APP.Q.j(new $APP.J(null,cC,null,1,null),new $APP.J(null,f,null,1,null)))),null,1,null))))),null,1,null),$APP.F([new $APP.J(null,$APP.U.o($APP.x($APP.Q.A(new $APP.J(null,Ou,null,1,null),new $APP.J(null,$APP.U.o($APP.x($APP.Q.j(new $APP.J(null,BK,null,1,null),new $APP.J(null,f,null,1,null)))),null,1,null),$APP.F([new $APP.J(null,OB,null,1,null),new $APP.J(null,$APP.U.o($APP.x($APP.Q.j(new $APP.J(null,BG,null,1,null),new $APP.J(null,$APP.U.o($APP.x($APP.Q.j(new $APP.J(null,
WF,null,1,null),new $APP.J(null,OB,null,1,null)))),null,1,null)))),null,1,null),new $APP.J(null,$APP.U.o($APP.x($APP.Q.j(new $APP.J(null,BG,null,1,null),new $APP.J(null,0,null,1,null)))),null,1,null)])))),null,1,null)])))),null,1,null),new $APP.J(null,$APP.U.o($APP.x($APP.Q.A(new $APP.J(null,$APP.as,null,1,null),new $APP.J(null,$APP.jh($APP.U.o($APP.x($APP.Q.j(new $APP.J(null,l,null,1,null),new $APP.J(null,$APP.U.o($APP.x($APP.Q.j(new $APP.J(null,NM,null,1,null),new $APP.J(null,f,null,1,null)))),
null,1,null))))),null,1,null),$APP.F([new $APP.J(null,r,null,1,null),$APP.p(q)?new $APP.N(null,1,5,$APP.O,[M],null):null])))),null,1,null)])))),null,1,null)])))),null,1,null)])))),null,1,null)])))),null,1,null)]))))],null)}(null,$APP.x(c)),1)};kU.B=3;kU.F=function(a){var b=$APP.y(a),c=$APP.z(a);a=$APP.y(c);var d=$APP.z(c);c=$APP.y(d);d=$APP.z(d);return this.A(b,a,c,d)};var lU;a:{var mca=dw;dw=!0;try{var mU=wx(TN);Mq(mU);lU=mU;break a}finally{dw=mca}lU=void 0}var nU;a:{var nca=dw;dw=!0;try{var oU=wx(XI);Mq(oU);nU=oU;break a}finally{dw=nca}nU=void 0}var pU;a:{var oca=dw;dw=!0;try{var qU=wx(hT);Mq(qU);pU=qU;break a}finally{dw=oca}pU=void 0}a:{var pca=dw;dw=!0;try{var sU=wx(WC);Mq(sU);$APP.rU=sU;break a}finally{dw=pca}$APP.rU=void 0}var tU;a:{var qca=dw;dw=!0;try{var uU=wx(EE);Mq(uU);tU=uU;break a}finally{dw=qca}tU=void 0}
var vU=new Zq(jb,VG,new $APP.n(null,6,[$APP.T,VG,$APP.V,null,$APP.X,"If set to logical true, when printing an object, its metadata will also\n  be printed in a form that can be read back by the reader.\n\n  Defaults to false.",$APP.es,!0,er,!0,$APP.$q,ix],null),null),wU=new Zq($APP.ob,uG,new $APP.n(null,6,[$APP.T,uG,$APP.V,null,$APP.X,"*print-length* controls how many items of each collection the\n  printer will print. If it is bound to logical false, there is no\n  limit. Otherwise, it must be bound to an integer indicating the maximum\n  number of items of each collection to print. If a collection contains\n  more items, the printer will print items up to the limit followed by\n  '...' to represent the remaining items. The root binding is nil\n  indicating no limit.",
$APP.es,!0,er,!0,$APP.$q,ix],null),null),xU=new Zq($APP.nj,FI,new $APP.n(null,6,[$APP.T,FI,$APP.V,null,$APP.X,"*print-level* controls how many levels deep the printer will\n  print nested objects. If it is bound to logical false, there is no\n  limit. Otherwise, it must be bound to an integer indicating the maximum\n  level to print. Each argument to print is at level 0; if an argument is a\n  collection, its items are at level 1; and so on. If an object is a\n  collection and is at a level greater than or equal to the value bound to\n  *print-level*, the printer prints '#' to represent it. The root binding\n  is nil indicating no limit.",
$APP.es,!0,er,!0,$APP.$q,ix],null),null),yU=new Zq(!0,nT,new $APP.n(null,6,[$APP.T,nT,$APP.V,null,$APP.X,"*print-namespace-maps* controls whether the printer will print\n  namespace map literal syntax.\n\n  Defaults to false, but the REPL binds it to true.",$APP.es,!0,er,!0,$APP.$q,ix],null),null),rca=new Zq(!0,fJ,new $APP.n(null,6,[$APP.T,fJ,$APP.V,null,$APP.X,"When set to true, output will be flushed whenever a newline is printed.\n\n  Defaults to true.",$APP.es,!0,er,!0,$APP.$q,ix],null),null),
zU=new Zq($APP.hb,sE,new $APP.n(null,6,[$APP.T,sE,$APP.V,null,$APP.X,"When set to logical false, strings and characters will be printed with\n  non-alphanumeric characters converted to the appropriate escape sequences.\n\n  Defaults to true",$APP.es,!0,er,!0,$APP.$q,ix],null),null),AU=new Zq(mb,$K,new $APP.n(null,6,[$APP.T,$K,$APP.V,null,$APP.X,"When set to logical true, objects will be printed in a way that preserves\n  their type when read in later.\n\n  Defaults to false.",$APP.es,!0,er,!0,$APP.$q,
ix],null),null),BU=new Zq(qb,oS,new $APP.n(null,6,[$APP.T,oS,$APP.V,null,$APP.X,"When set to logical false will drop newlines from printing calls.\n  This is to work around the implicit newlines emitted by standard JavaScript\n  console objects.",$APP.es,!0,er,!0,$APP.$q,ix],null),null),CU=function CU(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=0<c.length?new $APP.Fd(c.slice(0),0,null):null;return CU.A(c)};
CU.A=function(a){var b=$APP.rb,c=$APP.ob,d=$APP.nj,e=jb,f=Ij,g=$APP.hb,k=qb,l=mb,h=$APP.u($APP.rU),r=$APP.u(wU),q=$APP.u(xU),w=$APP.u(vU),C=$APP.u(yU),G=$APP.u(zU),M=$APP.u(BU),R=$APP.u(AU);$APP.rb=h;$APP.ob=r;$APP.nj=q;jb=w;Ij=C;$APP.hb=G;qb=M;mb=R;try{return $APP.wg.j(WA,a)}finally{mb=l,qb=k,$APP.hb=g,Ij=f,jb=e,$APP.nj=d,$APP.ob=c,$APP.rb=b}};CU.B=0;CU.F=function(a){return this.A($APP.x(a))};
var DU=function DU(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=0<c.length?new $APP.Fd(c.slice(0),0,null):null;return DU.A(c)};DU.A=function(a){var b=$APP.ob,c=$APP.nj,d=jb,e=Ij,f=$APP.hb,g=qb,k=mb,l=$APP.u(wU),h=$APP.u(xU),r=$APP.u(vU),q=$APP.u(yU),w=$APP.u(zU),C=$APP.u(BU),G=$APP.u(AU);$APP.ob=l;$APP.nj=h;jb=r;Ij=q;$APP.hb=w;qb=C;mb=G;try{return $APP.wg.j($APP.Uj,a)}finally{mb=k,qb=g,$APP.hb=f,Ij=e,jb=d,$APP.nj=c,$APP.ob=b}};DU.B=0;DU.F=function(a){return this.A($APP.x(a))};
var EU=function EU(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=0<c.length?new $APP.Fd(c.slice(0),0,null):null;return EU.A(c)};
EU.A=function(a){var b=$APP.rb,c=$APP.ob,d=$APP.nj,e=jb,f=Ij,g=$APP.hb,k=qb,l=mb,h=$APP.u($APP.rU),r=$APP.u(wU),q=$APP.u(xU),w=$APP.u(vU),C=$APP.u(yU),G=$APP.u(zU),M=$APP.u(BU),R=$APP.u(AU);$APP.rb=h;$APP.ob=r;$APP.nj=q;jb=w;Ij=C;$APP.hb=G;qb=M;mb=R;try{return $APP.wg.j($APP.fw,a)}finally{mb=l,qb=k,$APP.hb=g,Ij=f,jb=e,$APP.nj=d,$APP.ob=c,$APP.rb=b}};EU.B=0;EU.F=function(a){return this.A($APP.x(a))};
var FU=function FU(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=0<c.length?new $APP.Fd(c.slice(0),0,null):null;return FU.A(c)};FU.A=function(a){var b=$APP.ob,c=$APP.nj,d=jb,e=Ij,f=$APP.hb,g=qb,k=mb,l=$APP.u(wU),h=$APP.u(xU),r=$APP.u(vU),q=$APP.u(yU),w=$APP.u(zU),C=$APP.u(BU),G=$APP.u(AU);$APP.ob=l;$APP.nj=h;jb=r;Ij=q;$APP.hb=w;qb=C;mb=G;try{return $APP.wg.j(VA,a)}finally{mb=k,qb=g,$APP.hb=f,Ij=e,jb=d,$APP.nj=c,$APP.ob=b}};FU.B=0;FU.F=function(a){return this.A($APP.x(a))};
var GU=function GU(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=0<c.length?new $APP.Fd(c.slice(0),0,null):null;return GU.A(c)};GU.A=function(a){var b=$APP.rb,c=$APP.ob,d=$APP.nj,e=Ij,f=$APP.hb,g=qb,k=mb,l=$APP.u($APP.rU),h=$APP.u(wU),r=$APP.u(xU),q=$APP.u(yU),w=$APP.u(BU),C=$APP.u(AU);$APP.rb=l;$APP.ob=h;$APP.nj=r;Ij=q;$APP.hb=null;qb=w;mb=C;try{return $APP.wg.j(Dy,a)}finally{mb=k,qb=g,$APP.hb=f,Ij=e,$APP.nj=d,$APP.ob=c,$APP.rb=b}};GU.B=0;GU.F=function(a){return this.A($APP.x(a))};
var HU=function HU(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=0<c.length?new $APP.Fd(c.slice(0),0,null):null;return HU.A(c)};HU.A=function(a){var b=$APP.ob,c=$APP.nj,d=jb,e=Ij,f=$APP.hb,g=qb,k=mb,l=$APP.u(wU),h=$APP.u(xU),r=$APP.u(vU),q=$APP.u(yU),w=$APP.u(zU),C=$APP.u(BU),G=$APP.u(AU);$APP.ob=l;$APP.nj=h;jb=r;Ij=q;$APP.hb=w;qb=C;mb=G;try{return $APP.wg.j($APP.XA,a)}finally{mb=k,qb=g,$APP.hb=f,Ij=e,jb=d,$APP.nj=c,$APP.ob=b}};HU.B=0;HU.F=function(a){return this.A($APP.x(a))};
var $x=function $x(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=0<c.length?new $APP.Fd(c.slice(0),0,null):null;return $x.A(c)};
$x.A=function(a){var b=$APP.rb,c=$APP.ob,d=$APP.nj,e=jb,f=Ij,g=$APP.hb,k=qb,l=mb,h=$APP.u($APP.rU),r=$APP.u(wU),q=$APP.u(xU),w=$APP.u(vU),C=$APP.u(yU),G=$APP.u(zU),M=$APP.u(BU),R=$APP.u(AU);$APP.rb=h;$APP.ob=r;$APP.nj=q;jb=w;Ij=C;$APP.hb=G;qb=M;mb=R;try{return $APP.wg.j($APP.YA,a)}finally{mb=l,qb=k,$APP.hb=g,Ij=f,jb=e,$APP.nj=d,$APP.ob=c,$APP.rb=b}};$x.B=0;$x.F=function(a){return this.A($APP.x(a))};
var IU=function IU(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=2<c.length?new $APP.Fd(c.slice(2),0,null):null;return IU.A(arguments[0],arguments[1],c)};
IU.A=function(a,b,c){return $APP.U.o($APP.x($APP.Q.A(new $APP.J(null,$APP.as,null,1,null),new $APP.J(null,$APP.jh($APP.U.o($APP.x($APP.Q.j(new $APP.J(null,ZG,null,1,null),new $APP.J(null,$APP.U.o($APP.x($APP.Q.j(new $APP.J(null,Vk,null,1,null),new $APP.J(null,TL,null,1,null)))),null,1,null))))),null,1,null),$APP.F([new $APP.J(null,$APP.U.o($APP.x($APP.Q.A(new $APP.J(null,PI,null,1,null),new $APP.J(null,$APP.jh($APP.U.o($APP.x($APP.Q.A(new $APP.J(null,FK,null,1,null),new $APP.J(null,!0,null,1,null),
$APP.F([new $APP.J(null,VI,null,1,null),new $APP.J(null,$APP.U.o($APP.x($APP.Q.A(new $APP.J(null,$APP.YF,null,1,null),new $APP.J(null,$APP.jh($APP.U.o($APP.x($APP.Q.o(new $APP.J(null,zH,null,1,null))))),null,1,null),$APP.F([new $APP.J(null,$APP.U.o($APP.x($APP.Q.A(new $APP.J(null,$APP.cl,null,1,null),new $APP.J(null,ZG,null,1,null),$APP.F([new $APP.J(null,ew,null,1,null),new $APP.J(null,zH,null,1,null)])))),null,1,null)])))),null,1,null)]))))),null,1,null),$APP.F([c,new $APP.J(null,$APP.U.o($APP.x($APP.Q.j(new $APP.J(null,
$APP.ZS,null,1,null),new $APP.J(null,ZG,null,1,null)))),null,1,null)])))),null,1,null)]))))};IU.B=2;IU.F=function(a){var b=$APP.y(a),c=$APP.z(a);a=$APP.y(c);c=$APP.z(c);return this.A(b,a,c)};var Ix=is(hL,!1,new $APP.n(null,3,[$APP.$q,ix,$APP.es,!0,$APP.X,"Defaults to true (or value specified by system property, see below)\n  ***This setting implies that the full power of the reader is in play,\n  including syntax that can cause code to execute. It should never be\n  used with untrusted sources. See also: clojure.edn/read.***\n\n  When set to logical false in the thread-local binding,\n  the eval reader (#\x3d) and record/type literal syntax are disabled in read/load.\n  Example (will fail): (binding [*read-eval* false] (read-string \"#\x3d(* 2 21)\"))\n\n  The default binding can be controlled by the system property\n  'clojure.read.eval' System properties can be set on the command line\n  like this:\n\n  java -Dclojure.read.eval\x3dfalse ...\n\n  The system property can also be set to 'unknown' via\n  -Dclojure.read.eval\x3dunknown, in which case the default binding\n  is :unknown and all reads will fail in contexts where *read-eval*\n  has not been explicitly bound to either true or false. This setting\n  can be a useful diagnostic tool to ensure that all of your reads\n  occur in considered contexts. You can also accomplish this in a\n  particular scope by binding *read-eval* to :unknown\n  "],
null)),Ex=is(KI,$APP.$f,new $APP.n(null,3,[$APP.$q,ix,$APP.es,!0,$APP.X,"Map from reader tag symbols to data reader Vars.\n\n  When Clojure starts, it searches for files named 'data_readers.clj'\n  and 'data_readers.cljc' at the root of the classpath. Each such file\n  must contain a literal map of symbols, like this:\n\n      {foo/bar my.project.foo/bar\n       foo/baz my.project/baz}\n\n  The first symbol in each pair is a tag that will be recognized by\n  the Clojure reader. The second symbol in the pair is the\n  fully-qualified name of a Var which will be invoked by the reader to\n  parse the form following the tag. For example, given the\n  data_readers.clj file above, the Clojure reader would parse this\n  form:\n\n      #foo/bar [1 2 3]\n\n  by invoking the Var #'my.project.foo/bar on the vector [1 2 3]. The\n  data reader function is invoked on the form AFTER it has been read\n  as a normal Clojure data structure by the reader.\n\n  Reader tags without namespace qualifiers are reserved for\n  Clojure. Default reader tags are defined in\n  clojure.core/default-data-readers but may be overridden in\n  data_readers.clj, data_readers.cljc, or by rebinding this Var."],
null)),Hx=is(dS,null,new $APP.n(null,3,[$APP.$q,ix,$APP.es,!0,$APP.X,"When no data reader is found for a tag and *default-data-reader-fn*\n  is non-nil, it will be called with two arguments,\n  the tag and the value.  If *default-data-reader-fn* is nil (the\n  default), an exception will be thrown for the unknown tag."],null)),sca=is(zB,null,new $APP.n(null,2,[$APP.$q,ix,$APP.es,!0],null)),Dx=function(a){var b=function(){var d=$APP.pq.o(a);return $APP.p(d)?$APP.Nh.j($APP.nm.j(a,$APP.pq),new $APP.N(null,
9,5,$APP.O,[function(){var e=$APP.Rr.j(d,new $APP.N(null,1,5,$APP.O,["@"],null));return $APP.p(e)?new $APP.N(null,2,5,$APP.O,[$APP.$p,e],null):null}(),function(){var e=$APP.Rr.j(d,new $APP.N(null,1,5,$APP.O,["`"],null));return $APP.p(e)?new $APP.N(null,2,5,$APP.O,[Co,e],null):null}(),function(){var e=$APP.Rr.j(d,new $APP.N(null,1,5,$APP.O,["~"],null));if($APP.p(e)){if($APP.te(e))return new $APP.N(null,2,5,$APP.O,[eq,e],null);e=$APP.Sn.o(e);return $APP.p(e)?new $APP.N(null,2,5,$APP.O,[eq,e],null):
null}return null}(),function(){var e=$APP.Rr.j(d,new $APP.N(null,2,5,$APP.O,["~","@"],null));return $APP.p(e)?new $APP.N(null,2,5,$APP.O,[fq,e],null):null}(),function(){var e=$APP.Rr.j(d,new $APP.N(null,1,5,$APP.O,["'"],null));return $APP.p(e)?new $APP.N(null,2,5,$APP.O,[bq,e],null):null}(),function(){var e=$APP.Rr.j(d,new $APP.N(null,2,5,$APP.O,["#","("],null));return $APP.p(e)?new $APP.N(null,2,5,$APP.O,[Np,e],null):null}(),function(){var e=$APP.Rr.j(d,new $APP.N(null,2,5,$APP.O,["#","'"],null));
return $APP.p(e)?new $APP.N(null,2,5,$APP.O,[Mp,e],null):null}(),function(){var e=$APP.Rr.j(d,new $APP.N(null,2,5,$APP.O,["#","\x3d"],null));return $APP.p(e)?new $APP.N(null,2,5,$APP.O,[Pp,e],null):null}(),function(){var e=$APP.Rr.j(d,new $APP.N(null,2,5,$APP.O,["#",'"'],null));return $APP.p(e)?new $APP.N(null,2,5,$APP.O,[Kp,e],null):null}()],null)):a}(),c=$APP.p(fu.o(b))?$APP.mm.A($APP.F([new $APP.n(null,7,[$APP.$p,!0,Np,!0,bq,!0,Pp,!0,Kp,!0,Co,!0,Mp,!0],null),b])):b;b=function(){var d=$APP.wb(Io.o(c))?
$APP.Ni.v(c,Io,Qo):c;d=$APP.wb(Jo.o(c))?$APP.Ni.v(d,Jo,ym):d;d=$APP.wb(Ko.o(c))?$APP.Ni.v(d,Ko,ML):d;d=$APP.wb(Lo.o(c))?$APP.Ni.v(d,Lo,nD):d;d=$APP.wb(nq.o(c))?$APP.Ni.v(d,nq,lm):d;return $APP.Te(c,kq)?d:$APP.Ni.v(d,kq,!0)}();return qq(b)}(new $APP.n(null,6,[fu,!0,Io,$APP.xm,Jo,$APP.Un,wp,Mt,jq,$APP.Le,kq,!1],null));var JU=function JU(a){switch(arguments.length){case 1:return JU.o(arguments[0]);case 2:return JU.j(arguments[0],arguments[1]);case 4:return JU.J(arguments[0],arguments[1],arguments[2],arguments[3]);case 5:return JU.S(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4]);case 3:return JU.v(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",$APP.t.o(arguments.length)].join(""));}};JU.o=function(a){return JU.j(a,$APP.u(lU))};
JU.j=function(a,b){return JU.J(a,b,!0,null)};JU.J=function(a,b,c,d){return JU.S(a,b,c,d,!1)};JU.S=function(a,b,c,d){a=Lx(a,b,new $APP.n(null,1,[Fm,d],null));return Nx(new $APP.n(null,1,[Fm,d],null),a)};JU.v=function(a,b,c){b=$APP.p(wp.o(b))?$APP.Ni.v(b,tp,$APP.Nh.j(new $APP.Qi(null,new $APP.n(null,1,[aO,null],null),null),tp.o(b))):b;a=Lx(a,c,b);return Nx(b,a)};JU.B=5;
var KU=function KU(a){switch(arguments.length){case 2:return KU.j(arguments[0],arguments[1]);case 3:return KU.v(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",$APP.t.o(arguments.length)].join(""));}};KU.j=function(a,b){b=hm(gm(b));return JU.j(a,b)};KU.v=function(a,b,c){c=hm(gm(c));return JU.v(a,b,c)};KU.B=3;var LU=function LU(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=3<c.length?new $APP.Fd(c.slice(3),0,null):null;return LU.A(arguments[0],arguments[1],arguments[2],c)};
LU.A=function(a,b,c,d){b=ck(zd,d);c=$APP.ag(b);b=$APP.Re.j(c,!0);c=$APP.Re.j(c,!1);c=$APP.Nh.j($APP.$f,$APP.wj.j(function(e){var f=$APP.D.v(e,0,null);e=$APP.D.v(e,1,null);f=Cf(f)?f:$APP.Gj.o($APP.Yi(f));return $APP.jh($APP.U.o($APP.x($APP.Q.j(new $APP.J(null,$APP.U.o($APP.x($APP.Q.j(new $APP.J(null,$APP.el,null,1,null),new $APP.J(null,f,null,1,null)))),null,1,null),new $APP.J(null,$APP.U.o($APP.x($APP.Q.j(new $APP.J(null,$APP.YF,null,1,null),$APP.wj.j($APP.Jd,e)))),null,1,null)))))},ck($APP.y,c)));
return $APP.U.o($APP.x($APP.Q.A(new $APP.J(null,xG,null,1,null),new $APP.J(null,$APP.U.o($APP.x($APP.Q.j(new $APP.J(null,$APP.el,null,1,null),new $APP.J(null,a,null,1,null)))),null,1,null),$APP.F([new $APP.J(null,$APP.jh(b),null,1,null),new $APP.J(null,c,null,1,null)]))))};LU.B=3;LU.F=function(a){var b=$APP.y(a),c=$APP.z(a);a=$APP.y(c);var d=$APP.z(c);c=$APP.y(d);d=$APP.z(d);return this.A(b,a,c,d)};var MU=function MU(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=3<c.length?new $APP.Fd(c.slice(3),0,null):null;return MU.A(arguments[0],arguments[1],arguments[2],c)};MU.A=function(a,b,c,d){for(a=c;;)if($APP.p(d))b=$APP.y(d),a=$APP.Le(b)?$APP.ve($APP.U.o($APP.x($APP.Q.A(new $APP.J(null,$APP.y(b),null,1,null),new $APP.J(null,a,null,1,null),$APP.F([$APP.z(b)])))),$APP.we(b)):new $APP.J(null,b,new $APP.J(null,a,null,1,null),2,null),d=$APP.z(d);else return a};
MU.B=3;MU.F=function(a){var b=$APP.y(a),c=$APP.z(a);a=$APP.y(c);var d=$APP.z(c);c=$APP.y(d);d=$APP.z(d);return this.A(b,a,c,d)};var NU=function NU(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=3<c.length?new $APP.Fd(c.slice(3),0,null):null;return NU.A(arguments[0],arguments[1],arguments[2],c)};
NU.A=function(a,b,c,d){for(a=c;;)if($APP.p(d))b=$APP.y(d),a=$APP.Le(b)?$APP.ve($APP.U.o($APP.x($APP.Q.A(new $APP.J(null,$APP.y(b),null,1,null),$APP.z(b),$APP.F([new $APP.J(null,a,null,1,null)])))),$APP.we(b)):new $APP.J(null,b,new $APP.J(null,a,null,1,null),2,null),d=$APP.z(d);else return a};NU.B=3;NU.F=function(a){var b=$APP.y(a),c=$APP.z(a);a=$APP.y(c);var d=$APP.z(c);c=$APP.y(d);d=$APP.z(d);return this.A(b,a,c,d)};
var OU=function OU(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=4<c.length?new $APP.Fd(c.slice(4),0,null):null;return OU.A(arguments[0],arguments[1],arguments[2],arguments[3],c)};
OU.A=function(a,b,c,d,e){return $APP.U.o($APP.x($APP.Q.A(new $APP.J(null,$APP.as,null,1,null),new $APP.J(null,$APP.jh($APP.U.o($APP.x($APP.Q.A(new $APP.J(null,d,null,1,null),new $APP.J(null,c,null,1,null),$APP.F([$APP.Bu.j($APP.sr.o(d),$APP.Xi(e))]))))),null,1,null),$APP.F([new $APP.J(null,$APP.ze(e)?d:$APP.pe(e),null,1,null)]))))};OU.B=4;OU.F=function(a){var b=$APP.y(a),c=$APP.z(a);a=$APP.y(c);var d=$APP.z(c);c=$APP.y(d);var e=$APP.z(d);d=$APP.y(e);e=$APP.z(e);return this.A(b,a,c,d,e)};
var PU=function PU(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=2<c.length?new $APP.Fd(c.slice(2),0,null):null;return PU.A(arguments[0],arguments[1],c)};PU.A=function(){return null};PU.B=2;PU.F=function(a){var b=$APP.y(a),c=$APP.z(a);a=$APP.y(c);c=$APP.z(c);return this.A(b,a,c)};
var QU=function QU(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=3<c.length?new $APP.Fd(c.slice(3),0,null):null;return QU.A(arguments[0],arguments[1],arguments[2],c)};
QU.A=function(a,b,c,d){a=$APP.y(c);c=$APP.le(c);return $APP.U.o($APP.x($APP.Q.A(new $APP.J(null,$APP.as,null,1,null),new $APP.J(null,$APP.jh($APP.U.o($APP.x($APP.Q.j(new $APP.J(null,NS,null,1,null),new $APP.J(null,$APP.U.o($APP.x($APP.Q.j(new $APP.J(null,tJ,null,1,null),new $APP.J(null,c,null,1,null)))),null,1,null))))),null,1,null),$APP.F([new $APP.J(null,$APP.U.o($APP.x($APP.Q.A(new $APP.J(null,Nu,null,1,null),new $APP.J(null,$APP.jh($APP.U.o($APP.x($APP.Q.j(new $APP.J(null,a,null,1,null),new $APP.J(null,
0,null,1,null))))),null,1,null),$APP.F([new $APP.J(null,$APP.U.o($APP.x($APP.Q.A(new $APP.J(null,$APP.zD,null,1,null),new $APP.J(null,$APP.U.o($APP.x($APP.Q.A(new $APP.J(null,dT,null,1,null),new $APP.J(null,a,null,1,null),$APP.F([new $APP.J(null,NS,null,1,null)])))),null,1,null),$APP.F([d,new $APP.J(null,$APP.U.o($APP.x($APP.Q.j(new $APP.J(null,Ou,null,1,null),new $APP.J(null,$APP.U.o($APP.x($APP.Q.j(new $APP.J(null,LI,null,1,null),new $APP.J(null,a,null,1,null)))),null,1,null)))),null,1,null)])))),
null,1,null)])))),null,1,null)]))))};QU.B=3;QU.F=function(a){var b=$APP.y(a),c=$APP.z(a);a=$APP.y(c);var d=$APP.z(c);c=$APP.y(d);d=$APP.z(d);return this.A(b,a,c,d)};var RU=function RU(a){switch(arguments.length){case 4:return RU.J(arguments[0],arguments[1],arguments[2],arguments[3]);case 5:return RU.S(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4]);default:throw Error(["Invalid arity: ",$APP.t.o(arguments.length)].join(""));}};RU.J=function(a,b,c,d){return RU.S(a,b,c,d,null)};
RU.S=function(a,b,c,d,e){return $APP.U.o($APP.x($APP.Q.A(new $APP.J(null,$APP.Uk,null,1,null),new $APP.J(null,$APP.U.o($APP.x($APP.Q.j(new $APP.J(null,$APP.KQ,null,1,null),new $APP.J(null,c,null,1,null)))),null,1,null),$APP.F([new $APP.J(null,d,null,1,null),new $APP.J(null,e,null,1,null)]))))};RU.B=5;
var SU=function SU(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=3<c.length?new $APP.Fd(c.slice(3),0,null):null;return SU.A(arguments[0],arguments[1],arguments[2],c)};SU.A=function(a,b,c,d){return new $APP.J(null,$APP.Uk,new $APP.J(null,c,new $APP.J(null,$APP.wf($APP.Sk,d),null,1,null),2,null),3,null)};SU.B=3;SU.F=function(a){var b=$APP.y(a),c=$APP.z(a);a=$APP.y(c);var d=$APP.z(c);c=$APP.y(d);d=$APP.z(d);return this.A(b,a,c,d)};
var TU=function TU(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=3<c.length?new $APP.Fd(c.slice(3),0,null):null;return TU.A(arguments[0],arguments[1],arguments[2],c)};TU.A=function(a,b,c,d){return new $APP.J(null,$APP.Uk,new $APP.J(null,c,new $APP.J(null,null,new $APP.J(null,$APP.wf($APP.Sk,d),null,1,null),2,null),3,null),4,null)};TU.B=3;TU.F=function(a){var b=$APP.y(a),c=$APP.z(a);a=$APP.y(c);var d=$APP.z(c);c=$APP.y(d);d=$APP.z(d);return this.A(b,a,c,d)};
var UU=function UU(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=3<c.length?new $APP.Fd(c.slice(3),0,null):null;return UU.A(arguments[0],arguments[1],arguments[2],c)};
UU.A=function(a,b,c,d){var e=$APP.Ao.C();return $APP.U.o($APP.x($APP.Q.A(new $APP.J(null,$APP.as,null,1,null),new $APP.J(null,$APP.jh($APP.U.o($APP.x($APP.Q.j(new $APP.J(null,e,null,1,null),new $APP.J(null,c,null,1,null))))),null,1,null),$APP.F([$APP.wj.j(function(f){return $APP.ve($APP.Le(f)?$APP.U.o($APP.x($APP.Q.A(new $APP.J(null,$APP.y(f),null,1,null),new $APP.J(null,e,null,1,null),$APP.F([$APP.z(f)])))):$APP.U.o($APP.x($APP.Q.j(new $APP.J(null,f,null,1,null),new $APP.J(null,e,null,1,null)))),
$APP.we(f))},d),new $APP.J(null,e,null,1,null)]))))};UU.B=3;UU.F=function(a){var b=$APP.y(a),c=$APP.z(a);a=$APP.y(c);var d=$APP.z(c);c=$APP.y(d);d=$APP.z(d);return this.A(b,a,c,d)};var VU=function VU(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=2<c.length?new $APP.Fd(c.slice(2),0,null):null;return VU.A(arguments[0],arguments[1],c)};
VU.A=function(a,b,c){if($APP.p(c)){a=$APP.Uk;b=$APP.y(c);if($APP.z(c))var d=$APP.le(c);else throw Error("cond requires an even number of forms");c=new $APP.J(null,a,new $APP.J(null,b,new $APP.J(null,d,new $APP.J(null,$APP.wf(RF,$APP.z($APP.z(c))),null,1,null),2,null),3,null),4,null)}else c=null;return c};VU.B=2;VU.F=function(a){var b=$APP.y(a),c=$APP.z(a);a=$APP.y(c);c=$APP.z(c);return this.A(b,a,c)};
var WU=function WU(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=3<c.length?new $APP.Fd(c.slice(3),0,null):null;return WU.A(arguments[0],arguments[1],arguments[2],c)};
WU.A=function(a,b,c,d){var e=$APP.Ao.C();a=$APP.wj.j(function(f){var g=$APP.D.v(f,0,null);f=$APP.D.v(f,1,null);return $APP.U.o($APP.x($APP.Q.A(new $APP.J(null,$APP.Uk,null,1,null),new $APP.J(null,g,null,1,null),$APP.F([new $APP.J(null,$APP.U.o($APP.x($APP.Q.A(new $APP.J(null,$APP.ZR,null,1,null),new $APP.J(null,e,null,1,null),$APP.F([new $APP.J(null,f,null,1,null)])))),null,1,null),new $APP.J(null,e,null,1,null)]))))},$APP.ur.j(2,d));return $APP.U.o($APP.x($APP.Q.A(new $APP.J(null,$APP.as,null,1,
null),new $APP.J(null,$APP.jh($APP.U.o($APP.x($APP.Q.A(new $APP.J(null,e,null,1,null),new $APP.J(null,c,null,1,null),$APP.F([$APP.Bu.j($APP.sr.o(e),$APP.Xi(a))]))))),null,1,null),$APP.F([new $APP.J(null,$APP.ze(a)?e:$APP.pe(a),null,1,null)]))))};WU.B=3;WU.F=function(a){var b=$APP.y(a),c=$APP.z(a);a=$APP.y(c);var d=$APP.z(c);c=$APP.y(d);d=$APP.z(d);return this.A(b,a,c,d)};
var XU=function XU(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=3<c.length?new $APP.Fd(c.slice(3),0,null):null;return XU.A(arguments[0],arguments[1],arguments[2],c)};
XU.A=function(a,b,c,d){var e=$APP.Ao.C();a=$APP.wj.j(function(f){var g=$APP.D.v(f,0,null);f=$APP.D.v(f,1,null);return $APP.U.o($APP.x($APP.Q.A(new $APP.J(null,$APP.Uk,null,1,null),new $APP.J(null,g,null,1,null),$APP.F([new $APP.J(null,$APP.U.o($APP.x($APP.Q.A(new $APP.J(null,sS,null,1,null),new $APP.J(null,e,null,1,null),$APP.F([new $APP.J(null,f,null,1,null)])))),null,1,null),new $APP.J(null,e,null,1,null)]))))},$APP.ur.j(2,d));return $APP.U.o($APP.x($APP.Q.A(new $APP.J(null,$APP.as,null,1,null),
new $APP.J(null,$APP.jh($APP.U.o($APP.x($APP.Q.A(new $APP.J(null,e,null,1,null),new $APP.J(null,c,null,1,null),$APP.F([$APP.Bu.j($APP.sr.o(e),$APP.Xi(a))]))))),null,1,null),$APP.F([new $APP.J(null,$APP.ze(a)?e:$APP.pe(a),null,1,null)]))))};XU.B=3;XU.F=function(a){var b=$APP.y(a),c=$APP.z(a);a=$APP.y(c);var d=$APP.z(c);c=$APP.y(d);d=$APP.z(d);return this.A(b,a,c,d)};
var YU=function YU(a){switch(arguments.length){case 4:return YU.J(arguments[0],arguments[1],arguments[2],arguments[3]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new $APP.Fd(c.slice(5),0,null);return YU.A(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],c)}};YU.J=function(a,b,c,d){return YU(a,b,c,d,null)};
YU.A=function(a,b,c,d,e){a=c.o?c.o(0):c.call(null,0);c=c.o?c.o(1):c.call(null,1);return $APP.U.o($APP.x($APP.Q.A(new $APP.J(null,$APP.as,null,1,null),new $APP.J(null,$APP.jh($APP.U.o($APP.x($APP.Q.j(new $APP.J(null,WB,null,1,null),new $APP.J(null,c,null,1,null))))),null,1,null),$APP.F([new $APP.J(null,$APP.U.o($APP.x($APP.Q.A(new $APP.J(null,$APP.Uk,null,1,null),new $APP.J(null,WB,null,1,null),$APP.F([new $APP.J(null,$APP.U.o($APP.x($APP.Q.A(new $APP.J(null,$APP.as,null,1,null),new $APP.J(null,$APP.jh($APP.U.o($APP.x($APP.Q.j(new $APP.J(null,
a,null,1,null),new $APP.J(null,WB,null,1,null))))),null,1,null),$APP.F([new $APP.J(null,d,null,1,null)])))),null,1,null),new $APP.J(null,e,null,1,null)])))),null,1,null)]))))};YU.F=function(a){var b=$APP.y(a),c=$APP.z(a);a=$APP.y(c);var d=$APP.z(c);c=$APP.y(d);var e=$APP.z(d);d=$APP.y(e);var f=$APP.z(e);e=$APP.y(f);f=$APP.z(f);return this.A(b,a,c,d,e,f)};YU.B=5;
var ZU=function ZU(a){switch(arguments.length){case 4:return ZU.J(arguments[0],arguments[1],arguments[2],arguments[3]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new $APP.Fd(c.slice(5),0,null);return ZU.A(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],c)}};ZU.J=function(a,b,c,d){return ZU(a,b,c,d,null)};
ZU.A=function(a,b,c,d,e){a=c.o?c.o(0):c.call(null,0);c=c.o?c.o(1):c.call(null,1);return $APP.U.o($APP.x($APP.Q.A(new $APP.J(null,$APP.as,null,1,null),new $APP.J(null,$APP.jh($APP.U.o($APP.x($APP.Q.j(new $APP.J(null,GI,null,1,null),new $APP.J(null,c,null,1,null))))),null,1,null),$APP.F([new $APP.J(null,$APP.U.o($APP.x($APP.Q.A(new $APP.J(null,$APP.Uk,null,1,null),new $APP.J(null,$APP.U.o($APP.x($APP.Q.j(new $APP.J(null,$APP.DC,null,1,null),new $APP.J(null,GI,null,1,null)))),null,1,null),$APP.F([new $APP.J(null,
e,null,1,null),new $APP.J(null,$APP.U.o($APP.x($APP.Q.A(new $APP.J(null,$APP.as,null,1,null),new $APP.J(null,$APP.jh($APP.U.o($APP.x($APP.Q.j(new $APP.J(null,a,null,1,null),new $APP.J(null,GI,null,1,null))))),null,1,null),$APP.F([new $APP.J(null,d,null,1,null)])))),null,1,null)])))),null,1,null)]))))};ZU.F=function(a){var b=$APP.y(a),c=$APP.z(a);a=$APP.y(c);var d=$APP.z(c);c=$APP.y(d);var e=$APP.z(d);d=$APP.y(e);var f=$APP.z(e);e=$APP.y(f);f=$APP.z(f);return this.A(b,a,c,d,e,f)};ZU.B=5;
var $U=function $U(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=3<c.length?new $APP.Fd(c.slice(3),0,null):null;return $U.A(arguments[0],arguments[1],arguments[2],c)};
$U.A=function(a,b,c,d){a=c.o?c.o(0):c.call(null,0);c=c.o?c.o(1):c.call(null,1);return $APP.U.o($APP.x($APP.Q.A(new $APP.J(null,$APP.as,null,1,null),new $APP.J(null,$APP.jh($APP.U.o($APP.x($APP.Q.j(new $APP.J(null,kT,null,1,null),new $APP.J(null,c,null,1,null))))),null,1,null),$APP.F([new $APP.J(null,$APP.U.o($APP.x($APP.Q.A(new $APP.J(null,$APP.zD,null,1,null),new $APP.J(null,kT,null,1,null),$APP.F([new $APP.J(null,$APP.U.o($APP.x($APP.Q.A(new $APP.J(null,$APP.as,null,1,null),new $APP.J(null,$APP.jh($APP.U.o($APP.x($APP.Q.j(new $APP.J(null,
a,null,1,null),new $APP.J(null,kT,null,1,null))))),null,1,null),$APP.F([d])))),null,1,null)])))),null,1,null)]))))};$U.B=3;$U.F=function(a){var b=$APP.y(a),c=$APP.z(a);a=$APP.y(c);var d=$APP.z(c);c=$APP.y(d);d=$APP.z(d);return this.A(b,a,c,d)};var aV=function aV(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=3<c.length?new $APP.Fd(c.slice(3),0,null):null;return aV.A(arguments[0],arguments[1],arguments[2],c)};
aV.A=function(a,b,c,d){a=$APP.D.v(c,0,null);c=$APP.D.v(c,1,null);return $APP.U.o($APP.x($APP.Q.A(new $APP.J(null,XD,null,1,null),new $APP.J(null,$APP.jh($APP.U.o($APP.x($APP.Q.j(new $APP.J(null,KE,null,1,null),new $APP.J(null,$APP.U.o($APP.x($APP.Q.j(new $APP.J(null,KL,null,1,null),new $APP.J(null,c,null,1,null)))),null,1,null))))),null,1,null),$APP.F([new $APP.J(null,$APP.U.o($APP.x($APP.Q.A(new $APP.J(null,$APP.as,null,1,null),new $APP.J(null,$APP.jh($APP.U.o($APP.x($APP.Q.j(new $APP.J(null,a,null,
1,null),new $APP.J(null,$APP.U.o($APP.x($APP.Q.j(new $APP.J(null,NM,null,1,null),new $APP.J(null,KE,null,1,null)))),null,1,null))))),null,1,null),$APP.F([d])))),null,1,null)]))))};aV.B=3;aV.F=function(a){var b=$APP.y(a),c=$APP.z(a);a=$APP.y(c);var d=$APP.z(c);c=$APP.y(d);d=$APP.z(d);return this.A(b,a,c,d)};
var bV=function bV(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=3<c.length?new $APP.Fd(c.slice(3),0,null):null;return bV.A(arguments[0],arguments[1],arguments[2],c)};
bV.A=function(a,b,c,d){a=c.o?c.o(0):c.call(null,0);c=c.o?c.o(1):c.call(null,1);return $APP.U.o($APP.x($APP.Q.A(new $APP.J(null,$APP.as,null,1,null),new $APP.J(null,$APP.jh($APP.U.o($APP.x($APP.Q.j(new $APP.J(null,tE,null,1,null),new $APP.J(null,c,null,1,null))))),null,1,null),$APP.F([new $APP.J(null,$APP.U.o($APP.x($APP.Q.A(new $APP.J(null,$APP.Uk,null,1,null),new $APP.J(null,$APP.U.o($APP.x($APP.Q.j(new $APP.J(null,$APP.DC,null,1,null),new $APP.J(null,tE,null,1,null)))),null,1,null),$APP.F([new $APP.J(null,
null,null,1,null),new $APP.J(null,$APP.U.o($APP.x($APP.Q.A(new $APP.J(null,$APP.as,null,1,null),new $APP.J(null,$APP.jh($APP.U.o($APP.x($APP.Q.j(new $APP.J(null,a,null,1,null),new $APP.J(null,tE,null,1,null))))),null,1,null),$APP.F([d])))),null,1,null)])))),null,1,null)]))))};bV.B=3;bV.F=function(a){var b=$APP.y(a),c=$APP.z(a);a=$APP.y(c);var d=$APP.z(c);c=$APP.y(d);d=$APP.z(d);return this.A(b,a,c,d)};
var cV=function cV(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=3<c.length?new $APP.Fd(c.slice(3),0,null):null;return cV.A(arguments[0],arguments[1],arguments[2],c)};
cV.A=function(a,b,c,d){var e=$APP.Ao.C();a=$APP.wj.j(function(f){return $APP.U.o($APP.x($APP.Q.A(new $APP.J(null,$APP.Uk,null,1,null),new $APP.J(null,$APP.U.o($APP.x($APP.Q.j(new $APP.J(null,$APP.DC,null,1,null),new $APP.J(null,e,null,1,null)))),null,1,null),$APP.F([new $APP.J(null,null,null,1,null),new $APP.J(null,$APP.U.o($APP.x($APP.Q.A(new $APP.J(null,$APP.ZR,null,1,null),new $APP.J(null,e,null,1,null),$APP.F([new $APP.J(null,f,null,1,null)])))),null,1,null)]))))},d);return $APP.U.o($APP.x($APP.Q.A(new $APP.J(null,
$APP.as,null,1,null),new $APP.J(null,$APP.jh($APP.U.o($APP.x($APP.Q.A(new $APP.J(null,e,null,1,null),new $APP.J(null,c,null,1,null),$APP.F([$APP.Bu.j($APP.sr.o(e),$APP.Xi(a))]))))),null,1,null),$APP.F([new $APP.J(null,$APP.ze(a)?e:$APP.pe(a),null,1,null)]))))};cV.B=3;cV.F=function(a){var b=$APP.y(a),c=$APP.z(a);a=$APP.y(c);var d=$APP.z(c);c=$APP.y(d);d=$APP.z(d);return this.A(b,a,c,d)};
var dV=function dV(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=3<c.length?new $APP.Fd(c.slice(3),0,null):null;return dV.A(arguments[0],arguments[1],arguments[2],c)};
dV.A=function(a,b,c,d){var e=$APP.Ao.C();a=$APP.wj.j(function(f){return $APP.U.o($APP.x($APP.Q.A(new $APP.J(null,$APP.Uk,null,1,null),new $APP.J(null,$APP.U.o($APP.x($APP.Q.j(new $APP.J(null,$APP.DC,null,1,null),new $APP.J(null,e,null,1,null)))),null,1,null),$APP.F([new $APP.J(null,null,null,1,null),new $APP.J(null,$APP.U.o($APP.x($APP.Q.A(new $APP.J(null,sS,null,1,null),new $APP.J(null,e,null,1,null),$APP.F([new $APP.J(null,f,null,1,null)])))),null,1,null)]))))},d);return $APP.U.o($APP.x($APP.Q.A(new $APP.J(null,
$APP.as,null,1,null),new $APP.J(null,$APP.jh($APP.U.o($APP.x($APP.Q.A(new $APP.J(null,e,null,1,null),new $APP.J(null,c,null,1,null),$APP.F([$APP.Bu.j($APP.sr.o(e),$APP.Xi(a))]))))),null,1,null),$APP.F([new $APP.J(null,$APP.ze(a)?e:$APP.pe(a),null,1,null)]))))};dV.B=3;dV.F=function(a){var b=$APP.y(a),c=$APP.z(a);a=$APP.y(c);var d=$APP.z(c);c=$APP.y(d);d=$APP.z(d);return this.A(b,a,c,d)};
var eV=function eV(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=2<c.length?new $APP.Fd(c.slice(2),0,null):null;return eV.A(arguments[0],arguments[1],c)};eV.A=function(a,b,c){return $APP.U.o($APP.x($APP.Q.j(new $APP.J(null,$APP.Sk,null,1,null),$APP.wj.j(function(d){return new $APP.J(null,$APP.hl,new $APP.J(null,yp.J(d,$APP.Ni,qN,!0),null,1,null),2,null)},c))))};eV.B=2;eV.F=function(a){var b=$APP.y(a),c=$APP.z(a);a=$APP.y(c);c=$APP.z(c);return this.A(b,a,c)};
var tca=function(){var a="undefined"!==typeof $APP.cg&&"undefined"!==typeof $APP.dg&&"undefined"!==typeof Hk?new $APP.Cd(function(){return Hk},$APP.ve(xR,new $APP.n(null,1,[bR,!0],null)),$APP.ti([$APP.$q,$APP.T,$APP.wm,$APP.vD,$APP.Un,$APP.xm,$APP.oT,$APP.V,$APP.X,$APP.nS],[$APP.Ru,eR,"cljs/core.cljs",17,1,11664,11664,$APP.P(new $APP.N(null,1,5,$APP.O,[XN],null)),"Returns the message attached to the given Error / ExceptionInfo object.\n  For non-Errors returns nil.",$APP.p(Hk)?Hk.X:null])):null;return $APP.p(a)?
$APP.u(a):function(b){return b instanceof Error?b.message:null}}(),uca=function(){var a="undefined"!==typeof $APP.cg&&"undefined"!==typeof $APP.dg&&"undefined"!==typeof Ik?new $APP.Cd(function(){return Ik},$APP.ve(HB,new $APP.n(null,1,[bR,!0],null)),$APP.ti([$APP.$q,$APP.T,$APP.wm,$APP.vD,$APP.Un,$APP.xm,$APP.oT,$APP.V,$APP.X,$APP.nS],[$APP.Ru,JE,"cljs/core.cljs",15,1,11671,11671,$APP.P(new $APP.N(null,1,5,$APP.O,[XN],null)),"Returns exception cause (an Error / ExceptionInfo) if ex is an\n  ExceptionInfo.\n  Otherwise returns nil.",
$APP.p(Ik)?Ik.X:null])):null;return $APP.p(a)?$APP.u(a):function(b){return b instanceof Fk?b.cause:null}}(),fV=fs(gN,!0,new $APP.n(null,1,[$APP.$q,ix],null)),gV=function gV(a){switch(arguments.length){case 3:return gV.v(arguments[0],arguments[1],arguments[2]);case 4:return gV.J(arguments[0],arguments[1],arguments[2],arguments[3]);default:throw Error(["Invalid arity: ",$APP.t.o(arguments.length)].join(""));}};
gV.v=function(a,b,c){return $APP.p($APP.u(fV))?$APP.U.o($APP.x($APP.Q.A(new $APP.J(null,$APP.pN,null,1,null),new $APP.J(null,c,null,1,null),$APP.F([new $APP.J(null,$APP.U.o($APP.x($APP.Q.j(new $APP.J(null,gl,null,1,null),new $APP.J(null,$APP.U.o($APP.x($APP.Q.j(new $APP.J(null,nG,null,1,null),new $APP.J(null,$APP.U.o($APP.x($APP.Q.A(new $APP.J(null,$APP.ZS,null,1,null),new $APP.J(null,"Assert failed: ",null,1,null),$APP.F([new $APP.J(null,$APP.U.o($APP.x($APP.Q.j(new $APP.J(null,YS,null,1,null),new $APP.J(null,
$APP.U.o($APP.x($APP.Q.j(new $APP.J(null,$APP.el,null,1,null),new $APP.J(null,c,null,1,null)))),null,1,null)))),null,1,null)])))),null,1,null)))),null,1,null)))),null,1,null)])))):null};
gV.J=function(a,b,c,d){return $APP.p($APP.u(fV))?$APP.U.o($APP.x($APP.Q.A(new $APP.J(null,$APP.pN,null,1,null),new $APP.J(null,c,null,1,null),$APP.F([new $APP.J(null,$APP.U.o($APP.x($APP.Q.j(new $APP.J(null,gl,null,1,null),new $APP.J(null,$APP.U.o($APP.x($APP.Q.j(new $APP.J(null,nG,null,1,null),new $APP.J(null,$APP.U.o($APP.x($APP.Q.A(new $APP.J(null,$APP.ZS,null,1,null),new $APP.J(null,"Assert failed: ",null,1,null),$APP.F([new $APP.J(null,d,null,1,null),new $APP.J(null,"\n",null,1,null),new $APP.J(null,
$APP.U.o($APP.x($APP.Q.j(new $APP.J(null,YS,null,1,null),new $APP.J(null,$APP.U.o($APP.x($APP.Q.j(new $APP.J(null,$APP.el,null,1,null),new $APP.J(null,c,null,1,null)))),null,1,null)))),null,1,null)])))),null,1,null)))),null,1,null)))),null,1,null)])))):null};gV.B=4;var hV=function hV(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=3<c.length?new $APP.Fd(c.slice(3),0,null):null;return hV.A(arguments[0],arguments[1],arguments[2],c)};
hV.A=function(a,b,c,d){return $APP.A.j($APP.ge(c),0)?$APP.U.o($APP.x($APP.Q.j(new $APP.J(null,$APP.Sk,null,1,null),d))):(c.o?c.o(0):c.call(null,0))instanceof $APP.v?$APP.U.o($APP.x($APP.Q.A(new $APP.J(null,$APP.as,null,1,null),new $APP.J(null,$APP.Cl.v(c,0,2),null,1,null),$APP.F([new $APP.J(null,$APP.U.o($APP.x($APP.Q.A(new $APP.J(null,Ok,null,1,null),new $APP.J(null,$APP.U.o($APP.x($APP.Q.A(new $APP.J(null,JK,null,1,null),new $APP.J(null,$APP.Cl.j(c,2),null,1,null),$APP.F([d])))),null,1,null),$APP.F([new $APP.J(null,
$APP.U.o($APP.x($APP.Q.j(new $APP.J(null,$APP.Qk,null,1,null),new $APP.J(null,$APP.U.o($APP.x($APP.Q.j(new $APP.J(null,gS,null,1,null),new $APP.J(null,c.o?c.o(0):c.call(null,0),null,1,null)))),null,1,null)))),null,1,null)])))),null,1,null)])))):qba};hV.B=3;hV.F=function(a){var b=$APP.y(a),c=$APP.z(a);a=$APP.y(c);var d=$APP.z(c);c=$APP.y(d);d=$APP.z(d);return this.A(b,a,c,d)};
var iV=function iV(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=3<c.length?new $APP.Fd(c.slice(3),0,null):null;return iV.A(arguments[0],arguments[1],arguments[2],c)};
iV.A=function(a,b,c,d){a=$APP.wj.j($APP.y,c);return $APP.U.o($APP.x($APP.Q.A(new $APP.J(null,$APP.as,null,1,null),new $APP.J(null,$APP.jh($APP.Bu.j(a,$APP.sr.o($APP.P(TC)))),null,1,null),$APP.F([$APP.wj.v(function(e,f){return $APP.U.o($APP.x($APP.Q.A(new $APP.J(null,xD,null,1,null),new $APP.J(null,e,null,1,null),$APP.F([new $APP.J(null,$APP.U.o($APP.x($APP.Q.j(new $APP.J(null,YL,null,1,null),new $APP.J(null,$APP.U.o($APP.x($APP.Q.A(new $APP.J(null,$APP.YF,null,1,null),new $APP.J(null,e,null,1,null),
$APP.F([$APP.Jd(f)])))),null,1,null)))),null,1,null)]))))},a,c),new $APP.J(null,$APP.U.o($APP.x($APP.Q.A(new $APP.J(null,$APP.as,null,1,null),new $APP.J(null,$APP.jh($APP.Bu.j(a,$APP.wj.j(function(e){return $APP.U.o($APP.x($APP.Q.j(new $APP.J(null,Caa,null,1,null),new $APP.J(null,e,null,1,null))))},a))),null,1,null),$APP.F([d])))),null,1,null)]))))};iV.B=3;iV.F=function(a){var b=$APP.y(a),c=$APP.z(a);a=$APP.y(c);var d=$APP.z(c);c=$APP.y(d);d=$APP.z(d);return this.A(b,a,c,d)};
var jV=function jV(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=3<c.length?new $APP.Fd(c.slice(3),0,null):null;return jV.A(arguments[0],arguments[1],arguments[2],c)};
jV.A=function(a,b,c,d){$APP.Ge(c)||Cr("with-local-vars requires a vector for its bindings",a);$APP.vg($APP.ge(c))||Cr("with-local-vars requires an even number of forms in binding vector",a);return $APP.U.o($APP.x($APP.Q.A(new $APP.J(null,$APP.as,null,1,null),new $APP.J(null,$APP.jh($APP.U.o($APP.x($APP.Q.o($APP.Bu.j($APP.un.j(2,c),$APP.sr.o($APP.P(EC))))))),null,1,null),$APP.F([new $APP.J(null,$APP.U.o($APP.x($APP.Q.j(new $APP.J(null,PD,null,1,null),new $APP.J(null,$APP.U.o($APP.x($APP.Q.j(new $APP.J(null,
JS,null,1,null),c))),null,1,null)))),null,1,null),new $APP.J(null,$APP.U.o($APP.x($APP.Q.A(new $APP.J(null,Ok,null,1,null),d,$APP.F([new $APP.J(null,$APP.U.o($APP.x($APP.Q.j(new $APP.J(null,$APP.Qk,null,1,null),new $APP.J(null,$APP.U.o($APP.x($APP.Q.o(new $APP.J(null,AK,null,1,null)))),null,1,null)))),null,1,null)])))),null,1,null)]))))};jV.B=3;jV.F=function(a){var b=$APP.y(a),c=$APP.z(a);a=$APP.y(c);var d=$APP.z(c);c=$APP.y(d);d=$APP.z(d);return this.A(b,a,c,d)};
var kV=function kV(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=4<c.length?new $APP.Fd(c.slice(4),0,null):null;return kV.A(arguments[0],arguments[1],arguments[2],arguments[3],c)};
kV.A=function(a,b,c,d,e){return $APP.U.o($APP.x($APP.Q.A(new $APP.J(null,QJ,null,1,null),new $APP.J(null,c,null,1,null),$APP.F([new $APP.J(null,$APP.U.o($APP.x($APP.Q.A(new $APP.J(null,d,null,1,null),new $APP.J(null,$APP.U.o($APP.x($APP.Q.j(new $APP.J(null,$APP.GJ,null,1,null),new $APP.J(null,c,null,1,null)))),null,1,null),$APP.F([e])))),null,1,null)]))))};kV.B=4;
kV.F=function(a){var b=$APP.y(a),c=$APP.z(a);a=$APP.y(c);var d=$APP.z(c);c=$APP.y(d);var e=$APP.z(d);d=$APP.y(e);e=$APP.z(e);return this.A(b,a,c,d,e)};
var vca=$APP.ve(function(){function a(c,d,e,f){var g=null;if(3<arguments.length){g=0;for(var k=Array(arguments.length-3);g<k.length;)k[g]=arguments[g+3],++g;g=new $APP.Fd(k,0,null)}return b.call(this,c,d,e,g)}function b(c,d,e,f){c=$APP.ve($APP.Ao.o("target"),$APP.we(e));return $APP.U.o($APP.x($APP.Q.A(new $APP.J(null,$APP.YF,null,1,null),new $APP.J(null,$APP.jh($APP.U.o($APP.x($APP.Q.j(new $APP.J(null,c,null,1,null),f)))),null,1,null),$APP.F([new $APP.J(null,$APP.U.o($APP.x($APP.Q.A(new $APP.J(null,
$APP.cl,null,1,null),new $APP.J(null,c,null,1,null),$APP.F([new $APP.J(null,$APP.U.o($APP.x($APP.Q.j(new $APP.J(null,e,null,1,null),f))),null,1,null)])))),null,1,null)]))))}a.B=3;a.F=function(c){var d=$APP.y(c);c=$APP.z(c);var e=$APP.y(c);c=$APP.z(c);var f=$APP.y(c);c=$APP.Jd(c);return b(d,e,f,c)};a.A=b;return a}(),new $APP.n(null,1,[Fr,!0],null)),lV=function lV(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=2<c.length?new $APP.Fd(c.slice(2),0,null):null;return lV.A(arguments[0],
arguments[1],c)};lV.A=function(a,b,c){return $APP.U.o($APP.x($APP.Q.A(new $APP.J(null,Vk,null,1,null),new $APP.J(null,waa,null,1,null),$APP.F([new $APP.J(null,$APP.U.o($APP.x($APP.Q.A(new $APP.J(null,$APP.YF,null,1,null),new $APP.J(null,$APP.jh($APP.U.o($APP.x($APP.Q.C()))),null,1,null),$APP.F([c])))),null,1,null)]))))};lV.B=2;lV.F=function(a){var b=$APP.y(a),c=$APP.z(a);a=$APP.y(c);c=$APP.z(c);return this.A(b,a,c)};
var mV=function mV(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=3<c.length?new $APP.Fd(c.slice(3),0,null):null;return mV.A(arguments[0],arguments[1],arguments[2],c)};mV.A=function(a,b,c,d){return Ew.v(YQ,$APP.ve(c,$APP.Ni.v($APP.we(c),$APP.Ux,!0)),d)};mV.B=3;mV.F=function(a){var b=$APP.y(a),c=$APP.z(a);a=$APP.y(c);var d=$APP.z(c);c=$APP.y(d);d=$APP.z(d);return this.A(b,a,c,d)};
var nV=function nV(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=4<c.length?new $APP.Fd(c.slice(4),0,null):null;return nV.A(arguments[0],arguments[1],arguments[2],arguments[3],c)};
nV.A=function(a,b,c,d,e){a=$APP.Ao.o("pred__");b=$APP.Ao.o("expr__");return $APP.U.o($APP.x($APP.Q.A(new $APP.J(null,$APP.as,null,1,null),new $APP.J(null,$APP.jh($APP.U.o($APP.x($APP.Q.A(new $APP.J(null,a,null,1,null),new $APP.J(null,c,null,1,null),$APP.F([new $APP.J(null,b,null,1,null),new $APP.J(null,d,null,1,null)]))))),null,1,null),$APP.F([new $APP.J(null,function h(g,k,l){var r=Jg($APP.A.j(lba,$APP.le(l))?3:2,l),q=$APP.D.v(r,0,null);l=$APP.D.v(q,0,null);var w=$APP.D.v(q,1,null),C=$APP.D.v(q,
2,null);r=$APP.D.v(r,1,null);q=$APP.ge(q);return $APP.A.j(0,q)?$APP.U.o($APP.x($APP.Q.j(new $APP.J(null,gl,null,1,null),new $APP.J(null,$APP.U.o($APP.x($APP.Q.A(new $APP.J(null,Vk,null,1,null),new $APP.J(null,Zv,null,1,null),$APP.F([new $APP.J(null,$APP.U.o($APP.x($APP.Q.A(new $APP.J(null,$APP.ZS,null,1,null),new $APP.J(null,"No matching clause: ",null,1,null),$APP.F([new $APP.J(null,k,null,1,null)])))),null,1,null)])))),null,1,null)))):$APP.A.j(1,q)?l:$APP.A.j(2,q)?$APP.U.o($APP.x($APP.Q.A(new $APP.J(null,
$APP.Uk,null,1,null),new $APP.J(null,$APP.U.o($APP.x($APP.Q.A(new $APP.J(null,g,null,1,null),new $APP.J(null,l,null,1,null),$APP.F([new $APP.J(null,k,null,1,null)])))),null,1,null),$APP.F([new $APP.J(null,w,null,1,null),new $APP.J(null,h(g,k,r),null,1,null)])))):$APP.U.o($APP.x($APP.Q.A(new $APP.J(null,Zs,null,1,null),new $APP.J(null,$APP.jh($APP.U.o($APP.x($APP.Q.j(new $APP.J(null,YK,null,1,null),new $APP.J(null,$APP.U.o($APP.x($APP.Q.A(new $APP.J(null,g,null,1,null),new $APP.J(null,l,null,1,null),
$APP.F([new $APP.J(null,k,null,1,null)])))),null,1,null))))),null,1,null),$APP.F([new $APP.J(null,$APP.U.o($APP.x($APP.Q.j(new $APP.J(null,C,null,1,null),new $APP.J(null,YK,null,1,null)))),null,1,null),new $APP.J(null,h(g,k,r),null,1,null)]))))}(a,b,e),null,1,null)]))))};nV.B=4;nV.F=function(a){var b=$APP.y(a),c=$APP.z(a);a=$APP.y(c);var d=$APP.z(c);c=$APP.y(d);var e=$APP.z(d);d=$APP.y(e);e=$APP.z(e);return this.A(b,a,c,d,e)};
var oV=function oV(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=3<c.length?new $APP.Fd(c.slice(3),0,null):null;return oV.A(arguments[0],arguments[1],arguments[2],c)};
oV.A=function(a,b,c,d){return $APP.U.o($APP.x($APP.Q.A(new $APP.J(null,BJ,null,1,null),new $APP.J(null,$APP.jh($APP.U.o($APP.x($APP.Q.C()))),null,1,null),$APP.F([new $APP.J(null,$APP.U.o($APP.x($APP.Q.A(new $APP.J(null,$APP.zD,null,1,null),new $APP.J(null,c,null,1,null),$APP.F([d,new $APP.J(null,$APP.U.o($APP.x($APP.Q.o(new $APP.J(null,$APP.al,null,1,null)))),null,1,null)])))),null,1,null)]))))};oV.B=3;
oV.F=function(a){var b=$APP.y(a),c=$APP.z(a);a=$APP.y(c);var d=$APP.z(c);c=$APP.y(d);d=$APP.z(d);return this.A(b,a,c,d)};var pV=function pV(a){switch(arguments.length){case 4:return pV.J(arguments[0],arguments[1],arguments[2],arguments[3]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new $APP.Fd(c.slice(4),0,null);return pV.A(arguments[0],arguments[1],arguments[2],arguments[3],c)}};
pV.J=function(a,b,c,d){return $APP.U.o($APP.x($APP.Q.A(new $APP.J(null,$APP.cl,null,1,null),new $APP.J(null,c,null,1,null),$APP.F([new $APP.J(null,d,null,1,null)]))))};pV.A=function(a,b,c,d,e){return $APP.U.o($APP.x($APP.Q.A(new $APP.J(null,$APP.ZB,null,1,null),new $APP.J(null,$APP.U.o($APP.x($APP.Q.A(new $APP.J(null,$APP.cl,null,1,null),new $APP.J(null,c,null,1,null),$APP.F([new $APP.J(null,d,null,1,null)])))),null,1,null),$APP.F([e]))))};
pV.F=function(a){var b=$APP.y(a),c=$APP.z(a);a=$APP.y(c);var d=$APP.z(c);c=$APP.y(d);var e=$APP.z(d);d=$APP.y(e);e=$APP.z(e);return this.A(b,a,c,d,e)};pV.B=4;var qV=function qV(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=2<c.length?new $APP.Fd(c.slice(2),0,null):null;return qV.A(arguments[0],arguments[1],c)};
qV.A=function(a,b,c){return $APP.U.o($APP.x($APP.Q.j(new $APP.J(null,$L,null,1,null),$APP.wj.j(function(d){return new $APP.J(null,rF,new $APP.J(null,d,null,1,null),2,null)},c))))};qV.B=2;qV.F=function(a){var b=$APP.y(a),c=$APP.z(a);a=$APP.y(c);c=$APP.z(c);return this.A(b,a,c)};
var rV=function rV(a){switch(arguments.length){case 3:return rV.v(arguments[0],arguments[1],arguments[2]);case 4:return rV.J(arguments[0],arguments[1],arguments[2],arguments[3]);default:throw Error(["Invalid arity: ",$APP.t.o(arguments.length)].join(""));}};
rV.v=function(a,b,c){var d=Qx(a,b);b=Ox(d);a=Lr.o(a);var e=$APP.Rr.j($APP.u(a),new $APP.N(null,3,5,$APP.O,[$APP.Sr,b,c],null));if($APP.p(e))return e;e=$APP.Gj.j($APP.t.o(b),$APP.t.o(c));d=is(e,null,$APP.Ni.v($APP.we(c),$APP.$q,d));Mq(d);$APP.Zj.J(a,$APP.Tr,new $APP.N(null,3,5,$APP.O,[$APP.Sr,b,c],null),d);return d};
rV.J=function(a,b,c,d){var e=Qx(a,b);b=Ox(e);a=Lr.o(a);var f=$APP.Rr.j($APP.u(a),new $APP.N(null,3,5,$APP.O,[$APP.Sr,b,c],null));$APP.p(f)?Hq(f,d):f=null;if($APP.p(f))return f;f=$APP.Gj.j($APP.t.o(b),$APP.t.o(c));d=is(f,d,$APP.Ni.v($APP.we(c),$APP.$q,e));$APP.Zj.J(a,$APP.Tr,new $APP.N(null,3,5,$APP.O,[$APP.Sr,b,c],null),d);return d};rV.B=4;
var sV=function sV(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=1<c.length?new $APP.Fd(c.slice(1),0,null):null;return sV.A(arguments[0],c)};sV.A=function(a,b){return $APP.wg.v($APP.u(yT),a,b)};sV.B=1;sV.F=function(a){var b=$APP.y(a);a=$APP.z(a);return this.A(b,a)};var tV=function tV(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=1<c.length?new $APP.Fd(c.slice(1),0,null):null;return tV.A(arguments[0],c)};
tV.A=function(a,b){return $APP.wg.v($APP.u(zT),a,b)};tV.B=1;tV.F=function(a){var b=$APP.y(a);a=$APP.z(a);return this.A(b,a)};var uV=function uV(a){switch(arguments.length){case 2:return uV.j(arguments[0],arguments[1]);case 3:return uV.v(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",$APP.t.o(arguments.length)].join(""));}};uV.j=function(a,b){var c=Ir.o(a),d=$APP.u(Fx);return d.v?d.v(a,c,b):d.call(null,a,c,b)};
uV.v=function(a,b,c){var d=Ir.o(a),e=$APP.u(Fx);return e.J?e.J(a,d,b,c):e.call(null,a,d,b,c)};uV.B=3;var vV=function vV(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=1<c.length?new $APP.Fd(c.slice(1),0,null):null;return vV.A(arguments[0],c)};vV.A=function(a,b){return $APP.wg.v($APP.u(AT),a,b)};vV.B=1;vV.F=function(a){var b=$APP.y(a);a=$APP.z(a);return this.A(b,a)};
var wV=function wV(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=2<c.length?new $APP.Fd(c.slice(2),0,null):null;return wV.A(arguments[0],arguments[1],c)};wV.A=function(a,b,c){return $APP.U.o($APP.x($APP.Q.A(new $APP.J(null,vE,null,1,null),new $APP.J(null,$APP.U.o($APP.x($APP.Q.j(new $APP.J(null,$APP.el,null,1,null),new $APP.J(null,Os,null,1,null)))),null,1,null),$APP.F([c]))))};wV.B=2;
wV.F=function(a){var b=$APP.y(a),c=$APP.z(a);a=$APP.y(c);c=$APP.z(c);return this.A(b,a,c)};var xV=function xV(a){switch(arguments.length){case 3:return xV.v(arguments[0],arguments[1],arguments[2]);case 4:return xV.J(arguments[0],arguments[1],arguments[2],arguments[3]);default:throw Error(["Invalid arity: ",$APP.t.o(arguments.length)].join(""));}};xV.v=function(a,b,c){$APP.Pq($APP.Zf([$APP.Vr,Qx(a,b)]));try{return uV.j(a,c)}finally{$APP.Rq()}};
xV.J=function(a,b,c,d){$APP.Pq($APP.Zf([$APP.Vr,Qx(a,b)]));try{return uV.v(a,c,d)}finally{$APP.Rq()}};xV.B=4;var yV=function yV(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=2<c.length?new $APP.Fd(c.slice(2),0,null):null;return yV.A(arguments[0],arguments[1],c)};yV.A=function(a,b,c){$APP.Pq(a);try{return $APP.wg.j(b,c)}finally{$APP.Rq()}};yV.B=2;yV.F=function(a){var b=$APP.y(a),c=$APP.z(a);a=$APP.y(c);c=$APP.z(c);return this.A(b,a,c)};
var zV=function zV(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=3<c.length?new $APP.Fd(c.slice(3),0,null):null;return zV.A(arguments[0],arguments[1],arguments[2],c)};
zV.A=function(a,b,c,d){return $APP.U.o($APP.x($APP.Q.A(new $APP.J(null,vF,null,1,null),new $APP.J(null,c,null,1,null),$APP.F([new $APP.J(null,$APP.U.o($APP.x($APP.Q.A(new $APP.J(null,$APP.YF,null,1,null),new $APP.J(null,$APP.jh($APP.U.o($APP.x($APP.Q.C()))),null,1,null),$APP.F([d])))),null,1,null)]))))};zV.B=3;zV.F=function(a){var b=$APP.y(a),c=$APP.z(a);a=$APP.y(c);var d=$APP.z(c);c=$APP.y(d);d=$APP.z(d);return this.A(b,a,c,d)};
var AV=function AV(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=3<c.length?new $APP.Fd(c.slice(3),0,null):null;return AV.A(arguments[0],arguments[1],arguments[2],c)};
AV.A=function(a,b,c,d){$APP.Ge(c)||Cr("binding requires a vector for its bindings",a);$APP.vg($APP.ge(c))||Cr("binding requires an even number of forms in binding vector",a);a=$APP.U.o;b=$APP.Q.A;var e=new $APP.J(null,$APP.as,null,1,null),f=new $APP.J(null,$APP.jh($APP.U.o($APP.x($APP.Q.C()))),null,1,null),g=$APP.U.o,k=$APP.Q.j,l=new $APP.J(null,PD,null,1,null),h=$APP.U.o,r=$APP.Q.j,q=new $APP.J(null,JS,null,1,null);a:{var w=$APP.ih;for(c=$APP.x(c);;)if(c)w=$APP.tf.j($APP.tf.j(w,$APP.U.o($APP.x($APP.Q.j(new $APP.J(null,
$APP.dl,null,1,null),new $APP.J(null,$APP.y(c),null,1,null))))),$APP.le(c)),c=$APP.z($APP.z(c));else{c=$APP.x(w);break a}}return a.call($APP.U,$APP.x(b.call($APP.Q,e,f,$APP.F([new $APP.J(null,g.call($APP.U,$APP.x(k.call($APP.Q,l,new $APP.J(null,h.call($APP.U,$APP.x(r.call($APP.Q,q,c))),null,1,null)))),null,1,null),new $APP.J(null,$APP.U.o($APP.x($APP.Q.A(new $APP.J(null,Ok,null,1,null),d,$APP.F([new $APP.J(null,$APP.U.o($APP.x($APP.Q.j(new $APP.J(null,$APP.Qk,null,1,null),new $APP.J(null,$APP.U.o($APP.x($APP.Q.o(new $APP.J(null,
AK,null,1,null)))),null,1,null)))),null,1,null)])))),null,1,null)]))))};AV.B=3;AV.F=function(a){var b=$APP.y(a),c=$APP.z(a);a=$APP.y(c);var d=$APP.z(c);c=$APP.y(d);d=$APP.z(d);return this.A(b,a,c,d)};var BV=function BV(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=2<c.length?new $APP.Fd(c.slice(2),0,null):null;return BV.A(arguments[0],arguments[1],c)};
BV.A=function(a,b,c){return $APP.U.o($APP.x($APP.Q.j(new $APP.J(null,cM,null,1,null),new $APP.J(null,$APP.U.o($APP.x($APP.Q.j(new $APP.J(null,$APP.YF,null,1,null),c))),null,1,null))))};BV.B=2;BV.F=function(a){var b=$APP.y(a),c=$APP.z(a);a=$APP.y(c);c=$APP.z(c);return this.A(b,a,c)};var CV=function CV(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=0<c.length?new $APP.Fd(c.slice(0),0,null):null;return CV.A(c)};
CV.A=function(a){return $APP.tg(function(b){return Tq(b)},a)};CV.B=0;CV.F=function(a){return this.A($APP.x(a))};var DV=function DV(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=3<c.length?new $APP.Fd(c.slice(3),0,null):null;return DV.A(arguments[0],arguments[1],arguments[2],c)};
DV.A=function(a,b,c,d){return $APP.U.o($APP.x($APP.Q.A(new $APP.J(null,AM,null,1,null),new $APP.J(null,$APP.Zi($APP.wj.j(function(e){return new $APP.J(null,$APP.dl,new $APP.J(null,e,null,1,null),2,null)},$APP.un.j(2,c)),$APP.un.j(2,$APP.z(c))),null,1,null),$APP.F([new $APP.J(null,$APP.U.o($APP.x($APP.Q.A(new $APP.J(null,$APP.YF,null,1,null),new $APP.J(null,$APP.jh($APP.U.o($APP.x($APP.Q.C()))),null,1,null),$APP.F([d])))),null,1,null)]))))};DV.B=3;
DV.F=function(a){var b=$APP.y(a),c=$APP.z(a);a=$APP.y(c);var d=$APP.z(c);c=$APP.y(d);d=$APP.z(d);return this.A(b,a,c,d)};var EV=function EV(a){switch(arguments.length){case 1:return EV.o(arguments[0]);case 2:return EV.j(arguments[0],arguments[1]);default:throw Error(["Invalid arity: ",$APP.t.o(arguments.length)].join(""));}};EV.o=function(a){if(js(a)){var b=$APP.we(a);a=$APP.$q.o(b);b=$APP.T.o(b);return $APP.p($APP.p(a)?b:a)?$APP.Gj.j($APP.t.o(Ox(a)),$APP.Yi(b)):null}return $APP.Gj.o(a)};
EV.j=function(a,b){return $APP.Gj.j(a,b)};EV.B=2;
var wca=new $APP.n(null,5,[lq,$APP.cr(gC,null),$APP.Ux,!0,WS,UT,sL,Zx,rR,function(a,b,c,d){return new $APP.zt(a,b,c,d,null)}],null),xca=new $APP.n(null,8,[lq,$APP.cr(DS,null),$APP.Ux,!0,WS,ls,lJ,Zx,hD,function(a,b,c,d){return new ns(a,b,c,d)},KH,sq,SM,vq,hO,ks],null),yca=new $APP.n(null,3,[lq,$APP.cr(CD,null),$APP.Ux,!0,Taa,st],null),FV=FV,GV=GV,HV=HV,IV=IV,JV=function JV(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=2<c.length?new $APP.Fd(c.slice(2),0,null):
null;return JV.A(arguments[0],arguments[1],c)};JV.A=function(a,b,c){var d=$APP.we(a);if($APP.wb(er.o(d)))return $APP.wg.J(Ft,a,b,c);throw $APP.zm.j(["Built-in var ",$APP.t.o(a)," is read-only."].join(""),new $APP.n(null,1,[Mp,a],null));};JV.B=2;JV.F=function(a){var b=$APP.y(a),c=$APP.z(a);a=$APP.y(c);c=$APP.z(c);return this.A(b,a,c)};
var KV=function KV(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=3<c.length?new $APP.Fd(c.slice(3),0,null):null;return KV.A(arguments[0],arguments[1],arguments[2],c)};KV.A=function(a,b,c,d){$APP.Ge(c)||Cr("let requires a vector for its binding",a);$APP.vg($APP.ge(c))||Cr("let requires an even number of forms in binding vector",a);return $APP.U.o($APP.x($APP.Q.A(new $APP.J(null,Yk,null,1,null),new $APP.J(null,zr(c),null,1,null),$APP.F([d]))))};KV.B=3;
KV.F=function(a){var b=$APP.y(a),c=$APP.z(a);a=$APP.y(c);var d=$APP.z(c);c=$APP.y(d);d=$APP.z(d);return this.A(b,a,c,d)};var LV=function LV(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=3<c.length?new $APP.Fd(c.slice(3),0,null):null;return LV.A(arguments[0],arguments[1],arguments[2],c)};
LV.A=function(a,b,c,d){$APP.Ge(c)||Cr("let requires a vector for its binding",a);$APP.vg($APP.ge(c))||Cr("let requires an even number of forms in binding vector",a);if(($APP.tg(zd,c)?c:zr(c))===c)return $APP.U.o($APP.x($APP.Q.A(new $APP.J(null,Rk,null,1,null),new $APP.J(null,c,null,1,null),$APP.F([d]))));a=$APP.un.j(2,$APP.Eg.j(1,c));c=$APP.un.j(2,c);b=$APP.wj.j(function(e){return e instanceof $APP.v?e:$APP.Ao.C()},c);a=$APP.cf.v(function(e,f){var g=$APP.D.v(f,0,null),k=$APP.D.v(f,1,null);f=$APP.D.v(f,
2,null);return g instanceof $APP.v?$APP.tf.A(e,f,$APP.F([k])):$APP.tf.A(e,f,$APP.F([k,g,f]))},$APP.ih,$APP.wj.J($APP.xA,c,a,b));return $APP.U.o($APP.x($APP.Q.A(new $APP.J(null,$APP.as,null,1,null),new $APP.J(null,a,null,1,null),$APP.F([new $APP.J(null,$APP.U.o($APP.x($APP.Q.A(new $APP.J(null,Rk,null,1,null),new $APP.J(null,$APP.jh($APP.Bu.j(b,b)),null,1,null),$APP.F([new $APP.J(null,$APP.U.o($APP.x($APP.Q.A(new $APP.J(null,$APP.as,null,1,null),new $APP.J(null,$APP.jh($APP.Bu.j(c,b)),null,1,null),
$APP.F([d])))),null,1,null)])))),null,1,null)]))))};LV.B=3;LV.F=function(a){var b=$APP.y(a),c=$APP.z(a);a=$APP.y(c);var d=$APP.z(c);c=$APP.y(d);d=$APP.z(d);return this.A(b,a,c,d)};
var MV=function MV(a){switch(arguments.length){case 2:return MV.j(arguments[0],arguments[1]);case 3:return MV.v(arguments[0],arguments[1],arguments[2]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new $APP.Fd(c.slice(3),0,null);return MV.A(arguments[0],arguments[1],arguments[2],c)}};MV.j=function(){return null};MV.v=function(a,b,c){return c};
MV.A=function(a,b,c,d){return $APP.U.o($APP.x($APP.Q.A(new $APP.J(null,$APP.as,null,1,null),new $APP.J(null,$APP.jh($APP.U.o($APP.x($APP.Q.j(new $APP.J(null,VR,null,1,null),new $APP.J(null,c,null,1,null))))),null,1,null),$APP.F([new $APP.J(null,$APP.U.o($APP.x($APP.Q.A(new $APP.J(null,$APP.Uk,null,1,null),new $APP.J(null,VR,null,1,null),$APP.F([new $APP.J(null,VR,null,1,null),new $APP.J(null,$APP.U.o($APP.x($APP.Q.j(new $APP.J(null,$APP.SG,null,1,null),d))),null,1,null)])))),null,1,null)]))))};
MV.F=function(a){var b=$APP.y(a),c=$APP.z(a);a=$APP.y(c);var d=$APP.z(c);c=$APP.y(d);d=$APP.z(d);return this.A(b,a,c,d)};MV.B=3;var NV=function NV(a){switch(arguments.length){case 2:return NV.j(arguments[0],arguments[1]);case 3:return NV.v(arguments[0],arguments[1],arguments[2]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new $APP.Fd(c.slice(3),0,null);return NV.A(arguments[0],arguments[1],arguments[2],c)}};NV.j=function(){return!0};
NV.v=function(a,b,c){return c};
NV.A=function(a,b,c,d){return $APP.U.o($APP.x($APP.Q.A(new $APP.J(null,$APP.as,null,1,null),new $APP.J(null,$APP.jh($APP.U.o($APP.x($APP.Q.j(new $APP.J(null,aT,null,1,null),new $APP.J(null,c,null,1,null))))),null,1,null),$APP.F([new $APP.J(null,$APP.U.o($APP.x($APP.Q.A(new $APP.J(null,$APP.Uk,null,1,null),new $APP.J(null,aT,null,1,null),$APP.F([new $APP.J(null,$APP.U.o($APP.x($APP.Q.j(new $APP.J(null,$APP.wG,null,1,null),d))),null,1,null),new $APP.J(null,aT,null,1,null)])))),null,1,null)]))))};
NV.F=function(a){var b=$APP.y(a),c=$APP.z(a);a=$APP.y(c);var d=$APP.z(c);c=$APP.y(d);d=$APP.z(d);return this.A(b,a,c,d)};NV.B=3;var OV=function OV(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=2<c.length?new $APP.Fd(c.slice(2),0,null):null;return OV.A(arguments[0],arguments[1],c)};OV.A=function(a,b,c){return $APP.U.o($APP.x($APP.Q.j(new $APP.J(null,Kk,null,1,null),c)))};OV.B=2;
OV.F=function(a){var b=$APP.y(a),c=$APP.z(a);a=$APP.y(c);c=$APP.z(c);return this.A(b,a,c)};var PV=function PV(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=3<c.length?new $APP.Fd(c.slice(3),0,null):null;return PV.A(arguments[0],arguments[1],arguments[2],c)};
PV.A=function(a,b,c,d){a="string"===typeof $APP.y(d)?$APP.y(d):null;d=$APP.p(a)?$APP.z(d):d;c=$APP.p(a)?yp.J(c,$APP.Ni,$APP.X,a):c;a=$APP.Ee($APP.y(d))?$APP.y(d):null;d=$APP.p(a)?$APP.z(d):d;c=$APP.p(a)?yp.v(c,$APP.mm,a):c;d=$APP.Cu.j(function(e){return $APP.A.j(II,$APP.y(e))},d);a=$APP.we(c);return $APP.U.o($APP.x($APP.Q.A(new $APP.J(null,$APP.Sk,null,1,null),new $APP.J(null,$APP.U.o($APP.x($APP.Q.j(new $APP.J(null,VD,null,1,null),new $APP.J(null,$APP.U.o($APP.x($APP.Q.j(new $APP.J(null,$APP.el,
null,1,null),new $APP.J(null,c,null,1,null)))),null,1,null)))),null,1,null),$APP.F([$APP.p(a)?$APP.U.o($APP.x($APP.Q.A(new $APP.J(null,WR,null,1,null),new $APP.J(null,$APP.U.o($APP.x($APP.Q.j(new $APP.J(null,YJ,null,1,null),new $APP.J(null,$APP.U.o($APP.x($APP.Q.j(new $APP.J(null,$APP.el,null,1,null),new $APP.J(null,c,null,1,null)))),null,1,null)))),null,1,null),$APP.F([new $APP.J(null,$APP.U.o($APP.x($APP.Q.j(new $APP.J(null,YL,null,1,null),new $APP.J(null,a,null,1,null)))),null,1,null)])))):null,
$APP.wj.j(function(e){var f=$APP.x(e),g=$APP.y(f);f=$APP.z(f);return $APP.ve($APP.U.o($APP.x($APP.Q.j(new $APP.J(null,$APP.Gj.j("clojure.core",$APP.Yi(g)),null,1,null),$APP.wj.j(function(k){return new $APP.J(null,$APP.el,new $APP.J(null,k,null,1,null),2,null)},f)))),$APP.we(e))},d),new $APP.J(null,$APP.U.o($APP.x($APP.Q.A(new $APP.J(null,$APP.Uk,null,1,null),new $APP.J(null,$APP.U.o($APP.x($APP.Q.A(new $APP.J(null,$APP.fT,null,1,null),new $APP.J(null,$APP.U.o($APP.x($APP.Q.j(new $APP.J(null,$APP.el,
null,1,null),new $APP.J(null,c,null,1,null)))),null,1,null),$APP.F([new $APP.J(null,$APP.U.o($APP.x($APP.Q.j(new $APP.J(null,$APP.el,null,1,null),new $APP.J(null,Os,null,1,null)))),null,1,null)])))),null,1,null),$APP.F([new $APP.J(null,null,null,1,null),new $APP.J(null,$APP.U.o($APP.x($APP.Q.A(new $APP.J(null,$APP.Sk,null,1,null),new $APP.J(null,$APP.U.o($APP.x($APP.Q.j(new $APP.J(null,HF,null,1,null),new $APP.J(null,$APP.U.o($APP.x($APP.Q.j(new $APP.J(null,$APP.el,null,1,null),new $APP.J(null,c,
null,1,null)))),null,1,null)))),null,1,null),$APP.F([new $APP.J(null,null,null,1,null)])))),null,1,null)])))),null,1,null)]))))};PV.B=3;PV.F=function(a){var b=$APP.y(a),c=$APP.z(a);a=$APP.y(c);var d=$APP.z(c);c=$APP.y(d);d=$APP.z(d);return this.A(b,a,c,d)};var QV=function QV(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=2<c.length?new $APP.Fd(c.slice(2),0,null):null;return QV.A(arguments[0],arguments[1],c)};
QV.A=function(a,b,c){return $APP.U.o($APP.x($APP.Q.A(new $APP.J(null,Vk,null,1,null),new $APP.J(null,VF,null,1,null),$APP.F([new $APP.J(null,null,null,1,null),new $APP.J(null,$APP.U.o($APP.x($APP.Q.A(new $APP.J(null,$APP.YF,null,1,null),new $APP.J(null,$APP.jh($APP.U.o($APP.x($APP.Q.C()))),null,1,null),$APP.F([c])))),null,1,null),new $APP.J(null,null,null,1,null),new $APP.J(null,null,null,1,null)]))))};QV.B=2;QV.F=function(a){var b=$APP.y(a),c=$APP.z(a);a=$APP.y(c);c=$APP.z(c);return this.A(b,a,c)};
var zca=[zG,WC,fE,wK,yC,IS,mC,wB,CR,KJ,JH,UF,AD,$N,$D,aG,KI,lN,iG,uC,bF,Aw,HM,JL,XB,iR,UL,eG,GB,$APP.KF,Dw,PF,FJ,zL,MR,wD,wL,JI,CN,$APP.tD,BD,KM,YM,JR,uba,yH,$APP.iH,Bba,pH,zC,FE,wN,rC,ZI,sD,xH,$APP.jD,GK,LS,eR,Kaa,PB,IQ,oO,SL,sE,$APP.ZB,IR,uJ,Qaa,vI,hL,HD,fM,Aba,vB,hba,fD,VK,$APP.lD,dR,aba,sR,hM,MG,DR,bG,oE,$APP.uH,XM,aH,ED,QM,VB,uK,jM,dL,RD,pF,$APP.ZD,RI,Eaa,GL,rB,hT,YI,Haa,NG,sN,BC,MB,$APP.TE,pR,OK,Bn,dH,aE,pM,dE,bK,$APP.LB,wba,WQ,oS,wH,jK,qaa,OF,AH,LN,oD,UD,wR,YB,aL,FI,GS,$APP.sF,RQ,MN,JJ,XF,
pO,BB,dba,cH,lI,fF,xI,ZF,EE,uG,$APP.kN,gL,xK,dO,vR,iE,bT,zba,jN,VG,$APP.LK,CG,gba,sJ,CJ,jL,NL,VS,eH,pba,uB,EK,gaa,OL,cL,$APP.NJ,AN,vba,rba,rH,OD,MD,jJ,rI,EH,DB,wI,RM,UQ,cR,yI,$APP.GQ,pD,uE,uM,SN,$APP.IM,NI,yS,$APP.uL,cK,kE,Zaa,qO,RE,$APP.XS,QE,Iaa,Yaa,raa,wC,cO,kC,saa,eK,PH,hS,vJ,WJ,$APP.KB,kD,HR,TG,NB,qL,BR,bE,HI,$APP.Wk,vG,$APP.iO,JF,iM,$J,mF,mJ,GM,kv,$APP.GF,BI,xO,OE,$APP.XE,CB,EG,IG,UM,zaa,RR,haa,SS,JB,TN,$aa,NE,oF,JE,QG,wJ,nT,eS,rO,hG,fJ,iS,KD,SI,cG,eN,cS,oN,TR,qE,eE,eba,NH,hN,vM,oL,uF,sM,LC,
$APP.uO,XJ,lG,aC,WD,naa,$APP.PS,tR,QN,HK,$G,tI,$APP.gO,$APP.yE,ES,HC,JQ,MI,bba,sB,DF,fba,SB,yN,dK,dD,UI,iL,cF,RJ,sba,yR,zK,GG,rT,$APP.DJ,AF,jS,laa,ND,AG,vK,gG,zB,mI,UK,SF,XL,bC,GR,RN,Oaa,gD,zM,AR,xJ,gN,sH,$APP.bS,KC,CI,SE,pI,LH,yaa,QB,BL,ZE,Jaa,XK,kK,Daa,sK,lK,mE,HE,RS,$APP.FD,jaa,$APP.HS,YH,CL,jR,TF,XI,BE,GH,WG,bL,YD,yB,eL,cI,uI,xC,bM,Saa,lM,DH,$M,uN,QH,uR,hC,Xaa,bN,EF,gF,Paa,aD,qM,oG,MJ,RH,nL,QF,SK,yL,cJ,WK,Maa,SJ,$APP.aM,TI,lE,fL,hE,$APP.UB,HH,QK,qK,fH,JN,baa,$APP.OC,dM,yD,PL,qH,Naa,mD,CS,OG,kS,
GN,pJ,lq,rE,KN,OI,dS,UR,zN,vO,Gw,QD,kH,jC,PC,mO,YE,nK,lR,nba,dC,DI,DN,MM,$APP.ID,IK,vL,xba,UH,wF,BH,lL,oM,lF,ZM,iD,KK,nR,eD,xB,pL,yK,uaa,eM,aF,XQ,cD,HJ,tba,LM,kO,qS,qD,IC,lH,fS,VJ,hO,JC,tG,qT,iC,IB,NF,caa,oC,CM,tB,$K,eJ,JG,gM,TH,Hw,jF,mN,Waa,gE,nM,NN,VH,xF,wM,Cba,LF,LE,hJ,eT,mG,kba,xaa],Aca=jx(IS,GT,ix,!0,new $APP.n(null,3,[$APP.T,IS,$APP.V,$APP.P(new $APP.N(null,4,5,$APP.O,[$APP.nI,PK,$APP.Jk,WI],null)),$APP.X,"(deftype name [fields*]  options* specs*)\n\n  Currently there are no options.\n\n  Each spec consists of a protocol or interface name followed by zero\n  or more method bodies:\n\n  protocol-or-Object\n  (methodName [args*] body)*\n\n  The type will have the (by default, immutable) fields named by\n  fields, which can have type hints. Protocols and methods\n  are optional. The only methods that can be supplied are those\n  declared in the protocols/interfaces.  Note that method bodies are\n  not closures, the local environment includes only the named fields,\n  and those fields can be accessed directly. Fields can be qualified\n  with the metadata :mutable true at which point (set! afield aval) will be\n  supported in method bodies. Note well that mutable fields are extremely\n  difficult to use correctly, and are present only to facilitate the building\n  of higherlevel constructs, such as ClojureScript's reference types, in\n  ClojureScript itself. They are for experts only - if the semantics and\n  implications of :mutable are not immediately apparent to you, you should not\n  be using them.\n\n  Method definitions take the form:\n\n  (methodname [args*] body)\n\n  The argument and return types can be hinted on the arg and\n  methodname symbols. If not supplied, they will be inferred, so type\n  hints should be reserved for disambiguation.\n\n  Methods should be supplied for all methods of the desired\n  protocol(s). You can also define overrides for methods of Object. Note that\n  a parameter must be supplied to correspond to the target object\n  ('this' in JavaScript parlance). Note also that recur calls to the method\n  head should *not* pass the target object, it will be supplied\n  automatically and can not be substituted.\n\n  In the method bodies, the (unqualified) name can be used to name the\n  class (for calls to new, instance? etc).\n\n  One constructor will be defined, taking the designated fields.  Note\n  that the field names __meta and __extmap are currently reserved and\n  should not be used when defining your own types.\n\n  Given (deftype TypeName ...), a factory function called -\x3eTypeName\n  will be defined, taking positional parameters for the fields"],
null)),Bca=GV,Cca=jx(CR,UU,null,null,new $APP.n(null,3,[$APP.T,CR,$APP.V,$APP.P(new $APP.N(null,3,5,$APP.O,[$APP.sI,$APP.Jk,$APP.cT],null)),$APP.X,'Evaluates x then calls all of the methods and functions with the\n  value of x supplied at the front of the given arguments.  The forms\n  are evaluated in order.  Returns x.\n\n  (doto (new js/Map) (.set "a" 1) (.set "b" 2))'],null)),Dca=jx(JH,OT,null,null,new $APP.n(null,3,[$APP.T,JH,$APP.V,$APP.P(new $APP.N(null,4,5,$APP.O,[qJ,LQ,$APP.Jk,GE],null)),
$APP.X,"Creates and installs a new method of multimethod associated with dispatch-value. "],null)),Eca=new Zq(HT,$N,new $APP.n(null,5,[$APP.T,$N,$APP.V,$APP.P(new $APP.N(null,2,5,$APP.O,[eF,SC],null),new $APP.N(null,3,5,$APP.O,[gI,eF,SC],null)),$APP.X,"Establishes a parent/child relationship between parent and\n  tag. Parent must be a namespace-qualified symbol or keyword and\n  child can be either a namespace-qualified symbol or keyword or a\n  class. h must be a hierarchy obtained from make-hierarchy, if not\n  supplied defaults to, and modifies, the global hierarchy.",
er,!0,$APP.$q,ix],null),!0),Fca=new Zq(KT,iG,new $APP.n(null,5,[$APP.T,iG,$APP.V,$APP.P(new $APP.N(null,1,5,$APP.O,[eF],null),new $APP.N(null,2,5,$APP.O,[gI,eF],null)),$APP.X,"Returns the immediate and indirect parents of tag, either via a JavaScript type\n  inheritance relationship or a relationship established via derive. h\n  must be a hierarchy obtained from make-hierarchy, if not supplied\n  defaults to the global hierarchy",er,!0,$APP.$q,ix],null),!0),Gca=jx(Aw,NV,null,null,new $APP.n(null,
4,[$APP.T,Aw,$APP.V,$APP.P($APP.ih,new $APP.N(null,1,5,$APP.O,[$APP.sI],null),new $APP.N(null,3,5,$APP.O,[$APP.sI,$APP.Jk,eK],null)),$APP.X,"Evaluates exprs one at a time, from left to right. If a form\n  returns logical false (nil or false), and returns that value and\n  doesn't evaluate any of the other expressions, otherwise it returns\n  the value of the last expr. (and) returns true.",Mw,Aw],null)),Hca=jx(HM,IU,null,null,new $APP.n(null,3,[$APP.T,HM,$APP.V,$APP.P(new $APP.N(null,2,5,$APP.O,[$APP.Jk,
$APP.bI],null)),$APP.X,"Evaluates exprs in a context in which *print-fn* is bound to .append\n  on a fresh StringBuffer.  Returns the string created by any nested\n  printing calls."],null)),Ica=new Zq(Xx,GB,new $APP.n(null,5,[$APP.T,GB,$APP.V,null,$APP.X,null,er,!0,$APP.$q,ix],null),!0),Jca=jx(Dw,OV,null,null,new $APP.n(null,4,[$APP.T,Dw,$APP.V,$APP.P(new $APP.N(null,3,5,$APP.O,[$APP.fI,$APP.Jk,TS],null)),$APP.X,"Takes an expression, and a set of clauses.\n\n  Each clause can take the form of either:\n\n  test-constant result-expr\n\n  (test-constant1 ... test-constantN)  result-expr\n\n  The test-constants are not evaluated. They must be compile-time\n  literals, and need not be quoted.  If the expression is equal to a\n  test-constant, the corresponding result-expr is returned. A single\n  default expression can follow the clauses, and its value will be\n  returned if no clause matches. If no default expression is provided\n  and no clause matches, an Error is thrown.\n\n  Unlike cond and condp, case does a constant-time dispatch, the\n  clauses are not considered sequentially.  All manner of constant\n  expressions are acceptable in case, including numbers, strings,\n  symbols, keywords, and (ClojureScript) composites thereof. Note that since\n  lists are used to group multiple constants that map to the same\n  expression, a vector can be used to match a list if needed. The\n  test-constants need not be all of the same type.",
Mw,Dw],null)),Kca=new Zq(function(a,b,c){$APP.Zj.j(Lr.o(a),function(d){return $APP.im.J(d,new $APP.N(null,3,5,$APP.O,[$APP.Sr,Ox(Qx(a,b)),eu],null),$APP.nm,c)});return null},MR,new $APP.n(null,5,[$APP.T,MR,$APP.V,null,$APP.X,null,er,!0,$APP.$q,ix],null),!0),Lca=jx($APP.tD,aV,null,null,new $APP.n(null,3,[$APP.T,$APP.tD,$APP.V,$APP.P(new $APP.N(null,3,5,$APP.O,[$APP.AC,$APP.Jk,$APP.bI],null)),$APP.X,"bindings \x3d\x3e x xs\n\n  Roughly the same as (when (seq xs) (let [x (first xs)] body)) but xs is evaluated only once"],
null)),Mca=lx(JR,function(){var a=$APP.Ao.C();return hs(a,null,$APP.we(a),!1)}),Nca=jx($APP.iH,nV,null,null,new $APP.n(null,3,[$APP.T,$APP.iH,$APP.V,$APP.P(new $APP.N(null,4,5,$APP.O,[Raa,dJ,$APP.Jk,TS],null)),$APP.X,"Takes a binary predicate, an expression, and a set of clauses.\n  Each clause can take the form of either:\n\n  test-expr result-expr\n\n  test-expr :\x3e\x3e result-fn\n\n  Note :\x3e\x3e is an ordinary keyword.\n\n  For each clause, (pred test-expr expr) is evaluated. If it returns\n  logical true, the clause is a match. If a binary clause matches, the\n  result-expr is returned, if a ternary clause matches, its result-fn,\n  which must be a unary function, is called with the result of the\n  predicate as its argument, the result of that call being the return\n  value of condp. A single default expression can follow the clauses,\n  and its value will be returned if no clause matches. If no default\n  expression is provided and no clause matches, an Error is thrown."],
null)),Oca=Dr,Pca=is(sD,new $APP.n(null,2,[$APP.wt,Dc,$APP.$q,ix],null),new $APP.n(null,1,[$APP.$q,ix],null)),Qca=new Zq(vca,xH,new $APP.n(null,6,[$APP.T,xH,$APP.fr,!0,$APP.V,$APP.P(new $APP.N(null,3,5,$APP.O,[vJ,$APP.Jk,$APP.mL],null)),$APP.X,"Expands into code that creates a fn that expects to be passed an\n  object and any args and calls the named instance method on the\n  object passing the args. Use when you want to treat a JavaScript\n  method as a first-class fn.",er,!0,$APP.$q,ix],null),null),
Rca=jx($APP.ZB,pV,null,null,new $APP.n(null,3,[$APP.T,$APP.ZB,$APP.V,$APP.P(new $APP.N(null,2,5,$APP.O,[$APP.sI,$APP.KG],null),new $APP.N(null,4,5,$APP.O,[$APP.sI,$APP.KG,$APP.Jk,IJ],null)),$APP.X,'form \x3d\x3e fieldName-symbol or (instanceMethodName-symbol args*)\n\n  Expands into a member access (.) of the first member on the first\n  argument, followed by the next member on the result, etc. For\n  instance:\n\n  (.. System (getProperties) (get "os.name"))\n\n  expands to:\n\n  (. (. System (getProperties)) (get "os.name"))\n\n  but is easier to write, read, and understand.'],
null)),Sca=FV,Tca=jx($APP.lD,ZT,null,null,new $APP.n(null,3,[$APP.T,$APP.lD,$APP.V,$APP.P(new $APP.N(null,5,5,$APP.O,[vJ,rD,iI,new $APP.N(null,1,5,$APP.O,[fC],null),$APP.bI],null),new $APP.N(null,6,5,$APP.O,[vJ,rD,iI,$APP.P(new $APP.N(null,1,5,$APP.O,[fC],null),$APP.bI),PH,iI],null)),$APP.X,"Like defn, but the resulting function name is declared as a\n  macro and will be used as a macro by the compiler when it is\n  called."],null)),Uca=jx(bG,PT,ix,!0,new $APP.n(null,3,[$APP.T,bG,$APP.V,$APP.P(new $APP.N(null,
3,5,$APP.O,[TB,$APP.Jk,LR],null)),$APP.X,'A protocol is a named set of named methods and their signatures:\n\n  (defprotocol AProtocolName\n    ;optional doc string\n    "A doc string for AProtocol abstraction"\n\n  ;method signatures\n    (bar [this a b] "bar docs")\n    (baz [this a] [this a b] [this a b c] "baz docs"))\n\n  No implementations are provided. Docs can be specified for the\n  protocol overall and for each method. The above yields a set of\n  polymorphic functions and a protocol object. All are\n  namespace-qualified by the ns enclosing the definition The resulting\n  functions dispatch on the type of their first argument, which is\n  required and corresponds to the implicit target object (\'this\' in\n  JavaScript parlance). defprotocol is dynamic, has no special compile-time\n  effect, and defines no new types.\n\n  (defprotocol P\n    (foo [this])\n    (bar-me [this] [this y]))\n\n  (deftype Foo [a b c]\n    P\n    (foo [this] a)\n    (bar-me [this] b)\n    (bar-me [this y] (+ c y)))\n\n  (bar-me (Foo. 1 2 3) 42)\n  \x3d\x3e 45\n\n  (foo\n    (let [x 42]\n      (reify P\n        (foo [this] 17)\n        (bar-me [this] x)\n        (bar-me [this y] x))))\n  \x3d\x3e 17'],
null)),Vca=jx($APP.uH,YT,null,null,new $APP.n(null,3,[$APP.T,$APP.uH,$APP.V,$APP.P(new $APP.N(null,6,5,$APP.O,[vJ,rD,iI,new $APP.N(null,1,5,$APP.O,[fC],null),zJ,$APP.bI],null),new $APP.N(null,6,5,$APP.O,[vJ,rD,iI,$APP.P(new $APP.N(null,1,5,$APP.O,[fC],null),zJ,$APP.bI),PH,iI],null)),$APP.X,"Same as (def name (core/fn [params* ] exprs*)) or (def\n    name (core/fn ([params* ] exprs*)+)) with any doc-string or attrs added\n    to the var metadata. prepost-map defines a map with optional keys\n    :pre and :post that contain collections of pre or post conditions."],
null)),Wca=new Zq(function(a){return $APP.u($APP.u($APP.Re.j($APP.Re.j($APP.Sr.o($APP.u(Lr.o(a))),Os),ju)))},XM,new $APP.n(null,5,[$APP.T,XM,$APP.V,null,$APP.X,null,er,!0,$APP.$q,ix],null),!0),Xca=jx(pF,PU,null,null,new $APP.n(null,3,[$APP.T,pF,$APP.V,$APP.P(new $APP.N(null,2,5,$APP.O,[$APP.Jk,$APP.bI],null)),$APP.X,"Ignores body, yields nil"],null)),Yca=jx($APP.ZD,DV,null,null,new $APP.n(null,3,[$APP.T,$APP.ZD,$APP.V,$APP.P(new $APP.N(null,3,5,$APP.O,[$APP.AC,$APP.Jk,$APP.bI],null)),$APP.X,"binding \x3d\x3e var-symbol temp-value-expr\n\n  Temporarily redefines vars while executing the body.  The\n  temp-value-exprs will be evaluated and each resulting value will\n  replace in parallel the root value of its var.  After the body is\n  executed, the root values of all the vars will be set back to their\n  old values. Useful for mocking out functions during testing."],
null)),Zca=jx(rB,ST,ix,!0,new $APP.n(null,3,[$APP.T,rB,$APP.V,$APP.P(new $APP.N(null,3,5,$APP.O,[$APP.kI,$APP.Jk,IF],null)),$APP.X,"Useful when you want to provide several implementations of the same\n  protocol all at once. Takes a single protocol and the implementation\n  of that protocol for one or more types. Expands into calls to\n  extend-type:\n\n  (extend-protocol Protocol\n    AType\n      (foo [x] ...)\n      (bar [x y] ...)\n    BType\n      (foo [x] ...)\n      (bar [x y] ...)\n    AClass\n      (foo [x] ...)\n      (bar [x y] ...)\n    nil\n      (foo [x] ...)\n      (bar [x y] ...))\n\n  expands into:\n\n  (do\n   (clojure.core/extend-type AType Protocol \n     (foo [x] ...) \n     (bar [x y] ...))\n   (clojure.core/extend-type BType Protocol \n     (foo [x] ...) \n     (bar [x y] ...))\n   (clojure.core/extend-type AClass Protocol \n     (foo [x] ...) \n     (bar [x y] ...))\n   (clojure.core/extend-type nil Protocol \n     (foo [x] ...) \n     (bar [x y] ...)))"],
null)),$ca=new Zq(function(a,b,c){$APP.Zj.j(Lr.o(a),function(d){var e=gs();return $APP.Tr(d,new $APP.N(null,4,5,$APP.O,[$APP.Sr,e,eu,b],null),c)});return null},NG,new $APP.n(null,5,[$APP.T,NG,$APP.V,null,$APP.X,null,er,!0,$APP.$q,ix],null),!0),ada=jx($APP.TE,LV,null,null,new $APP.n(null,3,[$APP.T,$APP.TE,$APP.V,$APP.P(new $APP.N(null,3,5,$APP.O,[$APP.AC,$APP.Jk,$APP.bI],null)),$APP.X,"Evaluates the exprs in a lexical context in which the symbols in\n  the binding-forms are bound to their respective init-exprs or parts\n  therein. Acts as a recur target."],
null)),bda=jx(dH,function(a,b,c,d,e,f){return $APP.U.o($APP.x($APP.Q.A(new $APP.J(null,$APP.as,null,1,null),new $APP.J(null,$APP.jh($APP.U.o($APP.x($APP.Q.A(new $APP.J(null,cN,null,1,null),new $APP.J(null,c,null,1,null),$APP.F([new $APP.J(null,$S,null,1,null),new $APP.J(null,$APP.U.o($APP.x($APP.Q.j(new $APP.J(null,$APP.AI,null,1,null),new $APP.J(null,cN,null,1,null)))),null,1,null),new $APP.J(null,e,null,1,null),new $APP.J(null,$APP.U.o($APP.x($APP.Q.j(new $APP.J(null,ZJ,null,1,null),new $APP.J(null,
cN,null,1,null)))),null,1,null)]))))),null,1,null),$APP.F([new $APP.J(null,$APP.U.o($APP.x($APP.Q.A(new $APP.J(null,BJ,null,1,null),new $APP.J(null,$APP.jh($APP.U.o($APP.x($APP.Q.j(new $APP.J(null,d,null,1,null),new $APP.J(null,0,null,1,null))))),null,1,null),$APP.F([new $APP.J(null,$APP.U.o($APP.x($APP.Q.A(new $APP.J(null,$APP.Uk,null,1,null),new $APP.J(null,$APP.U.o($APP.x($APP.Q.A(new $APP.J(null,dT,null,1,null),new $APP.J(null,d,null,1,null),$APP.F([new $APP.J(null,$S,null,1,null)])))),null,1,
null),$APP.F([new $APP.J(null,$APP.U.o($APP.x($APP.Q.A(new $APP.J(null,$APP.Sk,null,1,null),new $APP.J(null,$APP.U.o($APP.x($APP.Q.A(new $APP.J(null,$APP.vH,null,1,null),new $APP.J(null,e,null,1,null),$APP.F([new $APP.J(null,d,null,1,null),new $APP.J(null,f,null,1,null)])))),null,1,null),$APP.F([new $APP.J(null,$APP.U.o($APP.x($APP.Q.j(new $APP.J(null,$APP.al,null,1,null),new $APP.J(null,$APP.U.o($APP.x($APP.Q.j(new $APP.J(null,LI,null,1,null),new $APP.J(null,d,null,1,null)))),null,1,null)))),null,
1,null)])))),null,1,null),new $APP.J(null,e,null,1,null)])))),null,1,null)])))),null,1,null)]))))},null,null,new $APP.n(null,3,[$APP.T,dH,$APP.V,$APP.P(new $APP.N(null,4,5,$APP.O,[$H,UN,CK,dJ],null)),$APP.X,"Maps an expression across an array a, using an index named idx, and\n  return value named ret, initialized to a clone of a, then setting\n  each element of ret to the evaluation of expr, returning the new\n  array ret."],null)),cda=jx($APP.LB,NU,null,null,new $APP.n(null,3,[$APP.T,$APP.LB,$APP.V,
$APP.P(new $APP.N(null,3,5,$APP.O,[$APP.sI,$APP.Jk,$APP.cT],null)),$APP.X,"Threads the expr through the forms. Inserts x as the\n  last item in the first form, making a list of it if it is not a\n  list already. If there are more forms, inserts the first form as the\n  last item in second form, etc."],null)),dda=Pj,eda=jx(aL,TT,ix,!0,new $APP.n(null,3,[$APP.T,aL,$APP.V,$APP.P(new $APP.N(null,3,5,$APP.O,[CE,$APP.Jk,WI],null)),$APP.X,"Extend a type to a series of protocols. Useful when you are\n  supplying the definitions explicitly inline. Propagates the\n  type as a type hint on the first argument of all fns.\n\n  type-sym may be\n\n   * default, meaning the definitions will apply for any value,\n     unless an extend-type exists for one of the more specific\n     cases below.\n   * nil, meaning the definitions will apply for the nil value.\n   * any of object, boolean, number, string, array, or function,\n     indicating the definitions will apply for values of the\n     associated base JavaScript types. Note that, for example,\n     string should be used instead of js/String.\n   * a JavaScript type not covered by the previous list, such\n     as js/RegExp.\n   * a type defined by deftype or defrecord.\n\n  (extend-type MyType\n    ICounted\n    (-count [c] ...)\n    Foo\n    (bar [x y] ...)\n    (baz ([x] ...) ([x y] ...) ...)"],
null)),fda=jx($APP.sF,kU,null,null,new $APP.n(null,3,[$APP.T,$APP.sF,$APP.V,$APP.P(new $APP.N(null,3,5,$APP.O,[MQ,$APP.Jk,$APP.bI],null)),$APP.X,'Repeatedly executes body (presumably for side-effects) with\n  bindings and filtering as provided by "for".  Does not retain\n  the head of the sequence. Returns nil.'],null)),gda=IV,hda=new Zq(JU,lI,new $APP.n(null,5,[$APP.T,lI,$APP.V,null,$APP.X,null,er,!0,$APP.$q,ix],null),!0),RV=is(fF,null,new $APP.n(null,1,[$APP.$q,ix],null));Mq(RV);
var ida=$APP.ti(zca,[function(a){return a},$APP.rU,hy,function(a){return!0===a},function(a){return Xc(a)},Aca,function(a){return a},Bca,Cca,$APP.ff,Dca,$APP.im,function(a,b,c){return wk(a,b,c)},Eca,function(a){return $APP.z($APP.y(a))},Mz,Ex,$APP.Ii,Fca,$APP.y,$APP.Xi,Gca,Hca,QA,function(){return!1},fh,function(a){return a instanceof $APP.K&&null==$APP.Af(a)},$APP.cv,Ica,$APP.Jd,Jca,$APP.x,function(a){return a+1},yd,Kca,function(a){return!$APP.vg(a)},$APP.ur,Vz,$APP.ne,Lca,fA,$APP.Ts,function(a,b){function c(e){e=
$APP.x(e);for(var f=null,g=0,k=0;;)if(k<g){var l=f.fa(null,k),h=$APP.D.v(l,0,null);l=$APP.D.v(l,1,null);Hq(h,l);k+=1}else if(e=$APP.x(e))$APP.He(e)?(f=$APP.bd(e),e=$APP.cd(e),h=f,g=$APP.ge(f),f=h):(f=$APP.y(e),h=$APP.D.v(f,0,null),l=$APP.D.v(f,1,null),Hq(h,l),e=$APP.z(e),f=null,g=0),k=0;else return null}var d=$APP.Zi($APP.Ii(a),$APP.wj.j(function(e){return Iq(e)},$APP.Ii(a)));try{return c(a),b.C?b.C():b.call(null)}finally{c(d)}},Mca,function(a){return a},$APP.me,Nca,sl,Oca,function(a){return-a},HU,
Dg,function(a){return null!=a?$APP.wd===a.Af?!0:!1:!1},function(a,b){return iU.j(a,b)},Pca,Qca,$APP.Yj,$APP.Oi,$APP.uf,tca,$APP.il,$APP.mm,function(a){return Sd(a)},function(){var a=$APP.rb;$APP.rb=$APP.u($APP.rU);try{return Fj(null)}finally{$APP.rb=a}},$z,zU,Rca,$APP.He,function(a){return null!=a?$APP.wd===a.Fh?!0:a.Hd?!1:$APP.zb(Rd,a):$APP.zb(Rd,a)},eB,Uz,Ix,$APP.ge,function(a){return Bf(a)&&null==$APP.Af(a)},Ox,Sca,$APP.pe,function(a,b){return a<<b},function(a){return a|0},Tca,function(a){return-a},
function(a,b,c,d,e,f,g,k){return new $APP.Bk(a,b,c,d,e,f,g,k)},function(a,b){return kf.j?kf.j(a,b):kf.call(null,a,b)},function(a){return a},$APP.dh,$x,Uca,function(a){return $APP.Pe(a)||a instanceof $APP.Ga},Vca,Wca,iA,Ve,$APP.Ki,$APP.ub,function(){return null},$APP.xd,CU,bA,Xca,Yca,function(a,b){return delete a[b]},function(a){return"number"===typeof a},$APP.le,Zca,pU,vb,function(a){return $APP.bd(a)},$ca,$APP.Mc,Yz,$APP.Oe,ada,$APP.zm,$APP.Td,Rz,bda,$APP.Cg,$APP.ve,$APP.Ee,$APP.Ge,cda,$APP.mf,function(){return!0},
BU,Xz,$APP.Lj,function(a){return a},gj,Sf,$APP.fj,function(a,b){return Ne($APP.ug(function(c){return xk(c,b)},ut.o(a)))},ol,$APP.Je,dda,eda,xU,qu,fda,$APP.Eg,$APP.Pq,$APP.wb,$APP.pr,$APP.wf,gda,function(a,b){return a>>b},Ce,hda,RV,new Zq(function(a,b){var c=$APP.u(BT);return c.j?c.j(a,b):c.call(null,a,b)},xI,new $APP.n(null,5,[$APP.T,xI,$APP.V,$APP.P(new $APP.N(null,1,5,$APP.O,[iN],null)),$APP.X,"Repeatedly calls macroexpand-1 on form until it no longer\n  represents a macro form, then returns it.  Note neither\n  macroexpand-1 nor macroexpand expand macros in subforms.",
er,!0,$APP.$q,ix],null),!0),new Zq(function(a,b){return Ur(Lr.o(a),b,!0,null)},ZF,new $APP.n(null,5,[$APP.T,ZF,$APP.V,$APP.P(new $APP.N(null,1,5,$APP.O,[hF],null),new $APP.N(null,2,5,$APP.O,[hF,RB],null)),$APP.X,"Create a new namespace named by the symbol. Bootstrap only.",er,!0,$APP.$q,ix],null),!0),tU,wU,jx($APP.kN,RU,null,null,new $APP.n(null,3,[$APP.T,$APP.kN,$APP.V,$APP.P(new $APP.N(null,2,5,$APP.O,[kS,$APP.dN],null),new $APP.N(null,3,5,$APP.O,[kS,$APP.dN,jH],null)),$APP.X,"Evaluates test. If logical false, evaluates and returns then expr, \n  otherwise else expr, if supplied, else nil."],
null)),function(a){return null!=a&&(a.R&1024||$APP.wd===a.Di)?a.Td():$APP.x($APP.cd(a))},function(a,b){return rq(a,b)},function(a,b){return a^1<<b},Cz,lx(iE,fU),$APP.Vr,sA,js,vU,jx($APP.LK,TU,null,null,new $APP.n(null,3,[$APP.T,$APP.LK,$APP.V,$APP.P(new $APP.N(null,3,5,$APP.O,[kS,$APP.Jk,$APP.bI],null)),$APP.X,"Evaluates test. If logical false, evaluates body in an implicit do."],null)),aA,$APP.gf,lx(sJ,iU),Of,jA,HA,lx(VS,function(a){return tq(a)}),$APP.Q,$APP.hf,Bf,Az,$APP.If,$APP.xe,$APP.Qd,jx($APP.NJ,
SU,null,null,new $APP.n(null,3,[$APP.T,$APP.NJ,$APP.V,$APP.P(new $APP.N(null,3,5,$APP.O,[kS,$APP.Jk,$APP.bI],null)),$APP.X,"Evaluates test. If logical true, evaluates body in an implicit do."],null)),$APP.hB,$APP.U,ck,function(a,b){if("string"===typeof b)return UA(a,b);throw new TypeError("re-seq must match against a string.");},lx(OD,hU),jx(MD,bV,null,null,new $APP.n(null,3,[$APP.T,MD,$APP.V,$APP.P(new $APP.N(null,3,5,$APP.O,[$APP.AC,$APP.Jk,$APP.bI],null)),$APP.X,"bindings \x3d\x3e binding-form test\n\n   When test is not nil, evaluates body with binding-form bound to the\n   value of test"],
null)),cA,Tz,function(a){return zk(a)},yp,$APP.A,new Zq(rV,RM,new $APP.n(null,5,[$APP.T,RM,$APP.V,null,$APP.X,null,er,!0,$APP.$q,ix],null),!0),qA,Vw,$APP.tg,$APP.qr,function(a,b){return a|1<<b},$APP.nm,Wz,yb,jx($APP.IM,hV,null,null,new $APP.n(null,3,[$APP.T,$APP.IM,$APP.V,null,$APP.X,null],null)),$APP.Bu,jx(yS,eV,null,null,new $APP.n(null,3,[$APP.T,yS,$APP.V,$APP.P(new $APP.N(null,2,5,$APP.O,[$APP.Jk,iF],null)),$APP.X,"defs the supplied var names with no bindings, useful for making forward declarations."],
null)),jx($APP.uL,jV,null,null,new $APP.n(null,3,[$APP.T,$APP.uL,$APP.V,null,$APP.X,null],null)),function(a){var b=Kq(a);return $APP.p(b)?b:null!=Tq(a)||!1},new Zq(Yx,kE,new $APP.n(null,5,[$APP.T,kE,$APP.V,null,$APP.X,null,er,!0,$APP.$q,ix],null),!0),Jg,function(a){return $APP.Pe(a)?0>a:a instanceof $APP.Ga?0>a.ua:!1},$APP.nr,jx($APP.XS,function(a,b,c,d){return $APP.U.o($APP.x($APP.Q.A(new $APP.J(null,$APP.as,null,1,null),new $APP.J(null,$APP.jh($APP.U.o($APP.x($APP.Q.j(new $APP.J(null,TJ,null,1,
null),new $APP.J(null,$APP.U.o($APP.x($APP.Q.j(new $APP.J(null,$APP.hl,null,1,null),new $APP.J(null,c,null,1,null)))),null,1,null))))),null,1,null),$APP.F([new $APP.J(null,$APP.U.o($APP.x($APP.Q.A(new $APP.J(null,$APP.pN,null,1,null),new $APP.J(null,$APP.U.o($APP.x($APP.Q.j(new $APP.J(null,CS,null,1,null),new $APP.J(null,TJ,null,1,null)))),null,1,null),$APP.F([new $APP.J(null,$APP.U.o($APP.x($APP.Q.A(new $APP.J(null,$APP.hl,null,1,null),new $APP.J(null,c,null,1,null),$APP.F([new $APP.J(null,d,null,
1,null)])))),null,1,null)])))),null,1,null)]))))},null,null,new $APP.n(null,3,[$APP.T,$APP.XS,$APP.V,$APP.P(new $APP.N(null,2,5,$APP.O,[$APP.sI,vS],null)),$APP.X,"defs name to have the root value of init iff the named var has no root value,\n  else init is unevaluated"],null)),new Zq(function(a,b){ku(Lr.o(a),b);return null},QE,new $APP.n(null,5,[$APP.T,QE,$APP.V,null,$APP.X,null,er,!0,$APP.$q,ix],null),!0),EU,$APP.vl,yV,$APP.Hu,jx(cO,XU,null,null,new $APP.n(null,3,[$APP.T,cO,$APP.V,$APP.P(new $APP.N(null,
3,5,$APP.O,[dJ,$APP.Jk,TS],null)),$APP.X,"Takes an expression and a set of test/form pairs. Threads expr (via -\x3e\x3e)\n  through each form for which the corresponding test expression\n  is true.  Note that, unlike cond branching, cond-\x3e\x3e threading does not short circuit\n  after the first true test expression."],null)),$APP.Rq,xt,$APP.z,$APP.Pz,new Zq(function(a,b){$APP.Pq($APP.Zf([$APP.Vr,$APP.u($APP.Vr)]));try{var c=hm(gm(b));for(b=null;;){var d=Lx(a,c,null);if($APP.zf(Kx,d))return b;b=
Yr(a,d)}}finally{$APP.Rq()}},hS,new $APP.n(null,5,[$APP.T,hS,$APP.V,null,$APP.X,null,er,!0,$APP.$q,ix],null),!0),$APP.Yi,function(a){return a},jx($APP.KB,$U,null,null,new $APP.n(null,3,[$APP.T,$APP.KB,$APP.V,$APP.P(new $APP.N(null,3,5,$APP.O,[$APP.AC,$APP.Jk,$APP.bI],null)),$APP.X,"bindings \x3d\x3e binding-form test\n\n  When test is true, evaluates body with binding-form bound to the value of test"],null)),zd,$APP.Lf,mA,function(a,b){return new $APP.Qj(a,b)},new Zq(Wx,qL,new $APP.n(null,5,[$APP.T,
qL,$APP.V,$APP.P(new $APP.N(null,1,5,$APP.O,[tC],null)),$APP.X,"Returns a map of the import mappings for the namespace.",er,!0,$APP.$q,ix],null),!0),function(a){return yk(a)},function(a,b){return a.meta=b},jx(HI,function(a,b,c,d,e,f,g){return $APP.U.o($APP.x($APP.Q.A(new $APP.J(null,$APP.as,null,1,null),new $APP.J(null,$APP.jh($APP.U.o($APP.x($APP.Q.A(new $APP.J(null,EI,null,1,null),new $APP.J(null,c,null,1,null),$APP.F([new $APP.J(null,IL,null,1,null),new $APP.J(null,$APP.U.o($APP.x($APP.Q.j(new $APP.J(null,
$APP.AI,null,1,null),new $APP.J(null,EI,null,1,null)))),null,1,null)]))))),null,1,null),$APP.F([new $APP.J(null,$APP.U.o($APP.x($APP.Q.A(new $APP.J(null,BJ,null,1,null),new $APP.J(null,$APP.jh($APP.U.o($APP.x($APP.Q.A(new $APP.J(null,d,null,1,null),new $APP.J(null,0,null,1,null),$APP.F([new $APP.J(null,e,null,1,null),new $APP.J(null,f,null,1,null)]))))),null,1,null),$APP.F([new $APP.J(null,$APP.U.o($APP.x($APP.Q.A(new $APP.J(null,$APP.Uk,null,1,null),new $APP.J(null,$APP.U.o($APP.x($APP.Q.A(new $APP.J(null,
dT,null,1,null),new $APP.J(null,d,null,1,null),$APP.F([new $APP.J(null,IL,null,1,null)])))),null,1,null),$APP.F([new $APP.J(null,$APP.U.o($APP.x($APP.Q.A(new $APP.J(null,$APP.al,null,1,null),new $APP.J(null,$APP.U.o($APP.x($APP.Q.j(new $APP.J(null,TM,null,1,null),new $APP.J(null,d,null,1,null)))),null,1,null),$APP.F([new $APP.J(null,g,null,1,null)])))),null,1,null),new $APP.J(null,e,null,1,null)])))),null,1,null)])))),null,1,null)]))))},null,null,new $APP.n(null,3,[$APP.T,HI,$APP.V,$APP.P(new $APP.N(null,
5,5,$APP.O,[$H,UN,CK,vS,dJ],null)),$APP.X,"Reduces an expression across an array a, using an index named idx,\n  and return value named ret, initialized to init, setting ret to the\n  evaluation of expr at each step, returning ret."],null)),jx($APP.Wk,PV,null,null,new $APP.n(null,4,[$APP.T,$APP.Wk,$APP.V,null,$APP.X,null,Mw,$APP.Wk],null)),$APP.jB,jx($APP.iO,QU,null,null,new $APP.n(null,3,[$APP.T,$APP.iO,$APP.V,$APP.P(new $APP.N(null,3,5,$APP.O,[$APP.AC,$APP.Jk,$APP.bI],null)),$APP.X,"bindings \x3d\x3e name n\n\n  Repeatedly executes body (presumably for side-effects) with name\n  bound to integers from 0 through n-1."],
null)),bk,xg,qf,Bz,$APP.Zi,new Zq(function(a,b){if(Df(b)){var c=$APP.Gj.o($APP.Af(b));b=$APP.Gj.o($APP.Yi(b));a=$APP.Re.j($APP.Sr.o($APP.u(Lr.o(a))),c);if($APP.p(a))return $APP.Re.j(a,b);throw Error(["No such namespace: ",$APP.t.o(c)].join(""));}throw Error(["Not a qualified symbol: ",$APP.t.o(b)].join(""));},GM,new $APP.n(null,5,[$APP.T,GM,$APP.V,null,$APP.X,null,er,!0,$APP.$q,ix],null),!0),jx(kv,function(a,b,c,d){vx(a,c);var e=function(){function f(k){var l=null;if(0<arguments.length){l=0;for(var h=
Array(arguments.length-0);l<h.length;)h[l]=arguments[l+0],++l;l=new $APP.Fd(h,0,null)}return g.call(this,l)}function g(k){throw Error($APP.wg.j($APP.t,k));}f.B=0;f.F=function(k){k=$APP.x(k);return g(k)};f.A=g;return f}();return $APP.U.o($APP.x($APP.Q.A(new $APP.J(null,$APP.as,null,1,null),new $APP.J(null,$APP.jh($APP.U.o($APP.x($APP.Q.j(new $APP.J(null,YN,null,1,null),new $APP.J(null,function k(g){g=$APP.x(g);var l=$APP.y(g),h=$APP.z(g);l=$APP.x(l);g=$APP.y(l);l=$APP.z(l);$APP.y(l);l=$APP.z(l);var r=
$APP.D.v(h,0,null);$APP.D.v(r,0,null);var q=$APP.D.v(r,1,null),w=$APP.Ao.o("iter__"),C=$APP.Ao.o("s__");r=function Z(W){var ea=$APP.x(W);W=$APP.y(ea);ea=$APP.z(ea);var ia=$APP.D.v(W,0,null);W=$APP.D.v(W,1,null);return $APP.A.j(ia,iK)?$APP.U.o($APP.x($APP.Q.A(new $APP.J(null,$APP.as,null,1,null),new $APP.J(null,W,null,1,null),$APP.F([new $APP.J(null,Z(ea),null,1,null)])))):$APP.A.j(ia,pT)?$APP.U.o($APP.x($APP.Q.A(new $APP.J(null,$APP.zD,null,1,null),new $APP.J(null,W,null,1,null),$APP.F([new $APP.J(null,
Z(ea),null,1,null)])))):$APP.A.j(ia,yF)?$APP.U.o($APP.x($APP.Q.A(new $APP.J(null,$APP.Uk,null,1,null),new $APP.J(null,W,null,1,null),$APP.F([new $APP.J(null,Z(ea),null,1,null),new $APP.J(null,$APP.U.o($APP.x($APP.Q.j(new $APP.J(null,Ou,null,1,null),new $APP.J(null,$APP.U.o($APP.x($APP.Q.j(new $APP.J(null,pS,null,1,null),new $APP.J(null,C,null,1,null)))),null,1,null)))),null,1,null)])))):ia instanceof $APP.K?e("Invalid 'for' keyword ",ia):h?$APP.U.o($APP.x($APP.Q.A(new $APP.J(null,$APP.as,null,1,null),
new $APP.J(null,$APP.jh($APP.U.o($APP.x($APP.Q.A(new $APP.J(null,SD,null,1,null),new $APP.J(null,k(h),null,1,null),$APP.F([new $APP.J(null,lS,null,1,null),new $APP.J(null,$APP.U.o($APP.x($APP.Q.j(new $APP.J(null,KL,null,1,null),new $APP.J(null,$APP.U.o($APP.x($APP.Q.j(new $APP.J(null,SD,null,1,null),new $APP.J(null,q,null,1,null)))),null,1,null)))),null,1,null)]))))),null,1,null),$APP.F([new $APP.J(null,$APP.U.o($APP.x($APP.Q.A(new $APP.J(null,$APP.Uk,null,1,null),new $APP.J(null,lS,null,1,null),
$APP.F([new $APP.J(null,$APP.U.o($APP.x($APP.Q.A(new $APP.J(null,$L,null,1,null),new $APP.J(null,lS,null,1,null),$APP.F([new $APP.J(null,$APP.U.o($APP.x($APP.Q.j(new $APP.J(null,w,null,1,null),new $APP.J(null,$APP.U.o($APP.x($APP.Q.j(new $APP.J(null,pS,null,1,null),new $APP.J(null,C,null,1,null)))),null,1,null)))),null,1,null)])))),null,1,null),new $APP.J(null,$APP.U.o($APP.x($APP.Q.j(new $APP.J(null,Ou,null,1,null),new $APP.J(null,$APP.U.o($APP.x($APP.Q.j(new $APP.J(null,pS,null,1,null),new $APP.J(null,
C,null,1,null)))),null,1,null)))),null,1,null)])))),null,1,null)])))):$APP.U.o($APP.x($APP.Q.A(new $APP.J(null,paa,null,1,null),new $APP.J(null,d,null,1,null),$APP.F([new $APP.J(null,$APP.U.o($APP.x($APP.Q.j(new $APP.J(null,w,null,1,null),new $APP.J(null,$APP.U.o($APP.x($APP.Q.j(new $APP.J(null,pS,null,1,null),new $APP.J(null,C,null,1,null)))),null,1,null)))),null,1,null)]))))};if(h)return $APP.U.o($APP.x($APP.Q.A(new $APP.J(null,$APP.YF,null,1,null),new $APP.J(null,w,null,1,null),$APP.F([new $APP.J(null,
$APP.jh($APP.U.o($APP.x($APP.Q.o(new $APP.J(null,C,null,1,null))))),null,1,null),new $APP.J(null,$APP.U.o($APP.x($APP.Q.j(new $APP.J(null,rF,null,1,null),new $APP.J(null,$APP.U.o($APP.x($APP.Q.A(new $APP.J(null,Nu,null,1,null),new $APP.J(null,$APP.jh($APP.U.o($APP.x($APP.Q.j(new $APP.J(null,C,null,1,null),new $APP.J(null,C,null,1,null))))),null,1,null),$APP.F([new $APP.J(null,$APP.U.o($APP.x($APP.Q.A(new $APP.J(null,TD,null,1,null),new $APP.J(null,$APP.jh($APP.U.o($APP.x($APP.Q.j(new $APP.J(null,
g,null,1,null),new $APP.J(null,C,null,1,null))))),null,1,null),$APP.F([new $APP.J(null,r(l),null,1,null)])))),null,1,null)])))),null,1,null)))),null,1,null)]))));var G=$APP.Ao.o("i__"),M=$APP.Ao.o("b__");return $APP.U.o($APP.x($APP.Q.A(new $APP.J(null,$APP.YF,null,1,null),new $APP.J(null,w,null,1,null),$APP.F([new $APP.J(null,$APP.jh($APP.U.o($APP.x($APP.Q.o(new $APP.J(null,C,null,1,null))))),null,1,null),new $APP.J(null,$APP.U.o($APP.x($APP.Q.j(new $APP.J(null,rF,null,1,null),new $APP.J(null,$APP.U.o($APP.x($APP.Q.A(new $APP.J(null,
Nu,null,1,null),new $APP.J(null,$APP.jh($APP.U.o($APP.x($APP.Q.j(new $APP.J(null,C,null,1,null),new $APP.J(null,C,null,1,null))))),null,1,null),$APP.F([new $APP.J(null,$APP.U.o($APP.x($APP.Q.A(new $APP.J(null,$APP.as,null,1,null),new $APP.J(null,$APP.jh($APP.U.o($APP.x($APP.Q.j(new $APP.J(null,C,null,1,null),new $APP.J(null,$APP.U.o($APP.x($APP.Q.j(new $APP.J(null,KL,null,1,null),new $APP.J(null,C,null,1,null)))),null,1,null))))),null,1,null),$APP.F([new $APP.J(null,$APP.U.o($APP.x($APP.Q.A(new $APP.J(null,
$APP.zD,null,1,null),new $APP.J(null,C,null,1,null),$APP.F([new $APP.J(null,$APP.U.o($APP.x($APP.Q.A(new $APP.J(null,$APP.Uk,null,1,null),new $APP.J(null,$APP.U.o($APP.x($APP.Q.j(new $APP.J(null,SH,null,1,null),new $APP.J(null,C,null,1,null)))),null,1,null),$APP.F([new $APP.J(null,$APP.U.o($APP.x($APP.Q.A(new $APP.J(null,$APP.as,null,1,null),new $APP.J(null,$APP.jh($APP.U.o($APP.x($APP.Q.A(new $APP.J(null,QC,null,1,null),new $APP.J(null,$APP.U.o($APP.x($APP.Q.j(new $APP.J(null,cC,null,1,null),new $APP.J(null,
C,null,1,null)))),null,1,null),$APP.F([new $APP.J(null,xN,null,1,null),new $APP.J(null,$APP.U.o($APP.x($APP.Q.j(new $APP.J(null,BG,null,1,null),new $APP.J(null,$APP.U.o($APP.x($APP.Q.j(new $APP.J(null,WF,null,1,null),new $APP.J(null,QC,null,1,null)))),null,1,null)))),null,1,null),new $APP.J(null,M,null,1,null),new $APP.J(null,$APP.U.o($APP.x($APP.Q.j(new $APP.J(null,WM,null,1,null),new $APP.J(null,xN,null,1,null)))),null,1,null)]))))),null,1,null),$APP.F([new $APP.J(null,$APP.U.o($APP.x($APP.Q.A(new $APP.J(null,
$APP.Uk,null,1,null),new $APP.J(null,$APP.U.o($APP.x($APP.Q.A(new $APP.J(null,Nu,null,1,null),new $APP.J(null,$APP.jh($APP.U.o($APP.x($APP.Q.j(new $APP.J(null,G,null,1,null),new $APP.J(null,$APP.U.o($APP.x($APP.Q.j(new $APP.J(null,BG,null,1,null),new $APP.J(null,0,null,1,null)))),null,1,null))))),null,1,null),$APP.F([new $APP.J(null,$APP.U.o($APP.x($APP.Q.A(new $APP.J(null,$APP.Uk,null,1,null),new $APP.J(null,$APP.U.o($APP.x($APP.Q.A(new $APP.J(null,dT,null,1,null),new $APP.J(null,G,null,1,null),
$APP.F([new $APP.J(null,xN,null,1,null)])))),null,1,null),$APP.F([new $APP.J(null,$APP.U.o($APP.x($APP.Q.A(new $APP.J(null,$APP.as,null,1,null),new $APP.J(null,$APP.jh($APP.U.o($APP.x($APP.Q.j(new $APP.J(null,g,null,1,null),new $APP.J(null,$APP.U.o($APP.x($APP.Q.A(new $APP.J(null,PM,null,1,null),new $APP.J(null,QC,null,1,null),$APP.F([new $APP.J(null,G,null,1,null)])))),null,1,null))))),null,1,null),$APP.F([new $APP.J(null,function ea(Z){var ia=$APP.x(Z);Z=$APP.y(ia);ia=$APP.z(ia);var ka=$APP.D.v(Z,
0,null);Z=$APP.D.v(Z,1,null);return $APP.A.j(ka,iK)?$APP.U.o($APP.x($APP.Q.A(new $APP.J(null,$APP.as,null,1,null),new $APP.J(null,Z,null,1,null),$APP.F([new $APP.J(null,ea(ia),null,1,null)])))):$APP.A.j(ka,pT)?$APP.U.o($APP.x($APP.Q.A(new $APP.J(null,$APP.zD,null,1,null),new $APP.J(null,Z,null,1,null),$APP.F([new $APP.J(null,ea(ia),null,1,null)])))):$APP.A.j(ka,yF)?$APP.U.o($APP.x($APP.Q.A(new $APP.J(null,$APP.Uk,null,1,null),new $APP.J(null,Z,null,1,null),$APP.F([new $APP.J(null,ea(ia),null,1,null),
new $APP.J(null,$APP.U.o($APP.x($APP.Q.j(new $APP.J(null,Ou,null,1,null),new $APP.J(null,$APP.U.o($APP.x($APP.Q.j(new $APP.J(null,LI,null,1,null),new $APP.J(null,G,null,1,null)))),null,1,null)))),null,1,null)])))):ka instanceof $APP.K?e("Invalid 'for' keyword ",ka):$APP.U.o($APP.x($APP.Q.A(new $APP.J(null,$APP.Sk,null,1,null),new $APP.J(null,$APP.U.o($APP.x($APP.Q.A(new $APP.J(null,nO,null,1,null),new $APP.J(null,M,null,1,null),$APP.F([new $APP.J(null,d,null,1,null)])))),null,1,null),$APP.F([new $APP.J(null,
$APP.U.o($APP.x($APP.Q.j(new $APP.J(null,Ou,null,1,null),new $APP.J(null,$APP.U.o($APP.x($APP.Q.j(new $APP.J(null,LI,null,1,null),new $APP.J(null,G,null,1,null)))),null,1,null)))),null,1,null)]))))}(l),null,1,null)])))),null,1,null),new $APP.J(null,!0,null,1,null)])))),null,1,null)])))),null,1,null),$APP.F([new $APP.J(null,$APP.U.o($APP.x($APP.Q.A(new $APP.J(null,jG,null,1,null),new $APP.J(null,$APP.U.o($APP.x($APP.Q.j(new $APP.J(null,FH,null,1,null),new $APP.J(null,M,null,1,null)))),null,1,null),
$APP.F([new $APP.J(null,$APP.U.o($APP.x($APP.Q.j(new $APP.J(null,w,null,1,null),new $APP.J(null,$APP.U.o($APP.x($APP.Q.j(new $APP.J(null,BK,null,1,null),new $APP.J(null,C,null,1,null)))),null,1,null)))),null,1,null)])))),null,1,null),new $APP.J(null,$APP.U.o($APP.x($APP.Q.A(new $APP.J(null,jG,null,1,null),new $APP.J(null,$APP.U.o($APP.x($APP.Q.j(new $APP.J(null,FH,null,1,null),new $APP.J(null,M,null,1,null)))),null,1,null),$APP.F([new $APP.J(null,null,null,1,null)])))),null,1,null)])))),null,1,null)])))),
null,1,null),new $APP.J(null,$APP.U.o($APP.x($APP.Q.A(new $APP.J(null,$APP.as,null,1,null),new $APP.J(null,$APP.jh($APP.U.o($APP.x($APP.Q.j(new $APP.J(null,g,null,1,null),new $APP.J(null,$APP.U.o($APP.x($APP.Q.j(new $APP.J(null,NM,null,1,null),new $APP.J(null,C,null,1,null)))),null,1,null))))),null,1,null),$APP.F([new $APP.J(null,r(l),null,1,null)])))),null,1,null)])))),null,1,null)])))),null,1,null)])))),null,1,null)])))),null,1,null)))),null,1,null)]))))}(function(g){return $APP.cf.v(function(k,
l){var h=$APP.D.v(l,0,null);l=$APP.D.v(l,1,null);return h instanceof $APP.K?$APP.tf.j($APP.ye(k),$APP.tf.j($APP.xe(k),new $APP.N(null,2,5,$APP.O,[h,l],null))):$APP.tf.j(k,new $APP.N(null,2,5,$APP.O,[h,l],null))},$APP.ih,$APP.ur.j(2,g))}(c)),null,1,null))))),null,1,null),$APP.F([new $APP.J(null,$APP.U.o($APP.x($APP.Q.j(new $APP.J(null,YN,null,1,null),new $APP.J(null,$APP.le(c),null,1,null)))),null,1,null)]))))},null,null,new $APP.n(null,3,[$APP.T,kv,$APP.V,$APP.P(new $APP.N(null,2,5,$APP.O,[MQ,iaa],
null)),$APP.X,"List comprehension. Takes a vector of one or more\n   binding-form/collection-expr pairs, each followed by zero or more\n   modifiers, and yields a lazy sequence of evaluations of expr.\n   Collections are iterated in a nested fashion, rightmost fastest,\n   and nested coll-exprs can refer to bindings created in prior\n   binding-forms.  Supported modifiers are: :let [binding-form expr ...],\n   :while test, :when test.\n\n  (take 100 (for [x (range 100000000) y (range 1000000) :while (\x3c y x)]  [x y]))"],
null)),Rj,Bl,function(a){return a},Mg,Ne,$APP.Vp,function(a){return a+1},nx,function(a){var b=Bf(a);b?(a=$APP.Af(a),a=$APP.p(a)?!0:a):a=b;return Ne(a)},lA,$APP.Ae,sf,new Zq(function(a,b,c){$APP.Zj.j(Lr.o(a),function(d){var e=Qx(a,b);e=Ox(e);return $APP.im.v(d,new $APP.N(null,2,5,$APP.O,[$APP.Sr,e],null),function(f){return $APP.Te(Bt.o(f),c)?$APP.nm.A($APP.jo.J(f,Bt,$APP.nm,c),f,$APP.F([c])):$APP.Te(f,c)?$APP.nm.j(f,c):$APP.Te(ts.o(d),c)||$APP.Te(ts.o(f),c)?$APP.jo.S(f,ts,$APP.Ni,c,null):f})});return null},
SS,new $APP.n(null,5,[$APP.T,SS,$APP.V,$APP.P(new $APP.N(null,2,5,$APP.O,[tC,ZL],null)),$APP.X,"Removes the mappings for the symbol from the namespace.",er,!0,$APP.$q,ix],null),!0),$APP.wg,lU,$APP.Cl,new Zq(JT,NE,new $APP.n(null,5,[$APP.T,NE,$APP.V,$APP.P(new $APP.N(null,2,5,$APP.O,[OH,SC],null),new $APP.N(null,3,5,$APP.O,[gI,OH,SC],null)),$APP.X,"Returns true if (\x3d child parent), or child is directly or indirectly derived from\n  parent, either via a JavaScript type inheritance relationship or a\n  relationship established via derive. h must be a hierarchy obtained\n  from make-hierarchy, if not supplied defaults to the global\n  hierarchy",
er,!0,$APP.$q,ix],null),!0),function(a,b){return!$APP.tg(a,b)},uca,yf,Gk,yU,$APP.We,new Zq(IT,rO,new $APP.n(null,5,[$APP.T,rO,$APP.V,$APP.P(new $APP.N(null,2,5,$APP.O,[eF,SC],null),new $APP.N(null,3,5,$APP.O,[gI,eF,SC],null)),$APP.X,"Removes a parent/child relationship between parent and\n  tag. h must be a hierarchy obtained from make-hierarchy, if not\n  supplied defaults to, and modifies, the global hierarchy.",er,!0,$APP.$q,ix],null),!0),Oz,rca,$APP.mo,Zba,function(a){return null!=a?a.M&268435456||
$APP.wd===a.Pi?!0:a.M?!1:$APP.zb(Gc,a):$APP.zb(Gc,a)},ij,function(a){return(a=$APP.x(a))?new Gg(null,a,null,a,null):$APP.Id},$APP.ko,Cf,jx(TR,LU,ix,!0,new $APP.n(null,3,[$APP.T,TR,$APP.V,$APP.P(new $APP.N(null,2,5,$APP.O,[$APP.Jk,WI],null)),$APP.X,'reify creates an object implementing a protocol.\n  reify is a macro with the following structure:\n\n (reify options* specs*)\n\n  Currently there are no options.\n\n  Each spec consists of the protocol name followed by zero\n  or more method bodies:\n\n  protocol\n  (methodName [args+] body)*\n\n  Methods should be supplied for all methods of the desired\n  protocol(s). You can also define overrides for Object methods. Note that\n  the first parameter must be supplied to correspond to the target object\n  (\'this\' in JavaScript parlance). Note also that recur calls\n  to the method head should *not* pass the target object, it will be supplied\n  automatically and can not be substituted.\n\n  recur works to method heads The method bodies of reify are lexical\n  closures, and can refer to the surrounding local scope:\n\n  (str (let [f "foo"]\n       (reify Object\n         (toString [this] f))))\n  \x3d\x3d "foo"\n\n  (seq (let [f "foo"]\n       (reify ISeqable\n         (-seq [this] (seq f)))))\n  \x3d\x3d ("f" "o" "o"))\n\n  reify always implements IMeta and IWithMeta and transfers meta\n  data of the form to the created object.\n\n  (meta ^{:k :v} (reify Object (toString [this] "foo")))\n  \x3d\x3d {:k :v}'],
null)),$APP.ze,$APP.Nh,$APP.Pe,Qz,jx(hN,dV,null,null,new $APP.n(null,3,[$APP.T,hN,$APP.V,$APP.P(new $APP.N(null,3,5,$APP.O,[dJ,$APP.Jk,$APP.cT],null)),$APP.X,"When expr is not nil, threads it into the first form (via -\x3e\x3e),\n  and when that result is not nil, through the next etc"],null)),function(a,b){return a>>>b},DU,jx(uF,cV,null,null,new $APP.n(null,3,[$APP.T,uF,$APP.V,$APP.P(new $APP.N(null,3,5,$APP.O,[dJ,$APP.Jk,$APP.cT],null)),$APP.X,"When expr is not nil, threads it into the first form (via -\x3e),\n  and when that result is not nil, through the next etc"],
null)),jx(sM,BV,null,null,new $APP.n(null,3,[$APP.T,sM,$APP.V,null,$APP.X,null],null)),$APP.Nf,jx($APP.uO,VU,null,null,new $APP.n(null,3,[$APP.T,$APP.uO,$APP.V,$APP.P(new $APP.N(null,2,5,$APP.O,[$APP.Jk,TS],null)),$APP.X,"Takes a set of test/expr pairs. It evaluates each test one at a\n  time.  If a test returns logical true, cond evaluates and returns\n  the value of the corresponding expr and doesn't evaluate any of the\n  other tests or exprs. (cond) returns nil."],null)),$APP.LA,Xd,Zl,$APP.Pl,
$APP.ug,jx($APP.PS,KV,null,null,new $APP.n(null,3,[$APP.T,$APP.PS,$APP.V,$APP.P(new $APP.N(null,3,5,$APP.O,[$APP.AC,$APP.Jk,$APP.bI],null)),$APP.X,"binding \x3d\x3e binding-form init-expr\n  binding-form \x3d\x3e name, or destructuring-form\n  destructuring-form \x3d\x3e map-destructure-form, or seq-destructure-form\n\n  Evaluates the exprs in a lexical context in which the symbols in\n  the binding-forms are bound to their respective init-exprs or parts\n  therein.\n\n  See https://clojure.org/reference/special_forms#binding-forms for\n  more information about destructuring."],
null)),$APP.rm,new Zq(Qx,QN,new $APP.n(null,5,[$APP.T,QN,$APP.V,null,$APP.X,null,er,!0,$APP.$q,ix],null),!0),function(a,b){return a instanceof Xq?null!=b&&$APP.wd===b.Re?$APP.A.j(a,b.type):$APP.A.j(a,$APP.tm.o($APP.we(b))):$APP.Ee(a)?xt(a,b):b instanceof a},new Zq(LT,$G,new $APP.n(null,5,[$APP.T,$G,$APP.V,$APP.P(new $APP.N(null,1,5,$APP.O,[eF],null),new $APP.N(null,2,5,$APP.O,[gI,eF],null)),$APP.X,"Returns the immediate and indirect children of tag, through a\n  relationship established via derive. h must be a hierarchy obtained\n  from make-hierarchy, if not supplied defaults to the global\n  hierarchy. Note: does not work on JavaScript type inheritance\n  relationships.",
er,!0,$APP.$q,ix],null),!0),$APP.Rr,jx($APP.gO,XT,null,null,new $APP.n(null,3,[$APP.T,$APP.gO,$APP.V,$APP.P(new $APP.N(null,2,5,$APP.O,[$APP.Jk,BM],null)),$APP.X,"params \x3d\x3e positional-params* , or positional-params* \x26 next-param\n  positional-param \x3d\x3e binding-form\n  next-param \x3d\x3e binding-form\n  name \x3d\x3e symbol\n\n  Defines a function"],null)),$APP.we,mx(ES,function(a,b,c,d){a=$APP.Wi(c);return new uq(d,a)},ix),jx(HC,VT,ix,!0,new $APP.n(null,3,[$APP.T,HC,$APP.V,$APP.P(new $APP.N(null,
4,5,$APP.O,[kM,PK,$APP.Jk,WI],null)),$APP.X,"(defrecord name [fields*]  options* specs*)\n\n  Currently there are no options.\n\n  Each spec consists of a protocol or interface name followed by zero\n  or more method bodies:\n\n  protocol-or-Object\n  (methodName [args*] body)*\n\n  The record will have the (immutable) fields named by\n  fields, which can have type hints. Protocols and methods\n  are optional. The only methods that can be supplied are those\n  declared in the protocols.  Note that method bodies are\n  not closures, the local environment includes only the named fields,\n  and those fields can be accessed directly.\n\n  Method definitions take the form:\n\n  (methodname [args*] body)\n\n  The argument and return types can be hinted on the arg and\n  methodname symbols. If not supplied, they will be inferred, so type\n  hints should be reserved for disambiguation.\n\n  Methods should be supplied for all methods of the desired\n  protocol(s). You can also define overrides for\n  methods of Object. Note that a parameter must be supplied to\n  correspond to the target object ('this' in JavaScript parlance). Note also\n  that recur calls to the method head should *not* pass the target object, it\n  will be supplied automatically and can not be substituted.\n\n  In the method bodies, the (unqualified) name can be used to name the\n  class (for calls to new, instance? etc).\n\n  The type will have implementations of several ClojureScript\n  protocol generated automatically: IMeta/IWithMeta (metadata support) and\n  IMap, etc.\n\n  In addition, defrecord will define type-and-value-based \x3d,\n  and will define ClojureScript IHash and IEquiv.\n\n  Two constructors will be defined, one taking the designated fields\n  followed by a metadata map (nil for none) and an extension field\n  map (nil for none), and one taking only the fields (using nil for\n  meta and extension fields). Note that the field names __meta\n  and __extmap are currently reserved and should not be used when\n  defining your own records.\n\n  Given (defrecord TypeName ...), two factory functions will be\n  defined: -\x3eTypeName, taking positional parameters for the fields,\n  and map-\x3eTypeName, taking a map of keywords to field values."],
null)),hh,new Zq(KU,MI,new $APP.n(null,5,[$APP.T,MI,$APP.V,null,$APP.X,null,er,!0,$APP.$q,ix],null),!0),Eb,$APP.Tr,function(a){return 0===a},function(a){return $APP.Sc(a)},jx(SB,iV,null,null,new $APP.n(null,3,[$APP.T,SB,$APP.V,$APP.P(new $APP.N(null,3,5,$APP.O,[ER,$APP.Jk,$APP.bI],null)),$APP.X,"fnspec \x3d\x3d\x3e (fname [params*] exprs) or (fname ([params*] exprs)+)\n\n  Takes a vector of function specs and a body, and generates a set of\n  bindings of functions to their names. All of the names are available\n  in all of the definitions of the functions, as well as the body."],
null)),function(a){return $APP.Pc(a)},Ew,new Zq(Tx,dD,new $APP.n(null,5,[$APP.T,dD,$APP.V,$APP.P(new $APP.N(null,1,5,$APP.O,[tC],null)),$APP.X,"Returns a map of the intern mappings for the namespace.",er,!0,$APP.$q,ix],null),!0),$APP.ak,OA,$APP.Mj,Nz,Zz,function(a){a=Of.o?Of.o(a):Of.call(null,a);const b=Math.random;for(let c=a.length-1;0<c;c--){const d=Math.floor(b()*(c+1)),e=a[c];a[c]=a[d];a[d]=e}return $APP.jh.o?$APP.jh.o(a):$APP.jh.call(null,a)},new Zq(function(a,b){return $APP.mm.A($APP.F([Tx(a,
b),Xx(a,b),Wx(a,b)]))},zK,new $APP.n(null,5,[$APP.T,zK,$APP.V,null,$APP.X,null,er,!0,$APP.$q,ix],null),!0),FU,new Zq(function(a,b){return Wr(a,b,$APP.$f)},rT,new $APP.n(null,5,[$APP.T,rT,$APP.V,null,$APP.X,null,er,!0,$APP.$q,ix],null),!0),jx($APP.DJ,mV,null,null,new $APP.n(null,3,[$APP.T,$APP.DJ,$APP.V,$APP.P(new $APP.N(null,3,5,$APP.O,[vJ,$APP.Jk,DM],null)),$APP.X,"same as defn, yielding non-public def"],null)),function(a,b,c){return $APP.A.j(a.Ca(null),b)?($APP.Ag(a,c),!0):!1},new Zq(tV,jS,new $APP.n(null,
5,[$APP.T,jS,$APP.V,$APP.P(new $APP.N(null,2,5,$APP.O,[$APP.Jk,$APP.mL],null)),$APP.X,"Like require, but referring vars specified by the mandatory\n  :only option.\n\n  Example:\n\n  The following would load the library clojure.set while referring\n  the intersection var.\n\n  (use '[clojure.set :only [intersection]])",er,!0,$APP.$q,ix],null),!0),function(a){return a},new Zq(function(a,b){a=Lr.o(a);$APP.Zj.A(a,$APP.jo,$APP.Sr,$APP.nm,$APP.F([b]));return null},ND,new $APP.n(null,5,[$APP.T,ND,$APP.V,
null,$APP.X,null,er,!0,$APP.$q,ix],null),!0),function(a){return jf(a)},function(a,b){for(var c=a;;)if(a=0<b&&$APP.x(c))--b,c=a=$APP.Jd(a);else return c},CV,sca,function(a){return a},Nj,function(a,b){return vk(a,b)},new Zq(QT,XL,new $APP.n(null,5,[$APP.T,XL,$APP.V,null,$APP.X,null,er,!0,$APP.$q,ix],null),!0),oe,function(a){return a-1},$APP.Ef,function(a){return function(b,c){return $APP.p(a.j?a.j(b,c):a.call(null,b,c))?-1:$APP.p(a.j?a.j(c,b):a.call(null,c,b))?1:0}},$APP.Fg,new Zq($APP.Px,zM,new $APP.n(null,
5,[$APP.T,zM,$APP.V,$APP.P(new $APP.N(null,1,5,$APP.O,[$APP.Wk],null)),$APP.X,"Returns the namespace named by the symbol or nil if it doesn't exist.\n  Bootstrap only.",er,!0,$APP.$q,ix],null),!0),function(a){return"string"===$APP.oa(a)},GU,fV,dA,$APP.wj,function(a){return a},$APP.Mf,function(a){return fU.o(a)},$APP.mj,$APP.sr,$APP.cf,Df,new Zq(Yr,BL,new $APP.n(null,5,[$APP.T,BL,$APP.V,$APP.P(new $APP.N(null,1,5,$APP.O,[$APP.KG],null)),$APP.X,"Evaluates the form data structure (not text!) and returns the result.\n  Delegates to cljs.core/*eval*. Intended for use in self-hosted ClojureScript,\n  which sets up an implementation of cljs.core/*eval* for that environment.",
er,!0,$APP.$q,ix],null),!0),$APP.xA,$APP.eo,$APP.Qh,$APP.Mi,JV,$APP.yg,$APP.Le,function(a){return $APP.Sa(a)},$APP.Re,new Zq(sV,RS,new $APP.n(null,5,[$APP.T,RS,$APP.V,$APP.P(new $APP.N(null,2,5,$APP.O,[$APP.Jk,$APP.mL],null)),$APP.X,"Loads libs, skipping any that are already loaded. Each argument is\n  either a libspec that identifies a lib or a flag that modifies how all the identified\n  libs are loaded. Use :require in the ns macro in preference to calling this\n  directly.\n\n  Libs\n\n  A 'lib' is a named set of resources in classpath whose contents define a\n  library of ClojureScript code. Lib names are symbols and each lib is associated\n  with a ClojureScript namespace. A lib's name also locates its root directory\n  within classpath using Java's package name to classpath-relative path mapping.\n  All resources in a lib should be contained in the directory structure under its\n  root directory. All definitions a lib makes should be in its associated namespace.\n\n  'require loads a lib by loading its root resource. The root resource path\n  is derived from the lib name in the following manner:\n  Consider a lib named by the symbol 'x.y.z; it has the root directory\n  \x3cclasspath\x3e/x/y/, and its root resource is \x3cclasspath\x3e/x/y/z.clj. The root\n  resource should contain code to create the lib's namespace (usually by using\n  the ns macro) and load any additional lib resources.\n\n  Libspecs\n\n  A libspec is a lib name or a vector containing a lib name followed by\n  options expressed as sequential keywords and arguments.\n\n  Recognized options:\n  :as takes a symbol as its argument and makes that symbol an alias to the\n    lib's namespace in the current namespace.\n  :refer takes a list of symbols to refer from the namespace.\n  :refer-macros takes a list of macro symbols to refer from the namespace.\n  :include-macros true causes macros from the namespace to be required.\n  :rename specifies a map from referred var names to different\n    symbols (and can be used to prevent clashes)\n\n\n  Flags\n\n  A flag is a keyword.\n  Recognized flags: :reload, :reload-all, :verbose\n  :reload forces loading of all the identified libs even if they are\n    already loaded\n  :reload-all implies :reload and also forces loading of all libs that the\n    identified libs directly or indirectly load via require or use\n  :verbose triggers printing information about each load, alias, and refer\n\n  Example:\n\n  The following would load the library clojure.string :as string.\n\n  (require '[clojure.string :as string])",
er,!0,$APP.$q,ix],null),!0),gh,gA,$APP.Ng,jx(YH,WU,null,null,new $APP.n(null,3,[$APP.T,YH,$APP.V,$APP.P(new $APP.N(null,3,5,$APP.O,[dJ,$APP.Jk,TS],null)),$APP.X,"Takes an expression and a set of test/form pairs. Threads expr (via -\x3e)\n  through each form for which the corresponding test\n  expression is true. Note that, unlike cond branching, cond-\x3e threading does\n  not short circuit after the first true test expression."],null)),Qe,tl,Ck,nU,$APP.t,$APP.qe,ee,$APP.Be,function(a){return a.length},
function(a,b){return $APP.Uc($APP.cf.v(function(c,d){return $APP.p(a.o?a.o(d):a.call(null,d))?$APP.dh.j(c,d):c},$APP.Sc($APP.ih),b))},SA,function(a){return a},Sz,$APP.Vd,cB,$APP.Af,$APP.xj,function(a){var b=Sq();return function(){function c(e){var f=null;if(0<arguments.length){f=0;for(var g=Array(arguments.length-0);f<g.length;)g[f]=arguments[f+0],++f;f=new $APP.Fd(g,0,null)}return d.call(this,f)}function d(e){return $APP.wg.J(yV,b,a,e)}c.B=0;c.F=function(e){e=$APP.x(e);return d(e)};c.A=d;return c}()},
$APP.Fe,function(a){return a instanceof jl},Gp,eA,Zd,$APP.Ni,jx(bN,NT,ix,!0,new $APP.n(null,3,[$APP.T,bN,$APP.V,$APP.P(new $APP.N(null,6,5,$APP.O,[vJ,WE,iI,IE,$APP.Jk,IH],null)),$APP.X,"Creates a new multimethod with the associated dispatch function.\n  The docstring and attribute-map are optional.\n\n  Options are key-value pairs and may be one of:\n    :default    the default dispatch value, defaults to :default\n    :hierarchy  the isa? hierarchy to use for dispatching\n                defaults to the global hierarchy"],
null)),NA,function(a){return~a},function(a){return null!=a},function(a){return 0<a},lB,fB,$APP.jj,Ke,rA,$APP.te,$APP.De,$APP.P,KA,function(a,b){for(a=$APP.x(a);;)if(a&&0<b)--b,a=$APP.z(a);else return a},gB,function(a){return $APP.D.j(a,bk($APP.ge(a)))},jx($APP.aM,lV,null,null,new $APP.n(null,3,[$APP.T,$APP.aM,$APP.V,$APP.P(new $APP.N(null,2,5,$APP.O,[$APP.Jk,$APP.bI],null)),$APP.X,"Takes a body of expressions and yields a Delay object that will\n  invoke the body only the first time it is forced (with force or deref/@), and\n  will cache the result and return it on all subsequent force\n  calls."],
null)),$APP.pm,jx(lE,zV,null,null,new $APP.n(null,3,[$APP.T,lE,$APP.V,null,$APP.X,null],null)),PA,$APP.Te,jx($APP.UB,MU,null,null,new $APP.n(null,3,[$APP.T,$APP.UB,$APP.V,$APP.P(new $APP.N(null,3,5,$APP.O,[$APP.sI,$APP.Jk,$APP.cT],null)),$APP.X,"Threads the expr through the forms. Inserts x as the\n  second item in the first form, making a list of it if it is not a\n  list already. If there are more forms, inserts the first form as the\n  second item in second form, etc."],null)),function(a){return a},
Ek,kca,jx(fH,OU,null,null,new $APP.n(null,3,[$APP.T,fH,$APP.V,$APP.P(new $APP.N(null,4,5,$APP.O,[dJ,vJ,$APP.Jk,$APP.cT],null)),$APP.X,"Binds name to expr, evaluates the first form in the lexical context\n  of that binding, then binds name to that result, repeating for each\n  successive form, returning the result of the last form."],null)),Us,$APP.Ig,jx($APP.OC,YU,null,null,new $APP.n(null,3,[$APP.T,$APP.OC,$APP.V,$APP.P(new $APP.N(null,2,5,$APP.O,[$APP.AC,$APP.dN],null),new $APP.N(null,5,5,$APP.O,
[$APP.AC,$APP.dN,jH,$APP.Jk,hH],null)),$APP.X,"bindings \x3d\x3e binding-form test\n\n  If test is true, evaluates then with binding-form bound to the value of \n  test, if not, yields else"],null)),new Zq(function(a,b){var c=$APP.u(CT);return c.j?c.j(a,b):c.call(null,a,b)},dM,new $APP.n(null,5,[$APP.T,dM,$APP.V,$APP.P(new $APP.N(null,1,5,$APP.O,[iN],null)),$APP.X,"If form represents a macro form, returns its expansion,\n  else returns form.",er,!0,$APP.$q,ix],null),!0),hj,new Zq(vV,PL,new $APP.n(null,
5,[$APP.T,PL,$APP.V,null,$APP.X,null,er,!0,$APP.$q,ix],null),!0),function(a){var b=Fq();return function(){function c(l,h,r){Gq(b);return a.v?a.v(l,h,r):a.call(null,l,h,r)}function d(l,h){Gq(b);return a.j?a.j(l,h):a.call(null,l,h)}function e(l){Gq(b);return a.o?a.o(l):a.call(null,l)}function f(){Gq(b);return a.C?a.C():a.call(null)}var g=null,k=function(){function l(r,q,w,C){var G=null;if(3<arguments.length){G=0;for(var M=Array(arguments.length-3);G<M.length;)M[G]=arguments[G+3],++G;G=new $APP.Fd(M,
0,null)}return h.call(this,r,q,w,G)}function h(r,q,w,C){Gq(b);return $APP.wg.S(a,r,q,w,C)}l.B=3;l.F=function(r){var q=$APP.y(r);r=$APP.z(r);var w=$APP.y(r);r=$APP.z(r);var C=$APP.y(r);r=$APP.Jd(r);return h(q,w,C,r)};l.A=h;return l}();g=function(l,h,r,q){switch(arguments.length){case 0:return f.call(this);case 1:return e.call(this,l);case 2:return d.call(this,l,h);case 3:return c.call(this,l,h,r);default:var w=null;if(3<arguments.length){w=0;for(var C=Array(arguments.length-3);w<C.length;)C[w]=arguments[w+
3],++w;w=new $APP.Fd(C,0,null)}return k.A(l,h,r,w)}throw Error("Invalid arity: "+arguments.length);};g.B=3;g.F=k.F;g.C=f;g.o=e;g.j=d;g.v=c;g.A=k.A;return g}()},gk,function(a,b){return new jl(a,b)},function(a){return Kq(a)},new Zq(MT,OG,new $APP.n(null,5,[$APP.T,OG,$APP.V,$APP.P(new $APP.N(null,1,5,$APP.O,[eF],null),new $APP.N(null,2,5,$APP.O,[gI,eF],null)),$APP.X,"Returns the immediate parents of tag, either via a JavaScript type\n  inheritance relationship or a relationship established via derive. h\n  must be a hierarchy obtained from make-hierarchy, if not supplied\n  defaults to the global hierarchy",
er,!0,$APP.$q,ix],null),!0),function(a){a=a.X;return $APP.p(a)?(a.C?a.C():a.call(null),DG):iba},$APP.jh,$APP.D,ix,jx(rE,qV,null,null,new $APP.n(null,3,[$APP.T,rE,$APP.V,$APP.P(new $APP.N(null,2,5,$APP.O,[$APP.Jk,fR],null)),$APP.X,"Expands to code which yields a lazy sequence of the concatenation\n  of the supplied colls.  Each coll expr is not evaluated until it is\n  needed.\n\n  (lazy-cat xs ys zs) \x3d\x3d\x3d (concat (lazy-seq xs) (lazy-seq ys) (lazy-seq zs))"],null)),jx(KN,ZU,null,null,new $APP.n(null,
3,[$APP.T,KN,$APP.V,$APP.P(new $APP.N(null,2,5,$APP.O,[$APP.AC,$APP.dN],null),new $APP.N(null,5,5,$APP.O,[$APP.AC,$APP.dN,jH,$APP.Jk,hH],null)),$APP.X,"bindings \x3d\x3e binding-form test\n\n   If test is not nil, evaluates then with binding-form bound to the\n   value of test, if not, yields else"],null)),$APP.lj,Hx,function(a){var b=Array($APP.ge(a)),c=0;for(a=$APP.x(a);;)if(null!=a)b[c]=Of($APP.y(a)),c+=1,a=$APP.z(a);else break;return b},EV,kf,jx(Gw,QV,null,null,new $APP.n(null,4,[$APP.T,Gw,$APP.V,
$APP.P(new $APP.N(null,2,5,$APP.O,[$APP.Jk,$APP.bI],null)),$APP.X,"Takes a body of expressions that returns an ISeq or nil, and yields\n  a ISeqable object that will invoke the body only the first time seq\n  is called, and will cache the result and return it on all subsequent\n  seq calls.",Mw,Gw],null)),function(a){return"number"===typeof a},Wd,lx(jC,function(){return is($APP.Ao.C(),null,new $APP.n(null,1,[$APP.es,!0],null))}),$APP.xb,$APP.tf,function(a){return a},function(a){return a},$APP.Ff,
function(a,b){return 0!=(a&1<<b)},IA,function(a){return"number"===typeof a},function(a){return Fc(a)},function(a){return jf(a)},jx($APP.ID,AV,null,null,new $APP.n(null,3,[$APP.T,$APP.ID,$APP.V,$APP.P(new $APP.N(null,3,5,$APP.O,[$APP.AC,$APP.Jk,$APP.bI],null)),$APP.X,"binding \x3d\x3e var-symbol init-expr\n\n  Creates new bindings for the (already-existing) vars, with the\n  supplied initial values, executes the exprs in an implicit do, then\n  re-establishes the bindings that existed before.  The new bindings\n  are made in parallel (unlike let); all init-exprs are evaluated\n  before the vars are bound to their new values."],
null)),function(a){return a},function(a){return a-1},Og,Ws,Me,jU,jx(lL,kV,null,null,new $APP.n(null,3,[$APP.T,lL,$APP.V,$APP.P(new $APP.N(null,4,5,$APP.O,[RL,$APP.dI,$APP.Jk,$APP.mL],null)),$APP.X,"Non-atomically swaps the value of the volatile as if:\n   (apply f current-value-of-vol args). Returns the value that\n   was swapped in."],null)),$APP.Up,lx(lF,Gq),mr,function(a){return a},$APP.jo,$APP.Pg,function(a){return a-1},HV,new Zq(function(a,b){if(Df(b)){var c=uV.j(a,b);if($APP.p(c))return c;c=
$APP.Gj.o($APP.Af(b));sV.A(a,$APP.F([c]));return uV.j(a,b)}throw Error(["Not a qualified symbol: ",$APP.t.o(b)].join(""));},pL,new $APP.n(null,5,[$APP.T,pL,$APP.V,null,$APP.X,null,er,!0,$APP.$q,ix],null),!0),$APP.nf,$APP.ye,$APP.cy,function(a){return jf(a)},jx(XQ,gV,null,null,new $APP.n(null,3,[$APP.T,XQ,$APP.V,$APP.P(new $APP.N(null,1,5,$APP.O,[$APP.sI],null),new $APP.N(null,2,5,$APP.O,[$APP.sI,qB],null)),$APP.X,"Evaluates expr and throws an exception if it does not evaluate to\n  logical true."],
null)),$APP.Fb,jx(HJ,wV,null,null,new $APP.n(null,3,[$APP.T,HJ,$APP.V,$APP.P(new $APP.N(null,2,5,$APP.O,[$APP.Jk,$APP.mL],null)),$APP.X,"Refers to all the public vars of `cljs.core`, subject to\n  filters.\n  Filters can include at most one each of:\n\n  :exclude list-of-symbols\n  :rename map-of-fromsymbol-tosymbol\n\n  Filters can be used to select a subset, via exclusion, or to provide a mapping\n  to a symbol different from the var's name, in order to prevent clashes."],null)),$APP.Qg,Tp,$APP.Fy,
new Zq(Vx,qS,new $APP.n(null,5,[$APP.T,qS,$APP.V,$APP.P(new $APP.N(null,1,5,$APP.O,[tC],null)),$APP.X,"Returns a map of the public intern mappings for the namespace.",er,!0,$APP.$q,ix],null),!0),lx(qD,ks),$APP.vg,function(a){return $APP.u(a)},function(a){return a instanceof $APP.Bk},xT,function(a){var b=null!=a&&$APP.wd===a.Re?a.type:null;if($APP.p(b))return b;b=null==a?null:$APP.we(a);b=null==b?null:$APP.tm.o(b);return $APP.p(b)?b:$APP.Ab(a)},function(a){return 0>a},$APP.Ao,new Zq(uV,qT,new $APP.n(null,
5,[$APP.T,qT,$APP.V,$APP.P(new $APP.N(null,1,5,$APP.O,[ZL],null)),$APP.X,"Returns the var to which a symbol will be resolved in the namespace else nil.",er,!0,$APP.$q,ix],null),!0),function(a,b,c){$APP.Qc(a,b,c);return a},function(a,b){return $APP.wb($APP.ug(a,b))},$APP.un,TA,function(a){return tk(a)},$APP.bg,new Zq(Rx,tB,new $APP.n(null,5,[$APP.T,tB,$APP.V,null,$APP.X,null,er,!0,$APP.$q,ix],null),!0),AU,new Zq(xV,eJ,new $APP.n(null,5,[$APP.T,eJ,$APP.V,null,$APP.X,null,er,!0,$APP.$q,ix],null),!0),
lx(JG,Dq),function(a){return $APP.cd(a)},function(a,b){$APP.Rc(a,b);return a},jx(Hw,MV,null,null,new $APP.n(null,4,[$APP.T,Hw,$APP.V,$APP.P($APP.ih,new $APP.N(null,1,5,$APP.O,[$APP.sI],null),new $APP.N(null,3,5,$APP.O,[$APP.sI,$APP.Jk,eK],null)),$APP.X,"Evaluates exprs one at a time, from left to right. If a form\n  returns a logical true value, or returns that value and doesn't\n  evaluate any of the other expressions, otherwise it returns the\n  value of the last expression. (or) returns nil.",
Mw,Hw],null)),hA,function(a){return $APP.Pe(a)?0<a:a instanceof $APP.Ga?$APP.wb(0>a.ua)&&$APP.wb(Pa(a)):!1},function(a){return void 0===a},function(a){return a},$APP.tb,function(a){return $APP.Uc(a)},lca,fe,MA,uv,$APP.Wi,$APP.Cu,$APP.zf,jx(eT,oV,null,null,new $APP.n(null,3,[$APP.T,eT,$APP.V,$APP.P(new $APP.N(null,3,5,$APP.O,[kS,$APP.Jk,$APP.bI],null)),$APP.X,"Repeatedly executes body while test expression is true. Presumes\n  some side-effect will cause test to become false/nil. Returns nil"],null)),
$APP.kj,$APP.yh,function(a){return $APP.z(a)?$APP.Zf(Of(a)):$APP.x(a)?$APP.y(a):$APP.$f}]),SV=$APP.cr(KS,null),jda=$APP.ti([oK,kR,BS,VQ,ZH,xS,oaa,EB,lq],[mx(oK,function(a,b){var c=$APP.mj(b);b=$APP.Q.j($APP.Ng.A(function(k){return Mz.j($APP.T,$APP.wj.j($APP.we,$APP.Ki(Tx(a,k))))},$APP.F([Yx(a)])),$APP.wj.j(function(k){return $APP.Ni.v($APP.we(k),$APP.T,Ox(k))},Yx(a)));b=$APP.x(b);for(var d=null,e=0,f=0;;)if(f<e){var g=d.fa(null,f);$APP.p(function(){var k=$APP.X.o(g);return $APP.p(k)?(k=$APP.kj(c,
$APP.X.o(g)),$APP.p(k)?k:$APP.kj(c,$APP.t.o($APP.T.o(g)))):k}())&&ay(g);f+=1}else if(b=$APP.x(b))d=b,$APP.He(d)?(b=$APP.bd(d),f=$APP.cd(d),d=b,e=$APP.ge(b),b=f):(g=$APP.y(d),$APP.p(function(){var k=$APP.X.o(g);return $APP.p(k)?(k=$APP.kj(c,$APP.X.o(g)),$APP.p(k)?k:$APP.kj(c,$APP.t.o($APP.T.o(g)))):k}())&&ay(g),b=$APP.z(d),d=null,e=0),f=0;else return null},SV),jx(kR,function(a,b,c){return $APP.U.o($APP.x($APP.Q.A(new $APP.J(null,gJ,null,1,null),new $APP.J(null,$APP.jh($APP.U.o($APP.x($APP.Q.j(new $APP.J(null,
EL,null,1,null),new $APP.J(null,$APP.U.o($APP.x($APP.Q.j(new $APP.J(null,sO,null,1,null),new $APP.J(null,$APP.U.o($APP.x($APP.Q.j(new $APP.J(null,$APP.el,null,1,null),new $APP.J(null,c,null,1,null)))),null,1,null)))),null,1,null))))),null,1,null),$APP.F([new $APP.J(null,$APP.U.o($APP.x($APP.Q.j(new $APP.J(null,pG,null,1,null),new $APP.J(null,EL,null,1,null)))),null,1,null)]))))},SV,null,new $APP.n(null,3,[$APP.T,kR,$APP.V,null,$APP.X,null],null)),mx(BS,function(a,b){var c=gs();b=Qx(a,$APP.Re.v(Rx(a,
c),b,b));return ol.o($APP.wj.j($APP.y,Vx(a,b)))},SV),mx(VQ,function(a,b){b=uV.j(a,b);if($APP.p(b)){b=$APP.we(b);var c=$APP.ag(b);b=$APP.Re.j(c,$APP.xm);var d=$APP.Re.j(c,$APP.$q);if($APP.p($APP.p(b)?d:b)){var e=ru.o($APP.u(Lr.o(a)));$APP.p(e)?(c=lm.o,d=new $APP.n(null,1,[su,Ox(d)],null),e=e.o?e.o(d):e.call(null,d),c=c.call(lm,e)):c=null;if($APP.p(c))return c=$APP.El.j(c,/\n/),b=$APP.rr.j("\n",$APP.Eg.j(b-1,c)),b=new Yl(b,$APP.ge(b)),b=new $l(b),b=new em("string"===typeof b?gm(b):b),a=Lx(a,b,new $APP.n(null,
1,[lm,!0],null)),lm.o($APP.we(a))}}return null},SV),jx(ZH,function(a,b,c){return $APP.U.o($APP.x($APP.Q.j(new $APP.J(null,pG,null,1,null),new $APP.J(null,$APP.U.o($APP.x($APP.Q.A(new $APP.J(null,$APP.SG,null,1,null),new $APP.J(null,$APP.U.o($APP.x($APP.Q.j(new $APP.J(null,qC,null,1,null),new $APP.J(null,$APP.U.o($APP.x($APP.Q.j(new $APP.J(null,$APP.el,null,1,null),new $APP.J(null,c,null,1,null)))),null,1,null)))),null,1,null),$APP.F([new $APP.J(null,$APP.U.o($APP.x($APP.Q.j(new $APP.J(null,$APP.ZS,
null,1,null),new $APP.J(null,"Source not found",null,1,null)))),null,1,null)])))),null,1,null))))},SV,null,new $APP.n(null,3,[$APP.T,ZH,$APP.V,null,$APP.X,null],null)),jx(xS,function(a,b,c){return $APP.U.o($APP.x($APP.Q.A(new $APP.J(null,Zs,null,1,null),new $APP.J(null,$APP.jh($APP.U.o($APP.x($APP.Q.j(new $APP.J(null,iJ,null,1,null),new $APP.J(null,$APP.U.o($APP.x($APP.Q.j(new $APP.J(null,$APP.nN,null,1,null),new $APP.J(null,$APP.U.o($APP.x($APP.Q.j(new $APP.J(null,$APP.el,null,1,null),new $APP.J(null,
c,null,1,null)))),null,1,null)))),null,1,null))))),null,1,null),$APP.F([new $APP.J(null,$APP.U.o($APP.x($APP.Q.A(new $APP.J(null,$APP.zD,null,1,null),new $APP.J(null,$APP.U.o($APP.x($APP.Q.j(new $APP.J(null,$APP.lT,null,1,null),new $APP.J(null,iJ,null,1,null)))),null,1,null),$APP.F([new $APP.J(null,$APP.U.o($APP.x($APP.Q.j(new $APP.J(null,dF,null,1,null),new $APP.J(null,$APP.U.o($APP.x($APP.Q.j(new $APP.J(null,at,null,1,null),new $APP.J(null,iJ,null,1,null)))),null,1,null)))),null,1,null)])))),null,
1,null),new $APP.J(null,$APP.U.o($APP.x($APP.Q.A(new $APP.J(null,Zs,null,1,null),new $APP.J(null,$APP.jh($APP.U.o($APP.x($APP.Q.j(new $APP.J(null,QS,null,1,null),new $APP.J(null,$APP.U.o($APP.x($APP.Q.j(new $APP.J(null,YJ,null,1,null),new $APP.J(null,$APP.U.o($APP.x($APP.Q.j(new $APP.J(null,$APP.el,null,1,null),new $APP.J(null,c,null,1,null)))),null,1,null)))),null,1,null))))),null,1,null),$APP.F([new $APP.J(null,$APP.U.o($APP.x($APP.Q.j(new $APP.J(null,dF,null,1,null),new $APP.J(null,$APP.U.o($APP.x($APP.Q.A(new $APP.J(null,
UE,null,1,null),new $APP.J(null,$APP.U.o($APP.x($APP.Q.j(new $APP.J(null,at,null,1,null),new $APP.J(null,QS,null,1,null)))),null,1,null),$APP.F([new $APP.J(null,$APP.T,null,1,null),new $APP.J(null,$APP.U.o($APP.x($APP.Q.j(new $APP.J(null,tO,null,1,null),new $APP.J(null,QS,null,1,null)))),null,1,null)])))),null,1,null)))),null,1,null)])))),null,1,null)]))))},SV,null,new $APP.n(null,3,[$APP.T,xS,$APP.V,null,$APP.X,null],null)),$APP.ve(ay,new $APP.n(null,1,[$APP.Ux,!0],null)),mx(EB,function(a,b){var c=
b instanceof RegExp?function(d){return $APP.kj(b,$APP.t.o(d))}:function(d){return Il($APP.t.o(d),$APP.t.o(b))};return ol.o($APP.Ng.A(function(d){var e=$APP.t.o(d);return $APP.wj.j(function(f){return $APP.Gj.j(e,$APP.t.o(f))},$APP.Pg.j(c,$APP.Ii(Vx(a,d))))},$APP.F([Yx(a)])))},SV),SV]),TV=function TV(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=4<c.length?new $APP.Fd(c.slice(4),0,null):null;return TV.A(arguments[0],arguments[1],arguments[2],arguments[3],c)};
TV.A=function(a,b,c,d,e){a=$APP.ge(c);return $APP.U.o($APP.x($APP.Q.j(new $APP.J(null,$APP.Sk,null,1,null),$APP.wj.j(function(f){return by(c,d,f)},$APP.ur.j(a,e)))))};TV.B=4;TV.F=function(a){var b=$APP.y(a),c=$APP.z(a);a=$APP.y(c);var d=$APP.z(c);c=$APP.y(d);var e=$APP.z(d);d=$APP.y(e);e=$APP.z(e);return this.A(b,a,c,d,e)};
var UV=$APP.cr(bO,null),kda=new $APP.n(null,3,[lq,UV,QR,by,cE,jx(cE,TV,UV,null,new $APP.n(null,3,[$APP.T,cE,$APP.V,null,$APP.X,null],null))],null),lda=$APP.cr(WL,null),mda=$APP.cr(zS,null),VV=$APP.cr(rJ,null),nda=$APP.cr(PN,null),oda=$APP.ti([zI,Aaa,xM,taa,HN,kJ,lq,SQ,RK],[function(a){function b(c){var d=$APP.D.v(c,0,null);c=$APP.D.v(c,1,null);return"string"===typeof d?new $APP.N(null,2,5,$APP.O,[$APP.xj.o(d),c],null):new $APP.N(null,2,5,$APP.O,[d,c],null)}return tx(function(c){return $APP.Ee(c)?
$APP.Nh.j($APP.$f,$APP.wj.j(b,c)):c},a)},tx,ux,sx,eU,function(a,b){return eU(function(c){return $APP.Te(a,c)?a.o?a.o(c):a.call(null,c):c},b)},VV,function(a){function b(c){var d=$APP.D.v(c,0,null);c=$APP.D.v(c,1,null);return d instanceof $APP.K?new $APP.N(null,2,5,$APP.O,[$APP.Yi(d),c],null):new $APP.N(null,2,5,$APP.O,[d,c],null)}return tx(function(c){return $APP.Ee(c)?$APP.Nh.j($APP.$f,$APP.wj.j(b,c)):c},a)},new Zq(function(a,b){return eU(function(c){if($APP.Le(c)){var d=$APP.u(BT);return d.j?d.j(a,
c):d.call(null,a,c)}return c},b)},RK,new $APP.n(null,3,[$APP.$q,VV,$APP.T,RK,$APP.X,"Recursively performs all possible macroexpansions in form."],null),!0)]),dy=$APP.ti([WL,bO,CD,Os,zS,DS,rJ,gC,PN,KS],[$APP.ti([cba,jE,mH,nJ,MK,LS,AL,maa,rK,BN,ZK,GS,oH,FR,oR,nH,hI,lq,YR,CH,wE],[$APP.El,sT,function(a){return a.replace(/[\s\xa0]+$/,"")},$APP.zl,$APP.Al,function(a){return a.replace(Dba,"$2$1").split("").reverse().join("")},function(a,b){return $APP.Qa(a,b)},Fl,At,function(a){for(var b=a.length;;){if(0===
b)return"";var c=$APP.Re.j(a,b-1);if("\n"===c||"\r"===c)--b;else return a.substring(0,b)}},Gl,$APP.xl,$APP.rr,function(a){return(0,$APP.xz)(a)},$APP.Hl,function(a){return a.replace(/^[\s\xa0]+/,"")},function(a,b){for(var c=new $APP.eb,d=a.length,e=0;;){if(d===e)return c.toString();var f=a.charAt(e),g=$APP.Re.j(b,f);null!=g?c.append($APP.t.o(g)):c.append(f);e+=1}},lda,Il,function(a){return db(a)},$APP.yl]),kda,yca,ida,$APP.ti([VM,VE,kL,DL,oH,CF,mR,jO,Faa,lq,WN,aaa,HG],[function(a,b){return $APP.Wi($APP.wj.j(function(c){return $APP.Oi(c,
b)},a))},rx,function(a,b){return $APP.cf.v(function(c,d){return $APP.p(a.o?a.o(d):a.call(null,d))?c:$APP.Ts.j(c,d)},b,b)},function(a,b){return $APP.ge(a)>=$APP.ge(b)&&$APP.tg(function(c){return $APP.Te(a,c)},b)},dU,$APP.aU,function(a,b){return $APP.Wi($APP.wj.j(function(c){return $APP.px(c,b)},a))},function(a,b){return $APP.ge(a)<=$APP.ge(b)&&$APP.tg(function(c){return $APP.Te(b,c)},a)},$APP.cU,mda,$APP.bU,qx,$APP.px]),xca,oda,wca,new $APP.n(null,3,[lq,nda,lI,vT,MI,$APP.wT],null),jda]);var gy=$APP.Ii(dy),pda=new $APP.n(null,4,[FB,new $APP.n(null,2,[$APP.Ht,Error,$APP.jw,function(){var a=null;a=function(b,c,d){switch(arguments.length){case 1:return Error(b);case 2:return Error(b,c);case 3:return Error(b,c,d)}throw Error("Invalid arity: "+arguments.length);};a.o=function(b){return Error(b)};a.j=function(b,c){return Error(b,c)};a.v=function(b,c,d){return Error(b,c,d)};return a}()],null),YG,$APP.AA,TL,new $APP.n(null,2,[$APP.Ht,$APP.eb,$APP.jw,function(a){return new $APP.eb(a)}],null),
FM,Xq],null),qda=new $APP.n(null,1,[$APP.Ru,Os],null);var ny=function ny(a,b){if($APP.Le(b))if($APP.A.j($APP.Sk,$APP.y(b))){var d=$APP.we(b);d=$APP.p($APP.p(d)?$APP.xm.o(d):d)?new $APP.n(null,2,[$APP.Un,$APP.Un.o(d),$APP.xm,$APP.xm.o(d)],null):null;$APP.p(d)&&(Er=d);try{var e=$APP.Jd(b);for(b=null;;)if($APP.x(e)){var f=$APP.Jd(e),g=$APP.y(e);var k=ny.j?ny.j(a,g):ny.call(null,a,g);e=f;b=k}else return b}finally{$APP.p(d)&&(Er=null)}}else{e=$APP.Ao.C();f=$APP.Cg($APP.Zf([e,new $APP.n(null,1,[0,new $APP.n(null,1,[Wu,$APP.$f],null)],null)]));a=$APP.Ni.A(a,
dk,new $APP.N(null,2,5,$APP.O,[e,0],null),$APP.F([wv,f]));b=lv.v(a,b,!0);e=$APP.ge($APP.Rr.j($APP.u(f),new $APP.N(null,3,5,$APP.O,[e,0,Wu],null)));e=Zl.o(e);if(b instanceof wq)return b=b.Tc(null),ny.j?ny.j(a,b):ny.call(null,a,b);try{return S(b,a,e)}catch(l){if(l instanceof Error)return e=l,Hr(a,0,e,b);throw l;}}else{e=$APP.Ao.C();f=$APP.Cg($APP.Zf([e,new $APP.n(null,1,[0,new $APP.n(null,1,[Wu,$APP.$f],null)],null)]));a=$APP.Ni.A(a,dk,new $APP.N(null,2,5,$APP.O,[e,0],null),$APP.F([wv,f]));b=lv.j(a,
b);e=$APP.ge($APP.Rr.j($APP.u(f),new $APP.N(null,3,5,$APP.O,[e,0,Wu],null)));e=Zl.o(e);try{return S(b,a,e)}catch(l){if(l instanceof Error)return e=l,Hr(a,0,e,b);throw l;}}};$APP.jd(Xr,ny);$APP.jd(xu,$APP.oy);var WV=$APP.cr(Os,null);dw=!0;var XV;
XV=function(a,b,c){return $APP.U.o($APP.x($APP.Q.A(new $APP.J(null,$APP.as,null,1,null),new $APP.J(null,$APP.jh($APP.U.o($APP.x($APP.Q.A(new $APP.J(null,MS,null,1,null),new $APP.J(null,$APP.U.o($APP.x($APP.Q.o(new $APP.J(null,HQ,null,1,null)))),null,1,null),$APP.F([new $APP.J(null,GC,null,1,null),new $APP.J(null,c,null,1,null)]))))),null,1,null),$APP.F([new $APP.J(null,$APP.U.o($APP.x($APP.Q.j(new $APP.J(null,tF,null,1,null),new $APP.J(null,$APP.U.o($APP.x($APP.Q.A(new $APP.J(null,$APP.ZS,null,1,
null),new $APP.J(null,"Elapsed time: ",null,1,null),$APP.F([new $APP.J(null,$APP.U.o($APP.x($APP.Q.A(new $APP.J(null,WH,null,1,null),new $APP.J(null,$APP.U.o($APP.x($APP.Q.A(new $APP.J(null,jba,null,1,null),new $APP.J(null,$APP.U.o($APP.x($APP.Q.o(new $APP.J(null,HQ,null,1,null)))),null,1,null),$APP.F([new $APP.J(null,MS,null,1,null)])))),null,1,null),$APP.F([new $APP.J(null,6,null,1,null)])))),null,1,null),new $APP.J(null," msecs",null,1,null)])))),null,1,null)))),null,1,null),new $APP.J(null,GC,
null,1,null)]))))};
var rda=$APP.cr(AJ,null),sda=new $APP.n(null,3,[Os,new $APP.n(null,4,[US,function(){var a=new $APP.Cd(function(){return XV},FN,$APP.ti([$APP.$q,$APP.T,$APP.wm,$APP.vD,$APP.Un,$APP.xm,$APP.fr,$APP.oT,$APP.V,$APP.X,$APP.nS],[pK,US,"scittle/core.cljs",28,1,13,!0,13,$APP.P(new $APP.N(null,1,5,$APP.O,[dJ],null)),"Evaluates expr and prints the time it took. Returns the value of expr.",$APP.p(XV)?XV.X:null])),b=$APP.u(a);a=$APP.we(a);var c=$APP.p(null)?null:$APP.T.o(a),d=new $APP.n(null,4,[$APP.$q,WV,$APP.T,
c,$APP.V,$APP.V.o(a),$APP.X,$APP.X.o(a)],null);return $APP.p($APP.es.o(a))?$APP.qy(c,b,d):$APP.p($APP.fr.o(a))?$APP.ry(c,b,d):$APP.py(c,b,d)}(),YC,function(){var a=new $APP.Cd(function(){return Db},HQ,$APP.ti([$APP.$q,$APP.T,$APP.wm,$APP.vD,$APP.Un,$APP.xm,$APP.oT,$APP.V,$APP.X,$APP.nS],[$APP.Ru,YC,"cljs/core.cljs",18,1,399,399,$APP.P($APP.ih),"Returns highest resolution time offered by host in milliseconds.",$APP.p(Db)?Db.X:null])),b=$APP.u(a);a=$APP.we(a);var c=$APP.p(null)?null:$APP.T.o(a),d=new $APP.n(null,
4,[$APP.$q,WV,$APP.T,c,$APP.V,$APP.V.o(a),$APP.X,$APP.X.o(a)],null);return $APP.p($APP.es.o(a))?$APP.qy(c,b,d):$APP.p($APP.fr.o(a))?$APP.ry(c,b,d):$APP.py(c,b,d)}(),QK,Ek,MI,function(){var a=new $APP.Cd(function(){return $APP.wT},$E,$APP.ti([$APP.$q,$APP.T,$APP.wm,$APP.vD,$APP.yJ,$APP.Un,$APP.xm,$APP.oT,$APP.V,$APP.X,$APP.nS],[AJ,MI,"cljs/reader.cljs",18,new $APP.n(null,6,[$APP.ME,!1,$APP.Bv,2,$APP.qR,2,$APP.tN,new $APP.N(null,2,5,$APP.O,[new $APP.N(null,1,5,$APP.O,[oI],null),new $APP.N(null,2,5,
$APP.O,[$APP.nC,oI],null)],null),$APP.V,$APP.P(new $APP.N(null,1,5,$APP.O,[oI],null),new $APP.N(null,2,5,$APP.O,[$APP.nC,oI],null)),$APP.$R,$APP.P(null,null)],null),1,174,174,$APP.P(new $APP.N(null,1,5,$APP.O,[oI],null),new $APP.N(null,2,5,$APP.O,[$APP.nC,oI],null)),"Reads one object from the string s.\n   Returns nil when s is nil or empty.\n\n   Reads data in the edn format (subset of Clojure data):\n   http://edn-format.org\n\n   opts is a map as per cljs.tools.reader.edn/read",$APP.p($APP.wT)?
$APP.wT.X:null])),b=$APP.u(a);a=$APP.we(a);var c=$APP.p(null)?null:$APP.T.o(a),d=new $APP.n(null,4,[$APP.$q,rda,$APP.T,c,$APP.V,$APP.V.o(a),$APP.X,$APP.X.o(a)],null);return $APP.p($APP.es.o(a))?$APP.qy(c,b,d):$APP.p($APP.fr.o(a))?$APP.ry(c,b,d):$APP.py(c,b,d)}()],null),$Q,new $APP.n(null,2,[LF,Ua,HE,$APP.Ta],null),KR,new $APP.n(null,2,[daa,wy,PJ,function(a){return tr(a)}],null)],null),tda=$APP.Yj.o,YV,ZV=$APP.ag(new $APP.n(null,3,[$APP.Sr,sda,ty,new $APP.n(null,3,[mK,globalThis,Mt,fu,LJ,Math],null),
lu,new $APP.n(null,1,[IN,$APP.vN],null)],null)),uda=$APP.Re.j(ZV,tp),vda=$APP.Re.j(ZV,$APP.Sr),wda=$APP.Re.j(ZV,lu),xda=$APP.Re.j(ZV,du),yda=$APP.Re.j(ZV,Ir),zda=$APP.Re.j(ZV,Rn),$V=$APP.Re.j(ZV,sy),aW=$APP.Re.j(ZV,Lr),Ada=$APP.Re.j(ZV,ts),bW=$APP.Re.j(ZV,Mt),Bda=$APP.Re.j(ZV,ru),Cda=$APP.Re.j(ZV,iy),Dda=$APP.Re.j(ZV,eu),cW=$APP.Re.j(ZV,Pu),Eda=$APP.Re.j(ZV,wO),Fda=$APP.Re.j(ZV,ty),dW=$APP.p(aW)?aW:$APP.Yj.o($APP.$f),Gda=$APP.mm.A($APP.F([$APP.$f,Ada])),Hda=$APP.mm.A($APP.F([qda,wda])),eW=$APP.mm.A($APP.F([pda,
Fda])),Ida=ly(eW);jy(dW,yda,Dda,vda,Ida,eW,Gda,Bda,Cda,xda,Hda);YV=$APP.Ni.A(new $APP.n(null,5,[Ir,$APP.$f,Lr,dW,tp,uda,Rn,zda,Lw,$APP.p(bW)?bW:cW],null),Mt,$APP.p(bW)?ky($APP.Ri,$APP.F([bW])):null,$APP.F([Pu,$APP.p(cW)?ky($APP.Ri,$APP.F([cW])):null,sy,$APP.p($V)?$V:my,wO,Eda]));$APP.Iy=tda.call($APP.Yj,YV);$APP.Ky=$APP.Cg($APP.u($APP.Vr));ma("scittle.core.eval_string",$APP.My);
var Oy=function Oy(a){var c=$APP.y(a);if($APP.p(c)){var d=$APP.bg($APP.Ta(c,"textContent"));if($APP.p(d)){var e=$APP.t.o($APP.Ao.o("scittle-tag-"));c.scittle_id=e;$APP.Zj.J($APP.Iy,$APP.Tr,new $APP.N(null,2,5,$APP.O,[Hy,e],null),d);e=$APP.Zf([Dr,e]);$APP.Pq(e);try{$APP.My(d)}finally{$APP.Rq()}d=$APP.Jd(a);return Oy.o?Oy.o(d):Oy.call(null,d)}var f=c.getAttribute("src");d=new XMLHttpRequest;d.open("GET",f,!0);Ua(d,"onload",function(){var g=$APP.Ta(this,"response");c.scittle_id=f;$APP.Zj.J($APP.Iy,$APP.Tr,
new $APP.N(null,2,5,$APP.O,[Hy,f],null),g);var k=$APP.Zf([Dr,f]);$APP.Pq(k);try{$APP.My(g)}finally{$APP.Rq()}g=$APP.Jd(a);return Oy.o?Oy.o(g):Oy.call(null,g)});return d.send()}return null};ma("scittle.core.eval_script_tags",Py);var fW=$APP.Cg(!1);ma("scittle.core.disable_auto_eval",function(){return $APP.jd(fW,!0)});document.addEventListener("DOMContentLoaded",function(){return $APP.p($APP.u(fW))?null:Py()},!1);sb();var Jda=$APP.rU,Kda=$APP.yg($APP.rb),Lda=dw;dw=!0;try{xT.j(Jda,Kda)}finally{dw=Lda};var Mda,Nda,hW,iW;Mda=$APP.cb("Opera");$APP.gW=$APP.cb("Trident")||$APP.cb("MSIE");Nda=$APP.cb("Edge");hW=$APP.cb("Gecko")&&!(-1!=bb.toLowerCase().indexOf("webkit")&&!$APP.cb("Edge"))&&!($APP.cb("Trident")||$APP.cb("MSIE"))&&!$APP.cb("Edge");iW=-1!=bb.toLowerCase().indexOf("webkit")&&!$APP.cb("Edge");iW&&$APP.cb("Mobile");$APP.cb("Macintosh");$APP.cb("Windows");$APP.cb("Linux")||$APP.cb("CrOS");var jW=$APP.la.navigator||null;jW&&(jW.appVersion||"").indexOf("X11");$APP.cb("Android");Qy();$APP.cb("iPad");
$APP.cb("iPod");Qy()||$APP.cb("iPad")||$APP.cb("iPod");bb.toLowerCase().indexOf("kaios");
a:{var lW="",mW=function(){if(hW)return/rv:([^\);]+)(\)|;)/.exec(bb);if(Nda)return/Edge\/([\d\.]+)/.exec(bb);if($APP.gW)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(bb);if(iW)return/WebKit\/(\S+)/.exec(bb);if(Mda)return/(?:Version)[ \/]?(\S+)/.exec(bb)}();mW&&(lW=mW?mW[1]:"");if($APP.gW){var nW,oW=$APP.la.document;nW=oW?oW.documentMode:void 0;if(null!=nW&&nW>parseFloat(lW)){$APP.kW=String(nW);break a}}$APP.kW=lW};try{(new self.OffscreenCanvas(0,0)).getContext("2d")}catch(a){};var Ry=0,Sy={};Ty.prototype.$d=!1;Ty.prototype.dispose=function(){if(!this.$d&&(this.$d=!0,this.Zd(),0!=Ry)){var a=$APP.xa(this);if(0!=Ry&&this.Nd&&0<this.Nd.length)throw Error(this+" did not empty its onDisposeCallbacks queue. This probably means it overrode dispose() or disposeInternal() without calling the superclass' method.");delete Sy[a]}};Ty.prototype.Zd=function(){if(this.Nd)for(;this.Nd.length;)this.Nd.shift()()};Uy.prototype.stopPropagation=function(){this.me=!0};Uy.prototype.preventDefault=function(){this.defaultPrevented=!0};var kz=function(){if(!$APP.la.addEventListener||!Object.defineProperty)return!1;var a=!1,b=Object.defineProperty({},"passive",{get:function(){a=!0}});try{$APP.la.addEventListener("test",$APP.na,b),$APP.la.removeEventListener("test",$APP.na,b)}catch(c){}return a}();$APP.Da(Vy,Uy);var Oda={2:"touch",3:"pen",4:"mouse"};
Vy.prototype.init=function(a,b){var c=this.type=a.type,d=a.changedTouches&&a.changedTouches.length?a.changedTouches[0]:null;this.target=a.target||a.srcElement;this.currentTarget=b;if(b=a.relatedTarget){if(hW){a:{try{Ea(b.nodeName);var e=!0;break a}catch(f){}e=!1}e||(b=null)}}else"mouseover"==c?b=a.fromElement:"mouseout"==c&&(b=a.toElement);this.relatedTarget=b;d?(this.clientX=void 0!==d.clientX?d.clientX:d.pageX,this.clientY=void 0!==d.clientY?d.clientY:d.pageY,this.screenX=d.screenX||0,this.screenY=
d.screenY||0):(this.offsetX=iW||void 0!==a.offsetX?a.offsetX:a.layerX,this.offsetY=iW||void 0!==a.offsetY?a.offsetY:a.layerY,this.clientX=void 0!==a.clientX?a.clientX:a.pageX,this.clientY=void 0!==a.clientY?a.clientY:a.pageY,this.screenX=a.screenX||0,this.screenY=a.screenY||0);this.button=a.button;this.keyCode=a.keyCode||0;this.key=a.key||"";this.charCode=a.charCode||("keypress"==c?a.keyCode:0);this.ctrlKey=a.ctrlKey;this.altKey=a.altKey;this.shiftKey=a.shiftKey;this.metaKey=a.metaKey;this.pointerId=
a.pointerId||0;this.pointerType="string"===typeof a.pointerType?a.pointerType:Oda[a.pointerType]||"";this.state=a.state;this.ae=a;a.defaultPrevented&&Vy.re.preventDefault.call(this)};Vy.prototype.stopPropagation=function(){Vy.re.stopPropagation.call(this);this.ae.stopPropagation?this.ae.stopPropagation():this.ae.cancelBubble=!0};Vy.prototype.preventDefault=function(){Vy.re.preventDefault.call(this);var a=this.ae;a.preventDefault?a.preventDefault():a.returnValue=!1};var Wy=0;var fz="closure_listenable_"+(1E6*Math.random()|0);Zy.prototype.add=function(a,b,c,d,e){var f=a.toString();a=this.Yb[f];a||(a=this.Yb[f]=[],this.te++);var g=bz(a,b,d,e);-1<g?(b=a[g],c||(b.xe=!1)):(b=new Xy(b,this.src,f,!!d,e),b.xe=c,a.push(b));return b};Zy.prototype.remove=function(a,b,c,d){a=a.toString();if(!(a in this.Yb))return!1;var e=this.Yb[a];b=bz(e,b,c,d);return-1<b?(Yy(e[b]),Array.prototype.splice.call(e,b,1),0==e.length&&(delete this.Yb[a],this.te--),!0):!1};
Zy.prototype.If=function(a,b,c,d){a=this.Yb[a.toString()];var e=-1;a&&(e=bz(a,b,c,d));return-1<e?a[e]:null};var iz="closure_lm_"+(1E6*Math.random()|0),qz={},mz=0,rz="__closure_events_fn_"+(1E9*Math.random()>>>0);$APP.Da($APP.sz,Ty);$APP.sz.prototype[fz]=!0;$APP.m=$APP.sz.prototype;$APP.m.addEventListener=function(a,b,c,d){$APP.dz(this,a,b,c,d)};$APP.m.removeEventListener=function(a,b,c,d){oz(this,a,b,c,d)};
$APP.m.dispatchEvent=function(a){var b,c=this.Pf;if(c)for(b=[];c;c=c.Pf)b.push(c);c=this.rh;var d=a.type||a;if("string"===typeof a)a=new Uy(a,c);else if(a instanceof Uy)a.target=a.target||c;else{var e=a;a=new Uy(d,c);$APP.Wa(a,e)}e=!0;if(b)for(var f=b.length-1;!a.me&&0<=f;f--){var g=a.currentTarget=b[f];e=tz(g,d,!0,a)&&e}a.me||(g=a.currentTarget=c,e=tz(g,d,!0,a)&&e,a.me||(e=tz(g,d,!1,a)&&e));if(b)for(f=0;!a.me&&f<b.length;f++)g=a.currentTarget=b[f],e=tz(g,d,!1,a)&&e;return e};
$APP.m.Zd=function(){$APP.sz.re.Zd.call(this);if(this.Rc){var a=this.Rc,b=0,c;for(c in a.Yb){for(var d=a.Yb[c],e=0;e<d.length;e++)++b,Yy(d[e]);delete a.Yb[c];a.te--}}this.Pf=null};$APP.m.listen=function(a,b,c,d){return this.Rc.add(String(a),b,!1,c,d)};$APP.m.If=function(a,b,c,d){return this.Rc.If(String(a),b,c,d)};
}).call(this);</script><script type="text/javascript">(function(){
'use strict';var t7=function(a,b){b&=63;if(0==b)return a;var c=a.ua;return 32>b?$APP.Ha(a.Ua>>>b|c<<32-b,c>>>b):32==b?$APP.Ha(c,0):$APP.Ha(c>>>b-32,0)},Eka=function(a){var b=Dka;return Object.prototype.hasOwnProperty.call(b,9)?b[9]:b[9]=a(9)},u7=function(a,b){return a<b?-1:a>b?1:0},Fka=function(a,b){const c={};for(const d in a)c[d]=b.call(void 0,a[d],d,a);return c},v7=function(a,b,c){a=a.split(b);const d=[];for(;0<c&&a.length;)d.push(a.shift()),c--;a.length&&d.push(a.join(b));return d},w7=function(a){if(null!=
a&&null!=a.ka)a=a.ka(a);else{var b=w7[$APP.oa(null==a?null:a)];if(null!=b)a=b.o?b.o(a):b.call(null,a);else if(b=w7._,null!=b)a=b.o?b.o(a):b.call(null,a);else throw $APP.Bb("ICloneable.-clone",a);}return a},Gka=function(){return Eka(function(){let a=0;const b=(0,$APP.xz)(String($APP.kW)).split("."),c=(0,$APP.xz)("9").split("."),d=Math.max(b.length,c.length);for(let g=0;0==a&&g<d;g++){var e=b[g]||"",f=c[g]||"";do{e=/(\d*)(\D*)(.*)/.exec(e)||["","","",""];f=/(\d*)(\D*)(.*)/.exec(f)||["","","",""];if(0==
e[0].length&&0==f[0].length)break;a=u7(0==e[1].length?0:parseInt(e[1],10),0==f[1].length?0:parseInt(f[1],10))||u7(0==e[2].length,0==f[2].length)||u7(e[2],f[2]);e=e[3];f=f[3]}while(0==a)}return 0<=a})},x7=function(a,b){if("-"==a.charAt(0))return $APP.Ka(x7(a.substring(1),b));var c=parseInt(a,b||10);if(9007199254740991>=c)return new $APP.Ga(c%4294967296|0,c/4294967296|0);if(0==a.length)throw Error("number format error: empty string");if(0<=a.indexOf("-"))throw Error('number format error: interior "-" character: '+
a);b=b||10;if(2>b||36<b)throw Error("radix out of range: "+b);c=$APP.Na(Math.pow(b,8));for(var d=$APP.La,e=0;e<a.length;e+=8){var f=Math.min(8,a.length-e),g=parseInt(a.substring(e,e+f),b);8>f?(f=$APP.Na(Math.pow(b,f)),d=d.multiply(f).add($APP.Na(g))):(d=d.multiply(c),d=d.add($APP.Na(g)))}return d},y7=function(a,b,c){if(null!=a&&null!=a.Ze)a=a.Ze(a,b,c);else{var d=y7[$APP.oa(null==a?null:a)];if(null!=d)a=d.v?d.v(a,b,c):d.call(null,a,b,c);else if(d=y7._,null!=d)a=d.v?d.v(a,b,c):d.call(null,a,b,c);else throw $APP.Bb("AjaxImpl.-js-ajax-request",
a);}return a},z7=function(a){if(null!=a&&null!=a.$e)a=a.$e(a);else{var b=z7[$APP.oa(null==a?null:a)];if(null!=b)a=b.o?b.o(a):b.call(null,a);else if(b=z7._,null!=b)a=b.o?b.o(a):b.call(null,a);else throw $APP.Bb("AjaxRequest.-abort",a);}return a},A7=function(a){if(null!=a&&null!=a.df)a=a.df(a);else{var b=A7[$APP.oa(null==a?null:a)];if(null!=b)a=b.o?b.o(a):b.call(null,a);else if(b=A7._,null!=b)a=b.o?b.o(a):b.call(null,a);else throw $APP.Bb("AjaxResponse.-status",a);}return a},B7=function(a){if(null!=
a&&null!=a.ef)a=a.ef(a);else{var b=B7[$APP.oa(null==a?null:a)];if(null!=b)a=b.o?b.o(a):b.call(null,a);else if(b=B7._,null!=b)a=b.o?b.o(a):b.call(null,a);else throw $APP.Bb("AjaxResponse.-status-text",a);}return a},C7=function(a){if(null!=a&&null!=a.bf)a=a.bf(a);else{var b=C7[$APP.oa(null==a?null:a)];if(null!=b)a=b.o?b.o(a):b.call(null,a);else if(b=C7._,null!=b)a=b.o?b.o(a):b.call(null,a);else throw $APP.Bb("AjaxResponse.-get-all-headers",a);}return a},D7=function(a){if(null!=a&&null!=a.af)a=a.af(a);
else{var b=D7[$APP.oa(null==a?null:a)];if(null!=b)a=b.o?b.o(a):b.call(null,a);else if(b=D7._,null!=b)a=b.o?b.o(a):b.call(null,a);else throw $APP.Bb("AjaxResponse.-body",a);}return a},E7=function(a){if(null!=a&&null!=a.cf)a=a.cf(a,"Content-Type");else{var b=E7[$APP.oa(null==a?null:a)];if(null!=b)a=b.j?b.j(a,"Content-Type"):b.call(null,a,"Content-Type");else if(b=E7._,null!=b)a=b.j?b.j(a,"Content-Type"):b.call(null,a,"Content-Type");else throw $APP.Bb("AjaxResponse.-get-response-header",a);}return a},
F7=function(a){if(null!=a&&null!=a.ff)a=a.ff(a);else{var b=F7[$APP.oa(null==a?null:a)];if(null!=b)a=b.o?b.o(a):b.call(null,a);else if(b=F7._,null!=b)a=b.o?b.o(a):b.call(null,a);else throw $APP.Bb("AjaxResponse.-was-aborted",a);}return a},G7=function(a,b){if(null!=a&&null!=a.xd)a=a.xd(a,b);else{var c=G7[$APP.oa(null==a?null:a)];if(null!=c)a=c.j?c.j(a,b):c.call(null,a,b);else if(c=G7._,null!=c)a=c.j?c.j(a,b):c.call(null,a,b);else throw $APP.Bb("Interceptor.-process-request",a);}return a},H7=function(a,
b){if(null!=a&&null!=a.yd)a=a.yd(a,b);else{var c=H7[$APP.oa(null==a?null:a)];if(null!=c)a=c.j?c.j(a,b):c.call(null,a,b);else if(c=H7._,null!=c)a=c.j?c.j(a,b):c.call(null,a,b);else throw $APP.Bb("Interceptor.-process-response",a);}return a},I7=function(a){throw Error($APP.t.o(a));},Hka=function(a){a=E7(a);return $APP.p(a)?a:""},J7=function(a){return $APP.Te(Ika,a)},K7=function(a){return $APP.Ef(a)?$APP.rr.j("/",$APP.Pl.j($APP.Af,$APP.Yi)(a)):a instanceof $APP.K?$APP.Yi(a):a},Jka=function(a){var b=
$APP.D.v(a,0,null);a=$APP.D.v(a,1,null);return[$APP.t.o(K7(b)),"\x3d",$APP.t.o(L7.o?L7.o(a):L7.call(null,a))].join("")},Kka=function(a,b,c){return new $APP.N(null,2,5,$APP.O,[a.o?a.o(b):a.call(null,b),c],null)},Mka=function(a){var b=function(){var c=$APP.p(a)?a:Lka;c=c instanceof $APP.K?c.ia:null;switch(c){case "java":return function(){return null};case "rails":return function(){return""};case "indexed":return $APP.gf;default:throw Error(["No matching clause: ",$APP.t.o(c)].join(""));}}();return $APP.pm.j(Kka,
b)},N7=function(a,b){return $APP.rr.j("\x26",$APP.wj.j(Jka,M7(Mka(a),null,new $APP.N(null,2,5,$APP.O,[null,b],null))))},O7=function(){return Math.round(15*Math.random()).toString(16)},P7=function(a,b){if(3<a.length){if(b)return!0;b=a.charAt(1);return"~"===a.charAt(0)?":"===b||"$"===b||"#"===b:!1}return!1},Q7=function(a){var b=Math.floor(a/44);a=String.fromCharCode(a%44+48);return 0===b?"^"+a:"^"+String.fromCharCode(b+48)+a},R7=function(){this.th=this.ce=this.gb=0;this.cache={}},S7=function(){this.gb=
0;this.cache=[]},U7=function(a,b){if(null==a)return null==b;if(a===b)return!0;if("object"===typeof a){if(T7(a)){if(T7(b)&&a.length===b.length){for(var c=0;c<a.length;c++)if(!U7(a[c],b[c]))return!1;return!0}return!1}if(a.ic)return a.ic(b);if(null!=b&&"object"===typeof b){if(b.ic)return b.ic(a);c=0;var d=V7(b).length,e;for(e in a)if(a.hasOwnProperty(e)&&(c++,!b.hasOwnProperty(e)||!U7(a[e],b[e])))return!1;return c===d}}return!1},W7=function(a,b){return a^b+2654435769+(a<<6)+(a>>2)},Y7=function(a){var b=
0;if(null!=a.forEach)a.forEach(function(g,k){b=(b+(X7(k)^X7(g)))%4503599627370496});else for(var c=V7(a),d=0;d<c.length;d++){var e=c[d],f=a[e];b=(b+(X7(e)^X7(f)))%4503599627370496}return b},Nka=function(a){var b=0;if(T7(a))for(var c=0;c<a.length;c++)b=W7(b,X7(a[c]));else a.forEach&&a.forEach(function(d){b=W7(b,X7(d))});return b},X7=function(a){if(null==a)return 0;switch(typeof a){case "number":return a;case "boolean":return!0===a?1:0;case "string":var b=Z7[a];if(null!=b)a=b;else{for(var c=b=0;c<a.length;++c)b=
31*b+a.charCodeAt(c),b%=4294967296;$7++;256<=$7&&(Z7={},$7=1);a=Z7[a]=b}return a;case "function":return b=a.transit$hashCode$,b||(b=a8,"undefined"!=typeof Object.defineProperty?Object.defineProperty(a,"transit$hashCode$",{value:b,enumerable:!1}):a.transit$hashCode$=b,a8++),b;default:return a instanceof Date?a.valueOf():T7(a)?Nka(a):a.qc?a.qc():Y7(a)}},b8=function(a,b){this.tag=a;this.rep=b;this.Ra=-1},c8=function(a,b){return new b8(a,b)},d8=function(a){this._name=a;this.Ra=-1},e8=function(a){this._name=
a;this.Ra=-1},f8=function(a,b,c){var d="";c=c||b+1;for(var e=8*(7-b),f=(new $APP.Ga(255,0)).shiftLeft(e);b<c;b++,e-=8,f=t7(f,8)){var g=t7(a.and(f),e).toString(16);1==g.length&&(g="0"+g);d+=g}return d},g8=function(a,b){this.high=a;this.low=b;this.Ra=-1},h8=function(a,b){this.entries=a;this.type=b||0;this.gb=0},j8=function(a,b){this.map=a;this.type=b||0;this.keys=i8(this.map);this.gb=0;this.fd=null;this.Wc=0},m8=function(a,b){if(a instanceof k8&&(b instanceof l8||b instanceof k8)){if(a.size!==b.size)return!1;
for(var c in a.map)for(var d=a.map[c],e=0;e<d.length;e+=2)if(!U7(d[e+1],b.get(d[e])))return!1;return!0}if(a instanceof l8&&(b instanceof l8||b instanceof k8)){if(a.size!==b.size)return!1;a=a.Va;for(e=0;e<a.length;e+=2)if(!U7(a[e+1],b.get(a[e])))return!1;return!0}if(null!=b&&"object"===typeof b&&(e=V7(b),c=e.length,a.size===c)){for(d=0;d<c;d++){var f=e[d];if(!a.has(f)||!U7(b[f],a.get(f)))return!1}return!0}return!1},n8=function(a){return null==a?"null":"array"===$APP.oa(a)?"["+a.toString()+"]":"string"===
$APP.oa(a)?'"'+a+'"':a.toString()},o8=function(a){var b=0,c="TransitMap {";a.forEach(function(d,e){c+=n8(e)+" \x3d\x3e "+n8(d);b<a.size-1&&(c+=", ");b++});return c+"}"},Oka=function(a){var b=0,c="TransitSet {";a.forEach(function(d){c+=n8(d);b<a.size-1&&(c+=", ");b++});return c+"}"},l8=function(a){this.Va=a;this.Sa=null;this.Ra=-1;this.size=a.length/2;this.fg=0},k8=function(a,b,c){this.map=b||{};this.wd=a||[];this.size=c||0;this.Ra=-1},i8=function(a){return null!=a.wd?a.wd:V7(a.map)},p8=function(a,
b,c){a=a||[];b=!1===b?b:!0;if((!0!==c||!c)&&64>=a.length){if(b){var d=a;a=[];for(b=0;b<d.length;b+=2){var e=!1;for(c=0;c<a.length;c+=2)if(U7(a[c],d[b])){a[c+1]=d[b+1];e=!0;break}e||(a.push(d[b]),a.push(d[b+1]))}}return new l8(a)}d={};e=[];var f=0;for(b=0;b<a.length;b+=2){c=X7(a[b]);var g=d[c];if(null==g)e.push(c),d[c]=[a[b],a[b+1]],f++;else{var k=!0;for(c=0;c<g.length;c+=2)if(U7(g[c],a[b])){g[c+1]=a[b+1];k=!1;break}k&&(g.push(a[b]),g.push(a[b+1]),f++)}}return new k8(e,d,f)},q8=function(a){this.map=
a;this.size=a.size},r8=function(a){a=a||[];for(var b={},c=[],d=0,e=0;e<a.length;e++){var f=X7(a[e]),g=b[f];if(null==g)c.push(f),b[f]=[a[e],a[e]],d++;else{f=!0;for(var k=0;k<g.length;k+=2)if(U7(g[k],a[e])){f=!1;break}f&&(g.push(a[e]),g.push(a[e]),d++)}}return new q8(new k8(c,b,d))},s8=function(a){this.Pb=a},t8=function(a){this.options=a||{};this.handlers={};for(var b in this.defaults.handlers)this.handlers[b]=this.defaults.handlers[b];for(b in this.options.handlers){a:{switch(b){case "_":case "s":case "?":case "i":case "d":case "b":case "'":case "array":case "map":a=
!0;break a}a=!1}if(a)throw Error('Cannot override handler for ground type "'+b+'"');this.handlers[b]=this.options.handlers[b]}this.Me=null!=this.options.preferStrings?this.options.preferStrings:this.defaults.Me;this.Qf=null!=this.options.preferBuffers?this.options.preferBuffers:this.defaults.Qf;this.Gf=this.options.defaultHandler||this.defaults.Gf;this.kc=this.options.mapBuilder;this.zd=this.options.arrayBuilder},Pka=function(a,b,c,d,e){if(e){var f=[];for(e=0;e<b.length;e++)f.push(a.decode(b[e],c,
d,!1));return f}f=c&&c.gb;if(2===b.length&&"string"===typeof b[0]&&(e=a.decode(b[0],c,!1,!1))&&e instanceof s8)return b=b[1],f=a.handlers[e.Pb],null!=f?f=f(a.decode(b,c,d,!0),a):c8(e.Pb,a.decode(b,c,d,!1));c&&f!=c.gb&&(c.gb=f);if(a.zd){if(32>=b.length&&a.zd.fromArray){f=[];for(e=0;e<b.length;e++)f.push(a.decode(b[e],c,d,!1));return a.zd.fromArray(f,b)}f=a.zd.init(b);for(e=0;e<b.length;e++)f=a.zd.add(f,a.decode(b[e],c,d,!1),b);return a.zd.finalize(f,b)}f=[];for(e=0;e<b.length;e++)f.push(a.decode(b[e],
c,d,!1));return f},u8=function(a,b){if("~"===b.charAt(0)){var c=b.charAt(1);if("~"===c||"^"===c||"`"===c)return b.substring(1);if("#"===c)return new s8(b.substring(2));var d=a.handlers[c];return null==d?a.Gf(c,b.substring(2)):d(b.substring(2),a)}return b},Qka=function(a){this.Mh=new t8(a)},v8=function(a,b){this.yi=a;this.options=b||{};this.cache=this.options.cache?this.options.cache:new S7},y8=function(a){if(null==a)return"null";if(a===String)return"string";if(a===Boolean)return"boolean";if(a===Number)return"number";
if(a===Array)return"array";if(a===Object)return"map";var b=a[w8];null==b&&("undefined"!=typeof Object.defineProperty?(b=++x8,Object.defineProperty(a,w8,{value:b,enumerable:!1})):a[w8]=b=++x8);return b},z8=function(a,b){a=a.toString();for(var c=a.length;c<b;c++)a="0"+a;return a},A8=function(){},B8=function(){},C8=function(){},D8=function(){},E8=function(){},F8=function(){},G8=function(){},H8=function(){},I8=function(){},J8=function(){},K8=function(){},L8=function(){},M8=function(){},N8=function(){},
O8=function(){},P8=function(){},Q8=function(){},R8=function(){},S8=function(){this.handlers={};this.set(null,new A8);this.set(String,new B8);this.set(Number,new C8);this.set($APP.Ga,new D8);this.set(Boolean,new E8);this.set(Array,new F8);this.set(Object,new G8);this.set(Date,new I8);this.set(g8,new J8);this.set(d8,new K8);this.set(e8,new L8);this.set(b8,new M8);this.set(q8,new N8);this.set(l8,new O8);this.set(k8,new P8);"undefined"!=typeof $APP.la.Buffer&&this.set($APP.la.Buffer,new Q8);"undefined"!=
typeof Uint8Array&&this.set(Uint8Array,new R8)},T8=function(a){this.yc=a||{};this.Me=null!=this.yc.preferStrings?this.yc.preferStrings:!0;this.Jg=this.yc.objectBuilder||null;this.transform=this.yc.transform||null;this.handlers=new S8;if(a=this.yc.handlers){if(T7(a)||!a.forEach)throw Error('transit writer "handlers" option must be a map');var b=this;a.forEach(function(c,d){if(void 0!==d)b.handlers.set(d,c);else throw Error("Cannot create handler for JavaScript undefined");})}this.de=this.yc.handlerForForeign;
this.Te=this.yc.unpack||function(c){return c instanceof l8&&null===c.Sa?c.Va:!1};this.ue=this.yc&&this.yc.verbose||!1},U8=function(a,b,c,d,e){a=a+b+c;return e?e.write(a,d):a},Rka=function(a,b,c){var d=[];if(T7(b))for(var e=0;e<b.length;e++)d.push(V8(a,b[e],!1,c));else b.forEach(function(f){d.push(V8(a,f,!1,c))});return d},W8=function(a,b){return"string"!==typeof b?(a=a.handler(b))&&1===a.tag(b).length:!0},X8=function(a,b){var c=a.Te(b),d=!0;if(c){for(b=0;b<c.length&&(d=W8(a,c[b]),d);b+=2);return d}if(b.keys){c=
b.keys();var e=null;if(c.next){for(e=c.next();!e.done;){d=W8(a,e.value);if(!d)break;e=c.next()}return d}}if(b.forEach)return b.forEach(function(f,g){d=d&&W8(a,g)}),d;throw Error("Cannot walk keys of object type "+(null==b?null:b.constructor).name);},Ska=function(a){if(a.constructor.transit$isObject)return!0;var b=a.constructor.toString();b=b.substr(9);b=b.substr(0,b.indexOf("("));b="Object"==b;"undefined"!=typeof Object.defineProperty?Object.defineProperty(a.constructor,"transit$isObject",{value:b,
enumerable:!1}):a.constructor.transit$isObject=b;return b},Tka=function(a,b,c){var d=null,e=null,f=null;d=null;var g=0;if(b.constructor===Object||null!=b.forEach||a.de&&Ska(b)){if(a.ue){if(null!=b.forEach)if(X8(a,b)){var k={};b.forEach(function(l,h){k[V8(a,h,!0,!1)]=V8(a,l,!1,c)})}else{d=a.Te(b);e=[];f=U8("~#","cmap","",!0,c);if(d)for(;g<d.length;g+=2)e.push(V8(a,d[g],!1,!1)),e.push(V8(a,d[g+1],!1,c));else b.forEach(function(l,h){e.push(V8(a,h,!1,!1));e.push(V8(a,l,!1,c))});k={};k[f]=e}else for(d=
V7(b),k={};g<d.length;g++)k[V8(a,d[g],!0,!1)]=V8(a,b[d[g]],!1,c);return k}if(null!=b.forEach){if(X8(a,b)){d=a.Te(b);k=["^ "];if(d)for(;g<d.length;g+=2)k.push(V8(a,d[g],!0,c)),k.push(V8(a,d[g+1],!1,c));else b.forEach(function(l,h){k.push(V8(a,h,!0,c));k.push(V8(a,l,!1,c))});return k}d=a.Te(b);e=[];f=U8("~#","cmap","",!0,c);if(d)for(;g<d.length;g+=2)e.push(V8(a,d[g],!1,c)),e.push(V8(a,d[g+1],!1,c));else b.forEach(function(l,h){e.push(V8(a,h,!1,c));e.push(V8(a,l,!1,c))});return[f,e]}k=["^ "];for(d=V7(b);g<
d.length;g++)k.push(V8(a,d[g],!0,c)),k.push(V8(a,b[d[g]],!1,c));return k}if(null!=a.Jg)return a.Jg(b,function(l){return V8(a,l,!0,c)},function(l){return V8(a,l,!1,c)});g=(null==b?null:b.constructor).name;d=Error("Cannot write "+g);d.data={Of:b,type:g};throw d;},V8=function(a,b,c,d){null!==a.transform&&(b=a.transform(b));var e=a.handler(b)||(a.de?a.de(b,a.handlers):null),f=e?e.tag(b):null,g=e?e.rep(b):null;if(null!=e&&null!=f)switch(f){case "_":return c?U8("~","_","",c,d):null;case "s":return 0<g.length?
(a=g.charAt(0),a="~"===a||"^"===a||"`"===a?"~"+g:g):a=g,U8("","",a,c,d);case "?":return c?U8("~","?",g.toString()[0],c,d):g;case "i":return Infinity===g?U8("~","z","INF",c,d):-Infinity===g?U8("~","z","-INF",c,d):isNaN(g)?U8("~","z","NaN",c,d):c||"string"===typeof g||g instanceof $APP.Ga?U8("~","i",g.toString(),c,d):g;case "d":return c?U8(g.Ci,"d",g,c,d):g;case "b":return U8("~","b",g,c,d);case "'":return a.ue?(c={},b=U8("~#","'","",!0,d),c[b]=V8(a,g,!1,d),d=c):d=[U8("~#","'","",!0,d),V8(a,g,!1,d)],
d;case "array":return Rka(a,g,d);case "map":return Tka(a,g,d);default:a:{if(1===f.length){if("string"===typeof g){d=U8("~",f,g,c,d);break a}if(c||a.Me){(a=a.ue&&e.getVerboseHandler())?(f=a.tag(b),g=a.stringRep(b,a)):g=e.stringRep(b,e);if(null!==g){d=U8("~",f,g,c,d);break a}d=Error('Tag "'+f+'" cannot be encoded as string');d.data={tag:f,rep:g,Of:b};throw d;}}c=f;b=g;a.ue?(e={},e[U8("~#",c,"",!0,d)]=V8(a,b,!1,d),d=e):d=[U8("~#",c,"",!0,d),V8(a,b,!1,d)]}return d}else throw d=(null==b?null:b.constructor).name,
a=Error("Cannot write "+d),a.data={Of:b,type:d},a;},Y8=function(a,b){this.Pd=a;this.options=b||{};this.cache=!1===this.options.cache?null:this.options.cache?this.options.cache:new R7},Uka=function(a,b){if("json"===a||"json-verbose"===a||null==a)return a=new Qka(b),new v8(a,b);throw Error("Cannot create reader of type "+a);},Vka=function(a,b){if("json"===a||"json-verbose"===a||null==a)return"json-verbose"===a&&(null==b&&(b={}),b.verbose=!0),a=new T8(b),new Y8(a,b);b=Error('Type must be "json"');b.data=
{type:a};throw b;},Z8=function(a,b){for(var c=$APP.x($APP.Sa(b)),d=null,e=0,f=0;;)if(f<e){var g=d.fa(null,f);a[g]=$APP.Ta(b,g);f+=1}else if(c=$APP.x(c))d=c,$APP.He(d)?(c=$APP.bd(d),f=$APP.cd(d),d=c,e=$APP.ge(c),c=f):(c=$APP.y(d),a[c]=$APP.Ta(b,c),c=$APP.z(d),d=null,e=0),f=0;else break;return a},$8=function(){},a9=function(){},dla=function(a){return Uka($APP.Yi(b9),Z8({handlers:$APP.hB($APP.mm.A($APP.F([new $APP.n(null,6,["$",function(b){return $APP.Gj.o(b)},":",function(b){return $APP.xj.o(b)},"set",
function(b){return $APP.Nh.j($APP.Ri,b)},"list",function(b){return $APP.Nh.j($APP.Id,b.reverse())},"cmap",function(b){for(var c=0,d=$APP.Sc($APP.$f);;)if(c<b.length){var e=c+2;d=$APP.Qh.v(d,b[c],b[c+1]);c=e}else return $APP.Uc(d)},"with-meta",function(b){return $APP.ve(b[0],b[1])}],null),$APP.nm.j(c9.o(a),$APP.Sn)]))),defaultHandler:$APP.Sn.o(c9.o(a)),mapBuilder:new $8,arrayBuilder:new a9,preferStrings:!1,preferBuffers:!1},$APP.hB($APP.px($APP.nm.j(a,c9),new $APP.n(null,4,[Wka,Xka,Yka,Zka,$ka,ala,
bla,cla],null)))))},d9=function(){},e9=function(){},f9=function(){},g9=function(){},h9=function(){},i9=function(){},j9=function(){},ela=function(a,b){this.value=a;this.meta=b},k9=function(){},fla=function(a,b){var c=new f9,d=new g9,e=new h9,f=new i9,g=$APP.mm.A($APP.F([$APP.ti([$APP.si,$APP.vf,$APP.n,$APP.ji,$APP.yh,$APP.Fd,$APP.K,$APP.Ai,$APP.rf,$APP.Ff,$APP.oh,$APP.xh,$APP.ni,$APP.Ji,ela,$APP.Gh,$APP.N,$APP.J,$APP.ke,$APP.Qi,$APP.Fi,$APP.Hi,$APP.kh,$APP.Vi,$APP.Kf,$APP.v,$APP.Dk,$APP.ej,$APP.xi,
$APP.zi],[d,c,d,c,c,c,new d9,f,c,c,f,c,c,c,new k9,c,f,c,c,e,d,c,c,e,c,new e9,new j9,c,c,f]),"undefined"!==typeof $APP.cg&&"undefined"!==typeof $APP.dg&&"undefined"!==typeof $APP.Qj?$APP.Zf([$APP.Qj,c]):null,"undefined"!==typeof $APP.cg&&"undefined"!==typeof $APP.dg&&"undefined"!==typeof $APP.Kg?$APP.Zf([$APP.Kg,c]):null,"undefined"!==typeof $APP.cg&&"undefined"!==typeof $APP.dg&&"undefined"!==typeof $APP.Ue?$APP.Zf([$APP.Ue,f]):null,c9.o(b)]));return Vka($APP.Yi(a),Z8({objectBuilder:function(k,l,
h){return $APP.ff(function(r,q,w){r.push(l.o?l.o(q):l.call(null,q),h.o?h.o(w):h.call(null,w));return r},["^ "],k)},handlers:function(){var k=w7(g);k.forEach=function(l){for(var h=$APP.x(this),r=null,q=0,w=0;;)if(w<q){var C=r.fa(null,w),G=$APP.D.v(C,0,null);C=$APP.D.v(C,1,null);$APP.A.j($APP.Sn,G)?l.j?l.j(C,"default"):l.call(null,C,"default"):l.j?l.j(C,G):l.call(null,C,G);w+=1}else if(h=$APP.x(h))$APP.He(h)?(r=$APP.bd(h),h=$APP.cd(h),G=r,q=$APP.ge(r),r=G):(r=$APP.y(h),G=$APP.D.v(r,0,null),C=$APP.D.v(r,
1,null),$APP.A.j($APP.Sn,G)?l.j?l.j(C,"default"):l.call(null,C,"default"):l.j?l.j(C,G):l.call(null,C,G),h=$APP.z(h),r=null,q=0),w=0;else return null};return k}(),unpack:function(k){return k instanceof $APP.n?k.K:!1}},$APP.hB($APP.nm.j(b,c9))))},l9=function(a,b,c,d,e,f){this.name=a;this.request=b;this.response=c;this.O=d;this.G=e;this.N=f;this.M=2230716170;this.R=139264},m9=function(a){return $APP.rr.j(", ","string"===typeof a?new $APP.N(null,1,5,$APP.O,[a],null):a)},n9=function(a,b,c,d,e,f){this.read=
a;this.description=b;this.rc=c;this.O=d;this.G=e;this.N=f;this.M=2230716170;this.R=139264},r9=function(a){var b=$APP.nm.A(a,o9,$APP.F([p9,q9]));b=$APP.Fe(a)?$APP.Nh.j($APP.$f,b):b;return new n9(o9.o(a),p9.o(a),q9.o(a),null,$APP.bg(b),null)},s9=function(a,b,c){this.O=a;this.G=b;this.N=c;this.M=2230716170;this.R=139264},hla=function(a,b){var c=$APP.ag(a);a=$APP.Re.j(c,t9);var d=$APP.Re.j(c,$APP.Zr),e=$APP.Re.j(c,u9);c=$APP.Re.j(c,gla);d=$APP.A.j(e,"GET")&&null==c?d:c;return $APP.p(d)?[$APP.t.o(b),$APP.p($APP.kj(/\?/,
b))?"\x26":"?",N7(a,d)].join(""):b},v9=function(a,b,c){this.O=a;this.G=b;this.N=c;this.M=2230716170;this.R=139264},w9=function(a,b,c){this.O=a;this.G=b;this.N=c;this.M=2230716170;this.R=139264},ila=function(a){var b=x9;a=$APP.ag(a);var c=$APP.Re.j(a,y9);return c instanceof n9?c:$APP.Ge(c)?b.o?b.o(a):b.call(null,a):$APP.Ee(c)?r9(c):c instanceof $APP.K?I7(new $APP.N(null,2,5,$APP.O,["keywords are not allowed as response formats in ajax calls: ",c],null)):$APP.Oe(c)?r9(new $APP.n(null,3,[o9,c,p9,"custom",
q9,"*/*"],null)):I7(new $APP.N(null,2,5,$APP.O,["unrecognized response format: ",c],null))},z9=function(a){a=$APP.ag(a);a=$APP.Re.j(a,$APP.tm);return $APP.p(a)?a:b9},kla=function(a,b){var c=function(){var d=jla.o(b);return $APP.p(d)?d:fla(a,b)}();return function(d){return c.write(d)}},mla=function(a){var b=function(){var c=lla.o(a);return $APP.p(c)?c:dla(a)}();return function(c){c=D7(c);return b.read(c)}},B9=function(){return new $APP.n(null,2,[A9,$APP.gf,q9,"text/plain; charset\x3dutf-8"],null)},
D9=function(a,b){a=$APP.Ge(b)?$APP.y(b):q9.o(C9(a,b));return null==a?new $APP.N(null,1,5,$APP.O,["*/*"],null):"string"===typeof a?new $APP.N(null,1,5,$APP.O,[a],null):a},nla=function(a,b,c){b=D9(b,c);return $APP.ug(function(d){return $APP.A.j(d,"*/*")||0<=a.indexOf(d)},b)},ola=function(a,b){var c=$APP.ag(b);b=$APP.Re.j(c,y9);var d=Hka(a);return C9(c,$APP.y($APP.Pg.j(function(e){return nla(d,c,e)},b)))},pla=function(a){return function(b){var c=ola(b,a);c=o9.o(c);return c.o?c.o(b):c.call(null,b)}},
qla=function(a){var b=$APP.ag(a);a=$APP.Re.j(b,y9);return $APP.Ng.A(function(c){return D9(b,c)},$APP.F([$APP.Ge(a)?a:new $APP.N(null,1,5,$APP.O,[a],null)]))},x9=function(a){var b=qla(a);return r9(new $APP.n(null,3,[o9,pla(a),E9,["(from ",$APP.t.o(b),")"].join(""),q9,b],null))},rla=function(a){return function(b){return new $APP.n(null,3,[$APP.$A,A7(b),F9,C7(b),$APP.$r,a.o?a.o(b):a.call(null,b)],null)}},G9=function(a,b,c){if("function"===typeof a)c&&(a=(0,$APP.Ca)(a,c));else if(a&&"function"==typeof a.handleEvent)a=
(0,$APP.Ca)(a.handleEvent,a);else throw Error("Invalid listener argument");return 2147483647<Number(b)?-1:$APP.la.setTimeout(a,b||0)},H9=function(){},J9=function(a){var b;(b=a.mg)||(b={},I9(a)&&(b[0]=!0,b[1]=!0),b=a.mg=b);return b},K9=function(){},L9=function(a){return(a=I9(a))?new ActiveXObject(a):new XMLHttpRequest},I9=function(a){if(!a.Fg&&"undefined"==typeof XMLHttpRequest&&"undefined"!=typeof ActiveXObject){const b=["MSXML2.XMLHTTP.6.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"];
for(let c=0;c<b.length;c++){const d=b[c];try{return new ActiveXObject(d),a.Fg=d}catch(e){}}throw Error("Could not create ActiveXObject. ActiveX might be disabled, or MSXML might not be installed");}return a.Fg},N9=function(a){$APP.sz.call(this);this.headers=new Map;this.Xe=a||null;this.Vc=!1;this.We=this.ra=null;this.Mf="";this.Md=0;this.Je="";this.od=this.Jf=this.Ie=this.Hf=!1;this.se=0;this.Se=null;this.Oe=M9;this.bg=this.Og=this.eg=!1;this.ag=null},sla=function(a){return $APP.gW&&Gka()&&"number"===
typeof a.timeout&&void 0!==a.ontimeout},Q9=function(a,b){a.Vc=!1;a.ra&&(a.od=!0,a.ra.abort(),a.od=!1);a.Je=b;a.Md=5;O9(a);P9(a)},O9=function(a){a.Hf||(a.Hf=!0,a.dispatchEvent("complete"),a.dispatchEvent("error"))},S9=function(a){if(a.Vc&&"undefined"!=typeof $APP.uz)if(a.We[1]&&4==R9(a)&&2==a.getStatus())a.getStatus();else if(a.Ie&&4==R9(a))G9(a.Lg,0,a);else if(a.dispatchEvent("readystatechange"),4==R9(a)){a.getStatus();a.Vc=!1;try{const g=a.getStatus();a:switch(g){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var b=
!0;break a;default:b=!1}var c;if(!(c=b)){var d;if(d=0===g){var e=String(a.Mf).match($APP.zz)[1]||null;if(!e&&$APP.la.self&&$APP.la.self.location){var f=$APP.la.self.location.protocol;e=f.substr(0,f.length-1)}d=!tla.test(e?e.toLowerCase():"")}c=d}c?(a.dispatchEvent("complete"),a.dispatchEvent("success")):(a.Md=6,a.Je=a.getStatusText()+" ["+a.getStatus()+"]",O9(a))}finally{P9(a)}}},T9=function(a,b){return{type:b,lengthComputable:a.lengthComputable,loaded:a.loaded,total:a.total}},P9=function(a,b){if(a.ra){U9(a);
const c=a.ra,d=a.We[0]?$APP.na:null;a.ra=null;a.We=null;b||a.dispatchEvent("ready");try{c.onreadystatechange=d}catch(e){}}},U9=function(a){a.ra&&a.bg&&(a.ra.ontimeout=null);a.Se&&($APP.la.clearTimeout(a.Se),a.Se=null)},R9=function(a){return a.ra?a.ra.readyState:0},ula=function(a){return a instanceof $APP.K?$APP.zl($APP.Yi(a)):a},vla=function(a,b){return H7(b,a)},wla=function(a,b){return function(c){c=$APP.cf.v(vla,c,b);return a.o?a.o(c):a.call(null,c)}},yla=function(a){var b=ila(a);return $APP.jo.v($APP.jo.v(a,
u9,ula),$APP.OM,function(c){return $APP.Q.A(new $APP.N(null,1,5,$APP.O,[b],null),$APP.p(c)?c:$APP.u(V9),$APP.F([xla]))})},zla=function(a,b){return G7(b,a)},X9=function(a){a=yla(a);a=$APP.ag(a);var b=$APP.Re.j(a,$APP.OM);a=$APP.cf.v(zla,a,b);b=$APP.uf(b);var c=$APP.ag(a);c=$APP.Re.j(c,W9);b=$APP.p(c)?wla(c,b):I7("No ajax handler provided.");c=Ala.o(a);c=$APP.p(c)?c:new N9;return y7(c,a,b)},Bla=function(a,b){if($APP.Ee(a))return a;if($APP.te(a))return new $APP.n(null,1,[A9,a],null);if(null==a)return Y9.o(b);
switch(a instanceof $APP.K?a.ia:null){case "transit":return Y9.o(b);case "json":return Z9();case "text":return B9();case "raw":return $9.o(b);case "url":return $9.o(b);default:return null}},Cla=function(a,b){return $APP.Ge(a)?$APP.wg.j($APP.xA,$APP.wj.j(function(c){return a$(c,b)},a)):a$(a,b)},Hla=function(a){a=$APP.ag(a);var b=$APP.Re.j(a,W9),c=$APP.Re.j(a,Dla),d=$APP.Re.j(a,Ela),e=$APP.p(b)?b:$APP.u(Fla),f=$APP.p(c)?c:$APP.u(Gla);return function(g){var k=$APP.D.v(g,0,null);g=$APP.D.v(g,1,null);
k=$APP.p(k)?e:f;k.o?k.o(g):k.call(null,g);return $APP.te(d)?d.C?d.C():d.call(null):null}},c$=function(a,b,c){a=$APP.Ni.A(c,b$,a,$APP.F([u9,b]));a=$APP.ag(a);var d=$APP.Re.j(a,u9);c=$APP.Re.j(a,E9);b=$APP.Re.j(a,y9);$APP.Re.j(a,$APP.Zr);d=null==$APP.Re.j(a,$APP.$r)&&$APP.Mi.j(d,"GET");c=$APP.p($APP.p(c)?c:d)?Bla(c,a):null;a=$APP.Ni.A(a,W9,Hla(a),$APP.F([E9,c,y9,Cla(b,a)]));return X9(a)},Ila=function(a,b){return $APP.p(a)?[$APP.t.o(a),", ",$APP.t.o(b)].join(""):b},Jla=function(a){return $APP.p(a)?$APP.cf.v(function(b,
c){if($APP.p($APP.Ra(c)))return b;c=v7(c,": ",2);return $APP.jo.J(b,c[0],Ila,c[1])},$APP.$f,a.split("\r\n")):$APP.$f};$APP.Fd.prototype.ka=$APP.ja(52,function(){return new $APP.Fd(this.K,this.i,this.meta)});$APP.ke.prototype.ka=$APP.ja(51,function(){return new $APP.ke(this.Sd,this.i,this.meta)});$APP.J.prototype.ka=$APP.ja(50,function(){return new $APP.J(this.meta,this.first,this.zb,this.count,this.N)});$APP.rf.prototype.ka=$APP.ja(49,function(){return new $APP.rf(this.meta)});
$APP.vf.prototype.ka=$APP.ja(48,function(){return new $APP.vf(this.meta,this.first,this.zb,this.N)});$APP.N.prototype.ka=$APP.ja(47,function(){return new $APP.N(this.meta,this.P,this.shift,this.root,this.tail,this.N)});$APP.oh.prototype.ka=$APP.ja(46,function(){return new $APP.oh(this.meta,this.xb,this.start,this.end,this.N)});$APP.yh.prototype.ka=$APP.ja(45,function(){return new $APP.yh(this.meta,this.count,this.Ob,this.Tb,this.N)});
$APP.n.prototype.ka=$APP.ja(44,function(){return new $APP.n(this.meta,this.P,this.K,this.N)});$APP.si.prototype.ka=$APP.ja(43,function(){return new $APP.si(this.meta,this.P,this.root,this.Cb,this.Db,this.N)});$APP.Fi.prototype.ka=$APP.ja(42,function(){return new $APP.Fi(this.Nb,this.mc,this.P,this.meta,this.N)});$APP.Qi.prototype.ka=$APP.ja(41,function(){return new $APP.Qi(this.meta,this.Hc,this.N)});$APP.Vi.prototype.ka=$APP.ja(40,function(){return new $APP.Vi(this.meta,this.ac,this.N)});
$APP.dj.prototype.ka=$APP.ja(39,function(){return new $APP.dj(this.meta,this.start,this.end,this.step,this.vb,this.oc,this.N)});$APP.ej.prototype.ka=$APP.ja(38,function(){return new $APP.ej(this.meta,this.start,this.end,this.step,this.vb,this.oc,this.N)});$APP.Jl.prototype.ka=$APP.ja(37,function(){return new $APP.Jl(this.Ac,this.form,this.O,this.G,this.N)});$APP.bp.prototype.ka=$APP.ja(36,function(){return new $APP.bp(this.row,this.Gc,this.O,this.G,this.N)});
$APP.oq.prototype.ka=$APP.ja(35,function(){return new $APP.oq(this.bb,this.deref,this.nb,this.ob,this.pb,this.quote,this.fn,this.Pa,this.jb,this.kb,this.lb,this.ab,this.fb,this.cb,this.source,this.mb,this.ib,this.hb,this.eb,this.O,this.G,this.N)});$APP.yq.prototype.ka=$APP.ja(34,function(){return new $APP.yq(this.f,this.stack,this.O,this.G,this.N)});$APP.zt.prototype.ka=$APP.ja(33,function(){return new $APP.zt(this.dd,this.type,this.Pa,this.Ib,this.Ke)});
$APP.sv.prototype.ka=$APP.ja(32,function(){return new $APP.sv(this.params,this.body,this.Wb,this.bc,this.$b,this.Xb,this.O,this.G,this.N)});$APP.v.prototype.Y=$APP.ja(31,function(a){return this.U(null,a)});$APP.Fd.prototype.Y=$APP.ja(30,function(a){return this.U(null,a)});$APP.ke.prototype.Y=$APP.ja(29,function(a){return this.U(null,a)});$APP.J.prototype.Y=$APP.ja(28,function(a){return this.U(null,a)});$APP.rf.prototype.Y=$APP.ja(27,function(a){return this.U(null,a)});
$APP.vf.prototype.Y=$APP.ja(26,function(a){return this.U(null,a)});$APP.K.prototype.Y=$APP.ja(25,function(a){return this.U(null,a)});$APP.Ff.prototype.Y=$APP.ja(24,function(a){return this.U(null,a)});$APP.Kf.prototype.Y=$APP.ja(23,function(a){return this.U(null,a)});$APP.zg.prototype.Y=$APP.ja(22,function(a){return this.U(null,a)});$APP.Kg.prototype.Y=$APP.ja(21,function(a){return this.U(null,a)});$APP.N.prototype.Y=$APP.ja(20,function(a){return this.U(null,a)});
$APP.kh.prototype.Y=$APP.ja(19,function(a){return this.U(null,a)});$APP.oh.prototype.Y=$APP.ja(18,function(a){return this.U(null,a)});$APP.xh.prototype.Y=$APP.ja(17,function(a){return this.U(null,a)});$APP.yh.prototype.Y=$APP.ja(16,function(a){return this.U(null,a)});$APP.zh.prototype.Y=$APP.ja(15,function(a){return this.U(null,a)});$APP.Gh.prototype.Y=$APP.ja(14,function(a){return this.U(null,a)});$APP.n.prototype.Y=$APP.ja(13,function(a){return this.U(null,a)});
$APP.ji.prototype.Y=$APP.ja(12,function(a){return this.U(null,a)});$APP.ni.prototype.Y=$APP.ja(11,function(a){return this.U(null,a)});$APP.si.prototype.Y=$APP.ja(10,function(a){return this.U(null,a)});$APP.xi.prototype.Y=$APP.ja(9,function(a){return this.U(null,a)});$APP.Fi.prototype.Y=$APP.ja(8,function(a){return this.U(null,a)});$APP.Hi.prototype.Y=$APP.ja(7,function(a){return this.U(null,a)});$APP.Ji.prototype.Y=$APP.ja(6,function(a){return this.U(null,a)});
$APP.Qi.prototype.Y=$APP.ja(5,function(a){return this.U(null,a)});$APP.Vi.prototype.Y=$APP.ja(4,function(a){return this.U(null,a)});$APP.dj.prototype.Y=$APP.ja(3,function(a){return this.U(null,a)});$APP.ej.prototype.Y=$APP.ja(2,function(a){return this.U(null,a)});$APP.Dk.prototype.Y=$APP.ja(1,function(a){return this.U(null,a)});$APP.Ga.prototype.Ra=$APP.ja(0,function(){return this.Ua^this.ua});
var Dka={},Ala=new $APP.K(null,"api","api",-899839580),Kla=new $APP.v(null,"abort","abort",-2133242571,null),Lla=new $APP.v("ajax.core","default-formats","ajax.core/default-formats",1628437945,null),gla=new $APP.K(null,"url-params","url-params",-697567619),Mla=new $APP.v("ajax.core","default-interceptors","ajax.core/default-interceptors",-559960448,null),d$=new $APP.K(null,"with-credentials","with-credentials",-1163127235),Nla=new $APP.K(null,"aborted","aborted",1775972619),Ola=new $APP.v(null,"transit-request-format",
"transit-request-format",1046391906,null),Pla=new $APP.v("ajax.core","text-response-format","ajax.core/text-response-format",1875705088,null),bla=new $APP.K(null,"prefer-buffers","prefer-buffers",377042081),Qla=new $APP.v(null,"success?","success?",1517677475,null),Rla=new $APP.v("ajax.core","json-request-format","ajax.core/json-request-format",1516018481,null),Sla=new $APP.v(null,"DELETE","DELETE",-965761997,null),Tla=new $APP.v("ajax.core","success?","ajax.core/success?",1435598544,null),Ula=new $APP.K(null,
"raw","raw",1604651272),Vla=new $APP.v(null,"HEAD","HEAD",1903810169,null),A9=new $APP.K(null,"write","write",-1857649168),o9=new $APP.K(null,"read","read",1140058661),Ela=new $APP.K(null,"finally","finally",1589088705),Wla=new $APP.v("ajax.core","ring-response-format","ajax.core/ring-response-format",-1429501748,null),Lka=new $APP.K(null,"java","java",1958249105),Xla=new $APP.v(null,"to-interceptor","to-interceptor",708446535,null),Yla=new $APP.v("ajax.core","to-interceptor","ajax.core/to-interceptor",
643728016,null),c9=new $APP.K(null,"handlers","handlers",79528781),e$=new $APP.K(null,"timeout","timeout",-318625318),Zla=new $APP.K(null,"keywords?","keywords?",764949733),Dla=new $APP.K(null,"error-handler","error-handler",-484945776),p9=new $APP.K(null,"description","description",-1428560544),$la=new $APP.v("ajax.core","json-response-format","ajax.core/json-response-format",358882374,null),b9=new $APP.K(null,"json","json",1279968570),ama=new $APP.K(null,"connection-established","connection-established",
-1403749733),bma=new $APP.v("ajax.core","PUT","ajax.core/PUT",117595477,null),cma=new $APP.v("ajax.core","ajax-request","ajax.core/ajax-request",-913943903,null),dma=new $APP.v(null,"json-response-format","json-response-format",692692627,null),ema=new $APP.v("ajax.core","text-request-format","ajax.core/text-request-format",-1136916927,null),cla=new $APP.K(null,"preferBuffers","preferBuffers",1843176451),fma=new $APP.v(null,"default-formats","default-formats",1427335370,null),Xka=new $APP.K(null,"arrayBuilder",
"arrayBuilder",1446317421),gma=new $APP.K(null,"request-received","request-received",2110590540),Zka=new $APP.K(null,"mapBuilder","mapBuilder",-278083754),ala=new $APP.K(null,"preferStrings","preferStrings",-1532249482),hma=new $APP.v("ajax.core","transit-request-format","ajax.core/transit-request-format",842152849,null),jla=new $APP.K(null,"writer","writer",-277568236),ima=new $APP.v("ajax.core","DELETE","ajax.core/DELETE",-1115542810,null),jma=new $APP.v(null,"detect-response-format","detect-response-format",
1017515132,null),kma=new $APP.K(null,"original-text","original-text",744448452),lma=new $APP.v(null,"raw-response-format","raw-response-format",502782404,null),u9=new $APP.K(null,"method","method",55703592),mma=new $APP.K(null,"failed","failed",-1397425762),nma=new $APP.v("ajax.core","HEAD","ajax.core/HEAD",1834834092,null),f$=new $APP.K(null,"failure","failure",720415879),oma=new $APP.v("ajax.core","raw-response-format","ajax.core/raw-response-format",165303065,null),g$=new $APP.K(null,"response",
"response",-1068424192),pma=new $APP.v(null,"POST","POST",1750988384,null),qma=new $APP.v("ajax.core","detect-response-format","ajax.core/detect-response-format",1220704017,null),rma=new $APP.v("ajax.core","GET","ajax.core/GET",-580027892,null),Yka=new $APP.K(null,"map-builder","map-builder",-1843343288),sma=new $APP.v(null,"PATCH","PATCH",-1233173284,null),h$=new $APP.v(null,"ajax.core","ajax.core",-1363316958,null),tma=new $APP.v(null,"url-request-format","url-request-format",-2082918152,null),
uma=new $APP.v(null,"text-request-format","text-request-format",-1447006052,null),vma=new $APP.v("ajax.core","TRACE","ajax.core/TRACE",-532528279,null),wma=new $APP.K(null,"parse-error","parse-error",255902478),xma=new $APP.v(null,"ajax-request","ajax-request",-1248141866,null),i$=new $APP.K(null,"status-text","status-text",-1834235478),j$=new $APP.v(null,"this","this",1028897902,null),F9=new $APP.K(null,"headers","headers",-835030129),yma=new $APP.v(null,"transit-response-format","transit-response-format",
462907130,null),zma=new $APP.v(null,"TRACE","TRACE",-64041414,null),Ama=new $APP.v("ajax.core","PATCH","ajax.core/PATCH",-1168388223,null),Bma=new $APP.v(null,"PURGE","PURGE",-89476959,null),Cma=new $APP.K(null,"progress-handler","progress-handler",333585589),Dma=new $APP.v(null,"PUT","PUT",-201468416,null),Ema=new $APP.v("ajax.core","OPTIONS","ajax.core/OPTIONS",538242386,null),Fma=new $APP.v("ajax.core","PURGE","ajax.core/PURGE",-850838574,null),lla=new $APP.K(null,"reader","reader",169660853),
t9=new $APP.K(null,"vec-strategy","vec-strategy",1843221372),$ka=new $APP.K(null,"prefer-strings","prefer-strings",1254507185),b$=new $APP.K(null,"uri","uri",-774711847),Gma=new $APP.K(null,"not-initialized","not-initialized",-1937378906),W9=new $APP.K(null,"handler","handler",-195596612),Hma=new $APP.v(null,"default-interceptors","default-interceptors",-893771721,null),k$=new $APP.v(null,"uri","uri",865819680,null),Ima=new $APP.v("ajax.core","url-request-format","ajax.core/url-request-format",-1610761429,
null),Jma=new $APP.K(null,"processing-request","processing-request",-264947221),Kma=new $APP.v("ajax.core","transit-response-format","ajax.core/transit-response-format",1743973673,null),Lma=new $APP.K(null,"json-verbose","json-verbose",-542533531),Mma=new $APP.v("ajax.core","POST","ajax.core/POST",1572763855,null),Nma=new $APP.v(null,"text-response-format","text-response-format",1403741165,null),l$=new $APP.K(null,"response-ready","response-ready",245208276),y9=new $APP.K(null,"response-format","response-format",
1664465322),E9=new $APP.K(null,"format","format",-1306924766),Oma=new $APP.K(null,"parse","parse",-1162164619),Wka=new $APP.K(null,"array-builder","array-builder",1275998041),Pma=new $APP.v(null,"OPTIONS","OPTIONS",742094783,null),Qma=new $APP.v(null,"json-request-format","json-request-format",1446516354,null),m$=new $APP.K(null,"request","request",1772954723),Rma=new $APP.v("ajax.core","abort","ajax.core/abort",-1933719678,null),q9=new $APP.K(null,"content-type","content-type",-508222634),Sma=new $APP.v(null,
"ring-response-format","ring-response-format",-1088027719,null),Tma=new $APP.v(null,"GET","GET",-917844743,null);var Ika=new $APP.Qi(null,new $APP.n(null,7,[206,null,204,null,304,null,1223,null,201,null,202,null,200,null],null),null);var L7=encodeURIComponent,M7=function M7(a,b,c){var e=$APP.D.v(c,0,null);c=$APP.D.v(c,1,null);var f=K7(e);b=$APP.p(b)?$APP.p(e)?[$APP.t.o(b),"[",$APP.t.o(f),"]"].join(""):b:f;e=$APP.pm.v(M7,a,b);return"string"===typeof c?new $APP.N(null,1,5,$APP.O,[new $APP.N(null,2,5,$APP.O,[b,c],null)],null):$APP.Ef(c)?new $APP.N(null,1,5,$APP.O,[new $APP.N(null,2,5,$APP.O,[b,$APP.rr.j("/",$APP.Pl.j($APP.Af,$APP.Yi)(c))],null)],null):c instanceof $APP.K?new $APP.N(null,1,5,$APP.O,[new $APP.N(null,2,5,$APP.O,[b,
$APP.Yi(c)],null)],null):$APP.Ee(c)?$APP.Ng.A(e,$APP.F([$APP.x(c)])):$APP.De(c)||$APP.Be(c)?$APP.Ng.A(e,$APP.F([$APP.Fy.j(a,$APP.x(c))])):new $APP.N(null,1,5,$APP.O,[new $APP.N(null,2,5,$APP.O,[b,c],null)],null)},$9=function $9(a){switch(arguments.length){case 0:return $9.C();case 1:return $9.o(arguments[0]);default:throw Error(["Invalid arity: ",$APP.t.o(arguments.length)].join(""));}};$9.C=function(){return $9.o($APP.$f)};
$9.o=function(a){a=$APP.ag(a);a=$APP.Re.j(a,t9);return new $APP.n(null,2,[A9,$APP.pm.j(N7,a),q9,"application/x-www-form-urlencoded; charset\x3dutf-8"],null)};$9.B=1;var V7="undefined"!=typeof Object.keys?function(a){return Object.keys(a)}:function(a){return $APP.Sa(a)},T7="undefined"!=typeof Array.isArray?function(a){return Array.isArray(a)}:function(a){return"array"===$APP.oa(a)};R7.prototype.write=function(a,b){return P7(a,b)?(4096===this.th?(this.clear(),this.ce=0,this.cache={}):1936===this.gb&&this.clear(),b=this.cache[a],null==b?(this.cache[a]=[Q7(this.gb),this.ce],this.gb++,a):b[1]!=this.ce?(b[1]=this.ce,b[0]=Q7(this.gb),this.gb++,a):b[0]):a};R7.prototype.clear=function(){this.gb=0;this.ce++};S7.prototype.write=function(a){1936==this.gb&&(this.gb=0);this.cache[this.gb]=a;this.gb++;return a};
S7.prototype.read=function(a){return this.cache[2===a.length?a.charCodeAt(1)-48:44*(a.charCodeAt(1)-48)+(a.charCodeAt(2)-48)]};S7.prototype.clear=function(){this.gb=0};var a8=1,Z7={},$7=0;var n$="undefined"!=typeof Symbol?Symbol.iterator:"@@iterator";b8.prototype.toString=function(){return"[TaggedValue: "+this.tag+", "+this.rep+"]"};b8.prototype.Y=function(a){return U7(this,a)};b8.prototype.equiv=b8.prototype.Y;b8.prototype.ic=function(a){return a instanceof b8?this.tag===a.tag&&U7(this.rep,a.rep):!1};b8.prototype.qc=function(){-1===this.Ra&&(this.Ra=W7(X7(this.tag),X7(this.rep)));return this.Ra};var Uma=x7("9007199254740991"),Vma=x7("-9007199254740991");
$APP.Ga.prototype.Y=function(a){return U7(this,a)};$APP.Ga.prototype.equiv=$APP.Ga.prototype.Y;$APP.Ga.prototype.ic=function(a){return a instanceof $APP.Ga&&this.equals(a)};$APP.Ga.prototype.qc=function(){return this.Ua};d8.prototype.toString=function(){return":"+this._name};d8.prototype.namespace=function(){var a=this._name.indexOf("/");return-1!=a?this._name.substring(0,a):null};d8.prototype.name=function(){var a=this._name.indexOf("/");return-1!=a?this._name.substring(a+1,this._name.length):this._name};
d8.prototype.Y=function(a){return U7(this,a)};d8.prototype.equiv=d8.prototype.Y;d8.prototype.ic=function(a){return a instanceof d8&&this._name==a._name};d8.prototype.qc=function(){-1===this.Ra&&(this.Ra=X7(this._name));return this.Ra};e8.prototype.namespace=function(){var a=this._name.indexOf("/");return-1!=a?this._name.substring(0,a):null};e8.prototype.name=function(){var a=this._name.indexOf("/");return-1!=a?this._name.substring(a+1,this._name.length):this._name};e8.prototype.toString=function(){return this._name};
e8.prototype.Y=function(a){return U7(this,a)};e8.prototype.equiv=e8.prototype.Y;e8.prototype.ic=function(a){return a instanceof e8&&this._name==a._name};e8.prototype.qc=function(){-1===this.Ra&&(this.Ra=X7(this._name));return this.Ra};g8.prototype.toString=function(){var a=this.high,b=this.low;var c=f8(a,0,4)+"-";c+=f8(a,4,6)+"-";c+=f8(a,6,8)+"-";c+=f8(b,0,2)+"-";return c+=f8(b,2,8)};g8.prototype.Y=function(a){return U7(this,a)};g8.prototype.equiv=g8.prototype.Y;
g8.prototype.ic=function(a){return a instanceof g8&&this.high.equals(a.high)&&this.low.equals(a.low)};g8.prototype.qc=function(){-1===this.Ra&&(this.Ra=X7(this.toString()));return this.Ra};Date.prototype.ic=function(a){return a instanceof Date?this.valueOf()===a.valueOf():!1};Date.prototype.qc=function(){return this.valueOf()};
h8.prototype.next=function(){if(this.gb<this.entries.length){var a={value:0===this.type?this.entries[this.gb]:1===this.type?this.entries[this.gb+1]:[this.entries[this.gb],this.entries[this.gb+1]],done:!1};this.gb+=2;return a}return{value:null,done:!0}};h8.prototype.next=h8.prototype.next;h8.prototype[n$]=function(){return this};
j8.prototype.next=function(){if(this.gb<this.map.size){null!=this.fd&&this.Wc<this.fd.length||(this.fd=this.map.map[this.keys[this.gb]],this.Wc=0);var a={value:0===this.type?this.fd[this.Wc]:1===this.type?this.fd[this.Wc+1]:[this.fd[this.Wc],this.fd[this.Wc+1]],done:!1};this.gb++;this.Wc+=2;return a}return{value:null,done:!0}};j8.prototype.next=j8.prototype.next;j8.prototype[n$]=function(){return this};l8.prototype.toString=function(){return o8(this)};l8.prototype.inspect=function(){return this.toString()};
l8.prototype.convert=function(){if(this.Sa)throw Error("Invalid operation, already converted");if(8>this.size)return!1;this.fg++;return 32<this.fg?(this.Sa=p8(this.Va,!1,!0),this.Va=[],!0):!1};l8.prototype.clear=function(){this.Ra=-1;this.Sa?this.Sa.clear():this.Va=[];this.size=0};l8.prototype.clear=l8.prototype.clear;l8.prototype.keys=function(){return this.Sa?this.Sa.keys():new h8(this.Va,0)};l8.prototype.keys=l8.prototype.keys;
l8.prototype.pd=function(){if(this.Sa)return this.Sa.pd();for(var a=[],b=0,c=0;c<this.Va.length;b++,c+=2)a[b]=this.Va[c];return a};l8.prototype.keySet=l8.prototype.pd;l8.prototype.entries=function(){return this.Sa?this.Sa.entries():new h8(this.Va,2)};l8.prototype.entries=l8.prototype.entries;l8.prototype.values=function(){return this.Sa?this.Sa.values():new h8(this.Va,1)};l8.prototype.values=l8.prototype.values;
l8.prototype.forEach=function(a){if(this.Sa)this.Sa.forEach(a);else for(var b=0;b<this.Va.length;b+=2)a(this.Va[b+1],this.Va[b])};l8.prototype.forEach=l8.prototype.forEach;l8.prototype.get=function(a,b){if(this.Sa)return this.Sa.get(a);if(this.convert())return this.get(a);for(var c=0;c<this.Va.length;c+=2)if(U7(this.Va[c],a))return this.Va[c+1];return b};l8.prototype.get=l8.prototype.get;
l8.prototype.has=function(a){if(this.Sa)return this.Sa.has(a);if(this.convert())return this.has(a);for(var b=0;b<this.Va.length;b+=2)if(U7(this.Va[b],a))return!0;return!1};l8.prototype.has=l8.prototype.has;l8.prototype.set=function(a,b){this.Ra=-1;if(this.Sa)this.Sa.set(a,b),this.size=this.Sa.size;else{for(var c=0;c<this.Va.length;c+=2)if(U7(this.Va[c],a)){this.Va[c+1]=b;return}this.Va.push(a);this.Va.push(b);this.size++;32<this.size&&(this.Sa=p8(this.Va,!1,!0),this.Va=null)}};l8.prototype.set=l8.prototype.set;
l8.prototype["delete"]=function(a){this.Ra=-1;if(this.Sa)return a=this.Sa.delete(a),this.size=this.Sa.size,a;for(var b=0;b<this.Va.length;b+=2)if(U7(this.Va[b],a))return a=this.Va[b+1],this.Va.splice(b,2),this.size--,a};l8.prototype.clone=function(){var a=p8();this.forEach(function(b,c){a.set(c,b)});return a};l8.prototype.clone=l8.prototype.clone;l8.prototype[n$]=function(){return this.entries()};l8.prototype.qc=function(){if(this.Sa)return this.Sa.qc();-1===this.Ra&&(this.Ra=Y7(this));return this.Ra};
l8.prototype.ic=function(a){return this.Sa?m8(this.Sa,a):m8(this,a)};k8.prototype.toString=function(){return o8(this)};k8.prototype.inspect=function(){return this.toString()};k8.prototype.clear=function(){this.Ra=-1;this.map={};this.wd=[];this.size=0};k8.prototype.clear=k8.prototype.clear;k8.prototype["delete"]=function(a){this.Ra=-1;this.wd=null;for(var b=X7(a),c=this.map[b],d=0;d<c.length;d+=2)if(U7(a,c[d]))return a=c[d+1],c.splice(d,2),0===c.length&&delete this.map[b],this.size--,a};
k8.prototype.entries=function(){return new j8(this,2)};k8.prototype.entries=k8.prototype.entries;k8.prototype.forEach=function(a){for(var b=i8(this),c=0;c<b.length;c++)for(var d=this.map[b[c]],e=0;e<d.length;e+=2)a(d[e+1],d[e],this)};k8.prototype.forEach=k8.prototype.forEach;k8.prototype.get=function(a,b){var c=X7(a);c=this.map[c];if(null!=c)for(b=0;b<c.length;b+=2){if(U7(a,c[b]))return c[b+1]}else return b};k8.prototype.get=k8.prototype.get;
k8.prototype.has=function(a){var b=X7(a);b=this.map[b];if(null!=b)for(var c=0;c<b.length;c+=2)if(U7(a,b[c]))return!0;return!1};k8.prototype.has=k8.prototype.has;k8.prototype.keys=function(){return new j8(this,0)};k8.prototype.keys=k8.prototype.keys;k8.prototype.pd=function(){for(var a=i8(this),b=[],c=0;c<a.length;c++)for(var d=this.map[a[c]],e=0;e<d.length;e+=2)b.push(d[e]);return b};k8.prototype.keySet=k8.prototype.pd;
k8.prototype.set=function(a,b){this.Ra=-1;var c=X7(a),d=this.map[c];if(null==d)this.wd&&this.wd.push(c),this.map[c]=[a,b],this.size++;else{c=!0;for(var e=0;e<d.length;e+=2)if(U7(b,d[e])){c=!1;d[e]=b;break}c&&(d.push(a),d.push(b),this.size++)}};k8.prototype.set=k8.prototype.set;k8.prototype.values=function(){return new j8(this,1)};k8.prototype.values=k8.prototype.values;k8.prototype.clone=function(){var a=p8();this.forEach(function(b,c){a.set(c,b)});return a};k8.prototype.clone=k8.prototype.clone;
k8.prototype[n$]=function(){return this.entries()};k8.prototype.qc=function(){-1===this.Ra&&(this.Ra=Y7(this));return this.Ra};k8.prototype.ic=function(a){return m8(this,a)};q8.prototype.toString=function(){return Oka(this)};q8.prototype.inspect=function(){return this.toString()};q8.prototype.add=function(a){this.map.set(a,a);this.size=this.map.size};q8.prototype.add=q8.prototype.add;q8.prototype.clear=function(){this.map=new k8;this.size=0};q8.prototype.clear=q8.prototype.clear;
q8.prototype["delete"]=function(a){a=this.map.delete(a);this.size=this.map.size;return a};q8.prototype.entries=function(){return this.map.entries()};q8.prototype.entries=q8.prototype.entries;q8.prototype.forEach=function(a){var b=this;this.map.forEach(function(c,d){a(d,b)})};q8.prototype.forEach=q8.prototype.forEach;q8.prototype.has=function(a){return this.map.has(a)};q8.prototype.has=q8.prototype.has;q8.prototype.keys=function(){return this.map.keys()};q8.prototype.keys=q8.prototype.keys;
q8.prototype.pd=function(){return this.map.pd()};q8.prototype.keySet=q8.prototype.pd;q8.prototype.values=function(){return this.map.values()};q8.prototype.values=q8.prototype.values;q8.prototype.clone=function(){var a=r8();this.forEach(function(b){a.add(b)});return a};q8.prototype.clone=q8.prototype.clone;q8.prototype[n$]=function(){return this.values()};q8.prototype.ic=function(a){if(a instanceof q8){if(this.size===a.size)return U7(this.map,a.map)}else return!1};q8.prototype.qc=function(){return X7(this.map)};t8.prototype.defaults={handlers:{_:function(){return null},"?":function(a){return"t"===a},b:function(a,b){if(b&&!1===b.Qf||"undefined"==typeof $APP.la.Buffer)if("undefined"!=typeof Uint8Array){if("undefined"!=typeof atob)var c=atob(a);else{a=String(a).replace(/=+$/,"");if(1==a.length%4)throw Error("'atob' failed: The string to be decoded is not correctly encoded.");b=0;for(var d,e=0,f="";d=a.charAt(e++);~d&&(c=b%4?64*c+d:d,b++%4)?f+=String.fromCharCode(255&c>>(-2*b&6)):0)d="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\x3d".indexOf(d);
c=f}a=c.length;b=new Uint8Array(a);for(d=0;d<a;d++)b[d]=c.charCodeAt(d);c=b}else c=c8("b",a);else c=new $APP.la.Buffer(a,"base64");return c},i:function(a){"number"===typeof a||a instanceof $APP.Ga||(a=x7(a,10),a=0<a.compare(Uma)||0>a.compare(Vma)?a:$APP.Oa(a));return a},n:function(a){return c8("n",a)},d:function(a){return parseFloat(a)},f:function(a){return c8("f",a)},c:function(a){return a},":":function(a){return new d8(a)},$:function(a){return new e8(a)},r:function(a){return c8("r",a)},z:function(a){a:switch(a){case "-INF":a=
-Infinity;break a;case "INF":a=Infinity;break a;case "NaN":a=NaN;break a;default:throw Error("Invalid special double value "+a);}return a},"'":function(a){return a},m:function(a){a="number"===typeof a?a:parseInt(a,10);return new Date(a)},t:function(a){return new Date(a)},u:function(a){a=a.replace(/-/g,"");var b,c;var d=b=0;for(c=24;8>d;d+=2,c-=8)b|=parseInt(a.substring(d,d+2),16)<<c;var e=0;d=8;for(c=24;16>d;d+=2,c-=8)e|=parseInt(a.substring(d,d+2),16)<<c;var f=$APP.Ha(e,b);b=0;d=16;for(c=24;24>d;d+=
2,c-=8)b|=parseInt(a.substring(d,d+2),16)<<c;e=0;for(c=d=24;32>d;d+=2,c-=8)e|=parseInt(a.substring(d,d+2),16)<<c;return new g8(f,$APP.Ha(e,b))},set:function(a){return r8(a)},list:function(a){return c8("list",a)},link:function(a){return c8("link",a)},cmap:function(a){return p8(a,!1)}},Gf:function(a,b){return c8(a,b)},Me:!0,Qf:!0};
t8.prototype.decode=function(a,b,c,d){if(null==a)return null;switch(typeof a){case "string":return P7(a,c)?(a=u8(this,a),b&&b.write(a,c),b=a):b="^"===a.charAt(0)&&" "!==a.charAt(1)?b.read(a,c):u8(this,a),b;case "object":if(T7(a))if("^ "===a[0])if(this.kc)if(17>a.length&&this.kc.fromArray){d=[];for(c=1;c<a.length;c+=2)d.push(this.decode(a[c],b,!0,!1)),d.push(this.decode(a[c+1],b,!1,!1));b=this.kc.fromArray(d,a)}else{d=this.kc.init(a);for(c=1;c<a.length;c+=2)d=this.kc.add(d,this.decode(a[c],b,!0,!1),
this.decode(a[c+1],b,!1,!1),a);b=this.kc.finalize(d,a)}else{d=[];for(c=1;c<a.length;c+=2)d.push(this.decode(a[c],b,!0,!1)),d.push(this.decode(a[c+1],b,!1,!1));b=p8(d,!1)}else b=Pka(this,a,b,c,d);else{c=V7(a);var e=c[0];if((d=1==c.length?this.decode(e,b,!1,!1):null)&&d instanceof s8)a=a[e],c=this.handlers[d.Pb],b=null!=c?c(this.decode(a,b,!1,!0),this):c8(d.Pb,this.decode(a,b,!1,!1));else if(this.kc)if(16>c.length&&this.kc.fromArray){var f=[];for(d=0;d<c.length;d++)e=c[d],f.push(this.decode(e,b,!0,
!1)),f.push(this.decode(a[e],b,!1,!1));b=this.kc.fromArray(f,a)}else{f=this.kc.init(a);for(d=0;d<c.length;d++)e=c[d],f=this.kc.add(f,this.decode(e,b,!0,!1),this.decode(a[e],b,!1,!1),a);b=this.kc.finalize(f,a)}else{f=[];for(d=0;d<c.length;d++)e=c[d],f.push(this.decode(e,b,!0,!1)),f.push(this.decode(a[e],b,!1,!1));b=p8(f,!1)}}return b}return a};t8.prototype.decode=t8.prototype.decode;v8.prototype.read=function(a){var b=this.cache;a=this.yi.Mh.decode(JSON.parse(a),b);this.cache.clear();return a};v8.prototype.read=v8.prototype.read;var x8=0,Wma=(8|3&Math.round(14*Math.random())).toString(16),w8="transit$guid$"+(O7()+O7()+O7()+O7()+O7()+O7()+O7()+O7()+"-"+O7()+O7()+O7()+O7()+"-4"+O7()+O7()+O7()+"-"+Wma+O7()+O7()+O7()+"-"+O7()+O7()+O7()+O7()+O7()+O7()+O7()+O7()+O7()+O7()+O7()+O7());A8.prototype.tag=function(){return"_"};A8.prototype.rep=function(){return null};A8.prototype.stringRep=function(){return"null"};B8.prototype.tag=function(){return"s"};B8.prototype.rep=function(a){return a};B8.prototype.stringRep=function(a){return a};
C8.prototype.tag=function(){return"i"};C8.prototype.rep=function(a){return a};C8.prototype.stringRep=function(a){return a.toString()};D8.prototype.tag=function(){return"i"};D8.prototype.rep=function(a){return a.toString()};D8.prototype.stringRep=function(a){return a.toString()};E8.prototype.tag=function(){return"?"};E8.prototype.rep=function(a){return a};E8.prototype.stringRep=function(a){return a.toString()};F8.prototype.tag=function(){return"array"};F8.prototype.rep=function(a){return a};
F8.prototype.stringRep=function(){return null};G8.prototype.tag=function(){return"map"};G8.prototype.rep=function(a){return a};G8.prototype.stringRep=function(){return null};H8.prototype.tag=function(){return"t"};H8.prototype.rep=function(a){return a.getUTCFullYear()+"-"+z8(a.getUTCMonth()+1,2)+"-"+z8(a.getUTCDate(),2)+"T"+z8(a.getUTCHours(),2)+":"+z8(a.getUTCMinutes(),2)+":"+z8(a.getUTCSeconds(),2)+"."+z8(a.getUTCMilliseconds(),3)+"Z"};H8.prototype.stringRep=function(a,b){return b.rep(a)};
I8.prototype.tag=function(){return"m"};I8.prototype.rep=function(a){return a.valueOf()};I8.prototype.stringRep=function(a){return a.valueOf().toString()};I8.prototype.getVerboseHandler=function(){return new H8};J8.prototype.tag=function(){return"u"};J8.prototype.rep=function(a){return a.toString()};J8.prototype.stringRep=function(a){return a.toString()};K8.prototype.tag=function(){return":"};K8.prototype.rep=function(a){return a._name};K8.prototype.stringRep=function(a,b){return b.rep(a)};
L8.prototype.tag=function(){return"$"};L8.prototype.rep=function(a){return a._name};L8.prototype.stringRep=function(a,b){return b.rep(a)};M8.prototype.tag=function(a){return a.tag};M8.prototype.rep=function(a){return a.rep};M8.prototype.stringRep=function(){return null};N8.prototype.tag=function(){return"set"};N8.prototype.rep=function(a){var b=[];a.forEach(function(c){b.push(c)});return c8("array",b)};N8.prototype.stringRep=function(){return null};O8.prototype.tag=function(){return"map"};
O8.prototype.rep=function(a){return a};O8.prototype.stringRep=function(){return null};P8.prototype.tag=function(){return"map"};P8.prototype.rep=function(a){return a};P8.prototype.stringRep=function(){return null};Q8.prototype.tag=function(){return"b"};Q8.prototype.rep=function(a){return a.toString("base64")};Q8.prototype.stringRep=function(){return null};R8.prototype.tag=function(){return"b"};
R8.prototype.rep=function(a){for(var b,c=0,d=a.length,e="",f;c<d;)f=a.subarray(c,Math.min(c+32768,d)),e+=String.fromCharCode.apply(null,f),c+=32768;if("undefined"!=typeof btoa)b=btoa(e);else{a=String(e);d=0;e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\x3d";for(f="";a.charAt(d|0)||(e="\x3d",d%1);f+=e.charAt(63&b>>8-d%1*8)){c=a.charCodeAt(d+=.75);if(255<c)throw Error("'btoa' failed: The string to be encoded contains characters outside of the Latin1 range.");b=b<<8|c}b=f}return b};
R8.prototype.stringRep=function(){return null};S8.prototype.get=function(a){a="string"===typeof a?this.handlers[a]:this.handlers[y8(a)];return null!=a?a:this.handlers["default"]};S8.prototype.get=S8.prototype.get;S8.prototype.set=function(a,b){var c;if(c="string"===typeof a)a:{switch(a){case "null":case "string":case "boolean":case "number":case "array":case "map":c=!1;break a}c=!0}c?this.handlers[a]=b:this.handlers[y8(a)]=b};T8.prototype.handler=function(a){var b=this.handlers.get(null==a?null:a.constructor);return null!=b?b:(a=a&&a.transitTag)?this.handlers.get(a):null};Y8.prototype.Th=function(){return this.Pd};Y8.prototype.marshaller=Y8.prototype.Th;
Y8.prototype.write=function(a,b){var c=b||{};b=c.asMapKey||!1;var d=this.Pd.ue?!1:this.cache;if(!1===c.marshalTop)a=V8(this.Pd,a,b,d);else{c=this.Pd;var e=JSON,f=e.stringify,g=V8;var k=c.handler(a)||(c.de?c.de(a,c.handlers):null);if(null!=k)a=1===k.tag(a).length?c8("'",a):a;else throw b=(null==a?null:a.constructor).name,d=Error("Cannot write "+b),d.data={Of:a,type:b},d;a=f.call(e,g(c,a,b,d))}null!=this.cache&&this.cache.clear();return a};Y8.prototype.write=Y8.prototype.write;
Y8.prototype.register=function(a,b){this.Pd.handlers.set(a,b)};Y8.prototype.register=Y8.prototype.register;$APP.Dk.prototype.U=function(a,b){return b instanceof $APP.Dk?this.uuid===b.uuid:b instanceof g8?this.uuid===b.toString():!1};$APP.Dk.prototype.Dc=$APP.wd;$APP.Dk.prototype.hc=function(a,b){if(b instanceof $APP.Dk||b instanceof g8)return $APP.We(this.toString(),b.toString());throw Error(["Cannot compare ",$APP.t.o(this)," to ",$APP.t.o(b)].join(""));};g8.prototype.Dc=$APP.wd;
g8.prototype.hc=function(a,b){if(b instanceof $APP.Dk||b instanceof g8)return $APP.We(this.toString(),b.toString());throw Error(["Cannot compare ",$APP.t.o(this)," to ",$APP.t.o(b)].join(""));};$APP.Ga.prototype.U=function(a,b){return this.Y(b)};g8.prototype.U=function(a,b){return b instanceof $APP.Dk?b.U(null,this):this.Y(b)};b8.prototype.U=function(a,b){return this.Y(b)};$APP.Ga.prototype.nf=$APP.wd;$APP.Ga.prototype.ga=function(){return X7(this)};g8.prototype.nf=$APP.wd;g8.prototype.ga=function(){return $APP.xd(this.toString())};
b8.prototype.nf=$APP.wd;b8.prototype.ga=function(){return X7(this)};g8.prototype.Af=$APP.wd;g8.prototype.ta=$APP.wd;g8.prototype.Z=function(a,b){return $APP.Mc(b,['#uuid "',$APP.t.o(this.toString()),'"'].join(""))};$8.prototype.init=function(){return $APP.Sc($APP.$f)};$8.prototype.add=function(a,b,c){return $APP.Qh.v(a,b,c)};$8.prototype.finalize=function(a){return $APP.Uc(a)};$8.prototype.fromArray=function(a){return $APP.Ih.v?$APP.Ih.v(a,!0,!0):$APP.Ih.call(null,a,!0,!0)};a9.prototype.init=function(){return $APP.Sc($APP.ih)};
a9.prototype.add=function(a,b){return $APP.dh.j(a,b)};a9.prototype.finalize=function(a){return $APP.Uc(a)};a9.prototype.fromArray=function(a){return $APP.eh.j?$APP.eh.j(a,!0):$APP.eh.call(null,a,!0)};d9.prototype.tag=function(){return":"};d9.prototype.rep=function(a){return a.ia};d9.prototype.stringRep=function(a){return a.ia};e9.prototype.tag=function(){return"$"};e9.prototype.rep=function(a){return a.Pb};e9.prototype.stringRep=function(a){return a.Pb};f9.prototype.tag=function(){return"list"};
f9.prototype.rep=function(a){var b=[];a=$APP.x(a);for(var c=null,d=0,e=0;;)if(e<d){var f=c.fa(null,e);b.push(f);e+=1}else if(a=$APP.x(a))c=a,$APP.He(c)?(a=$APP.bd(c),e=$APP.cd(c),c=a,d=$APP.ge(a),a=e):(a=$APP.y(c),b.push(a),a=$APP.z(c),c=null,d=0),e=0;else break;return c8("array",b)};f9.prototype.stringRep=function(){return null};g9.prototype.tag=function(){return"map"};g9.prototype.rep=function(a){return a};g9.prototype.stringRep=function(){return null};h9.prototype.tag=function(){return"set"};
h9.prototype.rep=function(a){var b=[];a=$APP.x(a);for(var c=null,d=0,e=0;;)if(e<d){var f=c.fa(null,e);b.push(f);e+=1}else if(a=$APP.x(a))c=a,$APP.He(c)?(a=$APP.bd(c),e=$APP.cd(c),c=a,d=$APP.ge(a),a=e):(a=$APP.y(c),b.push(a),a=$APP.z(c),c=null,d=0),e=0;else break;return c8("array",b)};h9.prototype.stringRep=function(){return null};i9.prototype.tag=function(){return"array"};
i9.prototype.rep=function(a){var b=[];a=$APP.x(a);for(var c=null,d=0,e=0;;)if(e<d){var f=c.fa(null,e);b.push(f);e+=1}else if(a=$APP.x(a))c=a,$APP.He(c)?(a=$APP.bd(c),e=$APP.cd(c),c=a,d=$APP.ge(a),a=e):(a=$APP.y(c),b.push(a),a=$APP.z(c),c=null,d=0),e=0;else break;return b};i9.prototype.stringRep=function(){return null};j9.prototype.tag=function(){return"u"};j9.prototype.rep=function(a){return a.uuid};j9.prototype.stringRep=function(a){return this.rep(a)};k9.prototype.tag=function(){return"with-meta"};
k9.prototype.rep=function(a){return c8("array",[a.value,a.meta])};k9.prototype.stringRep=function(){return null};$APP.m=l9.prototype;$APP.m.sa=function(a,b){return this.V(null,b,null)};$APP.m.V=function(a,b,c){switch(b instanceof $APP.K?b.ia:null){case "name":return this.name;case "request":return this.request;case "response":return this.response;default:return $APP.Re.v(this.G,b,c)}};$APP.m.tb=function(a,b,c){return $APP.cf.v(function(d,e){var f=$APP.D.v(e,0,null);e=$APP.D.v(e,1,null);return b.v?b.v(d,f,e):b.call(null,d,f,e)},c,this)};
$APP.m.xd=function(a,b){a=$APP.ag(a);$APP.Re.j(a,m$);a=$APP.ag(this);a=$APP.Re.j(a,m$);return a.o?a.o(b):a.call(null,b)};$APP.m.yd=function(a,b){a=$APP.ag(a);$APP.Re.j(a,g$);a=$APP.ag(this);a=$APP.Re.j(a,g$);return a.o?a.o(b):a.call(null,b)};
$APP.m.Z=function(a,b,c){return $APP.pj(b,function(d){return $APP.pj(b,$APP.vj,""," ","",c,d)},"#ajax.interceptors.StandardInterceptor{",", ","}",c,$APP.Q.j(new $APP.N(null,3,5,$APP.O,[new $APP.N(null,2,5,$APP.O,[$APP.T,this.name],null),new $APP.N(null,2,5,$APP.O,[m$,this.request],null),new $APP.N(null,2,5,$APP.O,[g$,this.response],null)],null),this.G))};$APP.m.Aa=function(){return new $APP.Ch(this,3,new $APP.N(null,3,5,$APP.O,[$APP.T,m$,g$],null),$APP.p(this.G)?$APP.ld(this.G):$APP.fg())};
$APP.m.aa=function(){return this.O};$APP.m.ka=function(){return new l9(this.name,this.request,this.response,this.O,this.G,this.N)};$APP.m.ma=function(){return 3+$APP.ge(this.G)};$APP.m.ga=function(){var a=this.N;return null!=a?a:this.N=a=1482887116^$APP.Qd(this)};$APP.m.U=function(a,b){return null!=b&&this.constructor===b.constructor&&$APP.A.j(this.name,b.name)&&$APP.A.j(this.request,b.request)&&$APP.A.j(this.response,b.response)&&$APP.A.j(this.G,b.G)};
$APP.m.yb=function(a,b){return $APP.Te(new $APP.Qi(null,new $APP.n(null,3,[g$,null,m$,null,$APP.T,null],null),null),b)?$APP.nm.j($APP.sc($APP.Nh.j($APP.$f,this),this.O),b):new l9(this.name,this.request,this.response,this.O,$APP.bg($APP.nm.j(this.G,b)),null)};$APP.m.Wa=function(a,b){switch(b instanceof $APP.K?b.ia:null){case "name":case "request":case "response":return!0;default:return $APP.Te(this.G,b)}};
$APP.m.pa=function(a,b,c){return $APP.p($APP.zf.j?$APP.zf.j($APP.T,b):$APP.zf.call(null,$APP.T,b))?new l9(c,this.request,this.response,this.O,this.G,null):$APP.p($APP.zf.j?$APP.zf.j(m$,b):$APP.zf.call(null,m$,b))?new l9(this.name,c,this.response,this.O,this.G,null):$APP.p($APP.zf.j?$APP.zf.j(g$,b):$APP.zf.call(null,g$,b))?new l9(this.name,this.request,c,this.O,this.G,null):new l9(this.name,this.request,this.response,this.O,$APP.Ni.v(this.G,b,c),null)};
$APP.m.ja=function(){return $APP.x($APP.Q.j(new $APP.N(null,3,5,$APP.O,[new $APP.Ue($APP.T,this.name,null),new $APP.Ue(m$,this.request,null),new $APP.Ue(g$,this.response,null)],null),this.G))};$APP.m.ea=function(a,b){return new l9(this.name,this.request,this.response,b,this.G,this.N)};$APP.m.oa=function(a,b){return $APP.Ge(b)?this.pa(null,$APP.re(b,0),$APP.re(b,1)):$APP.cf.v($APP.Nb,this,b)};
var o$=function o$(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=3<c.length?new $APP.Fd(c.slice(3),0,null):null;return o$.A(arguments[0],arguments[1],arguments[2],c)};o$.A=function(a,b,c,d){return new $APP.N(null,2,5,$APP.O,[!1,$APP.cf.v($APP.tf,new $APP.n(null,3,[$APP.$A,a,i$,b,f$,c],null),$APP.wj.j($APP.jh,$APP.ur.j(2,d)))],null)};o$.B=3;o$.F=function(a){var b=$APP.y(a),c=$APP.z(a);a=$APP.y(c);var d=$APP.z(c);c=$APP.y(d);d=$APP.z(d);return this.A(b,a,c,d)};
$APP.m=n9.prototype;$APP.m.sa=function(a,b){return this.V(null,b,null)};$APP.m.V=function(a,b,c){switch(b instanceof $APP.K?b.ia:null){case "read":return this.read;case "description":return this.description;case "content-type":return this.rc;default:return $APP.Re.v(this.G,b,c)}};$APP.m.tb=function(a,b,c){return $APP.cf.v(function(d,e){var f=$APP.D.v(e,0,null);e=$APP.D.v(e,1,null);return b.v?b.v(d,f,e):b.call(null,d,f,e)},c,this)};
$APP.m.xd=function(a,b){a=$APP.ag(a);$APP.Re.j(a,q9);a=$APP.ag(this);var c=$APP.Re.j(a,q9);return $APP.jo.v(b,F9,function(d){return $APP.mm.A($APP.F([new $APP.n(null,1,["Accept",m9(c)],null),$APP.p(d)?d:$APP.$f]))})};
$APP.m.yd=function(a,b){a=$APP.ag(a);$APP.Re.j(a,o9);a=$APP.ag(this);var c=$APP.Re.j(a,o9);try{var d=A7(b),e=$APP.pm.j(o$,d);switch(d){case 0:return e("Request failed.",mma);case -1:return $APP.p(F7(b))?e("Request aborted by client.",Nla):e("Request timed out.",e$);case 204:return new $APP.N(null,2,5,$APP.O,[!0,null],null);case 205:return new $APP.N(null,2,5,$APP.O,[!0,null],null);default:try{var f=c.o?c.o(b):c.call(null,b);return J7(d)?new $APP.N(null,2,5,$APP.O,[!0,f],null):e(B7(b),$APP.rL,g$,f)}catch(w){if(w instanceof
Object){f=w;e=$APP.O;var g=$APP.ag(a),k=$APP.Re.j(g,p9),l=new $APP.n(null,3,[$APP.$A,d,f$,$APP.rL,g$,null],null),h=[$APP.t.o(f.message),"  Format should have been ",$APP.t.o(k)].join(""),r=$APP.Ni.A(l,i$,h,$APP.F([f$,Oma,kma,D7(b)]));var q=J7(d)?r:$APP.Ni.A(l,i$,B7(b),$APP.F([wma,r]));return new $APP.N(null,2,5,e,[!1,q],null)}throw w;}}}catch(w){if(w instanceof Object)return f=w,o$.A(0,f.message,$APP.gT,$APP.F([$APP.gT,f]));throw w;}};
$APP.m.Z=function(a,b,c){return $APP.pj(b,function(d){return $APP.pj(b,$APP.vj,""," ","",c,d)},"#ajax.interceptors.ResponseFormat{",", ","}",c,$APP.Q.j(new $APP.N(null,3,5,$APP.O,[new $APP.N(null,2,5,$APP.O,[o9,this.read],null),new $APP.N(null,2,5,$APP.O,[p9,this.description],null),new $APP.N(null,2,5,$APP.O,[q9,this.rc],null)],null),this.G))};$APP.m.Aa=function(){return new $APP.Ch(this,3,new $APP.N(null,3,5,$APP.O,[o9,p9,q9],null),$APP.p(this.G)?$APP.ld(this.G):$APP.fg())};$APP.m.aa=function(){return this.O};
$APP.m.ka=function(){return new n9(this.read,this.description,this.rc,this.O,this.G,this.N)};$APP.m.ma=function(){return 3+$APP.ge(this.G)};$APP.m.ga=function(){var a=this.N;return null!=a?a:this.N=a=-2103965186^$APP.Qd(this)};$APP.m.U=function(a,b){return null!=b&&this.constructor===b.constructor&&$APP.A.j(this.read,b.read)&&$APP.A.j(this.description,b.description)&&$APP.A.j(this.rc,b.rc)&&$APP.A.j(this.G,b.G)};
$APP.m.yb=function(a,b){return $APP.Te(new $APP.Qi(null,new $APP.n(null,3,[p9,null,o9,null,q9,null],null),null),b)?$APP.nm.j($APP.sc($APP.Nh.j($APP.$f,this),this.O),b):new n9(this.read,this.description,this.rc,this.O,$APP.bg($APP.nm.j(this.G,b)),null)};$APP.m.Wa=function(a,b){switch(b instanceof $APP.K?b.ia:null){case "read":case "description":case "content-type":return!0;default:return $APP.Te(this.G,b)}};
$APP.m.pa=function(a,b,c){return $APP.p($APP.zf.j?$APP.zf.j(o9,b):$APP.zf.call(null,o9,b))?new n9(c,this.description,this.rc,this.O,this.G,null):$APP.p($APP.zf.j?$APP.zf.j(p9,b):$APP.zf.call(null,p9,b))?new n9(this.read,c,this.rc,this.O,this.G,null):$APP.p($APP.zf.j?$APP.zf.j(q9,b):$APP.zf.call(null,q9,b))?new n9(this.read,this.description,c,this.O,this.G,null):new n9(this.read,this.description,this.rc,this.O,$APP.Ni.v(this.G,b,c),null)};
$APP.m.ja=function(){return $APP.x($APP.Q.j(new $APP.N(null,3,5,$APP.O,[new $APP.Ue(o9,this.read,null),new $APP.Ue(p9,this.description,null),new $APP.Ue(q9,this.rc,null)],null),this.G))};$APP.m.ea=function(a,b){return new n9(this.read,this.description,this.rc,b,this.G,this.N)};$APP.m.oa=function(a,b){return $APP.Ge(b)?this.pa(null,$APP.re(b,0),$APP.re(b,1)):$APP.cf.v($APP.Nb,this,b)};$APP.m=s9.prototype;$APP.m.sa=function(a,b){return this.V(null,b,null)};
$APP.m.V=function(a,b,c){return $APP.Re.v(this.G,b,c)};$APP.m.tb=function(a,b,c){return $APP.cf.v(function(d,e){var f=$APP.D.v(e,0,null);e=$APP.D.v(e,1,null);return b.v?b.v(d,f,e):b.call(null,d,f,e)},c,this)};
$APP.m.xd=function(a,b){a=$APP.ag(b);$APP.Re.j(a,b$);$APP.Re.j(a,u9);var c=$APP.Re.j(a,E9),d=$APP.Re.j(a,$APP.Zr);b=$APP.Re.j(a,F9);var e=$APP.Ee(c)?c:c instanceof $APP.K?I7(new $APP.N(null,2,5,$APP.O,["keywords are not allowed as request formats in ajax calls: ",c],null)):$APP.Oe(c)?new $APP.n(null,2,[A9,c,q9,"text/plain"],null):$APP.$f;e=$APP.ag(e);var f=$APP.Re.j(e,A9);e=$APP.Re.j(e,q9);c=null!=f?f.o?f.o(d):f.call(null,d):I7(new $APP.N(null,2,5,$APP.O,["unrecognized request format: ",c],null));
b=$APP.p(b)?b:$APP.$f;return $APP.Ni.A(a,$APP.$r,c,$APP.F([F9,$APP.p(e)?$APP.Ni.v(b,"Content-Type",m9(e)):b]))};$APP.m.yd=function(a,b){return b};$APP.m.Z=function(a,b,c){return $APP.pj(b,function(d){return $APP.pj(b,$APP.vj,""," ","",c,d)},"#ajax.interceptors.ApplyRequestFormat{",", ","}",c,$APP.Q.j($APP.ih,this.G))};$APP.m.Aa=function(){return new $APP.Ch(this,0,$APP.ih,$APP.p(this.G)?$APP.ld(this.G):$APP.fg())};$APP.m.aa=function(){return this.O};
$APP.m.ka=function(){return new s9(this.O,this.G,this.N)};$APP.m.ma=function(){return 0+$APP.ge(this.G)};$APP.m.ga=function(){var a=this.N;return null!=a?a:this.N=a=1698259290^$APP.Qd(this)};$APP.m.U=function(a,b){return null!=b&&this.constructor===b.constructor&&$APP.A.j(this.G,b.G)};$APP.m.yb=function(a,b){return $APP.Te($APP.Ri,b)?$APP.nm.j($APP.sc($APP.Nh.j($APP.$f,this),this.O),b):new s9(this.O,$APP.bg($APP.nm.j(this.G,b)),null)};$APP.m.Wa=function(a,b){return $APP.Te(this.G,b)};
$APP.m.pa=function(a,b,c){return new s9(this.O,$APP.Ni.v(this.G,b,c),null)};$APP.m.ja=function(){return $APP.x($APP.Q.j($APP.ih,this.G))};$APP.m.ea=function(a,b){return new s9(b,this.G,this.N)};$APP.m.oa=function(a,b){return $APP.Ge(b)?this.pa(null,$APP.re(b,0),$APP.re(b,1)):$APP.cf.v($APP.Nb,this,b)};$APP.m=v9.prototype;$APP.m.sa=function(a,b){return this.V(null,b,null)};$APP.m.V=function(a,b,c){return $APP.Re.v(this.G,b,c)};
$APP.m.tb=function(a,b,c){return $APP.cf.v(function(d,e){var f=$APP.D.v(e,0,null);e=$APP.D.v(e,1,null);return b.v?b.v(d,f,e):b.call(null,d,f,e)},c,this)};$APP.m.xd=function(a,b){b=$APP.ag(b);a=$APP.Re.j(b,u9);b=$APP.jo.v(b,b$,$APP.pm.j(hla,b));return $APP.A.j(a,"GET")?$APP.Vd(b):b};$APP.m.yd=function(a,b){return b};$APP.m.Z=function(a,b,c){return $APP.pj(b,function(d){return $APP.pj(b,$APP.vj,""," ","",c,d)},"#ajax.interceptors.ProcessUrlParameters{",", ","}",c,$APP.Q.j($APP.ih,this.G))};
$APP.m.Aa=function(){return new $APP.Ch(this,0,$APP.ih,$APP.p(this.G)?$APP.ld(this.G):$APP.fg())};$APP.m.aa=function(){return this.O};$APP.m.ka=function(){return new v9(this.O,this.G,this.N)};$APP.m.ma=function(){return 0+$APP.ge(this.G)};$APP.m.ga=function(){var a=this.N;return null!=a?a:this.N=a=-516728758^$APP.Qd(this)};$APP.m.U=function(a,b){return null!=b&&this.constructor===b.constructor&&$APP.A.j(this.G,b.G)};
$APP.m.yb=function(a,b){return $APP.Te($APP.Ri,b)?$APP.nm.j($APP.sc($APP.Nh.j($APP.$f,this),this.O),b):new v9(this.O,$APP.bg($APP.nm.j(this.G,b)),null)};$APP.m.Wa=function(a,b){return $APP.Te(this.G,b)};$APP.m.pa=function(a,b,c){return new v9(this.O,$APP.Ni.v(this.G,b,c),null)};$APP.m.ja=function(){return $APP.x($APP.Q.j($APP.ih,this.G))};$APP.m.ea=function(a,b){return new v9(b,this.G,this.N)};
$APP.m.oa=function(a,b){return $APP.Ge(b)?this.pa(null,$APP.re(b,0),$APP.re(b,1)):$APP.cf.v($APP.Nb,this,b)};$APP.m=w9.prototype;$APP.m.sa=function(a,b){return this.V(null,b,null)};$APP.m.V=function(a,b,c){return $APP.Re.v(this.G,b,c)};$APP.m.tb=function(a,b,c){return $APP.cf.v(function(d,e){var f=$APP.D.v(e,0,null);e=$APP.D.v(e,1,null);return b.v?b.v(d,f,e):b.call(null,d,f,e)},c,this)};$APP.m.xd=function(a,b){a=$APP.ag(b);return null==$APP.Re.j(a,$APP.$r)?a:$APP.Vd(a)};$APP.m.yd=function(a,b){return b};
$APP.m.Z=function(a,b,c){return $APP.pj(b,function(d){return $APP.pj(b,$APP.vj,""," ","",c,d)},"#ajax.interceptors.DirectSubmission{",", ","}",c,$APP.Q.j($APP.ih,this.G))};$APP.m.Aa=function(){return new $APP.Ch(this,0,$APP.ih,$APP.p(this.G)?$APP.ld(this.G):$APP.fg())};$APP.m.aa=function(){return this.O};$APP.m.ka=function(){return new w9(this.O,this.G,this.N)};$APP.m.ma=function(){return 0+$APP.ge(this.G)};$APP.m.ga=function(){var a=this.N;return null!=a?a:this.N=a=-1077152635^$APP.Qd(this)};
$APP.m.U=function(a,b){return null!=b&&this.constructor===b.constructor&&$APP.A.j(this.G,b.G)};$APP.m.yb=function(a,b){return $APP.Te($APP.Ri,b)?$APP.nm.j($APP.sc($APP.Nh.j($APP.$f,this),this.O),b):new w9(this.O,$APP.bg($APP.nm.j(this.G,b)),null)};$APP.m.Wa=function(a,b){return $APP.Te(this.G,b)};$APP.m.pa=function(a,b,c){return new w9(this.O,$APP.Ni.v(this.G,b,c),null)};$APP.m.ja=function(){return $APP.x($APP.Q.j($APP.ih,this.G))};$APP.m.ea=function(a,b){return new w9(b,this.G,this.N)};
$APP.m.oa=function(a,b){return $APP.Ge(b)?this.pa(null,$APP.re(b,0),$APP.re(b,1)):$APP.cf.v($APP.Nb,this,b)};var xla=new $APP.N(null,3,5,$APP.O,[new v9(null,null,null),new w9(null,null,null),new s9(null,null,null)],null);var p$=function(a){return function(){function b(e){e=$APP.ag(e);var f=$APP.Re.j(e,$APP.MF),g=$APP.Re.j(e,Zla),k=$APP.Re.j(e,Ula);return r9(new $APP.n(null,3,[o9,function(l){l=D7(l);l=$APP.p($APP.p(f)?$APP.A.j(0,l.indexOf(f)):f)?l.substring(f.length):l;return a.v?a.v(k,g,l):a.call(null,k,g,l)},p9,["JSON",$APP.p(f)?[" prefix '",$APP.t.o(f),"'"].join(""):null,$APP.p(g)?" keywordize":null].join(""),q9,new $APP.N(null,1,5,$APP.O,["application/json"],null)],null))}function c(){return d.o($APP.$f)}var d=
null;d=function(e){switch(arguments.length){case 0:return c.call(this);case 1:return b.call(this,e)}throw Error("Invalid arity: "+arguments.length);};d.C=c;d.o=b;return d}()}(function(a,b,c){c=JSON.parse(c);return $APP.p(a)?c:$APP.jB.A(c,$APP.F([$APP.kB,b]))}),Z9=function(a){return function(){return new $APP.n(null,2,[A9,a,q9,"application/json"],null)}}(function(a){return JSON.stringify($APP.hB(a))});var Y9=function Y9(a){switch(arguments.length){case 0:return Y9.C();case 1:return Y9.o(arguments[0]);default:throw Error(["Invalid arity: ",$APP.t.o(arguments.length)].join(""));}};Y9.C=function(){return Y9.o($APP.$f)};Y9.o=function(a){var b=z9(a),c=$APP.A.j(b,b9)||$APP.A.j(b,Lma)?"json":"msgpack";return new $APP.n(null,2,[A9,kla(b,a),q9,["application/transit+",c].join("")],null)};Y9.B=1;
var q$=function q$(a){switch(arguments.length){case 0:return q$.C();case 1:return q$.o(arguments[0]);case 2:return q$.j(arguments[0],arguments[1]);default:throw Error(["Invalid arity: ",$APP.t.o(arguments.length)].join(""));}};q$.C=function(){return q$.o($APP.$f)};q$.o=function(a){return q$.j(z9(a),a)};q$.j=function(a,b){return r9(new $APP.n(null,3,[o9,mla(b),p9,"Transit",q9,new $APP.N(null,1,5,$APP.O,["application/transit+json"],null)],null))};q$.B=2;var r$=function r$(a){switch(arguments.length){case 0:return r$.C();case 1:return r$.o(arguments[0]);default:throw Error(["Invalid arity: ",$APP.t.o(arguments.length)].join(""));}};r$.C=function(){return r9(new $APP.n(null,3,[o9,D7,p9,"raw text",q9,new $APP.N(null,1,5,$APP.O,["*/*"],null)],null))};r$.o=function(){return r$.C()};r$.B=1;var C9=function C9(a,b){return null==b||$APP.Ee(b)?b:$APP.Ge(b)?(b=$APP.le(b),C9.j?C9.j(a,b):C9.call(null,a,b)):b.o?b.o(a):b.call(null,a)};var s$=function s$(a){switch(arguments.length){case 0:return s$.C();case 1:return s$.o(arguments[0]);default:throw Error(["Invalid arity: ",$APP.t.o(arguments.length)].join(""));}};s$.C=function(){return s$.o(new $APP.n(null,1,[E9,r$.C()],null))};s$.o=function(a){a=$APP.ag(a);a=$APP.Re.j(a,E9);var b=$APP.ag(a);a=$APP.Re.j(b,o9);var c=$APP.Re.j(b,p9);b=$APP.Re.j(b,q9);return r9(new $APP.n(null,3,[o9,rla(a),p9,["ring/",$APP.t.o(c)].join(""),q9,b],null))};s$.B=1;/*

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/
H9.prototype.mg=null;var t$;$APP.Da(K9,H9);t$=new K9;$APP.Da(N9,$APP.sz);var M9="",tla=/^https?$/i,Xma=["POST","PUT"];$APP.m=N9.prototype;$APP.m.setTimeoutInterval=function(a){this.se=Math.max(0,a)};$APP.m.setResponseType=function(a){this.Oe=a};$APP.m.setWithCredentials=function(a){this.eg=a};$APP.m.setProgressEventsEnabled=function(a){this.Og=a};$APP.m.setTrustToken=function(a){this.ag=a};
$APP.m.send=function(a,b,c,d){if(this.ra)throw Error("[goog.net.XhrIo] Object is active with another request\x3d"+this.Mf+"; newUri\x3d"+a);b=b?b.toUpperCase():"GET";this.Mf=a;this.Je="";this.Md=0;this.Hf=!1;this.Vc=!0;this.ra=this.Xe?L9(this.Xe):L9(t$);this.We=this.Xe?J9(this.Xe):J9(t$);this.ra.onreadystatechange=(0,$APP.Ca)(this.Lg,this);this.Og&&"onprogress"in this.ra&&(this.ra.onprogress=(0,$APP.Ca)(function(f){this.Kg(f,!0)},this),this.ra.upload&&(this.ra.upload.onprogress=(0,$APP.Ca)(this.Kg,
this)));try{this.getStatus(),this.Jf=!0,this.ra.open(b,String(a),!0),this.Jf=!1}catch(f){this.getStatus();Q9(this,f);return}a=c||"";c=new Map(this.headers);if(d)if(Object.getPrototypeOf(d)===Object.prototype)for(var e in d)c.set(e,d[e]);else if("function"===typeof d.keys&&"function"===typeof d.get)for(const f of d.keys())c.set(f,d.get(f));else throw Error("Unknown input type for opt_headers: "+String(d));d=Array.from(c.keys()).find(f=>"content-type"==f.toLowerCase());e=$APP.la.FormData&&a instanceof
$APP.la.FormData;!(0<=(0,$APP.$y)(Xma,b))||d||e||c.set("Content-Type","application/x-www-form-urlencoded;charset\x3dutf-8");for(const [f,g]of c)this.ra.setRequestHeader(f,g);this.Oe&&(this.ra.responseType=this.Oe);"withCredentials"in this.ra&&this.ra.withCredentials!==this.eg&&(this.ra.withCredentials=this.eg);if("setTrustToken"in this.ra&&this.ag)try{this.ra.setTrustToken(this.ag)}catch(f){this.getStatus()}try{U9(this),0<this.se&&(this.bg=sla(this.ra),this.getStatus(),this.bg?(this.ra.timeout=this.se,
this.ra.ontimeout=(0,$APP.Ca)(this.qh,this)):this.Se=G9(this.qh,this.se,this)),this.getStatus(),this.Ie=!0,this.ra.send(a),this.Ie=!1}catch(f){this.getStatus(),Q9(this,f)}};$APP.m.qh=function(){"undefined"!=typeof $APP.uz&&this.ra&&(this.Je="Timed out after "+this.se+"ms, aborting",this.Md=8,this.getStatus(),this.dispatchEvent("timeout"),this.abort(8))};
$APP.m.abort=function(a){this.ra&&this.Vc&&(this.getStatus(),this.Vc=!1,this.od=!0,this.ra.abort(),this.od=!1,this.Md=a||7,this.dispatchEvent("complete"),this.dispatchEvent("abort"),P9(this))};$APP.m.Zd=function(){this.ra&&(this.Vc&&(this.Vc=!1,this.od=!0,this.ra.abort(),this.od=!1),P9(this,!0));N9.re.Zd.call(this)};$APP.m.Lg=function(){this.$d||(this.Jf||this.Ie||this.od?S9(this):this.gi())};$APP.m.gi=function(){S9(this)};
$APP.m.Kg=function(a,b){this.dispatchEvent(T9(a,"progress"));this.dispatchEvent(T9(a,b?"downloadprogress":"uploadprogress"))};$APP.m.isActive=function(){return!!this.ra};$APP.m.getStatus=function(){try{return 2<R9(this)?this.ra.status:-1}catch(a){return-1}};$APP.m.getStatusText=function(){try{return 2<R9(this)?this.ra.statusText:""}catch(a){return""}};
$APP.m.getResponse=function(){try{if(!this.ra)return null;if("response"in this.ra)return this.ra.response;switch(this.Oe){case M9:case "text":return this.ra.responseText;case "arraybuffer":if("mozResponseArrayBuffer"in this.ra)return this.ra.mozResponseArrayBuffer}return null}catch(a){return null}};$APP.m.getResponseHeader=function(a){if(this.ra&&4==R9(this))return a=this.ra.getResponseHeader(a),null===a?void 0:a};
$APP.m.getAllResponseHeaders=function(){return this.ra&&4==R9(this)?this.ra.getAllResponseHeaders()||"":""};$APP.m.getResponseHeaders=function(){const a={},b=this.getAllResponseHeaders().split("\r\n");for(let d=0;d<b.length;d++){if($APP.Ra(b[d]))continue;var c=v7(b[d],":",1);const e=c[0];c=c[1];if("string"!==typeof c)continue;c=c.trim();const f=a[e]||[];a[e]=f;f.push(c)}return Fka(a,function(d){return d.join(", ")})};$APP.m.getLastErrorCode=function(){return this.Md};var V9=$APP.Yj.o($APP.ih);var u$=$APP.Yj.o(new $APP.N(null,6,5,$APP.O,[new $APP.N(null,2,5,$APP.O,["application/transit+json",q$],null),new $APP.N(null,2,5,$APP.O,["application/transit+transit",q$],null),new $APP.N(null,2,5,$APP.O,["application/json",p$],null),new $APP.N(null,2,5,$APP.O,["text/plain",r$],null),new $APP.N(null,2,5,$APP.O,["text/html",r$],null),new $APP.N(null,2,5,$APP.O,["*/*",r$],null)],null)),v$=function v$(a){switch(arguments.length){case 0:return v$.C();case 1:return v$.o(arguments[0]);default:throw Error(["Invalid arity: ",
$APP.t.o(arguments.length)].join(""));}};v$.C=function(){return x9(new $APP.n(null,1,[y9,$APP.u(u$)],null))};v$.o=function(a){return x9(a)};v$.B=1;
var a$=function a$(a,b){if($APP.Ge(a)){var d=$APP.O,e=$APP.y(a);a=$APP.le(a);b=a$.j?a$.j(a,b):a$.call(null,a,b);return new $APP.N(null,2,5,d,[e,b],null)}if($APP.Ee(a))return a;if($APP.te(a))return new $APP.n(null,2,[o9,a,p9,"custom"],null);if(null==a)return v$.C();switch(a instanceof $APP.K?a.ia:null){case "transit":return q$.o(b);case "json":return p$(b);case "text":return r$.C?r$.C():r$.call(null);case "ring":return s$.C();case "raw":return r$.C();case "detect":return v$.C();default:return null}},
Fla=$APP.Yj.o(function(a){return $APP.YA.A($APP.F(["CLJS-AJAX response:",a]))}),Gla=$APP.Yj.o(function(a){return"undefined"!==typeof console?console.error(a):"undefined"!==typeof window?window.alert($APP.t.o(a)):$APP.YA.A($APP.F(["CLJS-AJAX ERROR:",a]))});$APP.m=N9.prototype;
$APP.m.Ze=function(a,b,c){var d=$APP.ag(b);a=$APP.Re.j(d,b$);b=$APP.Re.j(d,u9);var e=$APP.Re.j(d,$APP.$r),f=$APP.Re.j(d,F9),g=$APP.Re.v(d,e$,0),k=$APP.Re.v(d,d$,!1),l=$APP.Re.j(d,y9);d=$APP.Re.j(d,Cma);l=$APP.tm.o(l);$APP.p(l)&&this.setResponseType($APP.Yi(l));$APP.te(d)&&(this.setProgressEventsEnabled(!0),$APP.dz(this,"uploadprogress",d));$APP.dz(this,"complete",function(h){h=h.target;return c.o?c.o(h):c.call(null,h)});this.setTimeoutInterval(g);this.setWithCredentials(k);this.send(a,b,e,$APP.hB(f));
return this};$APP.m.$e=function(){return this.abort(7)};$APP.m.af=function(){return this.getResponse()};$APP.m.df=function(){return this.getStatus()};$APP.m.ef=function(){return this.getStatusText()};$APP.m.bf=function(){return $APP.jB.o(this.getResponseHeaders())};$APP.m.cf=function(a,b){return this.getResponseHeader(b)};$APP.m.ff=function(){return $APP.A.j(this.getLastErrorCode(),7)};var w$;if("undefined"!==typeof $APP.uz&&"undefined"!==typeof $APP.la&&"undefined"!==typeof $APP.la.XMLHttpRequest)w$=$APP.la.XMLHttpRequest;else{var x$;if("undefined"!==typeof require){var y$=require;x$=(y$.o?y$.o("xmlhttprequest"):y$.call(null,"xmlhttprequest")).XMLHttpRequest}else x$=null;w$=x$}var Yma=w$;$APP.m=Yma.prototype;
$APP.m.Ze=function(a,b,c){var d=$APP.ag(b),e=$APP.Re.j(d,b$),f=$APP.Re.j(d,u9);a=$APP.Re.j(d,$APP.$r);b=$APP.Re.j(d,F9);var g=$APP.Re.v(d,e$,0),k=$APP.Re.v(d,d$,!1);d=$APP.Re.j(d,y9);var l=this;l.withCredentials=k;l.onreadystatechange=function(h){var r=$APP.A,q=r.j;h=h.target.readyState;var w=new $APP.n(null,5,[0,Gma,1,ama,2,gma,3,Jma,4,l$],null);h=w.o?w.o(h):w.call(null,h);return q.call(r,l$,h)?c.o?c.o(l):c.call(null,l):null};l.open(f,e,!0);l.timeout=g;e=$APP.tm.o(d);$APP.p(e)&&(l.responseType=$APP.Yi(e));
b=$APP.x(b);e=null;for(g=f=0;;)if(g<f)d=e.fa(null,g),k=$APP.D.v(d,0,null),d=$APP.D.v(d,1,null),l.setRequestHeader(k,d),g+=1;else if(b=$APP.x(b))$APP.He(b)?(f=$APP.bd(b),b=$APP.cd(b),e=f,f=$APP.ge(f)):(f=$APP.y(b),e=$APP.D.v(f,0,null),f=$APP.D.v(f,1,null),l.setRequestHeader(e,f),b=$APP.z(b),e=null,f=0),g=0;else break;l.send($APP.p(a)?a:"");return l};$APP.m.$e=function(){return this.abort()};$APP.m.af=function(){return this.response};$APP.m.df=function(){return this.status};$APP.m.ef=function(){return this.statusText};
$APP.m.bf=function(){return Jla(this.getAllResponseHeaders())};$APP.m.cf=function(a,b){return this.getResponseHeader(b)};$APP.m.ff=function(){return $APP.A.j(0,this.readyState)};var z$=function z$(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=1<c.length?new $APP.Fd(c.slice(1),0,null):null;return z$.A(arguments[0],c)};z$.A=function(a,b){var c=$APP.y(b);return c$(a,"GET",c instanceof $APP.K?$APP.wg.j($APP.Vp,b):c)};z$.B=1;z$.F=function(a){var b=$APP.y(a);a=$APP.z(a);return this.A(b,a)};
var A$=function A$(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=1<c.length?new $APP.Fd(c.slice(1),0,null):null;return A$.A(arguments[0],c)};A$.A=function(a,b){var c=$APP.y(b);return c$(a,"HEAD",c instanceof $APP.K?$APP.wg.j($APP.Vp,b):c)};A$.B=1;A$.F=function(a){var b=$APP.y(a);a=$APP.z(a);return this.A(b,a)};
var B$=function B$(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=1<c.length?new $APP.Fd(c.slice(1),0,null):null;return B$.A(arguments[0],c)};B$.A=function(a,b){var c=$APP.y(b);return c$(a,"POST",c instanceof $APP.K?$APP.wg.j($APP.Vp,b):c)};B$.B=1;B$.F=function(a){var b=$APP.y(a);a=$APP.z(a);return this.A(b,a)};
var C$=function C$(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=1<c.length?new $APP.Fd(c.slice(1),0,null):null;return C$.A(arguments[0],c)};C$.A=function(a,b){var c=$APP.y(b);return c$(a,"PUT",c instanceof $APP.K?$APP.wg.j($APP.Vp,b):c)};C$.B=1;C$.F=function(a){var b=$APP.y(a);a=$APP.z(a);return this.A(b,a)};
var D$=function D$(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=1<c.length?new $APP.Fd(c.slice(1),0,null):null;return D$.A(arguments[0],c)};D$.A=function(a,b){var c=$APP.y(b);return c$(a,"DELETE",c instanceof $APP.K?$APP.wg.j($APP.Vp,b):c)};D$.B=1;D$.F=function(a){var b=$APP.y(a);a=$APP.z(a);return this.A(b,a)};
var E$=function E$(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=1<c.length?new $APP.Fd(c.slice(1),0,null):null;return E$.A(arguments[0],c)};E$.A=function(a,b){var c=$APP.y(b);return c$(a,"OPTIONS",c instanceof $APP.K?$APP.wg.j($APP.Vp,b):c)};E$.B=1;E$.F=function(a){var b=$APP.y(a);a=$APP.z(a);return this.A(b,a)};
var F$=function F$(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=1<c.length?new $APP.Fd(c.slice(1),0,null):null;return F$.A(arguments[0],c)};F$.A=function(a,b){var c=$APP.y(b);return c$(a,"TRACE",c instanceof $APP.K?$APP.wg.j($APP.Vp,b):c)};F$.B=1;F$.F=function(a){var b=$APP.y(a);a=$APP.z(a);return this.A(b,a)};
var G$=function G$(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=1<c.length?new $APP.Fd(c.slice(1),0,null):null;return G$.A(arguments[0],c)};G$.A=function(a,b){var c=$APP.y(b);return c$(a,"PATCH",c instanceof $APP.K?$APP.wg.j($APP.Vp,b):c)};G$.B=1;G$.F=function(a){var b=$APP.y(a);a=$APP.z(a);return this.A(b,a)};
var H$=function H$(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=1<c.length?new $APP.Fd(c.slice(1),0,null):null;return H$.A(arguments[0],c)};H$.A=function(a,b){var c=$APP.y(b);return c$(a,"PURGE",c instanceof $APP.K?$APP.wg.j($APP.Vp,b):c)};H$.B=1;H$.F=function(a){var b=$APP.y(a);a=$APP.z(a);return this.A(b,a)};var Zma=$APP.cr(h$,null),$ma=$APP.yy($APP.ti([$APP.ve(pma,new $APP.n(null,3,[$APP.V,$APP.P($APP.el,$APP.P(new $APP.N(null,3,5,$APP.O,[k$,$APP.Jk,$APP.nC],null))),$APP.X,"accepts the URI and an optional map of options, options include:\n        :handler - the handler function for successful operation\n                   should accept a single parameter which is the\n                   deserialized response\n        :progress-handler - the handler function for progress events.\n                            this handler is only available when using the goog.net.XhrIo API\n        :error-handler - the handler function for errors, should accept a\n                         map with keys :status and :status-text\n        :format - the format for the request\n        :response-format - the format for the response\n        :params - a map of parameters that will be sent with the request",
$APP.yJ,new $APP.n(null,6,[$APP.ME,!0,$APP.Bv,1,$APP.qR,1,$APP.tN,new $APP.N(null,1,5,$APP.O,[$APP.P(k$,$APP.nC)],null),$APP.V,$APP.P(new $APP.N(null,3,5,$APP.O,[k$,$APP.Jk,$APP.nC],null)),$APP.$R,$APP.P(null)],null)],null)),yma,$APP.ve(Pma,new $APP.n(null,3,[$APP.V,$APP.P($APP.el,$APP.P(new $APP.N(null,3,5,$APP.O,[k$,$APP.Jk,$APP.nC],null))),$APP.X,"accepts the URI and an optional map of options, options include:\n        :handler - the handler function for successful operation\n                   should accept a single parameter which is the\n                   deserialized response\n        :progress-handler - the handler function for progress events.\n                            this handler is only available when using the goog.net.XhrIo API\n        :error-handler - the handler function for errors, should accept a\n                         map with keys :status and :status-text\n        :format - the format for the request\n        :response-format - the format for the response\n        :params - a map of parameters that will be sent with the request",
$APP.yJ,new $APP.n(null,6,[$APP.ME,!0,$APP.Bv,1,$APP.qR,1,$APP.tN,new $APP.N(null,1,5,$APP.O,[$APP.P(k$,$APP.nC)],null),$APP.V,$APP.P(new $APP.N(null,3,5,$APP.O,[k$,$APP.Jk,$APP.nC],null)),$APP.$R,$APP.P(null)],null)],null)),uma,fma,tma,$APP.ve(Sla,new $APP.n(null,3,[$APP.V,$APP.P($APP.el,$APP.P(new $APP.N(null,3,5,$APP.O,[k$,$APP.Jk,$APP.nC],null))),$APP.X,"accepts the URI and an optional map of options, options include:\n        :handler - the handler function for successful operation\n                   should accept a single parameter which is the\n                   deserialized response\n        :progress-handler - the handler function for progress events.\n                            this handler is only available when using the goog.net.XhrIo API\n        :error-handler - the handler function for errors, should accept a\n                         map with keys :status and :status-text\n        :format - the format for the request\n        :response-format - the format for the response\n        :params - a map of parameters that will be sent with the request",
$APP.yJ,new $APP.n(null,6,[$APP.ME,!0,$APP.Bv,1,$APP.qR,1,$APP.tN,new $APP.N(null,1,5,$APP.O,[$APP.P(k$,$APP.nC)],null),$APP.V,$APP.P(new $APP.N(null,3,5,$APP.O,[k$,$APP.Jk,$APP.nC],null)),$APP.$R,$APP.P(null)],null)],null)),$APP.ve(Dma,new $APP.n(null,3,[$APP.V,$APP.P($APP.el,$APP.P(new $APP.N(null,3,5,$APP.O,[k$,$APP.Jk,$APP.nC],null))),$APP.X,"accepts the URI and an optional map of options, options include:\n        :handler - the handler function for successful operation\n                   should accept a single parameter which is the\n                   deserialized response\n        :progress-handler - the handler function for progress events.\n                            this handler is only available when using the goog.net.XhrIo API\n        :error-handler - the handler function for errors, should accept a\n                         map with keys :status and :status-text\n        :format - the format for the request\n        :response-format - the format for the response\n        :params - a map of parameters that will be sent with the request",
$APP.yJ,new $APP.n(null,6,[$APP.ME,!0,$APP.Bv,1,$APP.qR,1,$APP.tN,new $APP.N(null,1,5,$APP.O,[$APP.P(k$,$APP.nC)],null),$APP.V,$APP.P(new $APP.N(null,3,5,$APP.O,[k$,$APP.Jk,$APP.nC],null)),$APP.$R,$APP.P(null)],null)],null)),xma,$APP.ve(Vla,new $APP.n(null,3,[$APP.V,$APP.P($APP.el,$APP.P(new $APP.N(null,3,5,$APP.O,[k$,$APP.Jk,$APP.nC],null))),$APP.X,"accepts the URI and an optional map of options, options include:\n        :handler - the handler function for successful operation\n                   should accept a single parameter which is the\n                   deserialized response\n        :progress-handler - the handler function for progress events.\n                            this handler is only available when using the goog.net.XhrIo API\n        :error-handler - the handler function for errors, should accept a\n                         map with keys :status and :status-text\n        :format - the format for the request\n        :response-format - the format for the response\n        :params - a map of parameters that will be sent with the request",
$APP.yJ,new $APP.n(null,6,[$APP.ME,!0,$APP.Bv,1,$APP.qR,1,$APP.tN,new $APP.N(null,1,5,$APP.O,[$APP.P(k$,$APP.nC)],null),$APP.V,$APP.P(new $APP.N(null,3,5,$APP.O,[k$,$APP.Jk,$APP.nC],null)),$APP.$R,$APP.P(null)],null)],null)),jma,Ola,Sma,$APP.ve(Tma,new $APP.n(null,3,[$APP.V,$APP.P($APP.el,$APP.P(new $APP.N(null,3,5,$APP.O,[k$,$APP.Jk,$APP.nC],null))),$APP.X,"accepts the URI and an optional map of options, options include:\n        :handler - the handler function for successful operation\n                   should accept a single parameter which is the\n                   deserialized response\n        :progress-handler - the handler function for progress events.\n                            this handler is only available when using the goog.net.XhrIo API\n        :error-handler - the handler function for errors, should accept a\n                         map with keys :status and :status-text\n        :format - the format for the request\n        :response-format - the format for the response\n        :params - a map of parameters that will be sent with the request",
$APP.yJ,new $APP.n(null,6,[$APP.ME,!0,$APP.Bv,1,$APP.qR,1,$APP.tN,new $APP.N(null,1,5,$APP.O,[$APP.P(k$,$APP.nC)],null),$APP.V,$APP.P(new $APP.N(null,3,5,$APP.O,[k$,$APP.Jk,$APP.nC],null)),$APP.$R,$APP.P(null)],null)],null)),$APP.ve(zma,new $APP.n(null,3,[$APP.V,$APP.P($APP.el,$APP.P(new $APP.N(null,3,5,$APP.O,[k$,$APP.Jk,$APP.nC],null))),$APP.X,"accepts the URI and an optional map of options, options include:\n        :handler - the handler function for successful operation\n                   should accept a single parameter which is the\n                   deserialized response\n        :progress-handler - the handler function for progress events.\n                            this handler is only available when using the goog.net.XhrIo API\n        :error-handler - the handler function for errors, should accept a\n                         map with keys :status and :status-text\n        :format - the format for the request\n        :response-format - the format for the response\n        :params - a map of parameters that will be sent with the request",
$APP.yJ,new $APP.n(null,6,[$APP.ME,!0,$APP.Bv,1,$APP.qR,1,$APP.tN,new $APP.N(null,1,5,$APP.O,[$APP.P(k$,$APP.nC)],null),$APP.V,$APP.P(new $APP.N(null,3,5,$APP.O,[k$,$APP.Jk,$APP.nC],null)),$APP.$R,$APP.P(null)],null)],null)),lma,Xla,Qla,$APP.ve(Kla,new $APP.n(null,2,[$APP.V,$APP.P($APP.el,$APP.P(new $APP.N(null,1,5,$APP.O,[j$],null))),$APP.X,"Call this on the result of `ajax-request` to cancel the request."],null)),Qma,Hma,Nma,$APP.ve(sma,new $APP.n(null,3,[$APP.V,$APP.P($APP.el,$APP.P(new $APP.N(null,
3,5,$APP.O,[k$,$APP.Jk,$APP.nC],null))),$APP.X,"accepts the URI and an optional map of options, options include:\n        :handler - the handler function for successful operation\n                   should accept a single parameter which is the\n                   deserialized response\n        :progress-handler - the handler function for progress events.\n                            this handler is only available when using the goog.net.XhrIo API\n        :error-handler - the handler function for errors, should accept a\n                         map with keys :status and :status-text\n        :format - the format for the request\n        :response-format - the format for the response\n        :params - a map of parameters that will be sent with the request",
$APP.yJ,new $APP.n(null,6,[$APP.ME,!0,$APP.Bv,1,$APP.qR,1,$APP.tN,new $APP.N(null,1,5,$APP.O,[$APP.P(k$,$APP.nC)],null),$APP.V,$APP.P(new $APP.N(null,3,5,$APP.O,[k$,$APP.Jk,$APP.nC],null)),$APP.$R,$APP.P(null)],null)],null)),$APP.ve(Bma,new $APP.n(null,3,[$APP.V,$APP.P($APP.el,$APP.P(new $APP.N(null,3,5,$APP.O,[k$,$APP.Jk,$APP.nC],null))),$APP.X,"accepts the URI and an optional map of options, options include:\n        :handler - the handler function for successful operation\n                   should accept a single parameter which is the\n                   deserialized response\n        :progress-handler - the handler function for progress events.\n                            this handler is only available when using the goog.net.XhrIo API\n        :error-handler - the handler function for errors, should accept a\n                         map with keys :status and :status-text\n        :format - the format for the request\n        :response-format - the format for the response\n        :params - a map of parameters that will be sent with the request",
$APP.yJ,new $APP.n(null,6,[$APP.ME,!0,$APP.Bv,1,$APP.qR,1,$APP.tN,new $APP.N(null,1,5,$APP.O,[$APP.P(k$,$APP.nC)],null),$APP.V,$APP.P(new $APP.N(null,3,5,$APP.O,[k$,$APP.Jk,$APP.nC],null)),$APP.$R,$APP.P(null)],null)],null)),dma],[new $APP.n(null,3,[$APP.T,Mma,$APP.xy,B$,$APP.ib,new $APP.n(null,2,[$APP.V,$APP.P(new $APP.N(null,3,5,$APP.O,[k$,$APP.Jk,$APP.nC],null)),$APP.X,"accepts the URI and an optional map of options, options include:\n        :handler - the handler function for successful operation\n                   should accept a single parameter which is the\n                   deserialized response\n        :progress-handler - the handler function for progress events.\n                            this handler is only available when using the goog.net.XhrIo API\n        :error-handler - the handler function for errors, should accept a\n                         map with keys :status and :status-text\n        :format - the format for the request\n        :response-format - the format for the response\n        :params - a map of parameters that will be sent with the request"],
null)],null),new $APP.n(null,3,[$APP.T,Kma,$APP.xy,q$,$APP.ib,$APP.$f],null),new $APP.n(null,3,[$APP.T,Ema,$APP.xy,E$,$APP.ib,new $APP.n(null,2,[$APP.V,$APP.P(new $APP.N(null,3,5,$APP.O,[k$,$APP.Jk,$APP.nC],null)),$APP.X,"accepts the URI and an optional map of options, options include:\n        :handler - the handler function for successful operation\n                   should accept a single parameter which is the\n                   deserialized response\n        :progress-handler - the handler function for progress events.\n                            this handler is only available when using the goog.net.XhrIo API\n        :error-handler - the handler function for errors, should accept a\n                         map with keys :status and :status-text\n        :format - the format for the request\n        :response-format - the format for the response\n        :params - a map of parameters that will be sent with the request"],
null)],null),new $APP.n(null,3,[$APP.T,ema,$APP.xy,B9,$APP.ib,$APP.$f],null),new $APP.n(null,3,[$APP.T,Lla,$APP.xy,u$,$APP.ib,$APP.$f],null),new $APP.n(null,3,[$APP.T,Ima,$APP.xy,$9,$APP.ib,$APP.$f],null),new $APP.n(null,3,[$APP.T,ima,$APP.xy,D$,$APP.ib,new $APP.n(null,2,[$APP.V,$APP.P(new $APP.N(null,3,5,$APP.O,[k$,$APP.Jk,$APP.nC],null)),$APP.X,"accepts the URI and an optional map of options, options include:\n        :handler - the handler function for successful operation\n                   should accept a single parameter which is the\n                   deserialized response\n        :progress-handler - the handler function for progress events.\n                            this handler is only available when using the goog.net.XhrIo API\n        :error-handler - the handler function for errors, should accept a\n                         map with keys :status and :status-text\n        :format - the format for the request\n        :response-format - the format for the response\n        :params - a map of parameters that will be sent with the request"],
null)],null),new $APP.n(null,3,[$APP.T,bma,$APP.xy,C$,$APP.ib,new $APP.n(null,2,[$APP.V,$APP.P(new $APP.N(null,3,5,$APP.O,[k$,$APP.Jk,$APP.nC],null)),$APP.X,"accepts the URI and an optional map of options, options include:\n        :handler - the handler function for successful operation\n                   should accept a single parameter which is the\n                   deserialized response\n        :progress-handler - the handler function for progress events.\n                            this handler is only available when using the goog.net.XhrIo API\n        :error-handler - the handler function for errors, should accept a\n                         map with keys :status and :status-text\n        :format - the format for the request\n        :response-format - the format for the response\n        :params - a map of parameters that will be sent with the request"],
null)],null),new $APP.n(null,3,[$APP.T,cma,$APP.xy,X9,$APP.ib,$APP.$f],null),new $APP.n(null,3,[$APP.T,nma,$APP.xy,A$,$APP.ib,new $APP.n(null,2,[$APP.V,$APP.P(new $APP.N(null,3,5,$APP.O,[k$,$APP.Jk,$APP.nC],null)),$APP.X,"accepts the URI and an optional map of options, options include:\n        :handler - the handler function for successful operation\n                   should accept a single parameter which is the\n                   deserialized response\n        :progress-handler - the handler function for progress events.\n                            this handler is only available when using the goog.net.XhrIo API\n        :error-handler - the handler function for errors, should accept a\n                         map with keys :status and :status-text\n        :format - the format for the request\n        :response-format - the format for the response\n        :params - a map of parameters that will be sent with the request"],
null)],null),new $APP.n(null,3,[$APP.T,qma,$APP.xy,v$,$APP.ib,$APP.$f],null),new $APP.n(null,3,[$APP.T,hma,$APP.xy,Y9,$APP.ib,$APP.$f],null),new $APP.n(null,3,[$APP.T,Wla,$APP.xy,s$,$APP.ib,$APP.$f],null),new $APP.n(null,3,[$APP.T,rma,$APP.xy,z$,$APP.ib,new $APP.n(null,2,[$APP.V,$APP.P(new $APP.N(null,3,5,$APP.O,[k$,$APP.Jk,$APP.nC],null)),$APP.X,"accepts the URI and an optional map of options, options include:\n        :handler - the handler function for successful operation\n                   should accept a single parameter which is the\n                   deserialized response\n        :progress-handler - the handler function for progress events.\n                            this handler is only available when using the goog.net.XhrIo API\n        :error-handler - the handler function for errors, should accept a\n                         map with keys :status and :status-text\n        :format - the format for the request\n        :response-format - the format for the response\n        :params - a map of parameters that will be sent with the request"],
null)],null),new $APP.n(null,3,[$APP.T,vma,$APP.xy,F$,$APP.ib,new $APP.n(null,2,[$APP.V,$APP.P(new $APP.N(null,3,5,$APP.O,[k$,$APP.Jk,$APP.nC],null)),$APP.X,"accepts the URI and an optional map of options, options include:\n        :handler - the handler function for successful operation\n                   should accept a single parameter which is the\n                   deserialized response\n        :progress-handler - the handler function for progress events.\n                            this handler is only available when using the goog.net.XhrIo API\n        :error-handler - the handler function for errors, should accept a\n                         map with keys :status and :status-text\n        :format - the format for the request\n        :response-format - the format for the response\n        :params - a map of parameters that will be sent with the request"],
null)],null),new $APP.n(null,3,[$APP.T,oma,$APP.xy,r$,$APP.ib,$APP.$f],null),new $APP.n(null,3,[$APP.T,Yla,$APP.xy,function(a){a=$APP.mm.A($APP.F([new $APP.n(null,2,[m$,$APP.gf,g$,$APP.gf],null),a]));var b=$APP.nm.A(a,$APP.T,$APP.F([m$,g$]));b=$APP.Fe(a)?$APP.Nh.j($APP.$f,b):b;return new l9($APP.T.o(a),m$.o(a),g$.o(a),null,$APP.bg(b),null)},$APP.ib,$APP.$f],null),new $APP.n(null,3,[$APP.T,Tla,$APP.xy,J7,$APP.ib,$APP.$f],null),new $APP.n(null,3,[$APP.T,Rma,$APP.xy,function(a){return z7(a)},$APP.ib,
new $APP.n(null,2,[$APP.V,$APP.P(new $APP.N(null,1,5,$APP.O,[j$],null)),$APP.X,"Call this on the result of `ajax-request` to cancel the request."],null)],null),new $APP.n(null,3,[$APP.T,Rla,$APP.xy,Z9,$APP.ib,$APP.$f],null),new $APP.n(null,3,[$APP.T,Mla,$APP.xy,V9,$APP.ib,$APP.$f],null),new $APP.n(null,3,[$APP.T,Pla,$APP.xy,r$,$APP.ib,$APP.$f],null),new $APP.n(null,3,[$APP.T,Ama,$APP.xy,G$,$APP.ib,new $APP.n(null,2,[$APP.V,$APP.P(new $APP.N(null,3,5,$APP.O,[k$,$APP.Jk,$APP.nC],null)),$APP.X,"accepts the URI and an optional map of options, options include:\n        :handler - the handler function for successful operation\n                   should accept a single parameter which is the\n                   deserialized response\n        :progress-handler - the handler function for progress events.\n                            this handler is only available when using the goog.net.XhrIo API\n        :error-handler - the handler function for errors, should accept a\n                         map with keys :status and :status-text\n        :format - the format for the request\n        :response-format - the format for the response\n        :params - a map of parameters that will be sent with the request"],
null)],null),new $APP.n(null,3,[$APP.T,Fma,$APP.xy,H$,$APP.ib,new $APP.n(null,2,[$APP.V,$APP.P(new $APP.N(null,3,5,$APP.O,[k$,$APP.Jk,$APP.nC],null)),$APP.X,"accepts the URI and an optional map of options, options include:\n        :handler - the handler function for successful operation\n                   should accept a single parameter which is the\n                   deserialized response\n        :progress-handler - the handler function for progress events.\n                            this handler is only available when using the goog.net.XhrIo API\n        :error-handler - the handler function for errors, should accept a\n                         map with keys :status and :status-text\n        :format - the format for the request\n        :response-format - the format for the response\n        :params - a map of parameters that will be sent with the request"],
null)],null),new $APP.n(null,3,[$APP.T,$la,$APP.xy,p$,$APP.ib,$APP.$f],null)]),Zma);$APP.Ny(new $APP.n(null,1,[$APP.Sr,new $APP.n(null,1,[h$,$ma],null)],null));
}).call(this);</script><script type="text/javascript">(function(){
shadow$provide[0]=function(z,v,J,m){J.exports=ReactDOM};
shadow$provide[1]=function(z,v,J,m){J.exports=React};
'use strict';var d2,f2,g2,h2,j2,k2,l2,Fga,m2,n2,o2,p2,r2,s2,t2,u2,v2,x2,y2,z2,A2,B2,C2,D2,H2,J2,L2,Gga,N2,P2,S2,U2,V2,W2,X2,Iga,Jga,Lga,Mga,e3,Oga,j3,k3,m3,Pga,Qga,Rga,Sga,Vga,n3,Wga,Xga,p3,Yga,r3,Zga,$ga,aha,t3,u3,v3,bha,dha,y3,gha,hha,A3,pha,B3,C3,D3,E3,F3,G3,H3,I3,J3,K3,qha,L3,M3,N3,O3,rha,$2,sha,tha,a3,P3,Q3,R3,uha,S3,vha,wha,xha,yha,zha,eha,T3,Aha,Bha,b3,Cha,U3,Dha,V3,W3,X3,Y3,Eha,jha,Fha,Gha,Hha,Iha,Jha,Kha,Z3,$3,Lha,a4,Mha,b4,Nha,Oha,c4,Pha,e4,f4,Qha,Rha,g4,h4,i4,j4,Sha,Tha,k4,Uha,Vha,l4,m4,
K2,Wha,n4,Xha,Yha,iha,o4,p4,q4,r4,s4,u4,l3,Zha,$ha,v4,w4,i2,x4,z4,aia,cia,B4,C4,c3,dia,eia,D4,fia,Tga,E4,F4,h3,G4,gia,G2,hia,H4,iia,I4;
$APP.c2=function(a,b){var c=Ega[a];if(void 0!==c)return c;try{a2.push(a);var d=b2[a],e=shadow$provide[a];if(void 0===d){if(void 0===e)throw"Module not provided: "+a;d={exports:{}};b2[a]=d}if(e){delete shadow$provide[a];try{e.call(d,$APP.la,$APP.c2,d,d.exports)}catch(g){throw console.warn("shadow-cljs - failed to load",a),g;}if(b){var f=b.globals;if(f)for(a=0;a<f.length;a++)window[f[a]]=d.exports}}}finally{a2.pop()}return d.exports};
d2=function(a){return 2>$APP.ge(a)?$APP.zl(a):[$APP.zl($APP.lj.v(a,0,1)),$APP.lj.j(a,1)].join("")};f2=function(a){if("string"===typeof a)return a;a=$APP.Yi(a);var b=$APP.El.j(a,/-/),c=$APP.x(b);b=$APP.y(c);c=$APP.z(c);return $APP.p(e2.o?e2.o(b):e2.call(null,b))?a:$APP.wg.v($APP.t,b,$APP.wj.j(d2,c))};
g2=function(a){var b=function(){var c=function(){var d=$APP.te(a);if(d){d=a.displayName;if($APP.p(d))return d;d=a.name;return"string"===typeof d&&$APP.x(d)?d:null}return d}();if($APP.p(c))return c;c=function(){var d=null!=a?a.R&4096||$APP.wd===a.sf?!0:!1:!1;return d?$APP.Yi(a):d}();if($APP.p(c))return c;c=$APP.we(a);return $APP.Ee(c)?$APP.T.o(c):null}();return $APP.p(b)?$APP.xl($APP.t.o(b),"$","."):null};h2=function(a){return a instanceof $APP.K||a instanceof $APP.v};
j2=function(a){if($APP.Ee(a))try{var b=$APP.Re.j(a,i2)}catch(c){b=null}else b=null;return b};k2=function(a){var b=i2.o($APP.we(a));if($APP.p(b))return b;b=j2($APP.D.v(a,1,null));if($APP.p(b))return b;b=$APP.D.v(a,0,null);switch(b instanceof $APP.K?b.ia:null){case "\x3e":case "f\x3e":return j2($APP.D.v(a,2,null));case "r\x3e":return a=$APP.D.v(a,2,null),null==a?null:a.key;default:return null}};l2=function(a){return setTimeout(a,16)};Fga=function(a,b){return a.Ef-b.Ef};m2=function(){return null};
n2=function(a){for(var b=a.length,c=0;;)if(c<b){var d=a[c];d.C?d.C():d.call(null);c+=1}else return null};o2=function(a,b,c){b.push(c);return a.schedule()};p2=function(){this.Pe=!1};r2=function(a){if($APP.p(a.cljsIsDirty))return null;a.cljsIsDirty=!0;return $APP.q2.queue_render(a)};s2=function(a){if(null!=a&&null!=a.ni)a=a.id;else{var b=s2[$APP.oa(null==a?null:a)];if(null!=b)a=b.o?b.o(a):b.call(null,a);else if(b=s2._,null!=b)a=b.o?b.o(a):b.call(null,a);else throw $APP.Bb("Compiler.get-id",a);}return a};
t2=function(a,b,c){if(null!=a&&null!=a.eh)a=a.eh(a,b,c);else{var d=t2[$APP.oa(null==a?null:a)];if(null!=d)a=d.v?d.v(a,b,c):d.call(null,a,b,c);else if(d=t2._,null!=d)a=d.v?d.v(a,b,c):d.call(null,a,b,c);else throw $APP.Bb("Compiler.parse-tag",a);}return a};u2=function(a,b){if(null!=a&&null!=a.bh)a=a.bh(a,b);else{var c=u2[$APP.oa(null==a?null:a)];if(null!=c)a=c.j?c.j(a,b):c.call(null,a,b);else if(c=u2._,null!=c)a=c.j?c.j(a,b):c.call(null,a,b);else throw $APP.Bb("Compiler.as-element",a);}return a};
v2=function(a,b,c,d,e){if(null!=a&&null!=a.dh)a=a.dh(a,b,c,d,e);else{var f=v2[$APP.oa(null==a?null:a)];if(null!=f)a=f.S?f.S(a,b,c,d,e):f.call(null,a,b,c,d,e);else if(f=v2._,null!=f)a=f.S?f.S(a,b,c,d,e):f.call(null,a,b,c,d,e);else throw $APP.Bb("Compiler.make-element",a);}return a};x2=function(){return null!=w2};
y2=function(a,b){b.hf=null;a:{var c=w2;w2=b;try{var d=a.C?a.C():a.call(null);break a}finally{w2=c}d=void 0}a=b.hf;b.ad=!1;a:{c=b.ud;var e=null==a?0:a.length,f=e===(null==c?0:c.length);if(f)for(f=0;;){var g=f===e;if(g){c=g;break a}if(a[f]===c[f])f+=1;else{c=!1;break a}}else c=f}c||b._update_watching(a);return d};z2=function(a){var b=w2;if(null!=b){var c=b.hf;null==c?b.hf=[a]:c.push(a)}};A2=function(a,b,c){a.Bb=$APP.Ni.v(a.Bb,b,c);return a.dg=null};
B2=function(a,b){a.Bb=$APP.nm.j(a.Bb,b);return a.dg=null};C2=function(a,b,c){var d=a.dg;d=null==d?a.dg=$APP.ff(function(l,h,r){l.push(h);l.push(r);return l},[],a.Bb):d;for(var e=d.length,f=0;;)if(f<e){var g=d[f],k=d[f+1];k.J?k.J(g,a,b,c):k.call(null,g,a,b,c);f=2+f}else return null};D2=function(a,b,c,d){$APP.Mc(a,["#object[reagent.ratom.",$APP.t.o(c)," "].join(""));a:{c=w2;w2=null;try{var e=d;break a}finally{w2=c}e=void 0}$APP.vj(e,a,b);return $APP.Mc(a,"]")};
$APP.E2=function(a,b,c,d){this.state=a;this.meta=b;this.cg=c;this.Bb=d;this.M=2154201088;this.R=114690};
H2=function(a,b,c,d,e){var f=b.Vf;f=null==f?$APP.$f:f;var g=f.j?f.j(c,null):f.call(null,c,null);if(null!=g)return $APP.u(g);if(null==w2)return a.C?a.C():a.call(null);g=function(){function l(h){var r=$APP.nm.j(b.Vf,c);b.Vf=r;null!=d&&(d.ne=null);return null!=e?e.o?e.o(h):e.call(null,h):null}return $APP.F2.v?$APP.F2.v(a,G2,l):$APP.F2.call(null,a,G2,l)}();var k=$APP.u(g);b.Vf=$APP.Ni.v(f,c,g);null!=d&&(d.ne=g);return k};
$APP.I2=function(a,b,c){this.f=a;this.args=b;this.ne=c;this.M=2153807872;this.R=0};J2=function(a,b){return new $APP.I2(a,b,null)};L2=function(a,b){var c=J2(a,b);a=function(){function d(){return c.Ca(null)}return $APP.F2.v?$APP.F2.v(d,K2,!0):$APP.F2.call(null,d,K2,!0)}();$APP.u(a);return a};$APP.M2=function(a,b,c,d,e){this.ub=a;this.path=b;this.ne=c;this.state=d;this.Bb=e;this.M=2153807872;this.R=114690};Gga=function(a){a=a.destroy;return null==a?null:a.C?a.C():a.call(null)};
N2=function(a){var b=w2;return null==b?[]:H2($APP.Fb,b,a,null,Gga)};$APP.O2=function(a){if(null!=a&&null!=a.Xf)a=a.Xf(a);else{var b=$APP.O2[$APP.oa(null==a?null:a)];if(null!=b)a=b.o?b.o(a):b.call(null,a);else if(b=$APP.O2._,null!=b)a=b.o?b.o(a):b.call(null,a);else throw $APP.Bb("IDisposable.dispose!",a);}return a};P2=function(a,b,c,d){return a._handle_change(b,c,d)};
$APP.Q2=function(a,b,c,d,e,f,g,k){this.f=a;this.state=b;this.ad=c;this.Ig=d;this.ud=e;this.Bb=f;this.Cc=g;this.jf=k;this.M=2153807872;this.R=114690};S2=function(){for(;;){var a=R2;if(null==a)return null;R2=null;for(var b=a.length,c=0;;)if(c<b)a[c]._queued_run(),c+=1;else break}};U2=function(a,b){var c=Hga,d=T2,e=y2(a,d);null!=d.ud&&(T2=$APP.F2(null),d._set_opts(c),d.f=a,d.Cc=function(){return r2.o?r2.o(b):r2.call(null,b)},b.cljsRatom=d);return e};
V2=function(a,b){var c=b.argv;if(null==c){c=$APP.O;a=a.constructor;a:for(var d=$APP.Sa(b),e=d.length,f=$APP.$f,g=0;;)if(g<e){var k=d[g];f=$APP.Ni.v(f,$APP.xj.o(k),$APP.Ta(b,k));g+=1}else break a;b=new $APP.N(null,2,5,c,[a,f],null)}else b=c;return b};W2=function(a){var b;if(b=$APP.te(a))a=null==a?null:a.prototype,b=null!=(null==a?null:a.cd);return b};X2=function(a){var b;if(b=$APP.te(a))a=null==a?null:a.prototype,b=null!=(null==a?null:a.render);return b};
Iga=function(a,b){for(;;){var c=a.cd,d=!0===a.Gh?c.call(a,a):function(){var e=V2(a,a.props);switch($APP.ge(e)){case 1:return c.call(a);case 2:return c.call(a,$APP.D.j(e,1));case 3:return c.call(a,$APP.D.j(e,1),$APP.D.j(e,2));case 4:return c.call(a,$APP.D.j(e,1),$APP.D.j(e,2),$APP.D.j(e,3));case 5:return c.call(a,$APP.D.j(e,1),$APP.D.j(e,2),$APP.D.j(e,3),$APP.D.j(e,4));default:return c.apply(a,$APP.cv.o(e).slice(1))}}();if($APP.Ge(d))return u2(b,d);if($APP.Oe(d))a.cd=W2(d)?function(e,f,g,k,l){return function(){function h(q){var w=
null;if(0<arguments.length){w=0;for(var C=Array(arguments.length-0);w<C.length;)C[w]=arguments[w+0],++w;w=new $APP.Fd(C,0,null)}return r.call(this,w)}function r(q){return u2(f,$APP.wg.v($APP.xA,l,q))}h.B=0;h.F=function(q){q=$APP.x(q);return r(q)};h.A=r;return h}()}(a,b,c,null,d):d;else return d}};
Jga=function(a,b){switch(a instanceof $APP.K?a.ia:null){case "getDefaultProps":throw Error("getDefaultProps not supported");case "getDerivedStateFromProps":return function(c,d){var e=b.call,f=c.argv;null!=f&&(c=$APP.D.v(f,1,null),c=$APP.Ee(c)?c:null);return e.call(b,null,c,d)};case "getInitialState":return function(c){var d=c.Ih;d=null!=d?d:c.Ih=Y2.o(null);return $APP.Ag(d,b.call(c,c))};case "getSnapshotBeforeUpdate":return function(c,d){return b.call(this,this,V2(this,c),d)};case "componentWillReceiveProps":return function(c){return b.call(this,
this,V2(this,c))};case "UNSAFE_componentWillReceiveProps":return function(c){return b.call(this,this,V2(this,c))};case "shouldComponentUpdate":return function(c){var d=Z2;if($APP.p(d))return d;d=this.props.argv;var e=c.argv,f=null==d||null==e;if(null==b){if(f)return f;try{return $APP.Mi.j(d,e)}catch(g){return!1}}else return f?b.call(this,this,V2(this,this.props),V2(this,c)):b.call(this,this,d,e)};case "componentWillUpdate":return function(c,d){return b.call(this,this,V2(this,c),d)};case "UNSAFE_componentWillUpdate":return function(c,
d){return b.call(this,this,V2(this,c),d)};case "componentDidUpdate":return function(c,d,e){return b.call(this,this,V2(this,c),d,e)};case "componentWillMount":return function(){return b.call(this,this)};case "UNSAFE_componentWillMount":return function(){return b.call(this,this)};case "componentDidMount":return function(){return b.call(this,this)};case "componentWillUnmount":return function(){var c=$APP.Ta(this,"cljsRatom");null!=c&&$APP.O2(c);this.cljsIsDirty=!1;return null==b?null:b.call(this,this)};
case "componentDidCatch":return function(c,d){return b.call(this,this,c,d)};default:return null}};Lga=function(a){return $APP.ff(function(b,c,d){return $APP.Ni.v(b,$APP.xj.o(Kga(c)),d)},$APP.$f,a)};
Mga=function(a,b){var c=function(){var g=$2.o(a);return $APP.p(g)?g:a3.o(a)}(),d=null==$2.o(a),e=function(){var g=b3.o(a);if($APP.p(g))return g;g=g2(c);return $APP.p(g)?g:$APP.t.o($APP.Ao.o("reagent"))}(),f=$APP.ff(function(g,k,l){var h=$APP.Ni.v,r=Jga(k,l);return h.call($APP.Ni,g,k,$APP.p(r)?r:l)},$APP.$f,a);return $APP.Ni.A(f,b3,e,$APP.F([c3,d,$2,c,a3,function(){var g=this,k=$APP.Ta(g,"cljsRatom");g.cljsIsDirty=!1;return null==k?U2(function(){a:{var l=d3;d3=g;try{var h=Iga(g,b);break a}finally{d3=
l}h=void 0}return h},g):k._run(!1)}]))};e3=function(a){return $APP.ff(function(b,c,d){c=$APP.Yi(c);b[c]=d;return b},{},a)};Oga=function(a,b){return Mga($APP.mm.A($APP.F([Nga,Lga(a)])),b)};
j3=function(a,b){function c(k,l,h){$APP.f3.Component.call(this,k,l,h);$APP.p(g)&&(g.j?g.j(this,k):g.call(null,this,k));$APP.p(f)&&(this.state=f.o?f.o(this):f.call(null,this));this.Ef=g3+=1;return this}a=Oga(a,b);b=e3($APP.wg.A($APP.nm,a,b3,h3,$APP.jw,$APP.F([a3,$2,i3])));var d=e3($APP.Oi(a,i3)),e=b3.o(a),f=h3.o(a),g=$APP.jw.o(a);$APP.Wa(c.prototype,$APP.f3.Component.prototype,b);$APP.p(a3.o(a))&&(c.prototype.render=a3.o(a));$APP.p($2.o(a))&&(c.prototype.cd=$2.o(a));$APP.p(c3.o(a))&&(c.prototype.Gh=
c3.o(a));$APP.Wa(c,$APP.f3.Component,d);$APP.p(e)&&(c.displayName=e,c.Rb=e,c.dc=function(k){return $APP.Mc(k,e)},Object.defineProperty(c,"name",{value:e,writable:!1}));c.Vb=!0;return c.prototype.constructor=c};k3=function(a,b,c){a=s2(a);return b[a]=c};m3=function(a,b){var c=$APP.Ta(a,s2(b));null==c?W2(a)?a=k3(b,a,a):(c=$APP.we(a),c=$APP.Ni.v(c,l3,a),c=j3(c,b),a=k3(b,a,c)):a=c;return a};
Pga=function(a,b){for(;;){var c=b.cd,d=b.argv,e=$APP.wg.j(c,d);if($APP.Ge(e))return u2(a,e);if($APP.Oe(e))b.cd=W2(e)?function(f,g,k,l,h,r){return function(){function q(C){var G=null;if(0<arguments.length){G=0;for(var M=Array(arguments.length-0);G<M.length;)M[G]=arguments[G+0],++G;G=new $APP.Fd(M,0,null)}return w.call(this,G)}function w(C){return u2(f,$APP.wg.v($APP.xA,r,C))}q.B=0;q.F=function(C){C=$APP.x(C);return w(C)};q.A=w;return q}()}(a,b,c,null,d,e):e;else return e}};
Qga=function(a,b){var c=b.argv,d=b.cd;b=$APP.f3.useState(0);$APP.D.v(b,0,null);var e=$APP.D.v(b,1,null),f=$APP.f3.useRef();$APP.p(f.current)||function(){var k={forceUpdate:function(){return e.o?e.o($APP.Td):e.call(null,$APP.Td)}};k.Ef=g3+=1;k.constructor=d;k.cd=d;return f.current=k}();var g=f.current;b=$APP.Ta(g,"cljsRatom");$APP.f3.useEffect(function(){return function(){var k=$APP.Ta(g,"cljsRatom");return null==k?null:$APP.O2(k)}},[]);g.argv=c;g.cljsIsDirty=!1;return null==b?U2(function(){a:{var k=
d3;d3=g;try{var l=Pga(a,g);break a}finally{d3=k}l=void 0}return l},g):b._run(!1)};Rga=function(a,b){a=a.argv;b=b.argv;var c=!1===Z2;if(c)try{return $APP.A.j(a,b)}catch(d){return!1}else return c};Sga=function(a,b){function c(e){return Qga(a,e)}var d=$APP.Ta(b,s2(a));if($APP.p(d))return d;d=g2(b);c.displayName=d;Object.defineProperty(c,"name",{value:d,writable:!1});d=$APP.f3.memo(c,Rga);k3(a,b,d);return d};
Vga=function(a,b,c,d){var e=$APP.ag($APP.$f);e=$APP.Re.j(e,Tga);if(a===document.activeElement&&$APP.Te(Uga,a.type)&&"string"===typeof b&&"string"===typeof c){var f=a.value;if($APP.Mi.j(f,c))return $APP.q2.add_after_render(function(){return n3.o?n3.o(d):n3.call(null,d)});c=$APP.ge(f)-a.selectionStart;c=$APP.ge(b)-c;d.De=b;a.value=b;$APP.te(e)&&(e.o?e.o(b):e.call(null,b));a.selectionStart=c;return a.selectionEnd=c}d.De=b;a.value=b;return $APP.te(e)?e.o?e.o(b):e.call(null,b):null};
n3=function(a){if($APP.p(a.Df)){a.Cg=!1;var b=a.Hh,c=a.De,d=a.Kf;return $APP.Mi.j(b,c)?Vga(d,b,c,a):null}return null};Wga=function(a,b,c){a.De=c.target.value;$APP.p(a.Cg)||(a.Cg=!0,$APP.q2.add_after_render(function(){return n3(a)}));return b.o?b.o(c):b.call(null,c)};
Xga=function(a){var b=d3;if($APP.p(function(){var f=null!=a;return f?(f=a.hasOwnProperty("onChange"),$APP.p(f)?a.hasOwnProperty("value"):f):f}())){var c=a.value;c=null==c?"":c;var d=a.onChange,e=a.ref;$APP.p(b.Df)||(b.Df=!0,b.De=c);$APP.p(b.fh)||(b.fh=$APP.te(e)?function(f){b.Kf=f;return e.o?e.o(f):e.call(null,f)}:$APP.p($APP.p(e)?e.hasOwnProperty("current"):e)?function(f){b.Kf=f;return e.current=f}:function(f){return b.Kf=f});b.Hh=c;delete a.value;a.defaultValue=c;a.onChange=function(f){return Wga(b,
d,f)};a.ref=b.fh}};$APP.o3=function(a){this.tag=a;this.className=this.id=null};p3=function(a,b){return a.hasOwnProperty(b)?$APP.Ta(a,b):null};Yga=function(a,b,c){if(h2(b)){var d=p3(q3,$APP.Yi(b));null==d?(d=f2(b),b=$APP.Yi(b),b=q3[b]=d):b=d}c=r3.o?r3.o(c):r3.call(null,c);a[b]=c;return a};
r3=function(a){return"object"!==$APP.oa(a)?a:h2(a)?$APP.Yi(a):$APP.Ee(a)?$APP.ff(Yga,{},a):$APP.Ae(a)?$APP.hB(a):$APP.Oe(a)?function(){function b(d){var e=null;if(0<arguments.length){e=0;for(var f=Array(arguments.length-0);e<f.length;)f[e]=arguments[e+0],++e;e=new $APP.Fd(f,0,null)}return c.call(this,e)}function c(d){return $APP.wg.j(a,d)}b.B=0;b.F=function(d){d=$APP.x(d);return c(d)};b.A=c;return b}():$APP.hB(a)};
Zga=function(a,b,c){if(h2(b)){var d=p3(s3,$APP.Yi(b));null==d?(d=f2(b),b=$APP.Yi(b),b=s3[b]=d):b=d}c=r3(c);a[b]=c;return a};
$ga=function(a){return"object"!==$APP.oa(a)?a:h2(a)?$APP.Yi(a):$APP.Ee(a)?$APP.ff(Zga,{},a):$APP.Ae(a)?$APP.hB(a):$APP.Oe(a)?function(){function b(d){var e=null;if(0<arguments.length){e=0;for(var f=Array(arguments.length-0);e<f.length;)f[e]=arguments[e+0],++e;e=new $APP.Fd(f,0,null)}return c.call(this,e)}function c(d){return $APP.wg.j(a,d)}b.B=0;b.F=function(d){d=$APP.x(d);return c(d)};b.A=c;return b}():$APP.hB(a)};
aha=function(a,b,c,d,e){switch($APP.ge(b)-e){case 0:return $APP.f3.createElement(c,d);case 1:return $APP.f3.createElement(c,d,u2(a,$APP.D.v(b,e,null)));default:return $APP.f3.createElement.apply(null,$APP.ff(function(f,g,k){g>=e&&f.push(u2(a,k));return f},[c,d],b))}};t3=function(a,b,c,d){this.tag=a;this.id=b;this.className=c;this.Lh=d};u3=function(a,b,c){a=m3(a,c);c={};c.argv=b;b=k2(b);null!=b&&(c.key=b);return $APP.f3.createElement(a,c)};
v3=function(a,b,c,d){var e={};e.cd=a;e.argv=$APP.Cl.j(b,c);b=k2(b);null!=b&&(e.key=b);return $APP.f3.createElement(Sga(d,a),e)};bha=function(a,b,c){return X2(a)?u3(a,b,c):v3(a,b,1,c)};dha=function(a,b){a=p3(w3,b);if(null==a){var c=$APP.z($APP.jj(cha,$APP.Yi(b)));a=$APP.D.v(c,0,null);var d=$APP.D.v(c,1,null);c=$APP.D.v(c,2,null);c=null==c?null:$APP.xl(c,/\./," ");var e=$APP.Mi.j(-1,a.indexOf("-"));a=new t3(a,d,c,e);return w3[b]=a}return a};
y3=function(a,b,c,d){var e=a.tag,f=$APP.D.v(b,c,null),g=null==f||$APP.Ee(f),k=function(){var r=g?f:null;var q=$APP.Ht.o(r);q=$APP.p(q)?$APP.Ni.v(r,$APP.Ht,x3.o(q)):r;var w=a.id;r=a.className;w=null!=w&&null==$APP.Mr.o(q)?$APP.Ni.v(q,$APP.Mr,w):q;if($APP.p(r)){var C=$APP.Ni.v,G=x3.j,M=$APP.Ht.o(q);q=$APP.p(M)?M:eha.o(q);r=C.call($APP.Ni,w,$APP.Ht,G.call(x3,r,q))}else r=w;r=$APP.p(a.Lh)?$ga(r):r3(r);return $APP.p(r)?r:{}}();c+=g?1:0;a:switch(e){case "input":case "textarea":var l=!0;break a;default:l=
!1}if(l){l=j2(f);var h=function(){var r=d.oi;if($APP.p(r))return r;r=j3(fha,d);return d.oi=r}();return u2(d,$APP.ve(new $APP.N(null,6,5,$APP.O,[h,b,e,k,c,d],null),$APP.mm.A($APP.F([$APP.p(l)?new $APP.n(null,1,[i2,l],null):null,$APP.we(b)]))))}l=j2($APP.we(b));null!=l&&(k.key=l);return v2(d,b,e,k,c)};gha=function(a,b){return $APP.cv.o($APP.wj.j(function(c){return u2(b,c)},a))};
hha=function(a,b,c){null==b&&console.error("vec-to-elem",$APP.Uj.A($APP.F([a])));var d=$APP.D.v(a,0,null);switch(d instanceof $APP.K?d.ia:null){case "\x3e":return c=$APP.D.v(a,1,null),y3(new t3(c,null,null,null),a,2,b);case "r\x3e":c=$APP.D.v(a,1,null);d=$APP.D.v(a,2,null);d=$APP.p(d)?d:{};var e=j2($APP.we(a));null!=e&&(d.key=e);return v2(b,a,c,d,3);case "f\x3e":return v3($APP.D.v(a,1,null),a,2,b);case "\x3c\x3e":return d=$APP.D.v(a,1,null),c=null==d||$APP.Ee(d),d=r3(c?d:null),d=$APP.p(d)?d:{},c=
1+(c?1:0),e=k2(a),null!=e&&(d.key=e),v2(b,a,$APP.f3.Fragment,d,c);default:if(h2(d)||"string"===typeof d)a:for(;;)switch(c=$APP.D.v(a,0,null),d=$APP.Yi(c),e=d.indexOf("\x3e"),e){case -1:b=y3(t2(b,d,c),a,1,b);break a;case 0:b=null;break a;default:a=$APP.ve(new $APP.N(null,2,5,$APP.O,[$APP.lj.v(d,0,e),$APP.Ni.v($APP.ve(a,null),0,$APP.lj.j(d,e+1))],null),$APP.we(a))}else b=d instanceof $APP.o3?y3(d,a,1,b):c.v?c.v(d,a,b):c.call(null,d,a,b);return b}};
A3=function(a){var b=$APP.Ao.o("reagent-compiler"),c=$APP.p(iha.o(a))?bha:u3,d=$APP.Re.v(a,jha,dha);if("undefined"===typeof kha||"undefined"===typeof lha||"undefined"===typeof mha||"undefined"===typeof z3)z3=function(e,f,g,k,l){this.yc=e;this.id=f;this.Eg=g;this.Le=k;this.ei=l;this.M=393216;this.R=0},z3.prototype.ea=function(e,f){return new z3(this.yc,this.id,this.Eg,this.Le,f)},z3.prototype.aa=function(){return this.ei},z3.prototype.ni=function(){return this.id},z3.prototype.eh=function(e,f,g){return this.Le.v?
this.Le.v(this,f,g):this.Le.call(null,this,f,g)},z3.prototype.bh=function(e,f){return"object"!==$APP.oa(f)?f:$APP.Ge(f)?hha(f,this,this.Eg):$APP.Le(f)?gha(f,this):h2(f)?$APP.Yi(f):(null!=f?f.M&2147483648||$APP.wd===f.ta||(f.M?0:$APP.zb($APP.Nc,f)):$APP.zb($APP.Nc,f))?$APP.Uj.A($APP.F([f])):f},z3.prototype.dh=function(e,f,g,k,l){return aha(this,f,g,k,l)},z3.Vb=!0,z3.Rb="reagent.impl.template/t_reagent$impl$template35750",z3.dc=function(e){return $APP.Mc(e,"reagent.impl.template/t_reagent$impl$template35750")};
return new z3(a,b,c,d,$APP.$f)};pha=function(a,b,c){var d=Z2;Z2=!0;try{return nha.render(a.C?a.C():a.call(null),b,function(){var e=Z2;Z2=!1;try{return $APP.Zj.J(oha,$APP.Ni,b,a),$APP.q2.flush_after_render(),null!=c?c.C?c.C():c.call(null):null}finally{Z2=e}})}finally{Z2=d}};B3=function(a){return $APP.O2(a)};C3=function(a,b){return new $APP.M2(a,b,null,null,null)};D3=function(a){return A3(a)};E3=function(){return w2};F3=function(a){return a.Ph};G3=function(a){return a.mi};
H3=function(a,b){return a.Ph=b.mi};I3=function(a,b){return a.destroy=b};J3=function(a){return a.destroy};K3=function(){return!1};qha=new $APP.v("reagent.dom","render","reagent.dom/render",-1216356973,null);L3=new $APP.v(null,"-generation","-generation",627658965,null);M3=new $APP.v(null,"container","container",-96406180,null);N3=new $APP.v(null,"-destroy!","-destroy!",143253949,null);O3=new $APP.v(null,"spec","spec",1988051928,null);
rha=new $APP.v("sci.configs.reagent.reagent","error","sci.configs.reagent.reagent/error",1433174531,null);$2=new $APP.K(null,"reagentRender","reagentRender",-358306383);sha=new $APP.v("reagent.core","reactify-component","reagent.core/reactify-component",-385504376,null);tha=new $APP.v("reagent.ratom","track!","reagent.ratom/track!",1183599982,null);a3=new $APP.K(null,"render","render",-1408033454);P3=new $APP.v(null,"cursor","cursor",-1642498285,null);
Q3=new $APP.v(null,"on-set","on-set",1499578057,null);R3=new $APP.v(null,"make-reaction","make-reaction",1935680112,null);uha=new $APP.v("reagent.ratom","make-reaction","reagent.ratom/make-reaction",272608527,null);S3=new $APP.v(null,"dispose!","dispose!",-395693497,null);vha=new $APP.v("reagent.ratom","-destroy","reagent.ratom/-destroy",-1284026419,null);wha=new $APP.K(null,"contextType","contextType",1033066077);xha=new $APP.v("reagent.core","dispose!","reagent.core/dispose!",239740642,null);
yha=new $APP.v("reagent.core","create-compiler","reagent.core/create-compiler",491047088,null);zha=new $APP.K(null,"componentWillUnmount","componentWillUnmount",1573788814);eha=new $APP.K(null,"className","className",-1983287057);T3=new $APP.v(null,"-tracking?","-tracking?",-1106885352,null);Aha=new $APP.K(null,"component-did-update","component-did-update",-1468549173);Bha=new $APP.v(null,"src","src",-10544524,null);b3=new $APP.K(null,"displayName","displayName",-809144601);
Cha=new $APP.v("sci.configs.reagent.reagent","-generation","sci.configs.reagent.reagent/-generation",-1754580423,null);U3=new $APP.v(null,"reagent.core","reagent.core",1841519592,null);Dha=new $APP.K(null,"display-name","display-name",694513143);V3=new $APP.v(null,"with-let","with-let",-1310113408,null);W3=new $APP.v(null,"with-let-values","with-let-values",1929572375,null);X3=new $APP.v(null,"others","others",-569561186,null);Y3=new $APP.v(null,"create-class","create-class",-665911586,null);
Eha=new $APP.K(null,"getDerivedStateFromProps","getDerivedStateFromProps",-991834739);jha=new $APP.K(null,"parse-tag","parse-tag",1427313738);Fha=new $APP.v("sci.configs.reagent.reagent","-ratom-generation","sci.configs.reagent.reagent/-ratom-generation",662254794,null);Gha=new $APP.v(null,"destroy","destroy",796871122,null);Hha=new $APP.K(null,"shouldComponentUpdate","shouldComponentUpdate",1795750960);Iha=new $APP.K(null,"childContextTypes","childContextTypes",578717991);
Jha=new $APP.v("reagent.core","track!","reagent.core/track!",-954652078,null);Kha=new $APP.v("reagent.core","atom","reagent.core/atom",1748890217,null);Z3=new $APP.v(null,"class2","class2",-1266396392,null);$3=new $APP.v(null,"class1","class1",-1905977651,null);Lha=new $APP.v("reagent.core","cursor","reagent.core/cursor",-1137097804,null);a4=new $APP.v(null,"auto-run","auto-run",-696035332,null);Mha=new $APP.v("reagent.core","as-element","reagent.core/as-element",-1369748434,null);
b4=new $APP.v(null,"-ratom-generation","-ratom-generation",-176468250,null);Nha=new $APP.v("reagent.core","create-class","reagent.core/create-class",-1100017147,null);Oha=new $APP.v("reagent.ratom","make-track","reagent.ratom/make-track",267038680,null);c4=new $APP.v(null,"track","track",1836319014,null);Pha=new $APP.v(null,".hasOwnProperty",".hasOwnProperty",-1264659034,null);$APP.d4=new $APP.K(null,"keys","keys",1068423698);
e4=new $APP.v(null,"-set-ratom-generation!","-set-ratom-generation!",-1545989828,null);f4=new $APP.v(null,"c","c",-122660552,null);Qha=new $APP.v("sci.configs.reagent.reagent","-ratom-context","sci.configs.reagent.reagent/-ratom-context",270989566,null);Rha=new $APP.v("sci.configs.reagent.reagent","-tracking?","sci.configs.reagent.reagent/-tracking?",201600244,null);g4=new $APP.v(null,"callback-or-compiler","callback-or-compiler",90200066,null);
h4=new $APP.v(null,"reagent.debug","reagent.debug",1010511129,null);i4=new $APP.v(null,"reactify-component","reactify-component",-882526483,null);j4=new $APP.v("js","console","js/console",-1426368245,null);Sha=new $APP.v("cljs.core","aget","cljs.core/aget",6345791,null);Tha=new $APP.K(null,"callback","callback",-705136228);k4=new $APP.v(null,"sci.configs.reagent.reagent","sci.configs.reagent.reagent",94604865,null);
Uha=new $APP.v("sci.configs.reagent.reagent","-destroy","sci.configs.reagent.reagent/-destroy",-1999711192,null);Vha=new $APP.v("sci.configs.reagent.reagent","-destroy!","sci.configs.reagent.reagent/-destroy!",-561262631,null);l4=new $APP.K(null,"no-cache","no-cache",1588056370);m4=new $APP.v(null,"-destroy","-destroy",-557272508,null);K2=new $APP.K(null,"auto-run","auto-run",1958400437);Wha=new $APP.v("cljs.core","zero?","cljs.core/zero?",-341242858,null);
n4=new $APP.v(null,"track!","track!",-516308489,null);Xha=new $APP.v(null,".error",".error",1756007195,null);Yha=new $APP.v("reagent.debug","-tracking?","reagent.debug/-tracking?",409956583,null);iha=new $APP.K(null,"function-components","function-components",1492814963);o4=new $APP.v("reagent.ratom","reactive?","reagent.ratom/reactive?",-358553475,null);p4=new $APP.v(null,"render","render",232498073,null);q4=new $APP.v(null,"as-element","as-element",-2139409597,null);
r4=new $APP.v(null,"class","class",-390430469,null);s4=new $APP.v(null,"make-track","make-track",-1388299455,null);$APP.t4=new $APP.K(null,"warn","warn",-436710552);u4=new $APP.v(null,"track-console","track-console",17070495,null);l3=new $APP.K(null,"reagent-render","reagent-render",-985383853);Zha=new $APP.v("reagent.ratom","atom","reagent.ratom/atom",-391081187,null);$ha=new $APP.K(null,"contextTypes","contextTypes",-2023853910);
v4=new $APP.v(null,"create-compiler","create-compiler",1059333141,null);w4=new $APP.v("reagent.debug","track-console","reagent.debug/track-console",-1553126476,null);i2=new $APP.K(null,"key","key",-1516042587);x4=new $APP.v(null,"on-dispose","on-dispose",-549129409,null);$APP.y4=new $APP.v(null,"id","id",252129435,null);z4=new $APP.v(null,"reagent.ratom","reagent.ratom",-2036346616,null);aia=new $APP.v("cljs.core","some?","cljs.core/some?",-440439360,null);
$APP.bia=new $APP.K(null,"style","style",-496642736);cia=new $APP.K(null,"component-will-unmount","component-will-unmount",-2058314698);$APP.A4=new $APP.v(null,"path","path",1452340359,null);B4=new $APP.v("reagent.ratom","with-let-values","reagent.ratom/with-let-values",-575838306,null);C4=new $APP.v(null,"-ratom-context","-ratom-context",1646839514,null);c3=new $APP.K(null,"cljsLegacyRender","cljsLegacyRender",-1527295613);
dia=new $APP.v("sci.configs.reagent.reagent","-set-ratom-generation!","sci.configs.reagent.reagent/-set-ratom-generation!",-35374248,null);eia=new $APP.v("sci.configs.reagent.reagent","with-let","sci.configs.reagent.reagent/with-let",65759084,null);D4=new $APP.K(null,"on-set","on-set",-140953470);fia=new $APP.v("reagent.core","class-names","reagent.core/class-names",-1902681251,null);Tga=new $APP.K(null,"on-write","on-write",31519475);E4=new $APP.v(null,"class-names","class-names",-1397320704,null);
F4=new $APP.v(null,"reactive?","reactive?",1213887990,null);h3=new $APP.K(null,"getInitialState","getInitialState",1541760916);G4=new $APP.v(null,"reagent.dom","reagent.dom",-2138920962,null);gia=new $APP.v("reagent.core","track","reagent.core/track",1263921785,null);G2=new $APP.K(null,"on-dispose","on-dispose",2105306360);hia=new $APP.K(null,"getDerivedStateFromError","getDerivedStateFromError",166658477);H4=new $APP.v(null,"compiler","compiler",1372604796,null);
iia=new $APP.v("reagent.ratom","-destroy!","reagent.ratom/-destroy!",-337873850,null);I4=new $APP.v(null,"destroy__36005__auto__","destroy__36005__auto__",700528305,null);var b2={},Ega={},a2=[];$APP.c2.cache={};$APP.c2.resolve=function(a){return a};var nha=$APP.c2(0,{});var kha={},J4=$APP.Yj.o(null),K4=function(){var a={};a.warn=function(){function b(d){var e=null;if(0<arguments.length){e=0;for(var f=Array(arguments.length-0);e<f.length;)f[e]=arguments[e+0],++e;e=new $APP.Fd(f,0,null)}return c.call(this,e)}function c(d){return $APP.Zj.A(J4,$APP.im,new $APP.N(null,1,5,$APP.O,[$APP.t4],null),$APP.tf,$APP.F([$APP.wg.j($APP.t,d)]))}b.B=0;b.F=function(d){d=$APP.x(d);return c(d)};b.A=c;return b}();a.error=function(){function b(d){var e=null;if(0<arguments.length){e=0;
for(var f=Array(arguments.length-0);e<f.length;)f[e]=arguments[e+0],++e;e=new $APP.Fd(f,0,null)}return c.call(this,e)}function c(d){return $APP.Zj.A(J4,$APP.im,new $APP.N(null,1,5,$APP.O,[$APP.rL],null),$APP.tf,$APP.F([$APP.wg.j($APP.t,d)]))}b.B=0;b.F=function(d){d=$APP.x(d);return c(d)};b.A=c;return b}();return a}();var lha={},jia="undefined"!==typeof window&&null!=window.document,e2=new $APP.Qi(null,new $APP.n(null,2,["aria",null,"data",null],null),null),x3=function x3(a){switch(arguments.length){case 0:return x3.C();case 1:return x3.o(arguments[0]);case 2:return x3.j(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new $APP.Fd(c.slice(2),0,null);return x3.A(arguments[0],arguments[1],c)}};x3.C=function(){return null};
x3.o=function(a){return $APP.Ae(a)?(a=$APP.pr.j(function(b){return $APP.p(b)?h2(b)?$APP.Yi(b):b:null},a),$APP.x(a)?$APP.rr.j(" ",a):null):h2(a)?$APP.Yi(a):a};x3.j=function(a,b){return $APP.p(a)?$APP.p(b)?[$APP.t.o(x3.o(a))," ",$APP.t.o(x3.o(b))].join(""):x3.o(a):x3.o(b)};x3.A=function(a,b,c){return $APP.cf.v(x3,x3.j(a,b),c)};x3.F=function(a){var b=$APP.y(a),c=$APP.z(a);a=$APP.y(c);c=$APP.z(c);return this.A(b,a,c)};x3.B=2;var Z2=!1;$APP.f3=$APP.c2(1,{});var g3=0,L4=jia?function(){var a=window;return function(){var b=a.requestAnimationFrame;if($APP.p(b))return b;b=a.webkitRequestAnimationFrame;if($APP.p(b))return b;b=a.mozRequestAnimationFrame;if($APP.p(b))return b;b=a.msRequestAnimationFrame;return $APP.p(b)?b:l2}().bind(a)}():l2;$APP.m=p2.prototype;$APP.m.flush_after_render=function(){var a=this.ve;if(null==a)return null;this.ve=null;return n2(a)};$APP.m.queue_render=function(a){null==this.Fe&&(this.Fe=[]);return o2(this,this.Fe,a)};
$APP.m.schedule=function(){function a(){return b.run_queues()}var b=this;if(this.Pe)return null;this.Pe=!0;return L4.o?L4.o(a):L4.call(null,a)};$APP.m.flush_before_flush=function(){var a=this.we;if(null==a)return null;this.we=null;return n2(a)};$APP.m.flush_queues=function(){this.flush_before_flush();m2();this.flush_render();return this.flush_after_render()};$APP.m.run_queues=function(){this.Pe=!1;return this.flush_queues()};
$APP.m.add_before_flush=function(a){null==this.we&&(this.we=[]);return o2(this,this.we,a)};$APP.m.add_after_render=function(a){null==this.ve&&(this.ve=[]);return o2(this,this.ve,a)};$APP.m.flush_render=function(){var a=this.Fe;if(null==a)return null;this.Fe=null;a:{a.sort(Fga);for(var b=a.length,c=0;;)if(c<b){var d=a[c];!0===d.cljsIsDirty&&d.forceUpdate();c+=1}else break a}return null};$APP.q2=new p2;var w2;$APP.Yj.o(0);var R2=null;$APP.m=$APP.E2.prototype;$APP.m.Ne=$APP.wd;$APP.m.Z=function(a,b,c){return D2(b,c,"RAtom",new $APP.n(null,1,[$APP.xy,this.Ca(null)],null))};$APP.m.aa=function(){return this.meta};$APP.m.ga=function(){return $APP.xa(this)};$APP.m.U=function(a,b){return this===b};$APP.m.Qb=function(a,b){a=this.state;this.state=b;null!=this.Bb&&C2(this,a,b);return b};$APP.m.ye=function(a,b){return this.Qb(null,b.o?b.o(this.state):b.call(null,this.state))};
$APP.m.ze=function(a,b,c){return this.Qb(null,b.j?b.j(this.state,c):b.call(null,this.state,c))};$APP.m.Ae=function(a,b,c,d){return this.Qb(null,b.v?b.v(this.state,c,d):b.call(null,this.state,c,d))};$APP.m.Be=function(a,b,c,d,e){return this.Qb(null,$APP.wg.S(b,this.state,c,d,e))};$APP.m.Ce=function(a,b){C2(this,a,b)};$APP.m.Xd=function(a,b,c){return A2(this,b,c)};$APP.m.Yd=function(a,b){return B2(this,b)};$APP.m.ea=function(a,b){return new $APP.E2(this.state,b,this.cg,this.Bb)};
$APP.m.Ca=function(){z2(this);return this.state};var Y2=function Y2(a){switch(arguments.length){case 1:return Y2.o(arguments[0]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new $APP.Fd(c.slice(1),0,null);return Y2.A(arguments[0],c)}};Y2.o=function(a){return new $APP.E2(a,null,null,null)};Y2.A=function(a,b){var c=$APP.ag(b);b=$APP.Re.j(c,$APP.ib);c=$APP.Re.j(c,$APP.pA);return new $APP.E2(a,b,c,null)};
Y2.F=function(a){var b=$APP.y(a);a=$APP.z(a);return this.A(b,a)};Y2.B=1;$APP.m=$APP.I2.prototype;$APP.m.Ne=$APP.wd;$APP.m.Ca=function(){var a=this,b=a.ne;return null==b?H2(function(){return $APP.wg.j(a.f,a.args)},a.f,a.args,this,null):$APP.u(b)};$APP.m.U=function(a,b){return b instanceof $APP.I2&&$APP.A.j(this.f,b.f)&&$APP.A.j(this.args,b.args)};$APP.m.ga=function(){return $APP.xd(new $APP.N(null,2,5,$APP.O,[this.f,this.args],null))};
$APP.m.Z=function(a,b,c){return D2(b,c,"Track",new $APP.n(null,2,[$APP.xy,this.Ca(null),$APP.FS,this.f],null))};var M4=function M4(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=1<c.length?new $APP.Fd(c.slice(1),0,null):null;return M4.A(arguments[0],c)};M4.A=function(a,b){return L2(a,b)};M4.B=1;M4.F=function(a){var b=$APP.y(a);a=$APP.z(a);return this.A(b,a)};$APP.m=$APP.M2.prototype;
$APP.m._peek=function(){var a=w2;w2=null;try{return this.Ca(null)}finally{w2=a}};$APP.m._set_state=function(a,b){if(a===b)return null;this.state=b;return null!=this.Bb?C2(this,a,b):null};$APP.m.Ne=$APP.wd;$APP.m.Z=function(a,b,c){return D2(b,c,"RCursor",new $APP.n(null,2,[$APP.xy,this.Ca(null),$APP.Wt,this.path],null))};$APP.m.ga=function(){return $APP.xd(new $APP.N(null,2,5,$APP.O,[this.ub,this.path],null))};
$APP.m.U=function(a,b){return b instanceof $APP.M2&&$APP.A.j(this.path,b.path)&&$APP.A.j(this.ub,b.ub)};$APP.m.Qb=function(a,b){this._set_state(this.state,b);(null!=this.ub?this.ub.M&32768||$APP.wd===this.ub.Ad||(this.ub.M?0:$APP.zb($APP.mc,this.ub)):$APP.zb($APP.mc,this.ub))?$APP.A.j(this.path,$APP.ih)?$APP.Ag(this.ub,b):$APP.Zj.J(this.ub,$APP.Tr,this.path,b):this.ub.j?this.ub.j(this.path,b):this.ub.call(null,this.path,b);return b};
$APP.m.ye=function(a,b){a=this.Qb;var c=this._peek();b=b.o?b.o(c):b.call(null,c);return a.call(this,null,b)};$APP.m.ze=function(a,b,c){a=this.Qb;var d=this._peek();b=b.j?b.j(d,c):b.call(null,d,c);return a.call(this,null,b)};$APP.m.Ae=function(a,b,c,d){a=this.Qb;var e=this._peek();b=b.v?b.v(e,c,d):b.call(null,e,c,d);return a.call(this,null,b)};$APP.m.Be=function(a,b,c,d,e){return this.Qb(null,$APP.wg.S(b,this._peek(),c,d,e))};$APP.m.Ce=function(a,b){C2(this,a,b)};
$APP.m.Xd=function(a,b,c){return A2(this,b,c)};$APP.m.Yd=function(a,b){return B2(this,b)};$APP.m.Ca=function(){var a=this,b=this,c=a.state,d=function(){var e=a.ne;return null==e?H2((null!=a.ub?a.ub.M&32768||$APP.wd===a.ub.Ad||(a.ub.M?0:$APP.zb($APP.mc,a.ub)):$APP.zb($APP.mc,a.ub))?function(){return $APP.Rr.j($APP.u(a.ub),a.path)}:function(){return a.ub.o?a.ub.o(a.path):a.ub.call(null,a.path)},a.ub,a.path,b,null):$APP.u(e)}();b._set_state(c,d);return d};$APP.m=$APP.Q2.prototype;
$APP.m._peek_at=function(){var a=w2;w2=null;try{return this.Ca(null)}finally{w2=a}};$APP.m._handle_change=function(a,b,c){return b===c||this.ad?null:null==this.Cc?(this.ad=!0,null==R2&&(R2=[],!1===$APP.q2.Pe&&$APP.q2.schedule()),R2.push(this)):!0===this.Cc?this._run(!1):this.Cc.o?this.Cc.o(this):this.Cc.call(null,this)};
$APP.m._update_watching=function(a){var b=$APP.Wi(a),c=$APP.Wi(this.ud);this.ud=a;a=$APP.x($APP.cU.j(b,c));for(var d=null,e=0,f=0;;)if(f<e){var g=d.fa(null,f);$APP.Qc(g,this,P2);f+=1}else if(a=$APP.x(a))d=a,$APP.He(d)?(a=$APP.bd(d),f=$APP.cd(d),d=a,e=$APP.ge(a),a=f):(a=$APP.y(d),$APP.Qc(a,this,P2),a=$APP.z(d),d=null,e=0),f=0;else break;b=$APP.x($APP.cU.j(c,b));c=null;for(e=d=0;;)if(e<d)a=c.fa(null,e),$APP.Rc(a,this),e+=1;else if(b=$APP.x(b))c=b,$APP.He(c)?(b=$APP.bd(c),d=$APP.cd(c),c=b,a=$APP.ge(b),
b=d,d=a):(a=$APP.y(c),$APP.Rc(a,this),b=$APP.z(c),c=null,d=0),e=0;else return null};$APP.m._queued_run=function(){return this.ad&&null!=this.ud?this._run(!0):null};$APP.m._try_capture=function(a){try{return this.jf=null,y2(a,this)}catch(b){return this.jf=this.state=a=b,this.ad=!1}};$APP.m._run=function(a){var b=this.state;a=$APP.p(a)?this._try_capture(this.f):y2(this.f,this);this.Ig||(this.state=a,null==this.Bb||$APP.A.j(b,a)||C2(this,b,a));return a};
$APP.m._set_opts=function(a){var b=$APP.ag(a);a=$APP.Re.j(b,K2);var c=$APP.Re.j(b,D4),d=$APP.Re.j(b,G2);b=$APP.Re.j(b,l4);null!=a&&(this.Cc=a);null!=c&&(this.hi=c);null!=d&&(this.Mg=d);return null!=b?this.Ig=b:null};$APP.m.Ne=$APP.wd;$APP.m.Z=function(a,b,c){return D2(b,c,"Reaction",new $APP.n(null,1,[$APP.xy,this.Ca(null)],null))};$APP.m.ga=function(){return $APP.xa(this)};$APP.m.U=function(a,b){return this===b};
$APP.m.Xf=function(){var a=this.state,b=this.ud;this.Cc=this.state=this.ud=null;this.ad=!0;b=$APP.x($APP.Wi(b));for(var c=null,d=0,e=0;;)if(e<d){var f=c.fa(null,e);$APP.Rc(f,this);e+=1}else if(b=$APP.x(b))c=b,$APP.He(c)?(b=$APP.bd(c),e=$APP.cd(c),c=b,d=$APP.ge(b),b=e):(b=$APP.y(c),$APP.Rc(b,this),b=$APP.z(c),c=null,d=0),e=0;else break;null!=this.Mg&&this.Mg(a);a=this.Ng;if(null==a)return null;b=a.length;for(c=0;;)if(c<b)d=a[c],d.o?d.o(this):d.call(null,this),c+=1;else return null};$APP.m.Wf=$APP.ha(53);
$APP.m.Qb=function(a,b){a=this.state;this.state=b;this.hi(a,b);C2(this,a,b);return b};$APP.m.ye=function(a,b){a=this.Qb;var c=this._peek_at();b=b.o?b.o(c):b.call(null,c);return a.call(this,null,b)};$APP.m.ze=function(a,b,c){a=this.Qb;var d=this._peek_at();b=b.j?b.j(d,c):b.call(null,d,c);return a.call(this,null,b)};$APP.m.Ae=function(a,b,c,d){a=this.Qb;var e=this._peek_at();b=b.v?b.v(e,c,d):b.call(null,e,c,d);return a.call(this,null,b)};
$APP.m.Be=function(a,b,c,d,e){return this.Qb(null,$APP.wg.S(b,this._peek_at(),c,d,e))};$APP.m.Ce=function(a,b){C2(this,a,b)};$APP.m.Xd=function(a,b,c){return A2(this,b,c)};$APP.m.Yd=function(a,b){a=$APP.ze(this.Bb);B2(this,b);return!a&&$APP.ze(this.Bb)&&null==this.Cc?this.Xf(null):null};
$APP.m.Ca=function(){var a=this.jf;if(null!=a)throw a;(a=null==w2)&&(S2.C?S2.C():S2.call(null));a&&null==this.Cc?this.ad&&(a=this.state,this.state=this.f.C?this.f.C():this.f.call(null),null==this.Bb||$APP.A.j(a,this.state)||C2(this,a,this.state)):(z2(this),this.ad&&this._run(!1));return this.state};m2=S2;$APP.F2=function F2(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=1<c.length?new $APP.Fd(c.slice(1),0,null):null;return F2.A(arguments[0],c)};
$APP.F2.A=function(a,b){var c=$APP.ag(b);b=$APP.Re.j(c,K2);var d=$APP.Re.j(c,D4);c=$APP.Re.j(c,G2);a=new $APP.Q2(a,null,!0,!1,null,null,null,null);a._set_opts(new $APP.n(null,3,[K2,b,D4,d,G2,c],null));return a};$APP.F2.B=1;$APP.F2.F=function(a){var b=$APP.y(a);a=$APP.z(a);return this.A(b,a)};var T2=$APP.F2(null);var d3,Hga=new $APP.n(null,1,[l4,!0],null),Nga=new $APP.n(null,2,[Hha,null,zha,null],null),Kga=function(a){var b=$APP.Yj.o($APP.$f);return function(c){var d=$APP.Re.j($APP.u(b),c);if(null!=d)return d;d=a.o?a.o(c):a.call(null,c);$APP.Zj.J(b,$APP.Ni,c,d);return d}}(function(a){if("string"===typeof a)return a;a=$APP.Yi(a);a=$APP.xl(a,/(unsafe|UNSAFE)[-_]/,"UNSAFE_");a=$APP.El.j(a,/-/);var b=$APP.x(a);a=$APP.y(b);b=$APP.z(b);return $APP.wg.v($APP.t,a,$APP.wj.j(d2,b))}),i3=new $APP.N(null,5,5,$APP.O,[Iha,
$ha,wha,Eha,hia],null);var Uga=new $APP.Qi(null,new $APP.n(null,6,["url",null,"tel",null,"text",null,"textarea",null,"password",null,"search",null],null),null),fha=new $APP.n(null,4,[Dha,"ReagentInput",Aha,n3,cia,function(a){return a.Df=null},l3,function(a,b,c,d,e){Xga(c);return v2(e,a,b,c,d)}],null);var mha={},z3,cha=/([^\s\.#]+)(?:#([^\s\.#]+))?(?:\.([^\s#]+))?/,q3={"class":"className","for":"htmlFor",charset:"charSet"},s3={},w3={},N4=A3($APP.$f);var oha=$APP.Yj.o($APP.$f),O4=function O4(a){switch(arguments.length){case 2:return O4.j(arguments[0],arguments[1]);case 3:return O4.v(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",$APP.t.o(arguments.length)].join(""));}};O4.j=function(a,b){return O4.v(a,b,N4)};
O4.v=function(a,b,c){S2();c=$APP.te(c)?new $APP.N(null,2,5,$APP.O,[N4,c],null):new $APP.N(null,2,5,$APP.O,[c,Tha.o(c)],null);var d=$APP.D.v(c,0,null);c=$APP.D.v(c,1,null);return pha(function(){return u2(d,$APP.te(a)?a.C?a.C():a.call(null):a)},b,c)};O4.B=3;var P4=function P4(a){switch(arguments.length){case 1:return P4.o(arguments[0]);case 2:return P4.j(arguments[0],arguments[1]);default:throw Error(["Invalid arity: ",$APP.t.o(arguments.length)].join(""));}};P4.o=function(a){return u2(N4,a)};P4.j=function(a,b){return u2(b,a)};P4.B=2;var Q4=function Q4(a){switch(arguments.length){case 1:return Q4.o(arguments[0]);case 2:return Q4.j(arguments[0],arguments[1]);default:throw Error(["Invalid arity: ",$APP.t.o(arguments.length)].join(""));}};
Q4.o=function(a){return Q4.j(a,N4)};Q4.j=function(a,b){return X2(a)?a:m3(a,b)};Q4.B=2;var R4=function R4(a){switch(arguments.length){case 1:return R4.o(arguments[0]);case 2:return R4.j(arguments[0],arguments[1]);default:throw Error(["Invalid arity: ",$APP.t.o(arguments.length)].join(""));}};R4.o=function(a){return j3(a,N4)};R4.j=function(a,b){return j3(a,b)};R4.B=2;
var S4=function S4(a){switch(arguments.length){case 0:return S4.C();case 1:return S4.o(arguments[0]);case 2:return S4.j(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new $APP.Fd(c.slice(2),0,null);return S4.A(arguments[0],arguments[1],c)}};S4.C=function(){return null};S4.o=function(a){return x3.o(a)};S4.j=function(a,b){return x3.j(a,b)};S4.A=function(a,b,c){return $APP.wg.J(x3,a,b,c)};
S4.F=function(a){var b=$APP.y(a),c=$APP.z(a);a=$APP.y(c);c=$APP.z(c);return this.A(b,a,c)};S4.B=2;$APP.T4=function T4(a){switch(arguments.length){case 1:return T4.o(arguments[0]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new $APP.Fd(c.slice(1),0,null);return T4.A(arguments[0],c)}};$APP.T4.o=function(a){return Y2.o(a)};$APP.T4.A=function(a,b){return $APP.wg.v(Y2,a,b)};$APP.T4.F=function(a){var b=$APP.y(a);a=$APP.z(a);return this.A(b,a)};$APP.T4.B=1;
var U4=function U4(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=1<c.length?new $APP.Fd(c.slice(1),0,null):null;return U4.A(arguments[0],c)};U4.A=function(a,b){return J2(a,b)};U4.B=1;U4.F=function(a){var b=$APP.y(a);a=$APP.z(a);return this.A(b,a)};var V4=function V4(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=1<c.length?new $APP.Fd(c.slice(1),0,null):null;return V4.A(arguments[0],c)};
V4.A=function(a,b){return L2(a,b)};V4.B=1;V4.F=function(a){var b=$APP.y(a);a=$APP.z(a);return this.A(b,a)};var W4=function W4(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=3<c.length?new $APP.Fd(c.slice(3),0,null):null;return W4.A(arguments[0],arguments[1],arguments[2],c)};
W4.A=function(a,b,c,d){var e=$APP.Ao.o("with-let");a=$APP.xj.o(e);var f=$APP.Ao.o("init");c=$APP.Nh.j(new $APP.N(null,2,5,$APP.O,[f,$APP.U.o($APP.x($APP.Q.j(new $APP.J(null,Wha,null,1,null),new $APP.J(null,$APP.U.o($APP.x($APP.Q.j(new $APP.J(null,$APP.AI,null,1,null),new $APP.J(null,e,null,1,null)))),null,1,null))))],null),$APP.Fy.j(function(l,h){if($APP.vg(l))return h;l=$APP.mf(l,2);return $APP.U.o($APP.x($APP.Q.A(new $APP.J(null,$APP.Uk,null,1,null),new $APP.J(null,$APP.U.o($APP.x($APP.Q.A(new $APP.J(null,
$APP.SG,null,1,null),new $APP.J(null,f,null,1,null),$APP.F([new $APP.J(null,$APP.U.o($APP.x($APP.Q.j(new $APP.J(null,$APP.KQ,null,1,null),new $APP.J(null,$APP.U.o($APP.x($APP.Q.A(new $APP.J(null,Pha,null,1,null),new $APP.J(null,e,null,1,null),$APP.F([new $APP.J(null,l,null,1,null)])))),null,1,null)))),null,1,null)])))),null,1,null),$APP.F([new $APP.J(null,$APP.U.o($APP.x($APP.Q.A(new $APP.J(null,$APP.vH,null,1,null),new $APP.J(null,e,null,1,null),$APP.F([new $APP.J(null,l,null,1,null),new $APP.J(null,
h,null,1,null)])))),null,1,null),new $APP.J(null,$APP.U.o($APP.x($APP.Q.A(new $APP.J(null,Sha,null,1,null),new $APP.J(null,e,null,1,null),$APP.F([new $APP.J(null,l,null,1,null)])))),null,1,null)]))))},c));var g=function(){var l=$APP.pe(d);return $APP.Le(l)&&$APP.A.j($APP.Qk,$APP.y(l))?new $APP.N(null,2,5,$APP.O,[$APP.Xi(d),$APP.U.o($APP.x($APP.Q.A(new $APP.J(null,$APP.YF,null,1,null),new $APP.J(null,$APP.jh($APP.U.o($APP.x($APP.Q.C()))),null,1,null),$APP.F([$APP.Jd(l)]))))],null):new $APP.N(null,
2,5,$APP.O,[d,null],null)}();b=$APP.D.v(g,0,null);g=$APP.D.v(g,1,null);g=$APP.p(g)?new $APP.J(null,$APP.U.o($APP.x($APP.Q.A(new $APP.J(null,$APP.as,null,1,null),new $APP.J(null,$APP.jh($APP.U.o($APP.x($APP.Q.j(new $APP.J(null,I4,null,1,null),new $APP.J(null,g,null,1,null))))),null,1,null),$APP.F([new $APP.J(null,$APP.U.o($APP.x($APP.Q.A(new $APP.J(null,$APP.Uk,null,1,null),new $APP.J(null,$APP.U.o($APP.x($APP.Q.o(new $APP.J(null,o4,null,1,null)))),null,1,null),$APP.F([new $APP.J(null,$APP.U.o($APP.x($APP.Q.A(new $APP.J(null,
$APP.zD,null,1,null),new $APP.J(null,$APP.U.o($APP.x($APP.Q.j(new $APP.J(null,$APP.DC,null,1,null),new $APP.J(null,$APP.U.o($APP.x($APP.Q.j(new $APP.J(null,vha,null,1,null),new $APP.J(null,e,null,1,null)))),null,1,null)))),null,1,null),$APP.F([new $APP.J(null,$APP.U.o($APP.x($APP.Q.A(new $APP.J(null,iia,null,1,null),new $APP.J(null,e,null,1,null),$APP.F([new $APP.J(null,I4,null,1,null)])))),null,1,null)])))),null,1,null),new $APP.J(null,$APP.U.o($APP.x($APP.Q.o(new $APP.J(null,I4,null,1,null)))),
null,1,null)])))),null,1,null)])))),null,1,null):null;var k=$APP.Ao.o("res");return $APP.U.o($APP.x($APP.Q.A(new $APP.J(null,$APP.as,null,1,null),new $APP.J(null,$APP.jh($APP.U.o($APP.x($APP.Q.j(new $APP.J(null,e,null,1,null),new $APP.J(null,$APP.U.o($APP.x($APP.Q.j(new $APP.J(null,B4,null,1,null),new $APP.J(null,a,null,1,null)))),null,1,null))))),null,1,null),$APP.F([new $APP.J(null,null,null,1,null),new $APP.J(null,$APP.U.o($APP.x($APP.Q.A(new $APP.J(null,$APP.as,null,1,null),new $APP.J(null,$APP.Nh.j(c,
new $APP.N(null,2,5,$APP.O,[k,$APP.U.o($APP.x($APP.Q.j(new $APP.J(null,$APP.Sk,null,1,null),b)))],null)),null,1,null),$APP.F([g,new $APP.J(null,k,null,1,null)])))),null,1,null)]))))};W4.B=3;W4.F=function(a){var b=$APP.y(a),c=$APP.z(a);a=$APP.y(c);var d=$APP.z(c);c=$APP.y(d);d=$APP.z(d);return this.A(b,a,c,d)};
var X4=$APP.cr(U3,null),kia=$APP.ti([Y3,c4,V3,$APP.jD,E4,q4,i4,S3,P3,n4,v4],[function(){var a=new $APP.Cd(function(){return R4},Nha,$APP.ti([$APP.$q,$APP.T,$APP.wm,$APP.vD,$APP.yJ,$APP.Un,$APP.xm,$APP.oT,$APP.V,$APP.X,$APP.nS],[U3,Y3,"reagent/core.cljs",19,new $APP.n(null,6,[$APP.ME,!1,$APP.Bv,2,$APP.qR,2,$APP.tN,new $APP.N(null,2,5,$APP.O,[new $APP.N(null,1,5,$APP.O,[O3],null),new $APP.N(null,2,5,$APP.O,[O3,H4],null)],null),$APP.V,$APP.P(new $APP.N(null,1,5,$APP.O,[O3],null),new $APP.N(null,2,5,
$APP.O,[O3,H4],null)),$APP.$R,$APP.P(null,null)],null),1,68,68,$APP.P(new $APP.N(null,1,5,$APP.O,[O3],null),new $APP.N(null,2,5,$APP.O,[O3,H4],null)),"Creates JS class based on provided Clojure map, for example:\n\n  ```cljs\n  {;; Constructor\n   :constructor (fn [this props])\n   :get-initial-state (fn [this])\n   ;; Static methods\n   :get-derived-state-from-props (fn [props state] partial-state)\n   :get-derived-state-from-error (fn [error] partial-state)\n   ;; Methods\n   :get-snapshot-before-update (fn [this old-argv new-argv] snapshot)\n   :should-component-update (fn [this old-argv new-argv])\n   :component-did-mount (fn [this])\n   :component-did-update (fn [this old-argv old-state snapshot])\n   :component-will-unmount (fn [this])\n   :component-did-catch (fn [this error info])\n   :reagent-render (fn [args....])\n   ;; Or alternatively:\n   :render (fn [this])\n   ;; Deprecated methods:\n   :UNSAFE_component-will-receive-props (fn [this new-argv])\n   :UNSAFE_component-will-update (fn [this new-argv new-state])\n   :UNSAFE_component-will-mount (fn [this])}\n  ```\n\n  Everything is optional, except either :reagent-render or :render.\n\n  Map keys should use `React.Component` method names (https://reactjs.org/docs/react-component.html),\n  and can be provided in snake-case or camelCase.\n\n  State can be initialized using constructor, which matches React.Component class,\n  or using getInitialState which matches old React createClass function and is\n  now implemented by Reagent for compatibility.\n\n  State can usually be anything, e.g. Cljs object. But if using getDerivedState\n  methods, the state has to be plain JS object as React implementation uses\n  Object.assign to merge partial state into the current state.\n\n  React built-in static methods or properties are automatically defined as statics.",
$APP.p(R4)?R4.X:null])),b=$APP.u(a);a=$APP.we(a);var c=$APP.p(null)?null:$APP.T.o(a),d=new $APP.n(null,4,[$APP.$q,X4,$APP.T,c,$APP.V,$APP.V.o(a),$APP.X,$APP.X.o(a)],null);return $APP.p($APP.es.o(a))?$APP.qy(c,b,d):$APP.p($APP.fr.o(a))?$APP.ry(c,b,d):$APP.py(c,b,d)}(),function(){var a=new $APP.Cd(function(){return U4},gia,$APP.ti([$APP.$q,$APP.T,$APP.wm,$APP.vD,$APP.yJ,$APP.Un,$APP.xm,$APP.oT,$APP.V,$APP.X,$APP.nS],[U3,c4,"reagent/core.cljs",12,new $APP.n(null,6,[$APP.ME,!0,$APP.Bv,1,$APP.qR,1,$APP.tN,
new $APP.N(null,1,5,$APP.O,[$APP.P($APP.dI,$APP.mL)],null),$APP.V,$APP.P(new $APP.N(null,3,5,$APP.O,[$APP.dI,$APP.Jk,$APP.mL],null)),$APP.$R,$APP.P(null)],null),1,218,218,$APP.P(new $APP.N(null,3,5,$APP.O,[$APP.dI,$APP.Jk,$APP.mL],null)),"Takes a function and optional arguments, and returns a derefable\n  containing the output of that function. If the function derefs\n  Reagent atoms (or track, etc), the value will be updated whenever\n  the atom changes.\n\n  In other words, `@(track foo bar)` will produce the same result\n  as `(foo bar)`, but foo will only be called again when the atoms it\n  depends on changes, and will only trigger updates of components when\n  its result changes.\n\n  track is lazy, i.e the function is only evaluated on deref.",
$APP.p(U4)?U4.X:null])),b=$APP.u(a);a=$APP.we(a);var c=$APP.p(null)?null:$APP.T.o(a),d=new $APP.n(null,4,[$APP.$q,X4,$APP.T,c,$APP.V,$APP.V.o(a),$APP.X,$APP.X.o(a)],null);return $APP.p($APP.es.o(a))?$APP.qy(c,b,d):$APP.p($APP.fr.o(a))?$APP.ry(c,b,d):$APP.py(c,b,d)}(),function(){var a=new $APP.Cd(function(){return W4},eia,$APP.ti([$APP.$q,$APP.T,$APP.wm,$APP.vD,$APP.yJ,$APP.Un,$APP.xm,$APP.fr,$APP.oT,$APP.V,$APP.X,$APP.nS],[k4,V3,"sci/configs/reagent/reagent.cljs",23,new $APP.n(null,6,[$APP.ME,!0,
$APP.Bv,1,$APP.qR,1,$APP.tN,$APP.P($APP.P($APP.AC,$APP.bI)),$APP.V,$APP.P(new $APP.N(null,3,5,$APP.O,[$APP.AC,$APP.Jk,$APP.bI],null)),$APP.$R,$APP.P(null)],null),1,10,!0,10,$APP.P(new $APP.N(null,3,5,$APP.O,[$APP.AC,$APP.Jk,$APP.bI],null)),null,$APP.p(W4)?W4.X:null])),b=$APP.u(a);a=$APP.we(a);var c=$APP.p(null)?null:$APP.T.o(a),d=new $APP.n(null,4,[$APP.$q,X4,$APP.T,c,$APP.V,$APP.V.o(a),$APP.X,$APP.X.o(a)],null);return $APP.p($APP.es.o(a))?$APP.qy(c,b,d):$APP.p($APP.fr.o(a))?$APP.ry(c,b,d):$APP.py(c,
b,d)}(),function(){var a=new $APP.Cd(function(){return $APP.T4},Kha,$APP.ti([$APP.$q,$APP.T,$APP.wm,$APP.vD,$APP.yJ,$APP.Un,$APP.xm,$APP.oT,$APP.V,$APP.X,$APP.nS],[U3,$APP.jD,"reagent/core.cljs",11,new $APP.n(null,6,[$APP.ME,!0,$APP.Bv,1,$APP.qR,1,$APP.tN,new $APP.N(null,1,5,$APP.O,[new $APP.N(null,1,5,$APP.O,[$APP.sI],null)],null),$APP.V,$APP.P(new $APP.N(null,1,5,$APP.O,[$APP.sI],null),new $APP.N(null,3,5,$APP.O,[$APP.sI,$APP.Jk,$APP.KF],null)),$APP.$R,$APP.P(null,null)],null),1,211,211,$APP.P(new $APP.N(null,
1,5,$APP.O,[$APP.sI],null),new $APP.N(null,3,5,$APP.O,[$APP.sI,$APP.Jk,$APP.KF],null)),"Like clojure.core/atom, except that it keeps track of derefs.\n  Reagent components that derefs one of these are automatically\n  re-rendered.",$APP.p($APP.T4)?$APP.T4.X:null])),b=$APP.u(a);a=$APP.we(a);var c=$APP.p(null)?null:$APP.T.o(a),d=new $APP.n(null,4,[$APP.$q,X4,$APP.T,c,$APP.V,$APP.V.o(a),$APP.X,$APP.X.o(a)],null);return $APP.p($APP.es.o(a))?$APP.qy(c,b,d):$APP.p($APP.fr.o(a))?$APP.ry(c,b,d):$APP.py(c,
b,d)}(),function(){var a=new $APP.Cd(function(){return S4},fia,$APP.ti([$APP.$q,$APP.T,$APP.wm,$APP.vD,$APP.yJ,$APP.Un,$APP.xm,$APP.oT,$APP.V,$APP.X,$APP.nS],[U3,E4,"reagent/core.cljs",18,new $APP.n(null,6,[$APP.ME,!0,$APP.Bv,2,$APP.qR,2,$APP.tN,new $APP.N(null,3,5,$APP.O,[$APP.ih,new $APP.N(null,1,5,$APP.O,[r4],null),new $APP.N(null,2,5,$APP.O,[$3,Z3],null)],null),$APP.V,$APP.P($APP.ih,new $APP.N(null,1,5,$APP.O,[r4],null),new $APP.N(null,2,5,$APP.O,[$3,Z3],null),new $APP.N(null,4,5,$APP.O,[$3,Z3,
$APP.Jk,X3],null)),$APP.$R,$APP.P(null,null,null,null)],null),1,179,179,$APP.P($APP.ih,new $APP.N(null,1,5,$APP.O,[r4],null),new $APP.N(null,2,5,$APP.O,[$3,Z3],null),new $APP.N(null,4,5,$APP.O,[$3,Z3,$APP.Jk,X3],null)),"Function which normalizes and combines class values to a string\n\n  Reagent allows classes to be defined as:\n  - Strings\n  - Named objects (Symbols or Keywords)\n  - Collections of previous types",$APP.p(S4)?S4.X:null])),b=$APP.u(a);a=$APP.we(a);var c=$APP.p(null)?null:$APP.T.o(a),
d=new $APP.n(null,4,[$APP.$q,X4,$APP.T,c,$APP.V,$APP.V.o(a),$APP.X,$APP.X.o(a)],null);return $APP.p($APP.es.o(a))?$APP.qy(c,b,d):$APP.p($APP.fr.o(a))?$APP.ry(c,b,d):$APP.py(c,b,d)}(),function(){var a=new $APP.Cd(function(){return P4},Mha,$APP.ti([$APP.$q,$APP.T,$APP.wm,$APP.vD,$APP.yJ,$APP.Un,$APP.xm,$APP.oT,$APP.V,$APP.X,$APP.nS],[U3,q4,"reagent/core.cljs",17,new $APP.n(null,6,[$APP.ME,!1,$APP.Bv,2,$APP.qR,2,$APP.tN,new $APP.N(null,2,5,$APP.O,[new $APP.N(null,1,5,$APP.O,[$APP.KG],null),new $APP.N(null,
2,5,$APP.O,[$APP.KG,H4],null)],null),$APP.V,$APP.P(new $APP.N(null,1,5,$APP.O,[$APP.KG],null),new $APP.N(null,2,5,$APP.O,[$APP.KG,H4],null)),$APP.$R,$APP.P(null,null)],null),1,46,46,$APP.P(new $APP.N(null,1,5,$APP.O,[$APP.KG],null),new $APP.N(null,2,5,$APP.O,[$APP.KG,H4],null)),"Turns a vector of Hiccup syntax into a React element. Returns form\n  unchanged if it is not a vector.",$APP.p(P4)?P4.X:null])),b=$APP.u(a);a=$APP.we(a);var c=$APP.p(null)?null:$APP.T.o(a),d=new $APP.n(null,4,[$APP.$q,X4,
$APP.T,c,$APP.V,$APP.V.o(a),$APP.X,$APP.X.o(a)],null);return $APP.p($APP.es.o(a))?$APP.qy(c,b,d):$APP.p($APP.fr.o(a))?$APP.ry(c,b,d):$APP.py(c,b,d)}(),function(){var a=new $APP.Cd(function(){return Q4},sha,$APP.ti([$APP.$q,$APP.T,$APP.wm,$APP.vD,$APP.yJ,$APP.Un,$APP.xm,$APP.oT,$APP.V,$APP.X,$APP.nS],[U3,i4,"reagent/core.cljs",25,new $APP.n(null,6,[$APP.ME,!1,$APP.Bv,2,$APP.qR,2,$APP.tN,new $APP.N(null,2,5,$APP.O,[new $APP.N(null,1,5,$APP.O,[f4],null),new $APP.N(null,2,5,$APP.O,[f4,H4],null)],null),
$APP.V,$APP.P(new $APP.N(null,1,5,$APP.O,[f4],null),new $APP.N(null,2,5,$APP.O,[f4,H4],null)),$APP.$R,$APP.P(null,null)],null),1,59,59,$APP.P(new $APP.N(null,1,5,$APP.O,[f4],null),new $APP.N(null,2,5,$APP.O,[f4,H4],null)),"Returns an adapter for a Reagent component, that may be used from\n  React, for example in JSX. A single argument, props, is passed to\n  the component, converted to a map.",$APP.p(Q4)?Q4.X:null])),b=$APP.u(a);a=$APP.we(a);var c=$APP.p(null)?null:$APP.T.o(a),d=new $APP.n(null,4,
[$APP.$q,X4,$APP.T,c,$APP.V,$APP.V.o(a),$APP.X,$APP.X.o(a)],null);return $APP.p($APP.es.o(a))?$APP.qy(c,b,d):$APP.p($APP.fr.o(a))?$APP.ry(c,b,d):$APP.py(c,b,d)}(),function(){var a=new $APP.Cd(function(){return B3},xha,$APP.ti([$APP.$q,$APP.T,$APP.wm,$APP.vD,$APP.Un,$APP.xm,$APP.oT,$APP.V,$APP.X,$APP.nS],[U3,S3,"reagent/core.cljs",15,1,242,242,$APP.P(new $APP.N(null,1,5,$APP.O,[$APP.sI],null)),"Stop the result of track! from updating.",$APP.p(B3)?B3.X:null])),b=$APP.u(a);a=$APP.we(a);var c=$APP.p(null)?
null:$APP.T.o(a),d=new $APP.n(null,4,[$APP.$q,X4,$APP.T,c,$APP.V,$APP.V.o(a),$APP.X,$APP.X.o(a)],null);return $APP.p($APP.es.o(a))?$APP.qy(c,b,d):$APP.p($APP.fr.o(a))?$APP.ry(c,b,d):$APP.py(c,b,d)}(),function(){var a=new $APP.Cd(function(){return C3},Lha,$APP.ti([$APP.$q,$APP.T,$APP.wm,$APP.vD,$APP.Un,$APP.xm,$APP.oT,$APP.V,$APP.X,$APP.nS],[U3,P3,"reagent/core.cljs",13,1,272,272,$APP.P(new $APP.N(null,2,5,$APP.O,[Bha,$APP.A4],null)),"Provide a cursor into a Reagent atom.\n\n  Behaves like a Reagent atom but focuses updates and derefs to\n  the specified path within the wrapped Reagent atom. e.g.,\n\n  ```cljs\n  (let [c (cursor ra [:nested :content])]\n    ... @c ;; equivalent to (get-in @ra [:nested :content])\n    ... (reset! c 42) ;; equivalent to (swap! ra assoc-in [:nested :content] 42)\n    ... (swap! c inc) ;; equivalence to (swap! ra update-in [:nested :content] inc)\n    )\n  ```\n\n  The first parameter can also be a function, that should look\n  something like this:\n\n  ```cljs\n  (defn set-get\n    ([k] (get-in @state k))\n    ([k v] (swap! state assoc-in k v)))\n  ```\n\n  The function will be called with one argument  the path passed to\n  cursor  when the cursor is deref'ed, and two arguments (path and\n  new value) when the cursor is modified.\n\n  Given that set-get function, (and that state is a Reagent atom, or\n  another cursor) these cursors are equivalent:\n  `(cursor state [:foo])` and `(cursor set-get [:foo])`.\n\n  Note that a cursor is lazy: its value will not change until it is\n  used. This may be noticed with add-watch.",
$APP.p(C3)?C3.X:null])),b=$APP.u(a);a=$APP.we(a);var c=$APP.p(null)?null:$APP.T.o(a),d=new $APP.n(null,4,[$APP.$q,X4,$APP.T,c,$APP.V,$APP.V.o(a),$APP.X,$APP.X.o(a)],null);return $APP.p($APP.es.o(a))?$APP.qy(c,b,d):$APP.p($APP.fr.o(a))?$APP.ry(c,b,d):$APP.py(c,b,d)}(),function(){var a=new $APP.Cd(function(){return V4},Jha,$APP.ti([$APP.$q,$APP.T,$APP.wm,$APP.vD,$APP.yJ,$APP.Un,$APP.xm,$APP.oT,$APP.V,$APP.X,$APP.nS],[U3,n4,"reagent/core.cljs",13,new $APP.n(null,6,[$APP.ME,!0,$APP.Bv,1,$APP.qR,1,$APP.tN,
new $APP.N(null,1,5,$APP.O,[$APP.P($APP.dI,$APP.mL)],null),$APP.V,$APP.P(new $APP.N(null,3,5,$APP.O,[$APP.dI,$APP.Jk,$APP.mL],null)),$APP.$R,$APP.P(null)],null),1,234,234,$APP.P(new $APP.N(null,3,5,$APP.O,[$APP.dI,$APP.Jk,$APP.mL],null)),"An eager version of track. The function passed is called\n  immediately, and continues to be called when needed, until stopped\n  with dispose!.",$APP.p(V4)?V4.X:null])),b=$APP.u(a);a=$APP.we(a);var c=$APP.p(null)?null:$APP.T.o(a),d=new $APP.n(null,4,[$APP.$q,X4,
$APP.T,c,$APP.V,$APP.V.o(a),$APP.X,$APP.X.o(a)],null);return $APP.p($APP.es.o(a))?$APP.qy(c,b,d):$APP.p($APP.fr.o(a))?$APP.ry(c,b,d):$APP.py(c,b,d)}(),function(){var a=new $APP.Cd(function(){return D3},yha,$APP.ti([$APP.$q,$APP.T,$APP.wm,$APP.vD,$APP.Un,$APP.xm,$APP.oT,$APP.V,$APP.X,$APP.nS],[U3,v4,"reagent/core.cljs",22,1,353,353,$APP.P(new $APP.N(null,1,5,$APP.O,[$APP.nC],null)),"Creates Compiler object with given `opts`,\n  this can be passed to `render`, `as-element` and other functions to control\n  how they turn the Reagent-style Hiccup into React components and elements.",
$APP.p(D3)?D3.X:null])),b=$APP.u(a);a=$APP.we(a);var c=$APP.p(null)?null:$APP.T.o(a),d=new $APP.n(null,4,[$APP.$q,X4,$APP.T,c,$APP.V,$APP.V.o(a),$APP.X,$APP.X.o(a)],null);return $APP.p($APP.es.o(a))?$APP.qy(c,b,d):$APP.p($APP.fr.o(a))?$APP.ry(c,b,d):$APP.py(c,b,d)}()]),Y4=$APP.cr(z4,null),lia=$APP.ti([W3,$APP.jD,s4,m4,e4,F4,N3,R3,C4,L3,n4,b4],[function(){var a=new $APP.Cd(function(){return N2},B4,$APP.ti([$APP.$q,$APP.T,$APP.wm,$APP.vD,$APP.Un,$APP.xm,$APP.oT,$APP.V,$APP.X,$APP.nS],[z4,W3,"reagent/ratom.cljs",
22,1,329,329,$APP.P(new $APP.N(null,1,5,$APP.O,[$APP.FD],null)),null,$APP.p(N2)?N2.X:null])),b=$APP.u(a);a=$APP.we(a);var c=$APP.p(null)?null:$APP.T.o(a),d=new $APP.n(null,4,[$APP.$q,Y4,$APP.T,c,$APP.V,$APP.V.o(a),$APP.X,$APP.X.o(a)],null);return $APP.p($APP.es.o(a))?$APP.qy(c,b,d):$APP.p($APP.fr.o(a))?$APP.ry(c,b,d):$APP.py(c,b,d)}(),function(){var a=new $APP.Cd(function(){return Y2},Zha,$APP.ti([$APP.$q,$APP.T,$APP.wm,$APP.vD,$APP.yJ,$APP.Un,$APP.xm,$APP.oT,$APP.V,$APP.X,$APP.nS],[z4,$APP.jD,"reagent/ratom.cljs",
11,new $APP.n(null,6,[$APP.ME,!0,$APP.Bv,1,$APP.qR,1,$APP.tN,new $APP.N(null,1,5,$APP.O,[new $APP.N(null,1,5,$APP.O,[$APP.sI],null)],null),$APP.V,$APP.P(new $APP.N(null,1,5,$APP.O,[$APP.sI],null),new $APP.N(null,3,5,$APP.O,[$APP.sI,$APP.Jk,new $APP.n(null,1,[$APP.d4,new $APP.N(null,2,5,$APP.O,[$APP.yE,$APP.OJ],null)],null)],null)),$APP.$R,$APP.P(null,null)],null),1,172,172,$APP.P(new $APP.N(null,1,5,$APP.O,[$APP.sI],null),new $APP.N(null,3,5,$APP.O,[$APP.sI,$APP.Jk,new $APP.n(null,1,[$APP.d4,new $APP.N(null,
2,5,$APP.O,[$APP.yE,$APP.OJ],null)],null)],null)),"Like clojure.core/atom, except that it keeps track of derefs.",$APP.p(Y2)?Y2.X:null])),b=$APP.u(a);a=$APP.we(a);var c=$APP.p(null)?null:$APP.T.o(a),d=new $APP.n(null,4,[$APP.$q,X4,$APP.T,c,$APP.V,$APP.V.o(a),$APP.X,$APP.X.o(a)],null);return $APP.p($APP.es.o(a))?$APP.qy(c,b,d):$APP.p($APP.fr.o(a))?$APP.ry(c,b,d):$APP.py(c,b,d)}(),function(){var a=new $APP.Cd(function(){return J2},Oha,$APP.ti([$APP.$q,$APP.T,$APP.wm,$APP.vD,$APP.Un,$APP.xm,$APP.oT,
$APP.V,$APP.X,$APP.nS],[z4,s4,"reagent/ratom.cljs",17,1,228,228,$APP.P(new $APP.N(null,2,5,$APP.O,[$APP.dI,$APP.mL],null)),null,$APP.p(J2)?J2.X:null])),b=$APP.u(a);a=$APP.we(a);var c=$APP.p(null)?null:$APP.T.o(a),d=new $APP.n(null,4,[$APP.$q,X4,$APP.T,c,$APP.V,$APP.V.o(a),$APP.X,$APP.X.o(a)],null);return $APP.p($APP.es.o(a))?$APP.qy(c,b,d):$APP.p($APP.fr.o(a))?$APP.ry(c,b,d):$APP.py(c,b,d)}(),function(){var a=new $APP.Cd(function(){return J3},Uha,$APP.ti([$APP.$q,$APP.T,$APP.wm,$APP.vD,$APP.Un,$APP.xm,
$APP.oT,$APP.V,$APP.X,$APP.nS],[k4,m4,"sci/configs/reagent/reagent.cljs",15,1,100,100,$APP.P(new $APP.N(null,1,5,$APP.O,[$APP.qI],null)),null,$APP.p(J3)?J3.X:null])),b=$APP.u(a);a=$APP.we(a);var c=$APP.p(null)?null:$APP.T.o(a),d=new $APP.n(null,4,[$APP.$q,Y4,$APP.T,c,$APP.V,$APP.V.o(a),$APP.X,$APP.X.o(a)],null);return $APP.p($APP.es.o(a))?$APP.qy(c,b,d):$APP.p($APP.fr.o(a))?$APP.ry(c,b,d):$APP.py(c,b,d)}(),function(){var a=new $APP.Cd(function(){return H3},dia,$APP.ti([$APP.$q,$APP.T,$APP.wm,$APP.vD,
$APP.Un,$APP.xm,$APP.oT,$APP.V,$APP.X,$APP.nS],[k4,e4,"sci/configs/reagent/reagent.cljs",29,1,92,92,$APP.P(new $APP.N(null,2,5,$APP.O,[$APP.qI,f4],null)),null,$APP.p(H3)?H3.X:null])),b=$APP.u(a);a=$APP.we(a);var c=$APP.p(null)?null:$APP.T.o(a),d=new $APP.n(null,4,[$APP.$q,Y4,$APP.T,c,$APP.V,$APP.V.o(a),$APP.X,$APP.X.o(a)],null);return $APP.p($APP.es.o(a))?$APP.qy(c,b,d):$APP.p($APP.fr.o(a))?$APP.ry(c,b,d):$APP.py(c,b,d)}(),function(){var a=new $APP.Cd(function(){return x2},o4,$APP.ti([$APP.$q,$APP.T,
$APP.wm,$APP.vD,$APP.Un,$APP.xm,$APP.oT,$APP.Fn,$APP.V,$APP.X,$APP.nS],[z4,F4,"reagent/ratom.cljs",25,1,17,17,$APP.XE,$APP.P($APP.ih),null,x2?x2.X:null])),b=$APP.u(a);a=$APP.we(a);var c=$APP.p(null)?null:$APP.T.o(a),d=new $APP.n(null,4,[$APP.$q,Y4,$APP.T,c,$APP.V,$APP.V.o(a),$APP.X,$APP.X.o(a)],null);return $APP.p($APP.es.o(a))?$APP.qy(c,b,d):$APP.p($APP.fr.o(a))?$APP.ry(c,b,d):$APP.py(c,b,d)}(),function(){var a=new $APP.Cd(function(){return I3},Vha,$APP.ti([$APP.$q,$APP.T,$APP.wm,$APP.vD,$APP.Un,
$APP.xm,$APP.oT,$APP.V,$APP.X,$APP.nS],[k4,N3,"sci/configs/reagent/reagent.cljs",16,1,96,96,$APP.P(new $APP.N(null,2,5,$APP.O,[$APP.qI,Gha],null)),null,$APP.p(I3)?I3.X:null])),b=$APP.u(a);a=$APP.we(a);var c=$APP.p(null)?null:$APP.T.o(a),d=new $APP.n(null,4,[$APP.$q,Y4,$APP.T,c,$APP.V,$APP.V.o(a),$APP.X,$APP.X.o(a)],null);return $APP.p($APP.es.o(a))?$APP.qy(c,b,d):$APP.p($APP.fr.o(a))?$APP.ry(c,b,d):$APP.py(c,b,d)}(),function(){var a=new $APP.Cd(function(){return $APP.F2},uha,$APP.ti([$APP.$q,$APP.T,
$APP.wm,$APP.vD,$APP.yJ,$APP.Un,$APP.xm,$APP.oT,$APP.V,$APP.X,$APP.nS],[z4,R3,"reagent/ratom.cljs",20,new $APP.n(null,6,[$APP.ME,!0,$APP.Bv,1,$APP.qR,1,$APP.tN,new $APP.N(null,1,5,$APP.O,[$APP.P($APP.dI,new $APP.n(null,1,[$APP.d4,new $APP.N(null,3,5,$APP.O,[a4,Q3,x4],null)],null))],null),$APP.V,$APP.P(new $APP.N(null,3,5,$APP.O,[$APP.dI,$APP.Jk,new $APP.n(null,1,[$APP.d4,new $APP.N(null,3,5,$APP.O,[a4,Q3,x4],null)],null)],null)),$APP.$R,$APP.P(null)],null),1,517,517,$APP.P(new $APP.N(null,3,5,$APP.O,
[$APP.dI,$APP.Jk,new $APP.n(null,1,[$APP.d4,new $APP.N(null,3,5,$APP.O,[a4,Q3,x4],null)],null)],null)),null,$APP.p($APP.F2)?$APP.F2.X:null])),b=$APP.u(a);a=$APP.we(a);var c=$APP.p(null)?null:$APP.T.o(a),d=new $APP.n(null,4,[$APP.$q,X4,$APP.T,c,$APP.V,$APP.V.o(a),$APP.X,$APP.X.o(a)],null);return $APP.p($APP.es.o(a))?$APP.qy(c,b,d):$APP.p($APP.fr.o(a))?$APP.ry(c,b,d):$APP.py(c,b,d)}(),function(){var a=new $APP.Cd(function(){return E3},Qha,$APP.ti([$APP.$q,$APP.T,$APP.wm,$APP.vD,$APP.Un,$APP.xm,$APP.oT,
$APP.V,$APP.X,$APP.nS],[k4,C4,"sci/configs/reagent/reagent.cljs",21,1,79,79,$APP.P($APP.ih),"Read-only access to the ratom context.",$APP.p(E3)?E3.X:null])),b=$APP.u(a);a=$APP.we(a);var c=$APP.p(null)?null:$APP.T.o(a),d=new $APP.n(null,4,[$APP.$q,Y4,$APP.T,c,$APP.V,$APP.V.o(a),$APP.X,$APP.X.o(a)],null);return $APP.p($APP.es.o(a))?$APP.qy(c,b,d):$APP.p($APP.fr.o(a))?$APP.ry(c,b,d):$APP.py(c,b,d)}(),function(){var a=new $APP.Cd(function(){return F3},Cha,$APP.ti([$APP.$q,$APP.T,$APP.wm,$APP.vD,$APP.Un,
$APP.xm,$APP.oT,$APP.V,$APP.X,$APP.nS],[k4,L3,"sci/configs/reagent/reagent.cljs",18,1,84,84,$APP.P(new $APP.N(null,1,5,$APP.O,[$APP.sI],null)),null,$APP.p(F3)?F3.X:null])),b=$APP.u(a);a=$APP.we(a);var c=$APP.p(null)?null:$APP.T.o(a),d=new $APP.n(null,4,[$APP.$q,Y4,$APP.T,c,$APP.V,$APP.V.o(a),$APP.X,$APP.X.o(a)],null);return $APP.p($APP.es.o(a))?$APP.qy(c,b,d):$APP.p($APP.fr.o(a))?$APP.ry(c,b,d):$APP.py(c,b,d)}(),function(){var a=new $APP.Cd(function(){return M4},tha,$APP.ti([$APP.$q,$APP.T,$APP.wm,
$APP.vD,$APP.yJ,$APP.Un,$APP.xm,$APP.oT,$APP.V,$APP.X,$APP.nS],[z4,n4,"reagent/ratom.cljs",13,new $APP.n(null,6,[$APP.ME,!0,$APP.Bv,1,$APP.qR,1,$APP.tN,new $APP.N(null,1,5,$APP.O,[$APP.P($APP.dI,$APP.mL)],null),$APP.V,$APP.P(new $APP.N(null,3,5,$APP.O,[$APP.dI,$APP.Jk,$APP.mL],null)),$APP.$R,$APP.P(null)],null),1,242,242,$APP.P(new $APP.N(null,3,5,$APP.O,[$APP.dI,$APP.Jk,$APP.mL],null)),null,$APP.p(M4)?M4.X:null])),b=$APP.u(a);a=$APP.we(a);var c=$APP.p(null)?null:$APP.T.o(a),d=new $APP.n(null,4,[$APP.$q,
X4,$APP.T,c,$APP.V,$APP.V.o(a),$APP.X,$APP.X.o(a)],null);return $APP.p($APP.es.o(a))?$APP.qy(c,b,d):$APP.p($APP.fr.o(a))?$APP.ry(c,b,d):$APP.py(c,b,d)}(),function(){var a=new $APP.Cd(function(){return G3},Fha,$APP.ti([$APP.$q,$APP.T,$APP.wm,$APP.vD,$APP.Un,$APP.xm,$APP.oT,$APP.V,$APP.X,$APP.nS],[k4,b4,"sci/configs/reagent/reagent.cljs",24,1,88,88,$APP.P(new $APP.N(null,1,5,$APP.O,[$APP.sI],null)),null,$APP.p(G3)?G3.X:null])),b=$APP.u(a);a=$APP.we(a);var c=$APP.p(null)?null:$APP.T.o(a),d=new $APP.n(null,
4,[$APP.$q,Y4,$APP.T,c,$APP.V,$APP.V.o(a),$APP.X,$APP.X.o(a)],null);return $APP.p($APP.es.o(a))?$APP.qy(c,b,d):$APP.p($APP.fr.o(a))?$APP.ry(c,b,d):$APP.py(c,b,d)}()]),Z4=$APP.cr(h4,null),$4=function $4(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=2<c.length?new $APP.Fd(c.slice(2),0,null):null;return $4.A(arguments[0],arguments[1],c)};
$4.A=function(a,b,c){return $APP.p(!0)?$APP.U.o($APP.x($APP.Q.A(new $APP.J(null,$APP.zD,null,1,null),new $APP.J(null,$APP.U.o($APP.x($APP.Q.j(new $APP.J(null,aia,null,1,null),new $APP.J(null,j4,null,1,null)))),null,1,null),$APP.F([new $APP.J(null,$APP.U.o($APP.x($APP.Q.A(new $APP.J(null,Xha,null,1,null),new $APP.J(null,$APP.U.o($APP.x($APP.Q.A(new $APP.J(null,$APP.Uk,null,1,null),new $APP.J(null,$APP.U.o($APP.x($APP.Q.o(new $APP.J(null,Yha,null,1,null)))),null,1,null),$APP.F([new $APP.J(null,w4,null,
1,null),new $APP.J(null,j4,null,1,null)])))),null,1,null),$APP.F([new $APP.J(null,$APP.U.o($APP.x($APP.Q.j(new $APP.J(null,$APP.ZS,null,1,null),c))),null,1,null)])))),null,1,null)])))):null};$4.B=2;$4.F=function(a){var b=$APP.y(a),c=$APP.z(a);a=$APP.y(c);c=$APP.z(c);return this.A(b,a,c)};
var mia=new $APP.n(null,3,[$APP.VC,function(){var a=new $APP.Cd(function(){return $4},rha,$APP.ti([$APP.$q,$APP.T,$APP.wm,$APP.vD,$APP.yJ,$APP.Un,$APP.xm,$APP.fr,$APP.oT,$APP.V,$APP.X,$APP.nS],[k4,$APP.VC,"sci/configs/reagent/reagent.cljs",20,new $APP.n(null,6,[$APP.ME,!0,$APP.Bv,0,$APP.qR,0,$APP.tN,$APP.P($APP.P($APP.cT)),$APP.V,$APP.P(new $APP.N(null,2,5,$APP.O,[$APP.Jk,$APP.cT],null)),$APP.$R,$APP.P(null)],null),1,126,!0,126,$APP.P(new $APP.N(null,2,5,$APP.O,[$APP.Jk,$APP.cT],null)),"Print with console.error.",
$APP.p($4)?$4.X:null])),b=$APP.u(a);a=$APP.we(a);var c=$APP.p(null)?null:$APP.T.o(a),d=new $APP.n(null,4,[$APP.$q,Z4,$APP.T,c,$APP.V,$APP.V.o(a),$APP.X,$APP.X.o(a)],null);return $APP.p($APP.es.o(a))?$APP.qy(c,b,d):$APP.p($APP.fr.o(a))?$APP.ry(c,b,d):$APP.py(c,b,d)}(),T3,function(){var a=new $APP.Cd(function(){return K3},Rha,$APP.ti([$APP.$q,$APP.T,$APP.wm,$APP.vD,$APP.Un,$APP.xm,$APP.oT,$APP.V,$APP.X,$APP.nS],[k4,T3,"sci/configs/reagent/reagent.cljs",17,1,123,123,$APP.P($APP.ih),null,$APP.p(K3)?K3.X:
null])),b=$APP.u(a);a=$APP.we(a);var c=$APP.p(null)?null:$APP.T.o(a),d=new $APP.n(null,4,[$APP.$q,Z4,$APP.T,c,$APP.V,$APP.V.o(a),$APP.X,$APP.X.o(a)],null);return $APP.p($APP.es.o(a))?$APP.qy(c,b,d):$APP.p($APP.fr.o(a))?$APP.ry(c,b,d):$APP.py(c,b,d)}(),u4,function(){var a=new $APP.Cd(function(){return K4},w4,$APP.ti([$APP.$q,$APP.T,$APP.wm,$APP.vD,$APP.Un,$APP.xm,$APP.oT,$APP.V,$APP.X,$APP.nS],[h4,u4,"reagent/debug.cljs",23,1,10,10,$APP.Id,null,$APP.p(K4)?K4.X:null])),b=$APP.u(a);a=$APP.we(a);var c=
$APP.p(null)?null:$APP.T.o(a),d=new $APP.n(null,4,[$APP.$q,Z4,$APP.T,c,$APP.V,$APP.V.o(a),$APP.X,$APP.X.o(a)],null);return $APP.p($APP.es.o(a))?$APP.qy(c,b,d):$APP.p($APP.fr.o(a))?$APP.ry(c,b,d):$APP.py(c,b,d)}()],null);var nia=$APP.cr(G4,null),oia=new $APP.n(null,1,[p4,function(){var a=new $APP.Cd(function(){return O4},qha,$APP.ti([$APP.$q,$APP.T,$APP.wm,$APP.vD,$APP.yJ,$APP.Un,$APP.xm,$APP.oT,$APP.V,$APP.X,$APP.nS],[G4,p4,"reagent/dom.cljs",13,new $APP.n(null,6,[$APP.ME,!1,$APP.Bv,3,$APP.qR,3,$APP.tN,new $APP.N(null,2,5,$APP.O,[new $APP.N(null,2,5,$APP.O,[$APP.GQ,M3],null),new $APP.N(null,3,5,$APP.O,[$APP.GQ,M3,g4],null)],null),$APP.V,$APP.P(new $APP.N(null,2,5,$APP.O,[$APP.GQ,M3],null),new $APP.N(null,3,5,$APP.O,
[$APP.GQ,M3,g4],null)),$APP.$R,$APP.P(null,null)],null),1,29,29,$APP.P(new $APP.N(null,2,5,$APP.O,[$APP.GQ,M3],null),new $APP.N(null,3,5,$APP.O,[$APP.GQ,M3,g4],null)),"Render a Reagent component into the DOM. The first argument may be\n  either a vector (using Reagent's Hiccup syntax), or a React element.\n  The second argument should be a DOM node.\n\n  Optionally takes a callback that is called when the component is in place.\n\n  Returns the mounted component instance.",$APP.p(O4)?O4.X:null])),
b=$APP.u(a);a=$APP.we(a);var c=$APP.p(null)?null:$APP.T.o(a),d=new $APP.n(null,4,[$APP.$q,nia,$APP.T,c,$APP.V,$APP.V.o(a),$APP.X,$APP.X.o(a)],null);return $APP.p($APP.es.o(a))?$APP.qy(c,b,d):$APP.p($APP.fr.o(a))?$APP.ry(c,b,d):$APP.py(c,b,d)}()],null);$APP.Ny(new $APP.n(null,1,[$APP.Sr,new $APP.n(null,4,[U3,kia,G4,oia,z4,lia,h4,mia],null)],null));
}).call(this);</script><script type="text/javascript">(function(){
shadow$provide[2]=function(z,v,J,m){console.warn('Scripts "build/three.js" and "build/three.min.js" are deprecated with r150+, and will be removed with r160. Please use ES Modules or alternatives: https://threejs.org/docs/index.html#manual/en/introduction/Installation');(function(t,p){"object"===typeof m&&"undefined"!==typeof J?p(m):"function"===typeof define&&define.amd?define(["exports"],p):(t="undefined"!==typeof globalThis?globalThis:t||self,p(t.THREE={}))})(this,function(t){function p(){const a=
4294967295*Math.random()|0,b=4294967295*Math.random()|0,d=4294967295*Math.random()|0,l=4294967295*Math.random()|0;return(uc[a&255]+uc[a>>8&255]+uc[a>>16&255]+uc[a>>24&255]+"-"+uc[b&255]+uc[b>>8&255]+"-"+uc[b>>16&15|64]+uc[b>>24&255]+"-"+uc[d&63|128]+uc[d>>8&255]+"-"+uc[d>>16&255]+uc[d>>24&255]+uc[l&255]+uc[l>>8&255]+uc[l>>16&255]+uc[l>>24&255]).toLowerCase()}function n(a,b,d){return Math.max(b,Math.min(d,a))}function c(a,b){return(a%b+b)%b}function e(a,b,d){return(1-d)*a+d*b}function f(a){return 0===
(a&a-1)&&0!==a}function h(a){return Math.pow(2,Math.ceil(Math.log(a)/Math.LN2))}function k(a){return Math.pow(2,Math.floor(Math.log(a)/Math.LN2))}function g(a,b){switch(b.constructor){case Float32Array:return a;case Uint16Array:return a/65535;case Uint8Array:return a/255;case Int16Array:return Math.max(a/32767,-1);case Int8Array:return Math.max(a/127,-1);default:throw Error("Invalid component type.");}}function r(a,b){switch(b.constructor){case Float32Array:return a;case Uint16Array:return Math.round(65535*
a);case Uint8Array:return Math.round(255*a);case Int16Array:return Math.round(32767*a);case Int8Array:return Math.round(127*a);default:throw Error("Invalid component type.");}}function u(a){for(let b=a.length-1;0<=b;--b)if(65535<=a[b])return!0;return!1}function w(a){return document.createElementNS("http://www.w3.org/1999/xhtml",a)}function x(a){return.04045>a?.0773993808*a:Math.pow(.9478672986*a+.0521327014,2.4)}function B(a){return.0031308>a?12.92*a:1.055*Math.pow(a,.41666)-.055}function E(a){if("undefined"!==
typeof HTMLImageElement&&a instanceof HTMLImageElement||"undefined"!==typeof HTMLCanvasElement&&a instanceof HTMLCanvasElement||"undefined"!==typeof ImageBitmap&&a instanceof ImageBitmap)return zh.getDataURL(a);if(a.data)return{data:Array.from(a.data),width:a.width,height:a.height,type:a.data.constructor.name};console.warn("THREE.Texture: Unable to serialize Texture.");return{}}function C(a,b,d,l,q){for(let y=0,A=a.length-3;y<=A;y+=3){$d.fromArray(a,y);const D=q.x*Math.abs($d.x)+q.y*Math.abs($d.y)+
q.z*Math.abs($d.z),F=b.dot($d),G=d.dot($d),M=l.dot($d);if(Math.max(-Math.max(F,G,M),Math.min(F,G,M))>D)return!1}return!0}function H(a,b,d){0>d&&(d+=1);1<d&&--d;return d<1/6?a+6*(b-a)*d:.5>d?b:d<2/3?a+6*(b-a)*(2/3-d):a}function I(a,b,d,l,q,y,A,D,F){a.getVertexPosition(A,hf);a.getVertexPosition(D,jf);a.getVertexPosition(F,kf);var G=hf,M=jf,N=kf,P=Ah;null===(1===b.side?l.intersectTriangle(N,M,G,!0,P):l.intersectTriangle(G,M,N,0===b.side,P))?a=null:(gg.copy(P),gg.applyMatrix4(a.matrixWorld),b=d.ray.origin.distanceTo(gg),
a=b<d.near||b>d.far?null:{distance:b,point:gg.clone(),object:a});a&&(q&&(hg.fromBufferAttribute(q,A),ig.fromBufferAttribute(q,D),jg.fromBufferAttribute(q,F),a.uv=Wc.getUV(Ah,hf,jf,kf,hg,ig,jg,new za)),y&&(hg.fromBufferAttribute(y,A),ig.fromBufferAttribute(y,D),jg.fromBufferAttribute(y,F),a.uv2=Wc.getUV(Ah,hf,jf,kf,hg,ig,jg,new za)),q={a:A,b:D,c:F,normal:new aa,materialIndex:0},Wc.getNormal(hf,jf,kf,q.normal),a.face=q);return a}function K(a){const b={};for(const d in a){b[d]={};for(const l in a[d]){const q=
a[d][l];q&&(q.isColor||q.isMatrix3||q.isMatrix4||q.isVector2||q.isVector3||q.isVector4||q.isTexture||q.isQuaternion)?b[d][l]=q.clone():Array.isArray(q)?b[d][l]=q.slice():b[d][l]=q}}return b}function O(a){const b={};for(let d=0;d<a.length;d++){const l=K(a[d]);for(const q in l)b[q]=l[q]}return b}function Q(a){return null===a.getRenderTarget()?3001===a.outputEncoding?"srgb":"srgb-linear":"srgb-linear"}function W(){function a(y,A){l(y,A);q=b.requestAnimationFrame(a)}let b=null,d=!1,l=null,q=null;return{start:function(){!0!==
d&&null!==l&&(q=b.requestAnimationFrame(a),d=!0)},stop:function(){b.cancelAnimationFrame(q);d=!1},setAnimationLoop:function(y){l=y},setContext:function(y){b=y}}}function R(a,b){const d=b.isWebGL2,l=new WeakMap;return{get:function(q){q.isInterleavedBufferAttribute&&(q=q.data);return l.get(q)},remove:function(q){q.isInterleavedBufferAttribute&&(q=q.data);const y=l.get(q);y&&(a.deleteBuffer(y.buffer),l.delete(q))},update:function(q,y){if(q.isGLBufferAttribute)y=l.get(q),(!y||y.version<q.version)&&l.set(q,
{buffer:q.buffer,type:q.type,bytesPerElement:q.elementSize,version:q.version});else{q.isInterleavedBufferAttribute&&(q=q.data);var A=l.get(q);if(void 0===A){A=l.set;var D=q,F=q.array;const M=q.usage;var G=a.createBuffer();a.bindBuffer(y,G);a.bufferData(y,F,M);q.onUploadCallback();if(F instanceof Float32Array)y=a.FLOAT;else if(F instanceof Uint16Array)if(q.isFloat16BufferAttribute)if(d)y=a.HALF_FLOAT;else throw Error("THREE.WebGLAttributes: Usage of Float16BufferAttribute requires WebGL2.");else y=
a.UNSIGNED_SHORT;else if(F instanceof Int16Array)y=a.SHORT;else if(F instanceof Uint32Array)y=a.UNSIGNED_INT;else if(F instanceof Int32Array)y=a.INT;else if(F instanceof Int8Array)y=a.BYTE;else if(F instanceof Uint8Array)y=a.UNSIGNED_BYTE;else if(F instanceof Uint8ClampedArray)y=a.UNSIGNED_BYTE;else throw Error("THREE.WebGLAttributes: Unsupported buffer data format: "+F);A.call(l,D,{buffer:G,type:y,bytesPerElement:F.BYTES_PER_ELEMENT,version:q.version})}else A.version<q.version&&(D=q,F=D.array,G=
D.updateRange,a.bindBuffer(y,A.buffer),-1===G.count?a.bufferSubData(y,0,F):(d?a.bufferSubData(y,G.offset*F.BYTES_PER_ELEMENT,F,G.offset,G.count):a.bufferSubData(y,G.offset*F.BYTES_PER_ELEMENT,F.subarray(G.offset,G.offset+G.count)),G.count=-1),D.onUploadCallback(),A.version=q.version)}}}}function X(a,b,d,l,q,y,A){function D(L,U){L.getRGB(kg,Q(a));l.buffers.color.setClear(kg.r,kg.g,kg.b,U,A)}const F=new gb(0);let G=!0===y?0:1,M,N,P=null,T=0,S=null;return{getClearColor:function(){return F},setClearColor:function(L,
U=1){F.set(L);G=U;D(F,G)},getClearAlpha:function(){return G},setClearAlpha:function(L){G=L;D(F,G)},render:function(L,U){let ma=!1,ba=!0===U.isScene?U.background:null;ba&&ba.isTexture&&(ba=(0<U.backgroundBlurriness?d:b).get(ba));var na=a.xr;(na=na.getSession&&na.getSession())&&"additive"===na.environmentBlendMode&&(ba=null);null===ba?D(F,G):ba&&ba.isColor&&(D(ba,1),ma=!0);(a.autoClear||ma)&&a.clear(a.autoClearColor,a.autoClearDepth,a.autoClearStencil);if(ba&&(ba.isCubeTexture||306===ba.mapping)){void 0===
N&&(N=new xc(new ae(1,1,1),new fd({name:"BackgroundCubeMaterial",uniforms:K(Xc.backgroundCube.uniforms),vertexShader:Xc.backgroundCube.vertexShader,fragmentShader:Xc.backgroundCube.fragmentShader,side:1,depthTest:!1,depthWrite:!1,fog:!1})),N.geometry.deleteAttribute("normal"),N.geometry.deleteAttribute("uv"),N.onBeforeRender=function(sa,ja,Ga){this.matrixWorld.copyPosition(Ga.matrixWorld)},Object.defineProperty(N.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),q.update(N));
N.material.uniforms.envMap.value=ba;N.material.uniforms.flipEnvMap.value=ba.isCubeTexture&&!1===ba.isRenderTargetTexture?-1:1;N.material.uniforms.backgroundBlurriness.value=U.backgroundBlurriness;N.material.uniforms.backgroundIntensity.value=U.backgroundIntensity;N.material.toneMapped=3001===ba.encoding?!1:!0;if(P!==ba||T!==ba.version||S!==a.toneMapping)N.material.needsUpdate=!0,P=ba,T=ba.version,S=a.toneMapping;N.layers.enableAll();L.unshift(N,N.geometry,N.material,0,0,null)}else if(ba&&ba.isTexture){void 0===
M&&(M=new xc(new lf(2,2),new fd({name:"BackgroundMaterial",uniforms:K(Xc.background.uniforms),vertexShader:Xc.background.vertexShader,fragmentShader:Xc.background.fragmentShader,side:0,depthTest:!1,depthWrite:!1,fog:!1})),M.geometry.deleteAttribute("normal"),Object.defineProperty(M.material,"map",{get:function(){return this.uniforms.t2D.value}}),q.update(M));M.material.uniforms.t2D.value=ba;M.material.uniforms.backgroundIntensity.value=U.backgroundIntensity;M.material.toneMapped=3001===ba.encoding?
!1:!0;!0===ba.matrixAutoUpdate&&ba.updateMatrix();M.material.uniforms.uvTransform.value.copy(ba.matrix);if(P!==ba||T!==ba.version||S!==a.toneMapping)M.material.needsUpdate=!0,P=ba,T=ba.version,S=a.toneMapping;M.layers.enableAll();L.unshift(M,M.geometry,M.material,0,0,null)}}}}function ca(a,b,d,l){function q(ja){return l.isWebGL2?a.bindVertexArray(ja):L.bindVertexArrayOES(ja)}function y(ja){return l.isWebGL2?a.deleteVertexArray(ja):L.deleteVertexArrayOES(ja)}function A(ja){const Ga=[],oa=[],wa=[];
for(let ya=0;ya<S;ya++)Ga[ya]=0,oa[ya]=0,wa[ya]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:Ga,enabledAttributes:oa,attributeDivisors:wa,object:ja,attributes:{},index:null}}function D(){const ja=na.newAttributes;for(let Ga=0,oa=ja.length;Ga<oa;Ga++)ja[Ga]=0}function F(ja){G(ja,0)}function G(ja,Ga){const oa=na.enabledAttributes,wa=na.attributeDivisors;na.newAttributes[ja]=1;0===oa[ja]&&(a.enableVertexAttribArray(ja),oa[ja]=1);wa[ja]!==Ga&&((l.isWebGL2?a:b.get("ANGLE_instanced_arrays"))[l.isWebGL2?
"vertexAttribDivisor":"vertexAttribDivisorANGLE"](ja,Ga),wa[ja]=Ga)}function M(){const ja=na.newAttributes,Ga=na.enabledAttributes;for(let oa=0,wa=Ga.length;oa<wa;oa++)Ga[oa]!==ja[oa]&&(a.disableVertexAttribArray(oa),Ga[oa]=0)}function N(ja,Ga,oa,wa,ya,xa){!0!==l.isWebGL2||oa!==a.INT&&oa!==a.UNSIGNED_INT?a.vertexAttribPointer(ja,Ga,oa,wa,ya,xa):a.vertexAttribIPointer(ja,Ga,oa,ya,xa)}function P(){T();sa=!0;na!==ba&&(na=ba,q(na.object))}function T(){ba.geometry=null;ba.program=null;ba.wireframe=!1}
const S=a.getParameter(a.MAX_VERTEX_ATTRIBS),L=l.isWebGL2?null:b.get("OES_vertex_array_object"),U=l.isWebGL2||null!==L,ma={},ba=A(null);let na=ba,sa=!1;return{setup:function(ja,Ga,oa,wa,ya){var xa=!1;if(U){xa=!0===Ga.wireframe;var Va=ma[wa.id];void 0===Va&&(Va={},ma[wa.id]=Va);var La=Va[oa.id];void 0===La&&(La={},Va[oa.id]=La);Va=La[xa];void 0===Va&&(Va=A(l.isWebGL2?a.createVertexArray():L.createVertexArrayOES()),La[xa]=Va);xa=Va;na!==xa&&(na=xa,q(na.object));a:{xa=na.attributes;La=wa.attributes;
Va=0;var Ra=oa.getAttributes();for(var Na in Ra)if(0<=Ra[Na].location){var cb=xa[Na],ob=La[Na];void 0===ob&&("instanceMatrix"===Na&&ja.instanceMatrix&&(ob=ja.instanceMatrix),"instanceColor"===Na&&ja.instanceColor&&(ob=ja.instanceColor));if(void 0===cb||cb.attribute!==ob||ob&&cb.data!==ob.data){xa=!0;break a}Va++}xa=na.attributesNum!==Va||na.index!==ya?!0:!1}if(xa){Na={};La=wa.attributes;Va=0;Ra=oa.getAttributes();for(var ub in Ra)0<=Ra[ub].location&&(cb=La[ub],void 0===cb&&("instanceMatrix"===ub&&
ja.instanceMatrix&&(cb=ja.instanceMatrix),"instanceColor"===ub&&ja.instanceColor&&(cb=ja.instanceColor)),ob={},(ob.attribute=cb)&&cb.data&&(ob.data=cb.data),Na[ub]=ob,Va++);na.attributes=Na;na.attributesNum=Va;na.index=ya}}else if(ub=!0===Ga.wireframe,na.geometry!==wa.id||na.program!==oa.id||na.wireframe!==ub)na.geometry=wa.id,na.program=oa.id,na.wireframe=ub,xa=!0;null!==ya&&d.update(ya,a.ELEMENT_ARRAY_BUFFER);if(xa||sa){sa=!1;if(!1!==l.isWebGL2||!ja.isInstancedMesh&&!wa.isInstancedBufferGeometry||
null!==b.get("ANGLE_instanced_arrays")){D();ub=wa.attributes;oa=oa.getAttributes();Ga=Ga.defaultAttributeValues;for(const $a in oa)if(Na=oa[$a],0<=Na.location){var Bb=ub[$a];void 0===Bb&&("instanceMatrix"===$a&&ja.instanceMatrix&&(Bb=ja.instanceMatrix),"instanceColor"===$a&&ja.instanceColor&&(Bb=ja.instanceColor));if(void 0!==Bb){if(xa=Bb.normalized,La=Bb.itemSize,Ra=d.get(Bb),void 0!==Ra)if(cb=Ra.buffer,Va=Ra.type,Ra=Ra.bytesPerElement,Bb.isInterleavedBufferAttribute){var Sa=Bb.data;ob=Sa.stride;
Bb=Bb.offset;if(Sa.isInstancedInterleavedBuffer){for(let bb=0;bb<Na.locationSize;bb++)G(Na.location+bb,Sa.meshPerAttribute);!0!==ja.isInstancedMesh&&void 0===wa._maxInstanceCount&&(wa._maxInstanceCount=Sa.meshPerAttribute*Sa.count)}else for(Sa=0;Sa<Na.locationSize;Sa++)F(Na.location+Sa);a.bindBuffer(a.ARRAY_BUFFER,cb);for(cb=0;cb<Na.locationSize;cb++)N(Na.location+cb,La/Na.locationSize,Va,xa,ob*Ra,(Bb+La/Na.locationSize*cb)*Ra)}else{if(Bb.isInstancedBufferAttribute){for(ob=0;ob<Na.locationSize;ob++)G(Na.location+
ob,Bb.meshPerAttribute);!0!==ja.isInstancedMesh&&void 0===wa._maxInstanceCount&&(wa._maxInstanceCount=Bb.meshPerAttribute*Bb.count)}else for(ob=0;ob<Na.locationSize;ob++)F(Na.location+ob);a.bindBuffer(a.ARRAY_BUFFER,cb);for(cb=0;cb<Na.locationSize;cb++)N(Na.location+cb,La/Na.locationSize,Va,xa,La*Ra,La/Na.locationSize*cb*Ra)}}else if(void 0!==Ga&&(xa=Ga[$a],void 0!==xa))switch(xa.length){case 2:a.vertexAttrib2fv(Na.location,xa);break;case 3:a.vertexAttrib3fv(Na.location,xa);break;case 4:a.vertexAttrib4fv(Na.location,
xa);break;default:a.vertexAttrib1fv(Na.location,xa)}}M()}null!==ya&&a.bindBuffer(a.ELEMENT_ARRAY_BUFFER,d.get(ya).buffer)}},reset:P,resetDefaultState:T,dispose:function(){P();for(const ja in ma){const Ga=ma[ja];for(const oa in Ga){const wa=Ga[oa];for(const ya in wa)y(wa[ya].object),delete wa[ya];delete Ga[oa]}delete ma[ja]}},releaseStatesOfGeometry:function(ja){if(void 0!==ma[ja.id]){var Ga=ma[ja.id];for(const oa in Ga){const wa=Ga[oa];for(const ya in wa)y(wa[ya].object),delete wa[ya];delete Ga[oa]}delete ma[ja.id]}},
releaseStatesOfProgram:function(ja){for(const Ga in ma){const oa=ma[Ga];if(void 0===oa[ja.id])continue;const wa=oa[ja.id];for(const ya in wa)y(wa[ya].object),delete wa[ya];delete oa[ja.id]}},initAttributes:D,enableAttribute:F,disableUnusedAttributes:M}}function ka(a,b,d,l){const q=l.isWebGL2;let y;this.setMode=function(A){y=A};this.render=function(A,D){a.drawArrays(y,A,D);d.update(D,y,1)};this.renderInstances=function(A,D,F){if(0!==F){if(q){var G=a;var M="drawArraysInstanced"}else if(G=b.get("ANGLE_instanced_arrays"),
M="drawArraysInstancedANGLE",null===G){console.error("THREE.WebGLBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");return}G[M](y,A,D,F);d.update(D,y,F)}}}function la(a,b,d){function l(sa){if("highp"===sa){if(0<a.getShaderPrecisionFormat(a.VERTEX_SHADER,a.HIGH_FLOAT).precision&&0<a.getShaderPrecisionFormat(a.FRAGMENT_SHADER,a.HIGH_FLOAT).precision)return"highp";sa="mediump"}return"mediump"===sa&&0<a.getShaderPrecisionFormat(a.VERTEX_SHADER,
a.MEDIUM_FLOAT).precision&&0<a.getShaderPrecisionFormat(a.FRAGMENT_SHADER,a.MEDIUM_FLOAT).precision?"mediump":"lowp"}let q;const y="undefined"!==typeof WebGL2RenderingContext&&a instanceof WebGL2RenderingContext;let A=void 0!==d.precision?d.precision:"highp";var D=l(A);D!==A&&(console.warn("THREE.WebGLRenderer:",A,"not supported, using",D,"instead."),A=D);D=y||b.has("WEBGL_draw_buffers");d=!0===d.logarithmicDepthBuffer;const F=a.getParameter(a.MAX_TEXTURE_IMAGE_UNITS),G=a.getParameter(a.MAX_VERTEX_TEXTURE_IMAGE_UNITS),
M=a.getParameter(a.MAX_TEXTURE_SIZE),N=a.getParameter(a.MAX_CUBE_MAP_TEXTURE_SIZE),P=a.getParameter(a.MAX_VERTEX_ATTRIBS),T=a.getParameter(a.MAX_VERTEX_UNIFORM_VECTORS),S=a.getParameter(a.MAX_VARYING_VECTORS),L=a.getParameter(a.MAX_FRAGMENT_UNIFORM_VECTORS),U=0<G,ma=y||b.has("OES_texture_float"),ba=U&&ma,na=y?a.getParameter(a.MAX_SAMPLES):0;return{isWebGL2:y,drawBuffers:D,getMaxAnisotropy:function(){if(void 0!==q)return q;if(!0===b.has("EXT_texture_filter_anisotropic")){const sa=b.get("EXT_texture_filter_anisotropic");
q=a.getParameter(sa.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else q=0;return q},getMaxPrecision:l,precision:A,logarithmicDepthBuffer:d,maxTextures:F,maxVertexTextures:G,maxTextureSize:M,maxCubemapSize:N,maxAttributes:P,maxVertexUniforms:T,maxVaryings:S,maxFragmentUniforms:L,vertexTextures:U,floatFragmentTextures:ma,floatVertexTextures:ba,maxSamples:na}}function Aa(a){function b(M,N,P,T){const S=null!==M?M.length:0;let L=null;if(0!==S){L=G.value;if(!0!==T||null===L){T=P+4*S;N=N.matrixWorldInverse;F.getNormalMatrix(N);
if(null===L||L.length<T)L=new Float32Array(T);for(let U=0,ma=P;U!==S;++U,ma+=4)D.copy(M[U]).applyMatrix4(N,F),D.normal.toArray(L,ma),L[ma+3]=D.constant}G.value=L;G.needsUpdate=!0}d.numPlanes=S;d.numIntersection=0;return L}const d=this;let l=null,q=0,y=!1,A=!1;const D=new Hd,F=new hb,G={value:null,needsUpdate:!1};this.uniform=G;this.numIntersection=this.numPlanes=0;this.init=function(M,N){const P=0!==M.length||N||0!==q||y;y=N;q=M.length;return P};this.beginShadows=function(){A=!0;b(null)};this.endShadows=
function(){A=!1};this.setGlobalState=function(M,N){l=b(M,N,0)};this.setState=function(M,N,P){const T=M.clippingPlanes,S=M.clipIntersection;var L=M.clipShadows;M=a.get(M);if(!y||null===T||0===T.length||A&&!L)A?b(null):(G.value!==l&&(G.value=l,G.needsUpdate=0<q),d.numPlanes=q,d.numIntersection=0);else{L=A?0:q;const U=4*L;let ma=M.clippingState||null;G.value=ma;ma=b(T,N,U,P);for(N=0;N!==U;++N)ma[N]=l[N];M.clippingState=ma;this.numIntersection=S?this.numPlanes:0;this.numPlanes+=L}}}function ta(a){function b(q,
y){303===y?q.mapping=301:304===y&&(q.mapping=302);return q}function d(q){q=q.target;q.removeEventListener("dispose",d);const y=l.get(q);void 0!==y&&(l.delete(q),y.dispose())}let l=new WeakMap;return{get:function(q){if(q&&q.isTexture&&!1===q.isRenderTargetTexture){var y=q.mapping;if(303===y||304===y)return l.has(q)?(y=l.get(q).texture,b(y,q.mapping)):(y=q.image)&&0<y.height?(y=new Ri(y.height/2),y.fromEquirectangularTexture(a,q),l.set(q,y),q.addEventListener("dispose",d),b(y.texture,q.mapping)):null}return q},
dispose:function(){l=new WeakMap}}}function Ha(a,b,d){a=new Yc(a,b,d);a.texture.mapping=306;a.texture.name="PMREM.cubeUv";a.scissorTest=!0;return a}function Oa(a,b,d,l,q){a.viewport.set(b,d,l,q);a.scissor.set(b,d,l,q)}function da(){return new fd({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null}},vertexShader:Pa(),fragmentShader:"\n\n\t\t\tprecision mediump float;\n\t\t\tprecision mediump int;\n\n\t\t\tvarying vec3 vOutputDirection;\n\n\t\t\tuniform sampler2D envMap;\n\n\t\t\t#include \x3ccommon\x3e\n\n\t\t\tvoid main() {\n\n\t\t\t\tvec3 outputDirection \x3d normalize( vOutputDirection );\n\t\t\t\tvec2 uv \x3d equirectUv( outputDirection );\n\n\t\t\t\tgl_FragColor \x3d vec4( texture2D ( envMap, uv ).rgb, 1.0 );\n\n\t\t\t}\n\t\t",
blending:0,depthTest:!1,depthWrite:!1})}function Wa(){return new fd({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},flipEnvMap:{value:-1}},vertexShader:Pa(),fragmentShader:"\n\n\t\t\tprecision mediump float;\n\t\t\tprecision mediump int;\n\n\t\t\tuniform float flipEnvMap;\n\n\t\t\tvarying vec3 vOutputDirection;\n\n\t\t\tuniform samplerCube envMap;\n\n\t\t\tvoid main() {\n\n\t\t\t\tgl_FragColor \x3d textureCube( envMap, vec3( flipEnvMap * vOutputDirection.x, vOutputDirection.yz ) );\n\n\t\t\t}\n\t\t",
blending:0,depthTest:!1,depthWrite:!1})}function Pa(){return"\n\n\t\tprecision mediump float;\n\t\tprecision mediump int;\n\n\t\tattribute float faceIndex;\n\n\t\tvarying vec3 vOutputDirection;\n\n\t\t// RH coordinate system; PMREM face-indexing convention\n\t\tvec3 getDirection( vec2 uv, float face ) {\n\n\t\t\tuv \x3d 2.0 * uv - 1.0;\n\n\t\t\tvec3 direction \x3d vec3( uv, 1.0 );\n\n\t\t\tif ( face \x3d\x3d 0.0 ) {\n\n\t\t\t\tdirection \x3d direction.zyx; // ( 1, v, u ) pos x\n\n\t\t\t} else if ( face \x3d\x3d 1.0 ) {\n\n\t\t\t\tdirection \x3d direction.xzy;\n\t\t\t\tdirection.xz *\x3d -1.0; // ( -u, 1, -v ) pos y\n\n\t\t\t} else if ( face \x3d\x3d 2.0 ) {\n\n\t\t\t\tdirection.x *\x3d -1.0; // ( -u, v, 1 ) pos z\n\n\t\t\t} else if ( face \x3d\x3d 3.0 ) {\n\n\t\t\t\tdirection \x3d direction.zyx;\n\t\t\t\tdirection.xz *\x3d -1.0; // ( -1, v, -u ) neg x\n\n\t\t\t} else if ( face \x3d\x3d 4.0 ) {\n\n\t\t\t\tdirection \x3d direction.xzy;\n\t\t\t\tdirection.xy *\x3d -1.0; // ( -u, -1, v ) neg y\n\n\t\t\t} else if ( face \x3d\x3d 5.0 ) {\n\n\t\t\t\tdirection.z *\x3d -1.0; // ( u, v, -1 ) neg z\n\n\t\t\t}\n\n\t\t\treturn direction;\n\n\t\t}\n\n\t\tvoid main() {\n\n\t\t\tvOutputDirection \x3d getDirection( uv, faceIndex );\n\t\t\tgl_Position \x3d vec4( position, 1.0 );\n\n\t\t}\n\t"}
function mb(a){function b(q){q=q.target;q.removeEventListener("dispose",b);const y=d.get(q);void 0!==y&&(d.delete(q),y.dispose())}let d=new WeakMap,l=null;return{get:function(q){if(q&&q.isTexture){var y=q.mapping,A=303===y||304===y,D=301===y||302===y;if(A||D){if(q.isRenderTargetTexture&&!0===q.needsPMREMUpdate)return q.needsPMREMUpdate=!1,y=d.get(q),null===l&&(l=new Bh(a)),y=A?l.fromEquirectangular(q,y):l.fromCubemap(q,y),d.set(q,y),y.texture;if(d.has(q))return d.get(q).texture;y=q.image;var F;if(!(F=
A&&y&&0<y.height)&&(F=D&&y)){F=0;for(D=0;6>D;D++)void 0!==y[D]&&F++;F=6===F}return F?(null===l&&(l=new Bh(a)),A=A?l.fromEquirectangular(q):l.fromCubemap(q),d.set(q,A),q.addEventListener("dispose",b),A.texture):null}}return q},dispose:function(){d=new WeakMap;null!==l&&(l.dispose(),l=null)}}}function Cb(a){function b(l){if(void 0!==d[l])return d[l];let q;switch(l){case "WEBGL_depth_texture":q=a.getExtension("WEBGL_depth_texture")||a.getExtension("MOZ_WEBGL_depth_texture")||a.getExtension("WEBKIT_WEBGL_depth_texture");
break;case "EXT_texture_filter_anisotropic":q=a.getExtension("EXT_texture_filter_anisotropic")||a.getExtension("MOZ_EXT_texture_filter_anisotropic")||a.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case "WEBGL_compressed_texture_s3tc":q=a.getExtension("WEBGL_compressed_texture_s3tc")||a.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||a.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case "WEBGL_compressed_texture_pvrtc":q=a.getExtension("WEBGL_compressed_texture_pvrtc")||
a.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:q=a.getExtension(l)}return d[l]=q}const d={};return{has:function(l){return null!==b(l)},init:function(l){l.isWebGL2?b("EXT_color_buffer_float"):(b("WEBGL_depth_texture"),b("OES_texture_float"),b("OES_texture_half_float"),b("OES_texture_half_float_linear"),b("OES_standard_derivatives"),b("OES_element_index_uint"),b("OES_vertex_array_object"),b("ANGLE_instanced_arrays"));b("OES_texture_float_linear");b("EXT_color_buffer_half_float");
b("WEBGL_multisampled_render_to_texture")},get:function(l){const q=b(l);null===q&&console.warn("THREE.WebGLRenderer: "+l+" extension not supported.");return q}}}function yb(a,b,d,l){function q(F){F=F.target;null!==F.index&&b.remove(F.index);for(var G in F.attributes)b.remove(F.attributes[G]);F.removeEventListener("dispose",q);delete A[F.id];if(G=D.get(F))b.remove(G),D.delete(F);l.releaseStatesOfGeometry(F);!0===F.isInstancedBufferGeometry&&delete F._maxInstanceCount;d.memory.geometries--}function y(F){var G=
[],M=F.index,N=F.attributes.position;if(null!==M){N=M.array;M=M.version;for(let S=0,L=N.length;S<L;S+=3){var P=N[S+0],T=N[S+1];const U=N[S+2];G.push(P,T,T,U,U,P)}}else{P=N.array;M=N.version;for(let S=0,L=P.length/3-1;S<L;S+=3)N=S+0,P=S+1,T=S+2,G.push(N,P,P,T,T,N)}G=new (u(G)?Ch:Dh)(G,1);G.version=M;(M=D.get(F))&&b.remove(M);D.set(F,G)}const A={},D=new WeakMap;return{get:function(F,G){if(!0===A[G.id])return G;G.addEventListener("dispose",q);A[G.id]=!0;d.memory.geometries++;return G},update:function(F){var G=
F.attributes;for(const M in G)b.update(G[M],a.ARRAY_BUFFER);F=F.morphAttributes;for(const M in F){G=F[M];for(let N=0,P=G.length;N<P;N++)b.update(G[N],a.ARRAY_BUFFER)}},getWireframeAttribute:function(F){const G=D.get(F);if(G){const M=F.index;null!==M&&G.version<M.version&&y(F)}else y(F);return D.get(F)}}}function tb(a,b,d,l){const q=l.isWebGL2;let y,A,D;this.setMode=function(F){y=F};this.setIndex=function(F){A=F.type;D=F.bytesPerElement};this.render=function(F,G){a.drawElements(y,G,A,F*D);d.update(G,
y,1)};this.renderInstances=function(F,G,M){if(0!==M){if(q){var N=a;var P="drawElementsInstanced"}else if(N=b.get("ANGLE_instanced_arrays"),P="drawElementsInstancedANGLE",null===N){console.error("THREE.WebGLIndexedBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");return}N[P](y,G,A,F*D,M);d.update(G,y,M)}}}function Rb(a){const b={frame:0,calls:0,triangles:0,points:0,lines:0};return{memory:{geometries:0,textures:0},render:b,programs:null,
autoReset:!0,reset:function(){b.frame++;b.calls=0;b.triangles=0;b.points=0;b.lines=0},update:function(d,l,q){b.calls++;switch(l){case a.TRIANGLES:b.triangles+=d/3*q;break;case a.LINES:b.lines+=d/2*q;break;case a.LINE_STRIP:b.lines+=q*(d-1);break;case a.LINE_LOOP:b.lines+=q*d;break;case a.POINTS:b.points+=q*d;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",l)}}}}function ac(a,b){return a[0]-b[0]}function Hb(a,b){return Math.abs(b[1])-Math.abs(a[1])}function Jb(a,b,d){const l={},q=
new Float32Array(8),y=new WeakMap,A=new cc,D=[];for(let F=0;8>F;F++)D[F]=[F,0];return{update:function(F,G,M){F=F.morphTargetInfluences;if(!0===b.isWebGL2){var N=G.morphAttributes.position||G.morphAttributes.normal||G.morphAttributes.color;N=void 0!==N?N.length:0;var P=y.get(G);if(void 0===P||P.count!==N){void 0!==P&&P.texture.dispose();P=void 0!==G.morphAttributes.position;var T=void 0!==G.morphAttributes.normal,S=void 0!==G.morphAttributes.color,L=G.morphAttributes.position||[];const ma=G.morphAttributes.normal||
[],ba=G.morphAttributes.color||[];var U=0;!0===P&&(U=1);!0===T&&(U=2);!0===S&&(U=3);let na=G.attributes.position.count*U,sa=1;na>b.maxTextureSize&&(sa=Math.ceil(na/b.maxTextureSize),na=b.maxTextureSize);const ja=new Float32Array(na*sa*4*N),Ga=new lg(ja,na,sa,N);Ga.type=1015;Ga.needsUpdate=!0;U*=4;for(let wa=0;wa<N;wa++){const ya=L[wa],xa=ma[wa],Va=ba[wa],La=na*sa*4*wa;for(let Ra=0;Ra<ya.count;Ra++){const Na=Ra*U;!0===P&&(A.fromBufferAttribute(ya,Ra),ja[La+Na+0]=A.x,ja[La+Na+1]=A.y,ja[La+Na+2]=A.z,
ja[La+Na+3]=0);!0===T&&(A.fromBufferAttribute(xa,Ra),ja[La+Na+4]=A.x,ja[La+Na+5]=A.y,ja[La+Na+6]=A.z,ja[La+Na+7]=0);!0===S&&(A.fromBufferAttribute(Va,Ra),ja[La+Na+8]=A.x,ja[La+Na+9]=A.y,ja[La+Na+10]=A.z,ja[La+Na+11]=4===Va.itemSize?A.w:1)}}P={count:N,texture:Ga,size:new za(na,sa)};y.set(G,P);function oa(){Ga.dispose();y.delete(G);G.removeEventListener("dispose",oa)}G.addEventListener("dispose",oa)}N=0;for(T=0;T<F.length;T++)N+=F[T];N=G.morphTargetsRelative?1:1-N;M.getUniforms().setValue(a,"morphTargetBaseInfluence",
N);M.getUniforms().setValue(a,"morphTargetInfluences",F);M.getUniforms().setValue(a,"morphTargetsTexture",P.texture,d);M.getUniforms().setValue(a,"morphTargetsTextureSize",P.size)}else{N=void 0===F?0:F.length;P=l[G.id];if(void 0===P||P.length!==N){P=[];for(T=0;T<N;T++)P[T]=[T,0];l[G.id]=P}for(T=0;T<N;T++)S=P[T],S[0]=T,S[1]=F[T];P.sort(Hb);for(F=0;8>F;F++)F<N&&P[F][1]?(D[F][0]=P[F][0],D[F][1]=P[F][1]):(D[F][0]=Number.MAX_SAFE_INTEGER,D[F][1]=0);D.sort(ac);F=G.morphAttributes.position;N=G.morphAttributes.normal;
P=0;for(T=0;8>T;T++)L=D[T],S=L[0],L=L[1],S!==Number.MAX_SAFE_INTEGER&&L?(F&&G.getAttribute("morphTarget"+T)!==F[S]&&G.setAttribute("morphTarget"+T,F[S]),N&&G.getAttribute("morphNormal"+T)!==N[S]&&G.setAttribute("morphNormal"+T,N[S]),q[T]=L,P+=L):(F&&!0===G.hasAttribute("morphTarget"+T)&&G.deleteAttribute("morphTarget"+T),N&&!0===G.hasAttribute("morphNormal"+T)&&G.deleteAttribute("morphNormal"+T),q[T]=0);F=G.morphTargetsRelative?1:1-P;M.getUniforms().setValue(a,"morphTargetBaseInfluence",F);M.getUniforms().setValue(a,
"morphTargetInfluences",q)}}}}function Tb(a,b,d,l){function q(A){A=A.target;A.removeEventListener("dispose",q);d.remove(A.instanceMatrix);null!==A.instanceColor&&d.remove(A.instanceColor)}let y=new WeakMap;return{update:function(A){const D=l.render.frame,F=b.get(A,A.geometry);y.get(F)!==D&&(b.update(F),y.set(F,D));A.isInstancedMesh&&(!1===A.hasEventListener("dispose",q)&&A.addEventListener("dispose",q),d.update(A.instanceMatrix,a.ARRAY_BUFFER),null!==A.instanceColor&&d.update(A.instanceColor,a.ARRAY_BUFFER));
return F},dispose:function(){y=new WeakMap}}}function dc(a,b,d){const l=a[0];if(0>=l||0<l)return a;const q=b*d;let y=Si[q];void 0===y&&(y=new Float32Array(q),Si[q]=y);if(0!==b){l.toArray(y,0);for(let A=1,D=0;A!==b;++A)D+=d,a[A].toArray(y,D)}return y}function zb(a,b){if(a.length!==b.length)return!1;for(let d=0,l=a.length;d<l;d++)if(a[d]!==b[d])return!1;return!0}function ib(a,b){for(let d=0,l=b.length;d<l;d++)a[d]=b[d]}function Db(a,b){let d=Ti[b];void 0===d&&(d=new Int32Array(b),Ti[b]=d);for(let l=
0;l!==b;++l)d[l]=a.allocateTextureUnit();return d}function ec(a,b){const d=this.cache;d[0]!==b&&(a.uniform1f(this.addr,b),d[0]=b)}function pa(a,b){const d=this.cache;if(void 0!==b.x){if(d[0]!==b.x||d[1]!==b.y)a.uniform2f(this.addr,b.x,b.y),d[0]=b.x,d[1]=b.y}else zb(d,b)||(a.uniform2fv(this.addr,b),ib(d,b))}function Xa(a,b){const d=this.cache;if(void 0!==b.x){if(d[0]!==b.x||d[1]!==b.y||d[2]!==b.z)a.uniform3f(this.addr,b.x,b.y,b.z),d[0]=b.x,d[1]=b.y,d[2]=b.z}else if(void 0!==b.r){if(d[0]!==b.r||d[1]!==
b.g||d[2]!==b.b)a.uniform3f(this.addr,b.r,b.g,b.b),d[0]=b.r,d[1]=b.g,d[2]=b.b}else zb(d,b)||(a.uniform3fv(this.addr,b),ib(d,b))}function sb(a,b){const d=this.cache;if(void 0!==b.x){if(d[0]!==b.x||d[1]!==b.y||d[2]!==b.z||d[3]!==b.w)a.uniform4f(this.addr,b.x,b.y,b.z,b.w),d[0]=b.x,d[1]=b.y,d[2]=b.z,d[3]=b.w}else zb(d,b)||(a.uniform4fv(this.addr,b),ib(d,b))}function Eb(a,b){const d=this.cache,l=b.elements;void 0===l?zb(d,b)||(a.uniformMatrix2fv(this.addr,!1,b),ib(d,b)):zb(d,l)||(Ui.set(l),a.uniformMatrix2fv(this.addr,
!1,Ui),ib(d,l))}function Sb(a,b){const d=this.cache,l=b.elements;void 0===l?zb(d,b)||(a.uniformMatrix3fv(this.addr,!1,b),ib(d,b)):zb(d,l)||(Vi.set(l),a.uniformMatrix3fv(this.addr,!1,Vi),ib(d,l))}function va(a,b){const d=this.cache,l=b.elements;void 0===l?zb(d,b)||(a.uniformMatrix4fv(this.addr,!1,b),ib(d,b)):zb(d,l)||(Wi.set(l),a.uniformMatrix4fv(this.addr,!1,Wi),ib(d,l))}function jb(a,b){const d=this.cache;d[0]!==b&&(a.uniform1i(this.addr,b),d[0]=b)}function Wb(a,b){const d=this.cache;if(void 0!==
b.x){if(d[0]!==b.x||d[1]!==b.y)a.uniform2i(this.addr,b.x,b.y),d[0]=b.x,d[1]=b.y}else zb(d,b)||(a.uniform2iv(this.addr,b),ib(d,b))}function oc(a,b){const d=this.cache;if(void 0!==b.x){if(d[0]!==b.x||d[1]!==b.y||d[2]!==b.z)a.uniform3i(this.addr,b.x,b.y,b.z),d[0]=b.x,d[1]=b.y,d[2]=b.z}else zb(d,b)||(a.uniform3iv(this.addr,b),ib(d,b))}function Hc(a,b){const d=this.cache;if(void 0!==b.x){if(d[0]!==b.x||d[1]!==b.y||d[2]!==b.z||d[3]!==b.w)a.uniform4i(this.addr,b.x,b.y,b.z,b.w),d[0]=b.x,d[1]=b.y,d[2]=b.z,
d[3]=b.w}else zb(d,b)||(a.uniform4iv(this.addr,b),ib(d,b))}function Nc(a,b){const d=this.cache;d[0]!==b&&(a.uniform1ui(this.addr,b),d[0]=b)}function gd(a,b){const d=this.cache;if(void 0!==b.x){if(d[0]!==b.x||d[1]!==b.y)a.uniform2ui(this.addr,b.x,b.y),d[0]=b.x,d[1]=b.y}else zb(d,b)||(a.uniform2uiv(this.addr,b),ib(d,b))}function yc(a,b){const d=this.cache;if(void 0!==b.x){if(d[0]!==b.x||d[1]!==b.y||d[2]!==b.z)a.uniform3ui(this.addr,b.x,b.y,b.z),d[0]=b.x,d[1]=b.y,d[2]=b.z}else zb(d,b)||(a.uniform3uiv(this.addr,
b),ib(d,b))}function zc(a,b){const d=this.cache;if(void 0!==b.x){if(d[0]!==b.x||d[1]!==b.y||d[2]!==b.z||d[3]!==b.w)a.uniform4ui(this.addr,b.x,b.y,b.z,b.w),d[0]=b.x,d[1]=b.y,d[2]=b.z,d[3]=b.w}else zb(d,b)||(a.uniform4uiv(this.addr,b),ib(d,b))}function hd(a,b,d){const l=this.cache,q=d.allocateTextureUnit();l[0]!==q&&(a.uniform1i(this.addr,q),l[0]=q);d.setTexture2D(b||Xi,q)}function Id(a,b,d){const l=this.cache,q=d.allocateTextureUnit();l[0]!==q&&(a.uniform1i(this.addr,q),l[0]=q);d.setTexture3D(b||Yi,
q)}function Jd(a,b,d){const l=this.cache,q=d.allocateTextureUnit();l[0]!==q&&(a.uniform1i(this.addr,q),l[0]=q);d.setTextureCube(b||Zi,q)}function pd(a,b,d){const l=this.cache,q=d.allocateTextureUnit();l[0]!==q&&(a.uniform1i(this.addr,q),l[0]=q);d.setTexture2DArray(b||$i,q)}function Xb(a){switch(a){case 5126:return ec;case 35664:return pa;case 35665:return Xa;case 35666:return sb;case 35674:return Eb;case 35675:return Sb;case 35676:return va;case 5124:case 35670:return jb;case 35667:case 35671:return Wb;
case 35668:case 35672:return oc;case 35669:case 35673:return Hc;case 5125:return Nc;case 36294:return gd;case 36295:return yc;case 36296:return zc;case 35678:case 36198:case 36298:case 36306:case 35682:return hd;case 35679:case 36299:case 36307:return Id;case 35680:case 36300:case 36308:case 36293:return Jd;case 36289:case 36303:case 36311:case 36292:return pd}}function id(a,b){a.uniform1fv(this.addr,b)}function Kd(a,b){b=dc(b,this.size,2);a.uniform2fv(this.addr,b)}function Ld(a,b){b=dc(b,this.size,
3);a.uniform3fv(this.addr,b)}function qd(a,b){b=dc(b,this.size,4);a.uniform4fv(this.addr,b)}function rd(a,b){b=dc(b,this.size,4);a.uniformMatrix2fv(this.addr,!1,b)}function sd(a,b){b=dc(b,this.size,9);a.uniformMatrix3fv(this.addr,!1,b)}function Md(a,b){b=dc(b,this.size,16);a.uniformMatrix4fv(this.addr,!1,b)}function jd(a,b){a.uniform1iv(this.addr,b)}function Nd(a,b){a.uniform2iv(this.addr,b)}function Ca(a,b){a.uniform3iv(this.addr,b)}function td(a,b){a.uniform4iv(this.addr,b)}function Mb(a,b){a.uniform1uiv(this.addr,
b)}function Zc(a,b){a.uniform2uiv(this.addr,b)}function Oc(a,b){a.uniform3uiv(this.addr,b)}function $c(a,b){a.uniform4uiv(this.addr,b)}function Qa(a,b,d){const l=this.cache,q=b.length,y=Db(d,q);zb(l,y)||(a.uniform1iv(this.addr,y),ib(l,y));for(a=0;a!==q;++a)d.setTexture2D(b[a]||Xi,y[a])}function jc(a,b,d){const l=this.cache,q=b.length,y=Db(d,q);zb(l,y)||(a.uniform1iv(this.addr,y),ib(l,y));for(a=0;a!==q;++a)d.setTexture3D(b[a]||Yi,y[a])}function Ta(a,b,d){const l=this.cache,q=b.length,y=Db(d,q);zb(l,
y)||(a.uniform1iv(this.addr,y),ib(l,y));for(a=0;a!==q;++a)d.setTextureCube(b[a]||Zi,y[a])}function wb(a,b,d){const l=this.cache,q=b.length,y=Db(d,q);zb(l,y)||(a.uniform1iv(this.addr,y),ib(l,y));for(a=0;a!==q;++a)d.setTexture2DArray(b[a]||$i,y[a])}function kc(a){switch(a){case 5126:return id;case 35664:return Kd;case 35665:return Ld;case 35666:return qd;case 35674:return rd;case 35675:return sd;case 35676:return Md;case 5124:case 35670:return jd;case 35667:case 35671:return Nd;case 35668:case 35672:return Ca;
case 35669:case 35673:return td;case 5125:return Mb;case 36294:return Zc;case 36295:return Oc;case 36296:return $c;case 35678:case 36198:case 36298:case 36306:case 35682:return Qa;case 35679:case 36299:case 36307:return jc;case 35680:case 36300:case 36308:case 36293:return Ta;case 36289:case 36303:case 36311:case 36292:return wb}}function pc(a,b,d){b=a.createShader(b);a.shaderSource(b,d);a.compileShader(b);return b}function Be(a,b,d){var l=a.getShaderParameter(b,a.COMPILE_STATUS),q=a.getShaderInfoLog(b).trim();
if(l&&""===q)return"";if(l=/ERROR: 0:(\d+)/.exec(q)){l=parseInt(l[1]);d=d.toUpperCase()+"\n\n"+q+"\n\n";b=a.getShaderSource(b);a=l;b=b.split("\n");q=[];var y=Math.max(a-6,0);for(l=Math.min(a+6,b.length);y<l;y++){const A=y+1;q.push(`${A===a?"\x3e":" "} ${A}: ${b[y]}`)}a=q.join("\n");return d+a}return q}function mf(a,b){a:switch(b){case 3E3:b=["Linear","( value )"];break a;case 3001:b=["sRGB","( value )"];break a;default:console.warn("THREE.WebGLProgram: Unsupported encoding:",b),b=["Linear","( value )"]}return"vec4 "+
a+"( vec4 value ) { return LinearTo"+b[0]+b[1]+"; }"}function ad(a,b){switch(b){case 1:b="Linear";break;case 2:b="Reinhard";break;case 3:b="OptimizedCineon";break;case 4:b="ACESFilmic";break;case 5:b="Custom";break;default:console.warn("THREE.WebGLProgram: Unsupported toneMapping:",b),b="Linear"}return"vec3 "+a+"( vec3 color ) { return "+b+"ToneMapping( color ); }"}function nf(a){const b=[];for(const d in a){const l=a[d];!1!==l&&b.push("#define "+d+" "+l)}return b.join("\n")}function kd(a){return""!==
a}function be(a,b){const d=b.numSpotLightShadows+b.numSpotLightMaps-b.numSpotLightShadowsWithMaps;return a.replace(/NUM_DIR_LIGHTS/g,b.numDirLights).replace(/NUM_SPOT_LIGHTS/g,b.numSpotLights).replace(/NUM_SPOT_LIGHT_MAPS/g,b.numSpotLightMaps).replace(/NUM_SPOT_LIGHT_COORDS/g,d).replace(/NUM_RECT_AREA_LIGHTS/g,b.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,b.numPointLights).replace(/NUM_HEMI_LIGHTS/g,b.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,b.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS/g,
b.numSpotLightShadowsWithMaps).replace(/NUM_SPOT_LIGHT_SHADOWS/g,b.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,b.numPointLightShadows)}function ce(a,b){return a.replace(/NUM_CLIPPING_PLANES/g,b.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,b.numClippingPlanes-b.numClipIntersection)}function de(a,b){a=Ib[b];if(void 0===a)throw Error("Can not resolve #include \x3c"+b+"\x3e");return a.replace(Eh,de)}function Ce(a,b,d,l){a="";for(b=parseInt(b);b<parseInt(d);b++)a+=l.replace(/\[\s*i\s*\]/g,
"[ "+b+" ]").replace(/UNROLLED_LOOP_INDEX/g,b);return a}function fb(a){let b="precision "+a.precision+" float;\nprecision "+a.precision+" int;";"highp"===a.precision?b+="\n#define HIGH_PRECISION":"mediump"===a.precision?b+="\n#define MEDIUM_PRECISION":"lowp"===a.precision&&(b+="\n#define LOW_PRECISION");return b}function of(a){let b="SHADOWMAP_TYPE_BASIC";1===a.shadowMapType?b="SHADOWMAP_TYPE_PCF":2===a.shadowMapType?b="SHADOWMAP_TYPE_PCF_SOFT":3===a.shadowMapType&&(b="SHADOWMAP_TYPE_VSM");return b}
function pf(a){let b="ENVMAP_TYPE_CUBE";if(a.envMap)switch(a.envMapMode){case 301:case 302:b="ENVMAP_TYPE_CUBE";break;case 306:b="ENVMAP_TYPE_CUBE_UV"}return b}function qf(a){let b="ENVMAP_MODE_REFLECTION";if(a.envMap)switch(a.envMapMode){case 302:b="ENVMAP_MODE_REFRACTION"}return b}function rf(a){let b="ENVMAP_BLENDING_NONE";if(a.envMap)switch(a.combine){case 0:b="ENVMAP_BLENDING_MULTIPLY";break;case 1:b="ENVMAP_BLENDING_MIX";break;case 2:b="ENVMAP_BLENDING_ADD"}return b}function sf(a){a=a.envMapCubeUVHeight;
if(null===a)return null;const b=Math.log2(a)-2;return{texelWidth:1/(3*Math.max(Math.pow(2,b),112)),texelHeight:1/a,maxMip:b}}function tf(a,b,d,l){const q=a.getContext();var y=d.defines,A=d.vertexShader,D=d.fragmentShader,F=of(d),G=pf(d),M=qf(d),N=rf(d),P=sf(d),T=d.isWebGL2?"":[d.extensionDerivatives||d.envMapCubeUVHeight||d.bumpMap||d.tangentSpaceNormalMap||d.clearcoatNormalMap||d.flatShading||"physical"===d.shaderID?"#extension GL_OES_standard_derivatives : enable":"",(d.extensionFragDepth||d.logarithmicDepthBuffer)&&
d.rendererExtensionFragDepth?"#extension GL_EXT_frag_depth : enable":"",d.extensionDrawBuffers&&d.rendererExtensionDrawBuffers?"#extension GL_EXT_draw_buffers : require":"",(d.extensionShaderTextureLOD||d.envMap||d.transmission)&&d.rendererExtensionShaderTextureLod?"#extension GL_EXT_shader_texture_lod : enable":""].filter(kd).join("\n");const S=nf(y),L=q.createProgram();var U=d.glslVersion?"#version "+d.glslVersion+"\n":"";d.isRawShaderMaterial?(y=[S].filter(kd).join("\n"),0<y.length&&(y+="\n"),
F=[T,S].filter(kd).join("\n"),0<F.length&&(F+="\n")):(y=[fb(d),"#define SHADER_NAME "+d.shaderName,S,d.instancing?"#define USE_INSTANCING":"",d.instancingColor?"#define USE_INSTANCING_COLOR":"",d.supportsVertexTextures?"#define VERTEX_TEXTURES":"",d.useFog&&d.fog?"#define USE_FOG":"",d.useFog&&d.fogExp2?"#define FOG_EXP2":"",d.map?"#define USE_MAP":"",d.envMap?"#define USE_ENVMAP":"",d.envMap?"#define "+M:"",d.lightMap?"#define USE_LIGHTMAP":"",d.aoMap?"#define USE_AOMAP":"",d.emissiveMap?"#define USE_EMISSIVEMAP":
"",d.bumpMap?"#define USE_BUMPMAP":"",d.normalMap?"#define USE_NORMALMAP":"",d.normalMap&&d.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",d.normalMap&&d.tangentSpaceNormalMap?"#define TANGENTSPACE_NORMALMAP":"",d.clearcoatMap?"#define USE_CLEARCOATMAP":"",d.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",d.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",d.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",d.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":
"",d.displacementMap&&d.supportsVertexTextures?"#define USE_DISPLACEMENTMAP":"",d.specularMap?"#define USE_SPECULARMAP":"",d.specularIntensityMap?"#define USE_SPECULARINTENSITYMAP":"",d.specularColorMap?"#define USE_SPECULARCOLORMAP":"",d.roughnessMap?"#define USE_ROUGHNESSMAP":"",d.metalnessMap?"#define USE_METALNESSMAP":"",d.alphaMap?"#define USE_ALPHAMAP":"",d.transmission?"#define USE_TRANSMISSION":"",d.transmissionMap?"#define USE_TRANSMISSIONMAP":"",d.thicknessMap?"#define USE_THICKNESSMAP":
"",d.sheenColorMap?"#define USE_SHEENCOLORMAP":"",d.sheenRoughnessMap?"#define USE_SHEENROUGHNESSMAP":"",d.vertexTangents?"#define USE_TANGENT":"",d.vertexColors?"#define USE_COLOR":"",d.vertexAlphas?"#define USE_COLOR_ALPHA":"",d.vertexUvs?"#define USE_UV":"",d.uvsVertexOnly?"#define UVS_VERTEX_ONLY":"",d.flatShading?"#define FLAT_SHADED":"",d.skinning?"#define USE_SKINNING":"",d.morphTargets?"#define USE_MORPHTARGETS":"",d.morphNormals&&!1===d.flatShading?"#define USE_MORPHNORMALS":"",d.morphColors&&
d.isWebGL2?"#define USE_MORPHCOLORS":"",0<d.morphTargetsCount&&d.isWebGL2?"#define MORPHTARGETS_TEXTURE":"",0<d.morphTargetsCount&&d.isWebGL2?"#define MORPHTARGETS_TEXTURE_STRIDE "+d.morphTextureStride:"",0<d.morphTargetsCount&&d.isWebGL2?"#define MORPHTARGETS_COUNT "+d.morphTargetsCount:"",d.doubleSided?"#define DOUBLE_SIDED":"",d.flipSided?"#define FLIP_SIDED":"",d.shadowMapEnabled?"#define USE_SHADOWMAP":"",d.shadowMapEnabled?"#define "+F:"",d.sizeAttenuation?"#define USE_SIZEATTENUATION":"",d.logarithmicDepthBuffer?
"#define USE_LOGDEPTHBUF":"",d.logarithmicDepthBuffer&&d.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","\tattribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","\tattribute vec3 instanceColor;","#endif","attribute vec3 position;","attribute vec3 normal;",
"attribute vec2 uv;","#ifdef USE_TANGENT","\tattribute vec4 tangent;","#endif","#if defined( USE_COLOR_ALPHA )","\tattribute vec4 color;","#elif defined( USE_COLOR )","\tattribute vec3 color;","#endif","#if ( defined( USE_MORPHTARGETS ) \x26\x26 ! defined( MORPHTARGETS_TEXTURE ) )","\tattribute vec3 morphTarget0;","\tattribute vec3 morphTarget1;","\tattribute vec3 morphTarget2;","\tattribute vec3 morphTarget3;","\t#ifdef USE_MORPHNORMALS","\t\tattribute vec3 morphNormal0;","\t\tattribute vec3 morphNormal1;",
"\t\tattribute vec3 morphNormal2;","\t\tattribute vec3 morphNormal3;","\t#else","\t\tattribute vec3 morphTarget4;","\t\tattribute vec3 morphTarget5;","\t\tattribute vec3 morphTarget6;","\t\tattribute vec3 morphTarget7;","\t#endif","#endif","#ifdef USE_SKINNING","\tattribute vec4 skinIndex;","\tattribute vec4 skinWeight;","#endif","\n"].filter(kd).join("\n"),F=[T,fb(d),"#define SHADER_NAME "+d.shaderName,S,d.useFog&&d.fog?"#define USE_FOG":"",d.useFog&&d.fogExp2?"#define FOG_EXP2":"",d.map?"#define USE_MAP":
"",d.matcap?"#define USE_MATCAP":"",d.envMap?"#define USE_ENVMAP":"",d.envMap?"#define "+G:"",d.envMap?"#define "+M:"",d.envMap?"#define "+N:"",P?"#define CUBEUV_TEXEL_WIDTH "+P.texelWidth:"",P?"#define CUBEUV_TEXEL_HEIGHT "+P.texelHeight:"",P?"#define CUBEUV_MAX_MIP "+P.maxMip+".0":"",d.lightMap?"#define USE_LIGHTMAP":"",d.aoMap?"#define USE_AOMAP":"",d.emissiveMap?"#define USE_EMISSIVEMAP":"",d.bumpMap?"#define USE_BUMPMAP":"",d.normalMap?"#define USE_NORMALMAP":"",d.normalMap&&d.objectSpaceNormalMap?
"#define OBJECTSPACE_NORMALMAP":"",d.normalMap&&d.tangentSpaceNormalMap?"#define TANGENTSPACE_NORMALMAP":"",d.clearcoat?"#define USE_CLEARCOAT":"",d.clearcoatMap?"#define USE_CLEARCOATMAP":"",d.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",d.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",d.iridescence?"#define USE_IRIDESCENCE":"",d.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",d.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",d.specularMap?"#define USE_SPECULARMAP":
"",d.specularIntensityMap?"#define USE_SPECULARINTENSITYMAP":"",d.specularColorMap?"#define USE_SPECULARCOLORMAP":"",d.roughnessMap?"#define USE_ROUGHNESSMAP":"",d.metalnessMap?"#define USE_METALNESSMAP":"",d.alphaMap?"#define USE_ALPHAMAP":"",d.alphaTest?"#define USE_ALPHATEST":"",d.sheen?"#define USE_SHEEN":"",d.sheenColorMap?"#define USE_SHEENCOLORMAP":"",d.sheenRoughnessMap?"#define USE_SHEENROUGHNESSMAP":"",d.transmission?"#define USE_TRANSMISSION":"",d.transmissionMap?"#define USE_TRANSMISSIONMAP":
"",d.thicknessMap?"#define USE_THICKNESSMAP":"",d.decodeVideoTexture?"#define DECODE_VIDEO_TEXTURE":"",d.vertexTangents?"#define USE_TANGENT":"",d.vertexColors||d.instancingColor?"#define USE_COLOR":"",d.vertexAlphas?"#define USE_COLOR_ALPHA":"",d.vertexUvs?"#define USE_UV":"",d.uvsVertexOnly?"#define UVS_VERTEX_ONLY":"",d.gradientMap?"#define USE_GRADIENTMAP":"",d.flatShading?"#define FLAT_SHADED":"",d.doubleSided?"#define DOUBLE_SIDED":"",d.flipSided?"#define FLIP_SIDED":"",d.shadowMapEnabled?"#define USE_SHADOWMAP":
"",d.shadowMapEnabled?"#define "+F:"",d.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",d.useLegacyLights?"#define LEGACY_LIGHTS":"",d.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",d.logarithmicDepthBuffer&&d.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",0!==d.toneMapping?"#define TONE_MAPPING":"",0!==d.toneMapping?Ib.tonemapping_pars_fragment:"",0!==d.toneMapping?ad("toneMapping",d.toneMapping):
"",d.dithering?"#define DITHERING":"",d.opaque?"#define OPAQUE":"",Ib.encodings_pars_fragment,mf("linearToOutputTexel",d.outputEncoding),d.useDepthPacking?"#define DEPTH_PACKING "+d.depthPacking:"","\n"].filter(kd).join("\n"));A=A.replace(Eh,de);A=be(A,d);A=ce(A,d);D=D.replace(Eh,de);D=be(D,d);D=ce(D,d);A=A.replace(aj,Ce);D=D.replace(aj,Ce);d.isWebGL2&&!0!==d.isRawShaderMaterial&&(U="#version 300 es\n",y="precision mediump sampler2DArray;\n#define attribute in\n#define varying out\n#define texture2D texture\n"+
y,F=["#define varying in","300 es"===d.glslVersion?"":"layout(location \x3d 0) out highp vec4 pc_fragColor;","300 es"===d.glslVersion?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth\n#define texture2D texture\n#define textureCube texture\n#define texture2DProj textureProj\n#define texture2DLodEXT textureLod\n#define texture2DProjLodEXT textureProjLod\n#define textureCubeLodEXT textureLod\n#define texture2DGradEXT textureGrad\n#define texture2DProjGradEXT textureProjGrad\n#define textureCubeGradEXT textureGrad"].join("\n")+
"\n"+F);D=U+F+D;A=pc(q,q.VERTEX_SHADER,U+y+A);D=pc(q,q.FRAGMENT_SHADER,D);q.attachShader(L,A);q.attachShader(L,D);void 0!==d.index0AttributeName?q.bindAttribLocation(L,0,d.index0AttributeName):!0===d.morphTargets&&q.bindAttribLocation(L,0,"position");q.linkProgram(L);if(a.debug.checkShaderErrors){a=q.getProgramInfoLog(L).trim();U=q.getShaderInfoLog(A).trim();G=q.getShaderInfoLog(D).trim();N=M=!0;if(!1===q.getProgramParameter(L,q.LINK_STATUS))M=!1,P=Be(q,A,"vertex"),T=Be(q,D,"fragment"),console.error("THREE.WebGLProgram: Shader Error "+
q.getError()+" - VALIDATE_STATUS "+q.getProgramParameter(L,q.VALIDATE_STATUS)+"\n\nProgram Info Log: "+a+"\n"+P+"\n"+T);else if(""!==a)console.warn("THREE.WebGLProgram: Program Info Log:",a);else if(""===U||""===G)N=!1;N&&(this.diagnostics={runnable:M,programLog:a,vertexShader:{log:U,prefix:y},fragmentShader:{log:G,prefix:F}})}q.deleteShader(A);q.deleteShader(D);let ma;this.getUniforms=function(){void 0===ma&&(ma=new mg(q,L));return ma};let ba;this.getAttributes=function(){if(void 0===ba){const na=
{},sa=q.getProgramParameter(L,q.ACTIVE_ATTRIBUTES);for(let ja=0;ja<sa;ja++){const Ga=q.getActiveAttrib(L,ja),oa=Ga.name;let wa=1;Ga.type===q.FLOAT_MAT2&&(wa=2);Ga.type===q.FLOAT_MAT3&&(wa=3);Ga.type===q.FLOAT_MAT4&&(wa=4);na[oa]={type:Ga.type,location:q.getAttribLocation(L,oa),locationSize:wa}}ba=na}return ba};this.destroy=function(){l.releaseStatesOfProgram(this);q.deleteProgram(L);this.program=void 0};this.name=d.shaderName;this.id=Uk++;this.cacheKey=b;this.usedTimes=1;this.program=L;this.vertexShader=
A;this.fragmentShader=D;return this}function uf(a,b,d,l,q,y,A){const D=new ng,F=new Vk,G=[],M=q.isWebGL2,N=q.logarithmicDepthBuffer,P=q.vertexTextures;let T=q.precision;const S={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",
PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"};return{getParameters:function(L,U,ma,ba,na){const sa=ba.fog,ja=na.geometry;ba=L.isMeshStandardMaterial?ba.environment:null;const Ga=(ba=(L.isMeshStandardMaterial?d:b).get(L.envMap||ba))&&306===ba.mapping?ba.image.height:null,oa=S[L.type];null!==L.precision&&(T=q.getMaxPrecision(L.precision),T!==L.precision&&console.warn("THREE.WebGLProgram.getParameters:",L.precision,"not supported, using",T,"instead."));var wa=ja.morphAttributes.position||
ja.morphAttributes.normal||ja.morphAttributes.color;wa=void 0!==wa?wa.length:0;let ya=0;void 0!==ja.morphAttributes.position&&(ya=1);void 0!==ja.morphAttributes.normal&&(ya=2);void 0!==ja.morphAttributes.color&&(ya=3);let xa;let Va,La;if(oa){var Ra=Xc[oa];xa=Ra.vertexShader;Ra=Ra.fragmentShader}else xa=L.vertexShader,Ra=L.fragmentShader,F.update(L),Va=F.getVertexShaderID(L),La=F.getFragmentShaderID(L);const Na=a.getRenderTarget(),cb=0<L.clearcoat,ob=0<L.iridescence;return{isWebGL2:M,shaderID:oa,shaderName:L.type,
vertexShader:xa,fragmentShader:Ra,defines:L.defines,customVertexShaderID:Va,customFragmentShaderID:La,isRawShaderMaterial:!0===L.isRawShaderMaterial,glslVersion:L.glslVersion,precision:T,instancing:!0===na.isInstancedMesh,instancingColor:!0===na.isInstancedMesh&&null!==na.instanceColor,supportsVertexTextures:P,outputEncoding:null===Na?a.outputEncoding:!0===Na.isXRRenderTarget?Na.texture.encoding:3E3,map:!!L.map,matcap:!!L.matcap,envMap:!!ba,envMapMode:ba&&ba.mapping,envMapCubeUVHeight:Ga,lightMap:!!L.lightMap,
aoMap:!!L.aoMap,emissiveMap:!!L.emissiveMap,bumpMap:!!L.bumpMap,normalMap:!!L.normalMap,objectSpaceNormalMap:1===L.normalMapType,tangentSpaceNormalMap:0===L.normalMapType,decodeVideoTexture:!!L.map&&!0===L.map.isVideoTexture&&3001===L.map.encoding,clearcoat:cb,clearcoatMap:cb&&!!L.clearcoatMap,clearcoatRoughnessMap:cb&&!!L.clearcoatRoughnessMap,clearcoatNormalMap:cb&&!!L.clearcoatNormalMap,iridescence:ob,iridescenceMap:ob&&!!L.iridescenceMap,iridescenceThicknessMap:ob&&!!L.iridescenceThicknessMap,
displacementMap:!!L.displacementMap,roughnessMap:!!L.roughnessMap,metalnessMap:!!L.metalnessMap,specularMap:!!L.specularMap,specularIntensityMap:!!L.specularIntensityMap,specularColorMap:!!L.specularColorMap,opaque:!1===L.transparent&&1===L.blending,alphaMap:!!L.alphaMap,alphaTest:0<L.alphaTest,gradientMap:!!L.gradientMap,sheen:0<L.sheen,sheenColorMap:!!L.sheenColorMap,sheenRoughnessMap:!!L.sheenRoughnessMap,transmission:0<L.transmission,transmissionMap:!!L.transmissionMap,thicknessMap:!!L.thicknessMap,
combine:L.combine,vertexTangents:!!L.normalMap&&!!ja.attributes.tangent,vertexColors:L.vertexColors,vertexAlphas:!0===L.vertexColors&&!!ja.attributes.color&&4===ja.attributes.color.itemSize,vertexUvs:!!L.map||!!L.bumpMap||!!L.normalMap||!!L.specularMap||!!L.alphaMap||!!L.emissiveMap||!!L.roughnessMap||!!L.metalnessMap||!!L.clearcoatMap||!!L.clearcoatRoughnessMap||!!L.clearcoatNormalMap||!!L.iridescenceMap||!!L.iridescenceThicknessMap||!!L.displacementMap||!!L.transmissionMap||!!L.thicknessMap||!!L.specularIntensityMap||
!!L.specularColorMap||!!L.sheenColorMap||!!L.sheenRoughnessMap,uvsVertexOnly:!(L.map||L.bumpMap||L.normalMap||L.specularMap||L.alphaMap||L.emissiveMap||L.roughnessMap||L.metalnessMap||L.clearcoatNormalMap||L.iridescenceMap||L.iridescenceThicknessMap||0<L.transmission||L.transmissionMap||L.thicknessMap||L.specularIntensityMap||L.specularColorMap||0<L.sheen||L.sheenColorMap||L.sheenRoughnessMap)&&!!L.displacementMap,fog:!!sa,useFog:!0===L.fog,fogExp2:sa&&sa.isFogExp2,flatShading:!!L.flatShading,sizeAttenuation:L.sizeAttenuation,
logarithmicDepthBuffer:N,skinning:!0===na.isSkinnedMesh,morphTargets:void 0!==ja.morphAttributes.position,morphNormals:void 0!==ja.morphAttributes.normal,morphColors:void 0!==ja.morphAttributes.color,morphTargetsCount:wa,morphTextureStride:ya,numDirLights:U.directional.length,numPointLights:U.point.length,numSpotLights:U.spot.length,numSpotLightMaps:U.spotLightMap.length,numRectAreaLights:U.rectArea.length,numHemiLights:U.hemi.length,numDirLightShadows:U.directionalShadowMap.length,numPointLightShadows:U.pointShadowMap.length,
numSpotLightShadows:U.spotShadowMap.length,numSpotLightShadowsWithMaps:U.numSpotLightShadowsWithMaps,numClippingPlanes:A.numPlanes,numClipIntersection:A.numIntersection,dithering:L.dithering,shadowMapEnabled:a.shadowMap.enabled&&0<ma.length,shadowMapType:a.shadowMap.type,toneMapping:L.toneMapped?a.toneMapping:0,useLegacyLights:a.useLegacyLights,premultipliedAlpha:L.premultipliedAlpha,doubleSided:2===L.side,flipSided:1===L.side,useDepthPacking:!!L.depthPacking,depthPacking:L.depthPacking||0,index0AttributeName:L.index0AttributeName,
extensionDerivatives:L.extensions&&L.extensions.derivatives,extensionFragDepth:L.extensions&&L.extensions.fragDepth,extensionDrawBuffers:L.extensions&&L.extensions.drawBuffers,extensionShaderTextureLOD:L.extensions&&L.extensions.shaderTextureLOD,rendererExtensionFragDepth:M||l.has("EXT_frag_depth"),rendererExtensionDrawBuffers:M||l.has("WEBGL_draw_buffers"),rendererExtensionShaderTextureLod:M||l.has("EXT_shader_texture_lod"),customProgramCacheKey:L.customProgramCacheKey()}},getProgramCacheKey:function(L){const U=
[];L.shaderID?U.push(L.shaderID):(U.push(L.customVertexShaderID),U.push(L.customFragmentShaderID));if(void 0!==L.defines)for(const ma in L.defines)U.push(ma),U.push(L.defines[ma]);!1===L.isRawShaderMaterial&&(U.push(L.precision),U.push(L.outputEncoding),U.push(L.envMapMode),U.push(L.envMapCubeUVHeight),U.push(L.combine),U.push(L.vertexUvs),U.push(L.fogExp2),U.push(L.sizeAttenuation),U.push(L.morphTargetsCount),U.push(L.morphAttributeCount),U.push(L.numDirLights),U.push(L.numPointLights),U.push(L.numSpotLights),
U.push(L.numSpotLightMaps),U.push(L.numHemiLights),U.push(L.numRectAreaLights),U.push(L.numDirLightShadows),U.push(L.numPointLightShadows),U.push(L.numSpotLightShadows),U.push(L.numSpotLightShadowsWithMaps),U.push(L.shadowMapType),U.push(L.toneMapping),U.push(L.numClippingPlanes),U.push(L.numClipIntersection),U.push(L.depthPacking),D.disableAll(),L.isWebGL2&&D.enable(0),L.supportsVertexTextures&&D.enable(1),L.instancing&&D.enable(2),L.instancingColor&&D.enable(3),L.map&&D.enable(4),L.matcap&&D.enable(5),
L.envMap&&D.enable(6),L.lightMap&&D.enable(7),L.aoMap&&D.enable(8),L.emissiveMap&&D.enable(9),L.bumpMap&&D.enable(10),L.normalMap&&D.enable(11),L.objectSpaceNormalMap&&D.enable(12),L.tangentSpaceNormalMap&&D.enable(13),L.clearcoat&&D.enable(14),L.clearcoatMap&&D.enable(15),L.clearcoatRoughnessMap&&D.enable(16),L.clearcoatNormalMap&&D.enable(17),L.iridescence&&D.enable(18),L.iridescenceMap&&D.enable(19),L.iridescenceThicknessMap&&D.enable(20),L.displacementMap&&D.enable(21),L.specularMap&&D.enable(22),
L.roughnessMap&&D.enable(23),L.metalnessMap&&D.enable(24),L.gradientMap&&D.enable(25),L.alphaMap&&D.enable(26),L.alphaTest&&D.enable(27),L.vertexColors&&D.enable(28),L.vertexAlphas&&D.enable(29),L.vertexUvs&&D.enable(30),L.vertexTangents&&D.enable(31),L.uvsVertexOnly&&D.enable(32),U.push(D.mask),D.disableAll(),L.fog&&D.enable(0),L.useFog&&D.enable(1),L.flatShading&&D.enable(2),L.logarithmicDepthBuffer&&D.enable(3),L.skinning&&D.enable(4),L.morphTargets&&D.enable(5),L.morphNormals&&D.enable(6),L.morphColors&&
D.enable(7),L.premultipliedAlpha&&D.enable(8),L.shadowMapEnabled&&D.enable(9),L.useLegacyLights&&D.enable(10),L.doubleSided&&D.enable(11),L.flipSided&&D.enable(12),L.useDepthPacking&&D.enable(13),L.dithering&&D.enable(14),L.specularIntensityMap&&D.enable(15),L.specularColorMap&&D.enable(16),L.transmission&&D.enable(17),L.transmissionMap&&D.enable(18),L.thicknessMap&&D.enable(19),L.sheen&&D.enable(20),L.sheenColorMap&&D.enable(21),L.sheenRoughnessMap&&D.enable(22),L.decodeVideoTexture&&D.enable(23),
L.opaque&&D.enable(24),U.push(D.mask),U.push(a.outputEncoding));U.push(L.customProgramCacheKey);return U.join()},getUniforms:function(L){const U=S[L.type];return U?bj.clone(Xc[U].uniforms):L.uniforms},acquireProgram:function(L,U){let ma;for(let ba=0,na=G.length;ba<na;ba++){const sa=G[ba];if(sa.cacheKey===U){ma=sa;++ma.usedTimes;break}}void 0===ma&&(ma=new tf(a,U,L,y),G.push(ma));return ma},releaseProgram:function(L){if(0===--L.usedTimes){const U=G.indexOf(L);G[U]=G[G.length-1];G.pop();L.destroy()}},
releaseShaderCache:function(L){F.remove(L)},programs:G,dispose:function(){F.dispose()}}}function vf(){let a=new WeakMap;return{get:function(b){let d=a.get(b);void 0===d&&(d={},a.set(b,d));return d},remove:function(b){a.delete(b)},update:function(b,d,l){a.get(b)[d]=l},dispose:function(){a=new WeakMap}}}function wf(a,b){return a.groupOrder!==b.groupOrder?a.groupOrder-b.groupOrder:a.renderOrder!==b.renderOrder?a.renderOrder-b.renderOrder:a.material.id!==b.material.id?a.material.id-b.material.id:a.z!==
b.z?a.z-b.z:a.id-b.id}function De(a,b){return a.groupOrder!==b.groupOrder?a.groupOrder-b.groupOrder:a.renderOrder!==b.renderOrder?a.renderOrder-b.renderOrder:a.z!==b.z?b.z-a.z:a.id-b.id}function Ee(){function a(A,D,F,G,M,N){let P=b[d];void 0===P?(P={id:A.id,object:A,geometry:D,material:F,groupOrder:G,renderOrder:A.renderOrder,z:M,group:N},b[d]=P):(P.id=A.id,P.object=A,P.geometry=D,P.material=F,P.groupOrder=G,P.renderOrder=A.renderOrder,P.z=M,P.group=N);d++;return P}const b=[];let d=0;const l=[],q=
[],y=[];return{opaque:l,transmissive:q,transparent:y,init:function(){d=0;l.length=0;q.length=0;y.length=0},push:function(A,D,F,G,M,N){A=a(A,D,F,G,M,N);0<F.transmission?q.push(A):!0===F.transparent?y.push(A):l.push(A)},unshift:function(A,D,F,G,M,N){A=a(A,D,F,G,M,N);0<F.transmission?q.unshift(A):!0===F.transparent?y.unshift(A):l.unshift(A)},finish:function(){for(let A=d,D=b.length;A<D;A++){const F=b[A];if(null===F.id)break;F.id=null;F.object=null;F.geometry=null;F.material=null;F.group=null}},sort:function(A,
D){1<l.length&&l.sort(A||wf);1<q.length&&q.sort(D||De);1<y.length&&y.sort(D||De)}}}function xf(){let a=new WeakMap;return{get:function(b,d){const l=a.get(b);void 0===l?(d=new Ee,a.set(b,[d])):d>=l.length?(d=new Ee,l.push(d)):d=l[d];return d},dispose:function(){a=new WeakMap}}}function yf(){const a={};return{get:function(b){if(void 0!==a[b.id])return a[b.id];let d;switch(b.type){case "DirectionalLight":d={direction:new aa,color:new gb};break;case "SpotLight":d={position:new aa,direction:new aa,color:new gb,
distance:0,coneCos:0,penumbraCos:0,decay:0};break;case "PointLight":d={position:new aa,color:new gb,distance:0,decay:0};break;case "HemisphereLight":d={direction:new aa,skyColor:new gb,groundColor:new gb};break;case "RectAreaLight":d={color:new gb,position:new aa,halfWidth:new aa,halfHeight:new aa}}return a[b.id]=d}}}function zf(){const a={};return{get:function(b){if(void 0!==a[b.id])return a[b.id];let d;switch(b.type){case "DirectionalLight":d={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new za};
break;case "SpotLight":d={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new za};break;case "PointLight":d={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new za,shadowCameraNear:1,shadowCameraFar:1E3}}return a[b.id]=d}}}function Af(a,b){return(b.castShadow?2:0)-(a.castShadow?2:0)+(b.map?1:0)-(a.map?1:0)}function Bf(a,b){const d=new yf,l=zf(),q={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,
numSpotShadows:-1,numSpotMaps:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotLightMap:[],spotShadow:[],spotShadowMap:[],spotLightMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[],numSpotLightShadowsWithMaps:0};for(let F=0;9>F;F++)q.probe.push(new aa);const y=new aa,A=new Fb,D=new Fb;return{setup:function(F,G){let M=0,N=0,P=0;for(var T=0;9>
T;T++)q.probe[T].set(0,0,0);let S=T=0,L=0,U=0,ma=0,ba=0,na=0,sa=0,ja=0,Ga=0;F.sort(Af);G=!0===G?Math.PI:1;for(let La=0,Ra=F.length;La<Ra;La++){var oa=F[La],wa=oa.color,ya=oa.intensity,xa=oa.distance,Va=oa.shadow&&oa.shadow.map?oa.shadow.map.texture:null;if(oa.isAmbientLight)M+=wa.r*ya*G,N+=wa.g*ya*G,P+=wa.b*ya*G;else if(oa.isLightProbe)for(Va=0;9>Va;Va++)q.probe[Va].addScaledVector(oa.sh.coefficients[Va],ya);else if(oa.isDirectionalLight)ya=d.get(oa),ya.color.copy(oa.color).multiplyScalar(oa.intensity*
G),oa.castShadow&&(wa=oa.shadow,xa=l.get(oa),xa.shadowBias=wa.bias,xa.shadowNormalBias=wa.normalBias,xa.shadowRadius=wa.radius,xa.shadowMapSize=wa.mapSize,q.directionalShadow[T]=xa,q.directionalShadowMap[T]=Va,q.directionalShadowMatrix[T]=oa.shadow.matrix,ba++),q.directional[T]=ya,T++;else if(oa.isSpotLight){const Na=d.get(oa);Na.position.setFromMatrixPosition(oa.matrixWorld);Na.color.copy(wa).multiplyScalar(ya*G);Na.distance=xa;Na.coneCos=Math.cos(oa.angle);Na.penumbraCos=Math.cos(oa.angle*(1-oa.penumbra));
Na.decay=oa.decay;q.spot[L]=Na;ya=oa.shadow;oa.map&&(q.spotLightMap[ja]=oa.map,ja++,ya.updateMatrices(oa),oa.castShadow&&Ga++);q.spotLightMatrix[L]=ya.matrix;oa.castShadow&&(oa=l.get(oa),oa.shadowBias=ya.bias,oa.shadowNormalBias=ya.normalBias,oa.shadowRadius=ya.radius,oa.shadowMapSize=ya.mapSize,q.spotShadow[L]=oa,q.spotShadowMap[L]=Va,sa++);L++}else oa.isRectAreaLight?(Va=d.get(oa),Va.color.copy(wa).multiplyScalar(ya),Va.halfWidth.set(.5*oa.width,0,0),Va.halfHeight.set(0,.5*oa.height,0),q.rectArea[U]=
Va,U++):oa.isPointLight?(ya=d.get(oa),ya.color.copy(oa.color).multiplyScalar(oa.intensity*G),ya.distance=oa.distance,ya.decay=oa.decay,oa.castShadow&&(wa=oa.shadow,xa=l.get(oa),xa.shadowBias=wa.bias,xa.shadowNormalBias=wa.normalBias,xa.shadowRadius=wa.radius,xa.shadowMapSize=wa.mapSize,xa.shadowCameraNear=wa.camera.near,xa.shadowCameraFar=wa.camera.far,q.pointShadow[S]=xa,q.pointShadowMap[S]=Va,q.pointShadowMatrix[S]=oa.shadow.matrix,na++),q.point[S]=ya,S++):oa.isHemisphereLight&&(Va=d.get(oa),Va.skyColor.copy(oa.color).multiplyScalar(ya*
G),Va.groundColor.copy(oa.groundColor).multiplyScalar(ya*G),q.hemi[ma]=Va,ma++)}0<U&&(b.isWebGL2?(q.rectAreaLTC1=ab.LTC_FLOAT_1,q.rectAreaLTC2=ab.LTC_FLOAT_2):!0===a.has("OES_texture_float_linear")?(q.rectAreaLTC1=ab.LTC_FLOAT_1,q.rectAreaLTC2=ab.LTC_FLOAT_2):!0===a.has("OES_texture_half_float_linear")?(q.rectAreaLTC1=ab.LTC_HALF_1,q.rectAreaLTC2=ab.LTC_HALF_2):console.error("THREE.WebGLRenderer: Unable to use RectAreaLight. Missing WebGL extensions."));q.ambient[0]=M;q.ambient[1]=N;q.ambient[2]=
P;F=q.hash;if(F.directionalLength!==T||F.pointLength!==S||F.spotLength!==L||F.rectAreaLength!==U||F.hemiLength!==ma||F.numDirectionalShadows!==ba||F.numPointShadows!==na||F.numSpotShadows!==sa||F.numSpotMaps!==ja)q.directional.length=T,q.spot.length=L,q.rectArea.length=U,q.point.length=S,q.hemi.length=ma,q.directionalShadow.length=ba,q.directionalShadowMap.length=ba,q.pointShadow.length=na,q.pointShadowMap.length=na,q.spotShadow.length=sa,q.spotShadowMap.length=sa,q.directionalShadowMatrix.length=
ba,q.pointShadowMatrix.length=na,q.spotLightMatrix.length=sa+ja-Ga,q.spotLightMap.length=ja,q.numSpotLightShadowsWithMaps=Ga,F.directionalLength=T,F.pointLength=S,F.spotLength=L,F.rectAreaLength=U,F.hemiLength=ma,F.numDirectionalShadows=ba,F.numPointShadows=na,F.numSpotShadows=sa,F.numSpotMaps=ja,q.version=Wk++},setupView:function(F,G){let M=0,N=0,P=0,T=0,S=0;G=G.matrixWorldInverse;for(let U=0,ma=F.length;U<ma;U++){const ba=F[U];if(ba.isDirectionalLight){var L=q.directional[M];L.direction.setFromMatrixPosition(ba.matrixWorld);
y.setFromMatrixPosition(ba.target.matrixWorld);L.direction.sub(y);L.direction.transformDirection(G);M++}else ba.isSpotLight?(L=q.spot[P],L.position.setFromMatrixPosition(ba.matrixWorld),L.position.applyMatrix4(G),L.direction.setFromMatrixPosition(ba.matrixWorld),y.setFromMatrixPosition(ba.target.matrixWorld),L.direction.sub(y),L.direction.transformDirection(G),P++):ba.isRectAreaLight?(L=q.rectArea[T],L.position.setFromMatrixPosition(ba.matrixWorld),L.position.applyMatrix4(G),D.identity(),A.copy(ba.matrixWorld),
A.premultiply(G),D.extractRotation(A),L.halfWidth.set(.5*ba.width,0,0),L.halfHeight.set(0,.5*ba.height,0),L.halfWidth.applyMatrix4(D),L.halfHeight.applyMatrix4(D),T++):ba.isPointLight?(L=q.point[N],L.position.setFromMatrixPosition(ba.matrixWorld),L.position.applyMatrix4(G),N++):ba.isHemisphereLight&&(L=q.hemi[S],L.direction.setFromMatrixPosition(ba.matrixWorld),L.direction.transformDirection(G),S++)}},state:q}}function Od(a,b){const d=new Bf(a,b),l=[],q=[];return{init:function(){l.length=0;q.length=
0},state:{lightsArray:l,shadowsArray:q,lights:d},setupLights:function(y){d.setup(l,y)},setupLightsView:function(y){d.setupView(l,y)},pushLight:function(y){l.push(y)},pushShadow:function(y){q.push(y)}}}function Ac(a,b){let d=new WeakMap;return{get:function(l,q=0){const y=d.get(l);void 0===y?(q=new Od(a,b),d.set(l,[q])):q>=y.length?(q=new Od(a,b),y.push(q)):q=y[q];return q},dispose:function(){d=new WeakMap}}}function Fh(a,b,d){function l(ba,na,sa,ja,Ga,oa){ba=!0===sa.isPointLight?ba.customDistanceMaterial:
ba.customDepthMaterial;if(void 0===ba&&(ba=!0===sa.isPointLight?M:G,a.localClippingEnabled&&!0===na.clipShadows&&Array.isArray(na.clippingPlanes)&&0!==na.clippingPlanes.length||na.displacementMap&&0!==na.displacementScale||na.alphaMap&&0<na.alphaTest||na.map&&0<na.alphaTest)){var wa=ba.uuid;const ya=na.uuid;let xa=N[wa];void 0===xa&&(xa={},N[wa]=xa);wa=xa[ya];void 0===wa&&(wa=ba.clone(),xa[ya]=wa);ba=wa}ba.visible=na.visible;ba.wireframe=na.wireframe;ba.side=3===oa?null!==na.shadowSide?na.shadowSide:
na.side:null!==na.shadowSide?na.shadowSide:T[na.side];ba.alphaMap=na.alphaMap;ba.alphaTest=na.alphaTest;ba.map=na.map;ba.clipShadows=na.clipShadows;ba.clippingPlanes=na.clippingPlanes;ba.clipIntersection=na.clipIntersection;ba.displacementMap=na.displacementMap;ba.displacementScale=na.displacementScale;ba.displacementBias=na.displacementBias;ba.wireframeLinewidth=na.wireframeLinewidth;ba.linewidth=na.linewidth;!0===sa.isPointLight&&!0===ba.isMeshDistanceMaterial&&(ba.referencePosition.setFromMatrixPosition(sa.matrixWorld),
ba.nearDistance=ja,ba.farDistance=Ga);return ba}function q(ba,na,sa,ja,Ga){if(!1!==ba.visible){if(ba.layers.test(na.layers)&&(ba.isMesh||ba.isLine||ba.isPoints)&&(ba.castShadow||ba.receiveShadow&&3===Ga)&&(!ba.frustumCulled||y.intersectsObject(ba))){ba.modelViewMatrix.multiplyMatrices(sa.matrixWorldInverse,ba.matrixWorld);const ya=b.update(ba);var oa=ba.material;if(Array.isArray(oa)){const xa=ya.groups;for(let Va=0,La=xa.length;Va<La;Va++){const Ra=xa[Va];var wa=oa[Ra.materialIndex];wa&&wa.visible&&
(wa=l(ba,wa,ja,sa.near,sa.far,Ga),a.renderBufferDirect(sa,null,ya,wa,ba,Ra))}}else oa.visible&&(oa=l(ba,oa,ja,sa.near,sa.far,Ga),a.renderBufferDirect(sa,null,ya,oa,ba,null))}ba=ba.children;for(let ya=0,xa=ba.length;ya<xa;ya++)q(ba[ya],na,sa,ja,Ga)}}let y=new og;const A=new za,D=new za,F=new cc,G=new Gh({depthPacking:3201}),M=new Hh,N={},P=d.maxTextureSize,T={[0]:1,[1]:0,[2]:2},S=new fd({defines:{VSM_SAMPLES:8},uniforms:{shadow_pass:{value:null},resolution:{value:new za},radius:{value:4}},vertexShader:"void main() {\n\tgl_Position \x3d vec4( position, 1.0 );\n}",
fragmentShader:"uniform sampler2D shadow_pass;\nuniform vec2 resolution;\nuniform float radius;\n#include \x3cpacking\x3e\nvoid main() {\n\tconst float samples \x3d float( VSM_SAMPLES );\n\tfloat mean \x3d 0.0;\n\tfloat squared_mean \x3d 0.0;\n\tfloat uvStride \x3d samples \x3c\x3d 1.0 ? 0.0 : 2.0 / ( samples - 1.0 );\n\tfloat uvStart \x3d samples \x3c\x3d 1.0 ? 0.0 : - 1.0;\n\tfor ( float i \x3d 0.0; i \x3c samples; i ++ ) {\n\t\tfloat uvOffset \x3d uvStart + i * uvStride;\n\t\t#ifdef HORIZONTAL_PASS\n\t\t\tvec2 distribution \x3d unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( uvOffset, 0.0 ) * radius ) / resolution ) );\n\t\t\tmean +\x3d distribution.x;\n\t\t\tsquared_mean +\x3d distribution.y * distribution.y + distribution.x * distribution.x;\n\t\t#else\n\t\t\tfloat depth \x3d unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, uvOffset ) * radius ) / resolution ) );\n\t\t\tmean +\x3d depth;\n\t\t\tsquared_mean +\x3d depth * depth;\n\t\t#endif\n\t}\n\tmean \x3d mean / samples;\n\tsquared_mean \x3d squared_mean / samples;\n\tfloat std_dev \x3d sqrt( squared_mean - mean * mean );\n\tgl_FragColor \x3d pack2HalfToRGBA( vec2( mean, std_dev ) );\n}"}),
L=S.clone();L.defines.HORIZONTAL_PASS=1;d=new Kb;d.setAttribute("position",new fc(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));const U=new xc(d,S),ma=this;this.enabled=!1;this.autoUpdate=!0;this.needsUpdate=!1;this.type=1;this.render=function(ba,na,sa){if(!1!==ma.enabled&&(!1!==ma.autoUpdate||!1!==ma.needsUpdate)&&0!==ba.length){var ja=a.getRenderTarget(),Ga=a.getActiveCubeFace(),oa=a.getActiveMipmapLevel(),wa=a.state;wa.setBlending(0);wa.buffers.color.setClear(1,1,1,1);wa.buffers.depth.setTest(!0);
wa.setScissorTest(!1);for(let La=0,Ra=ba.length;La<Ra;La++){var ya=ba[La];const Na=ya.shadow;if(void 0===Na)console.warn("THREE.WebGLShadowMap:",ya,"has no shadow.");else if(!1!==Na.autoUpdate||!1!==Na.needsUpdate){A.copy(Na.mapSize);var xa=Na.getFrameExtents();A.multiply(xa);D.copy(Na.mapSize);if(A.x>P||A.y>P)A.x>P&&(D.x=Math.floor(P/xa.x),A.x=D.x*xa.x,Na.mapSize.x=D.x),A.y>P&&(D.y=Math.floor(P/xa.y),A.y=D.y*xa.y,Na.mapSize.y=D.y);null===Na.map&&(Na.map=new Yc(A.x,A.y,3!==this.type?{minFilter:1003,
magFilter:1003}:{}),Na.map.texture.name=ya.name+".shadowMap",Na.camera.updateProjectionMatrix());a.setRenderTarget(Na.map);a.clear();xa=Na.getViewportCount();for(var Va=0;Va<xa;Va++){const cb=Na.getViewport(Va);F.set(D.x*cb.x,D.y*cb.y,D.x*cb.z,D.y*cb.w);wa.viewport(F);Na.updateMatrices(ya,Va);y=Na.getFrustum();q(na,sa,Na.camera,ya,this.type)}!0!==Na.isPointLightShadow&&3===this.type&&(ya=Na,xa=sa,Va=b.update(U),S.defines.VSM_SAMPLES!==ya.blurSamples&&(S.defines.VSM_SAMPLES=ya.blurSamples,L.defines.VSM_SAMPLES=
ya.blurSamples,S.needsUpdate=!0,L.needsUpdate=!0),null===ya.mapPass&&(ya.mapPass=new Yc(A.x,A.y)),S.uniforms.shadow_pass.value=ya.map.texture,S.uniforms.resolution.value=ya.mapSize,S.uniforms.radius.value=ya.radius,a.setRenderTarget(ya.mapPass),a.clear(),a.renderBufferDirect(xa,null,Va,S,U,null),L.uniforms.shadow_pass.value=ya.mapPass.texture,L.uniforms.resolution.value=ya.mapSize,L.uniforms.radius.value=ya.radius,a.setRenderTarget(ya.map),a.clear(),a.renderBufferDirect(xa,null,Va,L,U,null));Na.needsUpdate=
!1}}ma.needsUpdate=!1;a.setRenderTarget(ja,Ga,oa)}}}function Ih(a,b,d){function l(ha,Ba,Ia){const Ja=new Uint8Array(4),Ua=a.createTexture();a.bindTexture(ha,Ua);a.texParameteri(ha,a.TEXTURE_MIN_FILTER,a.NEAREST);a.texParameteri(ha,a.TEXTURE_MAG_FILTER,a.NEAREST);for(ha=0;ha<Ia;ha++)a.texImage2D(Ba+ha,0,a.RGBA,1,1,0,a.RGBA,a.UNSIGNED_BYTE,Ja);return Ua}function q(ha){!0!==U[ha]&&(a.enable(ha),U[ha]=!0)}function y(ha){!1!==U[ha]&&(a.disable(ha),U[ha]=!1)}function A(ha,Ba,Ia,Ja,Ua,eb,kb,Nb){if(0===ha)!0===
ja&&(y(a.BLEND),ja=!1);else if(!1===ja&&(q(a.BLEND),ja=!0),5!==ha){if(ha!==Ga||Nb!==Ra){if(100!==oa||100!==xa)a.blendEquation(a.FUNC_ADD),xa=oa=100;if(Nb)switch(ha){case 1:a.blendFuncSeparate(a.ONE,a.ONE_MINUS_SRC_ALPHA,a.ONE,a.ONE_MINUS_SRC_ALPHA);break;case 2:a.blendFunc(a.ONE,a.ONE);break;case 3:a.blendFuncSeparate(a.ZERO,a.ONE_MINUS_SRC_COLOR,a.ZERO,a.ONE);break;case 4:a.blendFuncSeparate(a.ZERO,a.SRC_COLOR,a.ZERO,a.SRC_ALPHA);break;default:console.error("THREE.WebGLState: Invalid blending: ",
ha)}else switch(ha){case 1:a.blendFuncSeparate(a.SRC_ALPHA,a.ONE_MINUS_SRC_ALPHA,a.ONE,a.ONE_MINUS_SRC_ALPHA);break;case 2:a.blendFunc(a.SRC_ALPHA,a.ONE);break;case 3:a.blendFuncSeparate(a.ZERO,a.ONE_MINUS_SRC_COLOR,a.ZERO,a.ONE);break;case 4:a.blendFunc(a.ZERO,a.SRC_COLOR);break;default:console.error("THREE.WebGLState: Invalid blending: ",ha)}La=Va=ya=wa=null;Ga=ha;Ra=Nb}}else{Ua=Ua||Ba;eb=eb||Ia;kb=kb||Ja;if(Ba!==oa||Ua!==xa)a.blendEquationSeparate(ra[Ba],ra[Ua]),oa=Ba,xa=Ua;if(Ia!==wa||Ja!==ya||
eb!==Va||kb!==La)a.blendFuncSeparate(Za[Ia],Za[Ja],Za[eb],Za[kb]),wa=Ia,ya=Ja,Va=eb,La=kb;Ga=ha;Ra=!1}}function D(ha){Na!==ha&&(ha?a.frontFace(a.CW):a.frontFace(a.CCW),Na=ha)}function F(ha){0!==ha?(q(a.CULL_FACE),ha!==cb&&(1===ha?a.cullFace(a.BACK):2===ha?a.cullFace(a.FRONT):a.cullFace(a.FRONT_AND_BACK))):y(a.CULL_FACE);cb=ha}function G(ha,Ba,Ia){if(ha){if(q(a.POLYGON_OFFSET_FILL),ub!==Ba||Bb!==Ia)a.polygonOffset(Ba,Ia),ub=Ba,Bb=Ia}else y(a.POLYGON_OFFSET_FILL)}const M=d.isWebGL2,N=new function(){let ha=
!1;const Ba=new cc;let Ia=null;const Ja=new cc(0,0,0,0);return{setMask:function(Ua){Ia===Ua||ha||(a.colorMask(Ua,Ua,Ua,Ua),Ia=Ua)},setLocked:function(Ua){ha=Ua},setClear:function(Ua,eb,kb,Nb,ua){!0===ua&&(Ua*=Nb,eb*=Nb,kb*=Nb);Ba.set(Ua,eb,kb,Nb);!1===Ja.equals(Ba)&&(a.clearColor(Ua,eb,kb,Nb),Ja.copy(Ba))},reset:function(){ha=!1;Ia=null;Ja.set(-1,0,0,0)}}},P=new function(){let ha=!1,Ba=null,Ia=null,Ja=null;return{setTest:function(Ua){Ua?q(a.DEPTH_TEST):y(a.DEPTH_TEST)},setMask:function(Ua){Ba===Ua||
ha||(a.depthMask(Ua),Ba=Ua)},setFunc:function(Ua){if(Ia!==Ua){switch(Ua){case 0:a.depthFunc(a.NEVER);break;case 1:a.depthFunc(a.ALWAYS);break;case 2:a.depthFunc(a.LESS);break;case 3:a.depthFunc(a.LEQUAL);break;case 4:a.depthFunc(a.EQUAL);break;case 5:a.depthFunc(a.GEQUAL);break;case 6:a.depthFunc(a.GREATER);break;case 7:a.depthFunc(a.NOTEQUAL);break;default:a.depthFunc(a.LEQUAL)}Ia=Ua}},setLocked:function(Ua){ha=Ua},setClear:function(Ua){Ja!==Ua&&(a.clearDepth(Ua),Ja=Ua)},reset:function(){ha=!1;Ja=
Ia=Ba=null}}},T=new function(){let ha=!1,Ba=null,Ia=null,Ja=null,Ua=null,eb=null,kb=null,Nb=null,ua=null;return{setTest:function(Ab){ha||(Ab?q(a.STENCIL_TEST):y(a.STENCIL_TEST))},setMask:function(Ab){Ba===Ab||ha||(a.stencilMask(Ab),Ba=Ab)},setFunc:function(Ab,Ub,Lb){if(Ia!==Ab||Ja!==Ub||Ua!==Lb)a.stencilFunc(Ab,Ub,Lb),Ia=Ab,Ja=Ub,Ua=Lb},setOp:function(Ab,Ub,Lb){if(eb!==Ab||kb!==Ub||Nb!==Lb)a.stencilOp(Ab,Ub,Lb),eb=Ab,kb=Ub,Nb=Lb},setLocked:function(Ab){ha=Ab},setClear:function(Ab){ua!==Ab&&(a.clearStencil(Ab),
ua=Ab)},reset:function(){ha=!1;ua=Nb=kb=eb=Ua=Ja=Ia=Ba=null}}},S=new WeakMap,L=new WeakMap;let U={},ma={},ba=new WeakMap,na=[],sa=null,ja=!1,Ga=null,oa=null,wa=null,ya=null,xa=null,Va=null,La=null,Ra=!1,Na=null,cb=null,ob=null,ub=null,Bb=null;const Sa=a.getParameter(a.MAX_COMBINED_TEXTURE_IMAGE_UNITS);let $a=!1;var bb=0;bb=a.getParameter(a.VERSION);-1!==bb.indexOf("WebGL")?(bb=parseFloat(/^WebGL (\d)/.exec(bb)[1]),$a=1<=bb):-1!==bb.indexOf("OpenGL ES")&&(bb=parseFloat(/^OpenGL ES (\d)/.exec(bb)[1]),
$a=2<=bb);let rb=null,nb={};bb=a.getParameter(a.SCISSOR_BOX);const Y=a.getParameter(a.VIEWPORT),V=(new cc).fromArray(bb),fa=(new cc).fromArray(Y),ia={};ia[a.TEXTURE_2D]=l(a.TEXTURE_2D,a.TEXTURE_2D,1);ia[a.TEXTURE_CUBE_MAP]=l(a.TEXTURE_CUBE_MAP,a.TEXTURE_CUBE_MAP_POSITIVE_X,6);N.setClear(0,0,0,1);P.setClear(1);T.setClear(0);q(a.DEPTH_TEST);P.setFunc(3);D(!1);F(1);q(a.CULL_FACE);A(0);const ra={[100]:a.FUNC_ADD,[101]:a.FUNC_SUBTRACT,[102]:a.FUNC_REVERSE_SUBTRACT};M?(ra[103]=a.MIN,ra[104]=a.MAX):(bb=
b.get("EXT_blend_minmax"),null!==bb&&(ra[103]=bb.MIN_EXT,ra[104]=bb.MAX_EXT));const Za={[200]:a.ZERO,[201]:a.ONE,[202]:a.SRC_COLOR,[204]:a.SRC_ALPHA,[210]:a.SRC_ALPHA_SATURATE,[208]:a.DST_COLOR,[206]:a.DST_ALPHA,[203]:a.ONE_MINUS_SRC_COLOR,[205]:a.ONE_MINUS_SRC_ALPHA,[209]:a.ONE_MINUS_DST_COLOR,[207]:a.ONE_MINUS_DST_ALPHA};return{buffers:{color:N,depth:P,stencil:T},enable:q,disable:y,bindFramebuffer:function(ha,Ba){return ma[ha]!==Ba?(a.bindFramebuffer(ha,Ba),ma[ha]=Ba,M&&(ha===a.DRAW_FRAMEBUFFER&&
(ma[a.FRAMEBUFFER]=Ba),ha===a.FRAMEBUFFER&&(ma[a.DRAW_FRAMEBUFFER]=Ba)),!0):!1},drawBuffers:function(ha,Ba){let Ia=na,Ja=!1;if(ha)if(Ia=ba.get(Ba),void 0===Ia&&(Ia=[],ba.set(Ba,Ia)),ha.isWebGLMultipleRenderTargets){if(ha=ha.texture,Ia.length!==ha.length||Ia[0]!==a.COLOR_ATTACHMENT0){for(let Ua=0,eb=ha.length;Ua<eb;Ua++)Ia[Ua]=a.COLOR_ATTACHMENT0+Ua;Ia.length=ha.length;Ja=!0}}else Ia[0]!==a.COLOR_ATTACHMENT0&&(Ia[0]=a.COLOR_ATTACHMENT0,Ja=!0);else Ia[0]!==a.BACK&&(Ia[0]=a.BACK,Ja=!0);Ja&&(d.isWebGL2?
a.drawBuffers(Ia):b.get("WEBGL_draw_buffers").drawBuffersWEBGL(Ia))},useProgram:function(ha){return sa!==ha?(a.useProgram(ha),sa=ha,!0):!1},setBlending:A,setMaterial:function(ha,Ba){2===ha.side?y(a.CULL_FACE):q(a.CULL_FACE);let Ia=1===ha.side;Ba&&(Ia=!Ia);D(Ia);1===ha.blending&&!1===ha.transparent?A(0):A(ha.blending,ha.blendEquation,ha.blendSrc,ha.blendDst,ha.blendEquationAlpha,ha.blendSrcAlpha,ha.blendDstAlpha,ha.premultipliedAlpha);P.setFunc(ha.depthFunc);P.setTest(ha.depthTest);P.setMask(ha.depthWrite);
N.setMask(ha.colorWrite);Ba=ha.stencilWrite;T.setTest(Ba);Ba&&(T.setMask(ha.stencilWriteMask),T.setFunc(ha.stencilFunc,ha.stencilRef,ha.stencilFuncMask),T.setOp(ha.stencilFail,ha.stencilZFail,ha.stencilZPass));G(ha.polygonOffset,ha.polygonOffsetFactor,ha.polygonOffsetUnits);!0===ha.alphaToCoverage?q(a.SAMPLE_ALPHA_TO_COVERAGE):y(a.SAMPLE_ALPHA_TO_COVERAGE)},setFlipSided:D,setCullFace:F,setLineWidth:function(ha){ha!==ob&&($a&&a.lineWidth(ha),ob=ha)},setPolygonOffset:G,setScissorTest:function(ha){ha?
q(a.SCISSOR_TEST):y(a.SCISSOR_TEST)},activeTexture:function(ha){void 0===ha&&(ha=a.TEXTURE0+Sa-1);rb!==ha&&(a.activeTexture(ha),rb=ha)},bindTexture:function(ha,Ba,Ia){void 0===Ia&&(Ia=null===rb?a.TEXTURE0+Sa-1:rb);let Ja=nb[Ia];void 0===Ja&&(Ja={type:void 0,texture:void 0},nb[Ia]=Ja);if(Ja.type!==ha||Ja.texture!==Ba)rb!==Ia&&(a.activeTexture(Ia),rb=Ia),a.bindTexture(ha,Ba||ia[ha]),Ja.type=ha,Ja.texture=Ba},unbindTexture:function(){const ha=nb[rb];void 0!==ha&&void 0!==ha.type&&(a.bindTexture(ha.type,
null),ha.type=void 0,ha.texture=void 0)},compressedTexImage2D:function(){try{a.compressedTexImage2D.apply(a,arguments)}catch(ha){console.error("THREE.WebGLState:",ha)}},compressedTexImage3D:function(){try{a.compressedTexImage3D.apply(a,arguments)}catch(ha){console.error("THREE.WebGLState:",ha)}},texImage2D:function(){try{a.texImage2D.apply(a,arguments)}catch(ha){console.error("THREE.WebGLState:",ha)}},texImage3D:function(){try{a.texImage3D.apply(a,arguments)}catch(ha){console.error("THREE.WebGLState:",
ha)}},updateUBOMapping:function(ha,Ba){let Ia=L.get(Ba);void 0===Ia&&(Ia=new WeakMap,L.set(Ba,Ia));let Ja=Ia.get(ha);void 0===Ja&&(Ja=a.getUniformBlockIndex(Ba,ha.name),Ia.set(ha,Ja))},uniformBlockBinding:function(ha,Ba){const Ia=L.get(Ba).get(ha);S.get(Ba)!==Ia&&(a.uniformBlockBinding(Ba,Ia,ha.__bindingPointIndex),S.set(Ba,Ia))},texStorage2D:function(){try{a.texStorage2D.apply(a,arguments)}catch(ha){console.error("THREE.WebGLState:",ha)}},texStorage3D:function(){try{a.texStorage3D.apply(a,arguments)}catch(ha){console.error("THREE.WebGLState:",
ha)}},texSubImage2D:function(){try{a.texSubImage2D.apply(a,arguments)}catch(ha){console.error("THREE.WebGLState:",ha)}},texSubImage3D:function(){try{a.texSubImage3D.apply(a,arguments)}catch(ha){console.error("THREE.WebGLState:",ha)}},compressedTexSubImage2D:function(){try{a.compressedTexSubImage2D.apply(a,arguments)}catch(ha){console.error("THREE.WebGLState:",ha)}},compressedTexSubImage3D:function(){try{a.compressedTexSubImage3D.apply(a,arguments)}catch(ha){console.error("THREE.WebGLState:",ha)}},
scissor:function(ha){!1===V.equals(ha)&&(a.scissor(ha.x,ha.y,ha.z,ha.w),V.copy(ha))},viewport:function(ha){!1===fa.equals(ha)&&(a.viewport(ha.x,ha.y,ha.z,ha.w),fa.copy(ha))},reset:function(){a.disable(a.BLEND);a.disable(a.CULL_FACE);a.disable(a.DEPTH_TEST);a.disable(a.POLYGON_OFFSET_FILL);a.disable(a.SCISSOR_TEST);a.disable(a.STENCIL_TEST);a.disable(a.SAMPLE_ALPHA_TO_COVERAGE);a.blendEquation(a.FUNC_ADD);a.blendFunc(a.ONE,a.ZERO);a.blendFuncSeparate(a.ONE,a.ZERO,a.ONE,a.ZERO);a.colorMask(!0,!0,!0,
!0);a.clearColor(0,0,0,0);a.depthMask(!0);a.depthFunc(a.LESS);a.clearDepth(1);a.stencilMask(4294967295);a.stencilFunc(a.ALWAYS,0,4294967295);a.stencilOp(a.KEEP,a.KEEP,a.KEEP);a.clearStencil(0);a.cullFace(a.BACK);a.frontFace(a.CCW);a.polygonOffset(0,0);a.activeTexture(a.TEXTURE0);a.bindFramebuffer(a.FRAMEBUFFER,null);!0===M&&(a.bindFramebuffer(a.DRAW_FRAMEBUFFER,null),a.bindFramebuffer(a.READ_FRAMEBUFFER,null));a.useProgram(null);a.lineWidth(1);a.scissor(0,0,a.canvas.width,a.canvas.height);a.viewport(0,
0,a.canvas.width,a.canvas.height);U={};rb=null;nb={};ma={};ba=new WeakMap;na=[];sa=null;ja=!1;La=Va=xa=ya=wa=oa=Ga=null;Ra=!1;Bb=ub=ob=cb=Na=null;V.set(0,0,a.canvas.width,a.canvas.height);fa.set(0,0,a.canvas.width,a.canvas.height);N.reset();P.reset();T.reset()}}}function Jh(a,b,d,l,q,y,A){function D(Y,V,fa,ia){var ra=1;if(Y.width>ia||Y.height>ia)ra=ia/Math.max(Y.width,Y.height);if(1>ra||!0===V){if("undefined"!==typeof HTMLImageElement&&Y instanceof HTMLImageElement||"undefined"!==typeof HTMLCanvasElement&&
Y instanceof HTMLCanvasElement||"undefined"!==typeof ImageBitmap&&Y instanceof ImageBitmap)return ia=V?k:Math.floor,V=ia(ra*Y.width),ra=ia(ra*Y.height),void 0===Bb&&(Bb=$a?new OffscreenCanvas(V,ra):w("canvas")),fa=fa?$a?new OffscreenCanvas(V,ra):w("canvas"):Bb,fa.width=V,fa.height=ra,fa.getContext("2d").drawImage(Y,0,0,V,ra),console.warn("THREE.WebGLRenderer: Texture has been resized from ("+Y.width+"x"+Y.height+") to ("+V+"x"+ra+")."),fa;"data"in Y&&console.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+
Y.width+"x"+Y.height+").")}return Y}function F(Y){return f(Y.width)&&f(Y.height)}function G(Y,V){return Y.generateMipmaps&&V&&1003!==Y.minFilter&&1006!==Y.minFilter}function M(Y,V,fa,ia,ra=!1){if(!1===xa)return V;if(null!==Y){if(void 0!==a[Y])return a[Y];console.warn("THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format '"+Y+"'")}Y=V;V===a.RED&&(fa===a.FLOAT&&(Y=a.R32F),fa===a.HALF_FLOAT&&(Y=a.R16F),fa===a.UNSIGNED_BYTE&&(Y=a.R8));V===a.RG&&(fa===a.FLOAT&&(Y=a.RG32F),fa===a.HALF_FLOAT&&
(Y=a.RG16F),fa===a.UNSIGNED_BYTE&&(Y=a.RG8));V===a.RGBA&&(fa===a.FLOAT&&(Y=a.RGBA32F),fa===a.HALF_FLOAT&&(Y=a.RGBA16F),fa===a.UNSIGNED_BYTE&&(Y=3001===ia&&!1===ra?a.SRGB8_ALPHA8:a.RGBA8),fa===a.UNSIGNED_SHORT_4_4_4_4&&(Y=a.RGBA4),fa===a.UNSIGNED_SHORT_5_5_5_1&&(Y=a.RGB5_A1));Y!==a.R16F&&Y!==a.R32F&&Y!==a.RG16F&&Y!==a.RG32F&&Y!==a.RGBA16F&&Y!==a.RGBA32F||b.get("EXT_color_buffer_float");return Y}function N(Y,V,fa){return!0===G(Y,fa)||Y.isFramebufferTexture&&1003!==Y.minFilter&&1006!==Y.minFilter?Math.log2(Math.max(V.width,
V.height))+1:void 0!==Y.mipmaps&&0<Y.mipmaps.length?Y.mipmaps.length:Y.isCompressedTexture&&Array.isArray(Y.image)?V.mipmaps.length:1}function P(Y){return 1003===Y||1004===Y||1005===Y?a.NEAREST:a.LINEAR}function T(Y){Y=Y.target;Y.removeEventListener("dispose",T);var V=l.get(Y);if(void 0!==V.__webglInit){var fa=Y.source,ia=Sa.get(fa);ia&&(V=ia[V.__cacheKey],V.usedTimes--,0===V.usedTimes&&L(Y),0===Object.keys(ia).length&&Sa.delete(fa));l.remove(Y)}Y.isVideoTexture&&ub.delete(Y)}function S(Y){Y=Y.target;
Y.removeEventListener("dispose",S);const V=Y.texture;var fa=l.get(Y),ia=l.get(V);void 0!==ia.__webglTexture&&(a.deleteTexture(ia.__webglTexture),A.memory.textures--);Y.depthTexture&&Y.depthTexture.dispose();if(Y.isWebGLCubeRenderTarget)for(ia=0;6>ia;ia++)a.deleteFramebuffer(fa.__webglFramebuffer[ia]),fa.__webglDepthbuffer&&a.deleteRenderbuffer(fa.__webglDepthbuffer[ia]);else{a.deleteFramebuffer(fa.__webglFramebuffer);fa.__webglDepthbuffer&&a.deleteRenderbuffer(fa.__webglDepthbuffer);fa.__webglMultisampledFramebuffer&&
a.deleteFramebuffer(fa.__webglMultisampledFramebuffer);if(fa.__webglColorRenderbuffer)for(ia=0;ia<fa.__webglColorRenderbuffer.length;ia++)fa.__webglColorRenderbuffer[ia]&&a.deleteRenderbuffer(fa.__webglColorRenderbuffer[ia]);fa.__webglDepthRenderbuffer&&a.deleteRenderbuffer(fa.__webglDepthRenderbuffer)}if(Y.isWebGLMultipleRenderTargets)for(let ra=0,Za=V.length;ra<Za;ra++)fa=l.get(V[ra]),fa.__webglTexture&&(a.deleteTexture(fa.__webglTexture),A.memory.textures--),l.remove(V[ra]);l.remove(V);l.remove(Y)}
function L(Y){const V=l.get(Y);a.deleteTexture(V.__webglTexture);delete Sa.get(Y.source)[V.__cacheKey];A.memory.textures--}function U(Y,V){const fa=l.get(Y);if(Y.isVideoTexture){var ia=A.render.frame;ub.get(Y)!==ia&&(ub.set(Y,ia),Y.update())}if(!1===Y.isRenderTargetTexture&&0<Y.version&&fa.__version!==Y.version)if(ia=Y.image,null===ia)console.warn("THREE.WebGLRenderer: Texture marked for update but no image data found.");else if(!1===ia.complete)console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete");
else{na(fa,Y,V);return}d.bindTexture(a.TEXTURE_2D,fa.__webglTexture,a.TEXTURE0+V)}function ma(Y,V,fa){fa?(a.texParameteri(Y,a.TEXTURE_WRAP_S,rb[V.wrapS]),a.texParameteri(Y,a.TEXTURE_WRAP_T,rb[V.wrapT]),Y!==a.TEXTURE_3D&&Y!==a.TEXTURE_2D_ARRAY||a.texParameteri(Y,a.TEXTURE_WRAP_R,rb[V.wrapR]),a.texParameteri(Y,a.TEXTURE_MAG_FILTER,nb[V.magFilter]),a.texParameteri(Y,a.TEXTURE_MIN_FILTER,nb[V.minFilter])):(a.texParameteri(Y,a.TEXTURE_WRAP_S,a.CLAMP_TO_EDGE),a.texParameteri(Y,a.TEXTURE_WRAP_T,a.CLAMP_TO_EDGE),
Y!==a.TEXTURE_3D&&Y!==a.TEXTURE_2D_ARRAY||a.texParameteri(Y,a.TEXTURE_WRAP_R,a.CLAMP_TO_EDGE),1001===V.wrapS&&1001===V.wrapT||console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.wrapS and Texture.wrapT should be set to THREE.ClampToEdgeWrapping."),a.texParameteri(Y,a.TEXTURE_MAG_FILTER,P(V.magFilter)),a.texParameteri(Y,a.TEXTURE_MIN_FILTER,P(V.minFilter)),1003!==V.minFilter&&1006!==V.minFilter&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.minFilter should be set to THREE.NearestFilter or THREE.LinearFilter."));
!0===b.has("EXT_texture_filter_anisotropic")&&(fa=b.get("EXT_texture_filter_anisotropic"),1003===V.magFilter||1005!==V.minFilter&&1008!==V.minFilter||1015===V.type&&!1===b.has("OES_texture_float_linear")||!1===xa&&1016===V.type&&!1===b.has("OES_texture_half_float_linear")||!(1<V.anisotropy||l.get(V).__currentAnisotropy)||(a.texParameterf(Y,fa.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(V.anisotropy,q.getMaxAnisotropy())),l.get(V).__currentAnisotropy=V.anisotropy))}function ba(Y,V){let fa=!1;void 0===Y.__webglInit&&
(Y.__webglInit=!0,V.addEventListener("dispose",T));var ia=V.source;let ra=Sa.get(ia);void 0===ra&&(ra={},Sa.set(ia,ra));ia=[];ia.push(V.wrapS);ia.push(V.wrapT);ia.push(V.wrapR||0);ia.push(V.magFilter);ia.push(V.minFilter);ia.push(V.anisotropy);ia.push(V.internalFormat);ia.push(V.format);ia.push(V.type);ia.push(V.generateMipmaps);ia.push(V.premultiplyAlpha);ia.push(V.flipY);ia.push(V.unpackAlignment);ia.push(V.encoding);ia=ia.join();if(ia!==Y.__cacheKey){void 0===ra[ia]&&(ra[ia]={texture:a.createTexture(),
usedTimes:0},A.memory.textures++,fa=!0);ra[ia].usedTimes++;const Za=ra[Y.__cacheKey];void 0!==Za&&(ra[Y.__cacheKey].usedTimes--,0===Za.usedTimes&&L(V));Y.__cacheKey=ia;Y.__webglTexture=ra[ia].texture}return fa}function na(Y,V,fa){let ia=a.TEXTURE_2D;if(V.isDataArrayTexture||V.isCompressedArrayTexture)ia=a.TEXTURE_2D_ARRAY;V.isData3DTexture&&(ia=a.TEXTURE_3D);var ra=ba(Y,V);const Za=V.source;d.bindTexture(ia,Y.__webglTexture,a.TEXTURE0+fa);const ha=l.get(Za);if(Za.version!==ha.__version||!0===ra){d.activeTexture(a.TEXTURE0+
fa);a.pixelStorei(a.UNPACK_FLIP_Y_WEBGL,V.flipY);a.pixelStorei(a.UNPACK_PREMULTIPLY_ALPHA_WEBGL,V.premultiplyAlpha);a.pixelStorei(a.UNPACK_ALIGNMENT,V.unpackAlignment);a.pixelStorei(a.UNPACK_COLORSPACE_CONVERSION_WEBGL,a.NONE);fa=xa?!1:1001!==V.wrapS||1001!==V.wrapT||1003!==V.minFilter&&1006!==V.minFilter;fa=fa&&!1===F(V.image);var Ba=D(V.image,fa,!1,Ra);Ba=ya(V,Ba);fa=F(Ba)||xa;const Ua=y.convert(V.format,V.encoding);let eb=y.convert(V.type),kb=M(V.internalFormat,Ua,eb,V.encoding,V.isVideoTexture);
ma(ia,V,fa);var Ia=V.mipmaps,Ja=xa&&!0!==V.isVideoTexture;const Nb=void 0===ha.__version||!0===ra;ra=N(V,Ba,fa);if(V.isDepthTexture)kb=a.DEPTH_COMPONENT,xa?kb=1015===V.type?a.DEPTH_COMPONENT32F:1014===V.type?a.DEPTH_COMPONENT24:1020===V.type?a.DEPTH24_STENCIL8:a.DEPTH_COMPONENT16:1015===V.type&&console.error("WebGLRenderer: Floating point depth texture requires WebGL2."),1026===V.format&&kb===a.DEPTH_COMPONENT&&1012!==V.type&&1014!==V.type&&(console.warn("THREE.WebGLRenderer: Use UnsignedShortType or UnsignedIntType for DepthFormat DepthTexture."),
V.type=1014,eb=y.convert(V.type)),1027===V.format&&kb===a.DEPTH_COMPONENT&&(kb=a.DEPTH_STENCIL,1020!==V.type&&(console.warn("THREE.WebGLRenderer: Use UnsignedInt248Type for DepthStencilFormat DepthTexture."),V.type=1020,eb=y.convert(V.type))),Nb&&(Ja?d.texStorage2D(a.TEXTURE_2D,1,kb,Ba.width,Ba.height):d.texImage2D(a.TEXTURE_2D,0,kb,Ba.width,Ba.height,0,Ua,eb,null));else if(V.isDataTexture)if(0<Ia.length&&fa){Ja&&Nb&&d.texStorage2D(a.TEXTURE_2D,ra,kb,Ia[0].width,Ia[0].height);for(let ua=0,Ab=Ia.length;ua<
Ab;ua++)ra=Ia[ua],Ja?d.texSubImage2D(a.TEXTURE_2D,ua,0,0,ra.width,ra.height,Ua,eb,ra.data):d.texImage2D(a.TEXTURE_2D,ua,kb,ra.width,ra.height,0,Ua,eb,ra.data);V.generateMipmaps=!1}else Ja?(Nb&&d.texStorage2D(a.TEXTURE_2D,ra,kb,Ba.width,Ba.height),d.texSubImage2D(a.TEXTURE_2D,0,0,0,Ba.width,Ba.height,Ua,eb,Ba.data)):d.texImage2D(a.TEXTURE_2D,0,kb,Ba.width,Ba.height,0,Ua,eb,Ba.data);else if(V.isCompressedTexture)if(V.isCompressedArrayTexture){Ja&&Nb&&d.texStorage3D(a.TEXTURE_2D_ARRAY,ra,kb,Ia[0].width,
Ia[0].height,Ba.depth);for(let ua=0,Ab=Ia.length;ua<Ab;ua++)ra=Ia[ua],1023!==V.format?null!==Ua?Ja?d.compressedTexSubImage3D(a.TEXTURE_2D_ARRAY,ua,0,0,0,ra.width,ra.height,Ba.depth,Ua,ra.data,0,0):d.compressedTexImage3D(a.TEXTURE_2D_ARRAY,ua,kb,ra.width,ra.height,Ba.depth,0,ra.data,0,0):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):Ja?d.texSubImage3D(a.TEXTURE_2D_ARRAY,ua,0,0,0,ra.width,ra.height,Ba.depth,Ua,eb,ra.data):d.texImage3D(a.TEXTURE_2D_ARRAY,
ua,kb,ra.width,ra.height,Ba.depth,0,Ua,eb,ra.data)}else{Ja&&Nb&&d.texStorage2D(a.TEXTURE_2D,ra,kb,Ia[0].width,Ia[0].height);for(let ua=0,Ab=Ia.length;ua<Ab;ua++)ra=Ia[ua],1023!==V.format?null!==Ua?Ja?d.compressedTexSubImage2D(a.TEXTURE_2D,ua,0,0,ra.width,ra.height,Ua,ra.data):d.compressedTexImage2D(a.TEXTURE_2D,ua,kb,ra.width,ra.height,0,ra.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):Ja?d.texSubImage2D(a.TEXTURE_2D,ua,0,0,ra.width,
ra.height,Ua,eb,ra.data):d.texImage2D(a.TEXTURE_2D,ua,kb,ra.width,ra.height,0,Ua,eb,ra.data)}else if(V.isDataArrayTexture)Ja?(Nb&&d.texStorage3D(a.TEXTURE_2D_ARRAY,ra,kb,Ba.width,Ba.height,Ba.depth),d.texSubImage3D(a.TEXTURE_2D_ARRAY,0,0,0,0,Ba.width,Ba.height,Ba.depth,Ua,eb,Ba.data)):d.texImage3D(a.TEXTURE_2D_ARRAY,0,kb,Ba.width,Ba.height,Ba.depth,0,Ua,eb,Ba.data);else if(V.isData3DTexture)Ja?(Nb&&d.texStorage3D(a.TEXTURE_3D,ra,kb,Ba.width,Ba.height,Ba.depth),d.texSubImage3D(a.TEXTURE_3D,0,0,0,0,
Ba.width,Ba.height,Ba.depth,Ua,eb,Ba.data)):d.texImage3D(a.TEXTURE_3D,0,kb,Ba.width,Ba.height,Ba.depth,0,Ua,eb,Ba.data);else if(V.isFramebufferTexture){if(Nb)if(Ja)d.texStorage2D(a.TEXTURE_2D,ra,kb,Ba.width,Ba.height);else for(Ia=Ba.width,Ba=Ba.height,Ja=0;Ja<ra;Ja++)d.texImage2D(a.TEXTURE_2D,Ja,kb,Ia,Ba,0,Ua,eb,null),Ia>>=1,Ba>>=1}else if(0<Ia.length&&fa){Ja&&Nb&&d.texStorage2D(a.TEXTURE_2D,ra,kb,Ia[0].width,Ia[0].height);for(let ua=0,Ab=Ia.length;ua<Ab;ua++)ra=Ia[ua],Ja?d.texSubImage2D(a.TEXTURE_2D,
ua,0,0,Ua,eb,ra):d.texImage2D(a.TEXTURE_2D,ua,kb,Ua,eb,ra);V.generateMipmaps=!1}else Ja?(Nb&&d.texStorage2D(a.TEXTURE_2D,ra,kb,Ba.width,Ba.height),d.texSubImage2D(a.TEXTURE_2D,0,0,0,Ua,eb,Ba)):d.texImage2D(a.TEXTURE_2D,0,kb,Ua,eb,Ba);G(V,fa)&&a.generateMipmap(ia);ha.__version=Za.version;if(V.onUpdate)V.onUpdate(V)}Y.__version=V.version}function sa(Y,V,fa,ia,ra){const Za=y.convert(fa.format,fa.encoding),ha=y.convert(fa.type),Ba=M(fa.internalFormat,Za,ha,fa.encoding);l.get(V).__hasExternalTextures||
(ra===a.TEXTURE_3D||ra===a.TEXTURE_2D_ARRAY?d.texImage3D(ra,0,Ba,V.width,V.height,V.depth,0,Za,ha,null):d.texImage2D(ra,0,Ba,V.width,V.height,0,Za,ha,null));d.bindFramebuffer(a.FRAMEBUFFER,Y);wa(V)?cb.framebufferTexture2DMultisampleEXT(a.FRAMEBUFFER,ia,ra,l.get(fa).__webglTexture,0,oa(V)):(ra===a.TEXTURE_2D||ra>=a.TEXTURE_CUBE_MAP_POSITIVE_X&&ra<=a.TEXTURE_CUBE_MAP_NEGATIVE_Z)&&a.framebufferTexture2D(a.FRAMEBUFFER,ia,ra,l.get(fa).__webglTexture,0);d.bindFramebuffer(a.FRAMEBUFFER,null)}function ja(Y,
V,fa){a.bindRenderbuffer(a.RENDERBUFFER,Y);if(V.depthBuffer&&!V.stencilBuffer){var ia=a.DEPTH_COMPONENT16;fa||wa(V)?((fa=V.depthTexture)&&fa.isDepthTexture&&(1015===fa.type?ia=a.DEPTH_COMPONENT32F:1014===fa.type&&(ia=a.DEPTH_COMPONENT24)),fa=oa(V),wa(V)?cb.renderbufferStorageMultisampleEXT(a.RENDERBUFFER,fa,ia,V.width,V.height):a.renderbufferStorageMultisample(a.RENDERBUFFER,fa,ia,V.width,V.height)):a.renderbufferStorage(a.RENDERBUFFER,ia,V.width,V.height);a.framebufferRenderbuffer(a.FRAMEBUFFER,
a.DEPTH_ATTACHMENT,a.RENDERBUFFER,Y)}else if(V.depthBuffer&&V.stencilBuffer)ia=oa(V),fa&&!1===wa(V)?a.renderbufferStorageMultisample(a.RENDERBUFFER,ia,a.DEPTH24_STENCIL8,V.width,V.height):wa(V)?cb.renderbufferStorageMultisampleEXT(a.RENDERBUFFER,ia,a.DEPTH24_STENCIL8,V.width,V.height):a.renderbufferStorage(a.RENDERBUFFER,a.DEPTH_STENCIL,V.width,V.height),a.framebufferRenderbuffer(a.FRAMEBUFFER,a.DEPTH_STENCIL_ATTACHMENT,a.RENDERBUFFER,Y);else for(Y=!0===V.isWebGLMultipleRenderTargets?V.texture:[V.texture],
ia=0;ia<Y.length;ia++){var ra=Y[ia],Za=y.convert(ra.format,ra.encoding);const ha=y.convert(ra.type);ra=M(ra.internalFormat,Za,ha,ra.encoding);Za=oa(V);fa&&!1===wa(V)?a.renderbufferStorageMultisample(a.RENDERBUFFER,Za,ra,V.width,V.height):wa(V)?cb.renderbufferStorageMultisampleEXT(a.RENDERBUFFER,Za,ra,V.width,V.height):a.renderbufferStorage(a.RENDERBUFFER,ra,V.width,V.height)}a.bindRenderbuffer(a.RENDERBUFFER,null)}function Ga(Y){var V=l.get(Y),fa=!0===Y.isWebGLCubeRenderTarget;if(Y.depthTexture&&
!V.__autoAllocateDepthBuffer){if(fa)throw Error("target.depthTexture not supported in Cube render targets");if(Y&&Y.isWebGLCubeRenderTarget)throw Error("Depth Texture with cube render targets is not supported");d.bindFramebuffer(a.FRAMEBUFFER,V.__webglFramebuffer);if(!Y.depthTexture||!Y.depthTexture.isDepthTexture)throw Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");l.get(Y.depthTexture).__webglTexture&&Y.depthTexture.image.width===Y.width&&Y.depthTexture.image.height===
Y.height||(Y.depthTexture.image.width=Y.width,Y.depthTexture.image.height=Y.height,Y.depthTexture.needsUpdate=!0);U(Y.depthTexture,0);V=l.get(Y.depthTexture).__webglTexture;fa=oa(Y);if(1026===Y.depthTexture.format)wa(Y)?cb.framebufferTexture2DMultisampleEXT(a.FRAMEBUFFER,a.DEPTH_ATTACHMENT,a.TEXTURE_2D,V,0,fa):a.framebufferTexture2D(a.FRAMEBUFFER,a.DEPTH_ATTACHMENT,a.TEXTURE_2D,V,0);else if(1027===Y.depthTexture.format)wa(Y)?cb.framebufferTexture2DMultisampleEXT(a.FRAMEBUFFER,a.DEPTH_STENCIL_ATTACHMENT,
a.TEXTURE_2D,V,0,fa):a.framebufferTexture2D(a.FRAMEBUFFER,a.DEPTH_STENCIL_ATTACHMENT,a.TEXTURE_2D,V,0);else throw Error("Unknown depthTexture format");}else if(fa)for(V.__webglDepthbuffer=[],fa=0;6>fa;fa++)d.bindFramebuffer(a.FRAMEBUFFER,V.__webglFramebuffer[fa]),V.__webglDepthbuffer[fa]=a.createRenderbuffer(),ja(V.__webglDepthbuffer[fa],Y,!1);else d.bindFramebuffer(a.FRAMEBUFFER,V.__webglFramebuffer),V.__webglDepthbuffer=a.createRenderbuffer(),ja(V.__webglDepthbuffer,Y,!1);d.bindFramebuffer(a.FRAMEBUFFER,
null)}function oa(Y){return Math.min(Na,Y.samples)}function wa(Y){const V=l.get(Y);return xa&&0<Y.samples&&!0===b.has("WEBGL_multisampled_render_to_texture")&&!1!==V.__useRenderToTexture}function ya(Y,V){const fa=Y.encoding,ia=Y.format,ra=Y.type;if(!0===Y.isCompressedTexture||!0===Y.isVideoTexture||1035===Y.format)return V;3E3!==fa&&(3001===fa?!1===xa?!0===b.has("EXT_sRGB")&&1023===ia?(Y.format=1035,Y.minFilter=1006,Y.generateMipmaps=!1):V=zh.sRGBToLinear(V):1023===ia&&1009===ra||console.warn("THREE.WebGLTextures: sRGB encoded textures have to use RGBAFormat and UnsignedByteType."):
console.error("THREE.WebGLTextures: Unsupported texture encoding:",fa));return V}const xa=q.isWebGL2,Va=q.maxTextures,La=q.maxCubemapSize,Ra=q.maxTextureSize,Na=q.maxSamples,cb=b.has("WEBGL_multisampled_render_to_texture")?b.get("WEBGL_multisampled_render_to_texture"):null,ob="undefined"===typeof navigator?!1:/OculusBrowser/g.test(navigator.userAgent),ub=new WeakMap;let Bb;const Sa=new WeakMap;let $a=!1;try{$a="undefined"!==typeof OffscreenCanvas&&null!==(new OffscreenCanvas(1,1)).getContext("2d")}catch(Y){}let bb=
0;const rb={[1E3]:a.REPEAT,[1001]:a.CLAMP_TO_EDGE,[1002]:a.MIRRORED_REPEAT},nb={[1003]:a.NEAREST,[1004]:a.NEAREST_MIPMAP_NEAREST,[1005]:a.NEAREST_MIPMAP_LINEAR,[1006]:a.LINEAR,[1007]:a.LINEAR_MIPMAP_NEAREST,[1008]:a.LINEAR_MIPMAP_LINEAR};this.allocateTextureUnit=function(){const Y=bb;Y>=Va&&console.warn("THREE.WebGLTextures: Trying to use "+Y+" texture units while this GPU supports only "+Va);bb+=1;return Y};this.resetTextureUnits=function(){bb=0};this.setTexture2D=U;this.setTexture2DArray=function(Y,
V){const fa=l.get(Y);0<Y.version&&fa.__version!==Y.version?na(fa,Y,V):d.bindTexture(a.TEXTURE_2D_ARRAY,fa.__webglTexture,a.TEXTURE0+V)};this.setTexture3D=function(Y,V){const fa=l.get(Y);0<Y.version&&fa.__version!==Y.version?na(fa,Y,V):d.bindTexture(a.TEXTURE_3D,fa.__webglTexture,a.TEXTURE0+V)};this.setTextureCube=function(Y,V){const fa=l.get(Y);if(0<Y.version&&fa.__version!==Y.version){if(6===Y.image.length){var ia=ba(fa,Y),ra=Y.source;d.bindTexture(a.TEXTURE_CUBE_MAP,fa.__webglTexture,a.TEXTURE0+
V);var Za=l.get(ra);if(ra.version!==Za.__version||!0===ia){d.activeTexture(a.TEXTURE0+V);a.pixelStorei(a.UNPACK_FLIP_Y_WEBGL,Y.flipY);a.pixelStorei(a.UNPACK_PREMULTIPLY_ALPHA_WEBGL,Y.premultiplyAlpha);a.pixelStorei(a.UNPACK_ALIGNMENT,Y.unpackAlignment);a.pixelStorei(a.UNPACK_COLORSPACE_CONVERSION_WEBGL,a.NONE);var ha=Y.isCompressedTexture||Y.image[0].isCompressedTexture,Ba=Y.image[0]&&Y.image[0].isDataTexture;V=[];for(var Ia=0;6>Ia;Ia++)V[Ia]=ha||Ba?Ba?Y.image[Ia].image:Y.image[Ia]:D(Y.image[Ia],
!1,!0,La),V[Ia]=ya(Y,V[Ia]);var Ja=V[0];Ia=F(Ja)||xa;const eb=y.convert(Y.format,Y.encoding),kb=y.convert(Y.type),Nb=M(Y.internalFormat,eb,kb,Y.encoding),ua=xa&&!0!==Y.isVideoTexture;ia=void 0===Za.__version||!0===ia;var Ua=N(Y,Ja,Ia);ma(a.TEXTURE_CUBE_MAP,Y,Ia);if(ha)for(ua&&ia&&d.texStorage2D(a.TEXTURE_CUBE_MAP,Ua,Nb,Ja.width,Ja.height),Ba=0;6>Ba;Ba++)for(ha=V[Ba].mipmaps,ia=0;ia<ha.length;ia++)Ja=ha[ia],1023!==Y.format?null!==eb?ua?d.compressedTexSubImage2D(a.TEXTURE_CUBE_MAP_POSITIVE_X+Ba,ia,
0,0,Ja.width,Ja.height,eb,Ja.data):d.compressedTexImage2D(a.TEXTURE_CUBE_MAP_POSITIVE_X+Ba,ia,Nb,Ja.width,Ja.height,0,Ja.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):ua?d.texSubImage2D(a.TEXTURE_CUBE_MAP_POSITIVE_X+Ba,ia,0,0,Ja.width,Ja.height,eb,kb,Ja.data):d.texImage2D(a.TEXTURE_CUBE_MAP_POSITIVE_X+Ba,ia,Nb,Ja.width,Ja.height,0,eb,kb,Ja.data);else for(ha=Y.mipmaps,ua&&ia&&(0<ha.length&&Ua++,d.texStorage2D(a.TEXTURE_CUBE_MAP,
Ua,Nb,V[0].width,V[0].height)),ia=0;6>ia;ia++)if(Ba)for(ua?d.texSubImage2D(a.TEXTURE_CUBE_MAP_POSITIVE_X+ia,0,0,0,V[ia].width,V[ia].height,eb,kb,V[ia].data):d.texImage2D(a.TEXTURE_CUBE_MAP_POSITIVE_X+ia,0,Nb,V[ia].width,V[ia].height,0,eb,kb,V[ia].data),Ja=0;Ja<ha.length;Ja++)Ua=ha[Ja].image[ia].image,ua?d.texSubImage2D(a.TEXTURE_CUBE_MAP_POSITIVE_X+ia,Ja+1,0,0,Ua.width,Ua.height,eb,kb,Ua.data):d.texImage2D(a.TEXTURE_CUBE_MAP_POSITIVE_X+ia,Ja+1,Nb,Ua.width,Ua.height,0,eb,kb,Ua.data);else for(ua?d.texSubImage2D(a.TEXTURE_CUBE_MAP_POSITIVE_X+
ia,0,0,0,eb,kb,V[ia]):d.texImage2D(a.TEXTURE_CUBE_MAP_POSITIVE_X+ia,0,Nb,eb,kb,V[ia]),Ja=0;Ja<ha.length;Ja++)Ua=ha[Ja],ua?d.texSubImage2D(a.TEXTURE_CUBE_MAP_POSITIVE_X+ia,Ja+1,0,0,eb,kb,Ua.image[ia]):d.texImage2D(a.TEXTURE_CUBE_MAP_POSITIVE_X+ia,Ja+1,Nb,eb,kb,Ua.image[ia]);G(Y,Ia)&&a.generateMipmap(a.TEXTURE_CUBE_MAP);Za.__version=ra.version;if(Y.onUpdate)Y.onUpdate(Y)}fa.__version=Y.version}}else d.bindTexture(a.TEXTURE_CUBE_MAP,fa.__webglTexture,a.TEXTURE0+V)};this.rebindTextures=function(Y,V,fa){const ia=
l.get(Y);void 0!==V&&sa(ia.__webglFramebuffer,Y,Y.texture,a.COLOR_ATTACHMENT0,a.TEXTURE_2D);void 0!==fa&&Ga(Y)};this.setupRenderTarget=function(Y){var V=Y.texture;const fa=l.get(Y);var ia=l.get(V);Y.addEventListener("dispose",S);!0!==Y.isWebGLMultipleRenderTargets&&(void 0===ia.__webglTexture&&(ia.__webglTexture=a.createTexture()),ia.__version=V.version,A.memory.textures++);var ra=!0===Y.isWebGLCubeRenderTarget;const Za=!0===Y.isWebGLMultipleRenderTargets,ha=F(Y)||xa;if(ra){fa.__webglFramebuffer=
[];for(var Ba=0;6>Ba;Ba++)fa.__webglFramebuffer[Ba]=a.createFramebuffer()}else{fa.__webglFramebuffer=a.createFramebuffer();if(Za)if(q.drawBuffers){Ba=Y.texture;for(let eb=0,kb=Ba.length;eb<kb;eb++){var Ia=l.get(Ba[eb]);void 0===Ia.__webglTexture&&(Ia.__webglTexture=a.createTexture(),A.memory.textures++)}}else console.warn("THREE.WebGLRenderer: WebGLMultipleRenderTargets can only be used with WebGL2 or WEBGL_draw_buffers extension.");if(xa&&0<Y.samples&&!1===wa(Y)){Ba=Za?V:[V];fa.__webglMultisampledFramebuffer=
a.createFramebuffer();fa.__webglColorRenderbuffer=[];d.bindFramebuffer(a.FRAMEBUFFER,fa.__webglMultisampledFramebuffer);for(Ia=0;Ia<Ba.length;Ia++){var Ja=Ba[Ia];fa.__webglColorRenderbuffer[Ia]=a.createRenderbuffer();a.bindRenderbuffer(a.RENDERBUFFER,fa.__webglColorRenderbuffer[Ia]);var Ua=y.convert(Ja.format,Ja.encoding);const eb=y.convert(Ja.type);Ja=M(Ja.internalFormat,Ua,eb,Ja.encoding,!0===Y.isXRRenderTarget);Ua=oa(Y);a.renderbufferStorageMultisample(a.RENDERBUFFER,Ua,Ja,Y.width,Y.height);a.framebufferRenderbuffer(a.FRAMEBUFFER,
a.COLOR_ATTACHMENT0+Ia,a.RENDERBUFFER,fa.__webglColorRenderbuffer[Ia])}a.bindRenderbuffer(a.RENDERBUFFER,null);Y.depthBuffer&&(fa.__webglDepthRenderbuffer=a.createRenderbuffer(),ja(fa.__webglDepthRenderbuffer,Y,!0));d.bindFramebuffer(a.FRAMEBUFFER,null)}}if(ra){d.bindTexture(a.TEXTURE_CUBE_MAP,ia.__webglTexture);ma(a.TEXTURE_CUBE_MAP,V,ha);for(ia=0;6>ia;ia++)sa(fa.__webglFramebuffer[ia],Y,V,a.COLOR_ATTACHMENT0,a.TEXTURE_CUBE_MAP_POSITIVE_X+ia);G(V,ha)&&a.generateMipmap(a.TEXTURE_CUBE_MAP)}else if(Za){V=
Y.texture;for(let eb=0,kb=V.length;eb<kb;eb++)ia=V[eb],ra=l.get(ia),d.bindTexture(a.TEXTURE_2D,ra.__webglTexture),ma(a.TEXTURE_2D,ia,ha),sa(fa.__webglFramebuffer,Y,ia,a.COLOR_ATTACHMENT0+eb,a.TEXTURE_2D),G(ia,ha)&&a.generateMipmap(a.TEXTURE_2D)}else{ra=a.TEXTURE_2D;if(Y.isWebGL3DRenderTarget||Y.isWebGLArrayRenderTarget)xa?ra=Y.isWebGL3DRenderTarget?a.TEXTURE_3D:a.TEXTURE_2D_ARRAY:console.error("THREE.WebGLTextures: THREE.Data3DTexture and THREE.DataArrayTexture only supported with WebGL2.");d.bindTexture(ra,
ia.__webglTexture);ma(ra,V,ha);sa(fa.__webglFramebuffer,Y,V,a.COLOR_ATTACHMENT0,ra);G(V,ha)&&a.generateMipmap(ra)}d.unbindTexture();Y.depthBuffer&&Ga(Y)};this.updateRenderTargetMipmap=function(Y){const V=F(Y)||xa,fa=!0===Y.isWebGLMultipleRenderTargets?Y.texture:[Y.texture];for(let ra=0,Za=fa.length;ra<Za;ra++){var ia=fa[ra];if(G(ia,V)){const ha=Y.isWebGLCubeRenderTarget?a.TEXTURE_CUBE_MAP:a.TEXTURE_2D;ia=l.get(ia).__webglTexture;d.bindTexture(ha,ia);a.generateMipmap(ha);d.unbindTexture()}}};this.updateMultisampleRenderTarget=
function(Y){if(xa&&0<Y.samples&&!1===wa(Y)){const ra=Y.isWebGLMultipleRenderTargets?Y.texture:[Y.texture];var V=Y.width;const Za=Y.height;let ha=a.COLOR_BUFFER_BIT;const Ba=[],Ia=Y.stencilBuffer?a.DEPTH_STENCIL_ATTACHMENT:a.DEPTH_ATTACHMENT,Ja=l.get(Y),Ua=!0===Y.isWebGLMultipleRenderTargets;if(Ua)for(var fa=0;fa<ra.length;fa++)d.bindFramebuffer(a.FRAMEBUFFER,Ja.__webglMultisampledFramebuffer),a.framebufferRenderbuffer(a.FRAMEBUFFER,a.COLOR_ATTACHMENT0+fa,a.RENDERBUFFER,null),d.bindFramebuffer(a.FRAMEBUFFER,
Ja.__webglFramebuffer),a.framebufferTexture2D(a.DRAW_FRAMEBUFFER,a.COLOR_ATTACHMENT0+fa,a.TEXTURE_2D,null,0);d.bindFramebuffer(a.READ_FRAMEBUFFER,Ja.__webglMultisampledFramebuffer);d.bindFramebuffer(a.DRAW_FRAMEBUFFER,Ja.__webglFramebuffer);for(fa=0;fa<ra.length;fa++){Ba.push(a.COLOR_ATTACHMENT0+fa);Y.depthBuffer&&Ba.push(Ia);var ia=void 0!==Ja.__ignoreDepthValues?Ja.__ignoreDepthValues:!1;!1===ia&&(Y.depthBuffer&&(ha|=a.DEPTH_BUFFER_BIT),Y.stencilBuffer&&(ha|=a.STENCIL_BUFFER_BIT));Ua&&a.framebufferRenderbuffer(a.READ_FRAMEBUFFER,
a.COLOR_ATTACHMENT0,a.RENDERBUFFER,Ja.__webglColorRenderbuffer[fa]);!0===ia&&(a.invalidateFramebuffer(a.READ_FRAMEBUFFER,[Ia]),a.invalidateFramebuffer(a.DRAW_FRAMEBUFFER,[Ia]));Ua&&(ia=l.get(ra[fa]).__webglTexture,a.framebufferTexture2D(a.DRAW_FRAMEBUFFER,a.COLOR_ATTACHMENT0,a.TEXTURE_2D,ia,0));a.blitFramebuffer(0,0,V,Za,0,0,V,Za,ha,a.NEAREST);ob&&a.invalidateFramebuffer(a.READ_FRAMEBUFFER,Ba)}d.bindFramebuffer(a.READ_FRAMEBUFFER,null);d.bindFramebuffer(a.DRAW_FRAMEBUFFER,null);if(Ua)for(Y=0;Y<ra.length;Y++)d.bindFramebuffer(a.FRAMEBUFFER,
Ja.__webglMultisampledFramebuffer),a.framebufferRenderbuffer(a.FRAMEBUFFER,a.COLOR_ATTACHMENT0+Y,a.RENDERBUFFER,Ja.__webglColorRenderbuffer[Y]),V=l.get(ra[Y]).__webglTexture,d.bindFramebuffer(a.FRAMEBUFFER,Ja.__webglFramebuffer),a.framebufferTexture2D(a.DRAW_FRAMEBUFFER,a.COLOR_ATTACHMENT0+Y,a.TEXTURE_2D,V,0);d.bindFramebuffer(a.DRAW_FRAMEBUFFER,Ja.__webglMultisampledFramebuffer)}};this.setupDepthRenderbuffer=Ga;this.setupFrameBufferTexture=sa;this.useMultisampledRTT=wa}function pg(a,b,d){const l=
d.isWebGL2;return{convert:function(q,y=null){let A;if(1009===q)return a.UNSIGNED_BYTE;if(1017===q)return a.UNSIGNED_SHORT_4_4_4_4;if(1018===q)return a.UNSIGNED_SHORT_5_5_5_1;if(1010===q)return a.BYTE;if(1011===q)return a.SHORT;if(1012===q)return a.UNSIGNED_SHORT;if(1013===q)return a.INT;if(1014===q)return a.UNSIGNED_INT;if(1015===q)return a.FLOAT;if(1016===q){if(l)return a.HALF_FLOAT;A=b.get("OES_texture_half_float");return null!==A?A.HALF_FLOAT_OES:null}if(1021===q)return a.ALPHA;if(1023===q)return a.RGBA;
if(1024===q)return a.LUMINANCE;if(1025===q)return a.LUMINANCE_ALPHA;if(1026===q)return a.DEPTH_COMPONENT;if(1027===q)return a.DEPTH_STENCIL;if(1035===q)return A=b.get("EXT_sRGB"),null!==A?A.SRGB_ALPHA_EXT:null;if(1028===q)return a.RED;if(1029===q)return a.RED_INTEGER;if(1030===q)return a.RG;if(1031===q)return a.RG_INTEGER;if(1033===q)return a.RGBA_INTEGER;if(33776===q||33777===q||33778===q||33779===q)if(3001===y)if(A=b.get("WEBGL_compressed_texture_s3tc_srgb"),null!==A){if(33776===q)return A.COMPRESSED_SRGB_S3TC_DXT1_EXT;
if(33777===q)return A.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT;if(33778===q)return A.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT;if(33779===q)return A.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT}else return null;else if(A=b.get("WEBGL_compressed_texture_s3tc"),null!==A){if(33776===q)return A.COMPRESSED_RGB_S3TC_DXT1_EXT;if(33777===q)return A.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(33778===q)return A.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(33779===q)return A.COMPRESSED_RGBA_S3TC_DXT5_EXT}else return null;if(35840===q||35841===q||35842===
q||35843===q)if(A=b.get("WEBGL_compressed_texture_pvrtc"),null!==A){if(35840===q)return A.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(35841===q)return A.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(35842===q)return A.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(35843===q)return A.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}else return null;if(36196===q)return A=b.get("WEBGL_compressed_texture_etc1"),null!==A?A.COMPRESSED_RGB_ETC1_WEBGL:null;if(37492===q||37496===q)if(A=b.get("WEBGL_compressed_texture_etc"),null!==A){if(37492===q)return 3001===
y?A.COMPRESSED_SRGB8_ETC2:A.COMPRESSED_RGB8_ETC2;if(37496===q)return 3001===y?A.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:A.COMPRESSED_RGBA8_ETC2_EAC}else return null;if(37808===q||37809===q||37810===q||37811===q||37812===q||37813===q||37814===q||37815===q||37816===q||37817===q||37818===q||37819===q||37820===q||37821===q)if(A=b.get("WEBGL_compressed_texture_astc"),null!==A){if(37808===q)return 3001===y?A.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR:A.COMPRESSED_RGBA_ASTC_4x4_KHR;if(37809===q)return 3001===y?A.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR:
A.COMPRESSED_RGBA_ASTC_5x4_KHR;if(37810===q)return 3001===y?A.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR:A.COMPRESSED_RGBA_ASTC_5x5_KHR;if(37811===q)return 3001===y?A.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR:A.COMPRESSED_RGBA_ASTC_6x5_KHR;if(37812===q)return 3001===y?A.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR:A.COMPRESSED_RGBA_ASTC_6x6_KHR;if(37813===q)return 3001===y?A.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR:A.COMPRESSED_RGBA_ASTC_8x5_KHR;if(37814===q)return 3001===y?A.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR:A.COMPRESSED_RGBA_ASTC_8x6_KHR;
if(37815===q)return 3001===y?A.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR:A.COMPRESSED_RGBA_ASTC_8x8_KHR;if(37816===q)return 3001===y?A.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR:A.COMPRESSED_RGBA_ASTC_10x5_KHR;if(37817===q)return 3001===y?A.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR:A.COMPRESSED_RGBA_ASTC_10x6_KHR;if(37818===q)return 3001===y?A.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR:A.COMPRESSED_RGBA_ASTC_10x8_KHR;if(37819===q)return 3001===y?A.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR:A.COMPRESSED_RGBA_ASTC_10x10_KHR;
if(37820===q)return 3001===y?A.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR:A.COMPRESSED_RGBA_ASTC_12x10_KHR;if(37821===q)return 3001===y?A.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR:A.COMPRESSED_RGBA_ASTC_12x12_KHR}else return null;if(36492===q)if(A=b.get("EXT_texture_compression_bptc"),null!==A){if(36492===q)return 3001===y?A.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT:A.COMPRESSED_RGBA_BPTC_UNORM_EXT}else return null;if(36283===q||36284===q||36285===q||36286===q)if(A=b.get("EXT_texture_compression_rgtc"),null!==
A){if(36492===q)return A.COMPRESSED_RED_RGTC1_EXT;if(36284===q)return A.COMPRESSED_SIGNED_RED_RGTC1_EXT;if(36285===q)return A.COMPRESSED_RED_GREEN_RGTC2_EXT;if(36286===q)return A.COMPRESSED_SIGNED_RED_GREEN_RGTC2_EXT}else return null;if(1020===q){if(l)return a.UNSIGNED_INT_24_8;A=b.get("WEBGL_depth_texture");return null!==A?A.UNSIGNED_INT_24_8_WEBGL:null}return void 0!==a[q]?a[q]:null}}}function Kh(a,b){function d(l,q){l.opacity.value=q.opacity;q.color&&l.diffuse.value.copy(q.color);q.emissive&&l.emissive.value.copy(q.emissive).multiplyScalar(q.emissiveIntensity);
q.map&&(l.map.value=q.map);q.alphaMap&&(l.alphaMap.value=q.alphaMap);q.bumpMap&&(l.bumpMap.value=q.bumpMap,l.bumpScale.value=q.bumpScale,1===q.side&&(l.bumpScale.value*=-1));q.displacementMap&&(l.displacementMap.value=q.displacementMap,l.displacementScale.value=q.displacementScale,l.displacementBias.value=q.displacementBias);q.emissiveMap&&(l.emissiveMap.value=q.emissiveMap);q.normalMap&&(l.normalMap.value=q.normalMap,l.normalScale.value.copy(q.normalScale),1===q.side&&l.normalScale.value.negate());
q.specularMap&&(l.specularMap.value=q.specularMap);0<q.alphaTest&&(l.alphaTest.value=q.alphaTest);const y=b.get(q).envMap;y&&(l.envMap.value=y,l.flipEnvMap.value=y.isCubeTexture&&!1===y.isRenderTargetTexture?-1:1,l.reflectivity.value=q.reflectivity,l.ior.value=q.ior,l.refractionRatio.value=q.refractionRatio);q.lightMap&&(l.lightMap.value=q.lightMap,l.lightMapIntensity.value=q.lightMapIntensity*(!0===a.useLegacyLights?Math.PI:1));q.aoMap&&(l.aoMap.value=q.aoMap,l.aoMapIntensity.value=q.aoMapIntensity);
let A;q.map?A=q.map:q.specularMap?A=q.specularMap:q.displacementMap?A=q.displacementMap:q.normalMap?A=q.normalMap:q.bumpMap?A=q.bumpMap:q.roughnessMap?A=q.roughnessMap:q.metalnessMap?A=q.metalnessMap:q.alphaMap?A=q.alphaMap:q.emissiveMap?A=q.emissiveMap:q.clearcoatMap?A=q.clearcoatMap:q.clearcoatNormalMap?A=q.clearcoatNormalMap:q.clearcoatRoughnessMap?A=q.clearcoatRoughnessMap:q.iridescenceMap?A=q.iridescenceMap:q.iridescenceThicknessMap?A=q.iridescenceThicknessMap:q.specularIntensityMap?A=q.specularIntensityMap:
q.specularColorMap?A=q.specularColorMap:q.transmissionMap?A=q.transmissionMap:q.thicknessMap?A=q.thicknessMap:q.sheenColorMap?A=q.sheenColorMap:q.sheenRoughnessMap&&(A=q.sheenRoughnessMap);void 0!==A&&(A.isWebGLRenderTarget&&(A=A.texture),!0===A.matrixAutoUpdate&&A.updateMatrix(),l.uvTransform.value.copy(A.matrix));let D;q.aoMap?D=q.aoMap:q.lightMap&&(D=q.lightMap);void 0!==D&&(D.isWebGLRenderTarget&&(D=D.texture),!0===D.matrixAutoUpdate&&D.updateMatrix(),l.uv2Transform.value.copy(D.matrix))}return{refreshFogUniforms:function(l,
q){q.color.getRGB(l.fogColor.value,Q(a));q.isFog?(l.fogNear.value=q.near,l.fogFar.value=q.far):q.isFogExp2&&(l.fogDensity.value=q.density)},refreshMaterialUniforms:function(l,q,y,A,D){if(q.isMeshBasicMaterial)d(l,q);else if(q.isMeshLambertMaterial)d(l,q);else if(q.isMeshToonMaterial)d(l,q),q.gradientMap&&(l.gradientMap.value=q.gradientMap);else if(q.isMeshPhongMaterial)d(l,q),l.specular.value.copy(q.specular),l.shininess.value=Math.max(q.shininess,1E-4);else if(q.isMeshStandardMaterial)d(l,q),l.roughness.value=
q.roughness,l.metalness.value=q.metalness,q.roughnessMap&&(l.roughnessMap.value=q.roughnessMap),q.metalnessMap&&(l.metalnessMap.value=q.metalnessMap),b.get(q).envMap&&(l.envMapIntensity.value=q.envMapIntensity),q.isMeshPhysicalMaterial&&(l.ior.value=q.ior,0<q.sheen&&(l.sheenColor.value.copy(q.sheenColor).multiplyScalar(q.sheen),l.sheenRoughness.value=q.sheenRoughness,q.sheenColorMap&&(l.sheenColorMap.value=q.sheenColorMap),q.sheenRoughnessMap&&(l.sheenRoughnessMap.value=q.sheenRoughnessMap)),0<q.clearcoat&&
(l.clearcoat.value=q.clearcoat,l.clearcoatRoughness.value=q.clearcoatRoughness,q.clearcoatMap&&(l.clearcoatMap.value=q.clearcoatMap),q.clearcoatRoughnessMap&&(l.clearcoatRoughnessMap.value=q.clearcoatRoughnessMap),q.clearcoatNormalMap&&(l.clearcoatNormalScale.value.copy(q.clearcoatNormalScale),l.clearcoatNormalMap.value=q.clearcoatNormalMap,1===q.side&&l.clearcoatNormalScale.value.negate())),0<q.iridescence&&(l.iridescence.value=q.iridescence,l.iridescenceIOR.value=q.iridescenceIOR,l.iridescenceThicknessMinimum.value=
q.iridescenceThicknessRange[0],l.iridescenceThicknessMaximum.value=q.iridescenceThicknessRange[1],q.iridescenceMap&&(l.iridescenceMap.value=q.iridescenceMap),q.iridescenceThicknessMap&&(l.iridescenceThicknessMap.value=q.iridescenceThicknessMap)),0<q.transmission&&(l.transmission.value=q.transmission,l.transmissionSamplerMap.value=D.texture,l.transmissionSamplerSize.value.set(D.width,D.height),q.transmissionMap&&(l.transmissionMap.value=q.transmissionMap),l.thickness.value=q.thickness,q.thicknessMap&&
(l.thicknessMap.value=q.thicknessMap),l.attenuationDistance.value=q.attenuationDistance,l.attenuationColor.value.copy(q.attenuationColor)),l.specularIntensity.value=q.specularIntensity,l.specularColor.value.copy(q.specularColor),q.specularIntensityMap&&(l.specularIntensityMap.value=q.specularIntensityMap),q.specularColorMap&&(l.specularColorMap.value=q.specularColorMap));else if(q.isMeshMatcapMaterial)d(l,q),q.matcap&&(l.matcap.value=q.matcap);else if(q.isMeshDepthMaterial)d(l,q);else if(q.isMeshDistanceMaterial)d(l,
q),l.referencePosition.value.copy(q.referencePosition),l.nearDistance.value=q.nearDistance,l.farDistance.value=q.farDistance;else if(q.isMeshNormalMaterial)d(l,q);else if(q.isLineBasicMaterial)l.diffuse.value.copy(q.color),l.opacity.value=q.opacity,q.isLineDashedMaterial&&(l.dashSize.value=q.dashSize,l.totalSize.value=q.dashSize+q.gapSize,l.scale.value=q.scale);else if(q.isPointsMaterial){l.diffuse.value.copy(q.color);l.opacity.value=q.opacity;l.size.value=q.size*y;l.scale.value=.5*A;q.map&&(l.map.value=
q.map);q.alphaMap&&(l.alphaMap.value=q.alphaMap);0<q.alphaTest&&(l.alphaTest.value=q.alphaTest);let F;q.map?F=q.map:q.alphaMap&&(F=q.alphaMap);void 0!==F&&(!0===F.matrixAutoUpdate&&F.updateMatrix(),l.uvTransform.value.copy(F.matrix))}else if(q.isSpriteMaterial){l.diffuse.value.copy(q.color);l.opacity.value=q.opacity;l.rotation.value=q.rotation;q.map&&(l.map.value=q.map);q.alphaMap&&(l.alphaMap.value=q.alphaMap);0<q.alphaTest&&(l.alphaTest.value=q.alphaTest);let F;q.map?F=q.map:q.alphaMap&&(F=q.alphaMap);
void 0!==F&&(!0===F.matrixAutoUpdate&&F.updateMatrix(),l.uvTransform.value.copy(F.matrix))}else q.isShadowMaterial?(l.color.value.copy(q.color),l.opacity.value=q.opacity):q.isShaderMaterial&&(q.uniformsNeedUpdate=!1)}}}function Lh(a,b,d,l){function q(N){const P=N.uniforms;let T=0;for(let ba=0,na=P.length;ba<na;ba++){const sa=P[ba];var S=0,L=0;var U=Array.isArray(sa.value)?sa.value:[sa.value];for(let ja=0,Ga=U.length;ja<Ga;ja++){var ma=y(U[ja]);S+=ma.boundary;L+=ma.storage}sa.__data=new Float32Array(L/
Float32Array.BYTES_PER_ELEMENT);sa.__offset=T;0<ba&&(U=T%16,ma=16-U,0!==U&&0>ma-S&&(T+=16-U,sa.__offset=T));T+=L}U=T%16;0<U&&(T+=16-U);N.__size=T;N.__cache={};return this}function y(N){const P={boundary:0,storage:0};"number"===typeof N?(P.boundary=4,P.storage=4):N.isVector2?(P.boundary=8,P.storage=8):N.isVector3||N.isColor?(P.boundary=16,P.storage=12):N.isVector4?(P.boundary=16,P.storage=16):N.isMatrix3?(P.boundary=48,P.storage=48):N.isMatrix4?(P.boundary=64,P.storage=64):N.isTexture?console.warn("THREE.WebGLRenderer: Texture samplers can not be part of an uniforms group."):
console.warn("THREE.WebGLRenderer: Unsupported uniform value type.",N);return P}function A(N){N=N.target;N.removeEventListener("dispose",A);const P=G.indexOf(N.__bindingPointIndex);G.splice(P,1);a.deleteBuffer(D[N.id]);delete D[N.id];delete F[N.id]}let D={},F={},G=[];const M=d.isWebGL2?a.getParameter(a.MAX_UNIFORM_BUFFER_BINDINGS):0;return{bind:function(N,P){l.uniformBlockBinding(N,P.program)},update:function(N,P){var T=D[N.id];if(void 0===T){q(N);a:{for(T=0;T<M;T++)if(-1===G.indexOf(T)){G.push(T);
break a}console.error("THREE.WebGLRenderer: Maximum number of simultaneously usable uniforms groups reached.");T=0}N.__bindingPointIndex=T;var S=a.createBuffer(),L=N.__size,U=N.usage;a.bindBuffer(a.UNIFORM_BUFFER,S);a.bufferData(a.UNIFORM_BUFFER,L,U);a.bindBuffer(a.UNIFORM_BUFFER,null);a.bindBufferBase(a.UNIFORM_BUFFER,T,S);T=S;D[N.id]=T;N.addEventListener("dispose",A)}l.updateUBOMapping(N,P.program);P=b.render.frame;if(F[N.id]!==P){T=N.uniforms;S=N.__cache;a.bindBuffer(a.UNIFORM_BUFFER,D[N.id]);
for(let ja=0,Ga=T.length;ja<Ga;ja++){L=T[ja];a:{U=ja;var ma=S,ba=L.value;if(void 0===ma[U]){if("number"===typeof ba)ma[U]=ba;else{ba=Array.isArray(ba)?ba:[ba];var na=[];for(var sa=0;sa<ba.length;sa++)na.push(ba[sa].clone());ma[U]=na}U=!0}else{if("number"===typeof ba){if(ma[U]!==ba){ma[U]=ba;U=!0;break a}}else for(U=Array.isArray(ma[U])?ma[U]:[ma[U]],ma=Array.isArray(ba)?ba:[ba],ba=0;ba<U.length;ba++)if(na=U[ba],!1===na.equals(ma[ba])){na.copy(ma[ba]);U=!0;break a}U=!1}}if(!0===U){U=L.__offset;ma=
Array.isArray(L.value)?L.value:[L.value];ba=0;for(na=0;na<ma.length;na++){sa=ma[na];const oa=y(sa);"number"===typeof sa?(L.__data[0]=sa,a.bufferSubData(a.UNIFORM_BUFFER,U+ba,L.__data)):sa.isMatrix3?(L.__data[0]=sa.elements[0],L.__data[1]=sa.elements[1],L.__data[2]=sa.elements[2],L.__data[3]=sa.elements[0],L.__data[4]=sa.elements[3],L.__data[5]=sa.elements[4],L.__data[6]=sa.elements[5],L.__data[7]=sa.elements[0],L.__data[8]=sa.elements[6],L.__data[9]=sa.elements[7],L.__data[10]=sa.elements[8],L.__data[11]=
sa.elements[0]):(sa.toArray(L.__data,ba),ba+=oa.storage/Float32Array.BYTES_PER_ELEMENT)}a.bufferSubData(a.UNIFORM_BUFFER,U,L.__data)}}a.bindBuffer(a.UNIFORM_BUFFER,null);F[N.id]=P}},dispose:function(){for(const N in D)a.deleteBuffer(D[N]);G=[];D={};F={}}}}function Mh(){const a=w("canvas");a.style.display="block";return a}function Cf(a={}){function b(Z,Ea){for(let Ka=0;Ka<Z.length;Ka++){const Da=L.getContext(Z[Ka],Ea);if(null!==Da)return Da}return null}function d(){Ab=new Cb(ua);Ub=new la(ua,Ab,a);
Ab.init(Ub);ld=new pg(ua,Ab,Ub);Lb=new Ih(ua,Ab,Ub);Pc=new Rb(ua);lc=new vf;qc=new Jh(ua,Ab,Lb,lc,Ub,ld,Pc);Fe=new ta(Ra);Ge=new mb(Ra);Df=new R(ua,Ub);ee=new ca(ua,Ab,Df,Ub);Nh=new yb(ua,Df,Pc,ee);He=new Tb(ua,Nh,Df,Pc);cj=new Jb(ua,Ub,qc);md=new Aa(lc);ud=new uf(Ra,Fe,Ge,Ab,Ub,ee,md);Oh=new Kh(Ra,lc);qg=new xf;rg=new Ac(Ab,Ub);Pd=new X(Ra,Fe,Ge,Lb,He,wa,sa);bd=new Fh(Ra,He,Ub);sg=new Lh(ua,Pc,Ub,Lb);dj=new ka(ua,Ab,Pc,Ub);ej=new tb(ua,Ab,Pc,Ub);Pc.programs=ud.programs;Ra.capabilities=Ub;Ra.extensions=
Ab;Ra.properties=lc;Ra.renderLists=qg;Ra.shadowMap=bd;Ra.state=Lb;Ra.info=Pc}function l(Z){Z.preventDefault();console.log("THREE.WebGLRenderer: Context Lost.");Na=!0}function q(){console.log("THREE.WebGLRenderer: Context Restored.");Na=!1;const Z=Pc.autoReset,Ea=bd.enabled,Ka=bd.autoUpdate,Da=bd.needsUpdate,Ma=bd.type;d();Pc.autoReset=Z;bd.enabled=Ea;bd.autoUpdate=Ka;bd.needsUpdate=Da;bd.type=Ma}function y(Z){console.error("THREE.WebGLRenderer: A WebGL context could not be created. Reason: ",Z.statusMessage)}
function A(Z){Z=Z.target;Z.removeEventListener("dispose",A);D(Z);lc.remove(Z)}function D(Z){const Ea=lc.get(Z).programs;void 0!==Ea&&(Ea.forEach(function(Ka){ud.releaseProgram(Ka)}),Z.isShaderMaterial&&ud.releaseShaderCache(Z))}function F(){fe.stop()}function G(){fe.start()}function M(Z,Ea,Ka,Da){if(!1!==Z.visible){if(Z.layers.test(Ea.layers))if(Z.isGroup)Ka=Z.renderOrder;else if(Z.isLOD)!0===Z.autoUpdate&&Z.update(Ea);else if(Z.isLight)xa.pushLight(Z),Z.castShadow&&xa.pushShadow(Z);else if(Z.isSprite){if(!Z.frustumCulled||
Ba.intersectsSprite(Z)){Da&&kb.setFromMatrixPosition(Z.matrixWorld).applyMatrix4(eb);var Ma=He.update(Z),qb=Z.material;qb.visible&&ya.push(Z,Ma,qb,Ka,kb.z,null)}}else if(Z.isMesh||Z.isLine||Z.isPoints)if(Z.isSkinnedMesh&&Z.skeleton.frame!==Pc.render.frame&&(Z.skeleton.update(),Z.skeleton.frame=Pc.render.frame),!Z.frustumCulled||Ba.intersectsObject(Z))if(Da&&kb.setFromMatrixPosition(Z.matrixWorld).applyMatrix4(eb),Ma=He.update(Z),qb=Z.material,Array.isArray(qb)){const vb=Ma.groups;for(let db=0,Vb=
vb.length;db<Vb;db++){const gc=vb[db],Qb=qb[gc.materialIndex];Qb&&Qb.visible&&ya.push(Z,Ma,Qb,Ka,kb.z,gc)}}else qb.visible&&ya.push(Z,Ma,qb,Ka,kb.z,null);Z=Z.children;for(let vb=0,db=Z.length;vb<db;vb++)M(Z[vb],Ea,Ka,Da)}}function N(Z,Ea,Ka,Da){const Ma=Z.opaque,qb=Z.transmissive;Z=Z.transparent;xa.setupLightsView(Ka);!0===Ia&&md.setGlobalState(Ra.clippingPlanes,Ka);if(0<qb.length){var vb=Ub.isWebGL2;null===Ua&&(Ua=new Yc(1024,1024,{generateMipmaps:!0,type:Ab.has("EXT_color_buffer_half_float")?1016:
1009,minFilter:1008,samples:vb&&!0===na?4:0}));vb=Ra.getRenderTarget();Ra.setRenderTarget(Ua);Ra.clear();const db=Ra.toneMapping;Ra.toneMapping=0;P(Ma,Ea,Ka);Ra.toneMapping=db;qc.updateMultisampleRenderTarget(Ua);qc.updateRenderTargetMipmap(Ua);Ra.setRenderTarget(vb)}Da&&Lb.viewport($a.copy(Da));0<Ma.length&&P(Ma,Ea,Ka);0<qb.length&&P(qb,Ea,Ka);0<Z.length&&P(Z,Ea,Ka);Lb.buffers.depth.setTest(!0);Lb.buffers.depth.setMask(!0);Lb.buffers.color.setMask(!0);Lb.setPolygonOffset(!1)}function P(Z,Ea,Ka){const Da=
!0===Ea.isScene?Ea.overrideMaterial:null;for(let Qb=0,Bc=Z.length;Qb<Bc;Qb++){var Ma=Z[Qb],qb=Ma.object,vb=Ma.geometry,db=null===Da?Ma.material:Da,Vb=Ma.group;if(qb.layers.test(Ka.layers)){Ma=Ea;var gc=Ka;qb.onBeforeRender(Ra,Ma,gc,vb,db,Vb);qb.modelViewMatrix.multiplyMatrices(gc.matrixWorldInverse,qb.matrixWorld);qb.normalMatrix.getNormalMatrix(qb.modelViewMatrix);db.onBeforeRender(Ra,Ma,gc,vb,qb,Vb);!0===db.transparent&&2===db.side&&!1===db.forceSinglePass?(db.side=1,db.needsUpdate=!0,Ra.renderBufferDirect(gc,
Ma,vb,db,qb,Vb),db.side=0,db.needsUpdate=!0,Ra.renderBufferDirect(gc,Ma,vb,db,qb,Vb),db.side=2):Ra.renderBufferDirect(gc,Ma,vb,db,qb,Vb);qb.onAfterRender(Ra,Ma,gc,vb,db,Vb)}}}function T(Z,Ea,Ka){!0!==Ea.isScene&&(Ea=Nb);const Da=lc.get(Z),Ma=xa.state.lights,qb=Ma.state.version,vb=ud.getParameters(Z,Ma.state,xa.state.shadowsArray,Ea,Ka),db=ud.getProgramCacheKey(vb);let Vb=Da.programs;Da.environment=Z.isMeshStandardMaterial?Ea.environment:null;Da.fog=Ea.fog;Da.envMap=(Z.isMeshStandardMaterial?Ge:Fe).get(Z.envMap||
Da.environment);void 0===Vb&&(Z.addEventListener("dispose",A),Vb=new Map,Da.programs=Vb);Ea=Vb.get(db);if(void 0!==Ea){if(Da.currentProgram===Ea&&Da.lightsStateVersion===qb)return S(Z,vb),Ea}else vb.uniforms=ud.getUniforms(Z),Z.onBuild(Ka,vb,Ra),Z.onBeforeCompile(vb,Ra),Ea=ud.acquireProgram(vb,db),Vb.set(db,Ea),Da.uniforms=vb.uniforms;Ka=Da.uniforms;if(!Z.isShaderMaterial&&!Z.isRawShaderMaterial||!0===Z.clipping)Ka.clippingPlanes=md.uniform;S(Z,vb);Da.needsLights=Z.isMeshLambertMaterial||Z.isMeshToonMaterial||
Z.isMeshPhongMaterial||Z.isMeshStandardMaterial||Z.isShadowMaterial||Z.isShaderMaterial&&!0===Z.lights;Da.lightsStateVersion=qb;Da.needsLights&&(Ka.ambientLightColor.value=Ma.state.ambient,Ka.lightProbe.value=Ma.state.probe,Ka.directionalLights.value=Ma.state.directional,Ka.directionalLightShadows.value=Ma.state.directionalShadow,Ka.spotLights.value=Ma.state.spot,Ka.spotLightShadows.value=Ma.state.spotShadow,Ka.rectAreaLights.value=Ma.state.rectArea,Ka.ltc_1.value=Ma.state.rectAreaLTC1,Ka.ltc_2.value=
Ma.state.rectAreaLTC2,Ka.pointLights.value=Ma.state.point,Ka.pointLightShadows.value=Ma.state.pointShadow,Ka.hemisphereLights.value=Ma.state.hemi,Ka.directionalShadowMap.value=Ma.state.directionalShadowMap,Ka.directionalShadowMatrix.value=Ma.state.directionalShadowMatrix,Ka.spotShadowMap.value=Ma.state.spotShadowMap,Ka.spotLightMatrix.value=Ma.state.spotLightMatrix,Ka.spotLightMap.value=Ma.state.spotLightMap,Ka.pointShadowMap.value=Ma.state.pointShadowMap,Ka.pointShadowMatrix.value=Ma.state.pointShadowMatrix);
Z=Ea.getUniforms();Z=mg.seqWithValue(Z.seq,Ka);Da.currentProgram=Ea;Da.uniformsList=Z;return Ea}function S(Z,Ea){Z=lc.get(Z);Z.outputEncoding=Ea.outputEncoding;Z.instancing=Ea.instancing;Z.skinning=Ea.skinning;Z.morphTargets=Ea.morphTargets;Z.morphNormals=Ea.morphNormals;Z.morphColors=Ea.morphColors;Z.morphTargetsCount=Ea.morphTargetsCount;Z.numClippingPlanes=Ea.numClippingPlanes;Z.numIntersection=Ea.numClipIntersection;Z.vertexAlphas=Ea.vertexAlphas;Z.vertexTangents=Ea.vertexTangents;Z.toneMapping=
Ea.toneMapping}this.isWebGLRenderer=!0;const L=void 0!==a.canvas?a.canvas:Mh();var U=void 0!==a.context?a.context:null,ma=void 0!==a.depth?a.depth:!0;const ba=void 0!==a.stencil?a.stencil:!0,na=void 0!==a.antialias?a.antialias:!1,sa=void 0!==a.premultipliedAlpha?a.premultipliedAlpha:!0,ja=void 0!==a.preserveDrawingBuffer?a.preserveDrawingBuffer:!1,Ga=void 0!==a.powerPreference?a.powerPreference:"default",oa=void 0!==a.failIfMajorPerformanceCaveat?a.failIfMajorPerformanceCaveat:!1;let wa;wa=null!==
U?U.getContextAttributes().alpha:void 0!==a.alpha?a.alpha:!1;let ya=null,xa=null;const Va=[],La=[];this.domElement=L;this.debug={checkShaderErrors:!0};this.sortObjects=this.autoClearStencil=this.autoClearDepth=this.autoClearColor=this.autoClear=!0;this.clippingPlanes=[];this.localClippingEnabled=!1;this.outputEncoding=3E3;this.useLegacyLights=!0;this.toneMapping=0;this.toneMappingExposure=1;const Ra=this;let Na=!1,cb=0,ob=0,ub=null,Bb=-1,Sa=null;const $a=new cc,bb=new cc;let rb=null,nb=L.width,Y=
L.height,V=1,fa=null,ia=null;const ra=new cc(0,0,nb,Y),Za=new cc(0,0,nb,Y);let ha=!1;const Ba=new og;let Ia=!1,Ja=!1,Ua=null;const eb=new Fb,kb=new aa,Nb={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};let ua=U;try{U={alpha:!0,depth:ma,stencil:ba,antialias:na,premultipliedAlpha:sa,preserveDrawingBuffer:ja,powerPreference:Ga,failIfMajorPerformanceCaveat:oa};"setAttribute"in L&&L.setAttribute("data-engine","three.js r150");L.addEventListener("webglcontextlost",l,!1);L.addEventListener("webglcontextrestored",
q,!1);L.addEventListener("webglcontextcreationerror",y,!1);if(null===ua&&(ma=["webgl2","webgl","experimental-webgl"],!0===Ra.isWebGL1Renderer&&ma.shift(),ua=b(ma,U),null===ua)){if(b(ma))throw Error("Error creating WebGL context with your selected attributes.");throw Error("Error creating WebGL context.");}void 0===ua.getShaderPrecisionFormat&&(ua.getShaderPrecisionFormat=function(){return{rangeMin:1,rangeMax:1,precision:1}})}catch(Z){throw console.error("THREE.WebGLRenderer: "+Z.message),Z;}let Ab,
Ub,Lb,Pc,lc,qc,Fe,Ge,Df,Nh,He,ud,Oh,qg,rg,md,bd,Pd,cj,dj,ej,ld,ee,sg;d();const Qc=new Xk(Ra,ua);this.xr=Qc;this.getContext=function(){return ua};this.getContextAttributes=function(){return ua.getContextAttributes()};this.forceContextLoss=function(){const Z=Ab.get("WEBGL_lose_context");Z&&Z.loseContext()};this.forceContextRestore=function(){const Z=Ab.get("WEBGL_lose_context");Z&&Z.restoreContext()};this.getPixelRatio=function(){return V};this.setPixelRatio=function(Z){void 0!==Z&&(V=Z,this.setSize(nb,
Y,!1))};this.getSize=function(Z){return Z.set(nb,Y)};this.setSize=function(Z,Ea,Ka=!0){Qc.isPresenting?console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting."):(nb=Z,Y=Ea,L.width=Math.floor(Z*V),L.height=Math.floor(Ea*V),!0===Ka&&(L.style.width=Z+"px",L.style.height=Ea+"px"),this.setViewport(0,0,Z,Ea))};this.getDrawingBufferSize=function(Z){return Z.set(nb*V,Y*V).floor()};this.setDrawingBufferSize=function(Z,Ea,Ka){nb=Z;Y=Ea;V=Ka;L.width=Math.floor(Z*Ka);L.height=Math.floor(Ea*
Ka);this.setViewport(0,0,Z,Ea)};this.getCurrentViewport=function(Z){return Z.copy($a)};this.getViewport=function(Z){return Z.copy(ra)};this.setViewport=function(Z,Ea,Ka,Da){Z.isVector4?ra.set(Z.x,Z.y,Z.z,Z.w):ra.set(Z,Ea,Ka,Da);Lb.viewport($a.copy(ra).multiplyScalar(V).floor())};this.getScissor=function(Z){return Z.copy(Za)};this.setScissor=function(Z,Ea,Ka,Da){Z.isVector4?Za.set(Z.x,Z.y,Z.z,Z.w):Za.set(Z,Ea,Ka,Da);Lb.scissor(bb.copy(Za).multiplyScalar(V).floor())};this.getScissorTest=function(){return ha};
this.setScissorTest=function(Z){Lb.setScissorTest(ha=Z)};this.setOpaqueSort=function(Z){fa=Z};this.setTransparentSort=function(Z){ia=Z};this.getClearColor=function(Z){return Z.copy(Pd.getClearColor())};this.setClearColor=function(){Pd.setClearColor.apply(Pd,arguments)};this.getClearAlpha=function(){return Pd.getClearAlpha()};this.setClearAlpha=function(){Pd.setClearAlpha.apply(Pd,arguments)};this.clear=function(Z=!0,Ea=!0,Ka=!0){let Da=0;Z&&(Da|=ua.COLOR_BUFFER_BIT);Ea&&(Da|=ua.DEPTH_BUFFER_BIT);
Ka&&(Da|=ua.STENCIL_BUFFER_BIT);ua.clear(Da)};this.clearColor=function(){this.clear(!0,!1,!1)};this.clearDepth=function(){this.clear(!1,!0,!1)};this.clearStencil=function(){this.clear(!1,!1,!0)};this.dispose=function(){L.removeEventListener("webglcontextlost",l,!1);L.removeEventListener("webglcontextrestored",q,!1);L.removeEventListener("webglcontextcreationerror",y,!1);qg.dispose();rg.dispose();lc.dispose();Fe.dispose();Ge.dispose();He.dispose();ee.dispose();sg.dispose();ud.dispose();Qc.dispose();
Qc.removeEventListener("sessionstart",F);Qc.removeEventListener("sessionend",G);Ua&&(Ua.dispose(),Ua=null);fe.stop()};this.renderBufferDirect=function(Z,Ea,Ka,Da,Ma,qb){null===Ea&&(Ea=Nb);var vb=Ma.isMesh&&0>Ma.matrixWorld.determinant(),db=Ea;!0!==db.isScene&&(db=Nb);qc.resetTextureUnits();Ea=db.fog;var Vb=Da.isMeshStandardMaterial?db.environment:null,gc=null===ub?Ra.outputEncoding:!0===ub.isXRRenderTarget?ub.texture.encoding:3E3;Vb=(Da.isMeshStandardMaterial?Ge:Fe).get(Da.envMap||Vb);var Qb=!0===
Da.vertexColors&&!!Ka.attributes.color&&4===Ka.attributes.color.itemSize,Bc=!!Da.normalMap&&!!Ka.attributes.tangent,ge=!!Ka.morphAttributes.position,vd=!!Ka.morphAttributes.normal;const Ph=!!Ka.morphAttributes.color,Qh=Da.toneMapped?Ra.toneMapping:0;var Gb=Ka.morphAttributes.position||Ka.morphAttributes.normal||Ka.morphAttributes.color;const Yk=void 0!==Gb?Gb.length:0;Gb=lc.get(Da);const Zk=xa.state.lights;!0!==Ia||!0!==Ja&&Z===Sa||md.setState(Da,Z,Z===Sa&&Da.id===Bb);let vc=!1;Da.version===Gb.__version?
Gb.needsLights&&Gb.lightsStateVersion!==Zk.state.version?vc=!0:Gb.outputEncoding!==gc?vc=!0:Ma.isInstancedMesh&&!1===Gb.instancing?vc=!0:Ma.isInstancedMesh||!0!==Gb.instancing?Ma.isSkinnedMesh&&!1===Gb.skinning?vc=!0:Ma.isSkinnedMesh||!0!==Gb.skinning?Gb.envMap!==Vb?vc=!0:!0===Da.fog&&Gb.fog!==Ea?vc=!0:void 0===Gb.numClippingPlanes||Gb.numClippingPlanes===md.numPlanes&&Gb.numIntersection===md.numIntersection?Gb.vertexAlphas!==Qb?vc=!0:Gb.vertexTangents!==Bc?vc=!0:Gb.morphTargets!==ge?vc=!0:Gb.morphNormals!==
vd?vc=!0:Gb.morphColors!==Ph?vc=!0:Gb.toneMapping!==Qh?vc=!0:!0===Ub.isWebGL2&&Gb.morphTargetsCount!==Yk&&(vc=!0):vc=!0:vc=!0:vc=!0:(vc=!0,Gb.__version=Da.version);gc=Gb.currentProgram;!0===vc&&(gc=T(Da,db,Ma));ge=Bc=vd=!1;db=gc.getUniforms();Qb=Gb.uniforms;Lb.useProgram(gc.program)&&(ge=Bc=vd=!0);Da.id!==Bb&&(Bb=Da.id,Bc=!0);if(vd||Sa!==Z){db.setValue(ua,"projectionMatrix",Z.projectionMatrix);Ub.logarithmicDepthBuffer&&db.setValue(ua,"logDepthBufFC",2/(Math.log(Z.far+1)/Math.LN2));Sa!==Z&&(Sa=Z,
ge=Bc=!0);if(Da.isShaderMaterial||Da.isMeshPhongMaterial||Da.isMeshToonMaterial||Da.isMeshStandardMaterial||Da.envMap)vd=db.map.cameraPosition,void 0!==vd&&vd.setValue(ua,kb.setFromMatrixPosition(Z.matrixWorld));(Da.isMeshPhongMaterial||Da.isMeshToonMaterial||Da.isMeshLambertMaterial||Da.isMeshBasicMaterial||Da.isMeshStandardMaterial||Da.isShaderMaterial)&&db.setValue(ua,"isOrthographic",!0===Z.isOrthographicCamera);(Da.isMeshPhongMaterial||Da.isMeshToonMaterial||Da.isMeshLambertMaterial||Da.isMeshBasicMaterial||
Da.isMeshStandardMaterial||Da.isShaderMaterial||Da.isShadowMaterial||Ma.isSkinnedMesh)&&db.setValue(ua,"viewMatrix",Z.matrixWorldInverse)}Ma.isSkinnedMesh&&(db.setOptional(ua,Ma,"bindMatrix"),db.setOptional(ua,Ma,"bindMatrixInverse"),Z=Ma.skeleton)&&(Ub.floatVertexTextures?(null===Z.boneTexture&&Z.computeBoneTexture(),db.setValue(ua,"boneTexture",Z.boneTexture,qc),db.setValue(ua,"boneTextureSize",Z.boneTextureSize)):console.warn("THREE.WebGLRenderer: SkinnedMesh can only be used with WebGL 2. With WebGL 1 OES_texture_float and vertex textures support is required."));
Z=Ka.morphAttributes;(void 0!==Z.position||void 0!==Z.normal||void 0!==Z.color&&!0===Ub.isWebGL2)&&cj.update(Ma,Ka,gc);if(Bc||Gb.receiveShadow!==Ma.receiveShadow)Gb.receiveShadow=Ma.receiveShadow,db.setValue(ua,"receiveShadow",Ma.receiveShadow);Da.isMeshGouraudMaterial&&null!==Da.envMap&&(Qb.envMap.value=Vb,Qb.flipEnvMap.value=Vb.isCubeTexture&&!1===Vb.isRenderTargetTexture?-1:1);Bc&&(db.setValue(ua,"toneMappingExposure",Ra.toneMappingExposure),Gb.needsLights&&(Z=ge,Qb.ambientLightColor.needsUpdate=
Z,Qb.lightProbe.needsUpdate=Z,Qb.directionalLights.needsUpdate=Z,Qb.directionalLightShadows.needsUpdate=Z,Qb.pointLights.needsUpdate=Z,Qb.pointLightShadows.needsUpdate=Z,Qb.spotLights.needsUpdate=Z,Qb.spotLightShadows.needsUpdate=Z,Qb.rectAreaLights.needsUpdate=Z,Qb.hemisphereLights.needsUpdate=Z),Ea&&!0===Da.fog&&Oh.refreshFogUniforms(Qb,Ea),Oh.refreshMaterialUniforms(Qb,Da,V,Y,Ua),mg.upload(ua,Gb.uniformsList,Qb,qc));Da.isShaderMaterial&&!0===Da.uniformsNeedUpdate&&(mg.upload(ua,Gb.uniformsList,
Qb,qc),Da.uniformsNeedUpdate=!1);Da.isSpriteMaterial&&db.setValue(ua,"center",Ma.center);db.setValue(ua,"modelViewMatrix",Ma.modelViewMatrix);db.setValue(ua,"normalMatrix",Ma.normalMatrix);db.setValue(ua,"modelMatrix",Ma.matrixWorld);if(Da.isShaderMaterial||Da.isRawShaderMaterial){Ea=Da.uniformsGroups;for(let Rh=0,$k=Ea.length;Rh<$k;Rh++)Ub.isWebGL2?(Z=Ea[Rh],sg.update(Z,gc),sg.bind(Z,gc)):console.warn("THREE.WebGLRenderer: Uniform Buffer Objects can only be used with WebGL 2.")}Ea=gc;Lb.setMaterial(Da,
vb);Z=Ka.index;Vb=1;!0===Da.wireframe&&(Z=Nh.getWireframeAttribute(Ka),Vb=2);db=Ka.drawRange;Gb=Ka.attributes.position;vb=db.start*Vb;db=(db.start+db.count)*Vb;null!==qb&&(vb=Math.max(vb,qb.start*Vb),db=Math.min(db,(qb.start+qb.count)*Vb));null!==Z?(vb=Math.max(vb,0),db=Math.min(db,Z.count)):void 0!==Gb&&null!==Gb&&(vb=Math.max(vb,0),db=Math.min(db,Gb.count));qb=db-vb;0>qb||Infinity===qb||(ee.setup(Ma,Da,Ea,Ka,Z),Ea=dj,null!==Z&&(Z=Df.get(Z),Ea=ej,Ea.setIndex(Z)),Ma.isMesh?!0===Da.wireframe?(Lb.setLineWidth(Da.wireframeLinewidth*
(null===ub?V:1)),Ea.setMode(ua.LINES)):Ea.setMode(ua.TRIANGLES):Ma.isLine?(Da=Da.linewidth,void 0===Da&&(Da=1),Lb.setLineWidth(Da*(null===ub?V:1)),Ma.isLineSegments?Ea.setMode(ua.LINES):Ma.isLineLoop?Ea.setMode(ua.LINE_LOOP):Ea.setMode(ua.LINE_STRIP)):Ma.isPoints?Ea.setMode(ua.POINTS):Ma.isSprite&&Ea.setMode(ua.TRIANGLES),Ma.isInstancedMesh?Ea.renderInstances(vb,qb,Ma.count):Ka.isInstancedBufferGeometry?Ea.renderInstances(vb,qb,Math.min(Ka.instanceCount,void 0!==Ka._maxInstanceCount?Ka._maxInstanceCount:
Infinity)):Ea.render(vb,qb))};this.compile=function(Z,Ea){function Ka(Da,Ma,qb){!0===Da.transparent&&2===Da.side&&!1===Da.forceSinglePass?(Da.side=1,Da.needsUpdate=!0,T(Da,Ma,qb),Da.side=0,Da.needsUpdate=!0,T(Da,Ma,qb),Da.side=2):T(Da,Ma,qb)}xa=rg.get(Z);xa.init();La.push(xa);Z.traverseVisible(function(Da){Da.isLight&&Da.layers.test(Ea.layers)&&(xa.pushLight(Da),Da.castShadow&&xa.pushShadow(Da))});xa.setupLights(Ra.useLegacyLights);Z.traverse(function(Da){const Ma=Da.material;if(Ma)if(Array.isArray(Ma))for(let qb=
0;qb<Ma.length;qb++)Ka(Ma[qb],Z,Da);else Ka(Ma,Z,Da)});La.pop();xa=null};let Sh=null;const fe=new W;fe.setAnimationLoop(function(Z){Sh&&Sh(Z)});"undefined"!==typeof self&&fe.setContext(self);this.setAnimationLoop=function(Z){Sh=Z;Qc.setAnimationLoop(Z);null===Z?fe.stop():fe.start()};Qc.addEventListener("sessionstart",F);Qc.addEventListener("sessionend",G);this.render=function(Z,Ea){if(void 0!==Ea&&!0!==Ea.isCamera)console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.");
else if(!0!==Na){!0===Z.matrixWorldAutoUpdate&&Z.updateMatrixWorld();null===Ea.parent&&!0===Ea.matrixWorldAutoUpdate&&Ea.updateMatrixWorld();!0===Qc.enabled&&!0===Qc.isPresenting&&(!0===Qc.cameraAutoUpdate&&Qc.updateCamera(Ea),Ea=Qc.getCamera());if(!0===Z.isScene)Z.onBeforeRender(Ra,Z,Ea,ub);xa=rg.get(Z,La.length);xa.init();La.push(xa);eb.multiplyMatrices(Ea.projectionMatrix,Ea.matrixWorldInverse);Ba.setFromProjectionMatrix(eb);Ja=this.localClippingEnabled;Ia=md.init(this.clippingPlanes,Ja);ya=qg.get(Z,
Va.length);ya.init();Va.push(ya);M(Z,Ea,0,Ra.sortObjects);ya.finish();!0===Ra.sortObjects&&ya.sort(fa,ia);!0===Ia&&md.beginShadows();bd.render(xa.state.shadowsArray,Z,Ea);!0===Ia&&md.endShadows();!0===this.info.autoReset&&this.info.reset();Pd.render(ya,Z);xa.setupLights(Ra.useLegacyLights);if(Ea.isArrayCamera){const Ka=Ea.cameras;for(let Da=0,Ma=Ka.length;Da<Ma;Da++){const qb=Ka[Da];N(ya,Z,qb,qb.viewport)}}else N(ya,Z,Ea);null!==ub&&(qc.updateMultisampleRenderTarget(ub),qc.updateRenderTargetMipmap(ub));
if(!0===Z.isScene)Z.onAfterRender(Ra,Z,Ea);ee.resetDefaultState();Bb=-1;Sa=null;La.pop();xa=0<La.length?La[La.length-1]:null;Va.pop();ya=0<Va.length?Va[Va.length-1]:null}};this.getActiveCubeFace=function(){return cb};this.getActiveMipmapLevel=function(){return ob};this.getRenderTarget=function(){return ub};this.setRenderTargetTextures=function(Z,Ea,Ka){lc.get(Z.texture).__webglTexture=Ea;lc.get(Z.depthTexture).__webglTexture=Ka;Z=lc.get(Z);Z.__hasExternalTextures=!0;Z.__hasExternalTextures&&(Z.__autoAllocateDepthBuffer=
void 0===Ka,Z.__autoAllocateDepthBuffer||!0!==Ab.has("WEBGL_multisampled_render_to_texture")||(console.warn("THREE.WebGLRenderer: Render-to-texture extension was disabled because an external texture was provided"),Z.__useRenderToTexture=!1))};this.setRenderTargetFramebuffer=function(Z,Ea){Z=lc.get(Z);Z.__webglFramebuffer=Ea;Z.__useDefaultFramebuffer=void 0===Ea};this.setRenderTarget=function(Z,Ea=0,Ka=0){ub=Z;cb=Ea;ob=Ka;let Da=!0;var Ma=null;let qb=!1,vb=!1;if(Z){Ma=lc.get(Z);void 0!==Ma.__useDefaultFramebuffer?
(Lb.bindFramebuffer(ua.FRAMEBUFFER,null),Da=!1):void 0===Ma.__webglFramebuffer?qc.setupRenderTarget(Z):Ma.__hasExternalTextures&&qc.rebindTextures(Z,lc.get(Z.texture).__webglTexture,lc.get(Z.depthTexture).__webglTexture);Ma=Z.texture;if(Ma.isData3DTexture||Ma.isDataArrayTexture||Ma.isCompressedArrayTexture)vb=!0;Ma=lc.get(Z).__webglFramebuffer;Z.isWebGLCubeRenderTarget?(Ma=Ma[Ea],qb=!0):Ma=Ub.isWebGL2&&0<Z.samples&&!1===qc.useMultisampledRTT(Z)?lc.get(Z).__webglMultisampledFramebuffer:Ma;$a.copy(Z.viewport);
bb.copy(Z.scissor);rb=Z.scissorTest}else $a.copy(ra).multiplyScalar(V).floor(),bb.copy(Za).multiplyScalar(V).floor(),rb=ha;Lb.bindFramebuffer(ua.FRAMEBUFFER,Ma)&&Ub.drawBuffers&&Da&&Lb.drawBuffers(Z,Ma);Lb.viewport($a);Lb.scissor(bb);Lb.setScissorTest(rb);qb?(Z=lc.get(Z.texture),ua.framebufferTexture2D(ua.FRAMEBUFFER,ua.COLOR_ATTACHMENT0,ua.TEXTURE_CUBE_MAP_POSITIVE_X+Ea,Z.__webglTexture,Ka)):vb&&(Z=lc.get(Z.texture),ua.framebufferTextureLayer(ua.FRAMEBUFFER,ua.COLOR_ATTACHMENT0,Z.__webglTexture,
Ka||0,Ea||0));Bb=-1};this.readRenderTargetPixels=function(Z,Ea,Ka,Da,Ma,qb,vb){if(Z&&Z.isWebGLRenderTarget){var db=lc.get(Z).__webglFramebuffer;Z.isWebGLCubeRenderTarget&&void 0!==vb&&(db=db[vb]);if(db){Lb.bindFramebuffer(ua.FRAMEBUFFER,db);try{const gc=Z.texture,Qb=gc.format,Bc=gc.type;if(1023!==Qb&&ld.convert(Qb)!==ua.getParameter(ua.IMPLEMENTATION_COLOR_READ_FORMAT))console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");else{var Vb=
1016===Bc&&(Ab.has("EXT_color_buffer_half_float")||Ub.isWebGL2&&Ab.has("EXT_color_buffer_float"));1009===Bc||ld.convert(Bc)===ua.getParameter(ua.IMPLEMENTATION_COLOR_READ_TYPE)||1015===Bc&&(Ub.isWebGL2||Ab.has("OES_texture_float")||Ab.has("WEBGL_color_buffer_float"))||Vb?0<=Ea&&Ea<=Z.width-Da&&0<=Ka&&Ka<=Z.height-Ma&&ua.readPixels(Ea,Ka,Da,Ma,ld.convert(Qb),ld.convert(Bc),qb):console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.")}}finally{Z=
null!==ub?lc.get(ub).__webglFramebuffer:null,Lb.bindFramebuffer(ua.FRAMEBUFFER,Z)}}}else console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.")};this.copyFramebufferToTexture=function(Z,Ea,Ka=0){var Da=Math.pow(2,-Ka);const Ma=Math.floor(Ea.image.width*Da);Da=Math.floor(Ea.image.height*Da);qc.setTexture2D(Ea,0);ua.copyTexSubImage2D(ua.TEXTURE_2D,Ka,0,0,Z.x,Z.y,Ma,Da);Lb.unbindTexture()};this.copyTextureToTexture=function(Z,Ea,Ka,Da=0){const Ma=Ea.image.width,
qb=Ea.image.height,vb=ld.convert(Ka.format),db=ld.convert(Ka.type);qc.setTexture2D(Ka,0);ua.pixelStorei(ua.UNPACK_FLIP_Y_WEBGL,Ka.flipY);ua.pixelStorei(ua.UNPACK_PREMULTIPLY_ALPHA_WEBGL,Ka.premultiplyAlpha);ua.pixelStorei(ua.UNPACK_ALIGNMENT,Ka.unpackAlignment);Ea.isDataTexture?ua.texSubImage2D(ua.TEXTURE_2D,Da,Z.x,Z.y,Ma,qb,vb,db,Ea.image.data):Ea.isCompressedTexture?ua.compressedTexSubImage2D(ua.TEXTURE_2D,Da,Z.x,Z.y,Ea.mipmaps[0].width,Ea.mipmaps[0].height,vb,Ea.mipmaps[0].data):ua.texSubImage2D(ua.TEXTURE_2D,
Da,Z.x,Z.y,vb,db,Ea.image);0===Da&&Ka.generateMipmaps&&ua.generateMipmap(ua.TEXTURE_2D);Lb.unbindTexture()};this.copyTextureToTexture3D=function(Z,Ea,Ka,Da,Ma=0){if(Ra.isWebGL1Renderer)console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: can only be used with WebGL2.");else{var qb=Z.max.x-Z.min.x+1,vb=Z.max.y-Z.min.y+1,db=Z.max.z-Z.min.z+1,Vb=ld.convert(Da.format),gc=ld.convert(Da.type);if(Da.isData3DTexture){qc.setTexture3D(Da,0);var Qb=ua.TEXTURE_3D}else if(Da.isDataArrayTexture)qc.setTexture2DArray(Da,
0),Qb=ua.TEXTURE_2D_ARRAY;else{console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: only supports THREE.DataTexture3D and THREE.DataTexture2DArray.");return}ua.pixelStorei(ua.UNPACK_FLIP_Y_WEBGL,Da.flipY);ua.pixelStorei(ua.UNPACK_PREMULTIPLY_ALPHA_WEBGL,Da.premultiplyAlpha);ua.pixelStorei(ua.UNPACK_ALIGNMENT,Da.unpackAlignment);var Bc=ua.getParameter(ua.UNPACK_ROW_LENGTH),ge=ua.getParameter(ua.UNPACK_IMAGE_HEIGHT),vd=ua.getParameter(ua.UNPACK_SKIP_PIXELS),Ph=ua.getParameter(ua.UNPACK_SKIP_ROWS),
Qh=ua.getParameter(ua.UNPACK_SKIP_IMAGES),Gb=Ka.isCompressedTexture?Ka.mipmaps[0]:Ka.image;ua.pixelStorei(ua.UNPACK_ROW_LENGTH,Gb.width);ua.pixelStorei(ua.UNPACK_IMAGE_HEIGHT,Gb.height);ua.pixelStorei(ua.UNPACK_SKIP_PIXELS,Z.min.x);ua.pixelStorei(ua.UNPACK_SKIP_ROWS,Z.min.y);ua.pixelStorei(ua.UNPACK_SKIP_IMAGES,Z.min.z);Ka.isDataTexture||Ka.isData3DTexture?ua.texSubImage3D(Qb,Ma,Ea.x,Ea.y,Ea.z,qb,vb,db,Vb,gc,Gb.data):Ka.isCompressedArrayTexture?(console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: untested support for compressed srcTexture."),
ua.compressedTexSubImage3D(Qb,Ma,Ea.x,Ea.y,Ea.z,qb,vb,db,Vb,Gb.data)):ua.texSubImage3D(Qb,Ma,Ea.x,Ea.y,Ea.z,qb,vb,db,Vb,gc,Gb);ua.pixelStorei(ua.UNPACK_ROW_LENGTH,Bc);ua.pixelStorei(ua.UNPACK_IMAGE_HEIGHT,ge);ua.pixelStorei(ua.UNPACK_SKIP_PIXELS,vd);ua.pixelStorei(ua.UNPACK_SKIP_ROWS,Ph);ua.pixelStorei(ua.UNPACK_SKIP_IMAGES,Qh);0===Ma&&Da.generateMipmaps&&ua.generateMipmap(Qb);Lb.unbindTexture()}};this.initTexture=function(Z){Z.isCubeTexture?qc.setTextureCube(Z,0):Z.isData3DTexture?qc.setTexture3D(Z,
0):Z.isDataArrayTexture||Z.isCompressedArrayTexture?qc.setTexture2DArray(Z,0):qc.setTexture2D(Z,0);Lb.unbindTexture()};this.resetState=function(){ob=cb=0;ub=null;Lb.reset();ee.reset()};"undefined"!==typeof __THREE_DEVTOOLS__&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}function Ie(a,b,d,l,q,y){Je.subVectors(a,d).addScalar(.5).multiply(l);void 0!==q?(Ef.x=y*Je.x-q*Je.y,Ef.y=q*Je.x+y*Je.y):Ef.copy(Je);a.copy(b);a.x+=Ef.x;a.y+=Ef.y;a.applyMatrix4(fj)}function tg(a,b,d,
l,q,y,A){const D=Th.distanceSqToPoint(a);D<d&&(d=new aa,Th.closestPointToPoint(a,d),d.applyMatrix4(l),a=q.ray.origin.distanceTo(d),a<q.near||a>q.far||y.push({distance:a,distanceToRay:Math.sqrt(D),point:d,index:b,face:null,object:A}))}function Ff(){let a=0,b=0,d=0,l=0;return{initCatmullRom:function(q,y,A,D,F){q=F*(A-q);D=F*(D-y);a=y;b=q;d=-3*y+3*A-2*q-D;l=2*y-2*A+q+D},initNonuniformCatmullRom:function(q,y,A,D,F,G,M){q=((y-q)/F-(A-q)/(F+G)+(A-y)/G)*G;D=((A-y)/G-(D-y)/(G+M)+(D-A)/M)*G;a=y;b=q;d=-3*y+
3*A-2*q-D;l=2*y-2*A+q+D},calc:function(q){const y=q*q;return a+b*q+d*y+l*y*q}}}function ug(a,b,d,l,q){b=.5*(l-b);q=.5*(q-d);const y=a*a;return(2*d-2*l+b+q)*a*y+(-3*d+3*l-2*b-q)*y+b*a+d}function he(a,b,d,l){const q=1-a;return q*q*b+2*(1-a)*a*d+a*a*l}function ie(a,b,d,l,q){const y=1-a,A=1-a;return y*y*y*b+3*A*A*a*d+3*(1-a)*a*a*l+a*a*a*q}function vg(a,b,d,l,q){let y,A=0;for(let D=b,F=d-l;D<d;D+=l)A+=(a[F]-a[D])*(a[D+1]+a[F+1]),F=D;if(q===0<A)for(q=b;q<d;q+=l)y=wg(q,a[q],a[q+1],y);else for(q=d-l;q>=b;q-=
l)y=wg(q,a[q],a[q+1],y);y&&Ke(y,y.next)&&(je(y),y=y.next);return y}function wd(a,b){if(!a)return a;b||(b=a);let d;do if(d=!1,a.steiner||!Ke(a,a.next)&&0!==hc(a.prev,a,a.next))a=a.next;else{je(a);a=b=a.prev;if(a===a.next)break;d=!0}while(d||a!==b);return b}function ke(a,b,d,l,q,y,A){if(a){if(!A&&y){var D=a,F=D;do 0===F.z&&(F.z=Gf(F.x,F.y,l,q,y)),F.prevZ=F.prev,F=F.nextZ=F.next;while(F!==D);F.prevZ.nextZ=null;F.prevZ=null;D=F;var G,M,N,P,T=1;do{F=D;var S=D=null;for(M=0;F;){M++;var L=F;for(G=N=0;G<T&&
(N++,L=L.nextZ,L);G++);for(P=T;0<N||0<P&&L;)0!==N&&(0===P||!L||F.z<=L.z)?(G=F,F=F.nextZ,N--):(G=L,L=L.nextZ,P--),S?S.nextZ=G:D=G,G.prevZ=S,S=G;F=L}S.nextZ=null;T*=2}while(1<M)}for(D=a;a.prev!==a.next;){F=a.prev;L=a.next;if(y)S=Uh(a,l,q,y);else a:{S=a.prev;var U=a;P=a.next;if(0<=hc(S,U,P)){S=!1;break a}M=S.x;N=U.x;T=P.x;G=S.y;U=U.y;const ma=P.y,ba=M<N?M<T?M:T:N<T?N:T,na=G<U?G<ma?G:ma:U<ma?U:ma,sa=M>N?M>T?M:T:N>T?N:T,ja=G>U?G>ma?G:ma:U>ma?U:ma;for(P=P.next;P!==S;){if(P.x>=ba&&P.x<=sa&&P.y>=na&&P.y<=
ja&&Qd(M,G,N,U,T,ma,P.x,P.y)&&0<=hc(P.prev,P,P.next)){S=!1;break a}P=P.next}S=!0}if(S)b.push(F.i/d|0),b.push(a.i/d|0),b.push(L.i/d|0),je(a),D=a=L.next;else if(a=L,a===D){if(!A)ke(wd(a),b,d,l,q,y,1);else if(1===A){a=wd(a);A=b;D=d;F=a;do L=F.prev,S=F.next.next,!Ke(L,S)&&xg(L,F,F.next,S)&&le(L,S)&&le(S,L)&&(A.push(L.i/D|0),A.push(F.i/D|0),A.push(S.i/D|0),je(F),je(F.next),F=a=S),F=F.next;while(F!==a);a=wd(F);ke(a,b,d,l,q,y,2)}else if(2===A)a:{A=a;do{for(D=A.next.next;D!==A.prev;){if(F=A.i!==D.i){F=A;
L=D;if(S=F.next.i!==L.i&&F.prev.i!==L.i){b:{S=F;do{if(S.i!==F.i&&S.next.i!==F.i&&S.i!==L.i&&S.next.i!==L.i&&xg(S,S.next,F,L)){S=!0;break b}S=S.next}while(S!==F);S=!1}S=!S}if(S){if(S=le(F,L)&&le(L,F)){S=F;M=!1;N=(F.x+L.x)/2;T=(F.y+L.y)/2;do S.y>T!==S.next.y>T&&S.next.y!==S.y&&N<(S.next.x-S.x)*(T-S.y)/(S.next.y-S.y)+S.x&&(M=!M),S=S.next;while(S!==F);S=M}S=S&&(hc(F.prev,F,L.prev)||hc(F,L.prev,L))||Ke(F,L)&&0<hc(F.prev,F,F.next)&&0<hc(L.prev,L,L.next)}F=S}if(F){a=yg(A,D);A=wd(A,A.next);a=wd(a,a.next);
ke(A,b,d,l,q,y,0);ke(a,b,d,l,q,y,0);break a}D=D.next}A=A.next}while(A!==a)}break}}}}function Uh(a,b,d,l){const q=a.prev,y=a.next;if(0<=hc(q,a,y))return!1;const A=q.x,D=a.x,F=y.x,G=q.y,M=a.y,N=y.y,P=A<D?A<F?A:F:D<F?D:F,T=G<M?G<N?G:N:M<N?M:N,S=A>D?A>F?A:F:D>F?D:F,L=G>M?G>N?G:N:M>N?M:N,U=Gf(P,T,b,d,l);b=Gf(S,L,b,d,l);d=a.prevZ;for(a=a.nextZ;d&&d.z>=U&&a&&a.z<=b;){if(d.x>=P&&d.x<=S&&d.y>=T&&d.y<=L&&d!==q&&d!==y&&Qd(A,G,D,M,F,N,d.x,d.y)&&0<=hc(d.prev,d,d.next))return!1;d=d.prevZ;if(a.x>=P&&a.x<=S&&a.y>=
T&&a.y<=L&&a!==q&&a!==y&&Qd(A,G,D,M,F,N,a.x,a.y)&&0<=hc(a.prev,a,a.next))return!1;a=a.nextZ}for(;d&&d.z>=U;){if(d.x>=P&&d.x<=S&&d.y>=T&&d.y<=L&&d!==q&&d!==y&&Qd(A,G,D,M,F,N,d.x,d.y)&&0<=hc(d.prev,d,d.next))return!1;d=d.prevZ}for(;a&&a.z<=b;){if(a.x>=P&&a.x<=S&&a.y>=T&&a.y<=L&&a!==q&&a!==y&&Qd(A,G,D,M,F,N,a.x,a.y)&&0<=hc(a.prev,a,a.next))return!1;a=a.nextZ}return!0}function Vh(a,b){return a.x-b.x}function Gf(a,b,d,l,q){a=(a-d)*q|0;b=(b-l)*q|0;a=(a|a<<8)&16711935;a=(a|a<<4)&252645135;a=(a|a<<2)&858993459;
b=(b|b<<8)&16711935;b=(b|b<<4)&252645135;b=(b|b<<2)&858993459;return(a|a<<1)&1431655765|((b|b<<1)&1431655765)<<1}function Qd(a,b,d,l,q,y,A,D){return(q-A)*(b-D)>=(a-A)*(y-D)&&(a-A)*(l-D)>=(d-A)*(b-D)&&(d-A)*(y-D)>=(q-A)*(l-D)}function hc(a,b,d){return(b.y-a.y)*(d.x-b.x)-(b.x-a.x)*(d.y-b.y)}function Ke(a,b){return a.x===b.x&&a.y===b.y}function xg(a,b,d,l){const q=Le(hc(a,b,d)),y=Le(hc(a,b,l)),A=Le(hc(d,l,a)),D=Le(hc(d,l,b));return q!==y&&A!==D||0===q&&Me(a,d,b)||0===y&&Me(a,l,b)||0===A&&Me(d,a,l)||
0===D&&Me(d,b,l)?!0:!1}function Me(a,b,d){return b.x<=Math.max(a.x,d.x)&&b.x>=Math.min(a.x,d.x)&&b.y<=Math.max(a.y,d.y)&&b.y>=Math.min(a.y,d.y)}function Le(a){return 0<a?1:0>a?-1:0}function le(a,b){return 0>hc(a.prev,a,a.next)?0<=hc(a,b,a.next)&&0<=hc(a,a.prev,b):0>hc(a,b,a.prev)||0>hc(a,a.next,b)}function yg(a,b){const d=new Hf(a.i,a.x,a.y),l=new Hf(b.i,b.x,b.y),q=a.next,y=b.prev;a.next=b;b.prev=a;d.next=q;q.prev=d;l.next=d;d.prev=l;y.next=l;l.prev=y;return l}function wg(a,b,d,l){a=new Hf(a,b,d);
l?(a.next=l.next,a.prev=l,l.next.prev=a,l.next=a):(a.prev=a,a.next=a);return a}function je(a){a.next.prev=a.prev;a.prev.next=a.next;a.prevZ&&(a.prevZ.nextZ=a.nextZ);a.nextZ&&(a.nextZ.prevZ=a.prevZ)}function Hf(a,b,d){this.i=a;this.x=b;this.y=d;this.next=this.prev=null;this.z=0;this.nextZ=this.prevZ=null;this.steiner=!1}function zg(a){const b=a.length;2<b&&a[b-1].equals(a[0])&&a.pop()}function Ag(a,b){for(let d=0;d<b.length;d++)a.push(b[d].x),a.push(b[d].y)}function Bg(a,b,d){const l=`${a.x},${a.y},${a.z}-${b.x},${b.y},${b.z}`;
a=`${b.x},${b.y},${b.z}-${a.x},${a.y},${a.z}`;if(!0===d.has(l)||!0===d.has(a))return!1;d.add(l);d.add(a);return!0}function Lc(a,b,d){return If(a)?new a.constructor(a.subarray(b,void 0!==d?d:a.length)):a.slice(b,d)}function xd(a,b,d){return!a||!d&&a.constructor===b?a:"number"===typeof b.BYTES_PER_ELEMENT?new b(a):Array.prototype.slice.call(a)}function If(a){return ArrayBuffer.isView(a)&&!(a instanceof DataView)}function Cg(a){const b=a.length,d=Array(b);for(let l=0;l!==b;++l)d[l]=l;d.sort(function(l,
q){return a[l]-a[q]});return d}function Jf(a,b,d){const l=a.length,q=new a.constructor(l);for(let y=0,A=0;A!==l;++y){const D=d[y]*b;for(let F=0;F!==b;++F)q[A++]=a[D+F]}return q}function Kf(a,b,d,l){let q=1,y=a[0];for(;void 0!==y&&void 0===y[l];)y=a[q++];if(void 0!==y){var A=y[l];if(void 0!==A)if(Array.isArray(A)){do A=y[l],void 0!==A&&(b.push(y.time),d.push.apply(d,A)),y=a[q++];while(void 0!==y)}else if(void 0!==A.toArray){do A=y[l],void 0!==A&&(b.push(y.time),A.toArray(d,d.length)),y=a[q++];while(void 0!==
y)}else{do A=y[l],void 0!==A&&(b.push(y.time),d.push(A)),y=a[q++];while(void 0!==y)}}}function Wh(a){switch(a.toLowerCase()){case "scalar":case "double":case "float":case "number":case "integer":return Lf;case "vector":case "vector2":case "vector3":case "vector4":return Mf;case "color":return Xh;case "quaternion":return Ne;case "bool":case "boolean":return me;case "string":return ne}throw Error("THREE.KeyframeTrack: Unsupported typeName: "+a);}function Dg(){return("undefined"===typeof performance?
Date:performance).now()}function Eg(a,b){return a.distance-b.distance}function Nf(a,b,d,l){a.layers.test(b.layers)&&a.raycast(b,d);if(!0===l){a=a.children;for(let q=0,y=a.length;q<y;q++)Nf(a[q],b,d,!0)}}function Fg(a){const b=[];!0===a.isBone&&b.push(a);for(let d=0;d<a.children.length;d++)b.push.apply(b,Fg(a.children[d]));return b}function mc(a,b,d,l,q,y,A){Gg.set(q,y,A).unproject(l);a=b[a];if(void 0!==a){d=d.getAttribute("position");for(let D=0,F=a.length;D<F;D++)d.setXYZ(a[D],Gg.x,Gg.y,Gg.z)}}class Uc{addEventListener(a,
b){void 0===this._listeners&&(this._listeners={});const d=this._listeners;void 0===d[a]&&(d[a]=[]);-1===d[a].indexOf(b)&&d[a].push(b)}hasEventListener(a,b){if(void 0===this._listeners)return!1;const d=this._listeners;return void 0!==d[a]&&-1!==d[a].indexOf(b)}removeEventListener(a,b){void 0!==this._listeners&&(a=this._listeners[a],void 0!==a&&(b=a.indexOf(b),-1!==b&&a.splice(b,1)))}dispatchEvent(a){if(void 0!==this._listeners){var b=this._listeners[a.type];if(void 0!==b){a.target=this;b=b.slice(0);
for(let d=0,l=b.length;d<l;d++)b[d].call(this,a);a.target=null}}}}const uc="00 01 02 03 04 05 06 07 08 09 0a 0b 0c 0d 0e 0f 10 11 12 13 14 15 16 17 18 19 1a 1b 1c 1d 1e 1f 20 21 22 23 24 25 26 27 28 29 2a 2b 2c 2d 2e 2f 30 31 32 33 34 35 36 37 38 39 3a 3b 3c 3d 3e 3f 40 41 42 43 44 45 46 47 48 49 4a 4b 4c 4d 4e 4f 50 51 52 53 54 55 56 57 58 59 5a 5b 5c 5d 5e 5f 60 61 62 63 64 65 66 67 68 69 6a 6b 6c 6d 6e 6f 70 71 72 73 74 75 76 77 78 79 7a 7b 7c 7d 7e 7f 80 81 82 83 84 85 86 87 88 89 8a 8b 8c 8d 8e 8f 90 91 92 93 94 95 96 97 98 99 9a 9b 9c 9d 9e 9f a0 a1 a2 a3 a4 a5 a6 a7 a8 a9 aa ab ac ad ae af b0 b1 b2 b3 b4 b5 b6 b7 b8 b9 ba bb bc bd be bf c0 c1 c2 c3 c4 c5 c6 c7 c8 c9 ca cb cc cd ce cf d0 d1 d2 d3 d4 d5 d6 d7 d8 d9 da db dc dd de df e0 e1 e2 e3 e4 e5 e6 e7 e8 e9 ea eb ec ed ee ef f0 f1 f2 f3 f4 f5 f6 f7 f8 f9 fa fb fc fd fe ff".split(" ");
let ea=1234567;const qa=Math.PI/180,Fa=180/Math.PI,Ya={DEG2RAD:qa,RAD2DEG:Fa,generateUUID:p,clamp:n,euclideanModulo:c,mapLinear:function(a,b,d,l,q){return l+(a-b)*(q-l)/(d-b)},inverseLerp:function(a,b,d){return a!==b?(d-a)/(b-a):0},lerp:e,damp:function(a,b,d,l){return e(a,b,1-Math.exp(-d*l))},pingpong:function(a,b=1){return b-Math.abs(c(a,2*b)-b)},smoothstep:function(a,b,d){if(a<=b)return 0;if(a>=d)return 1;a=(a-b)/(d-b);return a*a*(3-2*a)},smootherstep:function(a,b,d){if(a<=b)return 0;if(a>=d)return 1;
a=(a-b)/(d-b);return a*a*a*(a*(6*a-15)+10)},randInt:function(a,b){return a+Math.floor(Math.random()*(b-a+1))},randFloat:function(a,b){return a+Math.random()*(b-a)},randFloatSpread:function(a){return a*(.5-Math.random())},seededRandom:function(a){void 0!==a&&(ea=a);a=ea+=1831565813;a=Math.imul(a^a>>>15,a|1);a^=a+Math.imul(a^a>>>7,a|61);return((a^a>>>14)>>>0)/4294967296},degToRad:function(a){return a*qa},radToDeg:function(a){return a*Fa},isPowerOfTwo:f,ceilPowerOfTwo:h,floorPowerOfTwo:k,setQuaternionFromProperEuler:function(a,
b,d,l,q){var y=Math.cos;const A=Math.sin,D=y(d/2);d=A(d/2);const F=y((b+l)/2),G=A((b+l)/2),M=y((b-l)/2),N=A((b-l)/2);y=y((l-b)/2);b=A((l-b)/2);switch(q){case "XYX":a.set(D*G,d*M,d*N,D*F);break;case "YZY":a.set(d*N,D*G,d*M,D*F);break;case "ZXZ":a.set(d*M,d*N,D*G,D*F);break;case "XZX":a.set(D*G,d*b,d*y,D*F);break;case "YXY":a.set(d*y,D*G,d*b,D*F);break;case "ZYZ":a.set(d*b,d*y,D*G,D*F);break;default:console.warn("THREE.MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: "+q)}},
normalize:r,denormalize:g};class za{constructor(a=0,b=0){za.prototype.isVector2=!0;this.x=a;this.y=b}get width(){return this.x}set width(a){this.x=a}get height(){return this.y}set height(a){this.y=a}set(a,b){this.x=a;this.y=b;return this}setScalar(a){this.y=this.x=a;return this}setX(a){this.x=a;return this}setY(a){this.y=a;return this}setComponent(a,b){switch(a){case 0:this.x=b;break;case 1:this.y=b;break;default:throw Error("index is out of range: "+a);}return this}getComponent(a){switch(a){case 0:return this.x;
case 1:return this.y;default:throw Error("index is out of range: "+a);}}clone(){return new this.constructor(this.x,this.y)}copy(a){this.x=a.x;this.y=a.y;return this}add(a){this.x+=a.x;this.y+=a.y;return this}addScalar(a){this.x+=a;this.y+=a;return this}addVectors(a,b){this.x=a.x+b.x;this.y=a.y+b.y;return this}addScaledVector(a,b){this.x+=a.x*b;this.y+=a.y*b;return this}sub(a){this.x-=a.x;this.y-=a.y;return this}subScalar(a){this.x-=a;this.y-=a;return this}subVectors(a,b){this.x=a.x-b.x;this.y=a.y-
b.y;return this}multiply(a){this.x*=a.x;this.y*=a.y;return this}multiplyScalar(a){this.x*=a;this.y*=a;return this}divide(a){this.x/=a.x;this.y/=a.y;return this}divideScalar(a){return this.multiplyScalar(1/a)}applyMatrix3(a){const b=this.x,d=this.y;a=a.elements;this.x=a[0]*b+a[3]*d+a[6];this.y=a[1]*b+a[4]*d+a[7];return this}min(a){this.x=Math.min(this.x,a.x);this.y=Math.min(this.y,a.y);return this}max(a){this.x=Math.max(this.x,a.x);this.y=Math.max(this.y,a.y);return this}clamp(a,b){this.x=Math.max(a.x,
Math.min(b.x,this.x));this.y=Math.max(a.y,Math.min(b.y,this.y));return this}clampScalar(a,b){this.x=Math.max(a,Math.min(b,this.x));this.y=Math.max(a,Math.min(b,this.y));return this}clampLength(a,b){const d=this.length();return this.divideScalar(d||1).multiplyScalar(Math.max(a,Math.min(b,d)))}floor(){this.x=Math.floor(this.x);this.y=Math.floor(this.y);return this}ceil(){this.x=Math.ceil(this.x);this.y=Math.ceil(this.y);return this}round(){this.x=Math.round(this.x);this.y=Math.round(this.y);return this}roundToZero(){this.x=
0>this.x?Math.ceil(this.x):Math.floor(this.x);this.y=0>this.y?Math.ceil(this.y):Math.floor(this.y);return this}negate(){this.x=-this.x;this.y=-this.y;return this}dot(a){return this.x*a.x+this.y*a.y}cross(a){return this.x*a.y-this.y*a.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}distanceTo(a){return Math.sqrt(this.distanceToSquared(a))}distanceToSquared(a){const b=
this.x-a.x;a=this.y-a.y;return b*b+a*a}manhattanDistanceTo(a){return Math.abs(this.x-a.x)+Math.abs(this.y-a.y)}setLength(a){return this.normalize().multiplyScalar(a)}lerp(a,b){this.x+=(a.x-this.x)*b;this.y+=(a.y-this.y)*b;return this}lerpVectors(a,b,d){this.x=a.x+(b.x-a.x)*d;this.y=a.y+(b.y-a.y)*d;return this}equals(a){return a.x===this.x&&a.y===this.y}fromArray(a,b=0){this.x=a[b];this.y=a[b+1];return this}toArray(a=[],b=0){a[b]=this.x;a[b+1]=this.y;return a}fromBufferAttribute(a,b){this.x=a.getX(b);
this.y=a.getY(b);return this}rotateAround(a,b){const d=Math.cos(b);b=Math.sin(b);const l=this.x-a.x,q=this.y-a.y;this.x=l*d-q*b+a.x;this.y=l*b+q*d+a.y;return this}random(){this.x=Math.random();this.y=Math.random();return this}*[Symbol.iterator](){yield this.x;yield this.y}}class hb{constructor(){hb.prototype.isMatrix3=!0;this.elements=[1,0,0,0,1,0,0,0,1]}set(a,b,d,l,q,y,A,D,F){const G=this.elements;G[0]=a;G[1]=l;G[2]=A;G[3]=b;G[4]=q;G[5]=D;G[6]=d;G[7]=y;G[8]=F;return this}identity(){this.set(1,0,
0,0,1,0,0,0,1);return this}copy(a){const b=this.elements;a=a.elements;b[0]=a[0];b[1]=a[1];b[2]=a[2];b[3]=a[3];b[4]=a[4];b[5]=a[5];b[6]=a[6];b[7]=a[7];b[8]=a[8];return this}extractBasis(a,b,d){a.setFromMatrix3Column(this,0);b.setFromMatrix3Column(this,1);d.setFromMatrix3Column(this,2);return this}setFromMatrix4(a){a=a.elements;this.set(a[0],a[4],a[8],a[1],a[5],a[9],a[2],a[6],a[10]);return this}multiply(a){return this.multiplyMatrices(this,a)}premultiply(a){return this.multiplyMatrices(a,this)}multiplyMatrices(a,
b){var d=a.elements,l=b.elements;b=this.elements;a=d[0];const q=d[3],y=d[6],A=d[1],D=d[4],F=d[7],G=d[2],M=d[5];d=d[8];const N=l[0],P=l[3],T=l[6],S=l[1],L=l[4],U=l[7],ma=l[2],ba=l[5];l=l[8];b[0]=a*N+q*S+y*ma;b[3]=a*P+q*L+y*ba;b[6]=a*T+q*U+y*l;b[1]=A*N+D*S+F*ma;b[4]=A*P+D*L+F*ba;b[7]=A*T+D*U+F*l;b[2]=G*N+M*S+d*ma;b[5]=G*P+M*L+d*ba;b[8]=G*T+M*U+d*l;return this}multiplyScalar(a){const b=this.elements;b[0]*=a;b[3]*=a;b[6]*=a;b[1]*=a;b[4]*=a;b[7]*=a;b[2]*=a;b[5]*=a;b[8]*=a;return this}determinant(){var a=
this.elements;const b=a[0],d=a[1],l=a[2],q=a[3],y=a[4],A=a[5],D=a[6],F=a[7];a=a[8];return b*y*a-b*A*F-d*q*a+d*A*D+l*q*F-l*y*D}invert(){const a=this.elements,b=a[0],d=a[1],l=a[2],q=a[3],y=a[4],A=a[5],D=a[6],F=a[7],G=a[8],M=G*y-A*F,N=A*D-G*q,P=F*q-y*D;var T=b*M+d*N+l*P;if(0===T)return this.set(0,0,0,0,0,0,0,0,0);T=1/T;a[0]=M*T;a[1]=(l*F-G*d)*T;a[2]=(A*d-l*y)*T;a[3]=N*T;a[4]=(G*b-l*D)*T;a[5]=(l*q-A*b)*T;a[6]=P*T;a[7]=(d*D-F*b)*T;a[8]=(y*b-d*q)*T;return this}transpose(){let a;const b=this.elements;a=
b[1];b[1]=b[3];b[3]=a;a=b[2];b[2]=b[6];b[6]=a;a=b[5];b[5]=b[7];b[7]=a;return this}getNormalMatrix(a){return this.setFromMatrix4(a).invert().transpose()}transposeIntoArray(a){const b=this.elements;a[0]=b[0];a[1]=b[3];a[2]=b[6];a[3]=b[1];a[4]=b[4];a[5]=b[7];a[6]=b[2];a[7]=b[5];a[8]=b[8];return this}setUvTransform(a,b,d,l,q,y,A){const D=Math.cos(q);q=Math.sin(q);this.set(d*D,d*q,-d*(D*y+q*A)+y+a,-l*q,l*D,-l*(-q*y+D*A)+A+b,0,0,1);return this}scale(a,b){this.premultiply(Ob.makeScale(a,b));return this}rotate(a){this.premultiply(Ob.makeRotation(-a));
return this}translate(a,b){this.premultiply(Ob.makeTranslation(a,b));return this}makeTranslation(a,b){this.set(1,0,a,0,1,b,0,0,1);return this}makeRotation(a){const b=Math.cos(a);a=Math.sin(a);this.set(b,-a,0,a,b,0,0,0,1);return this}makeScale(a,b){this.set(a,0,0,0,b,0,0,0,1);return this}equals(a){const b=this.elements;a=a.elements;for(let d=0;9>d;d++)if(b[d]!==a[d])return!1;return!0}fromArray(a,b=0){for(let d=0;9>d;d++)this.elements[d]=a[d+b];return this}toArray(a=[],b=0){const d=this.elements;a[b]=
d[0];a[b+1]=d[1];a[b+2]=d[2];a[b+3]=d[3];a[b+4]=d[4];a[b+5]=d[5];a[b+6]=d[6];a[b+7]=d[7];a[b+8]=d[8];return a}clone(){return(new this.constructor).fromArray(this.elements)}}const Ob=new hb,xb={Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array};class lb{constructor(a=0,b=0,d=0,l=1){this.isQuaternion=!0;this._x=a;this._y=b;this._z=d;this._w=l}static slerpFlat(a,b,d,l,q,y,A){let D=d[l+0],F=d[l+1],G=d[l+2];d=d[l+3];l=q[y+0];const M=q[y+1],N=
q[y+2];q=q[y+3];if(0===A)a[b+0]=D,a[b+1]=F,a[b+2]=G,a[b+3]=d;else if(1===A)a[b+0]=l,a[b+1]=M,a[b+2]=N,a[b+3]=q;else{if(d!==q||D!==l||F!==M||G!==N){y=1-A;var P=D*l+F*M+G*N+d*q,T=0<=P?1:-1,S=1-P*P;S>Number.EPSILON&&(S=Math.sqrt(S),P=Math.atan2(S,P*T),y=Math.sin(y*P)/S,A=Math.sin(A*P)/S);T*=A;D=D*y+l*T;F=F*y+M*T;G=G*y+N*T;d=d*y+q*T;y===1-A&&(A=1/Math.sqrt(D*D+F*F+G*G+d*d),D*=A,F*=A,G*=A,d*=A)}a[b]=D;a[b+1]=F;a[b+2]=G;a[b+3]=d}}static multiplyQuaternionsFlat(a,b,d,l,q,y){const A=d[l],D=d[l+1],F=d[l+2];
d=d[l+3];l=q[y];const G=q[y+1],M=q[y+2];q=q[y+3];a[b]=A*q+d*l+D*M-F*G;a[b+1]=D*q+d*G+F*l-A*M;a[b+2]=F*q+d*M+A*G-D*l;a[b+3]=d*q-A*l-D*G-F*M;return a}get x(){return this._x}set x(a){this._x=a;this._onChangeCallback()}get y(){return this._y}set y(a){this._y=a;this._onChangeCallback()}get z(){return this._z}set z(a){this._z=a;this._onChangeCallback()}get w(){return this._w}set w(a){this._w=a;this._onChangeCallback()}set(a,b,d,l){this._x=a;this._y=b;this._z=d;this._w=l;this._onChangeCallback();return this}clone(){return new this.constructor(this._x,
this._y,this._z,this._w)}copy(a){this._x=a.x;this._y=a.y;this._z=a.z;this._w=a.w;this._onChangeCallback();return this}setFromEuler(a,b){var d=a._x,l=a._y,q=a._z;a=a._order;var y=Math.cos;const A=Math.sin,D=y(d/2),F=y(l/2);y=y(q/2);d=A(d/2);l=A(l/2);q=A(q/2);switch(a){case "XYZ":this._x=d*F*y+D*l*q;this._y=D*l*y-d*F*q;this._z=D*F*q+d*l*y;this._w=D*F*y-d*l*q;break;case "YXZ":this._x=d*F*y+D*l*q;this._y=D*l*y-d*F*q;this._z=D*F*q-d*l*y;this._w=D*F*y+d*l*q;break;case "ZXY":this._x=d*F*y-D*l*q;this._y=
D*l*y+d*F*q;this._z=D*F*q+d*l*y;this._w=D*F*y-d*l*q;break;case "ZYX":this._x=d*F*y-D*l*q;this._y=D*l*y+d*F*q;this._z=D*F*q-d*l*y;this._w=D*F*y+d*l*q;break;case "YZX":this._x=d*F*y+D*l*q;this._y=D*l*y+d*F*q;this._z=D*F*q-d*l*y;this._w=D*F*y-d*l*q;break;case "XZY":this._x=d*F*y-D*l*q;this._y=D*l*y-d*F*q;this._z=D*F*q+d*l*y;this._w=D*F*y+d*l*q;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+a)}!1!==b&&this._onChangeCallback();return this}setFromAxisAngle(a,
b){b/=2;const d=Math.sin(b);this._x=a.x*d;this._y=a.y*d;this._z=a.z*d;this._w=Math.cos(b);this._onChangeCallback();return this}setFromRotationMatrix(a){var b=a.elements,d=b[0];a=b[4];const l=b[8],q=b[1],y=b[5],A=b[9],D=b[2],F=b[6];b=b[10];const G=d+y+b;0<G?(d=.5/Math.sqrt(G+1),this._w=.25/d,this._x=(F-A)*d,this._y=(l-D)*d,this._z=(q-a)*d):d>y&&d>b?(d=2*Math.sqrt(1+d-y-b),this._w=(F-A)/d,this._x=.25*d,this._y=(a+q)/d,this._z=(l+D)/d):y>b?(d=2*Math.sqrt(1+y-d-b),this._w=(l-D)/d,this._x=(a+q)/d,this._y=
.25*d,this._z=(A+F)/d):(d=2*Math.sqrt(1+b-d-y),this._w=(q-a)/d,this._x=(l+D)/d,this._y=(A+F)/d,this._z=.25*d);this._onChangeCallback();return this}setFromUnitVectors(a,b){let d=a.dot(b)+1;d<Number.EPSILON?(d=0,Math.abs(a.x)>Math.abs(a.z)?(this._x=-a.y,this._y=a.x,this._z=0):(this._x=0,this._y=-a.z,this._z=a.y)):(this._x=a.y*b.z-a.z*b.y,this._y=a.z*b.x-a.x*b.z,this._z=a.x*b.y-a.y*b.x);this._w=d;return this.normalize()}angleTo(a){return 2*Math.acos(Math.abs(n(this.dot(a),-1,1)))}rotateTowards(a,b){const d=
this.angleTo(a);if(0===d)return this;this.slerp(a,Math.min(1,b/d));return this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){this._x*=-1;this._y*=-1;this._z*=-1;this._onChangeCallback();return this}dot(a){return this._x*a._x+this._y*a._y+this._z*a._z+this._w*a._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let a=this.length();
0===a?(this._z=this._y=this._x=0,this._w=1):(a=1/a,this._x*=a,this._y*=a,this._z*=a,this._w*=a);this._onChangeCallback();return this}multiply(a){return this.multiplyQuaternions(this,a)}premultiply(a){return this.multiplyQuaternions(a,this)}multiplyQuaternions(a,b){const d=a._x,l=a._y,q=a._z;a=a._w;const y=b._x,A=b._y,D=b._z;b=b._w;this._x=d*b+a*y+l*D-q*A;this._y=l*b+a*A+q*y-d*D;this._z=q*b+a*D+d*A-l*y;this._w=a*b-d*y-l*A-q*D;this._onChangeCallback();return this}slerp(a,b){if(0===b)return this;if(1===
b)return this.copy(a);const d=this._x,l=this._y,q=this._z,y=this._w;var A=y*a._w+d*a._x+l*a._y+q*a._z;0>A?(this._w=-a._w,this._x=-a._x,this._y=-a._y,this._z=-a._z,A=-A):this.copy(a);if(1<=A)return this._w=y,this._x=d,this._y=l,this._z=q,this;a=1-A*A;if(a<=Number.EPSILON)return A=1-b,this._w=A*y+b*this._w,this._x=A*d+b*this._x,this._y=A*l+b*this._y,this._z=A*q+b*this._z,this.normalize(),this._onChangeCallback(),this;a=Math.sqrt(a);const D=Math.atan2(a,A);A=Math.sin((1-b)*D)/a;b=Math.sin(b*D)/a;this._w=
y*A+this._w*b;this._x=d*A+this._x*b;this._y=l*A+this._y*b;this._z=q*A+this._z*b;this._onChangeCallback();return this}slerpQuaternions(a,b,d){return this.copy(a).slerp(b,d)}random(){var a=Math.random();const b=Math.sqrt(1-a);a=Math.sqrt(a);const d=2*Math.PI*Math.random(),l=2*Math.PI*Math.random();return this.set(b*Math.cos(d),a*Math.sin(l),a*Math.cos(l),b*Math.sin(d))}equals(a){return a._x===this._x&&a._y===this._y&&a._z===this._z&&a._w===this._w}fromArray(a,b=0){this._x=a[b];this._y=a[b+1];this._z=
a[b+2];this._w=a[b+3];this._onChangeCallback();return this}toArray(a=[],b=0){a[b]=this._x;a[b+1]=this._y;a[b+2]=this._z;a[b+3]=this._w;return a}fromBufferAttribute(a,b){this._x=a.getX(b);this._y=a.getY(b);this._z=a.getZ(b);this._w=a.getW(b);return this}_onChange(a){this._onChangeCallback=a;return this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x;yield this._y;yield this._z;yield this._w}}class aa{constructor(a=0,b=0,d=0){aa.prototype.isVector3=!0;this.x=a;this.y=b;this.z=d}set(a,b,d){void 0===
d&&(d=this.z);this.x=a;this.y=b;this.z=d;return this}setScalar(a){this.z=this.y=this.x=a;return this}setX(a){this.x=a;return this}setY(a){this.y=a;return this}setZ(a){this.z=a;return this}setComponent(a,b){switch(a){case 0:this.x=b;break;case 1:this.y=b;break;case 2:this.z=b;break;default:throw Error("index is out of range: "+a);}return this}getComponent(a){switch(a){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw Error("index is out of range: "+a);}}clone(){return new this.constructor(this.x,
this.y,this.z)}copy(a){this.x=a.x;this.y=a.y;this.z=a.z;return this}add(a){this.x+=a.x;this.y+=a.y;this.z+=a.z;return this}addScalar(a){this.x+=a;this.y+=a;this.z+=a;return this}addVectors(a,b){this.x=a.x+b.x;this.y=a.y+b.y;this.z=a.z+b.z;return this}addScaledVector(a,b){this.x+=a.x*b;this.y+=a.y*b;this.z+=a.z*b;return this}sub(a){this.x-=a.x;this.y-=a.y;this.z-=a.z;return this}subScalar(a){this.x-=a;this.y-=a;this.z-=a;return this}subVectors(a,b){this.x=a.x-b.x;this.y=a.y-b.y;this.z=a.z-b.z;return this}multiply(a){this.x*=
a.x;this.y*=a.y;this.z*=a.z;return this}multiplyScalar(a){this.x*=a;this.y*=a;this.z*=a;return this}multiplyVectors(a,b){this.x=a.x*b.x;this.y=a.y*b.y;this.z=a.z*b.z;return this}applyEuler(a){return this.applyQuaternion(Pb.setFromEuler(a))}applyAxisAngle(a,b){return this.applyQuaternion(Pb.setFromAxisAngle(a,b))}applyMatrix3(a){const b=this.x,d=this.y,l=this.z;a=a.elements;this.x=a[0]*b+a[3]*d+a[6]*l;this.y=a[1]*b+a[4]*d+a[7]*l;this.z=a[2]*b+a[5]*d+a[8]*l;return this}applyNormalMatrix(a){return this.applyMatrix3(a).normalize()}applyMatrix4(a){const b=
this.x,d=this.y,l=this.z;a=a.elements;const q=1/(a[3]*b+a[7]*d+a[11]*l+a[15]);this.x=(a[0]*b+a[4]*d+a[8]*l+a[12])*q;this.y=(a[1]*b+a[5]*d+a[9]*l+a[13])*q;this.z=(a[2]*b+a[6]*d+a[10]*l+a[14])*q;return this}applyQuaternion(a){var b=this.x;const d=this.y,l=this.z,q=a.x,y=a.y,A=a.z;a=a.w;const D=a*b+y*l-A*d,F=a*d+A*b-q*l,G=a*l+q*d-y*b;b=-q*b-y*d-A*l;this.x=D*a+b*-q+F*-A-G*-y;this.y=F*a+b*-y+G*-q-D*-A;this.z=G*a+b*-A+D*-y-F*-q;return this}project(a){return this.applyMatrix4(a.matrixWorldInverse).applyMatrix4(a.projectionMatrix)}unproject(a){return this.applyMatrix4(a.projectionMatrixInverse).applyMatrix4(a.matrixWorld)}transformDirection(a){const b=
this.x,d=this.y,l=this.z;a=a.elements;this.x=a[0]*b+a[4]*d+a[8]*l;this.y=a[1]*b+a[5]*d+a[9]*l;this.z=a[2]*b+a[6]*d+a[10]*l;return this.normalize()}divide(a){this.x/=a.x;this.y/=a.y;this.z/=a.z;return this}divideScalar(a){return this.multiplyScalar(1/a)}min(a){this.x=Math.min(this.x,a.x);this.y=Math.min(this.y,a.y);this.z=Math.min(this.z,a.z);return this}max(a){this.x=Math.max(this.x,a.x);this.y=Math.max(this.y,a.y);this.z=Math.max(this.z,a.z);return this}clamp(a,b){this.x=Math.max(a.x,Math.min(b.x,
this.x));this.y=Math.max(a.y,Math.min(b.y,this.y));this.z=Math.max(a.z,Math.min(b.z,this.z));return this}clampScalar(a,b){this.x=Math.max(a,Math.min(b,this.x));this.y=Math.max(a,Math.min(b,this.y));this.z=Math.max(a,Math.min(b,this.z));return this}clampLength(a,b){const d=this.length();return this.divideScalar(d||1).multiplyScalar(Math.max(a,Math.min(b,d)))}floor(){this.x=Math.floor(this.x);this.y=Math.floor(this.y);this.z=Math.floor(this.z);return this}ceil(){this.x=Math.ceil(this.x);this.y=Math.ceil(this.y);
this.z=Math.ceil(this.z);return this}round(){this.x=Math.round(this.x);this.y=Math.round(this.y);this.z=Math.round(this.z);return this}roundToZero(){this.x=0>this.x?Math.ceil(this.x):Math.floor(this.x);this.y=0>this.y?Math.ceil(this.y):Math.floor(this.y);this.z=0>this.z?Math.ceil(this.z):Math.floor(this.z);return this}negate(){this.x=-this.x;this.y=-this.y;this.z=-this.z;return this}dot(a){return this.x*a.x+this.y*a.y+this.z*a.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*
this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(a){return this.normalize().multiplyScalar(a)}lerp(a,b){this.x+=(a.x-this.x)*b;this.y+=(a.y-this.y)*b;this.z+=(a.z-this.z)*b;return this}lerpVectors(a,b,d){this.x=a.x+(b.x-a.x)*d;this.y=a.y+(b.y-a.y)*d;this.z=a.z+(b.z-a.z)*d;return this}cross(a){return this.crossVectors(this,a)}crossVectors(a,b){const d=a.x,l=a.y;a=a.z;const q=
b.x,y=b.y;b=b.z;this.x=l*b-a*y;this.y=a*q-d*b;this.z=d*y-l*q;return this}projectOnVector(a){var b=a.lengthSq();if(0===b)return this.set(0,0,0);b=a.dot(this)/b;return this.copy(a).multiplyScalar(b)}projectOnPlane(a){Yb.copy(this).projectOnVector(a);return this.sub(Yb)}reflect(a){return this.sub(Yb.copy(a).multiplyScalar(2*this.dot(a)))}angleTo(a){const b=Math.sqrt(this.lengthSq()*a.lengthSq());if(0===b)return Math.PI/2;a=this.dot(a)/b;return Math.acos(n(a,-1,1))}distanceTo(a){return Math.sqrt(this.distanceToSquared(a))}distanceToSquared(a){const b=
this.x-a.x,d=this.y-a.y;a=this.z-a.z;return b*b+d*d+a*a}manhattanDistanceTo(a){return Math.abs(this.x-a.x)+Math.abs(this.y-a.y)+Math.abs(this.z-a.z)}setFromSpherical(a){return this.setFromSphericalCoords(a.radius,a.phi,a.theta)}setFromSphericalCoords(a,b,d){const l=Math.sin(b)*a;this.x=l*Math.sin(d);this.y=Math.cos(b)*a;this.z=l*Math.cos(d);return this}setFromCylindrical(a){return this.setFromCylindricalCoords(a.radius,a.theta,a.y)}setFromCylindricalCoords(a,b,d){this.x=a*Math.sin(b);this.y=d;this.z=
a*Math.cos(b);return this}setFromMatrixPosition(a){a=a.elements;this.x=a[12];this.y=a[13];this.z=a[14];return this}setFromMatrixScale(a){const b=this.setFromMatrixColumn(a,0).length(),d=this.setFromMatrixColumn(a,1).length();a=this.setFromMatrixColumn(a,2).length();this.x=b;this.y=d;this.z=a;return this}setFromMatrixColumn(a,b){return this.fromArray(a.elements,4*b)}setFromMatrix3Column(a,b){return this.fromArray(a.elements,3*b)}setFromEuler(a){this.x=a._x;this.y=a._y;this.z=a._z;return this}equals(a){return a.x===
this.x&&a.y===this.y&&a.z===this.z}fromArray(a,b=0){this.x=a[b];this.y=a[b+1];this.z=a[b+2];return this}toArray(a=[],b=0){a[b]=this.x;a[b+1]=this.y;a[b+2]=this.z;return a}fromBufferAttribute(a,b){this.x=a.getX(b);this.y=a.getY(b);this.z=a.getZ(b);return this}random(){this.x=Math.random();this.y=Math.random();this.z=Math.random();return this}randomDirection(){const a=2*(Math.random()-.5),b=Math.random()*Math.PI*2,d=Math.sqrt(1-a**2);this.x=d*Math.cos(b);this.y=d*Math.sin(b);this.z=a;return this}*[Symbol.iterator](){yield this.x;
yield this.y;yield this.z}}const Yb=new aa,Pb=new lb,ic=(new hb).fromArray([.8224621,.0331941,.0170827,.177538,.9668058,.0723974,-1E-7,1E-7,.9105199]),Zb=(new hb).fromArray([1.2249401,-.0420569,-.0196376,-.2249404,1.0420571,-.0786361,1E-7,0,1.0982735]),Cc=new aa,Rc={["srgb-linear"]:a=>a,srgb:a=>a.convertSRGBToLinear(),["display-p3"]:function(a){a.convertSRGBToLinear();Cc.set(a.r,a.g,a.b).applyMatrix3(Zb);return a.setRGB(Cc.x,Cc.y,Cc.z)}},Oe={["srgb-linear"]:a=>a,srgb:a=>a.convertLinearToSRGB(),["display-p3"]:function(a){Cc.set(a.r,
a.g,a.b).applyMatrix3(ic);return a.setRGB(Cc.x,Cc.y,Cc.z).convertLinearToSRGB()}},Ec={enabled:!1,get legacyMode(){console.warn("THREE.ColorManagement: .legacyMode\x3dfalse renamed to .enabled\x3dtrue in r150.");return!this.enabled},set legacyMode(a){console.warn("THREE.ColorManagement: .legacyMode\x3dfalse renamed to .enabled\x3dtrue in r150.");this.enabled=!a},get workingColorSpace(){return"srgb-linear"},set workingColorSpace(a){console.warn("THREE.ColorManagement: .workingColorSpace is readonly.")},
convert:function(a,b,d){if(!1===this.enabled||b===d||!b||!d)return a;const l=Rc[b],q=Oe[d];if(void 0===l||void 0===q)throw Error(`Unsupported color space conversion, "${b}" to "${d}".`);return q(l(a))},fromWorkingColorSpace:function(a,b){return this.convert(a,this.workingColorSpace,b)},toWorkingColorSpace:function(a,b){return this.convert(a,b,this.workingColorSpace)}};let Pe;class zh{static getDataURL(a){if(/^data:/i.test(a.src)||"undefined"==typeof HTMLCanvasElement)return a.src;if(a instanceof HTMLCanvasElement)var b=
a;else void 0===Pe&&(Pe=w("canvas")),Pe.width=a.width,Pe.height=a.height,b=Pe.getContext("2d"),a instanceof ImageData?b.putImageData(a,0,0):b.drawImage(a,0,0,a.width,a.height),b=Pe;return 2048<b.width||2048<b.height?(console.warn("THREE.ImageUtils.getDataURL: Image converted to jpg for performance reasons",a),b.toDataURL("image/jpeg",.6)):b.toDataURL("image/png")}static sRGBToLinear(a){if("undefined"!==typeof HTMLImageElement&&a instanceof HTMLImageElement||"undefined"!==typeof HTMLCanvasElement&&
a instanceof HTMLCanvasElement||"undefined"!==typeof ImageBitmap&&a instanceof ImageBitmap){var b=w("canvas");b.width=a.width;b.height=a.height;var d=b.getContext("2d");d.drawImage(a,0,0,a.width,a.height);a=d.getImageData(0,0,a.width,a.height);const l=a.data;for(let q=0;q<l.length;q++)l[q]=255*x(l[q]/255);d.putImageData(a,0,0);return b}if(a.data){b=a.data.slice(0);for(d=0;d<b.length;d++)b[d]=b instanceof Uint8Array||b instanceof Uint8ClampedArray?Math.floor(255*x(b[d]/255)):x(b[d]);return{data:b,
width:a.width,height:a.height}}console.warn("THREE.ImageUtils.sRGBToLinear(): Unsupported image type. No color space conversion applied.");return a}}class oe{constructor(a=null){this.isSource=!0;this.uuid=p();this.data=a;this.version=0}set needsUpdate(a){!0===a&&this.version++}toJSON(a){const b=void 0===a||"string"===typeof a;if(!b&&void 0!==a.images[this.uuid])return a.images[this.uuid];const d={uuid:this.uuid,url:""},l=this.data;if(null!==l){let q;if(Array.isArray(l)){q=[];for(let y=0,A=l.length;y<
A;y++)l[y].isDataTexture?q.push(E(l[y].image)):q.push(E(l[y]))}else q=E(l);d.url=q}b||(a.images[this.uuid]=d);return d}}let al=0;class rc extends Uc{constructor(a=rc.DEFAULT_IMAGE,b=rc.DEFAULT_MAPPING,d=1001,l=1001,q=1006,y=1008,A=1023,D=1009,F=rc.DEFAULT_ANISOTROPY,G=3E3){super();this.isTexture=!0;Object.defineProperty(this,"id",{value:al++});this.uuid=p();this.name="";this.source=new oe(a);this.mipmaps=[];this.mapping=b;this.wrapS=d;this.wrapT=l;this.magFilter=q;this.minFilter=y;this.anisotropy=
F;this.format=A;this.internalFormat=null;this.type=D;this.offset=new za(0,0);this.repeat=new za(1,1);this.center=new za(0,0);this.rotation=0;this.matrixAutoUpdate=!0;this.matrix=new hb;this.generateMipmaps=!0;this.premultiplyAlpha=!1;this.flipY=!0;this.unpackAlignment=4;this.encoding=G;this.userData={};this.version=0;this.onUpdate=null;this.needsPMREMUpdate=this.isRenderTargetTexture=!1}get image(){return this.source.data}set image(a=null){this.source.data=a}updateMatrix(){this.matrix.setUvTransform(this.offset.x,
this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}clone(){return(new this.constructor).copy(this)}copy(a){this.name=a.name;this.source=a.source;this.mipmaps=a.mipmaps.slice(0);this.mapping=a.mapping;this.wrapS=a.wrapS;this.wrapT=a.wrapT;this.magFilter=a.magFilter;this.minFilter=a.minFilter;this.anisotropy=a.anisotropy;this.format=a.format;this.internalFormat=a.internalFormat;this.type=a.type;this.offset.copy(a.offset);this.repeat.copy(a.repeat);this.center.copy(a.center);
this.rotation=a.rotation;this.matrixAutoUpdate=a.matrixAutoUpdate;this.matrix.copy(a.matrix);this.generateMipmaps=a.generateMipmaps;this.premultiplyAlpha=a.premultiplyAlpha;this.flipY=a.flipY;this.unpackAlignment=a.unpackAlignment;this.encoding=a.encoding;this.userData=JSON.parse(JSON.stringify(a.userData));this.needsUpdate=!0;return this}toJSON(a){const b=void 0===a||"string"===typeof a;if(!b&&void 0!==a.textures[this.uuid])return a.textures[this.uuid];const d={metadata:{version:4.5,type:"Texture",
generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,image:this.source.toJSON(a).uuid,mapping:this.mapping,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,internalFormat:this.internalFormat,type:this.type,encoding:this.encoding,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,generateMipmaps:this.generateMipmaps,premultiplyAlpha:this.premultiplyAlpha,
unpackAlignment:this.unpackAlignment};0<Object.keys(this.userData).length&&(d.userData=this.userData);b||(a.textures[this.uuid]=d);return d}dispose(){this.dispatchEvent({type:"dispose"})}transformUv(a){if(300!==this.mapping)return a;a.applyMatrix3(this.matrix);if(0>a.x||1<a.x)switch(this.wrapS){case 1E3:a.x-=Math.floor(a.x);break;case 1001:a.x=0>a.x?0:1;break;case 1002:a.x=1===Math.abs(Math.floor(a.x)%2)?Math.ceil(a.x)-a.x:a.x-Math.floor(a.x)}if(0>a.y||1<a.y)switch(this.wrapT){case 1E3:a.y-=Math.floor(a.y);
break;case 1001:a.y=0>a.y?0:1;break;case 1002:a.y=1===Math.abs(Math.floor(a.y)%2)?Math.ceil(a.y)-a.y:a.y-Math.floor(a.y)}this.flipY&&(a.y=1-a.y);return a}set needsUpdate(a){!0===a&&(this.version++,this.source.needsUpdate=!0)}}rc.DEFAULT_IMAGE=null;rc.DEFAULT_MAPPING=300;rc.DEFAULT_ANISOTROPY=1;class cc{constructor(a=0,b=0,d=0,l=1){cc.prototype.isVector4=!0;this.x=a;this.y=b;this.z=d;this.w=l}get width(){return this.z}set width(a){this.z=a}get height(){return this.w}set height(a){this.w=a}set(a,b,
d,l){this.x=a;this.y=b;this.z=d;this.w=l;return this}setScalar(a){this.w=this.z=this.y=this.x=a;return this}setX(a){this.x=a;return this}setY(a){this.y=a;return this}setZ(a){this.z=a;return this}setW(a){this.w=a;return this}setComponent(a,b){switch(a){case 0:this.x=b;break;case 1:this.y=b;break;case 2:this.z=b;break;case 3:this.w=b;break;default:throw Error("index is out of range: "+a);}return this}getComponent(a){switch(a){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;
default:throw Error("index is out of range: "+a);}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(a){this.x=a.x;this.y=a.y;this.z=a.z;this.w=void 0!==a.w?a.w:1;return this}add(a){this.x+=a.x;this.y+=a.y;this.z+=a.z;this.w+=a.w;return this}addScalar(a){this.x+=a;this.y+=a;this.z+=a;this.w+=a;return this}addVectors(a,b){this.x=a.x+b.x;this.y=a.y+b.y;this.z=a.z+b.z;this.w=a.w+b.w;return this}addScaledVector(a,b){this.x+=a.x*b;this.y+=a.y*b;this.z+=a.z*b;this.w+=a.w*b;return this}sub(a){this.x-=
a.x;this.y-=a.y;this.z-=a.z;this.w-=a.w;return this}subScalar(a){this.x-=a;this.y-=a;this.z-=a;this.w-=a;return this}subVectors(a,b){this.x=a.x-b.x;this.y=a.y-b.y;this.z=a.z-b.z;this.w=a.w-b.w;return this}multiply(a){this.x*=a.x;this.y*=a.y;this.z*=a.z;this.w*=a.w;return this}multiplyScalar(a){this.x*=a;this.y*=a;this.z*=a;this.w*=a;return this}applyMatrix4(a){const b=this.x,d=this.y,l=this.z,q=this.w;a=a.elements;this.x=a[0]*b+a[4]*d+a[8]*l+a[12]*q;this.y=a[1]*b+a[5]*d+a[9]*l+a[13]*q;this.z=a[2]*
b+a[6]*d+a[10]*l+a[14]*q;this.w=a[3]*b+a[7]*d+a[11]*l+a[15]*q;return this}divideScalar(a){return this.multiplyScalar(1/a)}setAxisAngleFromQuaternion(a){this.w=2*Math.acos(a.w);const b=Math.sqrt(1-a.w*a.w);1E-4>b?(this.x=1,this.z=this.y=0):(this.x=a.x/b,this.y=a.y/b,this.z=a.z/b);return this}setAxisAngleFromRotationMatrix(a){a=a.elements;var b=a[0];var d=a[4];var l=a[8];const q=a[1];var y=a[5],A=a[9];var D=a[2];var F=a[6];var G=a[10];if(.01>Math.abs(d-q)&&.01>Math.abs(l-D)&&.01>Math.abs(A-F)){if(.1>
Math.abs(d+q)&&.1>Math.abs(l+D)&&.1>Math.abs(A+F)&&.1>Math.abs(b+y+G-3))return this.set(1,0,0,0),this;a=Math.PI;b=(b+1)/2;y=(y+1)/2;G=(G+1)/2;d=(d+q)/4;l=(l+D)/4;A=(A+F)/4;b>y&&b>G?.01>b?(F=0,d=D=.707106781):(F=Math.sqrt(b),D=d/F,d=l/F):y>G?.01>y?(F=.707106781,D=0,d=.707106781):(D=Math.sqrt(y),F=d/D,d=A/D):.01>G?(D=F=.707106781,d=0):(d=Math.sqrt(G),F=l/d,D=A/d);this.set(F,D,d,a);return this}a=Math.sqrt((F-A)*(F-A)+(l-D)*(l-D)+(q-d)*(q-d));.001>Math.abs(a)&&(a=1);this.x=(F-A)/a;this.y=(l-D)/a;this.z=
(q-d)/a;this.w=Math.acos((b+y+G-1)/2);return this}min(a){this.x=Math.min(this.x,a.x);this.y=Math.min(this.y,a.y);this.z=Math.min(this.z,a.z);this.w=Math.min(this.w,a.w);return this}max(a){this.x=Math.max(this.x,a.x);this.y=Math.max(this.y,a.y);this.z=Math.max(this.z,a.z);this.w=Math.max(this.w,a.w);return this}clamp(a,b){this.x=Math.max(a.x,Math.min(b.x,this.x));this.y=Math.max(a.y,Math.min(b.y,this.y));this.z=Math.max(a.z,Math.min(b.z,this.z));this.w=Math.max(a.w,Math.min(b.w,this.w));return this}clampScalar(a,
b){this.x=Math.max(a,Math.min(b,this.x));this.y=Math.max(a,Math.min(b,this.y));this.z=Math.max(a,Math.min(b,this.z));this.w=Math.max(a,Math.min(b,this.w));return this}clampLength(a,b){const d=this.length();return this.divideScalar(d||1).multiplyScalar(Math.max(a,Math.min(b,d)))}floor(){this.x=Math.floor(this.x);this.y=Math.floor(this.y);this.z=Math.floor(this.z);this.w=Math.floor(this.w);return this}ceil(){this.x=Math.ceil(this.x);this.y=Math.ceil(this.y);this.z=Math.ceil(this.z);this.w=Math.ceil(this.w);
return this}round(){this.x=Math.round(this.x);this.y=Math.round(this.y);this.z=Math.round(this.z);this.w=Math.round(this.w);return this}roundToZero(){this.x=0>this.x?Math.ceil(this.x):Math.floor(this.x);this.y=0>this.y?Math.ceil(this.y):Math.floor(this.y);this.z=0>this.z?Math.ceil(this.z):Math.floor(this.z);this.w=0>this.w?Math.ceil(this.w):Math.floor(this.w);return this}negate(){this.x=-this.x;this.y=-this.y;this.z=-this.z;this.w=-this.w;return this}dot(a){return this.x*a.x+this.y*a.y+this.z*a.z+
this.w*a.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(a){return this.normalize().multiplyScalar(a)}lerp(a,b){this.x+=(a.x-this.x)*b;this.y+=(a.y-this.y)*b;this.z+=(a.z-this.z)*b;this.w+=(a.w-this.w)*b;return this}lerpVectors(a,b,
d){this.x=a.x+(b.x-a.x)*d;this.y=a.y+(b.y-a.y)*d;this.z=a.z+(b.z-a.z)*d;this.w=a.w+(b.w-a.w)*d;return this}equals(a){return a.x===this.x&&a.y===this.y&&a.z===this.z&&a.w===this.w}fromArray(a,b=0){this.x=a[b];this.y=a[b+1];this.z=a[b+2];this.w=a[b+3];return this}toArray(a=[],b=0){a[b]=this.x;a[b+1]=this.y;a[b+2]=this.z;a[b+3]=this.w;return a}fromBufferAttribute(a,b){this.x=a.getX(b);this.y=a.getY(b);this.z=a.getZ(b);this.w=a.getW(b);return this}random(){this.x=Math.random();this.y=Math.random();this.z=
Math.random();this.w=Math.random();return this}*[Symbol.iterator](){yield this.x;yield this.y;yield this.z;yield this.w}}class Yc extends Uc{constructor(a=1,b=1,d={}){super();this.isWebGLRenderTarget=!0;this.width=a;this.height=b;this.depth=1;this.scissor=new cc(0,0,a,b);this.scissorTest=!1;this.viewport=new cc(0,0,a,b);this.texture=new rc({width:a,height:b,depth:1},d.mapping,d.wrapS,d.wrapT,d.magFilter,d.minFilter,d.format,d.type,d.anisotropy,d.encoding);this.texture.isRenderTargetTexture=!0;this.texture.flipY=
!1;this.texture.generateMipmaps=void 0!==d.generateMipmaps?d.generateMipmaps:!1;this.texture.internalFormat=void 0!==d.internalFormat?d.internalFormat:null;this.texture.minFilter=void 0!==d.minFilter?d.minFilter:1006;this.depthBuffer=void 0!==d.depthBuffer?d.depthBuffer:!0;this.stencilBuffer=void 0!==d.stencilBuffer?d.stencilBuffer:!1;this.depthTexture=void 0!==d.depthTexture?d.depthTexture:null;this.samples=void 0!==d.samples?d.samples:0}setSize(a,b,d=1){if(this.width!==a||this.height!==b||this.depth!==
d)this.width=a,this.height=b,this.depth=d,this.texture.image.width=a,this.texture.image.height=b,this.texture.image.depth=d,this.dispose();this.viewport.set(0,0,a,b);this.scissor.set(0,0,a,b)}clone(){return(new this.constructor).copy(this)}copy(a){this.width=a.width;this.height=a.height;this.depth=a.depth;this.viewport.copy(a.viewport);this.texture=a.texture.clone();this.texture.isRenderTargetTexture=!0;const b=Object.assign({},a.texture.image);this.texture.source=new oe(b);this.depthBuffer=a.depthBuffer;
this.stencilBuffer=a.stencilBuffer;null!==a.depthTexture&&(this.depthTexture=a.depthTexture.clone());this.samples=a.samples;return this}dispose(){this.dispatchEvent({type:"dispose"})}}class lg extends rc{constructor(a=null,b=1,d=1,l=1){super(null);this.isDataArrayTexture=!0;this.image={data:a,width:b,height:d,depth:l};this.minFilter=this.magFilter=1003;this.wrapR=1001;this.flipY=this.generateMipmaps=!1;this.unpackAlignment=1}}class bl extends Yc{constructor(a=1,b=1,d=1){super(a,b);this.isWebGLArrayRenderTarget=
!0;this.depth=d;this.texture=new lg(null,a,b,d);this.texture.isRenderTargetTexture=!0}}class Yh extends rc{constructor(a=null,b=1,d=1,l=1){super(null);this.isData3DTexture=!0;this.image={data:a,width:b,height:d,depth:l};this.minFilter=this.magFilter=1003;this.wrapR=1001;this.flipY=this.generateMipmaps=!1;this.unpackAlignment=1}}class cl extends Yc{constructor(a=1,b=1,d=1){super(a,b);this.isWebGL3DRenderTarget=!0;this.depth=d;this.texture=new Yh(null,a,b,d);this.texture.isRenderTargetTexture=!0}}class dl extends Yc{constructor(a=
1,b=1,d=1,l={}){super(a,b,l);this.isWebGLMultipleRenderTargets=!0;a=this.texture;this.texture=[];for(b=0;b<d;b++)this.texture[b]=a.clone(),this.texture[b].isRenderTargetTexture=!0}setSize(a,b,d=1){if(this.width!==a||this.height!==b||this.depth!==d){this.width=a;this.height=b;this.depth=d;for(let l=0,q=this.texture.length;l<q;l++)this.texture[l].image.width=a,this.texture[l].image.height=b,this.texture[l].image.depth=d;this.dispose()}this.viewport.set(0,0,a,b);this.scissor.set(0,0,a,b);return this}copy(a){this.dispose();
this.width=a.width;this.height=a.height;this.depth=a.depth;this.viewport.set(0,0,this.width,this.height);this.scissor.set(0,0,this.width,this.height);this.depthBuffer=a.depthBuffer;this.stencilBuffer=a.stencilBuffer;null!==a.depthTexture&&(this.depthTexture=a.depthTexture.clone());this.texture.length=0;for(let b=0,d=a.texture.length;b<d;b++)this.texture[b]=a.texture[b].clone(),this.texture[b].isRenderTargetTexture=!0;return this}}class pe{constructor(a=new aa(Infinity,Infinity,Infinity),b=new aa(-Infinity,
-Infinity,-Infinity)){this.isBox3=!0;this.min=a;this.max=b}set(a,b){this.min.copy(a);this.max.copy(b);return this}setFromArray(a){let b=Infinity,d=Infinity,l=Infinity,q=-Infinity,y=-Infinity,A=-Infinity;for(let D=0,F=a.length;D<F;D+=3){const G=a[D],M=a[D+1],N=a[D+2];G<b&&(b=G);M<d&&(d=M);N<l&&(l=N);G>q&&(q=G);M>y&&(y=M);N>A&&(A=N)}this.min.set(b,d,l);this.max.set(q,y,A);return this}setFromBufferAttribute(a){let b=Infinity,d=Infinity,l=Infinity,q=-Infinity,y=-Infinity,A=-Infinity;for(let D=0,F=a.count;D<
F;D++){const G=a.getX(D),M=a.getY(D),N=a.getZ(D);G<b&&(b=G);M<d&&(d=M);N<l&&(l=N);G>q&&(q=G);M>y&&(y=M);N>A&&(A=N)}this.min.set(b,d,l);this.max.set(q,y,A);return this}setFromPoints(a){this.makeEmpty();for(let b=0,d=a.length;b<d;b++)this.expandByPoint(a[b]);return this}setFromCenterAndSize(a,b){b=qe.copy(b).multiplyScalar(.5);this.min.copy(a).sub(b);this.max.copy(a).add(b);return this}setFromObject(a,b=!1){this.makeEmpty();return this.expandByObject(a,b)}clone(){return(new this.constructor).copy(this)}copy(a){this.min.copy(a.min);
this.max.copy(a.max);return this}makeEmpty(){this.min.x=this.min.y=this.min.z=Infinity;this.max.x=this.max.y=this.max.z=-Infinity;return this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(a){return this.isEmpty()?a.set(0,0,0):a.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(a){return this.isEmpty()?a.set(0,0,0):a.subVectors(this.max,this.min)}expandByPoint(a){this.min.min(a);this.max.max(a);return this}expandByVector(a){this.min.sub(a);this.max.add(a);
return this}expandByScalar(a){this.min.addScalar(-a);this.max.addScalar(a);return this}expandByObject(a,b=!1){a.updateWorldMatrix(!1,!1);var d=a.geometry;if(void 0!==d)if(b&&void 0!=d.attributes&&void 0!==d.attributes.position){d=d.attributes.position;for(let l=0,q=d.count;l<q;l++)qe.fromBufferAttribute(d,l).applyMatrix4(a.matrixWorld),this.expandByPoint(qe)}else null===d.boundingBox&&d.computeBoundingBox(),Zh.copy(d.boundingBox),Zh.applyMatrix4(a.matrixWorld),this.union(Zh);a=a.children;for(let l=
0,q=a.length;l<q;l++)this.expandByObject(a[l],b);return this}containsPoint(a){return a.x<this.min.x||a.x>this.max.x||a.y<this.min.y||a.y>this.max.y||a.z<this.min.z||a.z>this.max.z?!1:!0}containsBox(a){return this.min.x<=a.min.x&&a.max.x<=this.max.x&&this.min.y<=a.min.y&&a.max.y<=this.max.y&&this.min.z<=a.min.z&&a.max.z<=this.max.z}getParameter(a,b){return b.set((a.x-this.min.x)/(this.max.x-this.min.x),(a.y-this.min.y)/(this.max.y-this.min.y),(a.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(a){return a.max.x<
this.min.x||a.min.x>this.max.x||a.max.y<this.min.y||a.min.y>this.max.y||a.max.z<this.min.z||a.min.z>this.max.z?!1:!0}intersectsSphere(a){this.clampPoint(a.center,qe);return qe.distanceToSquared(a.center)<=a.radius*a.radius}intersectsPlane(a){let b,d;0<a.normal.x?(b=a.normal.x*this.min.x,d=a.normal.x*this.max.x):(b=a.normal.x*this.max.x,d=a.normal.x*this.min.x);0<a.normal.y?(b+=a.normal.y*this.min.y,d+=a.normal.y*this.max.y):(b+=a.normal.y*this.max.y,d+=a.normal.y*this.min.y);0<a.normal.z?(b+=a.normal.z*
this.min.z,d+=a.normal.z*this.max.z):(b+=a.normal.z*this.max.z,d+=a.normal.z*this.min.z);return b<=-a.constant&&d>=-a.constant}intersectsTriangle(a){if(this.isEmpty())return!1;this.getCenter(Of);Hg.subVectors(this.max,Of);Qe.subVectors(a.a,Of);Re.subVectors(a.b,Of);Se.subVectors(a.c,Of);Rd.subVectors(Re,Qe);Sd.subVectors(Se,Re);re.subVectors(Qe,Se);a=[0,-Rd.z,Rd.y,0,-Sd.z,Sd.y,0,-re.z,re.y,Rd.z,0,-Rd.x,Sd.z,0,-Sd.x,re.z,0,-re.x,-Rd.y,Rd.x,0,-Sd.y,Sd.x,0,-re.y,re.x,0];if(!C(a,Qe,Re,Se,Hg))return!1;
a=[1,0,0,0,1,0,0,0,1];if(!C(a,Qe,Re,Se,Hg))return!1;Ig.crossVectors(Rd,Sd);a=[Ig.x,Ig.y,Ig.z];return C(a,Qe,Re,Se,Hg)}clampPoint(a,b){return b.copy(a).clamp(this.min,this.max)}distanceToPoint(a){return this.clampPoint(a,qe).distanceTo(a)}getBoundingSphere(a){this.isEmpty()?a.makeEmpty():(this.getCenter(a.center),a.radius=.5*this.getSize(qe).length());return a}intersect(a){this.min.max(a.min);this.max.min(a.max);this.isEmpty()&&this.makeEmpty();return this}union(a){this.min.min(a.min);this.max.max(a.max);
return this}applyMatrix4(a){if(this.isEmpty())return this;yd[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(a);yd[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(a);yd[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(a);yd[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(a);yd[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(a);yd[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(a);yd[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(a);yd[7].set(this.max.x,this.max.y,
this.max.z).applyMatrix4(a);this.setFromPoints(yd);return this}translate(a){this.min.add(a);this.max.add(a);return this}equals(a){return a.min.equals(this.min)&&a.max.equals(this.max)}}const yd=[new aa,new aa,new aa,new aa,new aa,new aa,new aa,new aa],qe=new aa,Zh=new pe,Qe=new aa,Re=new aa,Se=new aa,Rd=new aa,Sd=new aa,re=new aa,Of=new aa,Hg=new aa,Ig=new aa,$d=new aa,el=new pe,Pf=new aa,$h=new aa;class se{constructor(a=new aa,b=-1){this.center=a;this.radius=b}set(a,b){this.center.copy(a);this.radius=
b;return this}setFromPoints(a,b){const d=this.center;void 0!==b?d.copy(b):el.setFromPoints(a).getCenter(d);b=0;for(let l=0,q=a.length;l<q;l++)b=Math.max(b,d.distanceToSquared(a[l]));this.radius=Math.sqrt(b);return this}copy(a){this.center.copy(a.center);this.radius=a.radius;return this}isEmpty(){return 0>this.radius}makeEmpty(){this.center.set(0,0,0);this.radius=-1;return this}containsPoint(a){return a.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint(a){return a.distanceTo(this.center)-
this.radius}intersectsSphere(a){const b=this.radius+a.radius;return a.center.distanceToSquared(this.center)<=b*b}intersectsBox(a){return a.intersectsSphere(this)}intersectsPlane(a){return Math.abs(a.distanceToPoint(this.center))<=this.radius}clampPoint(a,b){const d=this.center.distanceToSquared(a);b.copy(a);d>this.radius*this.radius&&(b.sub(this.center).normalize(),b.multiplyScalar(this.radius).add(this.center));return b}getBoundingBox(a){if(this.isEmpty())return a.makeEmpty(),a;a.set(this.center,
this.center);a.expandByScalar(this.radius);return a}applyMatrix4(a){this.center.applyMatrix4(a);this.radius*=a.getMaxScaleOnAxis();return this}translate(a){this.center.add(a);return this}expandByPoint(a){if(this.isEmpty())return this.center.copy(a),this.radius=0,this;Pf.subVectors(a,this.center);a=Pf.lengthSq();if(a>this.radius*this.radius){a=Math.sqrt(a);const b=.5*(a-this.radius);this.center.addScaledVector(Pf,b/a);this.radius+=b}return this}union(a){if(a.isEmpty())return this;if(this.isEmpty())return this.copy(a),
this;!0===this.center.equals(a.center)?this.radius=Math.max(this.radius,a.radius):($h.subVectors(a.center,this.center).setLength(a.radius),this.expandByPoint(Pf.copy(a.center).add($h)),this.expandByPoint(Pf.copy(a.center).sub($h)));return this}equals(a){return a.center.equals(this.center)&&a.radius===this.radius}clone(){return(new this.constructor).copy(this)}}const zd=new aa,ai=new aa,Jg=new aa,Td=new aa,bi=new aa,Kg=new aa,ci=new aa;class Qf{constructor(a=new aa,b=new aa(0,0,-1)){this.origin=a;
this.direction=b}set(a,b){this.origin.copy(a);this.direction.copy(b);return this}copy(a){this.origin.copy(a.origin);this.direction.copy(a.direction);return this}at(a,b){return b.copy(this.origin).addScaledVector(this.direction,a)}lookAt(a){this.direction.copy(a).sub(this.origin).normalize();return this}recast(a){this.origin.copy(this.at(a,zd));return this}closestPointToPoint(a,b){b.subVectors(a,this.origin);a=b.dot(this.direction);return 0>a?b.copy(this.origin):b.copy(this.origin).addScaledVector(this.direction,
a)}distanceToPoint(a){return Math.sqrt(this.distanceSqToPoint(a))}distanceSqToPoint(a){const b=zd.subVectors(a,this.origin).dot(this.direction);if(0>b)return this.origin.distanceToSquared(a);zd.copy(this.origin).addScaledVector(this.direction,b);return zd.distanceToSquared(a)}distanceSqToSegment(a,b,d,l){ai.copy(a).add(b).multiplyScalar(.5);Jg.copy(b).sub(a).normalize();Td.copy(this.origin).sub(ai);var q=.5*a.distanceTo(b),y=-this.direction.dot(Jg);const A=Td.dot(this.direction),D=-Td.dot(Jg),F=Td.lengthSq(),
G=Math.abs(1-y*y);let M;0<G?(a=y*D-A,b=y*A-D,M=q*G,0<=a?b>=-M?b<=M?(q=1/G,a*=q,b*=q,y=a*(a+y*b+2*A)+b*(y*a+b+2*D)+F):(b=q,a=Math.max(0,-(y*b+A)),y=-a*a+b*(b+2*D)+F):(b=-q,a=Math.max(0,-(y*b+A)),y=-a*a+b*(b+2*D)+F):b<=-M?(a=Math.max(0,-(-y*q+A)),b=0<a?-q:Math.min(Math.max(-q,-D),q),y=-a*a+b*(b+2*D)+F):b<=M?(a=0,b=Math.min(Math.max(-q,-D),q),y=b*(b+2*D)+F):(a=Math.max(0,-(y*q+A)),b=0<a?q:Math.min(Math.max(-q,-D),q),y=-a*a+b*(b+2*D)+F)):(b=0<y?-q:q,a=Math.max(0,-(y*b+A)),y=-a*a+b*(b+2*D)+F);d&&d.copy(this.origin).addScaledVector(this.direction,
a);l&&l.copy(ai).addScaledVector(Jg,b);return y}intersectSphere(a,b){zd.subVectors(a.center,this.origin);var d=zd.dot(this.direction),l=zd.dot(zd)-d*d;a=a.radius*a.radius;if(l>a)return null;a=Math.sqrt(a-l);l=d-a;d+=a;return 0>d?null:0>l?this.at(d,b):this.at(l,b)}intersectsSphere(a){return this.distanceSqToPoint(a.center)<=a.radius*a.radius}distanceToPlane(a){const b=a.normal.dot(this.direction);if(0===b)return 0===a.distanceToPoint(this.origin)?0:null;a=-(this.origin.dot(a.normal)+a.constant)/b;
return 0<=a?a:null}intersectPlane(a,b){a=this.distanceToPlane(a);return null===a?null:this.at(a,b)}intersectsPlane(a){const b=a.distanceToPoint(this.origin);return 0===b||0>a.normal.dot(this.direction)*b?!0:!1}intersectBox(a,b){let d;var l=1/this.direction.x;var q=1/this.direction.y;const y=1/this.direction.z,A=this.origin;0<=l?(d=(a.min.x-A.x)*l,l*=a.max.x-A.x):(d=(a.max.x-A.x)*l,l*=a.min.x-A.x);if(0<=q){var D=(a.min.y-A.y)*q;q*=a.max.y-A.y}else D=(a.max.y-A.y)*q,q*=a.min.y-A.y;if(d>q||D>l)return null;
if(D>d||isNaN(d))d=D;if(q<l||isNaN(l))l=q;0<=y?(D=(a.min.z-A.z)*y,a=(a.max.z-A.z)*y):(D=(a.max.z-A.z)*y,a=(a.min.z-A.z)*y);if(d>a||D>l)return null;if(D>d||d!==d)d=D;if(a<l||l!==l)l=a;return 0>l?null:this.at(0<=d?d:l,b)}intersectsBox(a){return null!==this.intersectBox(a,zd)}intersectTriangle(a,b,d,l,q){bi.subVectors(b,a);Kg.subVectors(d,a);ci.crossVectors(bi,Kg);b=this.direction.dot(ci);if(0<b){if(l)return null;l=1}else if(0>b)l=-1,b=-b;else return null;Td.subVectors(this.origin,a);a=l*this.direction.dot(Kg.crossVectors(Td,
Kg));if(0>a)return null;d=l*this.direction.dot(bi.cross(Td));if(0>d||a+d>b)return null;a=-l*Td.dot(ci);return 0>a?null:this.at(a/b,q)}applyMatrix4(a){this.origin.applyMatrix4(a);this.direction.transformDirection(a);return this}equals(a){return a.origin.equals(this.origin)&&a.direction.equals(this.direction)}clone(){return(new this.constructor).copy(this)}}class Fb{constructor(){Fb.prototype.isMatrix4=!0;this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]}set(a,b,d,l,q,y,A,D,F,G,M,N,P,T,S,L){const U=this.elements;
U[0]=a;U[4]=b;U[8]=d;U[12]=l;U[1]=q;U[5]=y;U[9]=A;U[13]=D;U[2]=F;U[6]=G;U[10]=M;U[14]=N;U[3]=P;U[7]=T;U[11]=S;U[15]=L;return this}identity(){this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1);return this}clone(){return(new Fb).fromArray(this.elements)}copy(a){const b=this.elements;a=a.elements;b[0]=a[0];b[1]=a[1];b[2]=a[2];b[3]=a[3];b[4]=a[4];b[5]=a[5];b[6]=a[6];b[7]=a[7];b[8]=a[8];b[9]=a[9];b[10]=a[10];b[11]=a[11];b[12]=a[12];b[13]=a[13];b[14]=a[14];b[15]=a[15];return this}copyPosition(a){const b=this.elements;
a=a.elements;b[12]=a[12];b[13]=a[13];b[14]=a[14];return this}setFromMatrix3(a){a=a.elements;this.set(a[0],a[3],a[6],0,a[1],a[4],a[7],0,a[2],a[5],a[8],0,0,0,0,1);return this}extractBasis(a,b,d){a.setFromMatrixColumn(this,0);b.setFromMatrixColumn(this,1);d.setFromMatrixColumn(this,2);return this}makeBasis(a,b,d){this.set(a.x,b.x,d.x,0,a.y,b.y,d.y,0,a.z,b.z,d.z,0,0,0,0,1);return this}extractRotation(a){const b=this.elements,d=a.elements,l=1/Te.setFromMatrixColumn(a,0).length(),q=1/Te.setFromMatrixColumn(a,
1).length();a=1/Te.setFromMatrixColumn(a,2).length();b[0]=d[0]*l;b[1]=d[1]*l;b[2]=d[2]*l;b[3]=0;b[4]=d[4]*q;b[5]=d[5]*q;b[6]=d[6]*q;b[7]=0;b[8]=d[8]*a;b[9]=d[9]*a;b[10]=d[10]*a;b[11]=0;b[12]=0;b[13]=0;b[14]=0;b[15]=1;return this}makeRotationFromEuler(a){const b=this.elements;var d=a.x,l=a.y,q=a.z;const y=Math.cos(d);d=Math.sin(d);const A=Math.cos(l);l=Math.sin(l);const D=Math.cos(q);q=Math.sin(q);if("XYZ"===a.order){a=y*D;var F=y*q,G=d*D,M=d*q;b[0]=A*D;b[4]=-A*q;b[8]=l;b[1]=F+G*l;b[5]=a-M*l;b[9]=
-d*A;b[2]=M-a*l;b[6]=G+F*l;b[10]=y*A}else"YXZ"===a.order?(a=A*D,F=A*q,G=l*D,M=l*q,b[0]=a+M*d,b[4]=G*d-F,b[8]=y*l,b[1]=y*q,b[5]=y*D,b[9]=-d,b[2]=F*d-G,b[6]=M+a*d,b[10]=y*A):"ZXY"===a.order?(a=A*D,F=A*q,G=l*D,M=l*q,b[0]=a-M*d,b[4]=-y*q,b[8]=G+F*d,b[1]=F+G*d,b[5]=y*D,b[9]=M-a*d,b[2]=-y*l,b[6]=d,b[10]=y*A):"ZYX"===a.order?(a=y*D,F=y*q,G=d*D,M=d*q,b[0]=A*D,b[4]=G*l-F,b[8]=a*l+M,b[1]=A*q,b[5]=M*l+a,b[9]=F*l-G,b[2]=-l,b[6]=d*A,b[10]=y*A):"YZX"===a.order?(a=y*A,F=y*l,G=d*A,M=d*l,b[0]=A*D,b[4]=M-a*q,b[8]=
G*q+F,b[1]=q,b[5]=y*D,b[9]=-d*D,b[2]=-l*D,b[6]=F*q+G,b[10]=a-M*q):"XZY"===a.order&&(a=y*A,F=y*l,G=d*A,M=d*l,b[0]=A*D,b[4]=-q,b[8]=l*D,b[1]=a*q+M,b[5]=y*D,b[9]=F*q-G,b[2]=G*q-F,b[6]=d*D,b[10]=M*q+a);b[3]=0;b[7]=0;b[11]=0;b[12]=0;b[13]=0;b[14]=0;b[15]=1;return this}makeRotationFromQuaternion(a){return this.compose(fl,a,gl)}lookAt(a,b,d){const l=this.elements;Ic.subVectors(a,b);0===Ic.lengthSq()&&(Ic.z=1);Ic.normalize();Ud.crossVectors(d,Ic);0===Ud.lengthSq()&&(1===Math.abs(d.z)?Ic.x+=1E-4:Ic.z+=1E-4,
Ic.normalize(),Ud.crossVectors(d,Ic));Ud.normalize();Lg.crossVectors(Ic,Ud);l[0]=Ud.x;l[4]=Lg.x;l[8]=Ic.x;l[1]=Ud.y;l[5]=Lg.y;l[9]=Ic.y;l[2]=Ud.z;l[6]=Lg.z;l[10]=Ic.z;return this}multiply(a){return this.multiplyMatrices(this,a)}premultiply(a){return this.multiplyMatrices(a,this)}multiplyMatrices(a,b){var d=a.elements,l=b.elements;b=this.elements;a=d[0];const q=d[4],y=d[8],A=d[12],D=d[1],F=d[5],G=d[9],M=d[13],N=d[2],P=d[6],T=d[10],S=d[14],L=d[3],U=d[7],ma=d[11];d=d[15];const ba=l[0],na=l[4],sa=l[8],
ja=l[12],Ga=l[1],oa=l[5],wa=l[9],ya=l[13],xa=l[2],Va=l[6],La=l[10],Ra=l[14],Na=l[3],cb=l[7],ob=l[11];l=l[15];b[0]=a*ba+q*Ga+y*xa+A*Na;b[4]=a*na+q*oa+y*Va+A*cb;b[8]=a*sa+q*wa+y*La+A*ob;b[12]=a*ja+q*ya+y*Ra+A*l;b[1]=D*ba+F*Ga+G*xa+M*Na;b[5]=D*na+F*oa+G*Va+M*cb;b[9]=D*sa+F*wa+G*La+M*ob;b[13]=D*ja+F*ya+G*Ra+M*l;b[2]=N*ba+P*Ga+T*xa+S*Na;b[6]=N*na+P*oa+T*Va+S*cb;b[10]=N*sa+P*wa+T*La+S*ob;b[14]=N*ja+P*ya+T*Ra+S*l;b[3]=L*ba+U*Ga+ma*xa+d*Na;b[7]=L*na+U*oa+ma*Va+d*cb;b[11]=L*sa+U*wa+ma*La+d*ob;b[15]=L*ja+U*
ya+ma*Ra+d*l;return this}multiplyScalar(a){const b=this.elements;b[0]*=a;b[4]*=a;b[8]*=a;b[12]*=a;b[1]*=a;b[5]*=a;b[9]*=a;b[13]*=a;b[2]*=a;b[6]*=a;b[10]*=a;b[14]*=a;b[3]*=a;b[7]*=a;b[11]*=a;b[15]*=a;return this}determinant(){const a=this.elements,b=a[0],d=a[4],l=a[8],q=a[12],y=a[1],A=a[5],D=a[9],F=a[13],G=a[2],M=a[6],N=a[10],P=a[14];return a[3]*(+q*D*M-l*F*M-q*A*N+d*F*N+l*A*P-d*D*P)+a[7]*(+b*D*P-b*F*N+q*y*N-l*y*P+l*F*G-q*D*G)+a[11]*(+b*F*M-b*A*P-q*y*M+d*y*P+q*A*G-d*F*G)+a[15]*(-l*A*G-b*D*M+b*A*N+
l*y*M-d*y*N+d*D*G)}transpose(){const a=this.elements;let b;b=a[1];a[1]=a[4];a[4]=b;b=a[2];a[2]=a[8];a[8]=b;b=a[6];a[6]=a[9];a[9]=b;b=a[3];a[3]=a[12];a[12]=b;b=a[7];a[7]=a[13];a[13]=b;b=a[11];a[11]=a[14];a[14]=b;return this}setPosition(a,b,d){const l=this.elements;a.isVector3?(l[12]=a.x,l[13]=a.y,l[14]=a.z):(l[12]=a,l[13]=b,l[14]=d);return this}invert(){const a=this.elements,b=a[0],d=a[1],l=a[2],q=a[3],y=a[4],A=a[5],D=a[6],F=a[7],G=a[8],M=a[9],N=a[10],P=a[11],T=a[12],S=a[13],L=a[14],U=a[15],ma=M*L*
F-S*N*F+S*D*P-A*L*P-M*D*U+A*N*U,ba=T*N*F-G*L*F-T*D*P+y*L*P+G*D*U-y*N*U,na=G*S*F-T*M*F+T*A*P-y*S*P-G*A*U+y*M*U,sa=T*M*D-G*S*D-T*A*N+y*S*N+G*A*L-y*M*L;var ja=b*ma+d*ba+l*na+q*sa;if(0===ja)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);ja=1/ja;a[0]=ma*ja;a[1]=(S*N*q-M*L*q-S*l*P+d*L*P+M*l*U-d*N*U)*ja;a[2]=(A*L*q-S*D*q+S*l*F-d*L*F-A*l*U+d*D*U)*ja;a[3]=(M*D*q-A*N*q-M*l*F+d*N*F+A*l*P-d*D*P)*ja;a[4]=ba*ja;a[5]=(G*L*q-T*N*q+T*l*P-b*L*P-G*l*U+b*N*U)*ja;a[6]=(T*D*q-y*L*q-T*l*F+b*L*F+y*l*U-b*D*U)*ja;a[7]=(y*
N*q-G*D*q+G*l*F-b*N*F-y*l*P+b*D*P)*ja;a[8]=na*ja;a[9]=(T*M*q-G*S*q-T*d*P+b*S*P+G*d*U-b*M*U)*ja;a[10]=(y*S*q-T*A*q+T*d*F-b*S*F-y*d*U+b*A*U)*ja;a[11]=(G*A*q-y*M*q-G*d*F+b*M*F+y*d*P-b*A*P)*ja;a[12]=sa*ja;a[13]=(G*S*l-T*M*l+T*d*N-b*S*N-G*d*L+b*M*L)*ja;a[14]=(T*A*l-y*S*l-T*d*D+b*S*D+y*d*L-b*A*L)*ja;a[15]=(y*M*l-G*A*l+G*d*D-b*M*D-y*d*N+b*A*N)*ja;return this}scale(a){const b=this.elements,d=a.x,l=a.y;a=a.z;b[0]*=d;b[4]*=l;b[8]*=a;b[1]*=d;b[5]*=l;b[9]*=a;b[2]*=d;b[6]*=l;b[10]*=a;b[3]*=d;b[7]*=l;b[11]*=a;
return this}getMaxScaleOnAxis(){const a=this.elements;return Math.sqrt(Math.max(a[0]*a[0]+a[1]*a[1]+a[2]*a[2],a[4]*a[4]+a[5]*a[5]+a[6]*a[6],a[8]*a[8]+a[9]*a[9]+a[10]*a[10]))}makeTranslation(a,b,d){this.set(1,0,0,a,0,1,0,b,0,0,1,d,0,0,0,1);return this}makeRotationX(a){const b=Math.cos(a);a=Math.sin(a);this.set(1,0,0,0,0,b,-a,0,0,a,b,0,0,0,0,1);return this}makeRotationY(a){const b=Math.cos(a);a=Math.sin(a);this.set(b,0,a,0,0,1,0,0,-a,0,b,0,0,0,0,1);return this}makeRotationZ(a){const b=Math.cos(a);a=
Math.sin(a);this.set(b,-a,0,0,a,b,0,0,0,0,1,0,0,0,0,1);return this}makeRotationAxis(a,b){const d=Math.cos(b);b=Math.sin(b);const l=1-d,q=a.x,y=a.y;a=a.z;const A=l*q,D=l*y;this.set(A*q+d,A*y-b*a,A*a+b*y,0,A*y+b*a,D*y+d,D*a-b*q,0,A*a-b*y,D*a+b*q,l*a*a+d,0,0,0,0,1);return this}makeScale(a,b,d){this.set(a,0,0,0,0,b,0,0,0,0,d,0,0,0,0,1);return this}makeShear(a,b,d,l,q,y){this.set(1,d,q,0,a,1,y,0,b,l,1,0,0,0,0,1);return this}compose(a,b,d){const l=this.elements;var q=b._x,y=b._y,A=b._z,D=b._w,F=q+q,G=y+
y,M=A+A;b=q*F;const N=q*G;q*=M;const P=y*G;y*=M;A*=M;F*=D;G*=D;D*=M;M=d.x;const T=d.y;d=d.z;l[0]=(1-(P+A))*M;l[1]=(N+D)*M;l[2]=(q-G)*M;l[3]=0;l[4]=(N-D)*T;l[5]=(1-(b+A))*T;l[6]=(y+F)*T;l[7]=0;l[8]=(q+G)*d;l[9]=(y-F)*d;l[10]=(1-(b+P))*d;l[11]=0;l[12]=a.x;l[13]=a.y;l[14]=a.z;l[15]=1;return this}decompose(a,b,d){var l=this.elements;let q=Te.set(l[0],l[1],l[2]).length();const y=Te.set(l[4],l[5],l[6]).length(),A=Te.set(l[8],l[9],l[10]).length();0>this.determinant()&&(q=-q);a.x=l[12];a.y=l[13];a.z=l[14];
sc.copy(this);a=1/q;l=1/y;const D=1/A;sc.elements[0]*=a;sc.elements[1]*=a;sc.elements[2]*=a;sc.elements[4]*=l;sc.elements[5]*=l;sc.elements[6]*=l;sc.elements[8]*=D;sc.elements[9]*=D;sc.elements[10]*=D;b.setFromRotationMatrix(sc);d.x=q;d.y=y;d.z=A;return this}makePerspective(a,b,d,l,q,y){const A=this.elements;A[0]=2*q/(b-a);A[4]=0;A[8]=(b+a)/(b-a);A[12]=0;A[1]=0;A[5]=2*q/(d-l);A[9]=(d+l)/(d-l);A[13]=0;A[2]=0;A[6]=0;A[10]=-(y+q)/(y-q);A[14]=-2*y*q/(y-q);A[3]=0;A[7]=0;A[11]=-1;A[15]=0;return this}makeOrthographic(a,
b,d,l,q,y){const A=this.elements,D=1/(b-a),F=1/(d-l),G=1/(y-q);A[0]=2*D;A[4]=0;A[8]=0;A[12]=-((b+a)*D);A[1]=0;A[5]=2*F;A[9]=0;A[13]=-((d+l)*F);A[2]=0;A[6]=0;A[10]=-2*G;A[14]=-((y+q)*G);A[3]=0;A[7]=0;A[11]=0;A[15]=1;return this}equals(a){const b=this.elements;a=a.elements;for(let d=0;16>d;d++)if(b[d]!==a[d])return!1;return!0}fromArray(a,b=0){for(let d=0;16>d;d++)this.elements[d]=a[d+b];return this}toArray(a=[],b=0){const d=this.elements;a[b]=d[0];a[b+1]=d[1];a[b+2]=d[2];a[b+3]=d[3];a[b+4]=d[4];a[b+
5]=d[5];a[b+6]=d[6];a[b+7]=d[7];a[b+8]=d[8];a[b+9]=d[9];a[b+10]=d[10];a[b+11]=d[11];a[b+12]=d[12];a[b+13]=d[13];a[b+14]=d[14];a[b+15]=d[15];return a}}const Te=new aa,sc=new Fb,fl=new aa(0,0,0),gl=new aa(1,1,1),Ud=new aa,Lg=new aa,Ic=new aa,gj=new Fb,hj=new lb;class Mg{constructor(a=0,b=0,d=0,l=Mg.DEFAULT_ORDER){this.isEuler=!0;this._x=a;this._y=b;this._z=d;this._order=l}get x(){return this._x}set x(a){this._x=a;this._onChangeCallback()}get y(){return this._y}set y(a){this._y=a;this._onChangeCallback()}get z(){return this._z}set z(a){this._z=
a;this._onChangeCallback()}get order(){return this._order}set order(a){this._order=a;this._onChangeCallback()}set(a,b,d,l=this._order){this._x=a;this._y=b;this._z=d;this._order=l;this._onChangeCallback();return this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(a){this._x=a._x;this._y=a._y;this._z=a._z;this._order=a._order;this._onChangeCallback();return this}setFromRotationMatrix(a,b=this._order,d=!0){var l=a.elements;a=l[0];const q=l[4],y=l[8],A=l[1],D=l[5],F=l[9],
G=l[2],M=l[6];l=l[10];switch(b){case "XYZ":this._y=Math.asin(n(y,-1,1));.9999999>Math.abs(y)?(this._x=Math.atan2(-F,l),this._z=Math.atan2(-q,a)):(this._x=Math.atan2(M,D),this._z=0);break;case "YXZ":this._x=Math.asin(-n(F,-1,1));.9999999>Math.abs(F)?(this._y=Math.atan2(y,l),this._z=Math.atan2(A,D)):(this._y=Math.atan2(-G,a),this._z=0);break;case "ZXY":this._x=Math.asin(n(M,-1,1));.9999999>Math.abs(M)?(this._y=Math.atan2(-G,l),this._z=Math.atan2(-q,D)):(this._y=0,this._z=Math.atan2(A,a));break;case "ZYX":this._y=
Math.asin(-n(G,-1,1));.9999999>Math.abs(G)?(this._x=Math.atan2(M,l),this._z=Math.atan2(A,a)):(this._x=0,this._z=Math.atan2(-q,D));break;case "YZX":this._z=Math.asin(n(A,-1,1));.9999999>Math.abs(A)?(this._x=Math.atan2(-F,D),this._y=Math.atan2(-G,a)):(this._x=0,this._y=Math.atan2(y,l));break;case "XZY":this._z=Math.asin(-n(q,-1,1));.9999999>Math.abs(q)?(this._x=Math.atan2(M,D),this._y=Math.atan2(y,a)):(this._x=Math.atan2(-F,l),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+
b)}this._order=b;!0===d&&this._onChangeCallback();return this}setFromQuaternion(a,b,d){gj.makeRotationFromQuaternion(a);return this.setFromRotationMatrix(gj,b,d)}setFromVector3(a,b=this._order){return this.set(a.x,a.y,a.z,b)}reorder(a){hj.setFromEuler(this);return this.setFromQuaternion(hj,a)}equals(a){return a._x===this._x&&a._y===this._y&&a._z===this._z&&a._order===this._order}fromArray(a){this._x=a[0];this._y=a[1];this._z=a[2];void 0!==a[3]&&(this._order=a[3]);this._onChangeCallback();return this}toArray(a=
[],b=0){a[b]=this._x;a[b+1]=this._y;a[b+2]=this._z;a[b+3]=this._order;return a}_onChange(a){this._onChangeCallback=a;return this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x;yield this._y;yield this._z;yield this._order}}Mg.DEFAULT_ORDER="XYZ";class ng{constructor(){this.mask=1}set(a){this.mask=(1<<a|0)>>>0}enable(a){this.mask=this.mask|1<<a|0}enableAll(){this.mask=-1}toggle(a){this.mask^=1<<a|0}disable(a){this.mask&=~(1<<a|0)}disableAll(){this.mask=0}test(a){return 0!==(this.mask&a.mask)}isEnabled(a){return 0!==
(this.mask&(1<<a|0))}}let hl=0;const ij=new aa,Ue=new lb,Ad=new Fb,Ng=new aa,Rf=new aa,il=new aa,jl=new lb,jj=new aa(1,0,0),kj=new aa(0,1,0),lj=new aa(0,0,1),kl={type:"added"},mj={type:"removed"};class bc extends Uc{constructor(){super();this.isObject3D=!0;Object.defineProperty(this,"id",{value:hl++});this.uuid=p();this.name="";this.type="Object3D";this.parent=null;this.children=[];this.up=bc.DEFAULT_UP.clone();const a=new aa,b=new Mg,d=new lb,l=new aa(1,1,1);b._onChange(function(){d.setFromEuler(b,
!1)});d._onChange(function(){b.setFromQuaternion(d,void 0,!1)});Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:a},rotation:{configurable:!0,enumerable:!0,value:b},quaternion:{configurable:!0,enumerable:!0,value:d},scale:{configurable:!0,enumerable:!0,value:l},modelViewMatrix:{value:new Fb},normalMatrix:{value:new hb}});this.matrix=new Fb;this.matrixWorld=new Fb;this.matrixAutoUpdate=bc.DEFAULT_MATRIX_AUTO_UPDATE;this.matrixWorldNeedsUpdate=!1;this.matrixWorldAutoUpdate=
bc.DEFAULT_MATRIX_WORLD_AUTO_UPDATE;this.layers=new ng;this.visible=!0;this.receiveShadow=this.castShadow=!1;this.frustumCulled=!0;this.renderOrder=0;this.animations=[];this.userData={}}onBeforeRender(){}onAfterRender(){}applyMatrix4(a){this.matrixAutoUpdate&&this.updateMatrix();this.matrix.premultiply(a);this.matrix.decompose(this.position,this.quaternion,this.scale)}applyQuaternion(a){this.quaternion.premultiply(a);return this}setRotationFromAxisAngle(a,b){this.quaternion.setFromAxisAngle(a,b)}setRotationFromEuler(a){this.quaternion.setFromEuler(a,
!0)}setRotationFromMatrix(a){this.quaternion.setFromRotationMatrix(a)}setRotationFromQuaternion(a){this.quaternion.copy(a)}rotateOnAxis(a,b){Ue.setFromAxisAngle(a,b);this.quaternion.multiply(Ue);return this}rotateOnWorldAxis(a,b){Ue.setFromAxisAngle(a,b);this.quaternion.premultiply(Ue);return this}rotateX(a){return this.rotateOnAxis(jj,a)}rotateY(a){return this.rotateOnAxis(kj,a)}rotateZ(a){return this.rotateOnAxis(lj,a)}translateOnAxis(a,b){ij.copy(a).applyQuaternion(this.quaternion);this.position.add(ij.multiplyScalar(b));
return this}translateX(a){return this.translateOnAxis(jj,a)}translateY(a){return this.translateOnAxis(kj,a)}translateZ(a){return this.translateOnAxis(lj,a)}localToWorld(a){this.updateWorldMatrix(!0,!1);return a.applyMatrix4(this.matrixWorld)}worldToLocal(a){this.updateWorldMatrix(!0,!1);return a.applyMatrix4(Ad.copy(this.matrixWorld).invert())}lookAt(a,b,d){a.isVector3?Ng.copy(a):Ng.set(a,b,d);a=this.parent;this.updateWorldMatrix(!0,!1);Rf.setFromMatrixPosition(this.matrixWorld);this.isCamera||this.isLight?
Ad.lookAt(Rf,Ng,this.up):Ad.lookAt(Ng,Rf,this.up);this.quaternion.setFromRotationMatrix(Ad);a&&(Ad.extractRotation(a.matrixWorld),Ue.setFromRotationMatrix(Ad),this.quaternion.premultiply(Ue.invert()))}add(a){if(1<arguments.length){for(let b=0;b<arguments.length;b++)this.add(arguments[b]);return this}if(a===this)return console.error("THREE.Object3D.add: object can't be added as a child of itself.",a),this;a&&a.isObject3D?(null!==a.parent&&a.parent.remove(a),a.parent=this,this.children.push(a),a.dispatchEvent(kl)):
console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",a);return this}remove(a){if(1<arguments.length){for(var b=0;b<arguments.length;b++)this.remove(arguments[b]);return this}b=this.children.indexOf(a);-1!==b&&(a.parent=null,this.children.splice(b,1),a.dispatchEvent(mj));return this}removeFromParent(){const a=this.parent;null!==a&&a.remove(this);return this}clear(){for(let a=0;a<this.children.length;a++){const b=this.children[a];b.parent=null;b.dispatchEvent(mj)}this.children.length=
0;return this}attach(a){this.updateWorldMatrix(!0,!1);Ad.copy(this.matrixWorld).invert();null!==a.parent&&(a.parent.updateWorldMatrix(!0,!1),Ad.multiply(a.parent.matrixWorld));a.applyMatrix4(Ad);this.add(a);a.updateWorldMatrix(!1,!0);return this}getObjectById(a){return this.getObjectByProperty("id",a)}getObjectByName(a){return this.getObjectByProperty("name",a)}getObjectByProperty(a,b){if(this[a]===b)return this;for(let d=0,l=this.children.length;d<l;d++){const q=this.children[d].getObjectByProperty(a,
b);if(void 0!==q)return q}}getObjectsByProperty(a,b){let d=[];this[a]===b&&d.push(this);for(let l=0,q=this.children.length;l<q;l++){const y=this.children[l].getObjectsByProperty(a,b);0<y.length&&(d=d.concat(y))}return d}getWorldPosition(a){this.updateWorldMatrix(!0,!1);return a.setFromMatrixPosition(this.matrixWorld)}getWorldQuaternion(a){this.updateWorldMatrix(!0,!1);this.matrixWorld.decompose(Rf,a,il);return a}getWorldScale(a){this.updateWorldMatrix(!0,!1);this.matrixWorld.decompose(Rf,jl,a);return a}getWorldDirection(a){this.updateWorldMatrix(!0,
!1);const b=this.matrixWorld.elements;return a.set(b[8],b[9],b[10]).normalize()}raycast(){}traverse(a){a(this);const b=this.children;for(let d=0,l=b.length;d<l;d++)b[d].traverse(a)}traverseVisible(a){if(!1!==this.visible){a(this);var b=this.children;for(let d=0,l=b.length;d<l;d++)b[d].traverseVisible(a)}}traverseAncestors(a){const b=this.parent;null!==b&&(a(b),b.traverseAncestors(a))}updateMatrix(){this.matrix.compose(this.position,this.quaternion,this.scale);this.matrixWorldNeedsUpdate=!0}updateMatrixWorld(a){this.matrixAutoUpdate&&
this.updateMatrix();if(this.matrixWorldNeedsUpdate||a)null===this.parent?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),this.matrixWorldNeedsUpdate=!1,a=!0;const b=this.children;for(let d=0,l=b.length;d<l;d++){const q=b[d];!0!==q.matrixWorldAutoUpdate&&!0!==a||q.updateMatrixWorld(a)}}updateWorldMatrix(a,b){const d=this.parent;!0===a&&null!==d&&!0===d.matrixWorldAutoUpdate&&d.updateWorldMatrix(!0,!1);this.matrixAutoUpdate&&this.updateMatrix();
null===this.parent?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix);if(!0===b){a=this.children;for(let l=0,q=a.length;l<q;l++)b=a[l],!0===b.matrixWorldAutoUpdate&&b.updateWorldMatrix(!1,!0)}}toJSON(a){function b(D,F){void 0===D[F.uuid]&&(D[F.uuid]=F.toJSON(a));return F.uuid}function d(D){const F=[];for(const G in D){const M=D[G];delete M.metadata;F.push(M)}return F}var l=void 0===a||"string"===typeof a;const q={};l&&(a={geometries:{},materials:{},
textures:{},images:{},shapes:{},skeletons:{},animations:{},nodes:{}},q.metadata={version:4.5,type:"Object",generator:"Object3D.toJSON"});const y={};y.uuid=this.uuid;y.type=this.type;""!==this.name&&(y.name=this.name);!0===this.castShadow&&(y.castShadow=!0);!0===this.receiveShadow&&(y.receiveShadow=!0);!1===this.visible&&(y.visible=!1);!1===this.frustumCulled&&(y.frustumCulled=!1);0!==this.renderOrder&&(y.renderOrder=this.renderOrder);0<Object.keys(this.userData).length&&(y.userData=this.userData);
y.layers=this.layers.mask;y.matrix=this.matrix.toArray();!1===this.matrixAutoUpdate&&(y.matrixAutoUpdate=!1);this.isInstancedMesh&&(y.type="InstancedMesh",y.count=this.count,y.instanceMatrix=this.instanceMatrix.toJSON(),null!==this.instanceColor&&(y.instanceColor=this.instanceColor.toJSON()));if(this.isScene)this.background&&(this.background.isColor?y.background=this.background.toJSON():this.background.isTexture&&(y.background=this.background.toJSON(a).uuid)),this.environment&&this.environment.isTexture&&
!0!==this.environment.isRenderTargetTexture&&(y.environment=this.environment.toJSON(a).uuid);else if(this.isMesh||this.isLine||this.isPoints){y.geometry=b(a.geometries,this.geometry);var A=this.geometry.parameters;if(void 0!==A&&void 0!==A.shapes)if(A=A.shapes,Array.isArray(A))for(let D=0,F=A.length;D<F;D++)b(a.shapes,A[D]);else b(a.shapes,A)}this.isSkinnedMesh&&(y.bindMode=this.bindMode,y.bindMatrix=this.bindMatrix.toArray(),void 0!==this.skeleton&&(b(a.skeletons,this.skeleton),y.skeleton=this.skeleton.uuid));
if(void 0!==this.material)if(Array.isArray(this.material)){A=[];for(let D=0,F=this.material.length;D<F;D++)A.push(b(a.materials,this.material[D]));y.material=A}else y.material=b(a.materials,this.material);if(0<this.children.length)for(y.children=[],A=0;A<this.children.length;A++)y.children.push(this.children[A].toJSON(a).object);if(0<this.animations.length)for(y.animations=[],A=0;A<this.animations.length;A++)y.animations.push(b(a.animations,this.animations[A]));if(l){l=d(a.geometries);A=d(a.materials);
const D=d(a.textures),F=d(a.images),G=d(a.shapes),M=d(a.skeletons),N=d(a.animations),P=d(a.nodes);0<l.length&&(q.geometries=l);0<A.length&&(q.materials=A);0<D.length&&(q.textures=D);0<F.length&&(q.images=F);0<G.length&&(q.shapes=G);0<M.length&&(q.skeletons=M);0<N.length&&(q.animations=N);0<P.length&&(q.nodes=P)}q.object=y;return q}clone(a){return(new this.constructor).copy(this,a)}copy(a,b=!0){this.name=a.name;this.up.copy(a.up);this.position.copy(a.position);this.rotation.order=a.rotation.order;
this.quaternion.copy(a.quaternion);this.scale.copy(a.scale);this.matrix.copy(a.matrix);this.matrixWorld.copy(a.matrixWorld);this.matrixAutoUpdate=a.matrixAutoUpdate;this.matrixWorldNeedsUpdate=a.matrixWorldNeedsUpdate;this.matrixWorldAutoUpdate=a.matrixWorldAutoUpdate;this.layers.mask=a.layers.mask;this.visible=a.visible;this.castShadow=a.castShadow;this.receiveShadow=a.receiveShadow;this.frustumCulled=a.frustumCulled;this.renderOrder=a.renderOrder;this.userData=JSON.parse(JSON.stringify(a.userData));
if(!0===b)for(b=0;b<a.children.length;b++)this.add(a.children[b].clone());return this}}bc.DEFAULT_UP=new aa(0,1,0);bc.DEFAULT_MATRIX_AUTO_UPDATE=!0;bc.DEFAULT_MATRIX_WORLD_AUTO_UPDATE=!0;const cd=new aa,Bd=new aa,di=new aa,Cd=new aa,Ve=new aa,We=new aa,nj=new aa,ei=new aa,fi=new aa,gi=new aa;class Wc{constructor(a=new aa,b=new aa,d=new aa){this.a=a;this.b=b;this.c=d}static getNormal(a,b,d,l){l.subVectors(d,b);cd.subVectors(a,b);l.cross(cd);a=l.lengthSq();return 0<a?l.multiplyScalar(1/Math.sqrt(a)):
l.set(0,0,0)}static getBarycoord(a,b,d,l,q){cd.subVectors(l,b);Bd.subVectors(d,b);di.subVectors(a,b);a=cd.dot(cd);b=cd.dot(Bd);d=cd.dot(di);var y=Bd.dot(Bd);l=Bd.dot(di);var A=a*y-b*b;if(0===A)return q.set(-2,-1,-1);A=1/A;y=(y*d-b*l)*A;a=(a*l-b*d)*A;return q.set(1-y-a,a,y)}static containsPoint(a,b,d,l){this.getBarycoord(a,b,d,l,Cd);return 0<=Cd.x&&0<=Cd.y&&1>=Cd.x+Cd.y}static getUV(a,b,d,l,q,y,A,D){this.getBarycoord(a,b,d,l,Cd);D.set(0,0);D.addScaledVector(q,Cd.x);D.addScaledVector(y,Cd.y);D.addScaledVector(A,
Cd.z);return D}static isFrontFacing(a,b,d,l){cd.subVectors(d,b);Bd.subVectors(a,b);return 0>cd.cross(Bd).dot(l)?!0:!1}set(a,b,d){this.a.copy(a);this.b.copy(b);this.c.copy(d);return this}setFromPointsAndIndices(a,b,d,l){this.a.copy(a[b]);this.b.copy(a[d]);this.c.copy(a[l]);return this}setFromAttributeAndIndices(a,b,d,l){this.a.fromBufferAttribute(a,b);this.b.fromBufferAttribute(a,d);this.c.fromBufferAttribute(a,l);return this}clone(){return(new this.constructor).copy(this)}copy(a){this.a.copy(a.a);
this.b.copy(a.b);this.c.copy(a.c);return this}getArea(){cd.subVectors(this.c,this.b);Bd.subVectors(this.a,this.b);return.5*cd.cross(Bd).length()}getMidpoint(a){return a.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}getNormal(a){return Wc.getNormal(this.a,this.b,this.c,a)}getPlane(a){return a.setFromCoplanarPoints(this.a,this.b,this.c)}getBarycoord(a,b){return Wc.getBarycoord(a,this.a,this.b,this.c,b)}getUV(a,b,d,l,q){return Wc.getUV(a,this.a,this.b,this.c,b,d,l,q)}containsPoint(a){return Wc.containsPoint(a,
this.a,this.b,this.c)}isFrontFacing(a){return Wc.isFrontFacing(this.a,this.b,this.c,a)}intersectsBox(a){return a.intersectsTriangle(this)}closestPointToPoint(a,b){const d=this.a;var l=this.b,q=this.c;Ve.subVectors(l,d);We.subVectors(q,d);ei.subVectors(a,d);var y=Ve.dot(ei),A=We.dot(ei);if(0>=y&&0>=A)return b.copy(d);fi.subVectors(a,l);const D=Ve.dot(fi),F=We.dot(fi);if(0<=D&&F<=D)return b.copy(l);var G=y*F-D*A;if(0>=G&&0<=y&&0>=D)return l=y/(y-D),b.copy(d).addScaledVector(Ve,l);gi.subVectors(a,q);
a=Ve.dot(gi);const M=We.dot(gi);if(0<=M&&a<=M)return b.copy(q);y=a*A-y*M;if(0>=y&&0<=A&&0>=M)return G=A/(A-M),b.copy(d).addScaledVector(We,G);A=D*M-a*F;if(0>=A&&0<=F-D&&0<=a-M)return nj.subVectors(q,l),G=(F-D)/(F-D+(a-M)),b.copy(l).addScaledVector(nj,G);q=1/(A+y+G);l=y*q;G*=q;return b.copy(d).addScaledVector(Ve,l).addScaledVector(We,G)}equals(a){return a.a.equals(this.a)&&a.b.equals(this.b)&&a.c.equals(this.c)}}let ll=0;class Fc extends Uc{constructor(){super();this.isMaterial=!0;Object.defineProperty(this,
"id",{value:ll++});this.uuid=p();this.name="";this.type="Material";this.blending=1;this.side=0;this.vertexColors=!1;this.opacity=1;this.transparent=!1;this.blendSrc=204;this.blendDst=205;this.blendEquation=100;this.blendEquationAlpha=this.blendDstAlpha=this.blendSrcAlpha=null;this.depthFunc=3;this.depthWrite=this.depthTest=!0;this.stencilWriteMask=255;this.stencilFunc=519;this.stencilRef=0;this.stencilFuncMask=255;this.stencilZPass=this.stencilZFail=this.stencilFail=7680;this.stencilWrite=!1;this.clippingPlanes=
null;this.clipShadows=this.clipIntersection=!1;this.shadowSide=null;this.colorWrite=!0;this.precision=null;this.polygonOffset=!1;this.polygonOffsetUnits=this.polygonOffsetFactor=0;this.forceSinglePass=this.premultipliedAlpha=this.alphaToCoverage=this.dithering=!1;this.toneMapped=this.visible=!0;this.userData={};this._alphaTest=this.version=0}get alphaTest(){return this._alphaTest}set alphaTest(a){0<this._alphaTest!==0<a&&this.version++;this._alphaTest=a}onBuild(){}onBeforeRender(){}onBeforeCompile(){}customProgramCacheKey(){return this.onBeforeCompile.toString()}setValues(a){if(void 0!==
a)for(const b in a){const d=a[b];if(void 0===d){console.warn("THREE.Material: '"+b+"' parameter is undefined.");continue}const l=this[b];void 0===l?console.warn("THREE."+this.type+": '"+b+"' is not a property of this material."):l&&l.isColor?l.set(d):l&&l.isVector3&&d&&d.isVector3?l.copy(d):this[b]=d}}toJSON(a){function b(q){const y=[];for(const A in q){const D=q[A];delete D.metadata;y.push(D)}return y}var d=void 0===a||"string"===typeof a;d&&(a={textures:{},images:{}});const l={metadata:{version:4.5,
type:"Material",generator:"Material.toJSON"}};l.uuid=this.uuid;l.type=this.type;""!==this.name&&(l.name=this.name);this.color&&this.color.isColor&&(l.color=this.color.getHex());void 0!==this.roughness&&(l.roughness=this.roughness);void 0!==this.metalness&&(l.metalness=this.metalness);void 0!==this.sheen&&(l.sheen=this.sheen);this.sheenColor&&this.sheenColor.isColor&&(l.sheenColor=this.sheenColor.getHex());void 0!==this.sheenRoughness&&(l.sheenRoughness=this.sheenRoughness);this.emissive&&this.emissive.isColor&&
(l.emissive=this.emissive.getHex());this.emissiveIntensity&&1!==this.emissiveIntensity&&(l.emissiveIntensity=this.emissiveIntensity);this.specular&&this.specular.isColor&&(l.specular=this.specular.getHex());void 0!==this.specularIntensity&&(l.specularIntensity=this.specularIntensity);this.specularColor&&this.specularColor.isColor&&(l.specularColor=this.specularColor.getHex());void 0!==this.shininess&&(l.shininess=this.shininess);void 0!==this.clearcoat&&(l.clearcoat=this.clearcoat);void 0!==this.clearcoatRoughness&&
(l.clearcoatRoughness=this.clearcoatRoughness);this.clearcoatMap&&this.clearcoatMap.isTexture&&(l.clearcoatMap=this.clearcoatMap.toJSON(a).uuid);this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(l.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(a).uuid);this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(l.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(a).uuid,l.clearcoatNormalScale=this.clearcoatNormalScale.toArray());void 0!==this.iridescence&&(l.iridescence=
this.iridescence);void 0!==this.iridescenceIOR&&(l.iridescenceIOR=this.iridescenceIOR);void 0!==this.iridescenceThicknessRange&&(l.iridescenceThicknessRange=this.iridescenceThicknessRange);this.iridescenceMap&&this.iridescenceMap.isTexture&&(l.iridescenceMap=this.iridescenceMap.toJSON(a).uuid);this.iridescenceThicknessMap&&this.iridescenceThicknessMap.isTexture&&(l.iridescenceThicknessMap=this.iridescenceThicknessMap.toJSON(a).uuid);this.map&&this.map.isTexture&&(l.map=this.map.toJSON(a).uuid);this.matcap&&
this.matcap.isTexture&&(l.matcap=this.matcap.toJSON(a).uuid);this.alphaMap&&this.alphaMap.isTexture&&(l.alphaMap=this.alphaMap.toJSON(a).uuid);this.lightMap&&this.lightMap.isTexture&&(l.lightMap=this.lightMap.toJSON(a).uuid,l.lightMapIntensity=this.lightMapIntensity);this.aoMap&&this.aoMap.isTexture&&(l.aoMap=this.aoMap.toJSON(a).uuid,l.aoMapIntensity=this.aoMapIntensity);this.bumpMap&&this.bumpMap.isTexture&&(l.bumpMap=this.bumpMap.toJSON(a).uuid,l.bumpScale=this.bumpScale);this.normalMap&&this.normalMap.isTexture&&
(l.normalMap=this.normalMap.toJSON(a).uuid,l.normalMapType=this.normalMapType,l.normalScale=this.normalScale.toArray());this.displacementMap&&this.displacementMap.isTexture&&(l.displacementMap=this.displacementMap.toJSON(a).uuid,l.displacementScale=this.displacementScale,l.displacementBias=this.displacementBias);this.roughnessMap&&this.roughnessMap.isTexture&&(l.roughnessMap=this.roughnessMap.toJSON(a).uuid);this.metalnessMap&&this.metalnessMap.isTexture&&(l.metalnessMap=this.metalnessMap.toJSON(a).uuid);
this.emissiveMap&&this.emissiveMap.isTexture&&(l.emissiveMap=this.emissiveMap.toJSON(a).uuid);this.specularMap&&this.specularMap.isTexture&&(l.specularMap=this.specularMap.toJSON(a).uuid);this.specularIntensityMap&&this.specularIntensityMap.isTexture&&(l.specularIntensityMap=this.specularIntensityMap.toJSON(a).uuid);this.specularColorMap&&this.specularColorMap.isTexture&&(l.specularColorMap=this.specularColorMap.toJSON(a).uuid);this.envMap&&this.envMap.isTexture&&(l.envMap=this.envMap.toJSON(a).uuid,
void 0!==this.combine&&(l.combine=this.combine));void 0!==this.envMapIntensity&&(l.envMapIntensity=this.envMapIntensity);void 0!==this.reflectivity&&(l.reflectivity=this.reflectivity);void 0!==this.refractionRatio&&(l.refractionRatio=this.refractionRatio);this.gradientMap&&this.gradientMap.isTexture&&(l.gradientMap=this.gradientMap.toJSON(a).uuid);void 0!==this.transmission&&(l.transmission=this.transmission);this.transmissionMap&&this.transmissionMap.isTexture&&(l.transmissionMap=this.transmissionMap.toJSON(a).uuid);
void 0!==this.thickness&&(l.thickness=this.thickness);this.thicknessMap&&this.thicknessMap.isTexture&&(l.thicknessMap=this.thicknessMap.toJSON(a).uuid);void 0!==this.attenuationDistance&&Infinity!==this.attenuationDistance&&(l.attenuationDistance=this.attenuationDistance);void 0!==this.attenuationColor&&(l.attenuationColor=this.attenuationColor.getHex());void 0!==this.size&&(l.size=this.size);null!==this.shadowSide&&(l.shadowSide=this.shadowSide);void 0!==this.sizeAttenuation&&(l.sizeAttenuation=
this.sizeAttenuation);1!==this.blending&&(l.blending=this.blending);0!==this.side&&(l.side=this.side);this.vertexColors&&(l.vertexColors=!0);1>this.opacity&&(l.opacity=this.opacity);!0===this.transparent&&(l.transparent=this.transparent);l.depthFunc=this.depthFunc;l.depthTest=this.depthTest;l.depthWrite=this.depthWrite;l.colorWrite=this.colorWrite;l.stencilWrite=this.stencilWrite;l.stencilWriteMask=this.stencilWriteMask;l.stencilFunc=this.stencilFunc;l.stencilRef=this.stencilRef;l.stencilFuncMask=
this.stencilFuncMask;l.stencilFail=this.stencilFail;l.stencilZFail=this.stencilZFail;l.stencilZPass=this.stencilZPass;void 0!==this.rotation&&0!==this.rotation&&(l.rotation=this.rotation);!0===this.polygonOffset&&(l.polygonOffset=!0);0!==this.polygonOffsetFactor&&(l.polygonOffsetFactor=this.polygonOffsetFactor);0!==this.polygonOffsetUnits&&(l.polygonOffsetUnits=this.polygonOffsetUnits);void 0!==this.linewidth&&1!==this.linewidth&&(l.linewidth=this.linewidth);void 0!==this.dashSize&&(l.dashSize=this.dashSize);
void 0!==this.gapSize&&(l.gapSize=this.gapSize);void 0!==this.scale&&(l.scale=this.scale);!0===this.dithering&&(l.dithering=!0);0<this.alphaTest&&(l.alphaTest=this.alphaTest);!0===this.alphaToCoverage&&(l.alphaToCoverage=this.alphaToCoverage);!0===this.premultipliedAlpha&&(l.premultipliedAlpha=this.premultipliedAlpha);!0===this.forceSinglePass&&(l.forceSinglePass=this.forceSinglePass);!0===this.wireframe&&(l.wireframe=this.wireframe);1<this.wireframeLinewidth&&(l.wireframeLinewidth=this.wireframeLinewidth);
"round"!==this.wireframeLinecap&&(l.wireframeLinecap=this.wireframeLinecap);"round"!==this.wireframeLinejoin&&(l.wireframeLinejoin=this.wireframeLinejoin);!0===this.flatShading&&(l.flatShading=this.flatShading);!1===this.visible&&(l.visible=!1);!1===this.toneMapped&&(l.toneMapped=!1);!1===this.fog&&(l.fog=!1);0<Object.keys(this.userData).length&&(l.userData=this.userData);d&&(d=b(a.textures),a=b(a.images),0<d.length&&(l.textures=d),0<a.length&&(l.images=a));return l}clone(){return(new this.constructor).copy(this)}copy(a){this.name=
a.name;this.blending=a.blending;this.side=a.side;this.vertexColors=a.vertexColors;this.opacity=a.opacity;this.transparent=a.transparent;this.blendSrc=a.blendSrc;this.blendDst=a.blendDst;this.blendEquation=a.blendEquation;this.blendSrcAlpha=a.blendSrcAlpha;this.blendDstAlpha=a.blendDstAlpha;this.blendEquationAlpha=a.blendEquationAlpha;this.depthFunc=a.depthFunc;this.depthTest=a.depthTest;this.depthWrite=a.depthWrite;this.stencilWriteMask=a.stencilWriteMask;this.stencilFunc=a.stencilFunc;this.stencilRef=
a.stencilRef;this.stencilFuncMask=a.stencilFuncMask;this.stencilFail=a.stencilFail;this.stencilZFail=a.stencilZFail;this.stencilZPass=a.stencilZPass;this.stencilWrite=a.stencilWrite;const b=a.clippingPlanes;let d=null;if(null!==b){const l=b.length;d=Array(l);for(let q=0;q!==l;++q)d[q]=b[q].clone()}this.clippingPlanes=d;this.clipIntersection=a.clipIntersection;this.clipShadows=a.clipShadows;this.shadowSide=a.shadowSide;this.colorWrite=a.colorWrite;this.precision=a.precision;this.polygonOffset=a.polygonOffset;
this.polygonOffsetFactor=a.polygonOffsetFactor;this.polygonOffsetUnits=a.polygonOffsetUnits;this.dithering=a.dithering;this.alphaTest=a.alphaTest;this.alphaToCoverage=a.alphaToCoverage;this.premultipliedAlpha=a.premultipliedAlpha;this.forceSinglePass=a.forceSinglePass;this.visible=a.visible;this.toneMapped=a.toneMapped;this.userData=JSON.parse(JSON.stringify(a.userData));return this}dispose(){this.dispatchEvent({type:"dispose"})}set needsUpdate(a){!0===a&&this.version++}}const oj={aliceblue:15792383,
antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,
darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,
indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,
magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,
palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,
turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},Mc={h:0,s:0,l:0},Og={h:0,s:0,l:0};class gb{constructor(a,b,d){this.isColor=!0;this.b=this.g=this.r=1;return void 0===b&&void 0===d?this.set(a):this.setRGB(a,b,d)}set(a){a&&a.isColor?this.copy(a):"number"===typeof a?this.setHex(a):"string"===typeof a&&this.setStyle(a);return this}setScalar(a){this.b=this.g=this.r=a;return this}setHex(a,b="srgb"){a=Math.floor(a);this.r=(a>>16&255)/
255;this.g=(a>>8&255)/255;this.b=(a&255)/255;Ec.toWorkingColorSpace(this,b);return this}setRGB(a,b,d,l=Ec.workingColorSpace){this.r=a;this.g=b;this.b=d;Ec.toWorkingColorSpace(this,l);return this}setHSL(a,b,d,l=Ec.workingColorSpace){a=c(a,1);b=n(b,0,1);d=n(d,0,1);0===b?this.r=this.g=this.b=d:(b=.5>=d?d*(1+b):d+b-d*b,d=2*d-b,this.r=H(d,b,a+1/3),this.g=H(d,b,a),this.b=H(d,b,a-1/3));Ec.toWorkingColorSpace(this,l);return this}setStyle(a,b="srgb"){function d(y){void 0!==y&&1>parseFloat(y)&&console.warn("THREE.Color: Alpha component of "+
a+" will be ignored.")}var l;if(l=/^(\w+)\(([^\)]*)\)/.exec(a)){var q=l[2];switch(l[1]){case "rgb":case "rgba":if(l=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(q)){this.r=Math.min(255,parseInt(l[1],10))/255;this.g=Math.min(255,parseInt(l[2],10))/255;this.b=Math.min(255,parseInt(l[3],10))/255;Ec.toWorkingColorSpace(this,b);d(l[4]);break}if(l=/^\s*(\d+)%\s*,\s*(\d+)%\s*,\s*(\d+)%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(q))this.r=Math.min(100,parseInt(l[1],10))/100,this.g=Math.min(100,
parseInt(l[2],10))/100,this.b=Math.min(100,parseInt(l[3],10))/100,Ec.toWorkingColorSpace(this,b),d(l[4]);break;case "hsl":case "hsla":if(l=/^\s*(\d*\.?\d+)\s*,\s*(\d*\.?\d+)%\s*,\s*(\d*\.?\d+)%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(q)){q=parseFloat(l[1])/360;const y=parseFloat(l[2])/100,A=parseFloat(l[3])/100;d(l[4]);return this.setHSL(q,y,A,b)}break;default:console.warn("THREE.Color: Unknown color model "+a)}}else if(l=/^#([A-Fa-f\d]+)$/.exec(a))l=l[1],q=l.length,3===q?(this.r=parseInt(l.charAt(0)+l.charAt(0),
16)/255,this.g=parseInt(l.charAt(1)+l.charAt(1),16)/255,this.b=parseInt(l.charAt(2)+l.charAt(2),16)/255,Ec.toWorkingColorSpace(this,b)):6===q?(this.r=parseInt(l.charAt(0)+l.charAt(1),16)/255,this.g=parseInt(l.charAt(2)+l.charAt(3),16)/255,this.b=parseInt(l.charAt(4)+l.charAt(5),16)/255,Ec.toWorkingColorSpace(this,b)):console.warn("THREE.Color: Invalid hex color "+a);else if(a&&0<a.length)return this.setColorName(a,b);return this}setColorName(a,b="srgb"){const d=oj[a.toLowerCase()];void 0!==d?this.setHex(d,
b):console.warn("THREE.Color: Unknown color "+a);return this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(a){this.r=a.r;this.g=a.g;this.b=a.b;return this}copySRGBToLinear(a){this.r=x(a.r);this.g=x(a.g);this.b=x(a.b);return this}copyLinearToSRGB(a){this.r=B(a.r);this.g=B(a.g);this.b=B(a.b);return this}convertSRGBToLinear(){this.copySRGBToLinear(this);return this}convertLinearToSRGB(){this.copyLinearToSRGB(this);return this}getHex(a="srgb"){Ec.fromWorkingColorSpace(Gc.copy(this),a);
return n(255*Gc.r,0,255)<<16^n(255*Gc.g,0,255)<<8^n(255*Gc.b,0,255)<<0}getHexString(a="srgb"){return("000000"+this.getHex(a).toString(16)).slice(-6)}getHSL(a,b=Ec.workingColorSpace){Ec.fromWorkingColorSpace(Gc.copy(this),b);b=Gc.r;const d=Gc.g,l=Gc.b,q=Math.max(b,d,l);var y=Math.min(b,d,l);let A;const D=(y+q)/2;if(y===q)y=A=0;else{const F=q-y;y=.5>=D?F/(q+y):F/(2-q-y);switch(q){case b:A=(d-l)/F+(d<l?6:0);break;case d:A=(l-b)/F+2;break;case l:A=(b-d)/F+4}A/=6}a.h=A;a.s=y;a.l=D;return a}getRGB(a,b=
Ec.workingColorSpace){Ec.fromWorkingColorSpace(Gc.copy(this),b);a.r=Gc.r;a.g=Gc.g;a.b=Gc.b;return a}getStyle(a="srgb"){Ec.fromWorkingColorSpace(Gc.copy(this),a);const b=Gc.r,d=Gc.g,l=Gc.b;return"srgb"!==a?`color(${a} ${b.toFixed(3)} ${d.toFixed(3)} ${l.toFixed(3)})`:`rgb(${255*b|0},${255*d|0},${255*l|0})`}offsetHSL(a,b,d){this.getHSL(Mc);Mc.h+=a;Mc.s+=b;Mc.l+=d;this.setHSL(Mc.h,Mc.s,Mc.l);return this}add(a){this.r+=a.r;this.g+=a.g;this.b+=a.b;return this}addColors(a,b){this.r=a.r+b.r;this.g=a.g+b.g;
this.b=a.b+b.b;return this}addScalar(a){this.r+=a;this.g+=a;this.b+=a;return this}sub(a){this.r=Math.max(0,this.r-a.r);this.g=Math.max(0,this.g-a.g);this.b=Math.max(0,this.b-a.b);return this}multiply(a){this.r*=a.r;this.g*=a.g;this.b*=a.b;return this}multiplyScalar(a){this.r*=a;this.g*=a;this.b*=a;return this}lerp(a,b){this.r+=(a.r-this.r)*b;this.g+=(a.g-this.g)*b;this.b+=(a.b-this.b)*b;return this}lerpColors(a,b,d){this.r=a.r+(b.r-a.r)*d;this.g=a.g+(b.g-a.g)*d;this.b=a.b+(b.b-a.b)*d;return this}lerpHSL(a,
b){this.getHSL(Mc);a.getHSL(Og);a=e(Mc.h,Og.h,b);const d=e(Mc.s,Og.s,b);b=e(Mc.l,Og.l,b);this.setHSL(a,d,b);return this}equals(a){return a.r===this.r&&a.g===this.g&&a.b===this.b}fromArray(a,b=0){this.r=a[b];this.g=a[b+1];this.b=a[b+2];return this}toArray(a=[],b=0){a[b]=this.r;a[b+1]=this.g;a[b+2]=this.b;return a}fromBufferAttribute(a,b){this.r=a.getX(b);this.g=a.getY(b);this.b=a.getZ(b);return this}toJSON(){return this.getHex()}*[Symbol.iterator](){yield this.r;yield this.g;yield this.b}}const Gc=
new gb;gb.NAMES=oj;class Vd extends Fc{constructor(a){super();this.isMeshBasicMaterial=!0;this.type="MeshBasicMaterial";this.color=new gb(16777215);this.lightMap=this.map=null;this.lightMapIntensity=1;this.aoMap=null;this.aoMapIntensity=1;this.envMap=this.alphaMap=this.specularMap=null;this.combine=0;this.reflectivity=1;this.refractionRatio=.98;this.wireframe=!1;this.wireframeLinewidth=1;this.wireframeLinejoin=this.wireframeLinecap="round";this.fog=!0;this.setValues(a)}copy(a){super.copy(a);this.color.copy(a.color);
this.map=a.map;this.lightMap=a.lightMap;this.lightMapIntensity=a.lightMapIntensity;this.aoMap=a.aoMap;this.aoMapIntensity=a.aoMapIntensity;this.specularMap=a.specularMap;this.alphaMap=a.alphaMap;this.envMap=a.envMap;this.combine=a.combine;this.reflectivity=a.reflectivity;this.refractionRatio=a.refractionRatio;this.wireframe=a.wireframe;this.wireframeLinewidth=a.wireframeLinewidth;this.wireframeLinecap=a.wireframeLinecap;this.wireframeLinejoin=a.wireframeLinejoin;this.fog=a.fog;return this}}const tc=
new aa,Pg=new za;class fc{constructor(a,b,d=!1){if(Array.isArray(a))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.isBufferAttribute=!0;this.name="";this.array=a;this.itemSize=b;this.count=void 0!==a?a.length/b:0;this.normalized=d;this.usage=35044;this.updateRange={offset:0,count:-1};this.version=0}onUploadCallback(){}set needsUpdate(a){!0===a&&this.version++}setUsage(a){this.usage=a;return this}copy(a){this.name=a.name;this.array=new a.array.constructor(a.array);
this.itemSize=a.itemSize;this.count=a.count;this.normalized=a.normalized;this.usage=a.usage;return this}copyAt(a,b,d){a*=this.itemSize;d*=b.itemSize;for(let l=0,q=this.itemSize;l<q;l++)this.array[a+l]=b.array[d+l];return this}copyArray(a){this.array.set(a);return this}applyMatrix3(a){if(2===this.itemSize)for(let b=0,d=this.count;b<d;b++)Pg.fromBufferAttribute(this,b),Pg.applyMatrix3(a),this.setXY(b,Pg.x,Pg.y);else if(3===this.itemSize)for(let b=0,d=this.count;b<d;b++)tc.fromBufferAttribute(this,b),
tc.applyMatrix3(a),this.setXYZ(b,tc.x,tc.y,tc.z);return this}applyMatrix4(a){for(let b=0,d=this.count;b<d;b++)tc.fromBufferAttribute(this,b),tc.applyMatrix4(a),this.setXYZ(b,tc.x,tc.y,tc.z);return this}applyNormalMatrix(a){for(let b=0,d=this.count;b<d;b++)tc.fromBufferAttribute(this,b),tc.applyNormalMatrix(a),this.setXYZ(b,tc.x,tc.y,tc.z);return this}transformDirection(a){for(let b=0,d=this.count;b<d;b++)tc.fromBufferAttribute(this,b),tc.transformDirection(a),this.setXYZ(b,tc.x,tc.y,tc.z);return this}set(a,
b=0){this.array.set(a,b);return this}getX(a){a=this.array[a*this.itemSize];this.normalized&&(a=g(a,this.array));return a}setX(a,b){this.normalized&&(b=r(b,this.array));this.array[a*this.itemSize]=b;return this}getY(a){a=this.array[a*this.itemSize+1];this.normalized&&(a=g(a,this.array));return a}setY(a,b){this.normalized&&(b=r(b,this.array));this.array[a*this.itemSize+1]=b;return this}getZ(a){a=this.array[a*this.itemSize+2];this.normalized&&(a=g(a,this.array));return a}setZ(a,b){this.normalized&&(b=
r(b,this.array));this.array[a*this.itemSize+2]=b;return this}getW(a){a=this.array[a*this.itemSize+3];this.normalized&&(a=g(a,this.array));return a}setW(a,b){this.normalized&&(b=r(b,this.array));this.array[a*this.itemSize+3]=b;return this}setXY(a,b,d){a*=this.itemSize;this.normalized&&(b=r(b,this.array),d=r(d,this.array));this.array[a+0]=b;this.array[a+1]=d;return this}setXYZ(a,b,d,l){a*=this.itemSize;this.normalized&&(b=r(b,this.array),d=r(d,this.array),l=r(l,this.array));this.array[a+0]=b;this.array[a+
1]=d;this.array[a+2]=l;return this}setXYZW(a,b,d,l,q){a*=this.itemSize;this.normalized&&(b=r(b,this.array),d=r(d,this.array),l=r(l,this.array),q=r(q,this.array));this.array[a+0]=b;this.array[a+1]=d;this.array[a+2]=l;this.array[a+3]=q;return this}onUpload(a){this.onUploadCallback=a;return this}clone(){return(new this.constructor(this.array,this.itemSize)).copy(this)}toJSON(){const a={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.from(this.array),normalized:this.normalized};""!==
this.name&&(a.name=this.name);35044!==this.usage&&(a.usage=this.usage);if(0!==this.updateRange.offset||-1!==this.updateRange.count)a.updateRange=this.updateRange;return a}copyColorsArray(){console.error("THREE.BufferAttribute: copyColorsArray() was removed in r144.")}copyVector2sArray(){console.error("THREE.BufferAttribute: copyVector2sArray() was removed in r144.")}copyVector3sArray(){console.error("THREE.BufferAttribute: copyVector3sArray() was removed in r144.")}copyVector4sArray(){console.error("THREE.BufferAttribute: copyVector4sArray() was removed in r144.")}}
class ml extends fc{constructor(a,b,d){super(new Int8Array(a),b,d)}}class nl extends fc{constructor(a,b,d){super(new Uint8Array(a),b,d)}}class ol extends fc{constructor(a,b,d){super(new Uint8ClampedArray(a),b,d)}}class pl extends fc{constructor(a,b,d){super(new Int16Array(a),b,d)}}class Dh extends fc{constructor(a,b,d){super(new Uint16Array(a),b,d)}}class ql extends fc{constructor(a,b,d){super(new Int32Array(a),b,d)}}class Ch extends fc{constructor(a,b,d){super(new Uint32Array(a),b,d)}}class rl extends fc{constructor(a,
b,d){super(new Uint16Array(a),b,d);this.isFloat16BufferAttribute=!0}}class pb extends fc{constructor(a,b,d){super(new Float32Array(a),b,d)}}class sl extends fc{constructor(a,b,d){super(new Float64Array(a),b,d)}}let tl=0;const Vc=new Fb,hi=new bc,Xe=new aa,Sc=new pe,Sf=new pe,wc=new aa;class Kb extends Uc{constructor(){super();this.isBufferGeometry=!0;Object.defineProperty(this,"id",{value:tl++});this.uuid=p();this.name="";this.type="BufferGeometry";this.index=null;this.attributes={};this.morphAttributes=
{};this.morphTargetsRelative=!1;this.groups=[];this.boundingSphere=this.boundingBox=null;this.drawRange={start:0,count:Infinity};this.userData={}}getIndex(){return this.index}setIndex(a){Array.isArray(a)?this.index=new (u(a)?Ch:Dh)(a,1):this.index=a;return this}getAttribute(a){return this.attributes[a]}setAttribute(a,b){this.attributes[a]=b;return this}deleteAttribute(a){delete this.attributes[a];return this}hasAttribute(a){return void 0!==this.attributes[a]}addGroup(a,b,d=0){this.groups.push({start:a,
count:b,materialIndex:d})}clearGroups(){this.groups=[]}setDrawRange(a,b){this.drawRange.start=a;this.drawRange.count=b}applyMatrix4(a){var b=this.attributes.position;void 0!==b&&(b.applyMatrix4(a),b.needsUpdate=!0);b=this.attributes.normal;if(void 0!==b){const d=(new hb).getNormalMatrix(a);b.applyNormalMatrix(d);b.needsUpdate=!0}b=this.attributes.tangent;void 0!==b&&(b.transformDirection(a),b.needsUpdate=!0);null!==this.boundingBox&&this.computeBoundingBox();null!==this.boundingSphere&&this.computeBoundingSphere();
return this}applyQuaternion(a){Vc.makeRotationFromQuaternion(a);this.applyMatrix4(Vc);return this}rotateX(a){Vc.makeRotationX(a);this.applyMatrix4(Vc);return this}rotateY(a){Vc.makeRotationY(a);this.applyMatrix4(Vc);return this}rotateZ(a){Vc.makeRotationZ(a);this.applyMatrix4(Vc);return this}translate(a,b,d){Vc.makeTranslation(a,b,d);this.applyMatrix4(Vc);return this}scale(a,b,d){Vc.makeScale(a,b,d);this.applyMatrix4(Vc);return this}lookAt(a){hi.lookAt(a);hi.updateMatrix();this.applyMatrix4(hi.matrix);
return this}center(){this.computeBoundingBox();this.boundingBox.getCenter(Xe).negate();this.translate(Xe.x,Xe.y,Xe.z);return this}setFromPoints(a){const b=[];for(let d=0,l=a.length;d<l;d++){const q=a[d];b.push(q.x,q.y,q.z||0)}this.setAttribute("position",new pb(b,3));return this}computeBoundingBox(){null===this.boundingBox&&(this.boundingBox=new pe);const a=this.attributes.position,b=this.morphAttributes.position;if(a&&a.isGLBufferAttribute)console.error('THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box. Alternatively set "mesh.frustumCulled" to "false".',
this),this.boundingBox.set(new aa(-Infinity,-Infinity,-Infinity),new aa(Infinity,Infinity,Infinity));else{if(void 0!==a){if(this.boundingBox.setFromBufferAttribute(a),b)for(let d=0,l=b.length;d<l;d++)Sc.setFromBufferAttribute(b[d]),this.morphTargetsRelative?(wc.addVectors(this.boundingBox.min,Sc.min),this.boundingBox.expandByPoint(wc),wc.addVectors(this.boundingBox.max,Sc.max),this.boundingBox.expandByPoint(wc)):(this.boundingBox.expandByPoint(Sc.min),this.boundingBox.expandByPoint(Sc.max))}else this.boundingBox.makeEmpty();
(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}}computeBoundingSphere(){null===this.boundingSphere&&(this.boundingSphere=new se);const a=this.attributes.position,b=this.morphAttributes.position;if(a&&a.isGLBufferAttribute)console.error('THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere. Alternatively set "mesh.frustumCulled" to "false".',
this),this.boundingSphere.set(new aa,Infinity);else if(a){const d=this.boundingSphere.center;Sc.setFromBufferAttribute(a);if(b)for(let q=0,y=b.length;q<y;q++)Sf.setFromBufferAttribute(b[q]),this.morphTargetsRelative?(wc.addVectors(Sc.min,Sf.min),Sc.expandByPoint(wc),wc.addVectors(Sc.max,Sf.max),Sc.expandByPoint(wc)):(Sc.expandByPoint(Sf.min),Sc.expandByPoint(Sf.max));Sc.getCenter(d);let l=0;for(let q=0,y=a.count;q<y;q++)wc.fromBufferAttribute(a,q),l=Math.max(l,d.distanceToSquared(wc));if(b)for(let q=
0,y=b.length;q<y;q++){const A=b[q],D=this.morphTargetsRelative;for(let F=0,G=A.count;F<G;F++)wc.fromBufferAttribute(A,F),D&&(Xe.fromBufferAttribute(a,F),wc.add(Xe)),l=Math.max(l,d.distanceToSquared(wc))}this.boundingSphere.radius=Math.sqrt(l);isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}computeTangents(){function a(wa,ya,xa){N.fromArray(q,3*wa);P.fromArray(q,3*
ya);T.fromArray(q,3*xa);S.fromArray(A,2*wa);L.fromArray(A,2*ya);U.fromArray(A,2*xa);P.sub(N);T.sub(N);L.sub(S);U.sub(S);const Va=1/(L.x*U.y-U.x*L.y);isFinite(Va)&&(ma.copy(P).multiplyScalar(U.y).addScaledVector(T,-L.y).multiplyScalar(Va),ba.copy(T).multiplyScalar(L.x).addScaledVector(P,-U.x).multiplyScalar(Va),F[wa].add(ma),F[ya].add(ma),F[xa].add(ma),G[wa].add(ba),G[ya].add(ba),G[xa].add(ba))}function b(wa){Ga.fromArray(y,3*wa);oa.copy(Ga);var ya=F[wa];sa.copy(ya);sa.sub(Ga.multiplyScalar(Ga.dot(ya))).normalize();
ja.crossVectors(oa,ya);ya=ja.dot(G[wa]);D[4*wa]=sa.x;D[4*wa+1]=sa.y;D[4*wa+2]=sa.z;D[4*wa+3]=0>ya?-1:1}var d=this.index,l=this.attributes;if(null===d||void 0===l.position||void 0===l.normal||void 0===l.uv)console.error("THREE.BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");else{d=d.array;var q=l.position.array,y=l.normal.array,A=l.uv.array;l=q.length/3;!1===this.hasAttribute("tangent")&&this.setAttribute("tangent",new fc(new Float32Array(4*
l),4));var D=this.getAttribute("tangent").array,F=[],G=[];for(var M=0;M<l;M++)F[M]=new aa,G[M]=new aa;var N=new aa,P=new aa,T=new aa,S=new za,L=new za,U=new za,ma=new aa,ba=new aa;l=this.groups;0===l.length&&(l=[{start:0,count:d.length}]);for(let wa=0,ya=l.length;wa<ya;++wa){var na=l[wa];M=na.start;na=na.count;for(let xa=M,Va=M+na;xa<Va;xa+=3)a(d[xa+0],d[xa+1],d[xa+2])}var sa=new aa,ja=new aa,Ga=new aa,oa=new aa;for(let wa=0,ya=l.length;wa<ya;++wa){na=l[wa];M=na.start;na=na.count;for(let xa=M,Va=
M+na;xa<Va;xa+=3)b(d[xa+0]),b(d[xa+1]),b(d[xa+2])}}}computeVertexNormals(){const a=this.index,b=this.getAttribute("position");if(void 0!==b){let d=this.getAttribute("normal");if(void 0===d)d=new fc(new Float32Array(3*b.count),3),this.setAttribute("normal",d);else for(let N=0,P=d.count;N<P;N++)d.setXYZ(N,0,0,0);const l=new aa,q=new aa,y=new aa,A=new aa,D=new aa,F=new aa,G=new aa,M=new aa;if(a)for(let N=0,P=a.count;N<P;N+=3){const T=a.getX(N+0),S=a.getX(N+1),L=a.getX(N+2);l.fromBufferAttribute(b,T);
q.fromBufferAttribute(b,S);y.fromBufferAttribute(b,L);G.subVectors(y,q);M.subVectors(l,q);G.cross(M);A.fromBufferAttribute(d,T);D.fromBufferAttribute(d,S);F.fromBufferAttribute(d,L);A.add(G);D.add(G);F.add(G);d.setXYZ(T,A.x,A.y,A.z);d.setXYZ(S,D.x,D.y,D.z);d.setXYZ(L,F.x,F.y,F.z)}else for(let N=0,P=b.count;N<P;N+=3)l.fromBufferAttribute(b,N+0),q.fromBufferAttribute(b,N+1),y.fromBufferAttribute(b,N+2),G.subVectors(y,q),M.subVectors(l,q),G.cross(M),d.setXYZ(N+0,G.x,G.y,G.z),d.setXYZ(N+1,G.x,G.y,G.z),
d.setXYZ(N+2,G.x,G.y,G.z);this.normalizeNormals();d.needsUpdate=!0}}merge(){console.error("THREE.BufferGeometry.merge() has been removed. Use THREE.BufferGeometryUtils.mergeBufferGeometries() instead.");return this}normalizeNormals(){const a=this.attributes.normal;for(let b=0,d=a.count;b<d;b++)wc.fromBufferAttribute(a,b),wc.normalize(),a.setXYZ(b,wc.x,wc.y,wc.z)}toNonIndexed(){function a(D,F){const G=D.array,M=D.itemSize,N=D.normalized,P=new G.constructor(F.length*M);let T,S=0;for(let L=0,U=F.length;L<
U;L++){T=D.isInterleavedBufferAttribute?F[L]*D.data.stride+D.offset:F[L]*M;for(let ma=0;ma<M;ma++)P[S++]=G[T++]}return new fc(P,M,N)}if(null===this.index)return console.warn("THREE.BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;const b=new Kb;var d=this.index.array,l=this.attributes;for(var q in l){var y=a(l[q],d);b.setAttribute(q,y)}l=this.morphAttributes;for(var A in l){q=[];y=l[A];for(let D=0,F=y.length;D<F;D++){const G=a(y[D],d);q.push(G)}b.morphAttributes[A]=q}b.morphTargetsRelative=
this.morphTargetsRelative;d=this.groups;for(let D=0,F=d.length;D<F;D++)A=d[D],b.addGroup(A.start,A.count,A.materialIndex);return b}toJSON(){const a={metadata:{version:4.5,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};a.uuid=this.uuid;a.type=this.type;""!==this.name&&(a.name=this.name);0<Object.keys(this.userData).length&&(a.userData=this.userData);if(void 0!==this.parameters){var b=this.parameters;for(var d in b)void 0!==b[d]&&(a[d]=b[d]);return a}a.data={attributes:{}};d=this.index;null!==
d&&(a.data.index={type:d.array.constructor.name,array:Array.prototype.slice.call(d.array)});d=this.attributes;for(var l in d)a.data.attributes[l]=d[l].toJSON(a.data);l={};d=!1;for(b in this.morphAttributes){const q=this.morphAttributes[b],y=[];for(let A=0,D=q.length;A<D;A++)y.push(q[A].toJSON(a.data));0<y.length&&(l[b]=y,d=!0)}d&&(a.data.morphAttributes=l,a.data.morphTargetsRelative=this.morphTargetsRelative);b=this.groups;0<b.length&&(a.data.groups=JSON.parse(JSON.stringify(b)));b=this.boundingSphere;
null!==b&&(a.data.boundingSphere={center:b.center.toArray(),radius:b.radius});return a}clone(){return(new this.constructor).copy(this)}copy(a){this.index=null;this.attributes={};this.morphAttributes={};this.groups=[];this.boundingSphere=this.boundingBox=null;var b={};this.name=a.name;var d=a.index;null!==d&&this.setIndex(d.clone(b));d=a.attributes;for(var l in d)this.setAttribute(l,d[l].clone(b));l=a.morphAttributes;for(var q in l){d=[];const y=l[q];for(let A=0,D=y.length;A<D;A++)d.push(y[A].clone(b));
this.morphAttributes[q]=d}this.morphTargetsRelative=a.morphTargetsRelative;b=a.groups;for(let y=0,A=b.length;y<A;y++)q=b[y],this.addGroup(q.start,q.count,q.materialIndex);b=a.boundingBox;null!==b&&(this.boundingBox=b.clone());b=a.boundingSphere;null!==b&&(this.boundingSphere=b.clone());this.drawRange.start=a.drawRange.start;this.drawRange.count=a.drawRange.count;this.userData=a.userData;return this}dispose(){this.dispatchEvent({type:"dispose"})}}const pj=new Fb,nd=new Qf,Qg=new se,qj=new aa,hf=new aa,
jf=new aa,kf=new aa,ii=new aa,Rg=new aa,hg=new za,ig=new za,jg=new za,Ah=new aa,gg=new aa;class xc extends bc{constructor(a=new Kb,b=new Vd){super();this.isMesh=!0;this.type="Mesh";this.geometry=a;this.material=b;this.updateMorphTargets()}copy(a,b){super.copy(a,b);void 0!==a.morphTargetInfluences&&(this.morphTargetInfluences=a.morphTargetInfluences.slice());void 0!==a.morphTargetDictionary&&(this.morphTargetDictionary=Object.assign({},a.morphTargetDictionary));this.material=a.material;this.geometry=
a.geometry;return this}updateMorphTargets(){var a=this.geometry.morphAttributes,b=Object.keys(a);if(0<b.length&&(a=a[b[0]],void 0!==a)){this.morphTargetInfluences=[];this.morphTargetDictionary={};for(let d=0,l=a.length;d<l;d++)b=a[d].name||String(d),this.morphTargetInfluences.push(0),this.morphTargetDictionary[b]=d}}getVertexPosition(a,b){var d=this.geometry;const l=d.morphAttributes.position,q=d.morphTargetsRelative;b.fromBufferAttribute(d.attributes.position,a);d=this.morphTargetInfluences;if(l&&
d){Rg.set(0,0,0);for(let y=0,A=l.length;y<A;y++){const D=d[y];0!==D&&(ii.fromBufferAttribute(l[y],a),q?Rg.addScaledVector(ii,D):Rg.addScaledVector(ii.sub(b),D))}b.add(Rg)}this.isSkinnedMesh&&this.boneTransform(a,b);return b}raycast(a,b){var d=this.geometry;const l=this.material;var q=this.matrixWorld;if(void 0!==l&&(null===d.boundingSphere&&d.computeBoundingSphere(),Qg.copy(d.boundingSphere),Qg.applyMatrix4(q),nd.copy(a.ray).recast(a.near),!1!==Qg.containsPoint(nd.origin)||!(null===nd.intersectSphere(Qg,
qj)||nd.origin.distanceToSquared(qj)>(a.far-a.near)**2))&&(pj.copy(q).invert(),nd.copy(a.ray).applyMatrix4(pj),null===d.boundingBox||!1!==nd.intersectsBox(d.boundingBox))){var y=d.index,A=d.attributes.position;q=d.attributes.uv;var D=d.attributes.uv2,F=d.groups;d=d.drawRange;if(null!==y)if(Array.isArray(l))for(let P=0,T=F.length;P<T;P++){A=F[P];var G=l[A.materialIndex];var M=Math.max(A.start,d.start);var N=Math.min(y.count,Math.min(A.start+A.count,d.start+d.count));for(let S=M,L=N;S<L;S+=3){M=y.getX(S);
N=y.getX(S+1);const U=y.getX(S+2);if(M=I(this,G,a,nd,q,D,M,N,U))M.faceIndex=Math.floor(S/3),M.face.materialIndex=A.materialIndex,b.push(M)}}else{F=Math.max(0,d.start);d=Math.min(y.count,d.start+d.count);for(let P=F,T=d;P<T;P+=3)if(d=y.getX(P),F=y.getX(P+1),A=y.getX(P+2),M=I(this,l,a,nd,q,D,d,F,A))M.faceIndex=Math.floor(P/3),b.push(M)}else if(void 0!==A)if(Array.isArray(l))for(let P=0,T=F.length;P<T;P++){y=F[P];G=l[y.materialIndex];M=Math.max(y.start,d.start);N=Math.min(A.count,Math.min(y.start+y.count,
d.start+d.count));for(let S=M,L=N;S<L;S+=3)if(M=I(this,G,a,nd,q,D,S,S+1,S+2))M.faceIndex=Math.floor(S/3),M.face.materialIndex=y.materialIndex,b.push(M)}else{y=Math.max(0,d.start);d=Math.min(A.count,d.start+d.count);for(let P=y,T=d;P<T;P+=3)if(M=I(this,l,a,nd,q,D,P,P+1,P+2))M.faceIndex=Math.floor(P/3),b.push(M)}}}}class ae extends Kb{constructor(a=1,b=1,d=1,l=1,q=1,y=1){function A(S,L,U,ma,ba,na,sa,ja,Ga,oa,wa){const ya=na/Ga,xa=sa/oa,Va=na/2,La=sa/2,Ra=ja/2;sa=Ga+1;const Na=oa+1;let cb=na=0;const ob=
new aa;for(let ub=0;ub<Na;ub++){const Bb=ub*xa-La;for(let Sa=0;Sa<sa;Sa++)ob[S]=(Sa*ya-Va)*ma,ob[L]=Bb*ba,ob[U]=Ra,G.push(ob.x,ob.y,ob.z),ob[S]=0,ob[L]=0,ob[U]=0<ja?1:-1,M.push(ob.x,ob.y,ob.z),N.push(Sa/Ga),N.push(1-ub/oa),na+=1}for(S=0;S<oa;S++)for(L=0;L<Ga;L++)U=P+L+sa*(S+1),ma=P+(L+1)+sa*(S+1),ba=P+(L+1)+sa*S,F.push(P+L+sa*S,U,ba),F.push(U,ma,ba),cb+=6;D.addGroup(T,cb,wa);T+=cb;P+=na}super();this.type="BoxGeometry";this.parameters={width:a,height:b,depth:d,widthSegments:l,heightSegments:q,depthSegments:y};
const D=this;l=Math.floor(l);q=Math.floor(q);y=Math.floor(y);const F=[],G=[],M=[],N=[];let P=0,T=0;A("z","y","x",-1,-1,d,b,a,y,q,0);A("z","y","x",1,-1,d,b,-a,y,q,1);A("x","z","y",1,1,a,d,b,l,y,2);A("x","z","y",1,-1,a,d,-b,l,y,3);A("x","y","z",1,-1,a,b,d,l,q,4);A("x","y","z",-1,-1,a,b,-d,l,q,5);this.setIndex(F);this.setAttribute("position",new pb(G,3));this.setAttribute("normal",new pb(M,3));this.setAttribute("uv",new pb(N,2))}copy(a){super.copy(a);this.parameters=Object.assign({},a.parameters);return this}static fromJSON(a){return new ae(a.width,
a.height,a.depth,a.widthSegments,a.heightSegments,a.depthSegments)}}const bj={clone:K,merge:O};class fd extends Fc{constructor(a){super();this.isShaderMaterial=!0;this.type="ShaderMaterial";this.defines={};this.uniforms={};this.uniformsGroups=[];this.vertexShader="void main() {\n\tgl_Position \x3d projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n}";this.fragmentShader="void main() {\n\tgl_FragColor \x3d vec4( 1.0, 0.0, 0.0, 1.0 );\n}";this.linewidth=1;this.wireframe=!1;this.wireframeLinewidth=
1;this.clipping=this.lights=this.fog=!1;this.extensions={derivatives:!1,fragDepth:!1,drawBuffers:!1,shaderTextureLOD:!1};this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv2:[0,0]};this.index0AttributeName=void 0;this.uniformsNeedUpdate=!1;this.glslVersion=null;void 0!==a&&this.setValues(a)}copy(a){super.copy(a);this.fragmentShader=a.fragmentShader;this.vertexShader=a.vertexShader;this.uniforms=K(a.uniforms);var b=a.uniformsGroups;const d=[];for(let l=0;l<b.length;l++)d.push(b[l].clone());this.uniformsGroups=
d;this.defines=Object.assign({},a.defines);this.wireframe=a.wireframe;this.wireframeLinewidth=a.wireframeLinewidth;this.fog=a.fog;this.lights=a.lights;this.clipping=a.clipping;this.extensions=Object.assign({},a.extensions);this.glslVersion=a.glslVersion;return this}toJSON(a){const b=super.toJSON(a);b.glslVersion=this.glslVersion;b.uniforms={};for(const d in this.uniforms){const l=this.uniforms[d].value;b.uniforms[d]=l&&l.isTexture?{type:"t",value:l.toJSON(a).uuid}:l&&l.isColor?{type:"c",value:l.getHex()}:
l&&l.isVector2?{type:"v2",value:l.toArray()}:l&&l.isVector3?{type:"v3",value:l.toArray()}:l&&l.isVector4?{type:"v4",value:l.toArray()}:l&&l.isMatrix3?{type:"m3",value:l.toArray()}:l&&l.isMatrix4?{type:"m4",value:l.toArray()}:{value:l}}0<Object.keys(this.defines).length&&(b.defines=this.defines);b.vertexShader=this.vertexShader;b.fragmentShader=this.fragmentShader;a={};for(const d in this.extensions)!0===this.extensions[d]&&(a[d]=!0);0<Object.keys(a).length&&(b.extensions=a);return b}}class Sg extends bc{constructor(){super();
this.isCamera=!0;this.type="Camera";this.matrixWorldInverse=new Fb;this.projectionMatrix=new Fb;this.projectionMatrixInverse=new Fb}copy(a,b){super.copy(a,b);this.matrixWorldInverse.copy(a.matrixWorldInverse);this.projectionMatrix.copy(a.projectionMatrix);this.projectionMatrixInverse.copy(a.projectionMatrixInverse);return this}getWorldDirection(a){this.updateWorldMatrix(!0,!1);const b=this.matrixWorld.elements;return a.set(-b[8],-b[9],-b[10]).normalize()}updateMatrixWorld(a){super.updateMatrixWorld(a);
this.matrixWorldInverse.copy(this.matrixWorld).invert()}updateWorldMatrix(a,b){super.updateWorldMatrix(a,b);this.matrixWorldInverse.copy(this.matrixWorld).invert()}clone(){return(new this.constructor).copy(this)}}class Dc extends Sg{constructor(a=50,b=1,d=.1,l=2E3){super();this.isPerspectiveCamera=!0;this.type="PerspectiveCamera";this.fov=a;this.zoom=1;this.near=d;this.far=l;this.focus=10;this.aspect=b;this.view=null;this.filmGauge=35;this.filmOffset=0;this.updateProjectionMatrix()}copy(a,b){super.copy(a,
b);this.fov=a.fov;this.zoom=a.zoom;this.near=a.near;this.far=a.far;this.focus=a.focus;this.aspect=a.aspect;this.view=null===a.view?null:Object.assign({},a.view);this.filmGauge=a.filmGauge;this.filmOffset=a.filmOffset;return this}setFocalLength(a){a=.5*this.getFilmHeight()/a;this.fov=2*Fa*Math.atan(a);this.updateProjectionMatrix()}getFocalLength(){const a=Math.tan(.5*qa*this.fov);return.5*this.getFilmHeight()/a}getEffectiveFOV(){return 2*Fa*Math.atan(Math.tan(.5*qa*this.fov)/this.zoom)}getFilmWidth(){return this.filmGauge*
Math.min(this.aspect,1)}getFilmHeight(){return this.filmGauge/Math.max(this.aspect,1)}setViewOffset(a,b,d,l,q,y){this.aspect=a/b;null===this.view&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1});this.view.enabled=!0;this.view.fullWidth=a;this.view.fullHeight=b;this.view.offsetX=d;this.view.offsetY=l;this.view.width=q;this.view.height=y;this.updateProjectionMatrix()}clearViewOffset(){null!==this.view&&(this.view.enabled=!1);this.updateProjectionMatrix()}updateProjectionMatrix(){const a=
this.near;let b=a*Math.tan(.5*qa*this.fov)/this.zoom,d=2*b,l=this.aspect*d,q=-.5*l;var y=this.view;if(null!==this.view&&this.view.enabled){const A=y.fullWidth,D=y.fullHeight;q+=y.offsetX*l/A;b-=y.offsetY*d/D;l*=y.width/A;d*=y.height/D}y=this.filmOffset;0!==y&&(q+=a*y/this.getFilmWidth());this.projectionMatrix.makePerspective(q,q+l,b,b-d,a,this.far);this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(a){a=super.toJSON(a);a.object.fov=this.fov;a.object.zoom=this.zoom;a.object.near=
this.near;a.object.far=this.far;a.object.focus=this.focus;a.object.aspect=this.aspect;null!==this.view&&(a.object.view=Object.assign({},this.view));a.object.filmGauge=this.filmGauge;a.object.filmOffset=this.filmOffset;return a}}class rj extends bc{constructor(a,b,d){super();this.type="CubeCamera";this.renderTarget=d;d=new Dc(-90,1,a,b);d.layers=this.layers;d.up.set(0,1,0);d.lookAt(1,0,0);this.add(d);d=new Dc(-90,1,a,b);d.layers=this.layers;d.up.set(0,1,0);d.lookAt(-1,0,0);this.add(d);d=new Dc(-90,
1,a,b);d.layers=this.layers;d.up.set(0,0,-1);d.lookAt(0,1,0);this.add(d);d=new Dc(-90,1,a,b);d.layers=this.layers;d.up.set(0,0,1);d.lookAt(0,-1,0);this.add(d);d=new Dc(-90,1,a,b);d.layers=this.layers;d.up.set(0,1,0);d.lookAt(0,0,1);this.add(d);a=new Dc(-90,1,a,b);a.layers=this.layers;a.up.set(0,1,0);a.lookAt(0,0,-1);this.add(a)}update(a,b){null===this.parent&&this.updateMatrixWorld();const d=this.renderTarget,[l,q,y,A,D,F]=this.children,G=a.getRenderTarget(),M=a.toneMapping,N=a.xr.enabled;a.toneMapping=
0;a.xr.enabled=!1;const P=d.texture.generateMipmaps;d.texture.generateMipmaps=!1;a.setRenderTarget(d,0);a.render(b,l);a.setRenderTarget(d,1);a.render(b,q);a.setRenderTarget(d,2);a.render(b,y);a.setRenderTarget(d,3);a.render(b,A);a.setRenderTarget(d,4);a.render(b,D);d.texture.generateMipmaps=P;a.setRenderTarget(d,5);a.render(b,F);a.setRenderTarget(G);a.toneMapping=M;a.xr.enabled=N;d.texture.needsPMREMUpdate=!0}}class Tf extends rc{constructor(a,b,d,l,q,y,A,D,F,G){a=void 0!==a?a:[];super(a,void 0!==
b?b:301,d,l,q,y,A,D,F,G);this.isCubeTexture=!0;this.flipY=!1}get images(){return this.image}set images(a){this.image=a}}class Ri extends Yc{constructor(a=1,b={}){super(a,a,b);this.isWebGLCubeRenderTarget=!0;a={width:a,height:a,depth:1};this.texture=new Tf([a,a,a,a,a,a],b.mapping,b.wrapS,b.wrapT,b.magFilter,b.minFilter,b.format,b.type,b.anisotropy,b.encoding);this.texture.isRenderTargetTexture=!0;this.texture.generateMipmaps=void 0!==b.generateMipmaps?b.generateMipmaps:!1;this.texture.minFilter=void 0!==
b.minFilter?b.minFilter:1006}fromEquirectangularTexture(a,b){this.texture.type=b.type;this.texture.encoding=b.encoding;this.texture.generateMipmaps=b.generateMipmaps;this.texture.minFilter=b.minFilter;this.texture.magFilter=b.magFilter;var d=new ae(5,5,5),l=new fd({name:"CubemapFromEquirect",uniforms:K({tEquirect:{value:null}}),vertexShader:"\n\n\t\t\t\tvarying vec3 vWorldDirection;\n\n\t\t\t\tvec3 transformDirection( in vec3 dir, in mat4 matrix ) {\n\n\t\t\t\t\treturn normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );\n\n\t\t\t\t}\n\n\t\t\t\tvoid main() {\n\n\t\t\t\t\tvWorldDirection \x3d transformDirection( position, modelMatrix );\n\n\t\t\t\t\t#include \x3cbegin_vertex\x3e\n\t\t\t\t\t#include \x3cproject_vertex\x3e\n\n\t\t\t\t}\n\t\t\t",
fragmentShader:"\n\n\t\t\t\tuniform sampler2D tEquirect;\n\n\t\t\t\tvarying vec3 vWorldDirection;\n\n\t\t\t\t#include \x3ccommon\x3e\n\n\t\t\t\tvoid main() {\n\n\t\t\t\t\tvec3 direction \x3d normalize( vWorldDirection );\n\n\t\t\t\t\tvec2 sampleUV \x3d equirectUv( direction );\n\n\t\t\t\t\tgl_FragColor \x3d texture2D( tEquirect, sampleUV );\n\n\t\t\t\t}\n\t\t\t",side:1,blending:0});l.uniforms.tEquirect.value=b;d=new xc(d,l);l=b.minFilter;1008===b.minFilter&&(b.minFilter=1006);(new rj(1,10,this)).update(a,
d);b.minFilter=l;d.geometry.dispose();d.material.dispose();return this}clear(a,b,d,l){const q=a.getRenderTarget();for(let y=0;6>y;y++)a.setRenderTarget(this,y),a.clear(b,d,l);a.setRenderTarget(q)}}const ji=new aa,ul=new aa,vl=new hb;class Hd{constructor(a=new aa(1,0,0),b=0){this.isPlane=!0;this.normal=a;this.constant=b}set(a,b){this.normal.copy(a);this.constant=b;return this}setComponents(a,b,d,l){this.normal.set(a,b,d);this.constant=l;return this}setFromNormalAndCoplanarPoint(a,b){this.normal.copy(a);
this.constant=-b.dot(this.normal);return this}setFromCoplanarPoints(a,b,d){b=ji.subVectors(d,b).cross(ul.subVectors(a,b)).normalize();this.setFromNormalAndCoplanarPoint(b,a);return this}copy(a){this.normal.copy(a.normal);this.constant=a.constant;return this}normalize(){const a=1/this.normal.length();this.normal.multiplyScalar(a);this.constant*=a;return this}negate(){this.constant*=-1;this.normal.negate();return this}distanceToPoint(a){return this.normal.dot(a)+this.constant}distanceToSphere(a){return this.distanceToPoint(a.center)-
a.radius}projectPoint(a,b){return b.copy(a).addScaledVector(this.normal,-this.distanceToPoint(a))}intersectLine(a,b){const d=a.delta(ji);var l=this.normal.dot(d);if(0===l)return 0===this.distanceToPoint(a.start)?b.copy(a.start):null;l=-(a.start.dot(this.normal)+this.constant)/l;return 0>l||1<l?null:b.copy(a.start).addScaledVector(d,l)}intersectsLine(a){const b=this.distanceToPoint(a.start);a=this.distanceToPoint(a.end);return 0>b&&0<a||0>a&&0<b}intersectsBox(a){return a.intersectsPlane(this)}intersectsSphere(a){return a.intersectsPlane(this)}coplanarPoint(a){return a.copy(this.normal).multiplyScalar(-this.constant)}applyMatrix4(a,
b){b=b||vl.getNormalMatrix(a);a=this.coplanarPoint(ji).applyMatrix4(a);b=this.normal.applyMatrix3(b).normalize();this.constant=-a.dot(b);return this}translate(a){this.constant-=a.dot(this.normal);return this}equals(a){return a.normal.equals(this.normal)&&a.constant===this.constant}clone(){return(new this.constructor).copy(this)}}const Ye=new se,Tg=new aa;class og{constructor(a=new Hd,b=new Hd,d=new Hd,l=new Hd,q=new Hd,y=new Hd){this.planes=[a,b,d,l,q,y]}set(a,b,d,l,q,y){const A=this.planes;A[0].copy(a);
A[1].copy(b);A[2].copy(d);A[3].copy(l);A[4].copy(q);A[5].copy(y);return this}copy(a){const b=this.planes;for(let d=0;6>d;d++)b[d].copy(a.planes[d]);return this}setFromProjectionMatrix(a){const b=this.planes;var d=a.elements;a=d[0];const l=d[1],q=d[2],y=d[3],A=d[4],D=d[5],F=d[6],G=d[7],M=d[8],N=d[9],P=d[10],T=d[11],S=d[12],L=d[13],U=d[14];d=d[15];b[0].setComponents(y-a,G-A,T-M,d-S).normalize();b[1].setComponents(y+a,G+A,T+M,d+S).normalize();b[2].setComponents(y+l,G+D,T+N,d+L).normalize();b[3].setComponents(y-
l,G-D,T-N,d-L).normalize();b[4].setComponents(y-q,G-F,T-P,d-U).normalize();b[5].setComponents(y+q,G+F,T+P,d+U).normalize();return this}intersectsObject(a){const b=a.geometry;null===b.boundingSphere&&b.computeBoundingSphere();Ye.copy(b.boundingSphere).applyMatrix4(a.matrixWorld);return this.intersectsSphere(Ye)}intersectsSprite(a){Ye.center.set(0,0,0);Ye.radius=.7071067811865476;Ye.applyMatrix4(a.matrixWorld);return this.intersectsSphere(Ye)}intersectsSphere(a){const b=this.planes,d=a.center;a=-a.radius;
for(let l=0;6>l;l++)if(b[l].distanceToPoint(d)<a)return!1;return!0}intersectsBox(a){const b=this.planes;for(let d=0;6>d;d++){const l=b[d];Tg.x=0<l.normal.x?a.max.x:a.min.x;Tg.y=0<l.normal.y?a.max.y:a.min.y;Tg.z=0<l.normal.z?a.max.z:a.min.z;if(0>l.distanceToPoint(Tg))return!1}return!0}containsPoint(a){const b=this.planes;for(let d=0;6>d;d++)if(0>b[d].distanceToPoint(a))return!1;return!0}clone(){return(new this.constructor).copy(this)}}class lf extends Kb{constructor(a=1,b=1,d=1,l=1){super();this.type=
"PlaneGeometry";this.parameters={width:a,height:b,widthSegments:d,heightSegments:l};var q=a/2,y=b/2;d=Math.floor(d);l=Math.floor(l);const A=d+1;var D=l+1,F=a/d,G=b/l;b=[];a=[];const M=[],N=[];for(let P=0;P<D;P++){const T=P*G-y;for(let S=0;S<A;S++)a.push(S*F-q,-T,0),M.push(0,0,1),N.push(S/d),N.push(1-P/l)}for(q=0;q<l;q++)for(y=0;y<d;y++)D=y+A*(q+1),F=y+1+A*(q+1),G=y+1+A*q,b.push(y+A*q,D,G),b.push(D,F,G);this.setIndex(b);this.setAttribute("position",new pb(a,3));this.setAttribute("normal",new pb(M,
3));this.setAttribute("uv",new pb(N,2))}copy(a){super.copy(a);this.parameters=Object.assign({},a.parameters);return this}static fromJSON(a){return new lf(a.width,a.height,a.widthSegments,a.heightSegments)}}const Ib={alphamap_fragment:"#ifdef USE_ALPHAMAP\n\tdiffuseColor.a *\x3d texture2D( alphaMap, vUv ).g;\n#endif",alphamap_pars_fragment:"#ifdef USE_ALPHAMAP\n\tuniform sampler2D alphaMap;\n#endif",alphatest_fragment:"#ifdef USE_ALPHATEST\n\tif ( diffuseColor.a \x3c alphaTest ) discard;\n#endif",
alphatest_pars_fragment:"#ifdef USE_ALPHATEST\n\tuniform float alphaTest;\n#endif",aomap_fragment:"#ifdef USE_AOMAP\n\tfloat ambientOcclusion \x3d ( texture2D( aoMap, vUv2 ).r - 1.0 ) * aoMapIntensity + 1.0;\n\treflectedLight.indirectDiffuse *\x3d ambientOcclusion;\n\t#if defined( USE_ENVMAP ) \x26\x26 defined( STANDARD )\n\t\tfloat dotNV \x3d saturate( dot( geometry.normal, geometry.viewDir ) );\n\t\treflectedLight.indirectSpecular *\x3d computeSpecularOcclusion( dotNV, ambientOcclusion, material.roughness );\n\t#endif\n#endif",
aomap_pars_fragment:"#ifdef USE_AOMAP\n\tuniform sampler2D aoMap;\n\tuniform float aoMapIntensity;\n#endif",begin_vertex:"vec3 transformed \x3d vec3( position );",beginnormal_vertex:"vec3 objectNormal \x3d vec3( normal );\n#ifdef USE_TANGENT\n\tvec3 objectTangent \x3d vec3( tangent.xyz );\n#endif",bsdfs:"vec3 BRDF_Lambert( const in vec3 diffuseColor ) {\n\treturn RECIPROCAL_PI * diffuseColor;\n}\nvec3 F_Schlick( const in vec3 f0, const in float f90, const in float dotVH ) {\n\tfloat fresnel \x3d exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );\n\treturn f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );\n}\nfloat F_Schlick( const in float f0, const in float f90, const in float dotVH ) {\n\tfloat fresnel \x3d exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );\n\treturn f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );\n}\nvec3 Schlick_to_F0( const in vec3 f, const in float f90, const in float dotVH ) {\n    float x \x3d clamp( 1.0 - dotVH, 0.0, 1.0 );\n    float x2 \x3d x * x;\n    float x5 \x3d clamp( x * x2 * x2, 0.0, 0.9999 );\n    return ( f - vec3( f90 ) * x5 ) / ( 1.0 - x5 );\n}\nfloat V_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {\n\tfloat a2 \x3d pow2( alpha );\n\tfloat gv \x3d dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );\n\tfloat gl \x3d dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );\n\treturn 0.5 / max( gv + gl, EPSILON );\n}\nfloat D_GGX( const in float alpha, const in float dotNH ) {\n\tfloat a2 \x3d pow2( alpha );\n\tfloat denom \x3d pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;\n\treturn RECIPROCAL_PI * a2 / pow2( denom );\n}\nvec3 BRDF_GGX( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 f0, const in float f90, const in float roughness ) {\n\tfloat alpha \x3d pow2( roughness );\n\tvec3 halfDir \x3d normalize( lightDir + viewDir );\n\tfloat dotNL \x3d saturate( dot( normal, lightDir ) );\n\tfloat dotNV \x3d saturate( dot( normal, viewDir ) );\n\tfloat dotNH \x3d saturate( dot( normal, halfDir ) );\n\tfloat dotVH \x3d saturate( dot( viewDir, halfDir ) );\n\tvec3 F \x3d F_Schlick( f0, f90, dotVH );\n\tfloat V \x3d V_GGX_SmithCorrelated( alpha, dotNL, dotNV );\n\tfloat D \x3d D_GGX( alpha, dotNH );\n\treturn F * ( V * D );\n}\n#ifdef USE_IRIDESCENCE\n\tvec3 BRDF_GGX_Iridescence( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 f0, const in float f90, const in float iridescence, const in vec3 iridescenceFresnel, const in float roughness ) {\n\t\tfloat alpha \x3d pow2( roughness );\n\t\tvec3 halfDir \x3d normalize( lightDir + viewDir );\n\t\tfloat dotNL \x3d saturate( dot( normal, lightDir ) );\n\t\tfloat dotNV \x3d saturate( dot( normal, viewDir ) );\n\t\tfloat dotNH \x3d saturate( dot( normal, halfDir ) );\n\t\tfloat dotVH \x3d saturate( dot( viewDir, halfDir ) );\n\t\tvec3 F \x3d mix( F_Schlick( f0, f90, dotVH ), iridescenceFresnel, iridescence );\n\t\tfloat V \x3d V_GGX_SmithCorrelated( alpha, dotNL, dotNV );\n\t\tfloat D \x3d D_GGX( alpha, dotNH );\n\t\treturn F * ( V * D );\n\t}\n#endif\nvec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {\n\tconst float LUT_SIZE \x3d 64.0;\n\tconst float LUT_SCALE \x3d ( LUT_SIZE - 1.0 ) / LUT_SIZE;\n\tconst float LUT_BIAS \x3d 0.5 / LUT_SIZE;\n\tfloat dotNV \x3d saturate( dot( N, V ) );\n\tvec2 uv \x3d vec2( roughness, sqrt( 1.0 - dotNV ) );\n\tuv \x3d uv * LUT_SCALE + LUT_BIAS;\n\treturn uv;\n}\nfloat LTC_ClippedSphereFormFactor( const in vec3 f ) {\n\tfloat l \x3d length( f );\n\treturn max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );\n}\nvec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {\n\tfloat x \x3d dot( v1, v2 );\n\tfloat y \x3d abs( x );\n\tfloat a \x3d 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;\n\tfloat b \x3d 3.4175940 + ( 4.1616724 + y ) * y;\n\tfloat v \x3d a / b;\n\tfloat theta_sintheta \x3d ( x \x3e 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;\n\treturn cross( v1, v2 ) * theta_sintheta;\n}\nvec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {\n\tvec3 v1 \x3d rectCoords[ 1 ] - rectCoords[ 0 ];\n\tvec3 v2 \x3d rectCoords[ 3 ] - rectCoords[ 0 ];\n\tvec3 lightNormal \x3d cross( v1, v2 );\n\tif( dot( lightNormal, P - rectCoords[ 0 ] ) \x3c 0.0 ) return vec3( 0.0 );\n\tvec3 T1, T2;\n\tT1 \x3d normalize( V - N * dot( V, N ) );\n\tT2 \x3d - cross( N, T1 );\n\tmat3 mat \x3d mInv * transposeMat3( mat3( T1, T2, N ) );\n\tvec3 coords[ 4 ];\n\tcoords[ 0 ] \x3d mat * ( rectCoords[ 0 ] - P );\n\tcoords[ 1 ] \x3d mat * ( rectCoords[ 1 ] - P );\n\tcoords[ 2 ] \x3d mat * ( rectCoords[ 2 ] - P );\n\tcoords[ 3 ] \x3d mat * ( rectCoords[ 3 ] - P );\n\tcoords[ 0 ] \x3d normalize( coords[ 0 ] );\n\tcoords[ 1 ] \x3d normalize( coords[ 1 ] );\n\tcoords[ 2 ] \x3d normalize( coords[ 2 ] );\n\tcoords[ 3 ] \x3d normalize( coords[ 3 ] );\n\tvec3 vectorFormFactor \x3d vec3( 0.0 );\n\tvectorFormFactor +\x3d LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );\n\tvectorFormFactor +\x3d LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );\n\tvectorFormFactor +\x3d LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );\n\tvectorFormFactor +\x3d LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );\n\tfloat result \x3d LTC_ClippedSphereFormFactor( vectorFormFactor );\n\treturn vec3( result );\n}\nfloat G_BlinnPhong_Implicit( ) {\n\treturn 0.25;\n}\nfloat D_BlinnPhong( const in float shininess, const in float dotNH ) {\n\treturn RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );\n}\nvec3 BRDF_BlinnPhong( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float shininess ) {\n\tvec3 halfDir \x3d normalize( lightDir + viewDir );\n\tfloat dotNH \x3d saturate( dot( normal, halfDir ) );\n\tfloat dotVH \x3d saturate( dot( viewDir, halfDir ) );\n\tvec3 F \x3d F_Schlick( specularColor, 1.0, dotVH );\n\tfloat G \x3d G_BlinnPhong_Implicit( );\n\tfloat D \x3d D_BlinnPhong( shininess, dotNH );\n\treturn F * ( G * D );\n}\n#if defined( USE_SHEEN )\nfloat D_Charlie( float roughness, float dotNH ) {\n\tfloat alpha \x3d pow2( roughness );\n\tfloat invAlpha \x3d 1.0 / alpha;\n\tfloat cos2h \x3d dotNH * dotNH;\n\tfloat sin2h \x3d max( 1.0 - cos2h, 0.0078125 );\n\treturn ( 2.0 + invAlpha ) * pow( sin2h, invAlpha * 0.5 ) / ( 2.0 * PI );\n}\nfloat V_Neubelt( float dotNV, float dotNL ) {\n\treturn saturate( 1.0 / ( 4.0 * ( dotNL + dotNV - dotNL * dotNV ) ) );\n}\nvec3 BRDF_Sheen( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, vec3 sheenColor, const in float sheenRoughness ) {\n\tvec3 halfDir \x3d normalize( lightDir + viewDir );\n\tfloat dotNL \x3d saturate( dot( normal, lightDir ) );\n\tfloat dotNV \x3d saturate( dot( normal, viewDir ) );\n\tfloat dotNH \x3d saturate( dot( normal, halfDir ) );\n\tfloat D \x3d D_Charlie( sheenRoughness, dotNH );\n\tfloat V \x3d V_Neubelt( dotNV, dotNL );\n\treturn sheenColor * ( D * V );\n}\n#endif",
iridescence_fragment:"#ifdef USE_IRIDESCENCE\n\tconst mat3 XYZ_TO_REC709 \x3d mat3(\n\t\t 3.2404542, -0.9692660,  0.0556434,\n\t\t-1.5371385,  1.8760108, -0.2040259,\n\t\t-0.4985314,  0.0415560,  1.0572252\n\t);\n\tvec3 Fresnel0ToIor( vec3 fresnel0 ) {\n\t\tvec3 sqrtF0 \x3d sqrt( fresnel0 );\n\t\treturn ( vec3( 1.0 ) + sqrtF0 ) / ( vec3( 1.0 ) - sqrtF0 );\n\t}\n\tvec3 IorToFresnel0( vec3 transmittedIor, float incidentIor ) {\n\t\treturn pow2( ( transmittedIor - vec3( incidentIor ) ) / ( transmittedIor + vec3( incidentIor ) ) );\n\t}\n\tfloat IorToFresnel0( float transmittedIor, float incidentIor ) {\n\t\treturn pow2( ( transmittedIor - incidentIor ) / ( transmittedIor + incidentIor ));\n\t}\n\tvec3 evalSensitivity( float OPD, vec3 shift ) {\n\t\tfloat phase \x3d 2.0 * PI * OPD * 1.0e-9;\n\t\tvec3 val \x3d vec3( 5.4856e-13, 4.4201e-13, 5.2481e-13 );\n\t\tvec3 pos \x3d vec3( 1.6810e+06, 1.7953e+06, 2.2084e+06 );\n\t\tvec3 var \x3d vec3( 4.3278e+09, 9.3046e+09, 6.6121e+09 );\n\t\tvec3 xyz \x3d val * sqrt( 2.0 * PI * var ) * cos( pos * phase + shift ) * exp( - pow2( phase ) * var );\n\t\txyz.x +\x3d 9.7470e-14 * sqrt( 2.0 * PI * 4.5282e+09 ) * cos( 2.2399e+06 * phase + shift[ 0 ] ) * exp( - 4.5282e+09 * pow2( phase ) );\n\t\txyz /\x3d 1.0685e-7;\n\t\tvec3 rgb \x3d XYZ_TO_REC709 * xyz;\n\t\treturn rgb;\n\t}\n\tvec3 evalIridescence( float outsideIOR, float eta2, float cosTheta1, float thinFilmThickness, vec3 baseF0 ) {\n\t\tvec3 I;\n\t\tfloat iridescenceIOR \x3d mix( outsideIOR, eta2, smoothstep( 0.0, 0.03, thinFilmThickness ) );\n\t\tfloat sinTheta2Sq \x3d pow2( outsideIOR / iridescenceIOR ) * ( 1.0 - pow2( cosTheta1 ) );\n\t\tfloat cosTheta2Sq \x3d 1.0 - sinTheta2Sq;\n\t\tif ( cosTheta2Sq \x3c 0.0 ) {\n\t\t\t return vec3( 1.0 );\n\t\t}\n\t\tfloat cosTheta2 \x3d sqrt( cosTheta2Sq );\n\t\tfloat R0 \x3d IorToFresnel0( iridescenceIOR, outsideIOR );\n\t\tfloat R12 \x3d F_Schlick( R0, 1.0, cosTheta1 );\n\t\tfloat R21 \x3d R12;\n\t\tfloat T121 \x3d 1.0 - R12;\n\t\tfloat phi12 \x3d 0.0;\n\t\tif ( iridescenceIOR \x3c outsideIOR ) phi12 \x3d PI;\n\t\tfloat phi21 \x3d PI - phi12;\n\t\tvec3 baseIOR \x3d Fresnel0ToIor( clamp( baseF0, 0.0, 0.9999 ) );\t\tvec3 R1 \x3d IorToFresnel0( baseIOR, iridescenceIOR );\n\t\tvec3 R23 \x3d F_Schlick( R1, 1.0, cosTheta2 );\n\t\tvec3 phi23 \x3d vec3( 0.0 );\n\t\tif ( baseIOR[ 0 ] \x3c iridescenceIOR ) phi23[ 0 ] \x3d PI;\n\t\tif ( baseIOR[ 1 ] \x3c iridescenceIOR ) phi23[ 1 ] \x3d PI;\n\t\tif ( baseIOR[ 2 ] \x3c iridescenceIOR ) phi23[ 2 ] \x3d PI;\n\t\tfloat OPD \x3d 2.0 * iridescenceIOR * thinFilmThickness * cosTheta2;\n\t\tvec3 phi \x3d vec3( phi21 ) + phi23;\n\t\tvec3 R123 \x3d clamp( R12 * R23, 1e-5, 0.9999 );\n\t\tvec3 r123 \x3d sqrt( R123 );\n\t\tvec3 Rs \x3d pow2( T121 ) * R23 / ( vec3( 1.0 ) - R123 );\n\t\tvec3 C0 \x3d R12 + Rs;\n\t\tI \x3d C0;\n\t\tvec3 Cm \x3d Rs - T121;\n\t\tfor ( int m \x3d 1; m \x3c\x3d 2; ++ m ) {\n\t\t\tCm *\x3d r123;\n\t\t\tvec3 Sm \x3d 2.0 * evalSensitivity( float( m ) * OPD, float( m ) * phi );\n\t\t\tI +\x3d Cm * Sm;\n\t\t}\n\t\treturn max( I, vec3( 0.0 ) );\n\t}\n#endif",
bumpmap_pars_fragment:"#ifdef USE_BUMPMAP\n\tuniform sampler2D bumpMap;\n\tuniform float bumpScale;\n\tvec2 dHdxy_fwd() {\n\t\tvec2 dSTdx \x3d dFdx( vUv );\n\t\tvec2 dSTdy \x3d dFdy( vUv );\n\t\tfloat Hll \x3d bumpScale * texture2D( bumpMap, vUv ).x;\n\t\tfloat dBx \x3d bumpScale * texture2D( bumpMap, vUv + dSTdx ).x - Hll;\n\t\tfloat dBy \x3d bumpScale * texture2D( bumpMap, vUv + dSTdy ).x - Hll;\n\t\treturn vec2( dBx, dBy );\n\t}\n\tvec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {\n\t\tvec3 vSigmaX \x3d dFdx( surf_pos.xyz );\n\t\tvec3 vSigmaY \x3d dFdy( surf_pos.xyz );\n\t\tvec3 vN \x3d surf_norm;\n\t\tvec3 R1 \x3d cross( vSigmaY, vN );\n\t\tvec3 R2 \x3d cross( vN, vSigmaX );\n\t\tfloat fDet \x3d dot( vSigmaX, R1 ) * faceDirection;\n\t\tvec3 vGrad \x3d sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );\n\t\treturn normalize( abs( fDet ) * surf_norm - vGrad );\n\t}\n#endif",
clipping_planes_fragment:"#if NUM_CLIPPING_PLANES \x3e 0\n\tvec4 plane;\n\t#pragma unroll_loop_start\n\tfor ( int i \x3d 0; i \x3c UNION_CLIPPING_PLANES; i ++ ) {\n\t\tplane \x3d clippingPlanes[ i ];\n\t\tif ( dot( vClipPosition, plane.xyz ) \x3e plane.w ) discard;\n\t}\n\t#pragma unroll_loop_end\n\t#if UNION_CLIPPING_PLANES \x3c NUM_CLIPPING_PLANES\n\t\tbool clipped \x3d true;\n\t\t#pragma unroll_loop_start\n\t\tfor ( int i \x3d UNION_CLIPPING_PLANES; i \x3c NUM_CLIPPING_PLANES; i ++ ) {\n\t\t\tplane \x3d clippingPlanes[ i ];\n\t\t\tclipped \x3d ( dot( vClipPosition, plane.xyz ) \x3e plane.w ) \x26\x26 clipped;\n\t\t}\n\t\t#pragma unroll_loop_end\n\t\tif ( clipped ) discard;\n\t#endif\n#endif",
clipping_planes_pars_fragment:"#if NUM_CLIPPING_PLANES \x3e 0\n\tvarying vec3 vClipPosition;\n\tuniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];\n#endif",clipping_planes_pars_vertex:"#if NUM_CLIPPING_PLANES \x3e 0\n\tvarying vec3 vClipPosition;\n#endif",clipping_planes_vertex:"#if NUM_CLIPPING_PLANES \x3e 0\n\tvClipPosition \x3d - mvPosition.xyz;\n#endif",color_fragment:"#if defined( USE_COLOR_ALPHA )\n\tdiffuseColor *\x3d vColor;\n#elif defined( USE_COLOR )\n\tdiffuseColor.rgb *\x3d vColor;\n#endif",
color_pars_fragment:"#if defined( USE_COLOR_ALPHA )\n\tvarying vec4 vColor;\n#elif defined( USE_COLOR )\n\tvarying vec3 vColor;\n#endif",color_pars_vertex:"#if defined( USE_COLOR_ALPHA )\n\tvarying vec4 vColor;\n#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )\n\tvarying vec3 vColor;\n#endif",color_vertex:"#if defined( USE_COLOR_ALPHA )\n\tvColor \x3d vec4( 1.0 );\n#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )\n\tvColor \x3d vec3( 1.0 );\n#endif\n#ifdef USE_COLOR\n\tvColor *\x3d color;\n#endif\n#ifdef USE_INSTANCING_COLOR\n\tvColor.xyz *\x3d instanceColor.xyz;\n#endif",
common:"#define PI 3.141592653589793\n#define PI2 6.283185307179586\n#define PI_HALF 1.5707963267948966\n#define RECIPROCAL_PI 0.3183098861837907\n#define RECIPROCAL_PI2 0.15915494309189535\n#define EPSILON 1e-6\n#ifndef saturate\n#define saturate( a ) clamp( a, 0.0, 1.0 )\n#endif\n#define whiteComplement( a ) ( 1.0 - saturate( a ) )\nfloat pow2( const in float x ) { return x*x; }\nvec3 pow2( const in vec3 x ) { return x*x; }\nfloat pow3( const in float x ) { return x*x*x; }\nfloat pow4( const in float x ) { float x2 \x3d x*x; return x2*x2; }\nfloat max3( const in vec3 v ) { return max( max( v.x, v.y ), v.z ); }\nfloat average( const in vec3 v ) { return dot( v, vec3( 0.3333333 ) ); }\nhighp float rand( const in vec2 uv ) {\n\tconst highp float a \x3d 12.9898, b \x3d 78.233, c \x3d 43758.5453;\n\thighp float dt \x3d dot( uv.xy, vec2( a,b ) ), sn \x3d mod( dt, PI );\n\treturn fract( sin( sn ) * c );\n}\n#ifdef HIGH_PRECISION\n\tfloat precisionSafeLength( vec3 v ) { return length( v ); }\n#else\n\tfloat precisionSafeLength( vec3 v ) {\n\t\tfloat maxComponent \x3d max3( abs( v ) );\n\t\treturn length( v / maxComponent ) * maxComponent;\n\t}\n#endif\nstruct IncidentLight {\n\tvec3 color;\n\tvec3 direction;\n\tbool visible;\n};\nstruct ReflectedLight {\n\tvec3 directDiffuse;\n\tvec3 directSpecular;\n\tvec3 indirectDiffuse;\n\tvec3 indirectSpecular;\n};\nstruct GeometricContext {\n\tvec3 position;\n\tvec3 normal;\n\tvec3 viewDir;\n#ifdef USE_CLEARCOAT\n\tvec3 clearcoatNormal;\n#endif\n};\nvec3 transformDirection( in vec3 dir, in mat4 matrix ) {\n\treturn normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );\n}\nvec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {\n\treturn normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );\n}\nmat3 transposeMat3( const in mat3 m ) {\n\tmat3 tmp;\n\ttmp[ 0 ] \x3d vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );\n\ttmp[ 1 ] \x3d vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );\n\ttmp[ 2 ] \x3d vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );\n\treturn tmp;\n}\nfloat luminance( const in vec3 rgb ) {\n\tconst vec3 weights \x3d vec3( 0.2126729, 0.7151522, 0.0721750 );\n\treturn dot( weights, rgb );\n}\nbool isPerspectiveMatrix( mat4 m ) {\n\treturn m[ 2 ][ 3 ] \x3d\x3d - 1.0;\n}\nvec2 equirectUv( in vec3 dir ) {\n\tfloat u \x3d atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;\n\tfloat v \x3d asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;\n\treturn vec2( u, v );\n}",
cube_uv_reflection_fragment:"#ifdef ENVMAP_TYPE_CUBE_UV\n\t#define cubeUV_minMipLevel 4.0\n\t#define cubeUV_minTileSize 16.0\n\tfloat getFace( vec3 direction ) {\n\t\tvec3 absDirection \x3d abs( direction );\n\t\tfloat face \x3d - 1.0;\n\t\tif ( absDirection.x \x3e absDirection.z ) {\n\t\t\tif ( absDirection.x \x3e absDirection.y )\n\t\t\t\tface \x3d direction.x \x3e 0.0 ? 0.0 : 3.0;\n\t\t\telse\n\t\t\t\tface \x3d direction.y \x3e 0.0 ? 1.0 : 4.0;\n\t\t} else {\n\t\t\tif ( absDirection.z \x3e absDirection.y )\n\t\t\t\tface \x3d direction.z \x3e 0.0 ? 2.0 : 5.0;\n\t\t\telse\n\t\t\t\tface \x3d direction.y \x3e 0.0 ? 1.0 : 4.0;\n\t\t}\n\t\treturn face;\n\t}\n\tvec2 getUV( vec3 direction, float face ) {\n\t\tvec2 uv;\n\t\tif ( face \x3d\x3d 0.0 ) {\n\t\t\tuv \x3d vec2( direction.z, direction.y ) / abs( direction.x );\n\t\t} else if ( face \x3d\x3d 1.0 ) {\n\t\t\tuv \x3d vec2( - direction.x, - direction.z ) / abs( direction.y );\n\t\t} else if ( face \x3d\x3d 2.0 ) {\n\t\t\tuv \x3d vec2( - direction.x, direction.y ) / abs( direction.z );\n\t\t} else if ( face \x3d\x3d 3.0 ) {\n\t\t\tuv \x3d vec2( - direction.z, direction.y ) / abs( direction.x );\n\t\t} else if ( face \x3d\x3d 4.0 ) {\n\t\t\tuv \x3d vec2( - direction.x, direction.z ) / abs( direction.y );\n\t\t} else {\n\t\t\tuv \x3d vec2( direction.x, direction.y ) / abs( direction.z );\n\t\t}\n\t\treturn 0.5 * ( uv + 1.0 );\n\t}\n\tvec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {\n\t\tfloat face \x3d getFace( direction );\n\t\tfloat filterInt \x3d max( cubeUV_minMipLevel - mipInt, 0.0 );\n\t\tmipInt \x3d max( mipInt, cubeUV_minMipLevel );\n\t\tfloat faceSize \x3d exp2( mipInt );\n\t\thighp vec2 uv \x3d getUV( direction, face ) * ( faceSize - 2.0 ) + 1.0;\n\t\tif ( face \x3e 2.0 ) {\n\t\t\tuv.y +\x3d faceSize;\n\t\t\tface -\x3d 3.0;\n\t\t}\n\t\tuv.x +\x3d face * faceSize;\n\t\tuv.x +\x3d filterInt * 3.0 * cubeUV_minTileSize;\n\t\tuv.y +\x3d 4.0 * ( exp2( CUBEUV_MAX_MIP ) - faceSize );\n\t\tuv.x *\x3d CUBEUV_TEXEL_WIDTH;\n\t\tuv.y *\x3d CUBEUV_TEXEL_HEIGHT;\n\t\t#ifdef texture2DGradEXT\n\t\t\treturn texture2DGradEXT( envMap, uv, vec2( 0.0 ), vec2( 0.0 ) ).rgb;\n\t\t#else\n\t\t\treturn texture2D( envMap, uv ).rgb;\n\t\t#endif\n\t}\n\t#define cubeUV_r0 1.0\n\t#define cubeUV_v0 0.339\n\t#define cubeUV_m0 - 2.0\n\t#define cubeUV_r1 0.8\n\t#define cubeUV_v1 0.276\n\t#define cubeUV_m1 - 1.0\n\t#define cubeUV_r4 0.4\n\t#define cubeUV_v4 0.046\n\t#define cubeUV_m4 2.0\n\t#define cubeUV_r5 0.305\n\t#define cubeUV_v5 0.016\n\t#define cubeUV_m5 3.0\n\t#define cubeUV_r6 0.21\n\t#define cubeUV_v6 0.0038\n\t#define cubeUV_m6 4.0\n\tfloat roughnessToMip( float roughness ) {\n\t\tfloat mip \x3d 0.0;\n\t\tif ( roughness \x3e\x3d cubeUV_r1 ) {\n\t\t\tmip \x3d ( cubeUV_r0 - roughness ) * ( cubeUV_m1 - cubeUV_m0 ) / ( cubeUV_r0 - cubeUV_r1 ) + cubeUV_m0;\n\t\t} else if ( roughness \x3e\x3d cubeUV_r4 ) {\n\t\t\tmip \x3d ( cubeUV_r1 - roughness ) * ( cubeUV_m4 - cubeUV_m1 ) / ( cubeUV_r1 - cubeUV_r4 ) + cubeUV_m1;\n\t\t} else if ( roughness \x3e\x3d cubeUV_r5 ) {\n\t\t\tmip \x3d ( cubeUV_r4 - roughness ) * ( cubeUV_m5 - cubeUV_m4 ) / ( cubeUV_r4 - cubeUV_r5 ) + cubeUV_m4;\n\t\t} else if ( roughness \x3e\x3d cubeUV_r6 ) {\n\t\t\tmip \x3d ( cubeUV_r5 - roughness ) * ( cubeUV_m6 - cubeUV_m5 ) / ( cubeUV_r5 - cubeUV_r6 ) + cubeUV_m5;\n\t\t} else {\n\t\t\tmip \x3d - 2.0 * log2( 1.16 * roughness );\t\t}\n\t\treturn mip;\n\t}\n\tvec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {\n\t\tfloat mip \x3d clamp( roughnessToMip( roughness ), cubeUV_m0, CUBEUV_MAX_MIP );\n\t\tfloat mipF \x3d fract( mip );\n\t\tfloat mipInt \x3d floor( mip );\n\t\tvec3 color0 \x3d bilinearCubeUV( envMap, sampleDir, mipInt );\n\t\tif ( mipF \x3d\x3d 0.0 ) {\n\t\t\treturn vec4( color0, 1.0 );\n\t\t} else {\n\t\t\tvec3 color1 \x3d bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );\n\t\t\treturn vec4( mix( color0, color1, mipF ), 1.0 );\n\t\t}\n\t}\n#endif",
defaultnormal_vertex:"vec3 transformedNormal \x3d objectNormal;\n#ifdef USE_INSTANCING\n\tmat3 m \x3d mat3( instanceMatrix );\n\ttransformedNormal /\x3d vec3( dot( m[ 0 ], m[ 0 ] ), dot( m[ 1 ], m[ 1 ] ), dot( m[ 2 ], m[ 2 ] ) );\n\ttransformedNormal \x3d m * transformedNormal;\n#endif\ntransformedNormal \x3d normalMatrix * transformedNormal;\n#ifdef FLIP_SIDED\n\ttransformedNormal \x3d - transformedNormal;\n#endif\n#ifdef USE_TANGENT\n\tvec3 transformedTangent \x3d ( modelViewMatrix * vec4( objectTangent, 0.0 ) ).xyz;\n\t#ifdef FLIP_SIDED\n\t\ttransformedTangent \x3d - transformedTangent;\n\t#endif\n#endif",
displacementmap_pars_vertex:"#ifdef USE_DISPLACEMENTMAP\n\tuniform sampler2D displacementMap;\n\tuniform float displacementScale;\n\tuniform float displacementBias;\n#endif",displacementmap_vertex:"#ifdef USE_DISPLACEMENTMAP\n\ttransformed +\x3d normalize( objectNormal ) * ( texture2D( displacementMap, vUv ).x * displacementScale + displacementBias );\n#endif",emissivemap_fragment:"#ifdef USE_EMISSIVEMAP\n\tvec4 emissiveColor \x3d texture2D( emissiveMap, vUv );\n\ttotalEmissiveRadiance *\x3d emissiveColor.rgb;\n#endif",
emissivemap_pars_fragment:"#ifdef USE_EMISSIVEMAP\n\tuniform sampler2D emissiveMap;\n#endif",encodings_fragment:"gl_FragColor \x3d linearToOutputTexel( gl_FragColor );",encodings_pars_fragment:"vec4 LinearToLinear( in vec4 value ) {\n\treturn value;\n}\nvec4 LinearTosRGB( in vec4 value ) {\n\treturn vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );\n}",envmap_fragment:"#ifdef USE_ENVMAP\n\t#ifdef ENV_WORLDPOS\n\t\tvec3 cameraToFrag;\n\t\tif ( isOrthographic ) {\n\t\t\tcameraToFrag \x3d normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );\n\t\t} else {\n\t\t\tcameraToFrag \x3d normalize( vWorldPosition - cameraPosition );\n\t\t}\n\t\tvec3 worldNormal \x3d inverseTransformDirection( normal, viewMatrix );\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvec3 reflectVec \x3d reflect( cameraToFrag, worldNormal );\n\t\t#else\n\t\t\tvec3 reflectVec \x3d refract( cameraToFrag, worldNormal, refractionRatio );\n\t\t#endif\n\t#else\n\t\tvec3 reflectVec \x3d vReflect;\n\t#endif\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tvec4 envColor \x3d textureCube( envMap, vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );\n\t#else\n\t\tvec4 envColor \x3d vec4( 0.0 );\n\t#endif\n\t#ifdef ENVMAP_BLENDING_MULTIPLY\n\t\toutgoingLight \x3d mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );\n\t#elif defined( ENVMAP_BLENDING_MIX )\n\t\toutgoingLight \x3d mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );\n\t#elif defined( ENVMAP_BLENDING_ADD )\n\t\toutgoingLight +\x3d envColor.xyz * specularStrength * reflectivity;\n\t#endif\n#endif",
envmap_common_pars_fragment:"#ifdef USE_ENVMAP\n\tuniform float envMapIntensity;\n\tuniform float flipEnvMap;\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tuniform samplerCube envMap;\n\t#else\n\t\tuniform sampler2D envMap;\n\t#endif\n\t\n#endif",envmap_pars_fragment:"#ifdef USE_ENVMAP\n\tuniform float reflectivity;\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )\n\t\t#define ENV_WORLDPOS\n\t#endif\n\t#ifdef ENV_WORLDPOS\n\t\tvarying vec3 vWorldPosition;\n\t\tuniform float refractionRatio;\n\t#else\n\t\tvarying vec3 vReflect;\n\t#endif\n#endif",
envmap_pars_vertex:"#ifdef USE_ENVMAP\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )\n\t\t#define ENV_WORLDPOS\n\t#endif\n\t#ifdef ENV_WORLDPOS\n\t\t\n\t\tvarying vec3 vWorldPosition;\n\t#else\n\t\tvarying vec3 vReflect;\n\t\tuniform float refractionRatio;\n\t#endif\n#endif",envmap_physical_pars_fragment:"#if defined( USE_ENVMAP )\n\tvec3 getIBLIrradiance( const in vec3 normal ) {\n\t\t#if defined( ENVMAP_TYPE_CUBE_UV )\n\t\t\tvec3 worldNormal \x3d inverseTransformDirection( normal, viewMatrix );\n\t\t\tvec4 envMapColor \x3d textureCubeUV( envMap, worldNormal, 1.0 );\n\t\t\treturn PI * envMapColor.rgb * envMapIntensity;\n\t\t#else\n\t\t\treturn vec3( 0.0 );\n\t\t#endif\n\t}\n\tvec3 getIBLRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness ) {\n\t\t#if defined( ENVMAP_TYPE_CUBE_UV )\n\t\t\tvec3 reflectVec \x3d reflect( - viewDir, normal );\n\t\t\treflectVec \x3d normalize( mix( reflectVec, normal, roughness * roughness) );\n\t\t\treflectVec \x3d inverseTransformDirection( reflectVec, viewMatrix );\n\t\t\tvec4 envMapColor \x3d textureCubeUV( envMap, reflectVec, roughness );\n\t\t\treturn envMapColor.rgb * envMapIntensity;\n\t\t#else\n\t\t\treturn vec3( 0.0 );\n\t\t#endif\n\t}\n#endif",
envmap_vertex:"#ifdef USE_ENVMAP\n\t#ifdef ENV_WORLDPOS\n\t\tvWorldPosition \x3d worldPosition.xyz;\n\t#else\n\t\tvec3 cameraToVertex;\n\t\tif ( isOrthographic ) {\n\t\t\tcameraToVertex \x3d normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );\n\t\t} else {\n\t\t\tcameraToVertex \x3d normalize( worldPosition.xyz - cameraPosition );\n\t\t}\n\t\tvec3 worldNormal \x3d inverseTransformDirection( transformedNormal, viewMatrix );\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvReflect \x3d reflect( cameraToVertex, worldNormal );\n\t\t#else\n\t\t\tvReflect \x3d refract( cameraToVertex, worldNormal, refractionRatio );\n\t\t#endif\n\t#endif\n#endif",
fog_vertex:"#ifdef USE_FOG\n\tvFogDepth \x3d - mvPosition.z;\n#endif",fog_pars_vertex:"#ifdef USE_FOG\n\tvarying float vFogDepth;\n#endif",fog_fragment:"#ifdef USE_FOG\n\t#ifdef FOG_EXP2\n\t\tfloat fogFactor \x3d 1.0 - exp( - fogDensity * fogDensity * vFogDepth * vFogDepth );\n\t#else\n\t\tfloat fogFactor \x3d smoothstep( fogNear, fogFar, vFogDepth );\n\t#endif\n\tgl_FragColor.rgb \x3d mix( gl_FragColor.rgb, fogColor, fogFactor );\n#endif",fog_pars_fragment:"#ifdef USE_FOG\n\tuniform vec3 fogColor;\n\tvarying float vFogDepth;\n\t#ifdef FOG_EXP2\n\t\tuniform float fogDensity;\n\t#else\n\t\tuniform float fogNear;\n\t\tuniform float fogFar;\n\t#endif\n#endif",
gradientmap_pars_fragment:"#ifdef USE_GRADIENTMAP\n\tuniform sampler2D gradientMap;\n#endif\nvec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {\n\tfloat dotNL \x3d dot( normal, lightDirection );\n\tvec2 coord \x3d vec2( dotNL * 0.5 + 0.5, 0.0 );\n\t#ifdef USE_GRADIENTMAP\n\t\treturn vec3( texture2D( gradientMap, coord ).r );\n\t#else\n\t\tvec2 fw \x3d fwidth( coord ) * 0.5;\n\t\treturn mix( vec3( 0.7 ), vec3( 1.0 ), smoothstep( 0.7 - fw.x, 0.7 + fw.x, coord.x ) );\n\t#endif\n}",lightmap_fragment:"#ifdef USE_LIGHTMAP\n\tvec4 lightMapTexel \x3d texture2D( lightMap, vUv2 );\n\tvec3 lightMapIrradiance \x3d lightMapTexel.rgb * lightMapIntensity;\n\treflectedLight.indirectDiffuse +\x3d lightMapIrradiance;\n#endif",
lightmap_pars_fragment:"#ifdef USE_LIGHTMAP\n\tuniform sampler2D lightMap;\n\tuniform float lightMapIntensity;\n#endif",lights_lambert_fragment:"LambertMaterial material;\nmaterial.diffuseColor \x3d diffuseColor.rgb;\nmaterial.specularStrength \x3d specularStrength;",lights_lambert_pars_fragment:"varying vec3 vViewPosition;\nstruct LambertMaterial {\n\tvec3 diffuseColor;\n\tfloat specularStrength;\n};\nvoid RE_Direct_Lambert( const in IncidentLight directLight, const in GeometricContext geometry, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {\n\tfloat dotNL \x3d saturate( dot( geometry.normal, directLight.direction ) );\n\tvec3 irradiance \x3d dotNL * directLight.color;\n\treflectedLight.directDiffuse +\x3d irradiance * BRDF_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectDiffuse_Lambert( const in vec3 irradiance, const in GeometricContext geometry, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse +\x3d irradiance * BRDF_Lambert( material.diffuseColor );\n}\n#define RE_Direct\t\t\t\tRE_Direct_Lambert\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_Lambert",
lights_pars_begin:"uniform bool receiveShadow;\nuniform vec3 ambientLightColor;\nuniform vec3 lightProbe[ 9 ];\nvec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {\n\tfloat x \x3d normal.x, y \x3d normal.y, z \x3d normal.z;\n\tvec3 result \x3d shCoefficients[ 0 ] * 0.886227;\n\tresult +\x3d shCoefficients[ 1 ] * 2.0 * 0.511664 * y;\n\tresult +\x3d shCoefficients[ 2 ] * 2.0 * 0.511664 * z;\n\tresult +\x3d shCoefficients[ 3 ] * 2.0 * 0.511664 * x;\n\tresult +\x3d shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;\n\tresult +\x3d shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;\n\tresult +\x3d shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );\n\tresult +\x3d shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;\n\tresult +\x3d shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );\n\treturn result;\n}\nvec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in vec3 normal ) {\n\tvec3 worldNormal \x3d inverseTransformDirection( normal, viewMatrix );\n\tvec3 irradiance \x3d shGetIrradianceAt( worldNormal, lightProbe );\n\treturn irradiance;\n}\nvec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {\n\tvec3 irradiance \x3d ambientLightColor;\n\treturn irradiance;\n}\nfloat getDistanceAttenuation( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {\n\t#if defined ( LEGACY_LIGHTS )\n\t\tif ( cutoffDistance \x3e 0.0 \x26\x26 decayExponent \x3e 0.0 ) {\n\t\t\treturn pow( saturate( - lightDistance / cutoffDistance + 1.0 ), decayExponent );\n\t\t}\n\t\treturn 1.0;\n\t#else\n\t\tfloat distanceFalloff \x3d 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );\n\t\tif ( cutoffDistance \x3e 0.0 ) {\n\t\t\tdistanceFalloff *\x3d pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );\n\t\t}\n\t\treturn distanceFalloff;\n\t#endif\n}\nfloat getSpotAttenuation( const in float coneCosine, const in float penumbraCosine, const in float angleCosine ) {\n\treturn smoothstep( coneCosine, penumbraCosine, angleCosine );\n}\n#if NUM_DIR_LIGHTS \x3e 0\n\tstruct DirectionalLight {\n\t\tvec3 direction;\n\t\tvec3 color;\n\t};\n\tuniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];\n\tvoid getDirectionalLightInfo( const in DirectionalLight directionalLight, const in GeometricContext geometry, out IncidentLight light ) {\n\t\tlight.color \x3d directionalLight.color;\n\t\tlight.direction \x3d directionalLight.direction;\n\t\tlight.visible \x3d true;\n\t}\n#endif\n#if NUM_POINT_LIGHTS \x3e 0\n\tstruct PointLight {\n\t\tvec3 position;\n\t\tvec3 color;\n\t\tfloat distance;\n\t\tfloat decay;\n\t};\n\tuniform PointLight pointLights[ NUM_POINT_LIGHTS ];\n\tvoid getPointLightInfo( const in PointLight pointLight, const in GeometricContext geometry, out IncidentLight light ) {\n\t\tvec3 lVector \x3d pointLight.position - geometry.position;\n\t\tlight.direction \x3d normalize( lVector );\n\t\tfloat lightDistance \x3d length( lVector );\n\t\tlight.color \x3d pointLight.color;\n\t\tlight.color *\x3d getDistanceAttenuation( lightDistance, pointLight.distance, pointLight.decay );\n\t\tlight.visible \x3d ( light.color !\x3d vec3( 0.0 ) );\n\t}\n#endif\n#if NUM_SPOT_LIGHTS \x3e 0\n\tstruct SpotLight {\n\t\tvec3 position;\n\t\tvec3 direction;\n\t\tvec3 color;\n\t\tfloat distance;\n\t\tfloat decay;\n\t\tfloat coneCos;\n\t\tfloat penumbraCos;\n\t};\n\tuniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];\n\tvoid getSpotLightInfo( const in SpotLight spotLight, const in GeometricContext geometry, out IncidentLight light ) {\n\t\tvec3 lVector \x3d spotLight.position - geometry.position;\n\t\tlight.direction \x3d normalize( lVector );\n\t\tfloat angleCos \x3d dot( light.direction, spotLight.direction );\n\t\tfloat spotAttenuation \x3d getSpotAttenuation( spotLight.coneCos, spotLight.penumbraCos, angleCos );\n\t\tif ( spotAttenuation \x3e 0.0 ) {\n\t\t\tfloat lightDistance \x3d length( lVector );\n\t\t\tlight.color \x3d spotLight.color * spotAttenuation;\n\t\t\tlight.color *\x3d getDistanceAttenuation( lightDistance, spotLight.distance, spotLight.decay );\n\t\t\tlight.visible \x3d ( light.color !\x3d vec3( 0.0 ) );\n\t\t} else {\n\t\t\tlight.color \x3d vec3( 0.0 );\n\t\t\tlight.visible \x3d false;\n\t\t}\n\t}\n#endif\n#if NUM_RECT_AREA_LIGHTS \x3e 0\n\tstruct RectAreaLight {\n\t\tvec3 color;\n\t\tvec3 position;\n\t\tvec3 halfWidth;\n\t\tvec3 halfHeight;\n\t};\n\tuniform sampler2D ltc_1;\tuniform sampler2D ltc_2;\n\tuniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];\n#endif\n#if NUM_HEMI_LIGHTS \x3e 0\n\tstruct HemisphereLight {\n\t\tvec3 direction;\n\t\tvec3 skyColor;\n\t\tvec3 groundColor;\n\t};\n\tuniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];\n\tvec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in vec3 normal ) {\n\t\tfloat dotNL \x3d dot( normal, hemiLight.direction );\n\t\tfloat hemiDiffuseWeight \x3d 0.5 * dotNL + 0.5;\n\t\tvec3 irradiance \x3d mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );\n\t\treturn irradiance;\n\t}\n#endif",
lights_toon_fragment:"ToonMaterial material;\nmaterial.diffuseColor \x3d diffuseColor.rgb;",lights_toon_pars_fragment:"varying vec3 vViewPosition;\nstruct ToonMaterial {\n\tvec3 diffuseColor;\n};\nvoid RE_Direct_Toon( const in IncidentLight directLight, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {\n\tvec3 irradiance \x3d getGradientIrradiance( geometry.normal, directLight.direction ) * directLight.color;\n\treflectedLight.directDiffuse +\x3d irradiance * BRDF_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse +\x3d irradiance * BRDF_Lambert( material.diffuseColor );\n}\n#define RE_Direct\t\t\t\tRE_Direct_Toon\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_Toon",
lights_phong_fragment:"BlinnPhongMaterial material;\nmaterial.diffuseColor \x3d diffuseColor.rgb;\nmaterial.specularColor \x3d specular;\nmaterial.specularShininess \x3d shininess;\nmaterial.specularStrength \x3d specularStrength;",lights_phong_pars_fragment:"varying vec3 vViewPosition;\nstruct BlinnPhongMaterial {\n\tvec3 diffuseColor;\n\tvec3 specularColor;\n\tfloat specularShininess;\n\tfloat specularStrength;\n};\nvoid RE_Direct_BlinnPhong( const in IncidentLight directLight, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n\tfloat dotNL \x3d saturate( dot( geometry.normal, directLight.direction ) );\n\tvec3 irradiance \x3d dotNL * directLight.color;\n\treflectedLight.directDiffuse +\x3d irradiance * BRDF_Lambert( material.diffuseColor );\n\treflectedLight.directSpecular +\x3d irradiance * BRDF_BlinnPhong( directLight.direction, geometry.viewDir, geometry.normal, material.specularColor, material.specularShininess ) * material.specularStrength;\n}\nvoid RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse +\x3d irradiance * BRDF_Lambert( material.diffuseColor );\n}\n#define RE_Direct\t\t\t\tRE_Direct_BlinnPhong\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_BlinnPhong",
lights_physical_fragment:"PhysicalMaterial material;\nmaterial.diffuseColor \x3d diffuseColor.rgb * ( 1.0 - metalnessFactor );\nvec3 dxy \x3d max( abs( dFdx( geometryNormal ) ), abs( dFdy( geometryNormal ) ) );\nfloat geometryRoughness \x3d max( max( dxy.x, dxy.y ), dxy.z );\nmaterial.roughness \x3d max( roughnessFactor, 0.0525 );material.roughness +\x3d geometryRoughness;\nmaterial.roughness \x3d min( material.roughness, 1.0 );\n#ifdef IOR\n\tmaterial.ior \x3d ior;\n\t#ifdef SPECULAR\n\t\tfloat specularIntensityFactor \x3d specularIntensity;\n\t\tvec3 specularColorFactor \x3d specularColor;\n\t\t#ifdef USE_SPECULARINTENSITYMAP\n\t\t\tspecularIntensityFactor *\x3d texture2D( specularIntensityMap, vUv ).a;\n\t\t#endif\n\t\t#ifdef USE_SPECULARCOLORMAP\n\t\t\tspecularColorFactor *\x3d texture2D( specularColorMap, vUv ).rgb;\n\t\t#endif\n\t\tmaterial.specularF90 \x3d mix( specularIntensityFactor, 1.0, metalnessFactor );\n\t#else\n\t\tfloat specularIntensityFactor \x3d 1.0;\n\t\tvec3 specularColorFactor \x3d vec3( 1.0 );\n\t\tmaterial.specularF90 \x3d 1.0;\n\t#endif\n\tmaterial.specularColor \x3d mix( min( pow2( ( material.ior - 1.0 ) / ( material.ior + 1.0 ) ) * specularColorFactor, vec3( 1.0 ) ) * specularIntensityFactor, diffuseColor.rgb, metalnessFactor );\n#else\n\tmaterial.specularColor \x3d mix( vec3( 0.04 ), diffuseColor.rgb, metalnessFactor );\n\tmaterial.specularF90 \x3d 1.0;\n#endif\n#ifdef USE_CLEARCOAT\n\tmaterial.clearcoat \x3d clearcoat;\n\tmaterial.clearcoatRoughness \x3d clearcoatRoughness;\n\tmaterial.clearcoatF0 \x3d vec3( 0.04 );\n\tmaterial.clearcoatF90 \x3d 1.0;\n\t#ifdef USE_CLEARCOATMAP\n\t\tmaterial.clearcoat *\x3d texture2D( clearcoatMap, vUv ).x;\n\t#endif\n\t#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n\t\tmaterial.clearcoatRoughness *\x3d texture2D( clearcoatRoughnessMap, vUv ).y;\n\t#endif\n\tmaterial.clearcoat \x3d saturate( material.clearcoat );\tmaterial.clearcoatRoughness \x3d max( material.clearcoatRoughness, 0.0525 );\n\tmaterial.clearcoatRoughness +\x3d geometryRoughness;\n\tmaterial.clearcoatRoughness \x3d min( material.clearcoatRoughness, 1.0 );\n#endif\n#ifdef USE_IRIDESCENCE\n\tmaterial.iridescence \x3d iridescence;\n\tmaterial.iridescenceIOR \x3d iridescenceIOR;\n\t#ifdef USE_IRIDESCENCEMAP\n\t\tmaterial.iridescence *\x3d texture2D( iridescenceMap, vUv ).r;\n\t#endif\n\t#ifdef USE_IRIDESCENCE_THICKNESSMAP\n\t\tmaterial.iridescenceThickness \x3d (iridescenceThicknessMaximum - iridescenceThicknessMinimum) * texture2D( iridescenceThicknessMap, vUv ).g + iridescenceThicknessMinimum;\n\t#else\n\t\tmaterial.iridescenceThickness \x3d iridescenceThicknessMaximum;\n\t#endif\n#endif\n#ifdef USE_SHEEN\n\tmaterial.sheenColor \x3d sheenColor;\n\t#ifdef USE_SHEENCOLORMAP\n\t\tmaterial.sheenColor *\x3d texture2D( sheenColorMap, vUv ).rgb;\n\t#endif\n\tmaterial.sheenRoughness \x3d clamp( sheenRoughness, 0.07, 1.0 );\n\t#ifdef USE_SHEENROUGHNESSMAP\n\t\tmaterial.sheenRoughness *\x3d texture2D( sheenRoughnessMap, vUv ).a;\n\t#endif\n#endif",
lights_physical_pars_fragment:"struct PhysicalMaterial {\n\tvec3 diffuseColor;\n\tfloat roughness;\n\tvec3 specularColor;\n\tfloat specularF90;\n\t#ifdef USE_CLEARCOAT\n\t\tfloat clearcoat;\n\t\tfloat clearcoatRoughness;\n\t\tvec3 clearcoatF0;\n\t\tfloat clearcoatF90;\n\t#endif\n\t#ifdef USE_IRIDESCENCE\n\t\tfloat iridescence;\n\t\tfloat iridescenceIOR;\n\t\tfloat iridescenceThickness;\n\t\tvec3 iridescenceFresnel;\n\t\tvec3 iridescenceF0;\n\t#endif\n\t#ifdef USE_SHEEN\n\t\tvec3 sheenColor;\n\t\tfloat sheenRoughness;\n\t#endif\n\t#ifdef IOR\n\t\tfloat ior;\n\t#endif\n\t#ifdef USE_TRANSMISSION\n\t\tfloat transmission;\n\t\tfloat transmissionAlpha;\n\t\tfloat thickness;\n\t\tfloat attenuationDistance;\n\t\tvec3 attenuationColor;\n\t#endif\n};\nvec3 clearcoatSpecular \x3d vec3( 0.0 );\nvec3 sheenSpecular \x3d vec3( 0.0 );\nfloat IBLSheenBRDF( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {\n\tfloat dotNV \x3d saturate( dot( normal, viewDir ) );\n\tfloat r2 \x3d roughness * roughness;\n\tfloat a \x3d roughness \x3c 0.25 ? -339.2 * r2 + 161.4 * roughness - 25.9 : -8.48 * r2 + 14.3 * roughness - 9.95;\n\tfloat b \x3d roughness \x3c 0.25 ? 44.0 * r2 - 23.7 * roughness + 3.26 : 1.97 * r2 - 3.27 * roughness + 0.72;\n\tfloat DG \x3d exp( a * dotNV + b ) + ( roughness \x3c 0.25 ? 0.0 : 0.1 * ( roughness - 0.25 ) );\n\treturn saturate( DG * RECIPROCAL_PI );\n}\nvec2 DFGApprox( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {\n\tfloat dotNV \x3d saturate( dot( normal, viewDir ) );\n\tconst vec4 c0 \x3d vec4( - 1, - 0.0275, - 0.572, 0.022 );\n\tconst vec4 c1 \x3d vec4( 1, 0.0425, 1.04, - 0.04 );\n\tvec4 r \x3d roughness * c0 + c1;\n\tfloat a004 \x3d min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;\n\tvec2 fab \x3d vec2( - 1.04, 1.04 ) * a004 + r.zw;\n\treturn fab;\n}\nvec3 EnvironmentBRDF( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness ) {\n\tvec2 fab \x3d DFGApprox( normal, viewDir, roughness );\n\treturn specularColor * fab.x + specularF90 * fab.y;\n}\n#ifdef USE_IRIDESCENCE\nvoid computeMultiscatteringIridescence( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float iridescence, const in vec3 iridescenceF0, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {\n#else\nvoid computeMultiscattering( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {\n#endif\n\tvec2 fab \x3d DFGApprox( normal, viewDir, roughness );\n\t#ifdef USE_IRIDESCENCE\n\t\tvec3 Fr \x3d mix( specularColor, iridescenceF0, iridescence );\n\t#else\n\t\tvec3 Fr \x3d specularColor;\n\t#endif\n\tvec3 FssEss \x3d Fr * fab.x + specularF90 * fab.y;\n\tfloat Ess \x3d fab.x + fab.y;\n\tfloat Ems \x3d 1.0 - Ess;\n\tvec3 Favg \x3d Fr + ( 1.0 - Fr ) * 0.047619;\tvec3 Fms \x3d FssEss * Favg / ( 1.0 - Ems * Favg );\n\tsingleScatter +\x3d FssEss;\n\tmultiScatter +\x3d Fms * Ems;\n}\n#if NUM_RECT_AREA_LIGHTS \x3e 0\n\tvoid RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\t\tvec3 normal \x3d geometry.normal;\n\t\tvec3 viewDir \x3d geometry.viewDir;\n\t\tvec3 position \x3d geometry.position;\n\t\tvec3 lightPos \x3d rectAreaLight.position;\n\t\tvec3 halfWidth \x3d rectAreaLight.halfWidth;\n\t\tvec3 halfHeight \x3d rectAreaLight.halfHeight;\n\t\tvec3 lightColor \x3d rectAreaLight.color;\n\t\tfloat roughness \x3d material.roughness;\n\t\tvec3 rectCoords[ 4 ];\n\t\trectCoords[ 0 ] \x3d lightPos + halfWidth - halfHeight;\t\trectCoords[ 1 ] \x3d lightPos - halfWidth - halfHeight;\n\t\trectCoords[ 2 ] \x3d lightPos - halfWidth + halfHeight;\n\t\trectCoords[ 3 ] \x3d lightPos + halfWidth + halfHeight;\n\t\tvec2 uv \x3d LTC_Uv( normal, viewDir, roughness );\n\t\tvec4 t1 \x3d texture2D( ltc_1, uv );\n\t\tvec4 t2 \x3d texture2D( ltc_2, uv );\n\t\tmat3 mInv \x3d mat3(\n\t\t\tvec3( t1.x, 0, t1.y ),\n\t\t\tvec3(    0, 1,    0 ),\n\t\t\tvec3( t1.z, 0, t1.w )\n\t\t);\n\t\tvec3 fresnel \x3d ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );\n\t\treflectedLight.directSpecular +\x3d lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );\n\t\treflectedLight.directDiffuse +\x3d lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );\n\t}\n#endif\nvoid RE_Direct_Physical( const in IncidentLight directLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\tfloat dotNL \x3d saturate( dot( geometry.normal, directLight.direction ) );\n\tvec3 irradiance \x3d dotNL * directLight.color;\n\t#ifdef USE_CLEARCOAT\n\t\tfloat dotNLcc \x3d saturate( dot( geometry.clearcoatNormal, directLight.direction ) );\n\t\tvec3 ccIrradiance \x3d dotNLcc * directLight.color;\n\t\tclearcoatSpecular +\x3d ccIrradiance * BRDF_GGX( directLight.direction, geometry.viewDir, geometry.clearcoatNormal, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );\n\t#endif\n\t#ifdef USE_SHEEN\n\t\tsheenSpecular +\x3d irradiance * BRDF_Sheen( directLight.direction, geometry.viewDir, geometry.normal, material.sheenColor, material.sheenRoughness );\n\t#endif\n\t#ifdef USE_IRIDESCENCE\n\t\treflectedLight.directSpecular +\x3d irradiance * BRDF_GGX_Iridescence( directLight.direction, geometry.viewDir, geometry.normal, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness );\n\t#else\n\t\treflectedLight.directSpecular +\x3d irradiance * BRDF_GGX( directLight.direction, geometry.viewDir, geometry.normal, material.specularColor, material.specularF90, material.roughness );\n\t#endif\n\treflectedLight.directDiffuse +\x3d irradiance * BRDF_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse +\x3d irradiance * BRDF_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {\n\t#ifdef USE_CLEARCOAT\n\t\tclearcoatSpecular +\x3d clearcoatRadiance * EnvironmentBRDF( geometry.clearcoatNormal, geometry.viewDir, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );\n\t#endif\n\t#ifdef USE_SHEEN\n\t\tsheenSpecular +\x3d irradiance * material.sheenColor * IBLSheenBRDF( geometry.normal, geometry.viewDir, material.sheenRoughness );\n\t#endif\n\tvec3 singleScattering \x3d vec3( 0.0 );\n\tvec3 multiScattering \x3d vec3( 0.0 );\n\tvec3 cosineWeightedIrradiance \x3d irradiance * RECIPROCAL_PI;\n\t#ifdef USE_IRIDESCENCE\n\t\tcomputeMultiscatteringIridescence( geometry.normal, geometry.viewDir, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness, singleScattering, multiScattering );\n\t#else\n\t\tcomputeMultiscattering( geometry.normal, geometry.viewDir, material.specularColor, material.specularF90, material.roughness, singleScattering, multiScattering );\n\t#endif\n\tvec3 totalScattering \x3d singleScattering + multiScattering;\n\tvec3 diffuse \x3d material.diffuseColor * ( 1.0 - max( max( totalScattering.r, totalScattering.g ), totalScattering.b ) );\n\treflectedLight.indirectSpecular +\x3d radiance * singleScattering;\n\treflectedLight.indirectSpecular +\x3d multiScattering * cosineWeightedIrradiance;\n\treflectedLight.indirectDiffuse +\x3d diffuse * cosineWeightedIrradiance;\n}\n#define RE_Direct\t\t\t\tRE_Direct_Physical\n#define RE_Direct_RectArea\t\tRE_Direct_RectArea_Physical\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_Physical\n#define RE_IndirectSpecular\t\tRE_IndirectSpecular_Physical\nfloat computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {\n\treturn saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );\n}",
lights_fragment_begin:"\nGeometricContext geometry;\ngeometry.position \x3d - vViewPosition;\ngeometry.normal \x3d normal;\ngeometry.viewDir \x3d ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );\n#ifdef USE_CLEARCOAT\n\tgeometry.clearcoatNormal \x3d clearcoatNormal;\n#endif\n#ifdef USE_IRIDESCENCE\n\tfloat dotNVi \x3d saturate( dot( normal, geometry.viewDir ) );\n\tif ( material.iridescenceThickness \x3d\x3d 0.0 ) {\n\t\tmaterial.iridescence \x3d 0.0;\n\t} else {\n\t\tmaterial.iridescence \x3d saturate( material.iridescence );\n\t}\n\tif ( material.iridescence \x3e 0.0 ) {\n\t\tmaterial.iridescenceFresnel \x3d evalIridescence( 1.0, material.iridescenceIOR, dotNVi, material.iridescenceThickness, material.specularColor );\n\t\tmaterial.iridescenceF0 \x3d Schlick_to_F0( material.iridescenceFresnel, 1.0, dotNVi );\n\t}\n#endif\nIncidentLight directLight;\n#if ( NUM_POINT_LIGHTS \x3e 0 ) \x26\x26 defined( RE_Direct )\n\tPointLight pointLight;\n\t#if defined( USE_SHADOWMAP ) \x26\x26 NUM_POINT_LIGHT_SHADOWS \x3e 0\n\tPointLightShadow pointLightShadow;\n\t#endif\n\t#pragma unroll_loop_start\n\tfor ( int i \x3d 0; i \x3c NUM_POINT_LIGHTS; i ++ ) {\n\t\tpointLight \x3d pointLights[ i ];\n\t\tgetPointLightInfo( pointLight, geometry, directLight );\n\t\t#if defined( USE_SHADOWMAP ) \x26\x26 ( UNROLLED_LOOP_INDEX \x3c NUM_POINT_LIGHT_SHADOWS )\n\t\tpointLightShadow \x3d pointLightShadows[ i ];\n\t\tdirectLight.color *\x3d ( directLight.visible \x26\x26 receiveShadow ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if ( NUM_SPOT_LIGHTS \x3e 0 ) \x26\x26 defined( RE_Direct )\n\tSpotLight spotLight;\n\tvec4 spotColor;\n\tvec3 spotLightCoord;\n\tbool inSpotLightMap;\n\t#if defined( USE_SHADOWMAP ) \x26\x26 NUM_SPOT_LIGHT_SHADOWS \x3e 0\n\tSpotLightShadow spotLightShadow;\n\t#endif\n\t#pragma unroll_loop_start\n\tfor ( int i \x3d 0; i \x3c NUM_SPOT_LIGHTS; i ++ ) {\n\t\tspotLight \x3d spotLights[ i ];\n\t\tgetSpotLightInfo( spotLight, geometry, directLight );\n\t\t#if ( UNROLLED_LOOP_INDEX \x3c NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )\n\t\t#define SPOT_LIGHT_MAP_INDEX UNROLLED_LOOP_INDEX\n\t\t#elif ( UNROLLED_LOOP_INDEX \x3c NUM_SPOT_LIGHT_SHADOWS )\n\t\t#define SPOT_LIGHT_MAP_INDEX NUM_SPOT_LIGHT_MAPS\n\t\t#else\n\t\t#define SPOT_LIGHT_MAP_INDEX ( UNROLLED_LOOP_INDEX - NUM_SPOT_LIGHT_SHADOWS + NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )\n\t\t#endif\n\t\t#if ( SPOT_LIGHT_MAP_INDEX \x3c NUM_SPOT_LIGHT_MAPS )\n\t\t\tspotLightCoord \x3d vSpotLightCoord[ i ].xyz / vSpotLightCoord[ i ].w;\n\t\t\tinSpotLightMap \x3d all( lessThan( abs( spotLightCoord * 2. - 1. ), vec3( 1.0 ) ) );\n\t\t\tspotColor \x3d texture2D( spotLightMap[ SPOT_LIGHT_MAP_INDEX ], spotLightCoord.xy );\n\t\t\tdirectLight.color \x3d inSpotLightMap ? directLight.color * spotColor.rgb : directLight.color;\n\t\t#endif\n\t\t#undef SPOT_LIGHT_MAP_INDEX\n\t\t#if defined( USE_SHADOWMAP ) \x26\x26 ( UNROLLED_LOOP_INDEX \x3c NUM_SPOT_LIGHT_SHADOWS )\n\t\tspotLightShadow \x3d spotLightShadows[ i ];\n\t\tdirectLight.color *\x3d ( directLight.visible \x26\x26 receiveShadow ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if ( NUM_DIR_LIGHTS \x3e 0 ) \x26\x26 defined( RE_Direct )\n\tDirectionalLight directionalLight;\n\t#if defined( USE_SHADOWMAP ) \x26\x26 NUM_DIR_LIGHT_SHADOWS \x3e 0\n\tDirectionalLightShadow directionalLightShadow;\n\t#endif\n\t#pragma unroll_loop_start\n\tfor ( int i \x3d 0; i \x3c NUM_DIR_LIGHTS; i ++ ) {\n\t\tdirectionalLight \x3d directionalLights[ i ];\n\t\tgetDirectionalLightInfo( directionalLight, geometry, directLight );\n\t\t#if defined( USE_SHADOWMAP ) \x26\x26 ( UNROLLED_LOOP_INDEX \x3c NUM_DIR_LIGHT_SHADOWS )\n\t\tdirectionalLightShadow \x3d directionalLightShadows[ i ];\n\t\tdirectLight.color *\x3d ( directLight.visible \x26\x26 receiveShadow ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if ( NUM_RECT_AREA_LIGHTS \x3e 0 ) \x26\x26 defined( RE_Direct_RectArea )\n\tRectAreaLight rectAreaLight;\n\t#pragma unroll_loop_start\n\tfor ( int i \x3d 0; i \x3c NUM_RECT_AREA_LIGHTS; i ++ ) {\n\t\trectAreaLight \x3d rectAreaLights[ i ];\n\t\tRE_Direct_RectArea( rectAreaLight, geometry, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if defined( RE_IndirectDiffuse )\n\tvec3 iblIrradiance \x3d vec3( 0.0 );\n\tvec3 irradiance \x3d getAmbientLightIrradiance( ambientLightColor );\n\tirradiance +\x3d getLightProbeIrradiance( lightProbe, geometry.normal );\n\t#if ( NUM_HEMI_LIGHTS \x3e 0 )\n\t\t#pragma unroll_loop_start\n\t\tfor ( int i \x3d 0; i \x3c NUM_HEMI_LIGHTS; i ++ ) {\n\t\t\tirradiance +\x3d getHemisphereLightIrradiance( hemisphereLights[ i ], geometry.normal );\n\t\t}\n\t\t#pragma unroll_loop_end\n\t#endif\n#endif\n#if defined( RE_IndirectSpecular )\n\tvec3 radiance \x3d vec3( 0.0 );\n\tvec3 clearcoatRadiance \x3d vec3( 0.0 );\n#endif",
lights_fragment_maps:"#if defined( RE_IndirectDiffuse )\n\t#ifdef USE_LIGHTMAP\n\t\tvec4 lightMapTexel \x3d texture2D( lightMap, vUv2 );\n\t\tvec3 lightMapIrradiance \x3d lightMapTexel.rgb * lightMapIntensity;\n\t\tirradiance +\x3d lightMapIrradiance;\n\t#endif\n\t#if defined( USE_ENVMAP ) \x26\x26 defined( STANDARD ) \x26\x26 defined( ENVMAP_TYPE_CUBE_UV )\n\t\tiblIrradiance +\x3d getIBLIrradiance( geometry.normal );\n\t#endif\n#endif\n#if defined( USE_ENVMAP ) \x26\x26 defined( RE_IndirectSpecular )\n\tradiance +\x3d getIBLRadiance( geometry.viewDir, geometry.normal, material.roughness );\n\t#ifdef USE_CLEARCOAT\n\t\tclearcoatRadiance +\x3d getIBLRadiance( geometry.viewDir, geometry.clearcoatNormal, material.clearcoatRoughness );\n\t#endif\n#endif",
lights_fragment_end:"#if defined( RE_IndirectDiffuse )\n\tRE_IndirectDiffuse( irradiance, geometry, material, reflectedLight );\n#endif\n#if defined( RE_IndirectSpecular )\n\tRE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometry, material, reflectedLight );\n#endif",logdepthbuf_fragment:"#if defined( USE_LOGDEPTHBUF ) \x26\x26 defined( USE_LOGDEPTHBUF_EXT )\n\tgl_FragDepthEXT \x3d vIsPerspective \x3d\x3d 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;\n#endif",
logdepthbuf_pars_fragment:"#if defined( USE_LOGDEPTHBUF ) \x26\x26 defined( USE_LOGDEPTHBUF_EXT )\n\tuniform float logDepthBufFC;\n\tvarying float vFragDepth;\n\tvarying float vIsPerspective;\n#endif",logdepthbuf_pars_vertex:"#ifdef USE_LOGDEPTHBUF\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\t\tvarying float vFragDepth;\n\t\tvarying float vIsPerspective;\n\t#else\n\t\tuniform float logDepthBufFC;\n\t#endif\n#endif",logdepthbuf_vertex:"#ifdef USE_LOGDEPTHBUF\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\t\tvFragDepth \x3d 1.0 + gl_Position.w;\n\t\tvIsPerspective \x3d float( isPerspectiveMatrix( projectionMatrix ) );\n\t#else\n\t\tif ( isPerspectiveMatrix( projectionMatrix ) ) {\n\t\t\tgl_Position.z \x3d log2( max( EPSILON, gl_Position.w + 1.0 ) ) * logDepthBufFC - 1.0;\n\t\t\tgl_Position.z *\x3d gl_Position.w;\n\t\t}\n\t#endif\n#endif",
map_fragment:"#ifdef USE_MAP\n\tvec4 sampledDiffuseColor \x3d texture2D( map, vUv );\n\t#ifdef DECODE_VIDEO_TEXTURE\n\t\tsampledDiffuseColor \x3d vec4( mix( pow( sampledDiffuseColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), sampledDiffuseColor.rgb * 0.0773993808, vec3( lessThanEqual( sampledDiffuseColor.rgb, vec3( 0.04045 ) ) ) ), sampledDiffuseColor.w );\n\t#endif\n\tdiffuseColor *\x3d sampledDiffuseColor;\n#endif",map_pars_fragment:"#ifdef USE_MAP\n\tuniform sampler2D map;\n#endif",
map_particle_fragment:"#if defined( USE_MAP ) || defined( USE_ALPHAMAP )\n\tvec2 uv \x3d ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;\n#endif\n#ifdef USE_MAP\n\tdiffuseColor *\x3d texture2D( map, uv );\n#endif\n#ifdef USE_ALPHAMAP\n\tdiffuseColor.a *\x3d texture2D( alphaMap, uv ).g;\n#endif",map_particle_pars_fragment:"#if defined( USE_MAP ) || defined( USE_ALPHAMAP )\n\tuniform mat3 uvTransform;\n#endif\n#ifdef USE_MAP\n\tuniform sampler2D map;\n#endif\n#ifdef USE_ALPHAMAP\n\tuniform sampler2D alphaMap;\n#endif",
metalnessmap_fragment:"float metalnessFactor \x3d metalness;\n#ifdef USE_METALNESSMAP\n\tvec4 texelMetalness \x3d texture2D( metalnessMap, vUv );\n\tmetalnessFactor *\x3d texelMetalness.b;\n#endif",metalnessmap_pars_fragment:"#ifdef USE_METALNESSMAP\n\tuniform sampler2D metalnessMap;\n#endif",morphcolor_vertex:"#if defined( USE_MORPHCOLORS ) \x26\x26 defined( MORPHTARGETS_TEXTURE )\n\tvColor *\x3d morphTargetBaseInfluence;\n\tfor ( int i \x3d 0; i \x3c MORPHTARGETS_COUNT; i ++ ) {\n\t\t#if defined( USE_COLOR_ALPHA )\n\t\t\tif ( morphTargetInfluences[ i ] !\x3d 0.0 ) vColor +\x3d getMorph( gl_VertexID, i, 2 ) * morphTargetInfluences[ i ];\n\t\t#elif defined( USE_COLOR )\n\t\t\tif ( morphTargetInfluences[ i ] !\x3d 0.0 ) vColor +\x3d getMorph( gl_VertexID, i, 2 ).rgb * morphTargetInfluences[ i ];\n\t\t#endif\n\t}\n#endif",
morphnormal_vertex:"#ifdef USE_MORPHNORMALS\n\tobjectNormal *\x3d morphTargetBaseInfluence;\n\t#ifdef MORPHTARGETS_TEXTURE\n\t\tfor ( int i \x3d 0; i \x3c MORPHTARGETS_COUNT; i ++ ) {\n\t\t\tif ( morphTargetInfluences[ i ] !\x3d 0.0 ) objectNormal +\x3d getMorph( gl_VertexID, i, 1 ).xyz * morphTargetInfluences[ i ];\n\t\t}\n\t#else\n\t\tobjectNormal +\x3d morphNormal0 * morphTargetInfluences[ 0 ];\n\t\tobjectNormal +\x3d morphNormal1 * morphTargetInfluences[ 1 ];\n\t\tobjectNormal +\x3d morphNormal2 * morphTargetInfluences[ 2 ];\n\t\tobjectNormal +\x3d morphNormal3 * morphTargetInfluences[ 3 ];\n\t#endif\n#endif",
morphtarget_pars_vertex:"#ifdef USE_MORPHTARGETS\n\tuniform float morphTargetBaseInfluence;\n\t#ifdef MORPHTARGETS_TEXTURE\n\t\tuniform float morphTargetInfluences[ MORPHTARGETS_COUNT ];\n\t\tuniform sampler2DArray morphTargetsTexture;\n\t\tuniform ivec2 morphTargetsTextureSize;\n\t\tvec4 getMorph( const in int vertexIndex, const in int morphTargetIndex, const in int offset ) {\n\t\t\tint texelIndex \x3d vertexIndex * MORPHTARGETS_TEXTURE_STRIDE + offset;\n\t\t\tint y \x3d texelIndex / morphTargetsTextureSize.x;\n\t\t\tint x \x3d texelIndex - y * morphTargetsTextureSize.x;\n\t\t\tivec3 morphUV \x3d ivec3( x, y, morphTargetIndex );\n\t\t\treturn texelFetch( morphTargetsTexture, morphUV, 0 );\n\t\t}\n\t#else\n\t\t#ifndef USE_MORPHNORMALS\n\t\t\tuniform float morphTargetInfluences[ 8 ];\n\t\t#else\n\t\t\tuniform float morphTargetInfluences[ 4 ];\n\t\t#endif\n\t#endif\n#endif",
morphtarget_vertex:"#ifdef USE_MORPHTARGETS\n\ttransformed *\x3d morphTargetBaseInfluence;\n\t#ifdef MORPHTARGETS_TEXTURE\n\t\tfor ( int i \x3d 0; i \x3c MORPHTARGETS_COUNT; i ++ ) {\n\t\t\tif ( morphTargetInfluences[ i ] !\x3d 0.0 ) transformed +\x3d getMorph( gl_VertexID, i, 0 ).xyz * morphTargetInfluences[ i ];\n\t\t}\n\t#else\n\t\ttransformed +\x3d morphTarget0 * morphTargetInfluences[ 0 ];\n\t\ttransformed +\x3d morphTarget1 * morphTargetInfluences[ 1 ];\n\t\ttransformed +\x3d morphTarget2 * morphTargetInfluences[ 2 ];\n\t\ttransformed +\x3d morphTarget3 * morphTargetInfluences[ 3 ];\n\t\t#ifndef USE_MORPHNORMALS\n\t\t\ttransformed +\x3d morphTarget4 * morphTargetInfluences[ 4 ];\n\t\t\ttransformed +\x3d morphTarget5 * morphTargetInfluences[ 5 ];\n\t\t\ttransformed +\x3d morphTarget6 * morphTargetInfluences[ 6 ];\n\t\t\ttransformed +\x3d morphTarget7 * morphTargetInfluences[ 7 ];\n\t\t#endif\n\t#endif\n#endif",
normal_fragment_begin:"float faceDirection \x3d gl_FrontFacing ? 1.0 : - 1.0;\n#ifdef FLAT_SHADED\n\tvec3 fdx \x3d dFdx( vViewPosition );\n\tvec3 fdy \x3d dFdy( vViewPosition );\n\tvec3 normal \x3d normalize( cross( fdx, fdy ) );\n#else\n\tvec3 normal \x3d normalize( vNormal );\n\t#ifdef DOUBLE_SIDED\n\t\tnormal \x3d normal * faceDirection;\n\t#endif\n\t#ifdef USE_TANGENT\n\t\tvec3 tangent \x3d normalize( vTangent );\n\t\tvec3 bitangent \x3d normalize( vBitangent );\n\t\t#ifdef DOUBLE_SIDED\n\t\t\ttangent \x3d tangent * faceDirection;\n\t\t\tbitangent \x3d bitangent * faceDirection;\n\t\t#endif\n\t\t#if defined( TANGENTSPACE_NORMALMAP ) || defined( USE_CLEARCOAT_NORMALMAP )\n\t\t\tmat3 vTBN \x3d mat3( tangent, bitangent, normal );\n\t\t#endif\n\t#endif\n#endif\nvec3 geometryNormal \x3d normal;",
normal_fragment_maps:"#ifdef OBJECTSPACE_NORMALMAP\n\tnormal \x3d texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;\n\t#ifdef FLIP_SIDED\n\t\tnormal \x3d - normal;\n\t#endif\n\t#ifdef DOUBLE_SIDED\n\t\tnormal \x3d normal * faceDirection;\n\t#endif\n\tnormal \x3d normalize( normalMatrix * normal );\n#elif defined( TANGENTSPACE_NORMALMAP )\n\tvec3 mapN \x3d texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;\n\tmapN.xy *\x3d normalScale;\n\t#ifdef USE_TANGENT\n\t\tnormal \x3d normalize( vTBN * mapN );\n\t#else\n\t\tnormal \x3d perturbNormal2Arb( - vViewPosition, normal, mapN, faceDirection );\n\t#endif\n#elif defined( USE_BUMPMAP )\n\tnormal \x3d perturbNormalArb( - vViewPosition, normal, dHdxy_fwd(), faceDirection );\n#endif",
normal_pars_fragment:"#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n\t#ifdef USE_TANGENT\n\t\tvarying vec3 vTangent;\n\t\tvarying vec3 vBitangent;\n\t#endif\n#endif",normal_pars_vertex:"#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n\t#ifdef USE_TANGENT\n\t\tvarying vec3 vTangent;\n\t\tvarying vec3 vBitangent;\n\t#endif\n#endif",normal_vertex:"#ifndef FLAT_SHADED\n\tvNormal \x3d normalize( transformedNormal );\n\t#ifdef USE_TANGENT\n\t\tvTangent \x3d normalize( transformedTangent );\n\t\tvBitangent \x3d normalize( cross( vNormal, vTangent ) * tangent.w );\n\t#endif\n#endif",
normalmap_pars_fragment:"#ifdef USE_NORMALMAP\n\tuniform sampler2D normalMap;\n\tuniform vec2 normalScale;\n#endif\n#ifdef OBJECTSPACE_NORMALMAP\n\tuniform mat3 normalMatrix;\n#endif\n#if ! defined ( USE_TANGENT ) \x26\x26 ( defined ( TANGENTSPACE_NORMALMAP ) || defined ( USE_CLEARCOAT_NORMALMAP ) )\n\tvec3 perturbNormal2Arb( vec3 eye_pos, vec3 surf_norm, vec3 mapN, float faceDirection ) {\n\t\tvec3 q0 \x3d dFdx( eye_pos.xyz );\n\t\tvec3 q1 \x3d dFdy( eye_pos.xyz );\n\t\tvec2 st0 \x3d dFdx( vUv.st );\n\t\tvec2 st1 \x3d dFdy( vUv.st );\n\t\tvec3 N \x3d surf_norm;\n\t\tvec3 q1perp \x3d cross( q1, N );\n\t\tvec3 q0perp \x3d cross( N, q0 );\n\t\tvec3 T \x3d q1perp * st0.x + q0perp * st1.x;\n\t\tvec3 B \x3d q1perp * st0.y + q0perp * st1.y;\n\t\tfloat det \x3d max( dot( T, T ), dot( B, B ) );\n\t\tfloat scale \x3d ( det \x3d\x3d 0.0 ) ? 0.0 : faceDirection * inversesqrt( det );\n\t\treturn normalize( T * ( mapN.x * scale ) + B * ( mapN.y * scale ) + N * mapN.z );\n\t}\n#endif",
clearcoat_normal_fragment_begin:"#ifdef USE_CLEARCOAT\n\tvec3 clearcoatNormal \x3d geometryNormal;\n#endif",clearcoat_normal_fragment_maps:"#ifdef USE_CLEARCOAT_NORMALMAP\n\tvec3 clearcoatMapN \x3d texture2D( clearcoatNormalMap, vUv ).xyz * 2.0 - 1.0;\n\tclearcoatMapN.xy *\x3d clearcoatNormalScale;\n\t#ifdef USE_TANGENT\n\t\tclearcoatNormal \x3d normalize( vTBN * clearcoatMapN );\n\t#else\n\t\tclearcoatNormal \x3d perturbNormal2Arb( - vViewPosition, clearcoatNormal, clearcoatMapN, faceDirection );\n\t#endif\n#endif",
clearcoat_pars_fragment:"#ifdef USE_CLEARCOATMAP\n\tuniform sampler2D clearcoatMap;\n#endif\n#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n\tuniform sampler2D clearcoatRoughnessMap;\n#endif\n#ifdef USE_CLEARCOAT_NORMALMAP\n\tuniform sampler2D clearcoatNormalMap;\n\tuniform vec2 clearcoatNormalScale;\n#endif",iridescence_pars_fragment:"#ifdef USE_IRIDESCENCEMAP\n\tuniform sampler2D iridescenceMap;\n#endif\n#ifdef USE_IRIDESCENCE_THICKNESSMAP\n\tuniform sampler2D iridescenceThicknessMap;\n#endif",output_fragment:"#ifdef OPAQUE\ndiffuseColor.a \x3d 1.0;\n#endif\n#ifdef USE_TRANSMISSION\ndiffuseColor.a *\x3d material.transmissionAlpha + 0.1;\n#endif\ngl_FragColor \x3d vec4( outgoingLight, diffuseColor.a );",
packing:"vec3 packNormalToRGB( const in vec3 normal ) {\n\treturn normalize( normal ) * 0.5 + 0.5;\n}\nvec3 unpackRGBToNormal( const in vec3 rgb ) {\n\treturn 2.0 * rgb.xyz - 1.0;\n}\nconst float PackUpscale \x3d 256. / 255.;const float UnpackDownscale \x3d 255. / 256.;\nconst vec3 PackFactors \x3d vec3( 256. * 256. * 256., 256. * 256., 256. );\nconst vec4 UnpackFactors \x3d UnpackDownscale / vec4( PackFactors, 1. );\nconst float ShiftRight8 \x3d 1. / 256.;\nvec4 packDepthToRGBA( const in float v ) {\n\tvec4 r \x3d vec4( fract( v * PackFactors ), v );\n\tr.yzw -\x3d r.xyz * ShiftRight8;\treturn r * PackUpscale;\n}\nfloat unpackRGBAToDepth( const in vec4 v ) {\n\treturn dot( v, UnpackFactors );\n}\nvec2 packDepthToRG( in highp float v ) {\n\treturn packDepthToRGBA( v ).yx;\n}\nfloat unpackRGToDepth( const in highp vec2 v ) {\n\treturn unpackRGBAToDepth( vec4( v.xy, 0.0, 0.0 ) );\n}\nvec4 pack2HalfToRGBA( vec2 v ) {\n\tvec4 r \x3d vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ) );\n\treturn vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w );\n}\nvec2 unpackRGBATo2Half( vec4 v ) {\n\treturn vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );\n}\nfloat viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {\n\treturn ( viewZ + near ) / ( near - far );\n}\nfloat orthographicDepthToViewZ( const in float linearClipZ, const in float near, const in float far ) {\n\treturn linearClipZ * ( near - far ) - near;\n}\nfloat viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {\n\treturn ( ( near + viewZ ) * far ) / ( ( far - near ) * viewZ );\n}\nfloat perspectiveDepthToViewZ( const in float invClipZ, const in float near, const in float far ) {\n\treturn ( near * far ) / ( ( far - near ) * invClipZ - far );\n}",
premultiplied_alpha_fragment:"#ifdef PREMULTIPLIED_ALPHA\n\tgl_FragColor.rgb *\x3d gl_FragColor.a;\n#endif",project_vertex:"vec4 mvPosition \x3d vec4( transformed, 1.0 );\n#ifdef USE_INSTANCING\n\tmvPosition \x3d instanceMatrix * mvPosition;\n#endif\nmvPosition \x3d modelViewMatrix * mvPosition;\ngl_Position \x3d projectionMatrix * mvPosition;",dithering_fragment:"#ifdef DITHERING\n\tgl_FragColor.rgb \x3d dithering( gl_FragColor.rgb );\n#endif",dithering_pars_fragment:"#ifdef DITHERING\n\tvec3 dithering( vec3 color ) {\n\t\tfloat grid_position \x3d rand( gl_FragCoord.xy );\n\t\tvec3 dither_shift_RGB \x3d vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );\n\t\tdither_shift_RGB \x3d mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );\n\t\treturn color + dither_shift_RGB;\n\t}\n#endif",
roughnessmap_fragment:"float roughnessFactor \x3d roughness;\n#ifdef USE_ROUGHNESSMAP\n\tvec4 texelRoughness \x3d texture2D( roughnessMap, vUv );\n\troughnessFactor *\x3d texelRoughness.g;\n#endif",roughnessmap_pars_fragment:"#ifdef USE_ROUGHNESSMAP\n\tuniform sampler2D roughnessMap;\n#endif",shadowmap_pars_fragment:"#if NUM_SPOT_LIGHT_COORDS \x3e 0\n\tvarying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];\n#endif\n#if NUM_SPOT_LIGHT_MAPS \x3e 0\n\tuniform sampler2D spotLightMap[ NUM_SPOT_LIGHT_MAPS ];\n#endif\n#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS \x3e 0\n\t\tuniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tstruct DirectionalLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS \x3e 0\n\t\tuniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];\n\t\tstruct SpotLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS \x3e 0\n\t\tuniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tstruct PointLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t\tfloat shadowCameraNear;\n\t\t\tfloat shadowCameraFar;\n\t\t};\n\t\tuniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];\n\t#endif\n\tfloat texture2DCompare( sampler2D depths, vec2 uv, float compare ) {\n\t\treturn step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );\n\t}\n\tvec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {\n\t\treturn unpackRGBATo2Half( texture2D( shadow, uv ) );\n\t}\n\tfloat VSMShadow (sampler2D shadow, vec2 uv, float compare ){\n\t\tfloat occlusion \x3d 1.0;\n\t\tvec2 distribution \x3d texture2DDistribution( shadow, uv );\n\t\tfloat hard_shadow \x3d step( compare , distribution.x );\n\t\tif (hard_shadow !\x3d 1.0 ) {\n\t\t\tfloat distance \x3d compare - distribution.x ;\n\t\t\tfloat variance \x3d max( 0.00000, distribution.y * distribution.y );\n\t\t\tfloat softness_probability \x3d variance / (variance + distance * distance );\t\t\tsoftness_probability \x3d clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );\t\t\tocclusion \x3d clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );\n\t\t}\n\t\treturn occlusion;\n\t}\n\tfloat getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {\n\t\tfloat shadow \x3d 1.0;\n\t\tshadowCoord.xyz /\x3d shadowCoord.w;\n\t\tshadowCoord.z +\x3d shadowBias;\n\t\tbool inFrustum \x3d shadowCoord.x \x3e\x3d 0.0 \x26\x26 shadowCoord.x \x3c\x3d 1.0 \x26\x26 shadowCoord.y \x3e\x3d 0.0 \x26\x26 shadowCoord.y \x3c\x3d 1.0;\n\t\tbool frustumTest \x3d inFrustum \x26\x26 shadowCoord.z \x3c\x3d 1.0;\n\t\tif ( frustumTest ) {\n\t\t#if defined( SHADOWMAP_TYPE_PCF )\n\t\t\tvec2 texelSize \x3d vec2( 1.0 ) / shadowMapSize;\n\t\t\tfloat dx0 \x3d - texelSize.x * shadowRadius;\n\t\t\tfloat dy0 \x3d - texelSize.y * shadowRadius;\n\t\t\tfloat dx1 \x3d + texelSize.x * shadowRadius;\n\t\t\tfloat dy1 \x3d + texelSize.y * shadowRadius;\n\t\t\tfloat dx2 \x3d dx0 / 2.0;\n\t\t\tfloat dy2 \x3d dy0 / 2.0;\n\t\t\tfloat dx3 \x3d dx1 / 2.0;\n\t\t\tfloat dy3 \x3d dy1 / 2.0;\n\t\t\tshadow \x3d (\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )\n\t\t\t) * ( 1.0 / 17.0 );\n\t\t#elif defined( SHADOWMAP_TYPE_PCF_SOFT )\n\t\t\tvec2 texelSize \x3d vec2( 1.0 ) / shadowMapSize;\n\t\t\tfloat dx \x3d texelSize.x;\n\t\t\tfloat dy \x3d texelSize.y;\n\t\t\tvec2 uv \x3d shadowCoord.xy;\n\t\t\tvec2 f \x3d fract( uv * shadowMapSize + 0.5 );\n\t\t\tuv -\x3d f * texelSize;\n\t\t\tshadow \x3d (\n\t\t\t\ttexture2DCompare( shadowMap, uv, shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ),\n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),\n\t\t\t\t\t f.x ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ),\n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),\n\t\t\t\t\t f.x ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ),\n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t f.y ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ),\n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t f.y ) +\n\t\t\t\tmix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ),\n\t\t\t\t\t\t  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),\n\t\t\t\t\t\t  f.x ),\n\t\t\t\t\t mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t\t  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t\t  f.x ),\n\t\t\t\t\t f.y )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#elif defined( SHADOWMAP_TYPE_VSM )\n\t\t\tshadow \x3d VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );\n\t\t#else\n\t\t\tshadow \x3d texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );\n\t\t#endif\n\t\t}\n\t\treturn shadow;\n\t}\n\tvec2 cubeToUV( vec3 v, float texelSizeY ) {\n\t\tvec3 absV \x3d abs( v );\n\t\tfloat scaleToCube \x3d 1.0 / max( absV.x, max( absV.y, absV.z ) );\n\t\tabsV *\x3d scaleToCube;\n\t\tv *\x3d scaleToCube * ( 1.0 - 2.0 * texelSizeY );\n\t\tvec2 planar \x3d v.xy;\n\t\tfloat almostATexel \x3d 1.5 * texelSizeY;\n\t\tfloat almostOne \x3d 1.0 - almostATexel;\n\t\tif ( absV.z \x3e\x3d almostOne ) {\n\t\t\tif ( v.z \x3e 0.0 )\n\t\t\t\tplanar.x \x3d 4.0 - v.x;\n\t\t} else if ( absV.x \x3e\x3d almostOne ) {\n\t\t\tfloat signX \x3d sign( v.x );\n\t\t\tplanar.x \x3d v.z * signX + 2.0 * signX;\n\t\t} else if ( absV.y \x3e\x3d almostOne ) {\n\t\t\tfloat signY \x3d sign( v.y );\n\t\t\tplanar.x \x3d v.x + 2.0 * signY + 2.0;\n\t\t\tplanar.y \x3d v.z * signY - 2.0;\n\t\t}\n\t\treturn vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );\n\t}\n\tfloat getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {\n\t\tvec2 texelSize \x3d vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );\n\t\tvec3 lightToPosition \x3d shadowCoord.xyz;\n\t\tfloat dp \x3d ( length( lightToPosition ) - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );\t\tdp +\x3d shadowBias;\n\t\tvec3 bd3D \x3d normalize( lightToPosition );\n\t\t#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )\n\t\t\tvec2 offset \x3d vec2( - 1, 1 ) * shadowRadius * texelSize.y;\n\t\t\treturn (\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#else\n\t\t\treturn texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );\n\t\t#endif\n\t}\n#endif",
shadowmap_pars_vertex:"#if NUM_SPOT_LIGHT_COORDS \x3e 0\n\tuniform mat4 spotLightMatrix[ NUM_SPOT_LIGHT_COORDS ];\n\tvarying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];\n#endif\n#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS \x3e 0\n\t\tuniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tstruct DirectionalLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS \x3e 0\n\t\tstruct SpotLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS \x3e 0\n\t\tuniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tstruct PointLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t\tfloat shadowCameraNear;\n\t\t\tfloat shadowCameraFar;\n\t\t};\n\t\tuniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];\n\t#endif\n#endif",
shadowmap_vertex:"#if ( defined( USE_SHADOWMAP ) \x26\x26 ( NUM_DIR_LIGHT_SHADOWS \x3e 0 || NUM_POINT_LIGHT_SHADOWS \x3e 0 ) ) || ( NUM_SPOT_LIGHT_COORDS \x3e 0 )\n\tvec3 shadowWorldNormal \x3d inverseTransformDirection( transformedNormal, viewMatrix );\n\tvec4 shadowWorldPosition;\n#endif\n#if defined( USE_SHADOWMAP )\n\t#if NUM_DIR_LIGHT_SHADOWS \x3e 0\n\t\t#pragma unroll_loop_start\n\t\tfor ( int i \x3d 0; i \x3c NUM_DIR_LIGHT_SHADOWS; i ++ ) {\n\t\t\tshadowWorldPosition \x3d worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );\n\t\t\tvDirectionalShadowCoord[ i ] \x3d directionalShadowMatrix[ i ] * shadowWorldPosition;\n\t\t}\n\t\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS \x3e 0\n\t\t#pragma unroll_loop_start\n\t\tfor ( int i \x3d 0; i \x3c NUM_POINT_LIGHT_SHADOWS; i ++ ) {\n\t\t\tshadowWorldPosition \x3d worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );\n\t\t\tvPointShadowCoord[ i ] \x3d pointShadowMatrix[ i ] * shadowWorldPosition;\n\t\t}\n\t\t#pragma unroll_loop_end\n\t#endif\n#endif\n#if NUM_SPOT_LIGHT_COORDS \x3e 0\n\t#pragma unroll_loop_start\n\tfor ( int i \x3d 0; i \x3c NUM_SPOT_LIGHT_COORDS; i ++ ) {\n\t\tshadowWorldPosition \x3d worldPosition;\n\t\t#if ( defined( USE_SHADOWMAP ) \x26\x26 UNROLLED_LOOP_INDEX \x3c NUM_SPOT_LIGHT_SHADOWS )\n\t\t\tshadowWorldPosition.xyz +\x3d shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias;\n\t\t#endif\n\t\tvSpotLightCoord[ i ] \x3d spotLightMatrix[ i ] * shadowWorldPosition;\n\t}\n\t#pragma unroll_loop_end\n#endif",
shadowmask_pars_fragment:"float getShadowMask() {\n\tfloat shadow \x3d 1.0;\n\t#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS \x3e 0\n\tDirectionalLightShadow directionalLight;\n\t#pragma unroll_loop_start\n\tfor ( int i \x3d 0; i \x3c NUM_DIR_LIGHT_SHADOWS; i ++ ) {\n\t\tdirectionalLight \x3d directionalLightShadows[ i ];\n\t\tshadow *\x3d receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS \x3e 0\n\tSpotLightShadow spotLight;\n\t#pragma unroll_loop_start\n\tfor ( int i \x3d 0; i \x3c NUM_SPOT_LIGHT_SHADOWS; i ++ ) {\n\t\tspotLight \x3d spotLightShadows[ i ];\n\t\tshadow *\x3d receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS \x3e 0\n\tPointLightShadow pointLight;\n\t#pragma unroll_loop_start\n\tfor ( int i \x3d 0; i \x3c NUM_POINT_LIGHT_SHADOWS; i ++ ) {\n\t\tpointLight \x3d pointLightShadows[ i ];\n\t\tshadow *\x3d receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#endif\n\treturn shadow;\n}",
skinbase_vertex:"#ifdef USE_SKINNING\n\tmat4 boneMatX \x3d getBoneMatrix( skinIndex.x );\n\tmat4 boneMatY \x3d getBoneMatrix( skinIndex.y );\n\tmat4 boneMatZ \x3d getBoneMatrix( skinIndex.z );\n\tmat4 boneMatW \x3d getBoneMatrix( skinIndex.w );\n#endif",skinning_pars_vertex:"#ifdef USE_SKINNING\n\tuniform mat4 bindMatrix;\n\tuniform mat4 bindMatrixInverse;\n\tuniform highp sampler2D boneTexture;\n\tuniform int boneTextureSize;\n\tmat4 getBoneMatrix( const in float i ) {\n\t\tfloat j \x3d i * 4.0;\n\t\tfloat x \x3d mod( j, float( boneTextureSize ) );\n\t\tfloat y \x3d floor( j / float( boneTextureSize ) );\n\t\tfloat dx \x3d 1.0 / float( boneTextureSize );\n\t\tfloat dy \x3d 1.0 / float( boneTextureSize );\n\t\ty \x3d dy * ( y + 0.5 );\n\t\tvec4 v1 \x3d texture2D( boneTexture, vec2( dx * ( x + 0.5 ), y ) );\n\t\tvec4 v2 \x3d texture2D( boneTexture, vec2( dx * ( x + 1.5 ), y ) );\n\t\tvec4 v3 \x3d texture2D( boneTexture, vec2( dx * ( x + 2.5 ), y ) );\n\t\tvec4 v4 \x3d texture2D( boneTexture, vec2( dx * ( x + 3.5 ), y ) );\n\t\tmat4 bone \x3d mat4( v1, v2, v3, v4 );\n\t\treturn bone;\n\t}\n#endif",
skinning_vertex:"#ifdef USE_SKINNING\n\tvec4 skinVertex \x3d bindMatrix * vec4( transformed, 1.0 );\n\tvec4 skinned \x3d vec4( 0.0 );\n\tskinned +\x3d boneMatX * skinVertex * skinWeight.x;\n\tskinned +\x3d boneMatY * skinVertex * skinWeight.y;\n\tskinned +\x3d boneMatZ * skinVertex * skinWeight.z;\n\tskinned +\x3d boneMatW * skinVertex * skinWeight.w;\n\ttransformed \x3d ( bindMatrixInverse * skinned ).xyz;\n#endif",skinnormal_vertex:"#ifdef USE_SKINNING\n\tmat4 skinMatrix \x3d mat4( 0.0 );\n\tskinMatrix +\x3d skinWeight.x * boneMatX;\n\tskinMatrix +\x3d skinWeight.y * boneMatY;\n\tskinMatrix +\x3d skinWeight.z * boneMatZ;\n\tskinMatrix +\x3d skinWeight.w * boneMatW;\n\tskinMatrix \x3d bindMatrixInverse * skinMatrix * bindMatrix;\n\tobjectNormal \x3d vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;\n\t#ifdef USE_TANGENT\n\t\tobjectTangent \x3d vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;\n\t#endif\n#endif",
specularmap_fragment:"float specularStrength;\n#ifdef USE_SPECULARMAP\n\tvec4 texelSpecular \x3d texture2D( specularMap, vUv );\n\tspecularStrength \x3d texelSpecular.r;\n#else\n\tspecularStrength \x3d 1.0;\n#endif",specularmap_pars_fragment:"#ifdef USE_SPECULARMAP\n\tuniform sampler2D specularMap;\n#endif",tonemapping_fragment:"#if defined( TONE_MAPPING )\n\tgl_FragColor.rgb \x3d toneMapping( gl_FragColor.rgb );\n#endif",tonemapping_pars_fragment:"#ifndef saturate\n#define saturate( a ) clamp( a, 0.0, 1.0 )\n#endif\nuniform float toneMappingExposure;\nvec3 LinearToneMapping( vec3 color ) {\n\treturn toneMappingExposure * color;\n}\nvec3 ReinhardToneMapping( vec3 color ) {\n\tcolor *\x3d toneMappingExposure;\n\treturn saturate( color / ( vec3( 1.0 ) + color ) );\n}\nvec3 OptimizedCineonToneMapping( vec3 color ) {\n\tcolor *\x3d toneMappingExposure;\n\tcolor \x3d max( vec3( 0.0 ), color - 0.004 );\n\treturn pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );\n}\nvec3 RRTAndODTFit( vec3 v ) {\n\tvec3 a \x3d v * ( v + 0.0245786 ) - 0.000090537;\n\tvec3 b \x3d v * ( 0.983729 * v + 0.4329510 ) + 0.238081;\n\treturn a / b;\n}\nvec3 ACESFilmicToneMapping( vec3 color ) {\n\tconst mat3 ACESInputMat \x3d mat3(\n\t\tvec3( 0.59719, 0.07600, 0.02840 ),\t\tvec3( 0.35458, 0.90834, 0.13383 ),\n\t\tvec3( 0.04823, 0.01566, 0.83777 )\n\t);\n\tconst mat3 ACESOutputMat \x3d mat3(\n\t\tvec3(  1.60475, -0.10208, -0.00327 ),\t\tvec3( -0.53108,  1.10813, -0.07276 ),\n\t\tvec3( -0.07367, -0.00605,  1.07602 )\n\t);\n\tcolor *\x3d toneMappingExposure / 0.6;\n\tcolor \x3d ACESInputMat * color;\n\tcolor \x3d RRTAndODTFit( color );\n\tcolor \x3d ACESOutputMat * color;\n\treturn saturate( color );\n}\nvec3 CustomToneMapping( vec3 color ) { return color; }",
transmission_fragment:"#ifdef USE_TRANSMISSION\n\tmaterial.transmission \x3d transmission;\n\tmaterial.transmissionAlpha \x3d 1.0;\n\tmaterial.thickness \x3d thickness;\n\tmaterial.attenuationDistance \x3d attenuationDistance;\n\tmaterial.attenuationColor \x3d attenuationColor;\n\t#ifdef USE_TRANSMISSIONMAP\n\t\tmaterial.transmission *\x3d texture2D( transmissionMap, vUv ).r;\n\t#endif\n\t#ifdef USE_THICKNESSMAP\n\t\tmaterial.thickness *\x3d texture2D( thicknessMap, vUv ).g;\n\t#endif\n\tvec3 pos \x3d vWorldPosition;\n\tvec3 v \x3d normalize( cameraPosition - pos );\n\tvec3 n \x3d inverseTransformDirection( normal, viewMatrix );\n\tvec4 transmission \x3d getIBLVolumeRefraction(\n\t\tn, v, material.roughness, material.diffuseColor, material.specularColor, material.specularF90,\n\t\tpos, modelMatrix, viewMatrix, projectionMatrix, material.ior, material.thickness,\n\t\tmaterial.attenuationColor, material.attenuationDistance );\n\tmaterial.transmissionAlpha \x3d mix( material.transmissionAlpha, transmission.a, material.transmission );\n\ttotalDiffuse \x3d mix( totalDiffuse, transmission.rgb, material.transmission );\n#endif",
transmission_pars_fragment:"#ifdef USE_TRANSMISSION\n\tuniform float transmission;\n\tuniform float thickness;\n\tuniform float attenuationDistance;\n\tuniform vec3 attenuationColor;\n\t#ifdef USE_TRANSMISSIONMAP\n\t\tuniform sampler2D transmissionMap;\n\t#endif\n\t#ifdef USE_THICKNESSMAP\n\t\tuniform sampler2D thicknessMap;\n\t#endif\n\tuniform vec2 transmissionSamplerSize;\n\tuniform sampler2D transmissionSamplerMap;\n\tuniform mat4 modelMatrix;\n\tuniform mat4 projectionMatrix;\n\tvarying vec3 vWorldPosition;\n\tfloat w0( float a ) {\n\t\treturn ( 1.0 / 6.0 ) * ( a * ( a * ( - a + 3.0 ) - 3.0 ) + 1.0 );\n\t}\n\tfloat w1( float a ) {\n\t\treturn ( 1.0 / 6.0 ) * ( a *  a * ( 3.0 * a - 6.0 ) + 4.0 );\n\t}\n\tfloat w2( float a ){\n\t\treturn ( 1.0 / 6.0 ) * ( a * ( a * ( - 3.0 * a + 3.0 ) + 3.0 ) + 1.0 );\n\t}\n\tfloat w3( float a ) {\n\t\treturn ( 1.0 / 6.0 ) * ( a * a * a );\n\t}\n\tfloat g0( float a ) {\n\t\treturn w0( a ) + w1( a );\n\t}\n\tfloat g1( float a ) {\n\t\treturn w2( a ) + w3( a );\n\t}\n\tfloat h0( float a ) {\n\t\treturn - 1.0 + w1( a ) / ( w0( a ) + w1( a ) );\n\t}\n\tfloat h1( float a ) {\n\t\treturn 1.0 + w3( a ) / ( w2( a ) + w3( a ) );\n\t}\n\tvec4 bicubic( sampler2D tex, vec2 uv, vec4 texelSize, vec2 fullSize, float lod ) {\n\t\tuv \x3d uv * texelSize.zw + 0.5;\n\t\tvec2 iuv \x3d floor( uv );\n\t\tvec2 fuv \x3d fract( uv );\n\t\tfloat g0x \x3d g0( fuv.x );\n\t\tfloat g1x \x3d g1( fuv.x );\n\t\tfloat h0x \x3d h0( fuv.x );\n\t\tfloat h1x \x3d h1( fuv.x );\n\t\tfloat h0y \x3d h0( fuv.y );\n\t\tfloat h1y \x3d h1( fuv.y );\n\t\tvec2 p0 \x3d ( vec2( iuv.x + h0x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;\n\t\tvec2 p1 \x3d ( vec2( iuv.x + h1x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;\n\t\tvec2 p2 \x3d ( vec2( iuv.x + h0x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;\n\t\tvec2 p3 \x3d ( vec2( iuv.x + h1x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;\n\t\t\n\t\tvec2 lodFudge \x3d pow( 1.95, lod ) / fullSize;\n\t\treturn g0( fuv.y ) * ( g0x * textureLod( tex, p0, lod ) + g1x * textureLod( tex, p1, lod ) ) +\n\t\t\tg1( fuv.y ) * ( g0x * textureLod( tex, p2, lod ) + g1x * textureLod( tex, p3, lod ) );\n\t}\n\tvec4 textureBicubic( sampler2D sampler, vec2 uv, float lod ) {\n\t\tvec2 fLodSize \x3d vec2( textureSize( sampler, int( lod ) ) );\n\t\tvec2 cLodSize \x3d vec2( textureSize( sampler, int( lod + 1.0 ) ) );\n\t\tvec2 fLodSizeInv \x3d 1.0 / fLodSize;\n\t\tvec2 cLodSizeInv \x3d 1.0 / cLodSize;\n\t\tvec2 fullSize \x3d vec2( textureSize( sampler, 0 ) );\n\t\tvec4 fSample \x3d bicubic( sampler, uv, vec4( fLodSizeInv, fLodSize ), fullSize, floor( lod ) );\n\t\tvec4 cSample \x3d bicubic( sampler, uv, vec4( cLodSizeInv, cLodSize ), fullSize, ceil( lod ) );\n\t\treturn mix( fSample, cSample, fract( lod ) );\n\t}\n\tvec3 getVolumeTransmissionRay( const in vec3 n, const in vec3 v, const in float thickness, const in float ior, const in mat4 modelMatrix ) {\n\t\tvec3 refractionVector \x3d refract( - v, normalize( n ), 1.0 / ior );\n\t\tvec3 modelScale;\n\t\tmodelScale.x \x3d length( vec3( modelMatrix[ 0 ].xyz ) );\n\t\tmodelScale.y \x3d length( vec3( modelMatrix[ 1 ].xyz ) );\n\t\tmodelScale.z \x3d length( vec3( modelMatrix[ 2 ].xyz ) );\n\t\treturn normalize( refractionVector ) * thickness * modelScale;\n\t}\n\tfloat applyIorToRoughness( const in float roughness, const in float ior ) {\n\t\treturn roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );\n\t}\n\tvec4 getTransmissionSample( const in vec2 fragCoord, const in float roughness, const in float ior ) {\n\t\tfloat lod \x3d log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );\n\t\treturn textureBicubic( transmissionSamplerMap, fragCoord.xy, lod );\n\t}\n\tvec3 applyVolumeAttenuation( const in vec3 radiance, const in float transmissionDistance, const in vec3 attenuationColor, const in float attenuationDistance ) {\n\t\tif ( isinf( attenuationDistance ) ) {\n\t\t\treturn radiance;\n\t\t} else {\n\t\t\tvec3 attenuationCoefficient \x3d -log( attenuationColor ) / attenuationDistance;\n\t\t\tvec3 transmittance \x3d exp( - attenuationCoefficient * transmissionDistance );\t\t\treturn transmittance * radiance;\n\t\t}\n\t}\n\tvec4 getIBLVolumeRefraction( const in vec3 n, const in vec3 v, const in float roughness, const in vec3 diffuseColor,\n\t\tconst in vec3 specularColor, const in float specularF90, const in vec3 position, const in mat4 modelMatrix,\n\t\tconst in mat4 viewMatrix, const in mat4 projMatrix, const in float ior, const in float thickness,\n\t\tconst in vec3 attenuationColor, const in float attenuationDistance ) {\n\t\tvec3 transmissionRay \x3d getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );\n\t\tvec3 refractedRayExit \x3d position + transmissionRay;\n\t\tvec4 ndcPos \x3d projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );\n\t\tvec2 refractionCoords \x3d ndcPos.xy / ndcPos.w;\n\t\trefractionCoords +\x3d 1.0;\n\t\trefractionCoords /\x3d 2.0;\n\t\tvec4 transmittedLight \x3d getTransmissionSample( refractionCoords, roughness, ior );\n\t\tvec3 attenuatedColor \x3d applyVolumeAttenuation( transmittedLight.rgb, length( transmissionRay ), attenuationColor, attenuationDistance );\n\t\tvec3 F \x3d EnvironmentBRDF( n, v, specularColor, specularF90, roughness );\n\t\treturn vec4( ( 1.0 - F ) * attenuatedColor * diffuseColor, transmittedLight.a );\n\t}\n#endif",
uv_pars_fragment:"#if ( defined( USE_UV ) \x26\x26 ! defined( UVS_VERTEX_ONLY ) )\n\tvarying vec2 vUv;\n#endif",uv_pars_vertex:"#ifdef USE_UV\n\t#ifdef UVS_VERTEX_ONLY\n\t\tvec2 vUv;\n\t#else\n\t\tvarying vec2 vUv;\n\t#endif\n\tuniform mat3 uvTransform;\n#endif",uv_vertex:"#ifdef USE_UV\n\tvUv \x3d ( uvTransform * vec3( uv, 1 ) ).xy;\n#endif",uv2_pars_fragment:"#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tvarying vec2 vUv2;\n#endif",uv2_pars_vertex:"#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tattribute vec2 uv2;\n\tvarying vec2 vUv2;\n\tuniform mat3 uv2Transform;\n#endif",
uv2_vertex:"#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tvUv2 \x3d ( uv2Transform * vec3( uv2, 1 ) ).xy;\n#endif",worldpos_vertex:"#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP ) || defined ( USE_TRANSMISSION ) || NUM_SPOT_LIGHT_COORDS \x3e 0\n\tvec4 worldPosition \x3d vec4( transformed, 1.0 );\n\t#ifdef USE_INSTANCING\n\t\tworldPosition \x3d instanceMatrix * worldPosition;\n\t#endif\n\tworldPosition \x3d modelMatrix * worldPosition;\n#endif",background_vert:"varying vec2 vUv;\nuniform mat3 uvTransform;\nvoid main() {\n\tvUv \x3d ( uvTransform * vec3( uv, 1 ) ).xy;\n\tgl_Position \x3d vec4( position.xy, 1.0, 1.0 );\n}",
background_frag:"uniform sampler2D t2D;\nuniform float backgroundIntensity;\nvarying vec2 vUv;\nvoid main() {\n\tvec4 texColor \x3d texture2D( t2D, vUv );\n\t#ifdef DECODE_VIDEO_TEXTURE\n\t\ttexColor \x3d vec4( mix( pow( texColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), texColor.rgb * 0.0773993808, vec3( lessThanEqual( texColor.rgb, vec3( 0.04045 ) ) ) ), texColor.w );\n\t#endif\n\ttexColor.rgb *\x3d backgroundIntensity;\n\tgl_FragColor \x3d texColor;\n\t#include \x3ctonemapping_fragment\x3e\n\t#include \x3cencodings_fragment\x3e\n}",
backgroundCube_vert:"varying vec3 vWorldDirection;\n#include \x3ccommon\x3e\nvoid main() {\n\tvWorldDirection \x3d transformDirection( position, modelMatrix );\n\t#include \x3cbegin_vertex\x3e\n\t#include \x3cproject_vertex\x3e\n\tgl_Position.z \x3d gl_Position.w;\n}",backgroundCube_frag:"#ifdef ENVMAP_TYPE_CUBE\n\tuniform samplerCube envMap;\n#elif defined( ENVMAP_TYPE_CUBE_UV )\n\tuniform sampler2D envMap;\n#endif\nuniform float flipEnvMap;\nuniform float backgroundBlurriness;\nuniform float backgroundIntensity;\nvarying vec3 vWorldDirection;\n#include \x3ccube_uv_reflection_fragment\x3e\nvoid main() {\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tvec4 texColor \x3d textureCube( envMap, vec3( flipEnvMap * vWorldDirection.x, vWorldDirection.yz ) );\n\t#elif defined( ENVMAP_TYPE_CUBE_UV )\n\t\tvec4 texColor \x3d textureCubeUV( envMap, vWorldDirection, backgroundBlurriness );\n\t#else\n\t\tvec4 texColor \x3d vec4( 0.0, 0.0, 0.0, 1.0 );\n\t#endif\n\ttexColor.rgb *\x3d backgroundIntensity;\n\tgl_FragColor \x3d texColor;\n\t#include \x3ctonemapping_fragment\x3e\n\t#include \x3cencodings_fragment\x3e\n}",
cube_vert:"varying vec3 vWorldDirection;\n#include \x3ccommon\x3e\nvoid main() {\n\tvWorldDirection \x3d transformDirection( position, modelMatrix );\n\t#include \x3cbegin_vertex\x3e\n\t#include \x3cproject_vertex\x3e\n\tgl_Position.z \x3d gl_Position.w;\n}",cube_frag:"uniform samplerCube tCube;\nuniform float tFlip;\nuniform float opacity;\nvarying vec3 vWorldDirection;\nvoid main() {\n\tvec4 texColor \x3d textureCube( tCube, vec3( tFlip * vWorldDirection.x, vWorldDirection.yz ) );\n\tgl_FragColor \x3d texColor;\n\tgl_FragColor.a *\x3d opacity;\n\t#include \x3ctonemapping_fragment\x3e\n\t#include \x3cencodings_fragment\x3e\n}",
depth_vert:"#include \x3ccommon\x3e\n#include \x3cuv_pars_vertex\x3e\n#include \x3cdisplacementmap_pars_vertex\x3e\n#include \x3cmorphtarget_pars_vertex\x3e\n#include \x3cskinning_pars_vertex\x3e\n#include \x3clogdepthbuf_pars_vertex\x3e\n#include \x3cclipping_planes_pars_vertex\x3e\nvarying vec2 vHighPrecisionZW;\nvoid main() {\n\t#include \x3cuv_vertex\x3e\n\t#include \x3cskinbase_vertex\x3e\n\t#ifdef USE_DISPLACEMENTMAP\n\t\t#include \x3cbeginnormal_vertex\x3e\n\t\t#include \x3cmorphnormal_vertex\x3e\n\t\t#include \x3cskinnormal_vertex\x3e\n\t#endif\n\t#include \x3cbegin_vertex\x3e\n\t#include \x3cmorphtarget_vertex\x3e\n\t#include \x3cskinning_vertex\x3e\n\t#include \x3cdisplacementmap_vertex\x3e\n\t#include \x3cproject_vertex\x3e\n\t#include \x3clogdepthbuf_vertex\x3e\n\t#include \x3cclipping_planes_vertex\x3e\n\tvHighPrecisionZW \x3d gl_Position.zw;\n}",
depth_frag:"#if DEPTH_PACKING \x3d\x3d 3200\n\tuniform float opacity;\n#endif\n#include \x3ccommon\x3e\n#include \x3cpacking\x3e\n#include \x3cuv_pars_fragment\x3e\n#include \x3cmap_pars_fragment\x3e\n#include \x3calphamap_pars_fragment\x3e\n#include \x3calphatest_pars_fragment\x3e\n#include \x3clogdepthbuf_pars_fragment\x3e\n#include \x3cclipping_planes_pars_fragment\x3e\nvarying vec2 vHighPrecisionZW;\nvoid main() {\n\t#include \x3cclipping_planes_fragment\x3e\n\tvec4 diffuseColor \x3d vec4( 1.0 );\n\t#if DEPTH_PACKING \x3d\x3d 3200\n\t\tdiffuseColor.a \x3d opacity;\n\t#endif\n\t#include \x3cmap_fragment\x3e\n\t#include \x3calphamap_fragment\x3e\n\t#include \x3calphatest_fragment\x3e\n\t#include \x3clogdepthbuf_fragment\x3e\n\tfloat fragCoordZ \x3d 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;\n\t#if DEPTH_PACKING \x3d\x3d 3200\n\t\tgl_FragColor \x3d vec4( vec3( 1.0 - fragCoordZ ), opacity );\n\t#elif DEPTH_PACKING \x3d\x3d 3201\n\t\tgl_FragColor \x3d packDepthToRGBA( fragCoordZ );\n\t#endif\n}",
distanceRGBA_vert:"#define DISTANCE\nvarying vec3 vWorldPosition;\n#include \x3ccommon\x3e\n#include \x3cuv_pars_vertex\x3e\n#include \x3cdisplacementmap_pars_vertex\x3e\n#include \x3cmorphtarget_pars_vertex\x3e\n#include \x3cskinning_pars_vertex\x3e\n#include \x3cclipping_planes_pars_vertex\x3e\nvoid main() {\n\t#include \x3cuv_vertex\x3e\n\t#include \x3cskinbase_vertex\x3e\n\t#ifdef USE_DISPLACEMENTMAP\n\t\t#include \x3cbeginnormal_vertex\x3e\n\t\t#include \x3cmorphnormal_vertex\x3e\n\t\t#include \x3cskinnormal_vertex\x3e\n\t#endif\n\t#include \x3cbegin_vertex\x3e\n\t#include \x3cmorphtarget_vertex\x3e\n\t#include \x3cskinning_vertex\x3e\n\t#include \x3cdisplacementmap_vertex\x3e\n\t#include \x3cproject_vertex\x3e\n\t#include \x3cworldpos_vertex\x3e\n\t#include \x3cclipping_planes_vertex\x3e\n\tvWorldPosition \x3d worldPosition.xyz;\n}",
distanceRGBA_frag:"#define DISTANCE\nuniform vec3 referencePosition;\nuniform float nearDistance;\nuniform float farDistance;\nvarying vec3 vWorldPosition;\n#include \x3ccommon\x3e\n#include \x3cpacking\x3e\n#include \x3cuv_pars_fragment\x3e\n#include \x3cmap_pars_fragment\x3e\n#include \x3calphamap_pars_fragment\x3e\n#include \x3calphatest_pars_fragment\x3e\n#include \x3cclipping_planes_pars_fragment\x3e\nvoid main () {\n\t#include \x3cclipping_planes_fragment\x3e\n\tvec4 diffuseColor \x3d vec4( 1.0 );\n\t#include \x3cmap_fragment\x3e\n\t#include \x3calphamap_fragment\x3e\n\t#include \x3calphatest_fragment\x3e\n\tfloat dist \x3d length( vWorldPosition - referencePosition );\n\tdist \x3d ( dist - nearDistance ) / ( farDistance - nearDistance );\n\tdist \x3d saturate( dist );\n\tgl_FragColor \x3d packDepthToRGBA( dist );\n}",
equirect_vert:"varying vec3 vWorldDirection;\n#include \x3ccommon\x3e\nvoid main() {\n\tvWorldDirection \x3d transformDirection( position, modelMatrix );\n\t#include \x3cbegin_vertex\x3e\n\t#include \x3cproject_vertex\x3e\n}",equirect_frag:"uniform sampler2D tEquirect;\nvarying vec3 vWorldDirection;\n#include \x3ccommon\x3e\nvoid main() {\n\tvec3 direction \x3d normalize( vWorldDirection );\n\tvec2 sampleUV \x3d equirectUv( direction );\n\tgl_FragColor \x3d texture2D( tEquirect, sampleUV );\n\t#include \x3ctonemapping_fragment\x3e\n\t#include \x3cencodings_fragment\x3e\n}",
linedashed_vert:"uniform float scale;\nattribute float lineDistance;\nvarying float vLineDistance;\n#include \x3ccommon\x3e\n#include \x3ccolor_pars_vertex\x3e\n#include \x3cfog_pars_vertex\x3e\n#include \x3cmorphtarget_pars_vertex\x3e\n#include \x3clogdepthbuf_pars_vertex\x3e\n#include \x3cclipping_planes_pars_vertex\x3e\nvoid main() {\n\tvLineDistance \x3d scale * lineDistance;\n\t#include \x3ccolor_vertex\x3e\n\t#include \x3cmorphcolor_vertex\x3e\n\t#include \x3cbegin_vertex\x3e\n\t#include \x3cmorphtarget_vertex\x3e\n\t#include \x3cproject_vertex\x3e\n\t#include \x3clogdepthbuf_vertex\x3e\n\t#include \x3cclipping_planes_vertex\x3e\n\t#include \x3cfog_vertex\x3e\n}",
linedashed_frag:"uniform vec3 diffuse;\nuniform float opacity;\nuniform float dashSize;\nuniform float totalSize;\nvarying float vLineDistance;\n#include \x3ccommon\x3e\n#include \x3ccolor_pars_fragment\x3e\n#include \x3cfog_pars_fragment\x3e\n#include \x3clogdepthbuf_pars_fragment\x3e\n#include \x3cclipping_planes_pars_fragment\x3e\nvoid main() {\n\t#include \x3cclipping_planes_fragment\x3e\n\tif ( mod( vLineDistance, totalSize ) \x3e dashSize ) {\n\t\tdiscard;\n\t}\n\tvec3 outgoingLight \x3d vec3( 0.0 );\n\tvec4 diffuseColor \x3d vec4( diffuse, opacity );\n\t#include \x3clogdepthbuf_fragment\x3e\n\t#include \x3ccolor_fragment\x3e\n\toutgoingLight \x3d diffuseColor.rgb;\n\t#include \x3coutput_fragment\x3e\n\t#include \x3ctonemapping_fragment\x3e\n\t#include \x3cencodings_fragment\x3e\n\t#include \x3cfog_fragment\x3e\n\t#include \x3cpremultiplied_alpha_fragment\x3e\n}",
meshbasic_vert:"#include \x3ccommon\x3e\n#include \x3cuv_pars_vertex\x3e\n#include \x3cuv2_pars_vertex\x3e\n#include \x3cenvmap_pars_vertex\x3e\n#include \x3ccolor_pars_vertex\x3e\n#include \x3cfog_pars_vertex\x3e\n#include \x3cmorphtarget_pars_vertex\x3e\n#include \x3cskinning_pars_vertex\x3e\n#include \x3clogdepthbuf_pars_vertex\x3e\n#include \x3cclipping_planes_pars_vertex\x3e\nvoid main() {\n\t#include \x3cuv_vertex\x3e\n\t#include \x3cuv2_vertex\x3e\n\t#include \x3ccolor_vertex\x3e\n\t#include \x3cmorphcolor_vertex\x3e\n\t#if defined ( USE_ENVMAP ) || defined ( USE_SKINNING )\n\t\t#include \x3cbeginnormal_vertex\x3e\n\t\t#include \x3cmorphnormal_vertex\x3e\n\t\t#include \x3cskinbase_vertex\x3e\n\t\t#include \x3cskinnormal_vertex\x3e\n\t\t#include \x3cdefaultnormal_vertex\x3e\n\t#endif\n\t#include \x3cbegin_vertex\x3e\n\t#include \x3cmorphtarget_vertex\x3e\n\t#include \x3cskinning_vertex\x3e\n\t#include \x3cproject_vertex\x3e\n\t#include \x3clogdepthbuf_vertex\x3e\n\t#include \x3cclipping_planes_vertex\x3e\n\t#include \x3cworldpos_vertex\x3e\n\t#include \x3cenvmap_vertex\x3e\n\t#include \x3cfog_vertex\x3e\n}",
meshbasic_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include \x3ccommon\x3e\n#include \x3cdithering_pars_fragment\x3e\n#include \x3ccolor_pars_fragment\x3e\n#include \x3cuv_pars_fragment\x3e\n#include \x3cuv2_pars_fragment\x3e\n#include \x3cmap_pars_fragment\x3e\n#include \x3calphamap_pars_fragment\x3e\n#include \x3calphatest_pars_fragment\x3e\n#include \x3caomap_pars_fragment\x3e\n#include \x3clightmap_pars_fragment\x3e\n#include \x3cenvmap_common_pars_fragment\x3e\n#include \x3cenvmap_pars_fragment\x3e\n#include \x3cfog_pars_fragment\x3e\n#include \x3cspecularmap_pars_fragment\x3e\n#include \x3clogdepthbuf_pars_fragment\x3e\n#include \x3cclipping_planes_pars_fragment\x3e\nvoid main() {\n\t#include \x3cclipping_planes_fragment\x3e\n\tvec4 diffuseColor \x3d vec4( diffuse, opacity );\n\t#include \x3clogdepthbuf_fragment\x3e\n\t#include \x3cmap_fragment\x3e\n\t#include \x3ccolor_fragment\x3e\n\t#include \x3calphamap_fragment\x3e\n\t#include \x3calphatest_fragment\x3e\n\t#include \x3cspecularmap_fragment\x3e\n\tReflectedLight reflectedLight \x3d ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\t#ifdef USE_LIGHTMAP\n\t\tvec4 lightMapTexel \x3d texture2D( lightMap, vUv2 );\n\t\treflectedLight.indirectDiffuse +\x3d lightMapTexel.rgb * lightMapIntensity * RECIPROCAL_PI;\n\t#else\n\t\treflectedLight.indirectDiffuse +\x3d vec3( 1.0 );\n\t#endif\n\t#include \x3caomap_fragment\x3e\n\treflectedLight.indirectDiffuse *\x3d diffuseColor.rgb;\n\tvec3 outgoingLight \x3d reflectedLight.indirectDiffuse;\n\t#include \x3cenvmap_fragment\x3e\n\t#include \x3coutput_fragment\x3e\n\t#include \x3ctonemapping_fragment\x3e\n\t#include \x3cencodings_fragment\x3e\n\t#include \x3cfog_fragment\x3e\n\t#include \x3cpremultiplied_alpha_fragment\x3e\n\t#include \x3cdithering_fragment\x3e\n}",
meshlambert_vert:"#define LAMBERT\nvarying vec3 vViewPosition;\n#include \x3ccommon\x3e\n#include \x3cuv_pars_vertex\x3e\n#include \x3cuv2_pars_vertex\x3e\n#include \x3cdisplacementmap_pars_vertex\x3e\n#include \x3cenvmap_pars_vertex\x3e\n#include \x3ccolor_pars_vertex\x3e\n#include \x3cfog_pars_vertex\x3e\n#include \x3cnormal_pars_vertex\x3e\n#include \x3cmorphtarget_pars_vertex\x3e\n#include \x3cskinning_pars_vertex\x3e\n#include \x3cshadowmap_pars_vertex\x3e\n#include \x3clogdepthbuf_pars_vertex\x3e\n#include \x3cclipping_planes_pars_vertex\x3e\nvoid main() {\n\t#include \x3cuv_vertex\x3e\n\t#include \x3cuv2_vertex\x3e\n\t#include \x3ccolor_vertex\x3e\n\t#include \x3cmorphcolor_vertex\x3e\n\t#include \x3cbeginnormal_vertex\x3e\n\t#include \x3cmorphnormal_vertex\x3e\n\t#include \x3cskinbase_vertex\x3e\n\t#include \x3cskinnormal_vertex\x3e\n\t#include \x3cdefaultnormal_vertex\x3e\n\t#include \x3cnormal_vertex\x3e\n\t#include \x3cbegin_vertex\x3e\n\t#include \x3cmorphtarget_vertex\x3e\n\t#include \x3cskinning_vertex\x3e\n\t#include \x3cdisplacementmap_vertex\x3e\n\t#include \x3cproject_vertex\x3e\n\t#include \x3clogdepthbuf_vertex\x3e\n\t#include \x3cclipping_planes_vertex\x3e\n\tvViewPosition \x3d - mvPosition.xyz;\n\t#include \x3cworldpos_vertex\x3e\n\t#include \x3cenvmap_vertex\x3e\n\t#include \x3cshadowmap_vertex\x3e\n\t#include \x3cfog_vertex\x3e\n}",
meshlambert_frag:"#define LAMBERT\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float opacity;\n#include \x3ccommon\x3e\n#include \x3cpacking\x3e\n#include \x3cdithering_pars_fragment\x3e\n#include \x3ccolor_pars_fragment\x3e\n#include \x3cuv_pars_fragment\x3e\n#include \x3cuv2_pars_fragment\x3e\n#include \x3cmap_pars_fragment\x3e\n#include \x3calphamap_pars_fragment\x3e\n#include \x3calphatest_pars_fragment\x3e\n#include \x3caomap_pars_fragment\x3e\n#include \x3clightmap_pars_fragment\x3e\n#include \x3cemissivemap_pars_fragment\x3e\n#include \x3cenvmap_common_pars_fragment\x3e\n#include \x3cenvmap_pars_fragment\x3e\n#include \x3cfog_pars_fragment\x3e\n#include \x3cbsdfs\x3e\n#include \x3clights_pars_begin\x3e\n#include \x3cnormal_pars_fragment\x3e\n#include \x3clights_lambert_pars_fragment\x3e\n#include \x3cshadowmap_pars_fragment\x3e\n#include \x3cbumpmap_pars_fragment\x3e\n#include \x3cnormalmap_pars_fragment\x3e\n#include \x3cspecularmap_pars_fragment\x3e\n#include \x3clogdepthbuf_pars_fragment\x3e\n#include \x3cclipping_planes_pars_fragment\x3e\nvoid main() {\n\t#include \x3cclipping_planes_fragment\x3e\n\tvec4 diffuseColor \x3d vec4( diffuse, opacity );\n\tReflectedLight reflectedLight \x3d ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance \x3d emissive;\n\t#include \x3clogdepthbuf_fragment\x3e\n\t#include \x3cmap_fragment\x3e\n\t#include \x3ccolor_fragment\x3e\n\t#include \x3calphamap_fragment\x3e\n\t#include \x3calphatest_fragment\x3e\n\t#include \x3cspecularmap_fragment\x3e\n\t#include \x3cnormal_fragment_begin\x3e\n\t#include \x3cnormal_fragment_maps\x3e\n\t#include \x3cemissivemap_fragment\x3e\n\t#include \x3clights_lambert_fragment\x3e\n\t#include \x3clights_fragment_begin\x3e\n\t#include \x3clights_fragment_maps\x3e\n\t#include \x3clights_fragment_end\x3e\n\t#include \x3caomap_fragment\x3e\n\tvec3 outgoingLight \x3d reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;\n\t#include \x3cenvmap_fragment\x3e\n\t#include \x3coutput_fragment\x3e\n\t#include \x3ctonemapping_fragment\x3e\n\t#include \x3cencodings_fragment\x3e\n\t#include \x3cfog_fragment\x3e\n\t#include \x3cpremultiplied_alpha_fragment\x3e\n\t#include \x3cdithering_fragment\x3e\n}",
meshmatcap_vert:"#define MATCAP\nvarying vec3 vViewPosition;\n#include \x3ccommon\x3e\n#include \x3cuv_pars_vertex\x3e\n#include \x3ccolor_pars_vertex\x3e\n#include \x3cdisplacementmap_pars_vertex\x3e\n#include \x3cfog_pars_vertex\x3e\n#include \x3cnormal_pars_vertex\x3e\n#include \x3cmorphtarget_pars_vertex\x3e\n#include \x3cskinning_pars_vertex\x3e\n#include \x3clogdepthbuf_pars_vertex\x3e\n#include \x3cclipping_planes_pars_vertex\x3e\nvoid main() {\n\t#include \x3cuv_vertex\x3e\n\t#include \x3ccolor_vertex\x3e\n\t#include \x3cmorphcolor_vertex\x3e\n\t#include \x3cbeginnormal_vertex\x3e\n\t#include \x3cmorphnormal_vertex\x3e\n\t#include \x3cskinbase_vertex\x3e\n\t#include \x3cskinnormal_vertex\x3e\n\t#include \x3cdefaultnormal_vertex\x3e\n\t#include \x3cnormal_vertex\x3e\n\t#include \x3cbegin_vertex\x3e\n\t#include \x3cmorphtarget_vertex\x3e\n\t#include \x3cskinning_vertex\x3e\n\t#include \x3cdisplacementmap_vertex\x3e\n\t#include \x3cproject_vertex\x3e\n\t#include \x3clogdepthbuf_vertex\x3e\n\t#include \x3cclipping_planes_vertex\x3e\n\t#include \x3cfog_vertex\x3e\n\tvViewPosition \x3d - mvPosition.xyz;\n}",
meshmatcap_frag:"#define MATCAP\nuniform vec3 diffuse;\nuniform float opacity;\nuniform sampler2D matcap;\nvarying vec3 vViewPosition;\n#include \x3ccommon\x3e\n#include \x3cdithering_pars_fragment\x3e\n#include \x3ccolor_pars_fragment\x3e\n#include \x3cuv_pars_fragment\x3e\n#include \x3cmap_pars_fragment\x3e\n#include \x3calphamap_pars_fragment\x3e\n#include \x3calphatest_pars_fragment\x3e\n#include \x3cfog_pars_fragment\x3e\n#include \x3cnormal_pars_fragment\x3e\n#include \x3cbumpmap_pars_fragment\x3e\n#include \x3cnormalmap_pars_fragment\x3e\n#include \x3clogdepthbuf_pars_fragment\x3e\n#include \x3cclipping_planes_pars_fragment\x3e\nvoid main() {\n\t#include \x3cclipping_planes_fragment\x3e\n\tvec4 diffuseColor \x3d vec4( diffuse, opacity );\n\t#include \x3clogdepthbuf_fragment\x3e\n\t#include \x3cmap_fragment\x3e\n\t#include \x3ccolor_fragment\x3e\n\t#include \x3calphamap_fragment\x3e\n\t#include \x3calphatest_fragment\x3e\n\t#include \x3cnormal_fragment_begin\x3e\n\t#include \x3cnormal_fragment_maps\x3e\n\tvec3 viewDir \x3d normalize( vViewPosition );\n\tvec3 x \x3d normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );\n\tvec3 y \x3d cross( viewDir, x );\n\tvec2 uv \x3d vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;\n\t#ifdef USE_MATCAP\n\t\tvec4 matcapColor \x3d texture2D( matcap, uv );\n\t#else\n\t\tvec4 matcapColor \x3d vec4( vec3( mix( 0.2, 0.8, uv.y ) ), 1.0 );\n\t#endif\n\tvec3 outgoingLight \x3d diffuseColor.rgb * matcapColor.rgb;\n\t#include \x3coutput_fragment\x3e\n\t#include \x3ctonemapping_fragment\x3e\n\t#include \x3cencodings_fragment\x3e\n\t#include \x3cfog_fragment\x3e\n\t#include \x3cpremultiplied_alpha_fragment\x3e\n\t#include \x3cdithering_fragment\x3e\n}",
meshnormal_vert:"#define NORMAL\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )\n\tvarying vec3 vViewPosition;\n#endif\n#include \x3ccommon\x3e\n#include \x3cuv_pars_vertex\x3e\n#include \x3cdisplacementmap_pars_vertex\x3e\n#include \x3cnormal_pars_vertex\x3e\n#include \x3cmorphtarget_pars_vertex\x3e\n#include \x3cskinning_pars_vertex\x3e\n#include \x3clogdepthbuf_pars_vertex\x3e\n#include \x3cclipping_planes_pars_vertex\x3e\nvoid main() {\n\t#include \x3cuv_vertex\x3e\n\t#include \x3cbeginnormal_vertex\x3e\n\t#include \x3cmorphnormal_vertex\x3e\n\t#include \x3cskinbase_vertex\x3e\n\t#include \x3cskinnormal_vertex\x3e\n\t#include \x3cdefaultnormal_vertex\x3e\n\t#include \x3cnormal_vertex\x3e\n\t#include \x3cbegin_vertex\x3e\n\t#include \x3cmorphtarget_vertex\x3e\n\t#include \x3cskinning_vertex\x3e\n\t#include \x3cdisplacementmap_vertex\x3e\n\t#include \x3cproject_vertex\x3e\n\t#include \x3clogdepthbuf_vertex\x3e\n\t#include \x3cclipping_planes_vertex\x3e\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )\n\tvViewPosition \x3d - mvPosition.xyz;\n#endif\n}",
meshnormal_frag:"#define NORMAL\nuniform float opacity;\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )\n\tvarying vec3 vViewPosition;\n#endif\n#include \x3cpacking\x3e\n#include \x3cuv_pars_fragment\x3e\n#include \x3cnormal_pars_fragment\x3e\n#include \x3cbumpmap_pars_fragment\x3e\n#include \x3cnormalmap_pars_fragment\x3e\n#include \x3clogdepthbuf_pars_fragment\x3e\n#include \x3cclipping_planes_pars_fragment\x3e\nvoid main() {\n\t#include \x3cclipping_planes_fragment\x3e\n\t#include \x3clogdepthbuf_fragment\x3e\n\t#include \x3cnormal_fragment_begin\x3e\n\t#include \x3cnormal_fragment_maps\x3e\n\tgl_FragColor \x3d vec4( packNormalToRGB( normal ), opacity );\n\t#ifdef OPAQUE\n\t\tgl_FragColor.a \x3d 1.0;\n\t#endif\n}",
meshphong_vert:"#define PHONG\nvarying vec3 vViewPosition;\n#include \x3ccommon\x3e\n#include \x3cuv_pars_vertex\x3e\n#include \x3cuv2_pars_vertex\x3e\n#include \x3cdisplacementmap_pars_vertex\x3e\n#include \x3cenvmap_pars_vertex\x3e\n#include \x3ccolor_pars_vertex\x3e\n#include \x3cfog_pars_vertex\x3e\n#include \x3cnormal_pars_vertex\x3e\n#include \x3cmorphtarget_pars_vertex\x3e\n#include \x3cskinning_pars_vertex\x3e\n#include \x3cshadowmap_pars_vertex\x3e\n#include \x3clogdepthbuf_pars_vertex\x3e\n#include \x3cclipping_planes_pars_vertex\x3e\nvoid main() {\n\t#include \x3cuv_vertex\x3e\n\t#include \x3cuv2_vertex\x3e\n\t#include \x3ccolor_vertex\x3e\n\t#include \x3cmorphcolor_vertex\x3e\n\t#include \x3cbeginnormal_vertex\x3e\n\t#include \x3cmorphnormal_vertex\x3e\n\t#include \x3cskinbase_vertex\x3e\n\t#include \x3cskinnormal_vertex\x3e\n\t#include \x3cdefaultnormal_vertex\x3e\n\t#include \x3cnormal_vertex\x3e\n\t#include \x3cbegin_vertex\x3e\n\t#include \x3cmorphtarget_vertex\x3e\n\t#include \x3cskinning_vertex\x3e\n\t#include \x3cdisplacementmap_vertex\x3e\n\t#include \x3cproject_vertex\x3e\n\t#include \x3clogdepthbuf_vertex\x3e\n\t#include \x3cclipping_planes_vertex\x3e\n\tvViewPosition \x3d - mvPosition.xyz;\n\t#include \x3cworldpos_vertex\x3e\n\t#include \x3cenvmap_vertex\x3e\n\t#include \x3cshadowmap_vertex\x3e\n\t#include \x3cfog_vertex\x3e\n}",
meshphong_frag:"#define PHONG\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform vec3 specular;\nuniform float shininess;\nuniform float opacity;\n#include \x3ccommon\x3e\n#include \x3cpacking\x3e\n#include \x3cdithering_pars_fragment\x3e\n#include \x3ccolor_pars_fragment\x3e\n#include \x3cuv_pars_fragment\x3e\n#include \x3cuv2_pars_fragment\x3e\n#include \x3cmap_pars_fragment\x3e\n#include \x3calphamap_pars_fragment\x3e\n#include \x3calphatest_pars_fragment\x3e\n#include \x3caomap_pars_fragment\x3e\n#include \x3clightmap_pars_fragment\x3e\n#include \x3cemissivemap_pars_fragment\x3e\n#include \x3cenvmap_common_pars_fragment\x3e\n#include \x3cenvmap_pars_fragment\x3e\n#include \x3cfog_pars_fragment\x3e\n#include \x3cbsdfs\x3e\n#include \x3clights_pars_begin\x3e\n#include \x3cnormal_pars_fragment\x3e\n#include \x3clights_phong_pars_fragment\x3e\n#include \x3cshadowmap_pars_fragment\x3e\n#include \x3cbumpmap_pars_fragment\x3e\n#include \x3cnormalmap_pars_fragment\x3e\n#include \x3cspecularmap_pars_fragment\x3e\n#include \x3clogdepthbuf_pars_fragment\x3e\n#include \x3cclipping_planes_pars_fragment\x3e\nvoid main() {\n\t#include \x3cclipping_planes_fragment\x3e\n\tvec4 diffuseColor \x3d vec4( diffuse, opacity );\n\tReflectedLight reflectedLight \x3d ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance \x3d emissive;\n\t#include \x3clogdepthbuf_fragment\x3e\n\t#include \x3cmap_fragment\x3e\n\t#include \x3ccolor_fragment\x3e\n\t#include \x3calphamap_fragment\x3e\n\t#include \x3calphatest_fragment\x3e\n\t#include \x3cspecularmap_fragment\x3e\n\t#include \x3cnormal_fragment_begin\x3e\n\t#include \x3cnormal_fragment_maps\x3e\n\t#include \x3cemissivemap_fragment\x3e\n\t#include \x3clights_phong_fragment\x3e\n\t#include \x3clights_fragment_begin\x3e\n\t#include \x3clights_fragment_maps\x3e\n\t#include \x3clights_fragment_end\x3e\n\t#include \x3caomap_fragment\x3e\n\tvec3 outgoingLight \x3d reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;\n\t#include \x3cenvmap_fragment\x3e\n\t#include \x3coutput_fragment\x3e\n\t#include \x3ctonemapping_fragment\x3e\n\t#include \x3cencodings_fragment\x3e\n\t#include \x3cfog_fragment\x3e\n\t#include \x3cpremultiplied_alpha_fragment\x3e\n\t#include \x3cdithering_fragment\x3e\n}",
meshphysical_vert:"#define STANDARD\nvarying vec3 vViewPosition;\n#ifdef USE_TRANSMISSION\n\tvarying vec3 vWorldPosition;\n#endif\n#include \x3ccommon\x3e\n#include \x3cuv_pars_vertex\x3e\n#include \x3cuv2_pars_vertex\x3e\n#include \x3cdisplacementmap_pars_vertex\x3e\n#include \x3ccolor_pars_vertex\x3e\n#include \x3cfog_pars_vertex\x3e\n#include \x3cnormal_pars_vertex\x3e\n#include \x3cmorphtarget_pars_vertex\x3e\n#include \x3cskinning_pars_vertex\x3e\n#include \x3cshadowmap_pars_vertex\x3e\n#include \x3clogdepthbuf_pars_vertex\x3e\n#include \x3cclipping_planes_pars_vertex\x3e\nvoid main() {\n\t#include \x3cuv_vertex\x3e\n\t#include \x3cuv2_vertex\x3e\n\t#include \x3ccolor_vertex\x3e\n\t#include \x3cmorphcolor_vertex\x3e\n\t#include \x3cbeginnormal_vertex\x3e\n\t#include \x3cmorphnormal_vertex\x3e\n\t#include \x3cskinbase_vertex\x3e\n\t#include \x3cskinnormal_vertex\x3e\n\t#include \x3cdefaultnormal_vertex\x3e\n\t#include \x3cnormal_vertex\x3e\n\t#include \x3cbegin_vertex\x3e\n\t#include \x3cmorphtarget_vertex\x3e\n\t#include \x3cskinning_vertex\x3e\n\t#include \x3cdisplacementmap_vertex\x3e\n\t#include \x3cproject_vertex\x3e\n\t#include \x3clogdepthbuf_vertex\x3e\n\t#include \x3cclipping_planes_vertex\x3e\n\tvViewPosition \x3d - mvPosition.xyz;\n\t#include \x3cworldpos_vertex\x3e\n\t#include \x3cshadowmap_vertex\x3e\n\t#include \x3cfog_vertex\x3e\n#ifdef USE_TRANSMISSION\n\tvWorldPosition \x3d worldPosition.xyz;\n#endif\n}",
meshphysical_frag:"#define STANDARD\n#ifdef PHYSICAL\n\t#define IOR\n\t#define SPECULAR\n#endif\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float roughness;\nuniform float metalness;\nuniform float opacity;\n#ifdef IOR\n\tuniform float ior;\n#endif\n#ifdef SPECULAR\n\tuniform float specularIntensity;\n\tuniform vec3 specularColor;\n\t#ifdef USE_SPECULARINTENSITYMAP\n\t\tuniform sampler2D specularIntensityMap;\n\t#endif\n\t#ifdef USE_SPECULARCOLORMAP\n\t\tuniform sampler2D specularColorMap;\n\t#endif\n#endif\n#ifdef USE_CLEARCOAT\n\tuniform float clearcoat;\n\tuniform float clearcoatRoughness;\n#endif\n#ifdef USE_IRIDESCENCE\n\tuniform float iridescence;\n\tuniform float iridescenceIOR;\n\tuniform float iridescenceThicknessMinimum;\n\tuniform float iridescenceThicknessMaximum;\n#endif\n#ifdef USE_SHEEN\n\tuniform vec3 sheenColor;\n\tuniform float sheenRoughness;\n\t#ifdef USE_SHEENCOLORMAP\n\t\tuniform sampler2D sheenColorMap;\n\t#endif\n\t#ifdef USE_SHEENROUGHNESSMAP\n\t\tuniform sampler2D sheenRoughnessMap;\n\t#endif\n#endif\nvarying vec3 vViewPosition;\n#include \x3ccommon\x3e\n#include \x3cpacking\x3e\n#include \x3cdithering_pars_fragment\x3e\n#include \x3ccolor_pars_fragment\x3e\n#include \x3cuv_pars_fragment\x3e\n#include \x3cuv2_pars_fragment\x3e\n#include \x3cmap_pars_fragment\x3e\n#include \x3calphamap_pars_fragment\x3e\n#include \x3calphatest_pars_fragment\x3e\n#include \x3caomap_pars_fragment\x3e\n#include \x3clightmap_pars_fragment\x3e\n#include \x3cemissivemap_pars_fragment\x3e\n#include \x3cbsdfs\x3e\n#include \x3ciridescence_fragment\x3e\n#include \x3ccube_uv_reflection_fragment\x3e\n#include \x3cenvmap_common_pars_fragment\x3e\n#include \x3cenvmap_physical_pars_fragment\x3e\n#include \x3cfog_pars_fragment\x3e\n#include \x3clights_pars_begin\x3e\n#include \x3cnormal_pars_fragment\x3e\n#include \x3clights_physical_pars_fragment\x3e\n#include \x3ctransmission_pars_fragment\x3e\n#include \x3cshadowmap_pars_fragment\x3e\n#include \x3cbumpmap_pars_fragment\x3e\n#include \x3cnormalmap_pars_fragment\x3e\n#include \x3cclearcoat_pars_fragment\x3e\n#include \x3ciridescence_pars_fragment\x3e\n#include \x3croughnessmap_pars_fragment\x3e\n#include \x3cmetalnessmap_pars_fragment\x3e\n#include \x3clogdepthbuf_pars_fragment\x3e\n#include \x3cclipping_planes_pars_fragment\x3e\nvoid main() {\n\t#include \x3cclipping_planes_fragment\x3e\n\tvec4 diffuseColor \x3d vec4( diffuse, opacity );\n\tReflectedLight reflectedLight \x3d ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance \x3d emissive;\n\t#include \x3clogdepthbuf_fragment\x3e\n\t#include \x3cmap_fragment\x3e\n\t#include \x3ccolor_fragment\x3e\n\t#include \x3calphamap_fragment\x3e\n\t#include \x3calphatest_fragment\x3e\n\t#include \x3croughnessmap_fragment\x3e\n\t#include \x3cmetalnessmap_fragment\x3e\n\t#include \x3cnormal_fragment_begin\x3e\n\t#include \x3cnormal_fragment_maps\x3e\n\t#include \x3cclearcoat_normal_fragment_begin\x3e\n\t#include \x3cclearcoat_normal_fragment_maps\x3e\n\t#include \x3cemissivemap_fragment\x3e\n\t#include \x3clights_physical_fragment\x3e\n\t#include \x3clights_fragment_begin\x3e\n\t#include \x3clights_fragment_maps\x3e\n\t#include \x3clights_fragment_end\x3e\n\t#include \x3caomap_fragment\x3e\n\tvec3 totalDiffuse \x3d reflectedLight.directDiffuse + reflectedLight.indirectDiffuse;\n\tvec3 totalSpecular \x3d reflectedLight.directSpecular + reflectedLight.indirectSpecular;\n\t#include \x3ctransmission_fragment\x3e\n\tvec3 outgoingLight \x3d totalDiffuse + totalSpecular + totalEmissiveRadiance;\n\t#ifdef USE_SHEEN\n\t\tfloat sheenEnergyComp \x3d 1.0 - 0.157 * max3( material.sheenColor );\n\t\toutgoingLight \x3d outgoingLight * sheenEnergyComp + sheenSpecular;\n\t#endif\n\t#ifdef USE_CLEARCOAT\n\t\tfloat dotNVcc \x3d saturate( dot( geometry.clearcoatNormal, geometry.viewDir ) );\n\t\tvec3 Fcc \x3d F_Schlick( material.clearcoatF0, material.clearcoatF90, dotNVcc );\n\t\toutgoingLight \x3d outgoingLight * ( 1.0 - material.clearcoat * Fcc ) + clearcoatSpecular * material.clearcoat;\n\t#endif\n\t#include \x3coutput_fragment\x3e\n\t#include \x3ctonemapping_fragment\x3e\n\t#include \x3cencodings_fragment\x3e\n\t#include \x3cfog_fragment\x3e\n\t#include \x3cpremultiplied_alpha_fragment\x3e\n\t#include \x3cdithering_fragment\x3e\n}",
meshtoon_vert:"#define TOON\nvarying vec3 vViewPosition;\n#include \x3ccommon\x3e\n#include \x3cuv_pars_vertex\x3e\n#include \x3cuv2_pars_vertex\x3e\n#include \x3cdisplacementmap_pars_vertex\x3e\n#include \x3ccolor_pars_vertex\x3e\n#include \x3cfog_pars_vertex\x3e\n#include \x3cnormal_pars_vertex\x3e\n#include \x3cmorphtarget_pars_vertex\x3e\n#include \x3cskinning_pars_vertex\x3e\n#include \x3cshadowmap_pars_vertex\x3e\n#include \x3clogdepthbuf_pars_vertex\x3e\n#include \x3cclipping_planes_pars_vertex\x3e\nvoid main() {\n\t#include \x3cuv_vertex\x3e\n\t#include \x3cuv2_vertex\x3e\n\t#include \x3ccolor_vertex\x3e\n\t#include \x3cmorphcolor_vertex\x3e\n\t#include \x3cbeginnormal_vertex\x3e\n\t#include \x3cmorphnormal_vertex\x3e\n\t#include \x3cskinbase_vertex\x3e\n\t#include \x3cskinnormal_vertex\x3e\n\t#include \x3cdefaultnormal_vertex\x3e\n\t#include \x3cnormal_vertex\x3e\n\t#include \x3cbegin_vertex\x3e\n\t#include \x3cmorphtarget_vertex\x3e\n\t#include \x3cskinning_vertex\x3e\n\t#include \x3cdisplacementmap_vertex\x3e\n\t#include \x3cproject_vertex\x3e\n\t#include \x3clogdepthbuf_vertex\x3e\n\t#include \x3cclipping_planes_vertex\x3e\n\tvViewPosition \x3d - mvPosition.xyz;\n\t#include \x3cworldpos_vertex\x3e\n\t#include \x3cshadowmap_vertex\x3e\n\t#include \x3cfog_vertex\x3e\n}",
meshtoon_frag:"#define TOON\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float opacity;\n#include \x3ccommon\x3e\n#include \x3cpacking\x3e\n#include \x3cdithering_pars_fragment\x3e\n#include \x3ccolor_pars_fragment\x3e\n#include \x3cuv_pars_fragment\x3e\n#include \x3cuv2_pars_fragment\x3e\n#include \x3cmap_pars_fragment\x3e\n#include \x3calphamap_pars_fragment\x3e\n#include \x3calphatest_pars_fragment\x3e\n#include \x3caomap_pars_fragment\x3e\n#include \x3clightmap_pars_fragment\x3e\n#include \x3cemissivemap_pars_fragment\x3e\n#include \x3cgradientmap_pars_fragment\x3e\n#include \x3cfog_pars_fragment\x3e\n#include \x3cbsdfs\x3e\n#include \x3clights_pars_begin\x3e\n#include \x3cnormal_pars_fragment\x3e\n#include \x3clights_toon_pars_fragment\x3e\n#include \x3cshadowmap_pars_fragment\x3e\n#include \x3cbumpmap_pars_fragment\x3e\n#include \x3cnormalmap_pars_fragment\x3e\n#include \x3clogdepthbuf_pars_fragment\x3e\n#include \x3cclipping_planes_pars_fragment\x3e\nvoid main() {\n\t#include \x3cclipping_planes_fragment\x3e\n\tvec4 diffuseColor \x3d vec4( diffuse, opacity );\n\tReflectedLight reflectedLight \x3d ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance \x3d emissive;\n\t#include \x3clogdepthbuf_fragment\x3e\n\t#include \x3cmap_fragment\x3e\n\t#include \x3ccolor_fragment\x3e\n\t#include \x3calphamap_fragment\x3e\n\t#include \x3calphatest_fragment\x3e\n\t#include \x3cnormal_fragment_begin\x3e\n\t#include \x3cnormal_fragment_maps\x3e\n\t#include \x3cemissivemap_fragment\x3e\n\t#include \x3clights_toon_fragment\x3e\n\t#include \x3clights_fragment_begin\x3e\n\t#include \x3clights_fragment_maps\x3e\n\t#include \x3clights_fragment_end\x3e\n\t#include \x3caomap_fragment\x3e\n\tvec3 outgoingLight \x3d reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;\n\t#include \x3coutput_fragment\x3e\n\t#include \x3ctonemapping_fragment\x3e\n\t#include \x3cencodings_fragment\x3e\n\t#include \x3cfog_fragment\x3e\n\t#include \x3cpremultiplied_alpha_fragment\x3e\n\t#include \x3cdithering_fragment\x3e\n}",
points_vert:"uniform float size;\nuniform float scale;\n#include \x3ccommon\x3e\n#include \x3ccolor_pars_vertex\x3e\n#include \x3cfog_pars_vertex\x3e\n#include \x3cmorphtarget_pars_vertex\x3e\n#include \x3clogdepthbuf_pars_vertex\x3e\n#include \x3cclipping_planes_pars_vertex\x3e\nvoid main() {\n\t#include \x3ccolor_vertex\x3e\n\t#include \x3cmorphcolor_vertex\x3e\n\t#include \x3cbegin_vertex\x3e\n\t#include \x3cmorphtarget_vertex\x3e\n\t#include \x3cproject_vertex\x3e\n\tgl_PointSize \x3d size;\n\t#ifdef USE_SIZEATTENUATION\n\t\tbool isPerspective \x3d isPerspectiveMatrix( projectionMatrix );\n\t\tif ( isPerspective ) gl_PointSize *\x3d ( scale / - mvPosition.z );\n\t#endif\n\t#include \x3clogdepthbuf_vertex\x3e\n\t#include \x3cclipping_planes_vertex\x3e\n\t#include \x3cworldpos_vertex\x3e\n\t#include \x3cfog_vertex\x3e\n}",
points_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#include \x3ccommon\x3e\n#include \x3ccolor_pars_fragment\x3e\n#include \x3cmap_particle_pars_fragment\x3e\n#include \x3calphatest_pars_fragment\x3e\n#include \x3cfog_pars_fragment\x3e\n#include \x3clogdepthbuf_pars_fragment\x3e\n#include \x3cclipping_planes_pars_fragment\x3e\nvoid main() {\n\t#include \x3cclipping_planes_fragment\x3e\n\tvec3 outgoingLight \x3d vec3( 0.0 );\n\tvec4 diffuseColor \x3d vec4( diffuse, opacity );\n\t#include \x3clogdepthbuf_fragment\x3e\n\t#include \x3cmap_particle_fragment\x3e\n\t#include \x3ccolor_fragment\x3e\n\t#include \x3calphatest_fragment\x3e\n\toutgoingLight \x3d diffuseColor.rgb;\n\t#include \x3coutput_fragment\x3e\n\t#include \x3ctonemapping_fragment\x3e\n\t#include \x3cencodings_fragment\x3e\n\t#include \x3cfog_fragment\x3e\n\t#include \x3cpremultiplied_alpha_fragment\x3e\n}",
shadow_vert:"#include \x3ccommon\x3e\n#include \x3cfog_pars_vertex\x3e\n#include \x3cmorphtarget_pars_vertex\x3e\n#include \x3cskinning_pars_vertex\x3e\n#include \x3clogdepthbuf_pars_vertex\x3e\n#include \x3cshadowmap_pars_vertex\x3e\nvoid main() {\n\t#include \x3cbeginnormal_vertex\x3e\n\t#include \x3cmorphnormal_vertex\x3e\n\t#include \x3cskinbase_vertex\x3e\n\t#include \x3cskinnormal_vertex\x3e\n\t#include \x3cdefaultnormal_vertex\x3e\n\t#include \x3cbegin_vertex\x3e\n\t#include \x3cmorphtarget_vertex\x3e\n\t#include \x3cskinning_vertex\x3e\n\t#include \x3cproject_vertex\x3e\n\t#include \x3clogdepthbuf_vertex\x3e\n\t#include \x3cworldpos_vertex\x3e\n\t#include \x3cshadowmap_vertex\x3e\n\t#include \x3cfog_vertex\x3e\n}",
shadow_frag:"uniform vec3 color;\nuniform float opacity;\n#include \x3ccommon\x3e\n#include \x3cpacking\x3e\n#include \x3cfog_pars_fragment\x3e\n#include \x3cbsdfs\x3e\n#include \x3clights_pars_begin\x3e\n#include \x3clogdepthbuf_pars_fragment\x3e\n#include \x3cshadowmap_pars_fragment\x3e\n#include \x3cshadowmask_pars_fragment\x3e\nvoid main() {\n\t#include \x3clogdepthbuf_fragment\x3e\n\tgl_FragColor \x3d vec4( color, opacity * ( 1.0 - getShadowMask() ) );\n\t#include \x3ctonemapping_fragment\x3e\n\t#include \x3cencodings_fragment\x3e\n\t#include \x3cfog_fragment\x3e\n}",
sprite_vert:"uniform float rotation;\nuniform vec2 center;\n#include \x3ccommon\x3e\n#include \x3cuv_pars_vertex\x3e\n#include \x3cfog_pars_vertex\x3e\n#include \x3clogdepthbuf_pars_vertex\x3e\n#include \x3cclipping_planes_pars_vertex\x3e\nvoid main() {\n\t#include \x3cuv_vertex\x3e\n\tvec4 mvPosition \x3d modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );\n\tvec2 scale;\n\tscale.x \x3d length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );\n\tscale.y \x3d length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );\n\t#ifndef USE_SIZEATTENUATION\n\t\tbool isPerspective \x3d isPerspectiveMatrix( projectionMatrix );\n\t\tif ( isPerspective ) scale *\x3d - mvPosition.z;\n\t#endif\n\tvec2 alignedPosition \x3d ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;\n\tvec2 rotatedPosition;\n\trotatedPosition.x \x3d cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;\n\trotatedPosition.y \x3d sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;\n\tmvPosition.xy +\x3d rotatedPosition;\n\tgl_Position \x3d projectionMatrix * mvPosition;\n\t#include \x3clogdepthbuf_vertex\x3e\n\t#include \x3cclipping_planes_vertex\x3e\n\t#include \x3cfog_vertex\x3e\n}",
sprite_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#include \x3ccommon\x3e\n#include \x3cuv_pars_fragment\x3e\n#include \x3cmap_pars_fragment\x3e\n#include \x3calphamap_pars_fragment\x3e\n#include \x3calphatest_pars_fragment\x3e\n#include \x3cfog_pars_fragment\x3e\n#include \x3clogdepthbuf_pars_fragment\x3e\n#include \x3cclipping_planes_pars_fragment\x3e\nvoid main() {\n\t#include \x3cclipping_planes_fragment\x3e\n\tvec3 outgoingLight \x3d vec3( 0.0 );\n\tvec4 diffuseColor \x3d vec4( diffuse, opacity );\n\t#include \x3clogdepthbuf_fragment\x3e\n\t#include \x3cmap_fragment\x3e\n\t#include \x3calphamap_fragment\x3e\n\t#include \x3calphatest_fragment\x3e\n\toutgoingLight \x3d diffuseColor.rgb;\n\t#include \x3coutput_fragment\x3e\n\t#include \x3ctonemapping_fragment\x3e\n\t#include \x3cencodings_fragment\x3e\n\t#include \x3cfog_fragment\x3e\n}"},
ab={common:{diffuse:{value:new gb(16777215)},opacity:{value:1},map:{value:null},uvTransform:{value:new hb},uv2Transform:{value:new hb},alphaMap:{value:null},alphaTest:{value:0}},specularmap:{specularMap:{value:null}},envmap:{envMap:{value:null},flipEnvMap:{value:-1},reflectivity:{value:1},ior:{value:1.5},refractionRatio:{value:.98}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1}},emissivemap:{emissiveMap:{value:null}},bumpmap:{bumpMap:{value:null},
bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalScale:{value:new za(1,1)}},displacementmap:{displacementMap:{value:null},displacementScale:{value:1},displacementBias:{value:0}},roughnessmap:{roughnessMap:{value:null}},metalnessmap:{metalnessMap:{value:null}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:2.5E-4},fogNear:{value:1},fogFar:{value:2E3},fogColor:{value:new gb(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],
properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotLightMap:{value:[]},spotShadowMap:{value:[]},spotLightMatrix:{value:[]},
pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new gb(16777215)},
opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},alphaTest:{value:0},uvTransform:{value:new hb}},sprite:{diffuse:{value:new gb(16777215)},opacity:{value:1},center:{value:new za(.5,.5)},rotation:{value:0},map:{value:null},alphaMap:{value:null},alphaTest:{value:0},uvTransform:{value:new hb}}},Xc={basic:{uniforms:O([ab.common,ab.specularmap,ab.envmap,ab.aomap,ab.lightmap,ab.fog]),vertexShader:Ib.meshbasic_vert,fragmentShader:Ib.meshbasic_frag},lambert:{uniforms:O([ab.common,
ab.specularmap,ab.envmap,ab.aomap,ab.lightmap,ab.emissivemap,ab.bumpmap,ab.normalmap,ab.displacementmap,ab.fog,ab.lights,{emissive:{value:new gb(0)}}]),vertexShader:Ib.meshlambert_vert,fragmentShader:Ib.meshlambert_frag},phong:{uniforms:O([ab.common,ab.specularmap,ab.envmap,ab.aomap,ab.lightmap,ab.emissivemap,ab.bumpmap,ab.normalmap,ab.displacementmap,ab.fog,ab.lights,{emissive:{value:new gb(0)},specular:{value:new gb(1118481)},shininess:{value:30}}]),vertexShader:Ib.meshphong_vert,fragmentShader:Ib.meshphong_frag},
standard:{uniforms:O([ab.common,ab.envmap,ab.aomap,ab.lightmap,ab.emissivemap,ab.bumpmap,ab.normalmap,ab.displacementmap,ab.roughnessmap,ab.metalnessmap,ab.fog,ab.lights,{emissive:{value:new gb(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:Ib.meshphysical_vert,fragmentShader:Ib.meshphysical_frag},toon:{uniforms:O([ab.common,ab.aomap,ab.lightmap,ab.emissivemap,ab.bumpmap,ab.normalmap,ab.displacementmap,ab.gradientmap,ab.fog,ab.lights,{emissive:{value:new gb(0)}}]),
vertexShader:Ib.meshtoon_vert,fragmentShader:Ib.meshtoon_frag},matcap:{uniforms:O([ab.common,ab.bumpmap,ab.normalmap,ab.displacementmap,ab.fog,{matcap:{value:null}}]),vertexShader:Ib.meshmatcap_vert,fragmentShader:Ib.meshmatcap_frag},points:{uniforms:O([ab.points,ab.fog]),vertexShader:Ib.points_vert,fragmentShader:Ib.points_frag},dashed:{uniforms:O([ab.common,ab.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:Ib.linedashed_vert,fragmentShader:Ib.linedashed_frag},depth:{uniforms:O([ab.common,
ab.displacementmap]),vertexShader:Ib.depth_vert,fragmentShader:Ib.depth_frag},normal:{uniforms:O([ab.common,ab.bumpmap,ab.normalmap,ab.displacementmap,{opacity:{value:1}}]),vertexShader:Ib.meshnormal_vert,fragmentShader:Ib.meshnormal_frag},sprite:{uniforms:O([ab.sprite,ab.fog]),vertexShader:Ib.sprite_vert,fragmentShader:Ib.sprite_frag},background:{uniforms:{uvTransform:{value:new hb},t2D:{value:null},backgroundIntensity:{value:1}},vertexShader:Ib.background_vert,fragmentShader:Ib.background_frag},
backgroundCube:{uniforms:{envMap:{value:null},flipEnvMap:{value:-1},backgroundBlurriness:{value:0},backgroundIntensity:{value:1}},vertexShader:Ib.backgroundCube_vert,fragmentShader:Ib.backgroundCube_frag},cube:{uniforms:{tCube:{value:null},tFlip:{value:-1},opacity:{value:1}},vertexShader:Ib.cube_vert,fragmentShader:Ib.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:Ib.equirect_vert,fragmentShader:Ib.equirect_frag},distanceRGBA:{uniforms:O([ab.common,ab.displacementmap,{referencePosition:{value:new aa},
nearDistance:{value:1},farDistance:{value:1E3}}]),vertexShader:Ib.distanceRGBA_vert,fragmentShader:Ib.distanceRGBA_frag},shadow:{uniforms:O([ab.lights,ab.fog,{color:{value:new gb(0)},opacity:{value:1}}]),vertexShader:Ib.shadow_vert,fragmentShader:Ib.shadow_frag}};Xc.physical={uniforms:O([Xc.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatNormalScale:{value:new za(1,1)},clearcoatNormalMap:{value:null},iridescence:{value:0},
iridescenceMap:{value:null},iridescenceIOR:{value:1.3},iridescenceThicknessMinimum:{value:100},iridescenceThicknessMaximum:{value:400},iridescenceThicknessMap:{value:null},sheen:{value:0},sheenColor:{value:new gb(0)},sheenColorMap:{value:null},sheenRoughness:{value:1},sheenRoughnessMap:{value:null},transmission:{value:0},transmissionMap:{value:null},transmissionSamplerSize:{value:new za},transmissionSamplerMap:{value:null},thickness:{value:0},thicknessMap:{value:null},attenuationDistance:{value:0},
attenuationColor:{value:new gb(0)},specularIntensity:{value:1},specularIntensityMap:{value:null},specularColor:{value:new gb(1,1,1)},specularColorMap:{value:null}}]),vertexShader:Ib.meshphysical_vert,fragmentShader:Ib.meshphysical_frag};const kg={r:0,b:0,g:0};class Ug extends Sg{constructor(a=-1,b=1,d=1,l=-1,q=.1,y=2E3){super();this.isOrthographicCamera=!0;this.type="OrthographicCamera";this.zoom=1;this.view=null;this.left=a;this.right=b;this.top=d;this.bottom=l;this.near=q;this.far=y;this.updateProjectionMatrix()}copy(a,
b){super.copy(a,b);this.left=a.left;this.right=a.right;this.top=a.top;this.bottom=a.bottom;this.near=a.near;this.far=a.far;this.zoom=a.zoom;this.view=null===a.view?null:Object.assign({},a.view);return this}setViewOffset(a,b,d,l,q,y){null===this.view&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1});this.view.enabled=!0;this.view.fullWidth=a;this.view.fullHeight=b;this.view.offsetX=d;this.view.offsetY=l;this.view.width=q;this.view.height=y;this.updateProjectionMatrix()}clearViewOffset(){null!==
this.view&&(this.view.enabled=!1);this.updateProjectionMatrix()}updateProjectionMatrix(){var a=(this.right-this.left)/(2*this.zoom),b=(this.top-this.bottom)/(2*this.zoom),d=(this.right+this.left)/2,l=(this.top+this.bottom)/2;let q=d-a;d+=a;a=l+b;b=l-b;null!==this.view&&this.view.enabled&&(l=(this.right-this.left)/this.view.fullWidth/this.zoom,b=(this.top-this.bottom)/this.view.fullHeight/this.zoom,q+=l*this.view.offsetX,d=q+l*this.view.width,a-=b*this.view.offsetY,b=a-b*this.view.height);this.projectionMatrix.makeOrthographic(q,
d,a,b,this.near,this.far);this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(a){a=super.toJSON(a);a.object.zoom=this.zoom;a.object.left=this.left;a.object.right=this.right;a.object.top=this.top;a.object.bottom=this.bottom;a.object.near=this.near;a.object.far=this.far;null!==this.view&&(a.object.view=Object.assign({},this.view));return a}}const sj=[.125,.215,.35,.446,.526,.582],ki=new Ug,tj=new gb;let li=null;const te=(1+Math.sqrt(5))/2,Ze=1/te,uj=[new aa(1,1,1),new aa(-1,1,1),
new aa(1,1,-1),new aa(-1,1,-1),new aa(0,te,Ze),new aa(0,te,-Ze),new aa(Ze,0,te),new aa(-Ze,0,te),new aa(te,Ze,0),new aa(-te,Ze,0)];class Bh{constructor(a){this._renderer=a;this._pingPongRenderTarget=null;this._cubeSize=this._lodMax=0;this._lodPlanes=[];this._sizeLods=[];this._sigmas=[];this._equirectMaterial=this._cubemapMaterial=this._blurMaterial=null;this._compileMaterial(this._blurMaterial)}fromScene(a,b=0,d=.1,l=100){li=this._renderer.getRenderTarget();this._setSize(256);const q=this._allocateTargets();
q.depthBuffer=!0;this._sceneToCubeUV(a,d,l,q);0<b&&this._blur(q,0,0,b);this._applyPMREM(q);this._cleanup(q);return q}fromEquirectangular(a,b=null){return this._fromTexture(a,b)}fromCubemap(a,b=null){return this._fromTexture(a,b)}compileCubemapShader(){null===this._cubemapMaterial&&(this._cubemapMaterial=Wa(),this._compileMaterial(this._cubemapMaterial))}compileEquirectangularShader(){null===this._equirectMaterial&&(this._equirectMaterial=da(),this._compileMaterial(this._equirectMaterial))}dispose(){this._dispose();
null!==this._cubemapMaterial&&this._cubemapMaterial.dispose();null!==this._equirectMaterial&&this._equirectMaterial.dispose()}_setSize(a){this._lodMax=Math.floor(Math.log2(a));this._cubeSize=Math.pow(2,this._lodMax)}_dispose(){null!==this._blurMaterial&&this._blurMaterial.dispose();null!==this._pingPongRenderTarget&&this._pingPongRenderTarget.dispose();for(let a=0;a<this._lodPlanes.length;a++)this._lodPlanes[a].dispose()}_cleanup(a){this._renderer.setRenderTarget(li);a.scissorTest=!1;Oa(a,0,0,a.width,
a.height)}_fromTexture(a,b){301===a.mapping||302===a.mapping?this._setSize(0===a.image.length?16:a.image[0].width||a.image[0].image.width):this._setSize(a.image.width/4);li=this._renderer.getRenderTarget();b=b||this._allocateTargets();this._textureToCubeUV(a,b);this._applyPMREM(b);this._cleanup(b);return b}_allocateTargets(){const a=3*Math.max(this._cubeSize,112),b=4*this._cubeSize;var d={magFilter:1006,minFilter:1006,generateMipmaps:!1,type:1016,format:1023,encoding:3E3,depthBuffer:!1};const l=Ha(a,
b,d);if(null===this._pingPongRenderTarget||this._pingPongRenderTarget.width!==a||this._pingPongRenderTarget.height!==b){null!==this._pingPongRenderTarget&&this._dispose();this._pingPongRenderTarget=Ha(a,b,d);var {_lodMax:q}=this;d=q;var y=[];const G=[],M=[];let N=d;const P=d-4+1+sj.length;for(let T=0;T<P;T++){var A=Math.pow(2,N);G.push(A);var D=1/A;T>d-4?D=sj[T-d+4-1]:0===T&&(D=0);M.push(D);D=1/(A-2);A=-D;D=1+D;var F=[A,A,D,A,D,D,A,A,D,D,A,D];A=new Float32Array(108);D=new Float32Array(72);const S=
new Float32Array(36);for(let L=0;6>L;L++){const U=L%3*2/3-1,ma=2<L?0:-1;A.set([U,ma,0,U+2/3,ma,0,U+2/3,ma+1,0,U,ma,0,U+2/3,ma+1,0,U,ma+1,0],18*L);D.set(F,12*L);S.set([L,L,L,L,L,L],6*L)}F=new Kb;F.setAttribute("position",new fc(A,3));F.setAttribute("uv",new fc(D,2));F.setAttribute("faceIndex",new fc(S,1));y.push(F);4<N&&N--}({sizeLods:this._sizeLods,lodPlanes:this._lodPlanes,sigmas:this._sigmas}={lodPlanes:y,sizeLods:G,sigmas:M});d=q;q=new Float32Array(20);y=new aa(0,1,0);this._blurMaterial=new fd({name:"SphericalGaussianBlur",
defines:{n:20,CUBEUV_TEXEL_WIDTH:1/a,CUBEUV_TEXEL_HEIGHT:1/b,CUBEUV_MAX_MIP:`${d}.0`},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:q},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:y}},vertexShader:Pa(),fragmentShader:"\n\n\t\t\tprecision mediump float;\n\t\t\tprecision mediump int;\n\n\t\t\tvarying vec3 vOutputDirection;\n\n\t\t\tuniform sampler2D envMap;\n\t\t\tuniform int samples;\n\t\t\tuniform float weights[ n ];\n\t\t\tuniform bool latitudinal;\n\t\t\tuniform float dTheta;\n\t\t\tuniform float mipInt;\n\t\t\tuniform vec3 poleAxis;\n\n\t\t\t#define ENVMAP_TYPE_CUBE_UV\n\t\t\t#include \x3ccube_uv_reflection_fragment\x3e\n\n\t\t\tvec3 getSample( float theta, vec3 axis ) {\n\n\t\t\t\tfloat cosTheta \x3d cos( theta );\n\t\t\t\t// Rodrigues' axis-angle rotation\n\t\t\t\tvec3 sampleDirection \x3d vOutputDirection * cosTheta\n\t\t\t\t\t+ cross( axis, vOutputDirection ) * sin( theta )\n\t\t\t\t\t+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );\n\n\t\t\t\treturn bilinearCubeUV( envMap, sampleDirection, mipInt );\n\n\t\t\t}\n\n\t\t\tvoid main() {\n\n\t\t\t\tvec3 axis \x3d latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );\n\n\t\t\t\tif ( all( equal( axis, vec3( 0.0 ) ) ) ) {\n\n\t\t\t\t\taxis \x3d vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );\n\n\t\t\t\t}\n\n\t\t\t\taxis \x3d normalize( axis );\n\n\t\t\t\tgl_FragColor \x3d vec4( 0.0, 0.0, 0.0, 1.0 );\n\t\t\t\tgl_FragColor.rgb +\x3d weights[ 0 ] * getSample( 0.0, axis );\n\n\t\t\t\tfor ( int i \x3d 1; i \x3c n; i++ ) {\n\n\t\t\t\t\tif ( i \x3e\x3d samples ) {\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t}\n\n\t\t\t\t\tfloat theta \x3d dTheta * float( i );\n\t\t\t\t\tgl_FragColor.rgb +\x3d weights[ i ] * getSample( -1.0 * theta, axis );\n\t\t\t\t\tgl_FragColor.rgb +\x3d weights[ i ] * getSample( theta, axis );\n\n\t\t\t\t}\n\n\t\t\t}\n\t\t",
blending:0,depthTest:!1,depthWrite:!1})}return l}_compileMaterial(a){a=new xc(this._lodPlanes[0],a);this._renderer.compile(a,ki)}_sceneToCubeUV(a,b,d,l){b=new Dc(90,1,b,d);d=[1,-1,1,1,1,1];const q=[1,1,1,-1,-1,-1],y=this._renderer,A=y.autoClear,D=y.toneMapping;y.getClearColor(tj);y.toneMapping=0;y.autoClear=!1;var F=new Vd({name:"PMREM.Background",side:1,depthWrite:!1,depthTest:!1});const G=new xc(new ae,F);let M=!1;const N=a.background;N?N.isColor&&(F.color.copy(N),a.background=null,M=!0):(F.color.copy(tj),
M=!0);for(F=0;6>F;F++){const P=F%3;0===P?(b.up.set(0,d[F],0),b.lookAt(q[F],0,0)):1===P?(b.up.set(0,0,d[F]),b.lookAt(0,q[F],0)):(b.up.set(0,d[F],0),b.lookAt(0,0,q[F]));const T=this._cubeSize;Oa(l,P*T,2<F?T:0,T,T);y.setRenderTarget(l);M&&y.render(G,b);y.render(a,b)}G.geometry.dispose();G.material.dispose();y.toneMapping=D;y.autoClear=A;a.background=N}_textureToCubeUV(a,b){const d=this._renderer;var l=301===a.mapping||302===a.mapping;l?(null===this._cubemapMaterial&&(this._cubemapMaterial=Wa()),this._cubemapMaterial.uniforms.flipEnvMap.value=
!1===a.isRenderTargetTexture?-1:1):null===this._equirectMaterial&&(this._equirectMaterial=da());const q=l?this._cubemapMaterial:this._equirectMaterial;l=new xc(this._lodPlanes[0],q);q.uniforms.envMap.value=a;a=this._cubeSize;Oa(b,0,0,3*a,2*a);d.setRenderTarget(b);d.render(l,ki)}_applyPMREM(a){const b=this._renderer,d=b.autoClear;b.autoClear=!1;for(let l=1;l<this._lodPlanes.length;l++)this._blur(a,l-1,l,Math.sqrt(this._sigmas[l]*this._sigmas[l]-this._sigmas[l-1]*this._sigmas[l-1]),uj[(l-1)%uj.length]);
b.autoClear=d}_blur(a,b,d,l,q){const y=this._pingPongRenderTarget;this._halfBlur(a,y,b,d,l,"latitudinal",q);this._halfBlur(y,a,d,d,l,"longitudinal",q)}_halfBlur(a,b,d,l,q,y,A){const D=this._renderer;var F=this._blurMaterial;"latitudinal"!==y&&"longitudinal"!==y&&console.error("blur direction must be either latitudinal or longitudinal!");const G=new xc(this._lodPlanes[l],F);F=F.uniforms;var M=this._sizeLods[d]-1;M=isFinite(q)?Math.PI/(2*M):2*Math.PI/39;var N=q/M;const P=isFinite(q)?1+Math.floor(3*
N):20;20<P&&console.warn(`sigmaRadians, ${q}, is too large and will clip, as it requested ${P} samples when the maximum is set to ${20}`);q=[];let T=0;for(let L=0;20>L;++L){var S=L/N;S=Math.exp(-S*S/2);q.push(S);0===L?T+=S:L<P&&(T+=2*S)}for(N=0;N<q.length;N++)q[N]/=T;F.envMap.value=a.texture;F.samples.value=P;F.weights.value=q;F.latitudinal.value="latitudinal"===y;A&&(F.poleAxis.value=A);({_lodMax:a}=this);F.dTheta.value=M;F.mipInt.value=a-d;d=this._sizeLods[l];Oa(b,3*d*(l>a-4?l-a+4:0),4*(this._cubeSize-
d),3*d,2*d);D.setRenderTarget(b);D.render(G,ki)}}const Xi=new rc,$i=new lg,Yi=new Yh,Zi=new Tf,Si=[],Ti=[],Wi=new Float32Array(16),Vi=new Float32Array(9),Ui=new Float32Array(4);class wl{constructor(a,b,d){this.id=a;this.addr=d;this.cache=[];this.setValue=Xb(b.type)}}class xl{constructor(a,b,d){this.id=a;this.addr=d;this.cache=[];this.size=b.size;this.setValue=kc(b.type)}}class yl{constructor(a){this.id=a;this.seq=[];this.map={}}setValue(a,b,d){const l=this.seq;for(let q=0,y=l.length;q!==y;++q){const A=
l[q];A.setValue(a,b[A.id],d)}}}const mi=/(\w+)(\])?(\[|\.)?/g;class mg{constructor(a,b){this.seq=[];this.map={};const d=a.getProgramParameter(b,a.ACTIVE_UNIFORMS);for(let G=0;G<d;++G){var l=a.getActiveUniform(b,G),q=a.getUniformLocation(b,l.name),y=this,A=l.name;const M=A.length;for(mi.lastIndex=0;;){const N=mi.exec(A),P=mi.lastIndex;var D=N[1],F=N[3];"]"===N[2]&&(D|=0);if(void 0===F||"["===F&&P+2===M){A=y;l=void 0===F?new wl(D,l,q):new xl(D,l,q);A.seq.push(l);A.map[l.id]=l;break}else F=y.map[D],
void 0===F&&(F=new yl(D),D=y,y=F,D.seq.push(y),D.map[y.id]=y),y=F}}}setValue(a,b,d,l){b=this.map[b];void 0!==b&&b.setValue(a,d,l)}setOptional(a,b,d){b=b[d];void 0!==b&&this.setValue(a,d,b)}static upload(a,b,d,l){for(let q=0,y=b.length;q!==y;++q){const A=b[q],D=d[A.id];!1!==D.needsUpdate&&A.setValue(a,D.value,l)}}static seqWithValue(a,b){const d=[];for(let l=0,q=a.length;l!==q;++l){const y=a[l];y.id in b&&d.push(y)}return d}}let Uk=0;const Eh=/^[ \t]*#include +<([\w\d./]+)>/gm,aj=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;
let zl=0;class Vk{constructor(){this.shaderCache=new Map;this.materialCache=new Map}update(a){var b=a.fragmentShader;const d=this._getShaderStage(a.vertexShader);b=this._getShaderStage(b);a=this._getShaderCacheForMaterial(a);!1===a.has(d)&&(a.add(d),d.usedTimes++);!1===a.has(b)&&(a.add(b),b.usedTimes++);return this}remove(a){const b=this.materialCache.get(a);for(const d of b)d.usedTimes--,0===d.usedTimes&&this.shaderCache.delete(d.code);this.materialCache.delete(a);return this}getVertexShaderID(a){return this._getShaderStage(a.vertexShader).id}getFragmentShaderID(a){return this._getShaderStage(a.fragmentShader).id}dispose(){this.shaderCache.clear();
this.materialCache.clear()}_getShaderCacheForMaterial(a){const b=this.materialCache;let d=b.get(a);void 0===d&&(d=new Set,b.set(a,d));return d}_getShaderStage(a){const b=this.shaderCache;let d=b.get(a);void 0===d&&(d=new Al(a),b.set(a,d));return d}}class Al{constructor(a){this.id=zl++;this.code=a;this.usedTimes=0}}let Wk=0;class Gh extends Fc{constructor(a){super();this.isMeshDepthMaterial=!0;this.type="MeshDepthMaterial";this.depthPacking=3200;this.displacementMap=this.alphaMap=this.map=null;this.displacementScale=
1;this.displacementBias=0;this.wireframe=!1;this.wireframeLinewidth=1;this.setValues(a)}copy(a){super.copy(a);this.depthPacking=a.depthPacking;this.map=a.map;this.alphaMap=a.alphaMap;this.displacementMap=a.displacementMap;this.displacementScale=a.displacementScale;this.displacementBias=a.displacementBias;this.wireframe=a.wireframe;this.wireframeLinewidth=a.wireframeLinewidth;return this}}class Hh extends Fc{constructor(a){super();this.isMeshDistanceMaterial=!0;this.type="MeshDistanceMaterial";this.referencePosition=
new aa;this.nearDistance=1;this.farDistance=1E3;this.displacementMap=this.alphaMap=this.map=null;this.displacementScale=1;this.displacementBias=0;this.setValues(a)}copy(a){super.copy(a);this.referencePosition.copy(a.referencePosition);this.nearDistance=a.nearDistance;this.farDistance=a.farDistance;this.map=a.map;this.alphaMap=a.alphaMap;this.displacementMap=a.displacementMap;this.displacementScale=a.displacementScale;this.displacementBias=a.displacementBias;return this}}class vj extends Dc{constructor(a=
[]){super();this.isArrayCamera=!0;this.cameras=a}}class $e extends bc{constructor(){super();this.isGroup=!0;this.type="Group"}}const Bl={type:"move"};class ni{constructor(){this._hand=this._grip=this._targetRay=null}getHandSpace(){null===this._hand&&(this._hand=new $e,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1});return this._hand}getTargetRaySpace(){null===this._targetRay&&(this._targetRay=new $e,this._targetRay.matrixAutoUpdate=!1,
this._targetRay.visible=!1,this._targetRay.hasLinearVelocity=!1,this._targetRay.linearVelocity=new aa,this._targetRay.hasAngularVelocity=!1,this._targetRay.angularVelocity=new aa);return this._targetRay}getGripSpace(){null===this._grip&&(this._grip=new $e,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1,this._grip.hasLinearVelocity=!1,this._grip.linearVelocity=new aa,this._grip.hasAngularVelocity=!1,this._grip.angularVelocity=new aa);return this._grip}dispatchEvent(a){null!==this._targetRay&&
this._targetRay.dispatchEvent(a);null!==this._grip&&this._grip.dispatchEvent(a);null!==this._hand&&this._hand.dispatchEvent(a);return this}connect(a){if(a&&a.hand){const b=this._hand;if(b)for(const d of a.hand.values())this._getHandJoint(b,d)}this.dispatchEvent({type:"connected",data:a});return this}disconnect(a){this.dispatchEvent({type:"disconnected",data:a});null!==this._targetRay&&(this._targetRay.visible=!1);null!==this._grip&&(this._grip.visible=!1);null!==this._hand&&(this._hand.visible=!1);
return this}update(a,b,d){let l=null,q=null,y=null;const A=this._targetRay,D=this._grip,F=this._hand;if(a&&"visible-blurred"!==b.session.visibilityState){if(F&&a.hand){y=!0;for(var G of a.hand.values()){const M=b.getJointPose(G,d),N=this._getHandJoint(F,G);null!==M&&(N.matrix.fromArray(M.transform.matrix),N.matrix.decompose(N.position,N.rotation,N.scale),N.jointRadius=M.radius);N.visible=null!==M}G=F.joints["index-finger-tip"].position.distanceTo(F.joints["thumb-tip"].position);F.inputState.pinching&&
.025<G?(F.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:a.handedness,target:this})):!F.inputState.pinching&&.015>=G&&(F.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:a.handedness,target:this}))}else null!==D&&a.gripSpace&&(q=b.getPose(a.gripSpace,d),null!==q&&(D.matrix.fromArray(q.transform.matrix),D.matrix.decompose(D.position,D.rotation,D.scale),q.linearVelocity?(D.hasLinearVelocity=!0,D.linearVelocity.copy(q.linearVelocity)):D.hasLinearVelocity=
!1,q.angularVelocity?(D.hasAngularVelocity=!0,D.angularVelocity.copy(q.angularVelocity)):D.hasAngularVelocity=!1));null!==A&&(l=b.getPose(a.targetRaySpace,d),null===l&&null!==q&&(l=q),null!==l&&(A.matrix.fromArray(l.transform.matrix),A.matrix.decompose(A.position,A.rotation,A.scale),l.linearVelocity?(A.hasLinearVelocity=!0,A.linearVelocity.copy(l.linearVelocity)):A.hasLinearVelocity=!1,l.angularVelocity?(A.hasAngularVelocity=!0,A.angularVelocity.copy(l.angularVelocity)):A.hasAngularVelocity=!1,this.dispatchEvent(Bl)))}null!==
A&&(A.visible=null!==l);null!==D&&(D.visible=null!==q);null!==F&&(F.visible=null!==y);return this}_getHandJoint(a,b){if(void 0===a.joints[b.jointName]){const d=new $e;d.matrixAutoUpdate=!1;d.visible=!1;a.joints[b.jointName]=d;a.add(d)}return a.joints[b.jointName]}}class wj extends rc{constructor(a,b,d,l,q,y,A,D,F,G){G=void 0!==G?G:1026;if(1026!==G&&1027!==G)throw Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");void 0===d&&1026===G&&(d=1014);void 0===d&&1027===
G&&(d=1020);super(null,l,q,y,A,D,G,d,F);this.isDepthTexture=!0;this.image={width:a,height:b};this.magFilter=void 0!==A?A:1003;this.minFilter=void 0!==D?D:1003;this.generateMipmaps=this.flipY=!1}}class Xk extends Uc{constructor(a,b){function d(Sa){var $a=Ga.indexOf(Sa.inputSource);-1!==$a&&($a=ja[$a],void 0!==$a&&$a.dispatchEvent({type:Sa.type,data:Sa.inputSource}))}function l(){D.removeEventListener("select",d);D.removeEventListener("selectstart",d);D.removeEventListener("selectend",d);D.removeEventListener("squeeze",
d);D.removeEventListener("squeezestart",d);D.removeEventListener("squeezeend",d);D.removeEventListener("end",l);D.removeEventListener("inputsourceschange",q);for(let Sa=0;Sa<ja.length;Sa++){const $a=Ga[Sa];null!==$a&&(Ga[Sa]=null,ja[Sa].disconnect($a))}Na=Ra=null;a.setRenderTarget(na);sa=D=S=L=U=null;Bb.stop();A.isPresenting=!1;A.dispatchEvent({type:"sessionend"})}function q(Sa){for(var $a=0;$a<Sa.removed.length;$a++){var bb=Sa.removed[$a],rb=Ga.indexOf(bb);0<=rb&&(Ga[rb]=null,ja[rb].disconnect(bb))}for($a=
0;$a<Sa.added.length;$a++){bb=Sa.added[$a];rb=Ga.indexOf(bb);if(-1===rb){for(let nb=0;nb<ja.length;nb++)if(nb>=Ga.length){Ga.push(bb);rb=nb;break}else if(null===Ga[nb]){Ga[nb]=bb;rb=nb;break}if(-1===rb)break}(rb=ja[rb])&&rb.connect(bb)}}function y(Sa,$a){null===$a?Sa.matrixWorld.copy(Sa.matrix):Sa.matrixWorld.multiplyMatrices($a.matrixWorld,Sa.matrix);Sa.matrixWorldInverse.copy(Sa.matrixWorld).invert()}super();const A=this;let D=null,F=1,G=null,M="local-floor",N=1,P=null,T=null,S=null,L=null,U=null,
ma=null;const ba=b.getContextAttributes();let na=null,sa=null;const ja=[],Ga=[],oa=new Set,wa=new Map,ya=new Dc;ya.layers.enable(1);ya.viewport=new cc;const xa=new Dc;xa.layers.enable(2);xa.viewport=new cc;const Va=[ya,xa],La=new vj;La.layers.enable(1);La.layers.enable(2);let Ra=null,Na=null;this.cameraAutoUpdate=!0;this.isPresenting=this.enabled=!1;this.getController=function(Sa){let $a=ja[Sa];void 0===$a&&($a=new ni,ja[Sa]=$a);return $a.getTargetRaySpace()};this.getControllerGrip=function(Sa){let $a=
ja[Sa];void 0===$a&&($a=new ni,ja[Sa]=$a);return $a.getGripSpace()};this.getHand=function(Sa){let $a=ja[Sa];void 0===$a&&($a=new ni,ja[Sa]=$a);return $a.getHandSpace()};this.setFramebufferScaleFactor=function(Sa){F=Sa;!0===A.isPresenting&&console.warn("THREE.WebXRManager: Cannot change framebuffer scale while presenting.")};this.setReferenceSpaceType=function(Sa){M=Sa;!0===A.isPresenting&&console.warn("THREE.WebXRManager: Cannot change reference space type while presenting.")};this.getReferenceSpace=
function(){return P||G};this.setReferenceSpace=function(Sa){P=Sa};this.getBaseLayer=function(){return null!==L?L:U};this.getBinding=function(){return S};this.getFrame=function(){return ma};this.getSession=function(){return D};this.setSession=async function(Sa){D=Sa;if(null!==D){na=a.getRenderTarget();D.addEventListener("select",d);D.addEventListener("selectstart",d);D.addEventListener("selectend",d);D.addEventListener("squeeze",d);D.addEventListener("squeezestart",d);D.addEventListener("squeezeend",
d);D.addEventListener("end",l);D.addEventListener("inputsourceschange",q);!0!==ba.xrCompatible&&await b.makeXRCompatible();if(void 0===D.renderState.layers||!1===a.capabilities.isWebGL2)U=new XRWebGLLayer(D,b,{antialias:void 0===D.renderState.layers?ba.antialias:!0,alpha:ba.alpha,depth:ba.depth,stencil:ba.stencil,framebufferScaleFactor:F}),D.updateRenderState({baseLayer:U}),sa=new Yc(U.framebufferWidth,U.framebufferHeight,{format:1023,type:1009,encoding:a.outputEncoding,stencilBuffer:ba.stencil});
else{let bb=Sa=null;var $a=null;ba.depth&&($a=ba.stencil?b.DEPTH24_STENCIL8:b.DEPTH_COMPONENT24,Sa=ba.stencil?1027:1026,bb=ba.stencil?1020:1014);$a={colorFormat:b.RGBA8,depthFormat:$a,scaleFactor:F};S=new XRWebGLBinding(D,b);L=S.createProjectionLayer($a);D.updateRenderState({layers:[L]});sa=new Yc(L.textureWidth,L.textureHeight,{format:1023,type:1009,depthTexture:new wj(L.textureWidth,L.textureHeight,bb,void 0,void 0,void 0,void 0,void 0,void 0,Sa),stencilBuffer:ba.stencil,encoding:a.outputEncoding,
samples:ba.antialias?4:0});a.properties.get(sa).__ignoreDepthValues=L.ignoreDepthValues}sa.isXRRenderTarget=!0;this.setFoveation(N);P=null;G=await D.requestReferenceSpace(M);Bb.setContext(D);Bb.start();A.isPresenting=!0;A.dispatchEvent({type:"sessionstart"})}};const cb=new aa,ob=new aa;this.updateCamera=function(Sa){if(null!==D){La.near=xa.near=ya.near=Sa.near;La.far=xa.far=ya.far=Sa.far;if(Ra!==La.near||Na!==La.far)D.updateRenderState({depthNear:La.near,depthFar:La.far}),Ra=La.near,Na=La.far;var $a=
Sa.parent,bb=La.cameras;y(La,$a);for(var rb=0;rb<bb.length;rb++)y(bb[rb],$a);La.matrixWorld.decompose(La.position,La.quaternion,La.scale);Sa.matrix.copy(La.matrix);Sa.matrix.decompose(Sa.position,Sa.quaternion,Sa.scale);Sa=Sa.children;for(let ra=0,Za=Sa.length;ra<Za;ra++)Sa[ra].updateMatrixWorld(!0);if(2===bb.length){cb.setFromMatrixPosition(ya.matrixWorld);ob.setFromMatrixPosition(xa.matrixWorld);bb=cb.distanceTo(ob);var nb=ya.projectionMatrix.elements,Y=xa.projectionMatrix.elements,V=nb[14]/(nb[10]-
1);Sa=nb[14]/(nb[10]+1);$a=(nb[9]+1)/nb[5];rb=(nb[9]-1)/nb[5];var fa=(nb[8]-1)/nb[0],ia=(Y[8]+1)/Y[0];Y=V*fa;nb=V*ia;ia=bb/(-fa+ia);fa=ia*-fa;ya.matrixWorld.decompose(La.position,La.quaternion,La.scale);La.translateX(fa);La.translateZ(ia);La.matrixWorld.compose(La.position,La.quaternion,La.scale);La.matrixWorldInverse.copy(La.matrixWorld).invert();V+=ia;ia=Sa+ia;La.projectionMatrix.makePerspective(Y-fa,nb+(bb-fa),$a*Sa/ia*V,rb*Sa/ia*V,V,ia)}else La.projectionMatrix.copy(ya.projectionMatrix)}};this.getCamera=
function(){return La};this.getFoveation=function(){if(null!==L||null!==U)return N};this.setFoveation=function(Sa){N=Sa;null!==L&&(L.fixedFoveation=Sa);null!==U&&void 0!==U.fixedFoveation&&(U.fixedFoveation=Sa)};this.getPlanes=function(){return oa};let ub=null;const Bb=new W;Bb.setAnimationLoop(function(Sa,$a){T=$a.getViewerPose(P||G);ma=$a;if(null!==T){var bb=T.views;null!==U&&(a.setRenderTargetFramebuffer(sa,U.framebuffer),a.setRenderTarget(sa));var rb=!1;bb.length!==La.cameras.length&&(La.cameras.length=
0,rb=!0);for(var nb=0;nb<bb.length;nb++){const fa=bb[nb];let ia;if(null!==U)ia=U.getViewport(fa);else{var Y=S.getViewSubImage(L,fa);ia=Y.viewport;0===nb&&(a.setRenderTargetTextures(sa,Y.colorTexture,L.ignoreDepthValues?void 0:Y.depthStencilTexture),a.setRenderTarget(sa))}Y=Va[nb];void 0===Y&&(Y=new Dc,Y.layers.enable(nb),Y.viewport=new cc,Va[nb]=Y);Y.matrix.fromArray(fa.transform.matrix);Y.projectionMatrix.fromArray(fa.projectionMatrix);Y.viewport.set(ia.x,ia.y,ia.width,ia.height);0===nb&&La.matrix.copy(Y.matrix);
!0===rb&&La.cameras.push(Y)}}for(bb=0;bb<ja.length;bb++)rb=Ga[bb],nb=ja[bb],null!==rb&&void 0!==nb&&nb.update(rb,$a,P||G);ub&&ub(Sa,$a);if($a.detectedPlanes){A.dispatchEvent({type:"planesdetected",data:$a.detectedPlanes});Sa=null;for(var V of oa)$a.detectedPlanes.has(V)||(null===Sa&&(Sa=[]),Sa.push(V));if(null!==Sa)for(const fa of Sa)oa.delete(fa),wa.delete(fa),A.dispatchEvent({type:"planeremoved",data:fa});for(const fa of $a.detectedPlanes)oa.has(fa)?(V=wa.get(fa),fa.lastChangedTime>V&&(wa.set(fa,
fa.lastChangedTime),A.dispatchEvent({type:"planechanged",data:fa}))):(oa.add(fa),wa.set(fa,$a.lastChangedTime),A.dispatchEvent({type:"planeadded",data:fa}))}ma=null});this.setAnimationLoop=function(Sa){ub=Sa};this.dispose=function(){}}}Object.defineProperties(Cf.prototype,{physicallyCorrectLights:{get:function(){console.warn("THREE.WebGLRenderer: the property .physicallyCorrectLights has been removed. Set renderer.useLegacyLights instead.");return!this.useLegacyLights},set:function(a){console.warn("THREE.WebGLRenderer: the property .physicallyCorrectLights has been removed. Set renderer.useLegacyLights instead.");
this.useLegacyLights=!a}}});class xj extends Cf{}xj.prototype.isWebGL1Renderer=!0;class oi{constructor(a,b=2.5E-4){this.isFogExp2=!0;this.name="";this.color=new gb(a);this.density=b}clone(){return new oi(this.color,this.density)}toJSON(){return{type:"FogExp2",color:this.color.getHex(),density:this.density}}}class pi{constructor(a,b=1,d=1E3){this.isFog=!0;this.name="";this.color=new gb(a);this.near=b;this.far=d}clone(){return new pi(this.color,this.near,this.far)}toJSON(){return{type:"Fog",color:this.color.getHex(),
near:this.near,far:this.far}}}class yj extends bc{constructor(){super();this.isScene=!0;this.type="Scene";this.fog=this.environment=this.background=null;this.backgroundBlurriness=0;this.backgroundIntensity=1;this.overrideMaterial=null;"undefined"!==typeof __THREE_DEVTOOLS__&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}copy(a,b){super.copy(a,b);null!==a.background&&(this.background=a.background.clone());null!==a.environment&&(this.environment=a.environment.clone());null!==
a.fog&&(this.fog=a.fog.clone());this.backgroundBlurriness=a.backgroundBlurriness;this.backgroundIntensity=a.backgroundIntensity;null!==a.overrideMaterial&&(this.overrideMaterial=a.overrideMaterial.clone());this.matrixAutoUpdate=a.matrixAutoUpdate;return this}toJSON(a){a=super.toJSON(a);null!==this.fog&&(a.object.fog=this.fog.toJSON());0<this.backgroundBlurriness&&(a.object.backgroundBlurriness=this.backgroundBlurriness);1!==this.backgroundIntensity&&(a.object.backgroundIntensity=this.backgroundIntensity);
return a}get autoUpdate(){console.warn("THREE.Scene: autoUpdate was renamed to matrixWorldAutoUpdate in r144.");return this.matrixWorldAutoUpdate}set autoUpdate(a){console.warn("THREE.Scene: autoUpdate was renamed to matrixWorldAutoUpdate in r144.");this.matrixWorldAutoUpdate=a}}class Vg{constructor(a,b){this.isInterleavedBuffer=!0;this.array=a;this.stride=b;this.count=void 0!==a?a.length/b:0;this.usage=35044;this.updateRange={offset:0,count:-1};this.version=0;this.uuid=p()}onUploadCallback(){}set needsUpdate(a){!0===
a&&this.version++}setUsage(a){this.usage=a;return this}copy(a){this.array=new a.array.constructor(a.array);this.count=a.count;this.stride=a.stride;this.usage=a.usage;return this}copyAt(a,b,d){a*=this.stride;d*=b.stride;for(let l=0,q=this.stride;l<q;l++)this.array[a+l]=b.array[d+l];return this}set(a,b=0){this.array.set(a,b);return this}clone(a){void 0===a.arrayBuffers&&(a.arrayBuffers={});void 0===this.array.buffer._uuid&&(this.array.buffer._uuid=p());void 0===a.arrayBuffers[this.array.buffer._uuid]&&
(a.arrayBuffers[this.array.buffer._uuid]=this.array.slice(0).buffer);a=new this.array.constructor(a.arrayBuffers[this.array.buffer._uuid]);a=new this.constructor(a,this.stride);a.setUsage(this.usage);return a}onUpload(a){this.onUploadCallback=a;return this}toJSON(a){void 0===a.arrayBuffers&&(a.arrayBuffers={});void 0===this.array.buffer._uuid&&(this.array.buffer._uuid=p());void 0===a.arrayBuffers[this.array.buffer._uuid]&&(a.arrayBuffers[this.array.buffer._uuid]=Array.from(new Uint32Array(this.array.buffer)));
return{uuid:this.uuid,buffer:this.array.buffer._uuid,type:this.array.constructor.name,stride:this.stride}}}const Jc=new aa;class af{constructor(a,b,d,l=!1){this.isInterleavedBufferAttribute=!0;this.name="";this.data=a;this.itemSize=b;this.offset=d;this.normalized=l}get count(){return this.data.count}get array(){return this.data.array}set needsUpdate(a){this.data.needsUpdate=a}applyMatrix4(a){for(let b=0,d=this.data.count;b<d;b++)Jc.fromBufferAttribute(this,b),Jc.applyMatrix4(a),this.setXYZ(b,Jc.x,
Jc.y,Jc.z);return this}applyNormalMatrix(a){for(let b=0,d=this.count;b<d;b++)Jc.fromBufferAttribute(this,b),Jc.applyNormalMatrix(a),this.setXYZ(b,Jc.x,Jc.y,Jc.z);return this}transformDirection(a){for(let b=0,d=this.count;b<d;b++)Jc.fromBufferAttribute(this,b),Jc.transformDirection(a),this.setXYZ(b,Jc.x,Jc.y,Jc.z);return this}setX(a,b){this.normalized&&(b=r(b,this.array));this.data.array[a*this.data.stride+this.offset]=b;return this}setY(a,b){this.normalized&&(b=r(b,this.array));this.data.array[a*
this.data.stride+this.offset+1]=b;return this}setZ(a,b){this.normalized&&(b=r(b,this.array));this.data.array[a*this.data.stride+this.offset+2]=b;return this}setW(a,b){this.normalized&&(b=r(b,this.array));this.data.array[a*this.data.stride+this.offset+3]=b;return this}getX(a){a=this.data.array[a*this.data.stride+this.offset];this.normalized&&(a=g(a,this.array));return a}getY(a){a=this.data.array[a*this.data.stride+this.offset+1];this.normalized&&(a=g(a,this.array));return a}getZ(a){a=this.data.array[a*
this.data.stride+this.offset+2];this.normalized&&(a=g(a,this.array));return a}getW(a){a=this.data.array[a*this.data.stride+this.offset+3];this.normalized&&(a=g(a,this.array));return a}setXY(a,b,d){a=a*this.data.stride+this.offset;this.normalized&&(b=r(b,this.array),d=r(d,this.array));this.data.array[a+0]=b;this.data.array[a+1]=d;return this}setXYZ(a,b,d,l){a=a*this.data.stride+this.offset;this.normalized&&(b=r(b,this.array),d=r(d,this.array),l=r(l,this.array));this.data.array[a+0]=b;this.data.array[a+
1]=d;this.data.array[a+2]=l;return this}setXYZW(a,b,d,l,q){a=a*this.data.stride+this.offset;this.normalized&&(b=r(b,this.array),d=r(d,this.array),l=r(l,this.array),q=r(q,this.array));this.data.array[a+0]=b;this.data.array[a+1]=d;this.data.array[a+2]=l;this.data.array[a+3]=q;return this}clone(a){if(void 0===a){console.log("THREE.InterleavedBufferAttribute.clone(): Cloning an interleaved buffer attribute will de-interleave buffer data.");a=[];for(let b=0;b<this.count;b++){const d=b*this.data.stride+
this.offset;for(let l=0;l<this.itemSize;l++)a.push(this.data.array[d+l])}return new fc(new this.array.constructor(a),this.itemSize,this.normalized)}void 0===a.interleavedBuffers&&(a.interleavedBuffers={});void 0===a.interleavedBuffers[this.data.uuid]&&(a.interleavedBuffers[this.data.uuid]=this.data.clone(a));return new af(a.interleavedBuffers[this.data.uuid],this.itemSize,this.offset,this.normalized)}toJSON(a){if(void 0===a){console.log("THREE.InterleavedBufferAttribute.toJSON(): Serializing an interleaved buffer attribute will de-interleave buffer data.");
a=[];for(let b=0;b<this.count;b++){const d=b*this.data.stride+this.offset;for(let l=0;l<this.itemSize;l++)a.push(this.data.array[d+l])}return{itemSize:this.itemSize,type:this.array.constructor.name,array:a,normalized:this.normalized}}void 0===a.interleavedBuffers&&(a.interleavedBuffers={});void 0===a.interleavedBuffers[this.data.uuid]&&(a.interleavedBuffers[this.data.uuid]=this.data.toJSON(a));return{isInterleavedBufferAttribute:!0,itemSize:this.itemSize,data:this.data.uuid,offset:this.offset,normalized:this.normalized}}}
class qi extends Fc{constructor(a){super();this.isSpriteMaterial=!0;this.type="SpriteMaterial";this.color=new gb(16777215);this.alphaMap=this.map=null;this.rotation=0;this.fog=this.transparent=this.sizeAttenuation=!0;this.setValues(a)}copy(a){super.copy(a);this.color.copy(a.color);this.map=a.map;this.alphaMap=a.alphaMap;this.rotation=a.rotation;this.sizeAttenuation=a.sizeAttenuation;this.fog=a.fog;return this}}let bf;const Uf=new aa,cf=new aa,df=new aa,Je=new za,Ef=new za,fj=new Fb,Wg=new aa,Vf=new aa,
Xg=new aa,zj=new za,ri=new za,Aj=new za;class Bj extends bc{constructor(a){super();this.isSprite=!0;this.type="Sprite";if(void 0===bf){bf=new Kb;var b=new Float32Array([-.5,-.5,0,0,0,.5,-.5,0,1,0,.5,.5,0,1,1,-.5,.5,0,0,1]);b=new Vg(b,5);bf.setIndex([0,1,2,0,2,3]);bf.setAttribute("position",new af(b,3,0,!1));bf.setAttribute("uv",new af(b,2,3,!1))}this.geometry=bf;this.material=void 0!==a?a:new qi;this.center=new za(.5,.5)}raycast(a,b){null===a.camera&&console.error('THREE.Sprite: "Raycaster.camera" needs to be set in order to raycast against sprites.');
cf.setFromMatrixScale(this.matrixWorld);fj.copy(a.camera.matrixWorld);this.modelViewMatrix.multiplyMatrices(a.camera.matrixWorldInverse,this.matrixWorld);df.setFromMatrixPosition(this.modelViewMatrix);a.camera.isPerspectiveCamera&&!1===this.material.sizeAttenuation&&cf.multiplyScalar(-df.z);var d=this.material.rotation;let l;if(0!==d){l=Math.cos(d);var q=Math.sin(d)}d=this.center;Ie(Wg.set(-.5,-.5,0),df,d,cf,q,l);Ie(Vf.set(.5,-.5,0),df,d,cf,q,l);Ie(Xg.set(.5,.5,0),df,d,cf,q,l);zj.set(0,0);ri.set(1,
0);Aj.set(1,1);let y=a.ray.intersectTriangle(Wg,Vf,Xg,!1,Uf);if(null===y&&(Ie(Vf.set(-.5,.5,0),df,d,cf,q,l),ri.set(0,1),y=a.ray.intersectTriangle(Wg,Xg,Vf,!1,Uf),null===y))return;q=a.ray.origin.distanceTo(Uf);q<a.near||q>a.far||b.push({distance:q,point:Uf.clone(),uv:Wc.getUV(Uf,Wg,Vf,Xg,zj,ri,Aj,new za),face:null,object:this})}copy(a,b){super.copy(a,b);void 0!==a.center&&this.center.copy(a.center);this.material=a.material;return this}}const Yg=new aa,Cj=new aa;class Dj extends bc{constructor(){super();
this._currentLevel=0;this.type="LOD";Object.defineProperties(this,{levels:{enumerable:!0,value:[]},isLOD:{value:!0}});this.autoUpdate=!0}copy(a){super.copy(a,!1);const b=a.levels;for(let d=0,l=b.length;d<l;d++){const q=b[d];this.addLevel(q.object.clone(),q.distance,q.hysteresis)}this.autoUpdate=a.autoUpdate;return this}addLevel(a,b=0,d=0){b=Math.abs(b);const l=this.levels;let q;for(q=0;q<l.length&&!(b<l[q].distance);q++);l.splice(q,0,{distance:b,hysteresis:d,object:a});this.add(a);return this}getCurrentLevel(){return this._currentLevel}getObjectForDistance(a){const b=
this.levels;if(0<b.length){let d,l;d=1;for(l=b.length;d<l;d++){let q=b[d].distance;b[d].object.visible&&(q-=q*b[d].hysteresis);if(a<q)break}return b[d-1].object}return null}raycast(a,b){if(0<this.levels.length){Yg.setFromMatrixPosition(this.matrixWorld);const d=a.ray.origin.distanceTo(Yg);this.getObjectForDistance(d).raycast(a,b)}}update(a){const b=this.levels;if(1<b.length){Yg.setFromMatrixPosition(a.matrixWorld);Cj.setFromMatrixPosition(this.matrixWorld);a=Yg.distanceTo(Cj)/a.zoom;b[0].object.visible=
!0;let d,l;d=1;for(l=b.length;d<l;d++){let q=b[d].distance;b[d].object.visible&&(q-=q*b[d].hysteresis);if(a>=q)b[d-1].object.visible=!1,b[d].object.visible=!0;else break}for(this._currentLevel=d-1;d<l;d++)b[d].object.visible=!1}}toJSON(a){a=super.toJSON(a);!1===this.autoUpdate&&(a.object.autoUpdate=!1);a.object.levels=[];const b=this.levels;for(let d=0,l=b.length;d<l;d++){const q=b[d];a.object.levels.push({object:q.object.uuid,distance:q.distance,hysteresis:q.hysteresis})}return a}}const Ej=new aa,
Fj=new cc,Gj=new cc,Cl=new aa,Hj=new Fb;class Ij extends xc{constructor(a,b){super(a,b);this.isSkinnedMesh=!0;this.type="SkinnedMesh";this.bindMode="attached";this.bindMatrix=new Fb;this.bindMatrixInverse=new Fb}copy(a,b){super.copy(a,b);this.bindMode=a.bindMode;this.bindMatrix.copy(a.bindMatrix);this.bindMatrixInverse.copy(a.bindMatrixInverse);this.skeleton=a.skeleton;return this}bind(a,b){this.skeleton=a;void 0===b&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),b=this.matrixWorld);
this.bindMatrix.copy(b);this.bindMatrixInverse.copy(b).invert()}pose(){this.skeleton.pose()}normalizeSkinWeights(){const a=new cc,b=this.geometry.attributes.skinWeight;for(let d=0,l=b.count;d<l;d++){a.fromBufferAttribute(b,d);const q=1/a.manhattanLength();Infinity!==q?a.multiplyScalar(q):a.set(1,0,0,0);b.setXYZW(d,a.x,a.y,a.z,a.w)}}updateMatrixWorld(a){super.updateMatrixWorld(a);"attached"===this.bindMode?this.bindMatrixInverse.copy(this.matrixWorld).invert():"detached"===this.bindMode?this.bindMatrixInverse.copy(this.bindMatrix).invert():
console.warn("THREE.SkinnedMesh: Unrecognized bindMode: "+this.bindMode)}boneTransform(a,b){const d=this.skeleton;var l=this.geometry;Fj.fromBufferAttribute(l.attributes.skinIndex,a);Gj.fromBufferAttribute(l.attributes.skinWeight,a);Ej.copy(b).applyMatrix4(this.bindMatrix);b.set(0,0,0);for(a=0;4>a;a++)if(l=Gj.getComponent(a),0!==l){const q=Fj.getComponent(a);Hj.multiplyMatrices(d.bones[q].matrixWorld,d.boneInverses[q]);b.addScaledVector(Cl.copy(Ej).applyMatrix4(Hj),l)}return b.applyMatrix4(this.bindMatrixInverse)}}
class si extends bc{constructor(){super();this.isBone=!0;this.type="Bone"}}class ef extends rc{constructor(a=null,b=1,d=1,l,q,y,A,D,F=1003,G=1003,M,N){super(null,y,A,D,F,G,l,q,M,N);this.isDataTexture=!0;this.image={data:a,width:b,height:d};this.flipY=this.generateMipmaps=!1;this.unpackAlignment=1}}const Jj=new Fb,Dl=new Fb;class ti{constructor(a=[],b=[]){this.uuid=p();this.bones=a.slice(0);this.boneInverses=b;this.boneTexture=this.boneMatrices=null;this.boneTextureSize=0;this.frame=-1;this.init()}init(){const a=
this.bones,b=this.boneInverses;this.boneMatrices=new Float32Array(16*a.length);if(0===b.length)this.calculateInverses();else if(a.length!==b.length){console.warn("THREE.Skeleton: Number of inverse bone matrices does not match amount of bones.");this.boneInverses=[];for(let d=0,l=this.bones.length;d<l;d++)this.boneInverses.push(new Fb)}}calculateInverses(){this.boneInverses.length=0;for(let a=0,b=this.bones.length;a<b;a++){const d=new Fb;this.bones[a]&&d.copy(this.bones[a].matrixWorld).invert();this.boneInverses.push(d)}}pose(){for(let b=
0,d=this.bones.length;b<d;b++){var a=this.bones[b];a&&a.matrixWorld.copy(this.boneInverses[b]).invert()}for(let b=0,d=this.bones.length;b<d;b++)if(a=this.bones[b])a.parent&&a.parent.isBone?(a.matrix.copy(a.parent.matrixWorld).invert(),a.matrix.multiply(a.matrixWorld)):a.matrix.copy(a.matrixWorld),a.matrix.decompose(a.position,a.quaternion,a.scale)}update(){const a=this.bones,b=this.boneInverses,d=this.boneMatrices,l=this.boneTexture;for(let q=0,y=a.length;q<y;q++)Jj.multiplyMatrices(a[q]?a[q].matrixWorld:
Dl,b[q]),Jj.toArray(d,16*q);null!==l&&(l.needsUpdate=!0)}clone(){return new ti(this.bones,this.boneInverses)}computeBoneTexture(){let a=Math.sqrt(4*this.bones.length);a=h(a);a=Math.max(a,4);const b=new Float32Array(a*a*4);b.set(this.boneMatrices);const d=new ef(b,a,a,1023,1015);d.needsUpdate=!0;this.boneMatrices=b;this.boneTexture=d;this.boneTextureSize=a;return this}getBoneByName(a){for(let b=0,d=this.bones.length;b<d;b++){const l=this.bones[b];if(l.name===a)return l}}dispose(){null!==this.boneTexture&&
(this.boneTexture.dispose(),this.boneTexture=null)}fromJSON(a,b){this.uuid=a.uuid;for(let d=0,l=a.bones.length;d<l;d++){const q=a.bones[d];let y=b[q];void 0===y&&(console.warn("THREE.Skeleton: No bone found with UUID:",q),y=new si);this.bones.push(y);this.boneInverses.push((new Fb).fromArray(a.boneInverses[d]))}this.init();return this}toJSON(){const a={metadata:{version:4.5,type:"Skeleton",generator:"Skeleton.toJSON"},bones:[],boneInverses:[]};a.uuid=this.uuid;const b=this.bones,d=this.boneInverses;
for(let l=0,q=b.length;l<q;l++)a.bones.push(b[l].uuid),a.boneInverses.push(d[l].toArray());return a}}class ff extends fc{constructor(a,b,d,l=1){super(a,b,d);this.isInstancedBufferAttribute=!0;this.meshPerAttribute=l}copy(a){super.copy(a);this.meshPerAttribute=a.meshPerAttribute;return this}toJSON(){const a=super.toJSON();a.meshPerAttribute=this.meshPerAttribute;a.isInstancedBufferAttribute=!0;return a}}const Kj=new Fb,Lj=new Fb,Zg=[],El=new Fb,Wf=new xc;class Mj extends xc{constructor(a,b,d){super(a,
b);this.isInstancedMesh=!0;this.instanceMatrix=new ff(new Float32Array(16*d),16);this.instanceColor=null;this.count=d;this.frustumCulled=!1;for(a=0;a<d;a++)this.setMatrixAt(a,El)}copy(a,b){super.copy(a,b);this.instanceMatrix.copy(a.instanceMatrix);null!==a.instanceColor&&(this.instanceColor=a.instanceColor.clone());this.count=a.count;return this}getColorAt(a,b){b.fromArray(this.instanceColor.array,3*a)}getMatrixAt(a,b){b.fromArray(this.instanceMatrix.array,16*a)}raycast(a,b){const d=this.matrixWorld,
l=this.count;Wf.geometry=this.geometry;Wf.material=this.material;if(void 0!==Wf.material)for(let q=0;q<l;q++){this.getMatrixAt(q,Kj);Lj.multiplyMatrices(d,Kj);Wf.matrixWorld=Lj;Wf.raycast(a,Zg);for(let y=0,A=Zg.length;y<A;y++){const D=Zg[y];D.instanceId=q;D.object=this;b.push(D)}Zg.length=0}}setColorAt(a,b){null===this.instanceColor&&(this.instanceColor=new ff(new Float32Array(3*this.instanceMatrix.count),3));b.toArray(this.instanceColor.array,3*a)}setMatrixAt(a,b){b.toArray(this.instanceMatrix.array,
16*a)}updateMorphTargets(){}dispose(){this.dispatchEvent({type:"dispose"})}}class Kc extends Fc{constructor(a){super();this.isLineBasicMaterial=!0;this.type="LineBasicMaterial";this.color=new gb(16777215);this.linewidth=1;this.linejoin=this.linecap="round";this.fog=!0;this.setValues(a)}copy(a){super.copy(a);this.color.copy(a.color);this.linewidth=a.linewidth;this.linecap=a.linecap;this.linejoin=a.linejoin;this.fog=a.fog;return this}}const Nj=new aa,Oj=new aa,Pj=new Fb,ui=new Qf,Xf=new se;class Wd extends bc{constructor(a=
new Kb,b=new Kc){super();this.isLine=!0;this.type="Line";this.geometry=a;this.material=b;this.updateMorphTargets()}copy(a,b){super.copy(a,b);this.material=a.material;this.geometry=a.geometry;return this}computeLineDistances(){const a=this.geometry;if(null===a.index){const b=a.attributes.position,d=[0];for(let l=1,q=b.count;l<q;l++)Nj.fromBufferAttribute(b,l-1),Oj.fromBufferAttribute(b,l),d[l]=d[l-1],d[l]+=Nj.distanceTo(Oj);a.setAttribute("lineDistance",new pb(d,1))}else console.warn("THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");
return this}raycast(a,b){var d=this.geometry,l=this.matrixWorld,q=a.params.Line.threshold,y=d.drawRange;null===d.boundingSphere&&d.computeBoundingSphere();Xf.copy(d.boundingSphere);Xf.applyMatrix4(l);Xf.radius+=q;if(!1!==a.ray.intersectsSphere(Xf)){Pj.copy(l).invert();ui.copy(a.ray).applyMatrix4(Pj);l=q/((this.scale.x+this.scale.y+this.scale.z)/3);l*=l;q=new aa;var A=new aa,D=new aa,F=new aa,G=this.isLineSegments?2:1,M=d.index;d=d.attributes.position;if(null!==M){var N=Math.max(0,y.start);y=Math.min(M.count,
y.start+y.count);for(let P=N,T=y-1;P<T;P+=G)y=M.getX(P),N=M.getX(P+1),q.fromBufferAttribute(d,y),A.fromBufferAttribute(d,N),ui.distanceSqToSegment(q,A,F,D)>l||(F.applyMatrix4(this.matrixWorld),y=a.ray.origin.distanceTo(F),y<a.near||y>a.far||b.push({distance:y,point:D.clone().applyMatrix4(this.matrixWorld),index:P,face:null,faceIndex:null,object:this}))}else{M=Math.max(0,y.start);y=Math.min(d.count,y.start+y.count);for(let P=M,T=y-1;P<T;P+=G)q.fromBufferAttribute(d,P),A.fromBufferAttribute(d,P+1),
ui.distanceSqToSegment(q,A,F,D)>l||(F.applyMatrix4(this.matrixWorld),y=a.ray.origin.distanceTo(F),y<a.near||y>a.far||b.push({distance:y,point:D.clone().applyMatrix4(this.matrixWorld),index:P,face:null,faceIndex:null,object:this}))}}}updateMorphTargets(){var a=this.geometry.morphAttributes,b=Object.keys(a);if(0<b.length&&(a=a[b[0]],void 0!==a)){this.morphTargetInfluences=[];this.morphTargetDictionary={};for(let d=0,l=a.length;d<l;d++)b=a[d].name||String(d),this.morphTargetInfluences.push(0),this.morphTargetDictionary[b]=
d}}}const Qj=new aa,Rj=new aa;class od extends Wd{constructor(a,b){super(a,b);this.isLineSegments=!0;this.type="LineSegments"}computeLineDistances(){const a=this.geometry;if(null===a.index){const b=a.attributes.position,d=[];for(let l=0,q=b.count;l<q;l+=2)Qj.fromBufferAttribute(b,l),Rj.fromBufferAttribute(b,l+1),d[l]=0===l?0:d[l-1],d[l+1]=d[l]+Qj.distanceTo(Rj);a.setAttribute("lineDistance",new pb(d,1))}else console.warn("THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");
return this}}class Sj extends Wd{constructor(a,b){super(a,b);this.isLineLoop=!0;this.type="LineLoop"}}class vi extends Fc{constructor(a){super();this.isPointsMaterial=!0;this.type="PointsMaterial";this.color=new gb(16777215);this.alphaMap=this.map=null;this.size=1;this.fog=this.sizeAttenuation=!0;this.setValues(a)}copy(a){super.copy(a);this.color.copy(a.color);this.map=a.map;this.alphaMap=a.alphaMap;this.size=a.size;this.sizeAttenuation=a.sizeAttenuation;this.fog=a.fog;return this}}const Tj=new Fb,
Th=new Qf,Yf=new se,$g=new aa;class Uj extends bc{constructor(a=new Kb,b=new vi){super();this.isPoints=!0;this.type="Points";this.geometry=a;this.material=b;this.updateMorphTargets()}copy(a,b){super.copy(a,b);this.material=a.material;this.geometry=a.geometry;return this}raycast(a,b){var d=this.geometry;const l=this.matrixWorld;var q=a.params.Points.threshold,y=d.drawRange;null===d.boundingSphere&&d.computeBoundingSphere();Yf.copy(d.boundingSphere);Yf.applyMatrix4(l);Yf.radius+=q;if(!1!==a.ray.intersectsSphere(Yf)){Tj.copy(l).invert();
Th.copy(a.ray).applyMatrix4(Tj);q/=(this.scale.x+this.scale.y+this.scale.z)/3;q*=q;var A=d.index;d=d.attributes.position;if(null!==A){const D=Math.max(0,y.start);y=Math.min(A.count,y.start+y.count);for(let F=D,G=y;F<G;F++)y=A.getX(F),$g.fromBufferAttribute(d,y),tg($g,y,q,l,a,b,this)}else{A=Math.max(0,y.start);y=Math.min(d.count,y.start+y.count);for(let D=A,F=y;D<F;D++)$g.fromBufferAttribute(d,D),tg($g,D,q,l,a,b,this)}}}updateMorphTargets(){var a=this.geometry.morphAttributes,b=Object.keys(a);if(0<
b.length&&(a=a[b[0]],void 0!==a)){this.morphTargetInfluences=[];this.morphTargetDictionary={};for(let d=0,l=a.length;d<l;d++)b=a[d].name||String(d),this.morphTargetInfluences.push(0),this.morphTargetDictionary[b]=d}}}class Fl extends rc{constructor(a,b,d,l,q,y,A,D,F){function G(){M.needsUpdate=!0;a.requestVideoFrameCallback(G)}super(a,b,d,l,q,y,A,D,F);this.isVideoTexture=!0;this.minFilter=void 0!==y?y:1006;this.magFilter=void 0!==q?q:1006;this.generateMipmaps=!1;const M=this;"requestVideoFrameCallback"in
a&&a.requestVideoFrameCallback(G)}clone(){return(new this.constructor(this.image)).copy(this)}update(){const a=this.image;!1==="requestVideoFrameCallback"in a&&a.readyState>=a.HAVE_CURRENT_DATA&&(this.needsUpdate=!0)}}class Gl extends rc{constructor(a,b,d){super({width:a,height:b});this.isFramebufferTexture=!0;this.format=d;this.minFilter=this.magFilter=1003;this.generateMipmaps=!1;this.needsUpdate=!0}}class wi extends rc{constructor(a,b,d,l,q,y,A,D,F,G,M,N){super(null,y,A,D,F,G,l,q,M,N);this.isCompressedTexture=
!0;this.image={width:b,height:d};this.mipmaps=a;this.generateMipmaps=this.flipY=!1}}class Hl extends wi{constructor(a,b,d,l,q,y){super(a,b,d,q,y);this.isCompressedArrayTexture=!0;this.image.depth=l;this.wrapR=1001}}class Il extends rc{constructor(a,b,d,l,q,y,A,D,F){super(a,b,d,l,q,y,A,D,F);this.needsUpdate=this.isCanvasTexture=!0}}class dd{constructor(){this.type="Curve";this.arcLengthDivisions=200}getPoint(){console.warn("THREE.Curve: .getPoint() not implemented.");return null}getPointAt(a,b){a=
this.getUtoTmapping(a);return this.getPoint(a,b)}getPoints(a=5){const b=[];for(let d=0;d<=a;d++)b.push(this.getPoint(d/a));return b}getSpacedPoints(a=5){const b=[];for(let d=0;d<=a;d++)b.push(this.getPointAt(d/a));return b}getLength(){const a=this.getLengths();return a[a.length-1]}getLengths(a=this.arcLengthDivisions){if(this.cacheArcLengths&&this.cacheArcLengths.length===a+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;const b=[];let d,l=this.getPoint(0),q=0;b.push(0);for(let y=
1;y<=a;y++)d=this.getPoint(y/a),q+=d.distanceTo(l),b.push(q),l=d;return this.cacheArcLengths=b}updateArcLengths(){this.needsUpdate=!0;this.getLengths()}getUtoTmapping(a,b){const d=this.getLengths(),l=d.length;b=b?b:a*d[l-1];var q=0;let y=l-1,A;for(;q<=y;)if(a=Math.floor(q+(y-q)/2),A=d[a]-b,0>A)q=a+1;else if(0<A)y=a-1;else{y=a;break}a=y;if(d[a]===b)return a/(l-1);q=d[a];return(a+(b-q)/(d[a+1]-q))/(l-1)}getTangent(a,b){var d=a-1E-4;a+=1E-4;0>d&&(d=0);1<a&&(a=1);d=this.getPoint(d);a=this.getPoint(a);
b=b||(d.isVector2?new za:new aa);b.copy(a).sub(d).normalize();return b}getTangentAt(a,b){a=this.getUtoTmapping(a);return this.getTangent(a,b)}computeFrenetFrames(a,b){var d=new aa;const l=[],q=[],y=[];var A=new aa;const D=new Fb;for(var F=0;F<=a;F++)l[F]=this.getTangentAt(F/a,new aa);q[0]=new aa;y[0]=new aa;F=Number.MAX_VALUE;const G=Math.abs(l[0].x),M=Math.abs(l[0].y),N=Math.abs(l[0].z);G<=F&&(F=G,d.set(1,0,0));M<=F&&(F=M,d.set(0,1,0));N<=F&&d.set(0,0,1);A.crossVectors(l[0],d).normalize();q[0].crossVectors(l[0],
A);y[0].crossVectors(l[0],q[0]);for(d=1;d<=a;d++)q[d]=q[d-1].clone(),y[d]=y[d-1].clone(),A.crossVectors(l[d-1],l[d]),A.length()>Number.EPSILON&&(A.normalize(),F=Math.acos(n(l[d-1].dot(l[d]),-1,1)),q[d].applyMatrix4(D.makeRotationAxis(A,F))),y[d].crossVectors(l[d],q[d]);if(!0===b)for(b=Math.acos(n(q[0].dot(q[a]),-1,1)),b/=a,0<l[0].dot(A.crossVectors(q[0],q[a]))&&(b=-b),A=1;A<=a;A++)q[A].applyMatrix4(D.makeRotationAxis(l[A],b*A)),y[A].crossVectors(l[A],q[A]);return{tangents:l,normals:q,binormals:y}}clone(){return(new this.constructor).copy(this)}copy(a){this.arcLengthDivisions=
a.arcLengthDivisions;return this}toJSON(){const a={metadata:{version:4.5,type:"Curve",generator:"Curve.toJSON"}};a.arcLengthDivisions=this.arcLengthDivisions;a.type=this.type;return a}fromJSON(a){this.arcLengthDivisions=a.arcLengthDivisions;return this}}class ah extends dd{constructor(a=0,b=0,d=1,l=1,q=0,y=2*Math.PI,A=!1,D=0){super();this.isEllipseCurve=!0;this.type="EllipseCurve";this.aX=a;this.aY=b;this.xRadius=d;this.yRadius=l;this.aStartAngle=q;this.aEndAngle=y;this.aClockwise=A;this.aRotation=
D}getPoint(a,b){b=b||new za;for(var d=2*Math.PI,l=this.aEndAngle-this.aStartAngle,q=Math.abs(l)<Number.EPSILON;0>l;)l+=d;for(;l>d;)l-=d;l<Number.EPSILON&&(l=q?0:d);!0!==this.aClockwise||q||(l=l===d?-d:l-d);d=this.aStartAngle+a*l;a=this.aX+this.xRadius*Math.cos(d);var y=this.aY+this.yRadius*Math.sin(d);0!==this.aRotation&&(d=Math.cos(this.aRotation),l=Math.sin(this.aRotation),q=a-this.aX,y-=this.aY,a=q*d-y*l+this.aX,y=q*l+y*d+this.aY);return b.set(a,y)}copy(a){super.copy(a);this.aX=a.aX;this.aY=a.aY;
this.xRadius=a.xRadius;this.yRadius=a.yRadius;this.aStartAngle=a.aStartAngle;this.aEndAngle=a.aEndAngle;this.aClockwise=a.aClockwise;this.aRotation=a.aRotation;return this}toJSON(){const a=super.toJSON();a.aX=this.aX;a.aY=this.aY;a.xRadius=this.xRadius;a.yRadius=this.yRadius;a.aStartAngle=this.aStartAngle;a.aEndAngle=this.aEndAngle;a.aClockwise=this.aClockwise;a.aRotation=this.aRotation;return a}fromJSON(a){super.fromJSON(a);this.aX=a.aX;this.aY=a.aY;this.xRadius=a.xRadius;this.yRadius=a.yRadius;
this.aStartAngle=a.aStartAngle;this.aEndAngle=a.aEndAngle;this.aClockwise=a.aClockwise;this.aRotation=a.aRotation;return this}}class Vj extends ah{constructor(a,b,d,l,q,y){super(a,b,d,d,l,q,y);this.isArcCurve=!0;this.type="ArcCurve"}}const bh=new aa,xi=new Ff,yi=new Ff,zi=new Ff;class Wj extends dd{constructor(a=[],b=!1,d="centripetal",l=.5){super();this.isCatmullRomCurve3=!0;this.type="CatmullRomCurve3";this.points=a;this.closed=b;this.curveType=d;this.tension=l}getPoint(a,b=new aa){var d=this.points,
l=d.length;a*=l-(this.closed?0:1);var q=Math.floor(a);a-=q;this.closed?q+=0<q?0:(Math.floor(Math.abs(q)/l)+1)*l:0===a&&q===l-1&&(q=l-2,a=1);let y;this.closed||0<q?y=d[(q-1)%l]:(bh.subVectors(d[0],d[1]).add(d[0]),y=bh);const A=d[q%l],D=d[(q+1)%l];this.closed||q+2<l?d=d[(q+2)%l]:(bh.subVectors(d[l-1],d[l-2]).add(d[l-1]),d=bh);if("centripetal"===this.curveType||"chordal"===this.curveType){var F="chordal"===this.curveType?.5:.25;l=Math.pow(y.distanceToSquared(A),F);q=Math.pow(A.distanceToSquared(D),F);
F=Math.pow(D.distanceToSquared(d),F);1E-4>q&&(q=1);1E-4>l&&(l=q);1E-4>F&&(F=q);xi.initNonuniformCatmullRom(y.x,A.x,D.x,d.x,l,q,F);yi.initNonuniformCatmullRom(y.y,A.y,D.y,d.y,l,q,F);zi.initNonuniformCatmullRom(y.z,A.z,D.z,d.z,l,q,F)}else"catmullrom"===this.curveType&&(xi.initCatmullRom(y.x,A.x,D.x,d.x,this.tension),yi.initCatmullRom(y.y,A.y,D.y,d.y,this.tension),zi.initCatmullRom(y.z,A.z,D.z,d.z,this.tension));b.set(xi.calc(a),yi.calc(a),zi.calc(a));return b}copy(a){super.copy(a);this.points=[];for(let b=
0,d=a.points.length;b<d;b++)this.points.push(a.points[b].clone());this.closed=a.closed;this.curveType=a.curveType;this.tension=a.tension;return this}toJSON(){const a=super.toJSON();a.points=[];for(let b=0,d=this.points.length;b<d;b++)a.points.push(this.points[b].toArray());a.closed=this.closed;a.curveType=this.curveType;a.tension=this.tension;return a}fromJSON(a){super.fromJSON(a);this.points=[];for(let b=0,d=a.points.length;b<d;b++){const l=a.points[b];this.points.push((new aa).fromArray(l))}this.closed=
a.closed;this.curveType=a.curveType;this.tension=a.tension;return this}}class Ai extends dd{constructor(a=new za,b=new za,d=new za,l=new za){super();this.isCubicBezierCurve=!0;this.type="CubicBezierCurve";this.v0=a;this.v1=b;this.v2=d;this.v3=l}getPoint(a,b=new za){const d=this.v0,l=this.v1,q=this.v2,y=this.v3;b.set(ie(a,d.x,l.x,q.x,y.x),ie(a,d.y,l.y,q.y,y.y));return b}copy(a){super.copy(a);this.v0.copy(a.v0);this.v1.copy(a.v1);this.v2.copy(a.v2);this.v3.copy(a.v3);return this}toJSON(){const a=super.toJSON();
a.v0=this.v0.toArray();a.v1=this.v1.toArray();a.v2=this.v2.toArray();a.v3=this.v3.toArray();return a}fromJSON(a){super.fromJSON(a);this.v0.fromArray(a.v0);this.v1.fromArray(a.v1);this.v2.fromArray(a.v2);this.v3.fromArray(a.v3);return this}}class Xj extends dd{constructor(a=new aa,b=new aa,d=new aa,l=new aa){super();this.isCubicBezierCurve3=!0;this.type="CubicBezierCurve3";this.v0=a;this.v1=b;this.v2=d;this.v3=l}getPoint(a,b=new aa){const d=this.v0,l=this.v1,q=this.v2,y=this.v3;b.set(ie(a,d.x,l.x,
q.x,y.x),ie(a,d.y,l.y,q.y,y.y),ie(a,d.z,l.z,q.z,y.z));return b}copy(a){super.copy(a);this.v0.copy(a.v0);this.v1.copy(a.v1);this.v2.copy(a.v2);this.v3.copy(a.v3);return this}toJSON(){const a=super.toJSON();a.v0=this.v0.toArray();a.v1=this.v1.toArray();a.v2=this.v2.toArray();a.v3=this.v3.toArray();return a}fromJSON(a){super.fromJSON(a);this.v0.fromArray(a.v0);this.v1.fromArray(a.v1);this.v2.fromArray(a.v2);this.v3.fromArray(a.v3);return this}}class ch extends dd{constructor(a=new za,b=new za){super();
this.isLineCurve=!0;this.type="LineCurve";this.v1=a;this.v2=b}getPoint(a,b=new za){1===a?b.copy(this.v2):(b.copy(this.v2).sub(this.v1),b.multiplyScalar(a).add(this.v1));return b}getPointAt(a,b){return this.getPoint(a,b)}getTangent(a,b=new za){return b.subVectors(this.v2,this.v1).normalize()}getTangentAt(a,b){return this.getTangent(a,b)}copy(a){super.copy(a);this.v1.copy(a.v1);this.v2.copy(a.v2);return this}toJSON(){const a=super.toJSON();a.v1=this.v1.toArray();a.v2=this.v2.toArray();return a}fromJSON(a){super.fromJSON(a);
this.v1.fromArray(a.v1);this.v2.fromArray(a.v2);return this}}class Yj extends dd{constructor(a=new aa,b=new aa){super();this.isLineCurve3=!0;this.type="LineCurve3";this.v1=a;this.v2=b}getPoint(a,b=new aa){1===a?b.copy(this.v2):(b.copy(this.v2).sub(this.v1),b.multiplyScalar(a).add(this.v1));return b}getPointAt(a,b){return this.getPoint(a,b)}getTangent(a,b=new aa){return b.subVectors(this.v2,this.v1).normalize()}getTangentAt(a,b){return this.getTangent(a,b)}copy(a){super.copy(a);this.v1.copy(a.v1);
this.v2.copy(a.v2);return this}toJSON(){const a=super.toJSON();a.v1=this.v1.toArray();a.v2=this.v2.toArray();return a}fromJSON(a){super.fromJSON(a);this.v1.fromArray(a.v1);this.v2.fromArray(a.v2);return this}}class Bi extends dd{constructor(a=new za,b=new za,d=new za){super();this.isQuadraticBezierCurve=!0;this.type="QuadraticBezierCurve";this.v0=a;this.v1=b;this.v2=d}getPoint(a,b=new za){const d=this.v0,l=this.v1,q=this.v2;b.set(he(a,d.x,l.x,q.x),he(a,d.y,l.y,q.y));return b}copy(a){super.copy(a);
this.v0.copy(a.v0);this.v1.copy(a.v1);this.v2.copy(a.v2);return this}toJSON(){const a=super.toJSON();a.v0=this.v0.toArray();a.v1=this.v1.toArray();a.v2=this.v2.toArray();return a}fromJSON(a){super.fromJSON(a);this.v0.fromArray(a.v0);this.v1.fromArray(a.v1);this.v2.fromArray(a.v2);return this}}class Ci extends dd{constructor(a=new aa,b=new aa,d=new aa){super();this.isQuadraticBezierCurve3=!0;this.type="QuadraticBezierCurve3";this.v0=a;this.v1=b;this.v2=d}getPoint(a,b=new aa){const d=this.v0,l=this.v1,
q=this.v2;b.set(he(a,d.x,l.x,q.x),he(a,d.y,l.y,q.y),he(a,d.z,l.z,q.z));return b}copy(a){super.copy(a);this.v0.copy(a.v0);this.v1.copy(a.v1);this.v2.copy(a.v2);return this}toJSON(){const a=super.toJSON();a.v0=this.v0.toArray();a.v1=this.v1.toArray();a.v2=this.v2.toArray();return a}fromJSON(a){super.fromJSON(a);this.v0.fromArray(a.v0);this.v1.fromArray(a.v1);this.v2.fromArray(a.v2);return this}}class Di extends dd{constructor(a=[]){super();this.isSplineCurve=!0;this.type="SplineCurve";this.points=a}getPoint(a,
b=new za){var d=this.points,l=(d.length-1)*a;a=Math.floor(l);l-=a;const q=d[0===a?a:a-1],y=d[a],A=d[a>d.length-2?d.length-1:a+1];d=d[a>d.length-3?d.length-1:a+2];b.set(ug(l,q.x,y.x,A.x,d.x),ug(l,q.y,y.y,A.y,d.y));return b}copy(a){super.copy(a);this.points=[];for(let b=0,d=a.points.length;b<d;b++)this.points.push(a.points[b].clone());return this}toJSON(){const a=super.toJSON();a.points=[];for(let b=0,d=this.points.length;b<d;b++)a.points.push(this.points[b].toArray());return a}fromJSON(a){super.fromJSON(a);
this.points=[];for(let b=0,d=a.points.length;b<d;b++){const l=a.points[b];this.points.push((new za).fromArray(l))}return this}}var Ei=Object.freeze({__proto__:null,ArcCurve:Vj,CatmullRomCurve3:Wj,CubicBezierCurve:Ai,CubicBezierCurve3:Xj,EllipseCurve:ah,LineCurve:ch,LineCurve3:Yj,QuadraticBezierCurve:Bi,QuadraticBezierCurve3:Ci,SplineCurve:Di});class Zj extends dd{constructor(){super();this.type="CurvePath";this.curves=[];this.autoClose=!1}add(a){this.curves.push(a)}closePath(){const a=this.curves[0].getPoint(0),
b=this.curves[this.curves.length-1].getPoint(1);a.equals(b)||this.curves.push(new ch(b,a))}getPoint(a,b){var d=a*this.getLength(),l=this.getCurveLengths();for(a=0;a<l.length;){if(l[a]>=d)return d=l[a]-d,a=this.curves[a],l=a.getLength(),a.getPointAt(0===l?0:1-d/l,b);a++}return null}getLength(){const a=this.getCurveLengths();return a[a.length-1]}updateArcLengths(){this.needsUpdate=!0;this.cacheLengths=null;this.getCurveLengths()}getCurveLengths(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;
const a=[];let b=0;for(let d=0,l=this.curves.length;d<l;d++)b+=this.curves[d].getLength(),a.push(b);return this.cacheLengths=a}getSpacedPoints(a=40){const b=[];for(let d=0;d<=a;d++)b.push(this.getPoint(d/a));this.autoClose&&b.push(b[0]);return b}getPoints(a=12){const b=[];let d;for(let q=0,y=this.curves;q<y.length;q++){var l=y[q];l=l.getPoints(l.isEllipseCurve?2*a:l.isLineCurve||l.isLineCurve3?1:l.isSplineCurve?a*l.points.length:a);for(let A=0;A<l.length;A++){const D=l[A];d&&d.equals(D)||(b.push(D),
d=D)}}this.autoClose&&1<b.length&&!b[b.length-1].equals(b[0])&&b.push(b[0]);return b}copy(a){super.copy(a);this.curves=[];for(let b=0,d=a.curves.length;b<d;b++)this.curves.push(a.curves[b].clone());this.autoClose=a.autoClose;return this}toJSON(){const a=super.toJSON();a.autoClose=this.autoClose;a.curves=[];for(let b=0,d=this.curves.length;b<d;b++)a.curves.push(this.curves[b].toJSON());return a}fromJSON(a){super.fromJSON(a);this.autoClose=a.autoClose;this.curves=[];for(let b=0,d=a.curves.length;b<
d;b++){const l=a.curves[b];this.curves.push((new Ei[l.type]).fromJSON(l))}return this}}class Zf extends Zj{constructor(a){super();this.type="Path";this.currentPoint=new za;a&&this.setFromPoints(a)}setFromPoints(a){this.moveTo(a[0].x,a[0].y);for(let b=1,d=a.length;b<d;b++)this.lineTo(a[b].x,a[b].y);return this}moveTo(a,b){this.currentPoint.set(a,b);return this}lineTo(a,b){const d=new ch(this.currentPoint.clone(),new za(a,b));this.curves.push(d);this.currentPoint.set(a,b);return this}quadraticCurveTo(a,
b,d,l){a=new Bi(this.currentPoint.clone(),new za(a,b),new za(d,l));this.curves.push(a);this.currentPoint.set(d,l);return this}bezierCurveTo(a,b,d,l,q,y){a=new Ai(this.currentPoint.clone(),new za(a,b),new za(d,l),new za(q,y));this.curves.push(a);this.currentPoint.set(q,y);return this}splineThru(a){var b=[this.currentPoint.clone()].concat(a);b=new Di(b);this.curves.push(b);this.currentPoint.copy(a[a.length-1]);return this}arc(a,b,d,l,q,y){this.absarc(a+this.currentPoint.x,b+this.currentPoint.y,d,l,
q,y);return this}absarc(a,b,d,l,q,y){this.absellipse(a,b,d,d,l,q,y);return this}ellipse(a,b,d,l,q,y,A,D){this.absellipse(a+this.currentPoint.x,b+this.currentPoint.y,d,l,q,y,A,D);return this}absellipse(a,b,d,l,q,y,A,D){a=new ah(a,b,d,l,q,y,A,D);0<this.curves.length&&(b=a.getPoint(0),b.equals(this.currentPoint)||this.lineTo(b.x,b.y));this.curves.push(a);a=a.getPoint(1);this.currentPoint.copy(a);return this}copy(a){super.copy(a);this.currentPoint.copy(a.currentPoint);return this}toJSON(){const a=super.toJSON();
a.currentPoint=this.currentPoint.toArray();return a}fromJSON(a){super.fromJSON(a);this.currentPoint.fromArray(a.currentPoint);return this}}class $f extends Kb{constructor(a=[new za(0,-.5),new za(.5,0),new za(0,.5)],b=12,d=0,l=2*Math.PI){super();this.type="LatheGeometry";this.parameters={points:a,segments:b,phiStart:d,phiLength:l};b=Math.floor(b);l=n(l,0,2*Math.PI);const q=[],y=[],A=[];var D=[];const F=[];var G=1/b,M=new aa,N=new za,P=new aa,T=new aa,S=new aa;let L;for(let ma=0;ma<=a.length-1;ma++)switch(ma){case 0:var U=
a[ma+1].x-a[ma].x;L=a[ma+1].y-a[ma].y;P.x=1*L;P.y=-U;P.z=0*L;S.copy(P);P.normalize();D.push(P.x,P.y,P.z);break;case a.length-1:D.push(S.x,S.y,S.z);break;default:U=a[ma+1].x-a[ma].x,L=a[ma+1].y-a[ma].y,P.x=1*L,P.y=-U,P.z=0*L,T.copy(P),P.x+=S.x,P.y+=S.y,P.z+=S.z,P.normalize(),D.push(P.x,P.y,P.z),S.copy(T)}for(P=0;P<=b;P++)for(S=d+P*G*l,T=Math.sin(S),S=Math.cos(S),U=0;U<=a.length-1;U++)M.x=a[U].x*T,M.y=a[U].y,M.z=a[U].x*S,y.push(M.x,M.y,M.z),N.x=P/b,N.y=U/(a.length-1),A.push(N.x,N.y),F.push(D[3*U]*T,
D[3*U+1],D[3*U]*S);for(d=0;d<b;d++)for(l=0;l<a.length-1;l++)D=l+d*a.length,G=D+a.length,M=D+a.length+1,N=D+1,q.push(D,G,N),q.push(M,N,G);this.setIndex(q);this.setAttribute("position",new pb(y,3));this.setAttribute("uv",new pb(A,2));this.setAttribute("normal",new pb(F,3))}copy(a){super.copy(a);this.parameters=Object.assign({},a.parameters);return this}static fromJSON(a){return new $f(a.points,a.segments,a.phiStart,a.phiLength)}}class dh extends $f{constructor(a=1,b=1,d=4,l=8){const q=new Zf;q.absarc(0,
-b/2,a,1.5*Math.PI,0);q.absarc(0,b/2,a,0,.5*Math.PI);super(q.getPoints(d),l);this.type="CapsuleGeometry";this.parameters={radius:a,height:b,capSegments:d,radialSegments:l}}static fromJSON(a){return new dh(a.radius,a.length,a.capSegments,a.radialSegments)}}class eh extends Kb{constructor(a=1,b=32,d=0,l=2*Math.PI){super();this.type="CircleGeometry";this.parameters={radius:a,segments:b,thetaStart:d,thetaLength:l};b=Math.max(3,b);const q=[],y=[],A=[],D=[],F=new aa,G=new za;y.push(0,0,0);A.push(0,0,1);
D.push(.5,.5);for(let M=0,N=3;M<=b;M++,N+=3){const P=d+M/b*l;F.x=a*Math.cos(P);F.y=a*Math.sin(P);y.push(F.x,F.y,F.z);A.push(0,0,1);G.x=(y[N]/a+1)/2;G.y=(y[N+1]/a+1)/2;D.push(G.x,G.y)}for(a=1;a<=b;a++)q.push(a,a+1,0);this.setIndex(q);this.setAttribute("position",new pb(y,3));this.setAttribute("normal",new pb(A,3));this.setAttribute("uv",new pb(D,2))}copy(a){super.copy(a);this.parameters=Object.assign({},a.parameters);return this}static fromJSON(a){return new eh(a.radius,a.segments,a.thetaStart,a.thetaLength)}}
class gf extends Kb{constructor(a=1,b=1,d=1,l=32,q=1,y=!1,A=0,D=2*Math.PI){function F(ba){const na=S;var sa=new za,ja=new aa;let Ga=0;var oa=!0===ba?a:b;const wa=!0===ba?1:-1;for(var ya=1;ya<=l;ya++)N.push(0,U*wa,0),P.push(0,wa,0),T.push(.5,.5),S++;ya=S;for(let Va=0;Va<=l;Va++){var xa=Va/l*D+A;const La=Math.cos(xa);xa=Math.sin(xa);ja.x=oa*xa;ja.y=U*wa;ja.z=oa*La;N.push(ja.x,ja.y,ja.z);P.push(0,wa,0);sa.x=.5*La+.5;sa.y=.5*xa*wa+.5;T.push(sa.x,sa.y);S++}for(sa=0;sa<l;sa++)ja=na+sa,oa=ya+sa,!0===ba?
M.push(oa,oa+1,ja):M.push(oa+1,oa,ja),Ga+=3;G.addGroup(ma,Ga,!0===ba?1:2);ma+=Ga}super();this.type="CylinderGeometry";this.parameters={radiusTop:a,radiusBottom:b,height:d,radialSegments:l,heightSegments:q,openEnded:y,thetaStart:A,thetaLength:D};const G=this;l=Math.floor(l);q=Math.floor(q);const M=[],N=[],P=[],T=[];let S=0;const L=[],U=d/2;let ma=0;(function(){var ba=new aa,na=new aa;let sa=0;var ja=(b-a)/d;for(var Ga=0;Ga<=q;Ga++){var oa=[];const ya=Ga/q,xa=ya*(b-a)+a;for(let Va=0;Va<=l;Va++){const La=
Va/l;var wa=La*D+A;const Ra=Math.sin(wa);wa=Math.cos(wa);na.x=xa*Ra;na.y=-ya*d+U;na.z=xa*wa;N.push(na.x,na.y,na.z);ba.set(Ra,ja,wa).normalize();P.push(ba.x,ba.y,ba.z);T.push(La,1-ya);oa.push(S++)}L.push(oa)}for(ba=0;ba<l;ba++)for(na=0;na<q;na++)ja=L[na+1][ba],Ga=L[na+1][ba+1],oa=L[na][ba+1],M.push(L[na][ba],ja,oa),M.push(ja,Ga,oa),sa+=6;G.addGroup(ma,sa,0);ma+=sa})();!1===y&&(0<a&&F(!0),0<b&&F(!1));this.setIndex(M);this.setAttribute("position",new pb(N,3));this.setAttribute("normal",new pb(P,3));
this.setAttribute("uv",new pb(T,2))}copy(a){super.copy(a);this.parameters=Object.assign({},a.parameters);return this}static fromJSON(a){return new gf(a.radiusTop,a.radiusBottom,a.height,a.radialSegments,a.heightSegments,a.openEnded,a.thetaStart,a.thetaLength)}}class fh extends gf{constructor(a=1,b=1,d=32,l=1,q=!1,y=0,A=2*Math.PI){super(0,a,b,d,l,q,y,A);this.type="ConeGeometry";this.parameters={radius:a,height:b,radialSegments:d,heightSegments:l,openEnded:q,thetaStart:y,thetaLength:A}}static fromJSON(a){return new fh(a.radius,
a.height,a.radialSegments,a.heightSegments,a.openEnded,a.thetaStart,a.thetaLength)}}class Xd extends Kb{constructor(a=[],b=[],d=1,l=0){function q(G){D.push(G.x,G.y,G.z)}function y(G,M){G*=3;M.x=a[G+0];M.y=a[G+1];M.z=a[G+2]}function A(G,M,N,P){0>P&&1===G.x&&(F[M]=G.x-1);0===N.x&&0===N.z&&(F[M]=P/2/Math.PI+.5)}super();this.type="PolyhedronGeometry";this.parameters={vertices:a,indices:b,radius:d,detail:l};const D=[],F=[];(function(G){const M=new aa,N=new aa,P=new aa;for(let U=0;U<b.length;U+=3){y(b[U+
0],M);y(b[U+1],N);y(b[U+2],P);var T=M,S=N,L=P;const ma=G+1,ba=[];for(let na=0;na<=ma;na++){ba[na]=[];const sa=T.clone().lerp(L,na/ma),ja=S.clone().lerp(L,na/ma),Ga=ma-na;for(let oa=0;oa<=Ga;oa++)ba[na][oa]=0===oa&&na===ma?sa:sa.clone().lerp(ja,oa/Ga)}for(T=0;T<ma;T++)for(S=0;S<2*(ma-T)-1;S++)L=Math.floor(S/2),0===S%2?(q(ba[T][L+1]),q(ba[T+1][L]),q(ba[T][L])):(q(ba[T][L+1]),q(ba[T+1][L+1]),q(ba[T+1][L]))}})(l);(function(G){const M=new aa;for(let N=0;N<D.length;N+=3)M.x=D[N+0],M.y=D[N+1],M.z=D[N+2],
M.normalize().multiplyScalar(G),D[N+0]=M.x,D[N+1]=M.y,D[N+2]=M.z})(d);(function(){var G=new aa;for(var M=0;M<D.length;M+=3)G.x=D[M+0],G.y=D[M+1],G.z=D[M+2],F.push(Math.atan2(G.z,-G.x)/2/Math.PI+.5,1-(Math.atan2(-G.y,Math.sqrt(G.x*G.x+G.z*G.z))/Math.PI+.5));G=new aa;M=new aa;var N=new aa,P=new aa,T=new za;const S=new za,L=new za;for(let U=0,ma=0;U<D.length;U+=9,ma+=6){G.set(D[U+0],D[U+1],D[U+2]);M.set(D[U+3],D[U+4],D[U+5]);N.set(D[U+6],D[U+7],D[U+8]);T.set(F[ma+0],F[ma+1]);S.set(F[ma+2],F[ma+3]);L.set(F[ma+
4],F[ma+5]);P.copy(G).add(M).add(N).divideScalar(3);const ba=Math.atan2(P.z,-P.x);A(T,ma+0,G,ba);A(S,ma+2,M,ba);A(L,ma+4,N,ba)}for(G=0;G<F.length;G+=6)M=F[G+0],N=F[G+2],P=F[G+4],T=Math.min(M,N,P),.9<Math.max(M,N,P)&&.1>T&&(.2>M&&(F[G+0]+=1),.2>N&&(F[G+2]+=1),.2>P&&(F[G+4]+=1))})();this.setAttribute("position",new pb(D,3));this.setAttribute("normal",new pb(D.slice(),3));this.setAttribute("uv",new pb(F,2));0===l?this.computeVertexNormals():this.normalizeNormals()}copy(a){super.copy(a);this.parameters=
Object.assign({},a.parameters);return this}static fromJSON(a){return new Xd(a.vertices,a.indices,a.radius,a.details)}}class gh extends Xd{constructor(a=1,b=0){const d=(1+Math.sqrt(5))/2,l=1/d;super([-1,-1,-1,-1,-1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,1,1,1,-1,1,1,1,0,-l,-d,0,-l,d,0,l,-d,0,l,d,-l,-d,0,-l,d,0,l,-d,0,l,d,0,-d,0,-l,d,0,-l,-d,0,l,d,0,l],[3,11,7,3,7,15,3,15,13,7,19,17,7,17,6,7,6,15,17,4,8,17,8,10,17,10,6,8,0,16,8,16,2,8,2,10,0,12,1,0,1,18,0,18,16,6,10,2,6,2,13,6,13,15,2,16,18,2,18,3,2,3,13,18,
1,9,18,9,11,18,11,3,4,14,12,4,12,0,4,0,8,11,9,5,11,5,19,11,19,7,19,5,14,19,14,4,19,4,17,1,12,14,1,14,5,1,5,9],a,b);this.type="DodecahedronGeometry";this.parameters={radius:a,detail:b}}static fromJSON(a){return new gh(a.radius,a.detail)}}const hh=new aa,ih=new aa,Fi=new aa,jh=new Wc;class ak extends Kb{constructor(a=null,b=1){super();this.type="EdgesGeometry";this.parameters={geometry:a,thresholdAngle:b};if(null!==a){const l=Math.pow(10,4);b=Math.cos(qa*b);const q=a.getIndex();a=a.getAttribute("position");
const y=q?q.count:a.count,A=[0,0,0],D=["a","b","c"],F=Array(3),G={},M=[];for(let N=0;N<y;N+=3){q?(A[0]=q.getX(N),A[1]=q.getX(N+1),A[2]=q.getX(N+2)):(A[0]=N,A[1]=N+1,A[2]=N+2);const {a:P,b:T,c:S}=jh;P.fromBufferAttribute(a,A[0]);T.fromBufferAttribute(a,A[1]);S.fromBufferAttribute(a,A[2]);jh.getNormal(Fi);F[0]=`${Math.round(P.x*l)},${Math.round(P.y*l)},${Math.round(P.z*l)}`;F[1]=`${Math.round(T.x*l)},${Math.round(T.y*l)},${Math.round(T.z*l)}`;F[2]=`${Math.round(S.x*l)},${Math.round(S.y*l)},${Math.round(S.z*
l)}`;if(F[0]!==F[1]&&F[1]!==F[2]&&F[2]!==F[0])for(let L=0;3>L;L++){const U=(L+1)%3;var d=F[L];const ma=F[U],ba=jh[D[L]],na=jh[D[U]],sa=`${d}_${ma}`;d=`${ma}_${d}`;d in G&&G[d]?(Fi.dot(G[d].normal)<=b&&(M.push(ba.x,ba.y,ba.z),M.push(na.x,na.y,na.z)),G[d]=null):sa in G||(G[sa]={index0:A[L],index1:A[U],normal:Fi.clone()})}}for(const N in G)if(G[N]){const {index0:P,index1:T}=G[N];hh.fromBufferAttribute(a,P);ih.fromBufferAttribute(a,T);M.push(hh.x,hh.y,hh.z);M.push(ih.x,ih.y,ih.z)}this.setAttribute("position",
new pb(M,3))}}copy(a){super.copy(a);this.parameters=Object.assign({},a.parameters);return this}}class ue extends Zf{constructor(a){super(a);this.uuid=p();this.type="Shape";this.holes=[]}getPointsHoles(a){const b=[];for(let d=0,l=this.holes.length;d<l;d++)b[d]=this.holes[d].getPoints(a);return b}extractPoints(a){return{shape:this.getPoints(a),holes:this.getPointsHoles(a)}}copy(a){super.copy(a);this.holes=[];for(let b=0,d=a.holes.length;b<d;b++)this.holes.push(a.holes[b].clone());return this}toJSON(){const a=
super.toJSON();a.uuid=this.uuid;a.holes=[];for(let b=0,d=this.holes.length;b<d;b++)a.holes.push(this.holes[b].toJSON());return a}fromJSON(a){super.fromJSON(a);this.uuid=a.uuid;this.holes=[];for(let b=0,d=a.holes.length;b<d;b++){const l=a.holes[b];this.holes.push((new Zf).fromJSON(l))}return this}}const Jl={triangulate:function(a,b,d=2){var l=b&&b.length;const q=l?b[0]*d:a.length;var y=vg(a,0,q,d,!0);const A=[];if(!y||y.next===y.prev)return A;let D,F;var G;if(l){var M=y;y=[];var N;l=0;for(N=b.length;l<
N;l++){var P=b[l]*d;var T=l<N-1?b[l+1]*d:a.length;var S=vg(a,P,T,d,!1);S===S.next&&(S.steiner=!0);P=y;T=P.push;var L=S,U=S;do{if(L.x<U.x||L.x===U.x&&L.y<U.y)U=L;L=L.next}while(L!==S);T.call(P,U)}y.sort(Vh);for(l=0;l<y.length;l++){N=void 0;b=y[l];b:{P=M;T=-Infinity;S=b.x;L=b.y;do{if(L<=P.y&&L>=P.next.y&&P.next.y!==P.y&&(U=P.x+(L-P.y)*(P.next.x-P.x)/(P.next.y-P.y),U<=S&&U>T&&(T=U,N=P.x<P.next.x?P:P.next,U===S)))break b;P=P.next}while(P!==M);if(N){var ma=N,ba=N.x,na=N.y,sa=Infinity;P=N;do{if(S>=P.x&&
P.x>=ba&&S!==P.x&&Qd(L<na?S:T,L,ba,na,L<na?T:S,L,P.x,P.y)){U=Math.abs(L-P.y)/(S-P.x);var ja;if((ja=le(P,b))&&!(ja=U<sa)&&(ja=U===sa)&&!(ja=P.x>N.x)&&(ja=P.x===N.x)){ja=N;var Ga=P;ja=0>hc(ja.prev,ja,Ga.prev)&&0>hc(Ga.next,ja,ja.next)}ja&&(N=P,sa=U)}P=P.next}while(P!==ma)}else N=null}N&&(b=yg(N,b),wd(b,b.next),M=wd(N,N.next))}y=M}if(a.length>80*d){D=G=a[0];F=l=a[1];for(N=d;N<q;N+=d)b=a[N],M=a[N+1],b<D&&(D=b),M<F&&(F=M),b>G&&(G=b),M>l&&(l=M);G=Math.max(G-D,l-F);G=0!==G?32767/G:0}ke(y,A,d,D,F,G,0);return A}};
class Dd{static area(a){const b=a.length;let d=0;for(let l=b-1,q=0;q<b;l=q++)d+=a[l].x*a[q].y-a[q].x*a[l].y;return.5*d}static isClockWise(a){return 0>Dd.area(a)}static triangulateShape(a,b){var d=[];const l=[],q=[];zg(a);Ag(d,a);a=a.length;b.forEach(zg);for(let y=0;y<b.length;y++)l.push(a),a+=b[y].length,Ag(d,b[y]);b=Jl.triangulate(d,l);for(d=0;d<b.length;d+=3)q.push(b.slice(d,d+3));return q}}class kh extends Kb{constructor(a=new ue([new za(.5,.5),new za(-.5,.5),new za(-.5,-.5),new za(.5,-.5)]),b=
{}){function d(A){function D(V,fa,ia){fa||console.error("THREE.ExtrudeGeometry: vec does not exist");return V.clone().addScaledVector(fa,ia)}function F(V,fa,ia){var ra=V.x-fa.x;var Za=V.y-fa.y;var ha=ia.x-V.x;var Ba=ia.y-V.y,Ia=ra*ra+Za*Za;if(Math.abs(ra*Ba-Za*ha)>Number.EPSILON){const Ja=Math.sqrt(Ia),Ua=Math.sqrt(ha*ha+Ba*Ba);Ia=fa.x-Za/Ja;fa=fa.y+ra/Ja;Ba=((ia.x-Ba/Ua-Ia)*Ba-(ia.y+ha/Ua-fa)*ha)/(ra*Ba-Za*ha);ha=Ia+ra*Ba-V.x;ra=fa+Za*Ba-V.y;Za=ha*ha+ra*ra;if(2>=Za)return new za(ha,ra);Za=Math.sqrt(Za/
2)}else V=!1,ra>Number.EPSILON?ha>Number.EPSILON&&(V=!0):ra<-Number.EPSILON?ha<-Number.EPSILON&&(V=!0):Math.sign(Za)===Math.sign(Ba)&&(V=!0),V?(ha=-Za,Za=Math.sqrt(Ia)):(ha=ra,ra=Za,Za=Math.sqrt(Ia/2));return new za(ha/Za,ra/Za)}function G(V,fa){let ia=V.length;for(;0<=--ia;){const Ba=ia;let Ia=ia-1;0>Ia&&(Ia=V.length-1);for(let Ja=0,Ua=U+2*Ga;Ja<Ua;Ja++){const eb=Bb*Ja;var ra=Bb*(Ja+1),Za=fa+Ia+eb,ha=fa+Ia+ra;ra=fa+Ba+ra;P(fa+Ba+eb);P(Za);P(ra);P(Za);P(ha);P(ra);Za=q.length/3;Za=wa.generateSideWallUV(l,
q,Za-6,Za-3,Za-2,Za-1);T(Za[0]);T(Za[1]);T(Za[3]);T(Za[1]);T(Za[2]);T(Za[3])}}}function M(V,fa,ia){S.push(V);S.push(fa);S.push(ia)}function N(V,fa,ia){P(V);P(fa);P(ia);V=q.length/3;V=wa.generateTopUV(l,q,V-3,V-2,V-1);T(V[0]);T(V[1]);T(V[2])}function P(V){q.push(S[3*V]);q.push(S[3*V+1]);q.push(S[3*V+2])}function T(V){y.push(V.x);y.push(V.y)}const S=[];var L=void 0!==b.curveSegments?b.curveSegments:12;const U=void 0!==b.steps?b.steps:1,ma=void 0!==b.depth?b.depth:1;let ba=void 0!==b.bevelEnabled?b.bevelEnabled:
!0,na=void 0!==b.bevelThickness?b.bevelThickness:.2,sa=void 0!==b.bevelSize?b.bevelSize:na-.1,ja=void 0!==b.bevelOffset?b.bevelOffset:0,Ga=void 0!==b.bevelSegments?b.bevelSegments:3;var oa=b.extrudePath;const wa=void 0!==b.UVGenerator?b.UVGenerator:Kl;let ya,xa=!1;if(oa){ya=oa.getSpacedPoints(U);xa=!0;ba=!1;var Va=oa.computeFrenetFrames(U,!1);var La=new aa;var Ra=new aa;var Na=new aa}ba||(ja=sa=na=Ga=0);A=A.extractPoints(L);oa=A.shape;const cb=A.holes;if(!Dd.isClockWise(oa)){oa=oa.reverse();for(let V=
0,fa=cb.length;V<fa;V++)A=cb[V],Dd.isClockWise(A)&&(cb[V]=A.reverse())}const ob=Dd.triangulateShape(oa,cb),ub=oa;for(let V=0,fa=cb.length;V<fa;V++)oa=oa.concat(cb[V]);const Bb=oa.length,Sa=ob.length;A=[];for(let V=0,fa=ub.length,ia=fa-1,ra=V+1;V<fa;V++,ia++,ra++)ia===fa&&(ia=0),ra===fa&&(ra=0),A[V]=F(ub[V],ub[ia],ub[ra]);L=[];let $a=A.concat();for(let V=0,fa=cb.length;V<fa;V++){var bb=cb[V];var rb=[];for(let ia=0,ra=bb.length,Za=ra-1,ha=ia+1;ia<ra;ia++,Za++,ha++)Za===ra&&(Za=0),ha===ra&&(ha=0),rb[ia]=
F(bb[ia],bb[Za],bb[ha]);L.push(rb);$a=$a.concat(rb)}for(bb=0;bb<Ga;bb++){rb=bb/Ga;var nb=na*Math.cos(rb*Math.PI/2),Y=sa*Math.sin(rb*Math.PI/2)+ja;for(let V=0,fa=ub.length;V<fa;V++)rb=D(ub[V],A[V],Y),M(rb.x,rb.y,-nb);for(let V=0,fa=cb.length;V<fa;V++){const ia=cb[V];rb=L[V];for(let ra=0,Za=ia.length;ra<Za;ra++){const ha=D(ia[ra],rb[ra],Y);M(ha.x,ha.y,-nb)}}}rb=sa+ja;for(bb=0;bb<Bb;bb++)nb=ba?D(oa[bb],$a[bb],rb):oa[bb],xa?(Ra.copy(Va.normals[0]).multiplyScalar(nb.x),La.copy(Va.binormals[0]).multiplyScalar(nb.y),
Na.copy(ya[0]).add(Ra).add(La),M(Na.x,Na.y,Na.z)):M(nb.x,nb.y,0);for(bb=1;bb<=U;bb++)for(nb=0;nb<Bb;nb++)Y=ba?D(oa[nb],$a[nb],rb):oa[nb],xa?(Ra.copy(Va.normals[bb]).multiplyScalar(Y.x),La.copy(Va.binormals[bb]).multiplyScalar(Y.y),Na.copy(ya[bb]).add(Ra).add(La),M(Na.x,Na.y,Na.z)):M(Y.x,Y.y,ma/U*bb);for(Va=Ga-1;0<=Va;Va--){Ra=Va/Ga;La=na*Math.cos(Ra*Math.PI/2);Ra=sa*Math.sin(Ra*Math.PI/2)+ja;for(let V=0,fa=ub.length;V<fa;V++)Na=D(ub[V],A[V],Ra),M(Na.x,Na.y,ma+La);for(let V=0,fa=cb.length;V<fa;V++){Na=
cb[V];rb=L[V];for(let ia=0,ra=Na.length;ia<ra;ia++)oa=D(Na[ia],rb[ia],Ra),xa?M(oa.x,oa.y+ya[U-1].y,ya[U-1].x+La):M(oa.x,oa.y,ma+La)}}(function(){const V=q.length/3;if(ba){var fa=0*Bb;for(var ia=0;ia<Sa;ia++){var ra=ob[ia];N(ra[2]+fa,ra[1]+fa,ra[0]+fa)}fa=Bb*(U+2*Ga);for(ia=0;ia<Sa;ia++)ra=ob[ia],N(ra[0]+fa,ra[1]+fa,ra[2]+fa)}else{for(fa=0;fa<Sa;fa++)ia=ob[fa],N(ia[2],ia[1],ia[0]);for(fa=0;fa<Sa;fa++)ia=ob[fa],N(ia[0]+Bb*U,ia[1]+Bb*U,ia[2]+Bb*U)}l.addGroup(V,q.length/3-V,0)})();(function(){const V=
q.length/3;let fa=0;G(ub,fa);fa+=ub.length;for(let ia=0,ra=cb.length;ia<ra;ia++){const Za=cb[ia];G(Za,fa);fa+=Za.length}l.addGroup(V,q.length/3-V,1)})()}super();this.type="ExtrudeGeometry";this.parameters={shapes:a,options:b};a=Array.isArray(a)?a:[a];const l=this,q=[],y=[];for(let A=0,D=a.length;A<D;A++)d(a[A]);this.setAttribute("position",new pb(q,3));this.setAttribute("uv",new pb(y,2));this.computeVertexNormals()}copy(a){super.copy(a);this.parameters=Object.assign({},a.parameters);return this}toJSON(){const a=
super.toJSON();var b=this.parameters.shapes,d=this.parameters.options;a.shapes=[];if(Array.isArray(b))for(let l=0,q=b.length;l<q;l++)a.shapes.push(b[l].uuid);else a.shapes.push(b.uuid);a.options=Object.assign({},d);void 0!==d.extrudePath&&(a.options.extrudePath=d.extrudePath.toJSON());return a}static fromJSON(a,b){const d=[];for(let l=0,q=a.shapes.length;l<q;l++)d.push(b[a.shapes[l]]);b=a.options.extrudePath;void 0!==b&&(a.options.extrudePath=(new Ei[b.type]).fromJSON(b));return new kh(d,a.options)}}
const Kl={generateTopUV:function(a,b,d,l,q){a=b[3*l];l=b[3*l+1];const y=b[3*q];q=b[3*q+1];return[new za(b[3*d],b[3*d+1]),new za(a,l),new za(y,q)]},generateSideWallUV:function(a,b,d,l,q,y){a=b[3*d];const A=b[3*d+1];d=b[3*d+2];const D=b[3*l],F=b[3*l+1];l=b[3*l+2];const G=b[3*q],M=b[3*q+1];q=b[3*q+2];const N=b[3*y],P=b[3*y+1];b=b[3*y+2];return Math.abs(A-F)<Math.abs(a-D)?[new za(a,1-d),new za(D,1-l),new za(G,1-q),new za(N,1-b)]:[new za(A,1-d),new za(F,1-l),new za(M,1-q),new za(P,1-b)]}};class lh extends Xd{constructor(a=
1,b=0){const d=(1+Math.sqrt(5))/2;super([-1,d,0,1,d,0,-1,-d,0,1,-d,0,0,-1,d,0,1,d,0,-1,-d,0,1,-d,d,0,-1,d,0,1,-d,0,-1,-d,0,1],[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1],a,b);this.type="IcosahedronGeometry";this.parameters={radius:a,detail:b}}static fromJSON(a){return new lh(a.radius,a.detail)}}class ag extends Xd{constructor(a=1,b=0){super([1,0,0,-1,0,0,0,1,0,0,-1,0,0,0,1,0,0,-1],[0,2,4,0,4,3,0,3,5,0,5,2,1,2,
5,1,5,3,1,3,4,1,4,2],a,b);this.type="OctahedronGeometry";this.parameters={radius:a,detail:b}}static fromJSON(a){return new ag(a.radius,a.detail)}}class mh extends Kb{constructor(a=.5,b=1,d=32,l=1,q=0,y=2*Math.PI){super();this.type="RingGeometry";this.parameters={innerRadius:a,outerRadius:b,thetaSegments:d,phiSegments:l,thetaStart:q,thetaLength:y};d=Math.max(3,d);l=Math.max(1,l);const A=[],D=[],F=[],G=[];var M=a;a=(b-a)/l;var N=new aa,P=new za;for(let T=0;T<=l;T++){for(let S=0;S<=d;S++){const L=q+
S/d*y;N.x=M*Math.cos(L);N.y=M*Math.sin(L);D.push(N.x,N.y,N.z);F.push(0,0,1);P.x=(N.x/b+1)/2;P.y=(N.y/b+1)/2;G.push(P.x,P.y)}M+=a}for(b=0;b<l;b++)for(q=b*(d+1),y=0;y<d;y++)M=y+q,a=M+d+1,N=M+d+2,P=M+1,A.push(M,a,P),A.push(a,N,P);this.setIndex(A);this.setAttribute("position",new pb(D,3));this.setAttribute("normal",new pb(F,3));this.setAttribute("uv",new pb(G,2))}copy(a){super.copy(a);this.parameters=Object.assign({},a.parameters);return this}static fromJSON(a){return new mh(a.innerRadius,a.outerRadius,
a.thetaSegments,a.phiSegments,a.thetaStart,a.thetaLength)}}class nh extends Kb{constructor(a=new ue([new za(0,.5),new za(-.5,-.5),new za(.5,-.5)]),b=12){function d(G){const M=q.length/3;var N=G.extractPoints(b);G=N.shape;var P=N.holes;!1===Dd.isClockWise(G)&&(G=G.reverse());for(let T=0,S=P.length;T<S;T++)N=P[T],!0===Dd.isClockWise(N)&&(P[T]=N.reverse());N=Dd.triangulateShape(G,P);for(let T=0,S=P.length;T<S;T++)G=G.concat(P[T]);for(let T=0,S=G.length;T<S;T++)P=G[T],q.push(P.x,P.y,0),y.push(0,0,1),
A.push(P.x,P.y);for(let T=0,S=N.length;T<S;T++)G=N[T],l.push(G[0]+M,G[1]+M,G[2]+M),F+=3}super();this.type="ShapeGeometry";this.parameters={shapes:a,curveSegments:b};const l=[],q=[],y=[],A=[];let D=0,F=0;if(!1===Array.isArray(a))d(a);else for(let G=0;G<a.length;G++)d(a[G]),this.addGroup(D,F,G),D+=F,F=0;this.setIndex(l);this.setAttribute("position",new pb(q,3));this.setAttribute("normal",new pb(y,3));this.setAttribute("uv",new pb(A,2))}copy(a){super.copy(a);this.parameters=Object.assign({},a.parameters);
return this}toJSON(){const a=super.toJSON();var b=this.parameters.shapes;a.shapes=[];if(Array.isArray(b))for(let d=0,l=b.length;d<l;d++)a.shapes.push(b[d].uuid);else a.shapes.push(b.uuid);return a}static fromJSON(a,b){const d=[];for(let l=0,q=a.shapes.length;l<q;l++)d.push(b[a.shapes[l]]);return new nh(d,a.curveSegments)}}class bg extends Kb{constructor(a=1,b=32,d=16,l=0,q=2*Math.PI,y=0,A=Math.PI){super();this.type="SphereGeometry";this.parameters={radius:a,widthSegments:b,heightSegments:d,phiStart:l,
phiLength:q,thetaStart:y,thetaLength:A};b=Math.max(3,Math.floor(b));d=Math.max(2,Math.floor(d));const D=Math.min(y+A,Math.PI);var F=0;const G=[];var M=new aa;const N=new aa,P=[],T=[],S=[],L=[];for(let U=0;U<=d;U++){const ma=[],ba=U/d;let na=0;0==U&&0==y?na=.5/b:U==d&&D==Math.PI&&(na=-.5/b);for(let sa=0;sa<=b;sa++){const ja=sa/b;M.x=-a*Math.cos(l+ja*q)*Math.sin(y+ba*A);M.y=a*Math.cos(y+ba*A);M.z=a*Math.sin(l+ja*q)*Math.sin(y+ba*A);T.push(M.x,M.y,M.z);N.copy(M).normalize();S.push(N.x,N.y,N.z);L.push(ja+
na,1-ba);ma.push(F++)}G.push(ma)}for(a=0;a<d;a++)for(l=0;l<b;l++)q=G[a][l+1],A=G[a][l],F=G[a+1][l],M=G[a+1][l+1],(0!==a||0<y)&&P.push(q,A,M),(a!==d-1||D<Math.PI)&&P.push(A,F,M);this.setIndex(P);this.setAttribute("position",new pb(T,3));this.setAttribute("normal",new pb(S,3));this.setAttribute("uv",new pb(L,2))}copy(a){super.copy(a);this.parameters=Object.assign({},a.parameters);return this}static fromJSON(a){return new bg(a.radius,a.widthSegments,a.heightSegments,a.phiStart,a.phiLength,a.thetaStart,
a.thetaLength)}}class oh extends Xd{constructor(a=1,b=0){super([1,1,1,-1,-1,1,-1,1,-1,1,-1,-1],[2,1,0,0,3,2,1,3,0,2,3,1],a,b);this.type="TetrahedronGeometry";this.parameters={radius:a,detail:b}}static fromJSON(a){return new oh(a.radius,a.detail)}}class ph extends Kb{constructor(a=1,b=.4,d=12,l=48,q=2*Math.PI){super();this.type="TorusGeometry";this.parameters={radius:a,tube:b,radialSegments:d,tubularSegments:l,arc:q};d=Math.floor(d);l=Math.floor(l);const y=[],A=[],D=[],F=[];var G=new aa,M=new aa;const N=
new aa;for(let P=0;P<=d;P++)for(let T=0;T<=l;T++){const S=T/l*q,L=P/d*Math.PI*2;M.x=(a+b*Math.cos(L))*Math.cos(S);M.y=(a+b*Math.cos(L))*Math.sin(S);M.z=b*Math.sin(L);A.push(M.x,M.y,M.z);G.x=a*Math.cos(S);G.y=a*Math.sin(S);N.subVectors(M,G).normalize();D.push(N.x,N.y,N.z);F.push(T/l);F.push(P/d)}for(a=1;a<=d;a++)for(b=1;b<=l;b++)q=(l+1)*(a-1)+b-1,G=(l+1)*(a-1)+b,M=(l+1)*a+b,y.push((l+1)*a+b-1,q,M),y.push(q,G,M);this.setIndex(y);this.setAttribute("position",new pb(A,3));this.setAttribute("normal",new pb(D,
3));this.setAttribute("uv",new pb(F,2))}copy(a){super.copy(a);this.parameters=Object.assign({},a.parameters);return this}static fromJSON(a){return new ph(a.radius,a.tube,a.radialSegments,a.tubularSegments,a.arc)}}class qh extends Kb{constructor(a=1,b=.4,d=64,l=8,q=2,y=3){function A(sa,ja,Ga,oa,wa){const ya=Math.sin(sa);ja=Ga/ja*sa;Ga=Math.cos(ja);wa.x=oa*(2+Ga)*.5*Math.cos(sa);wa.y=oa*(2+Ga)*ya*.5;wa.z=oa*Math.sin(ja)*.5}super();this.type="TorusKnotGeometry";this.parameters={radius:a,tube:b,tubularSegments:d,
radialSegments:l,p:q,q:y};d=Math.floor(d);l=Math.floor(l);const D=[],F=[],G=[],M=[];var N=new aa;const P=new aa,T=new aa,S=new aa,L=new aa,U=new aa,ma=new aa;for(let sa=0;sa<=d;++sa){var ba=sa/d*q*Math.PI*2;A(ba,q,y,a,T);A(ba+.01,q,y,a,S);U.subVectors(S,T);ma.addVectors(S,T);L.crossVectors(U,ma);ma.crossVectors(L,U);L.normalize();ma.normalize();for(ba=0;ba<=l;++ba){var na=ba/l*Math.PI*2;const ja=-b*Math.cos(na);na=b*Math.sin(na);N.x=T.x+(ja*ma.x+na*L.x);N.y=T.y+(ja*ma.y+na*L.y);N.z=T.z+(ja*ma.z+na*
L.z);F.push(N.x,N.y,N.z);P.subVectors(N,T).normalize();G.push(P.x,P.y,P.z);M.push(sa/d);M.push(ba/l)}}for(a=1;a<=d;a++)for(b=1;b<=l;b++)q=(l+1)*a+(b-1),y=(l+1)*a+b,N=(l+1)*(a-1)+b,D.push((l+1)*(a-1)+(b-1),q,N),D.push(q,y,N);this.setIndex(D);this.setAttribute("position",new pb(F,3));this.setAttribute("normal",new pb(G,3));this.setAttribute("uv",new pb(M,2))}copy(a){super.copy(a);this.parameters=Object.assign({},a.parameters);return this}static fromJSON(a){return new qh(a.radius,a.tube,a.tubularSegments,
a.radialSegments,a.p,a.q)}}class rh extends Kb{constructor(a=new Ci(new aa(-1,-1,0),new aa(-1,1,0),new aa(1,1,0)),b=64,d=1,l=8,q=!1){function y(L){M=a.getPointAt(L/b,M);const U=A.normals[L];L=A.binormals[L];for(let ba=0;ba<=l;ba++){var ma=ba/l*Math.PI*2;const na=Math.sin(ma);ma=-Math.cos(ma);F.x=ma*U.x+na*L.x;F.y=ma*U.y+na*L.y;F.z=ma*U.z+na*L.z;F.normalize();P.push(F.x,F.y,F.z);D.x=M.x+d*F.x;D.y=M.y+d*F.y;D.z=M.z+d*F.z;N.push(D.x,D.y,D.z)}}super();this.type="TubeGeometry";this.parameters={path:a,
tubularSegments:b,radius:d,radialSegments:l,closed:q};const A=a.computeFrenetFrames(b,q);this.tangents=A.tangents;this.normals=A.normals;this.binormals=A.binormals;const D=new aa,F=new aa,G=new za;let M=new aa;const N=[],P=[],T=[],S=[];(function(){for(var L=0;L<b;L++)y(L);y(!1===q?b:0);for(L=0;L<=b;L++)for(var U=0;U<=l;U++)G.x=L/b,G.y=U/l,T.push(G.x,G.y);for(L=1;L<=b;L++)for(U=1;U<=l;U++){const ma=(l+1)*L+(U-1),ba=(l+1)*L+U,na=(l+1)*(L-1)+U;S.push((l+1)*(L-1)+(U-1),ma,na);S.push(ma,ba,na)}})();this.setIndex(S);
this.setAttribute("position",new pb(N,3));this.setAttribute("normal",new pb(P,3));this.setAttribute("uv",new pb(T,2))}copy(a){super.copy(a);this.parameters=Object.assign({},a.parameters);return this}toJSON(){const a=super.toJSON();a.path=this.parameters.path.toJSON();return a}static fromJSON(a){return new rh((new Ei[a.path.type]).fromJSON(a.path),a.tubularSegments,a.radius,a.radialSegments,a.closed)}}class bk extends Kb{constructor(a=null){super();this.type="WireframeGeometry";this.parameters={geometry:a};
if(null!==a){const y=[],A=new Set,D=new aa,F=new aa;if(null!==a.index){var b=a.attributes.position,d=a.index;a=a.groups;0===a.length&&(a=[{start:0,count:d.count,materialIndex:0}]);for(let G=0,M=a.length;G<M;++G){var l=a[G],q=l.start;l=l.count;for(let N=q,P=q+l;N<P;N+=3)for(q=0;3>q;q++){l=d.getX(N+q);const T=d.getX(N+(q+1)%3);D.fromBufferAttribute(b,l);F.fromBufferAttribute(b,T);!0===Bg(D,F,A)&&(y.push(D.x,D.y,D.z),y.push(F.x,F.y,F.z))}}}else{b=a.attributes.position;for(let G=0,M=b.count/3;G<M;G++)for(d=
0;3>d;d++)a=3*G+(d+1)%3,D.fromBufferAttribute(b,3*G+d),F.fromBufferAttribute(b,a),!0===Bg(D,F,A)&&(y.push(D.x,D.y,D.z),y.push(F.x,F.y,F.z))}this.setAttribute("position",new pb(y,3))}}copy(a){super.copy(a);this.parameters=Object.assign({},a.parameters);return this}}var ck=Object.freeze({__proto__:null,BoxGeometry:ae,CapsuleGeometry:dh,CircleGeometry:eh,ConeGeometry:fh,CylinderGeometry:gf,DodecahedronGeometry:gh,EdgesGeometry:ak,ExtrudeGeometry:kh,IcosahedronGeometry:lh,LatheGeometry:$f,OctahedronGeometry:ag,
PlaneGeometry:lf,PolyhedronGeometry:Xd,RingGeometry:mh,ShapeGeometry:nh,SphereGeometry:bg,TetrahedronGeometry:oh,TorusGeometry:ph,TorusKnotGeometry:qh,TubeGeometry:rh,WireframeGeometry:bk});class dk extends Fc{constructor(a){super();this.isShadowMaterial=!0;this.type="ShadowMaterial";this.color=new gb(0);this.fog=this.transparent=!0;this.setValues(a)}copy(a){super.copy(a);this.color.copy(a.color);this.fog=a.fog;return this}}class ek extends fd{constructor(a){super(a);this.isRawShaderMaterial=!0;this.type=
"RawShaderMaterial"}}class Gi extends Fc{constructor(a){super();this.isMeshStandardMaterial=!0;this.defines={STANDARD:""};this.type="MeshStandardMaterial";this.color=new gb(16777215);this.roughness=1;this.metalness=0;this.lightMap=this.map=null;this.lightMapIntensity=1;this.aoMap=null;this.aoMapIntensity=1;this.emissive=new gb(0);this.emissiveIntensity=1;this.bumpMap=this.emissiveMap=null;this.bumpScale=1;this.normalMap=null;this.normalMapType=0;this.normalScale=new za(1,1);this.displacementMap=null;
this.displacementScale=1;this.displacementBias=0;this.envMap=this.alphaMap=this.metalnessMap=this.roughnessMap=null;this.envMapIntensity=1;this.wireframe=!1;this.wireframeLinewidth=1;this.wireframeLinejoin=this.wireframeLinecap="round";this.flatShading=!1;this.fog=!0;this.setValues(a)}copy(a){super.copy(a);this.defines={STANDARD:""};this.color.copy(a.color);this.roughness=a.roughness;this.metalness=a.metalness;this.map=a.map;this.lightMap=a.lightMap;this.lightMapIntensity=a.lightMapIntensity;this.aoMap=
a.aoMap;this.aoMapIntensity=a.aoMapIntensity;this.emissive.copy(a.emissive);this.emissiveMap=a.emissiveMap;this.emissiveIntensity=a.emissiveIntensity;this.bumpMap=a.bumpMap;this.bumpScale=a.bumpScale;this.normalMap=a.normalMap;this.normalMapType=a.normalMapType;this.normalScale.copy(a.normalScale);this.displacementMap=a.displacementMap;this.displacementScale=a.displacementScale;this.displacementBias=a.displacementBias;this.roughnessMap=a.roughnessMap;this.metalnessMap=a.metalnessMap;this.alphaMap=
a.alphaMap;this.envMap=a.envMap;this.envMapIntensity=a.envMapIntensity;this.wireframe=a.wireframe;this.wireframeLinewidth=a.wireframeLinewidth;this.wireframeLinecap=a.wireframeLinecap;this.wireframeLinejoin=a.wireframeLinejoin;this.flatShading=a.flatShading;this.fog=a.fog;return this}}class fk extends Gi{constructor(a){super();this.isMeshPhysicalMaterial=!0;this.defines={STANDARD:"",PHYSICAL:""};this.type="MeshPhysicalMaterial";this.clearcoatMap=null;this.clearcoatRoughness=0;this.clearcoatRoughnessMap=
null;this.clearcoatNormalScale=new za(1,1);this.clearcoatNormalMap=null;this.ior=1.5;Object.defineProperty(this,"reflectivity",{get:function(){return n(2.5*(this.ior-1)/(this.ior+1),0,1)},set:function(b){this.ior=(1+.4*b)/(1-.4*b)}});this.iridescenceMap=null;this.iridescenceIOR=1.3;this.iridescenceThicknessRange=[100,400];this.iridescenceThicknessMap=null;this.sheenColor=new gb(0);this.sheenColorMap=null;this.sheenRoughness=1;this.transmissionMap=this.sheenRoughnessMap=null;this.thickness=0;this.thicknessMap=
null;this.attenuationDistance=Infinity;this.attenuationColor=new gb(1,1,1);this.specularIntensity=1;this.specularIntensityMap=null;this.specularColor=new gb(1,1,1);this.specularColorMap=null;this._transmission=this._iridescence=this._clearcoat=this._sheen=0;this.setValues(a)}get sheen(){return this._sheen}set sheen(a){0<this._sheen!==0<a&&this.version++;this._sheen=a}get clearcoat(){return this._clearcoat}set clearcoat(a){0<this._clearcoat!==0<a&&this.version++;this._clearcoat=a}get iridescence(){return this._iridescence}set iridescence(a){0<
this._iridescence!==0<a&&this.version++;this._iridescence=a}get transmission(){return this._transmission}set transmission(a){0<this._transmission!==0<a&&this.version++;this._transmission=a}copy(a){super.copy(a);this.defines={STANDARD:"",PHYSICAL:""};this.clearcoat=a.clearcoat;this.clearcoatMap=a.clearcoatMap;this.clearcoatRoughness=a.clearcoatRoughness;this.clearcoatRoughnessMap=a.clearcoatRoughnessMap;this.clearcoatNormalMap=a.clearcoatNormalMap;this.clearcoatNormalScale.copy(a.clearcoatNormalScale);
this.ior=a.ior;this.iridescence=a.iridescence;this.iridescenceMap=a.iridescenceMap;this.iridescenceIOR=a.iridescenceIOR;this.iridescenceThicknessRange=[...a.iridescenceThicknessRange];this.iridescenceThicknessMap=a.iridescenceThicknessMap;this.sheen=a.sheen;this.sheenColor.copy(a.sheenColor);this.sheenColorMap=a.sheenColorMap;this.sheenRoughness=a.sheenRoughness;this.sheenRoughnessMap=a.sheenRoughnessMap;this.transmission=a.transmission;this.transmissionMap=a.transmissionMap;this.thickness=a.thickness;
this.thicknessMap=a.thicknessMap;this.attenuationDistance=a.attenuationDistance;this.attenuationColor.copy(a.attenuationColor);this.specularIntensity=a.specularIntensity;this.specularIntensityMap=a.specularIntensityMap;this.specularColor.copy(a.specularColor);this.specularColorMap=a.specularColorMap;return this}}class gk extends Fc{constructor(a){super();this.isMeshPhongMaterial=!0;this.type="MeshPhongMaterial";this.color=new gb(16777215);this.specular=new gb(1118481);this.shininess=30;this.lightMap=
this.map=null;this.lightMapIntensity=1;this.aoMap=null;this.aoMapIntensity=1;this.emissive=new gb(0);this.emissiveIntensity=1;this.bumpMap=this.emissiveMap=null;this.bumpScale=1;this.normalMap=null;this.normalMapType=0;this.normalScale=new za(1,1);this.displacementMap=null;this.displacementScale=1;this.displacementBias=0;this.envMap=this.alphaMap=this.specularMap=null;this.combine=0;this.reflectivity=1;this.refractionRatio=.98;this.wireframe=!1;this.wireframeLinewidth=1;this.wireframeLinejoin=this.wireframeLinecap=
"round";this.flatShading=!1;this.fog=!0;this.setValues(a)}copy(a){super.copy(a);this.color.copy(a.color);this.specular.copy(a.specular);this.shininess=a.shininess;this.map=a.map;this.lightMap=a.lightMap;this.lightMapIntensity=a.lightMapIntensity;this.aoMap=a.aoMap;this.aoMapIntensity=a.aoMapIntensity;this.emissive.copy(a.emissive);this.emissiveMap=a.emissiveMap;this.emissiveIntensity=a.emissiveIntensity;this.bumpMap=a.bumpMap;this.bumpScale=a.bumpScale;this.normalMap=a.normalMap;this.normalMapType=
a.normalMapType;this.normalScale.copy(a.normalScale);this.displacementMap=a.displacementMap;this.displacementScale=a.displacementScale;this.displacementBias=a.displacementBias;this.specularMap=a.specularMap;this.alphaMap=a.alphaMap;this.envMap=a.envMap;this.combine=a.combine;this.reflectivity=a.reflectivity;this.refractionRatio=a.refractionRatio;this.wireframe=a.wireframe;this.wireframeLinewidth=a.wireframeLinewidth;this.wireframeLinecap=a.wireframeLinecap;this.wireframeLinejoin=a.wireframeLinejoin;
this.flatShading=a.flatShading;this.fog=a.fog;return this}}class hk extends Fc{constructor(a){super();this.isMeshToonMaterial=!0;this.defines={TOON:""};this.type="MeshToonMaterial";this.color=new gb(16777215);this.lightMap=this.gradientMap=this.map=null;this.lightMapIntensity=1;this.aoMap=null;this.aoMapIntensity=1;this.emissive=new gb(0);this.emissiveIntensity=1;this.bumpMap=this.emissiveMap=null;this.bumpScale=1;this.normalMap=null;this.normalMapType=0;this.normalScale=new za(1,1);this.displacementMap=
null;this.displacementScale=1;this.displacementBias=0;this.alphaMap=null;this.wireframe=!1;this.wireframeLinewidth=1;this.wireframeLinejoin=this.wireframeLinecap="round";this.fog=!0;this.setValues(a)}copy(a){super.copy(a);this.color.copy(a.color);this.map=a.map;this.gradientMap=a.gradientMap;this.lightMap=a.lightMap;this.lightMapIntensity=a.lightMapIntensity;this.aoMap=a.aoMap;this.aoMapIntensity=a.aoMapIntensity;this.emissive.copy(a.emissive);this.emissiveMap=a.emissiveMap;this.emissiveIntensity=
a.emissiveIntensity;this.bumpMap=a.bumpMap;this.bumpScale=a.bumpScale;this.normalMap=a.normalMap;this.normalMapType=a.normalMapType;this.normalScale.copy(a.normalScale);this.displacementMap=a.displacementMap;this.displacementScale=a.displacementScale;this.displacementBias=a.displacementBias;this.alphaMap=a.alphaMap;this.wireframe=a.wireframe;this.wireframeLinewidth=a.wireframeLinewidth;this.wireframeLinecap=a.wireframeLinecap;this.wireframeLinejoin=a.wireframeLinejoin;this.fog=a.fog;return this}}
class ik extends Fc{constructor(a){super();this.isMeshNormalMaterial=!0;this.type="MeshNormalMaterial";this.bumpMap=null;this.bumpScale=1;this.normalMap=null;this.normalMapType=0;this.normalScale=new za(1,1);this.displacementMap=null;this.displacementScale=1;this.displacementBias=0;this.wireframe=!1;this.wireframeLinewidth=1;this.flatShading=!1;this.setValues(a)}copy(a){super.copy(a);this.bumpMap=a.bumpMap;this.bumpScale=a.bumpScale;this.normalMap=a.normalMap;this.normalMapType=a.normalMapType;this.normalScale.copy(a.normalScale);
this.displacementMap=a.displacementMap;this.displacementScale=a.displacementScale;this.displacementBias=a.displacementBias;this.wireframe=a.wireframe;this.wireframeLinewidth=a.wireframeLinewidth;this.flatShading=a.flatShading;return this}}class jk extends Fc{constructor(a){super();this.isMeshLambertMaterial=!0;this.type="MeshLambertMaterial";this.color=new gb(16777215);this.lightMap=this.map=null;this.lightMapIntensity=1;this.aoMap=null;this.aoMapIntensity=1;this.emissive=new gb(0);this.emissiveIntensity=
1;this.bumpMap=this.emissiveMap=null;this.bumpScale=1;this.normalMap=null;this.normalMapType=0;this.normalScale=new za(1,1);this.displacementMap=null;this.displacementScale=1;this.displacementBias=0;this.envMap=this.alphaMap=this.specularMap=null;this.combine=0;this.reflectivity=1;this.refractionRatio=.98;this.wireframe=!1;this.wireframeLinewidth=1;this.wireframeLinejoin=this.wireframeLinecap="round";this.flatShading=!1;this.fog=!0;this.setValues(a)}copy(a){super.copy(a);this.color.copy(a.color);
this.map=a.map;this.lightMap=a.lightMap;this.lightMapIntensity=a.lightMapIntensity;this.aoMap=a.aoMap;this.aoMapIntensity=a.aoMapIntensity;this.emissive.copy(a.emissive);this.emissiveMap=a.emissiveMap;this.emissiveIntensity=a.emissiveIntensity;this.bumpMap=a.bumpMap;this.bumpScale=a.bumpScale;this.normalMap=a.normalMap;this.normalMapType=a.normalMapType;this.normalScale.copy(a.normalScale);this.displacementMap=a.displacementMap;this.displacementScale=a.displacementScale;this.displacementBias=a.displacementBias;
this.specularMap=a.specularMap;this.alphaMap=a.alphaMap;this.envMap=a.envMap;this.combine=a.combine;this.reflectivity=a.reflectivity;this.refractionRatio=a.refractionRatio;this.wireframe=a.wireframe;this.wireframeLinewidth=a.wireframeLinewidth;this.wireframeLinecap=a.wireframeLinecap;this.wireframeLinejoin=a.wireframeLinejoin;this.flatShading=a.flatShading;this.fog=a.fog;return this}}class kk extends Fc{constructor(a){super();this.isMeshMatcapMaterial=!0;this.defines={MATCAP:""};this.type="MeshMatcapMaterial";
this.color=new gb(16777215);this.bumpMap=this.map=this.matcap=null;this.bumpScale=1;this.normalMap=null;this.normalMapType=0;this.normalScale=new za(1,1);this.displacementMap=null;this.displacementScale=1;this.displacementBias=0;this.alphaMap=null;this.flatShading=!1;this.fog=!0;this.setValues(a)}copy(a){super.copy(a);this.defines={MATCAP:""};this.color.copy(a.color);this.matcap=a.matcap;this.map=a.map;this.bumpMap=a.bumpMap;this.bumpScale=a.bumpScale;this.normalMap=a.normalMap;this.normalMapType=
a.normalMapType;this.normalScale.copy(a.normalScale);this.displacementMap=a.displacementMap;this.displacementScale=a.displacementScale;this.displacementBias=a.displacementBias;this.alphaMap=a.alphaMap;this.flatShading=a.flatShading;this.fog=a.fog;return this}}class lk extends Kc{constructor(a){super();this.isLineDashedMaterial=!0;this.type="LineDashedMaterial";this.scale=1;this.dashSize=3;this.gapSize=1;this.setValues(a)}copy(a){super.copy(a);this.scale=a.scale;this.dashSize=a.dashSize;this.gapSize=
a.gapSize;return this}}const Ll={arraySlice:Lc,convertArray:xd,isTypedArray:If,getKeyframeOrder:Cg,sortedArray:Jf,flattenJSON:Kf,subclip:function(a,b,d,l,q=30){a=a.clone();a.name=b;b=[];for(let A=0;A<a.tracks.length;++A){const D=a.tracks[A],F=D.getValueSize(),G=[],M=[];for(let N=0;N<D.times.length;++N){var y=D.times[N]*q;if(!(y<d||y>=l))for(G.push(D.times[N]),y=0;y<F;++y)M.push(D.values[N*F+y])}0!==G.length&&(D.times=xd(G,D.times.constructor),D.values=xd(M,D.values.constructor),b.push(D))}a.tracks=
b;d=Infinity;for(l=0;l<a.tracks.length;++l)d>a.tracks[l].times[0]&&(d=a.tracks[l].times[0]);for(l=0;l<a.tracks.length;++l)a.tracks[l].shift(-1*d);a.resetDuration();return a},makeClipAdditive:function(a,b=0,d=a,l=30){0>=l&&(l=30);const q=d.tracks.length;b/=l;for(l=0;l<q;++l){const G=d.tracks[l],M=G.ValueTypeName;if("bool"===M||"string"===M)continue;const N=a.tracks.find(function(S){return S.name===G.name&&S.ValueTypeName===M});if(void 0===N)continue;var y=0,A=G.getValueSize();G.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&
(y=A/3);let P=0;const T=N.getValueSize();N.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(P=T/3);var D=G.times.length-1;if(b<=G.times[0])y=Lc(G.values,y,A-y);else if(b>=G.times[D])D=D*A+y,y=Lc(G.values,D,D+A-y);else{D=G.createInterpolant();var F=y;y=A-y;D.evaluate(b);y=Lc(D.resultBuffer,F,y)}"quaternion"===M&&(new lb).fromArray(y).normalize().conjugate().toArray(y);A=N.times.length;for(D=0;D<A;++D)if(F=D*T+P,"quaternion"===M)lb.multiplyQuaternionsFlat(N.values,F,y,0,N.values,F);else{const S=
T-2*P;for(let L=0;L<S;++L)N.values[F+L]-=y[L]}}a.blendMode=2501;return a}};class cg{constructor(a,b,d,l){this.parameterPositions=a;this._cachedIndex=0;this.resultBuffer=void 0!==l?l:new b.constructor(d);this.sampleValues=b;this.valueSize=d;this.settings=null;this.DefaultSettings_={}}evaluate(a){const b=this.parameterPositions;let d=this._cachedIndex;var l=b[d],q=b[d-1];a:{b:{c:{d:if(!(a<l)){for(var y=d+2;;){if(void 0===l){if(a<q)break d;this._cachedIndex=d=b.length;return this.copySampleValue_(d-
1)}if(d===y)break;q=l;l=b[++d];if(a<l)break b}q=b.length;break c}if(a>=q)break a;else{l=b[1];a<l&&(d=2,q=l);for(y=d-2;;){if(void 0===q)return this._cachedIndex=0,this.copySampleValue_(0);if(d===y)break;l=q;q=b[--d-1];if(a>=q)break b}q=d;d=0}}for(;d<q;)l=d+q>>>1,a<b[l]?q=l:d=l+1;l=b[d];q=b[d-1];if(void 0===q)return this._cachedIndex=0,this.copySampleValue_(0);if(void 0===l)return this._cachedIndex=d=b.length,this.copySampleValue_(d-1)}this._cachedIndex=d;this.intervalChanged_(d,q,l)}return this.interpolate_(d,
q,a,l)}getSettings_(){return this.settings||this.DefaultSettings_}copySampleValue_(a){const b=this.resultBuffer,d=this.sampleValues,l=this.valueSize;a*=l;for(let q=0;q!==l;++q)b[q]=d[a+q];return b}interpolate_(){throw Error("call to abstract method");}intervalChanged_(){}}class mk extends cg{constructor(a,b,d,l){super(a,b,d,l);this._offsetNext=this._weightNext=this._offsetPrev=this._weightPrev=-0;this.DefaultSettings_={endingStart:2400,endingEnd:2400}}intervalChanged_(a,b,d){var l=this.parameterPositions;
let q=a-2,y=a+1,A=l[q],D=l[y];if(void 0===A)switch(this.getSettings_().endingStart){case 2401:q=a;A=2*b-d;break;case 2402:q=l.length-2;A=b+l[q]-l[q+1];break;default:q=a,A=d}if(void 0===D)switch(this.getSettings_().endingEnd){case 2401:y=a;D=2*d-b;break;case 2402:y=1;D=d+l[1]-l[0];break;default:y=a-1,D=b}a=.5*(d-b);l=this.valueSize;this._weightPrev=a/(b-A);this._weightNext=a/(D-d);this._offsetPrev=q*l;this._offsetNext=y*l}interpolate_(a,b,d,l){const q=this.resultBuffer,y=this.sampleValues,A=this.valueSize;
a*=A;const D=a-A,F=this._offsetPrev,G=this._offsetNext;var M=this._weightPrev,N=this._weightNext,P=(d-b)/(l-b);d=P*P;l=d*P;b=-M*l+2*M*d-M*P;M=(1+M)*l+(-1.5-2*M)*d+(-.5+M)*P+1;P=(-1-N)*l+(1.5+N)*d+.5*P;N=N*l-N*d;for(d=0;d!==A;++d)q[d]=b*y[F+d]+M*y[D+d]+P*y[a+d]+N*y[G+d];return q}}class Hi extends cg{constructor(a,b,d,l){super(a,b,d,l)}interpolate_(a,b,d,l){const q=this.resultBuffer,y=this.sampleValues,A=this.valueSize;a*=A;const D=a-A;b=(d-b)/(l-b);d=1-b;for(l=0;l!==A;++l)q[l]=y[D+l]*d+y[a+l]*b;return q}}
class nk extends cg{constructor(a,b,d,l){super(a,b,d,l)}interpolate_(a){return this.copySampleValue_(a-1)}}class ed{constructor(a,b,d,l){if(void 0===a)throw Error("THREE.KeyframeTrack: track name is undefined");if(void 0===b||0===b.length)throw Error("THREE.KeyframeTrack: no keyframes in track named "+a);this.name=a;this.times=xd(b,this.TimeBufferType);this.values=xd(d,this.ValueBufferType);this.setInterpolation(l||this.DefaultInterpolation)}static toJSON(a){var b=a.constructor;if(b.toJSON!==this.toJSON)b=
b.toJSON(a);else{b={name:a.name,times:xd(a.times,Array),values:xd(a.values,Array)};const d=a.getInterpolation();d!==a.DefaultInterpolation&&(b.interpolation=d)}b.type=a.ValueTypeName;return b}InterpolantFactoryMethodDiscrete(a){return new nk(this.times,this.values,this.getValueSize(),a)}InterpolantFactoryMethodLinear(a){return new Hi(this.times,this.values,this.getValueSize(),a)}InterpolantFactoryMethodSmooth(a){return new mk(this.times,this.values,this.getValueSize(),a)}setInterpolation(a){switch(a){case 2300:var b=
this.InterpolantFactoryMethodDiscrete;break;case 2301:b=this.InterpolantFactoryMethodLinear;break;case 2302:b=this.InterpolantFactoryMethodSmooth}if(void 0===b){b="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(void 0===this.createInterpolant)if(a!==this.DefaultInterpolation)this.setInterpolation(this.DefaultInterpolation);else throw Error(b);console.warn("THREE.KeyframeTrack:",b);return this}this.createInterpolant=b;return this}getInterpolation(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return 2300;
case this.InterpolantFactoryMethodLinear:return 2301;case this.InterpolantFactoryMethodSmooth:return 2302}}getValueSize(){return this.values.length/this.times.length}shift(a){if(0!==a){const b=this.times;for(let d=0,l=b.length;d!==l;++d)b[d]+=a}return this}scale(a){if(1!==a){const b=this.times;for(let d=0,l=b.length;d!==l;++d)b[d]*=a}return this}trim(a,b){const d=this.times,l=d.length;let q=0,y=l-1;for(;q!==l&&d[q]<a;)++q;for(;-1!==y&&d[y]>b;)--y;++y;if(0!==q||y!==l)q>=y&&(y=Math.max(y,1),q=y-1),
a=this.getValueSize(),this.times=Lc(d,q,y),this.values=Lc(this.values,q*a,y*a);return this}validate(){let a=!0;var b=this.getValueSize();0!==b-Math.floor(b)&&(console.error("THREE.KeyframeTrack: Invalid value size in track.",this),a=!1);var d=this.times;b=this.values;const l=d.length;0===l&&(console.error("THREE.KeyframeTrack: Track is empty.",this),a=!1);let q=null;for(let y=0;y!==l;y++){const A=d[y];if("number"===typeof A&&isNaN(A)){console.error("THREE.KeyframeTrack: Time is not a valid number.",
this,y,A);a=!1;break}if(null!==q&&q>A){console.error("THREE.KeyframeTrack: Out of order keys.",this,y,A,q);a=!1;break}q=A}if(void 0!==b&&If(b))for(let y=0,A=b.length;y!==A;++y)if(d=b[y],isNaN(d)){console.error("THREE.KeyframeTrack: Value is not a valid number.",this,y,d);a=!1;break}return a}optimize(){const a=Lc(this.times),b=Lc(this.values),d=this.getValueSize(),l=2302===this.getInterpolation(),q=a.length-1;let y=1;for(let G=1;G<q;++G){var A=!1,D=a[G];if(D!==a[G+1]&&(1!==G||D!==a[0]))if(l)A=!0;else{D=
G*d;var F=D-d;const M=D+d;for(let N=0;N!==d;++N){const P=b[D+N];if(P!==b[F+N]||P!==b[M+N]){A=!0;break}}}if(A){if(G!==y)for(a[y]=a[G],A=G*d,D=y*d,F=0;F!==d;++F)b[D+F]=b[A+F];++y}}if(0<q){a[y]=a[q];for(let G=q*d,M=y*d,N=0;N!==d;++N)b[M+N]=b[G+N];++y}y!==a.length?(this.times=Lc(a,0,y),this.values=Lc(b,0,y*d)):(this.times=a,this.values=b);return this}clone(){var a=Lc(this.times,0);const b=Lc(this.values,0);a=new this.constructor(this.name,a,b);a.createInterpolant=this.createInterpolant;return a}}ed.prototype.TimeBufferType=
Float32Array;ed.prototype.ValueBufferType=Float32Array;ed.prototype.DefaultInterpolation=2301;class me extends ed{}me.prototype.ValueTypeName="bool";me.prototype.ValueBufferType=Array;me.prototype.DefaultInterpolation=2300;me.prototype.InterpolantFactoryMethodLinear=void 0;me.prototype.InterpolantFactoryMethodSmooth=void 0;class Xh extends ed{}Xh.prototype.ValueTypeName="color";class Lf extends ed{}Lf.prototype.ValueTypeName="number";class ok extends cg{constructor(a,b,d,l){super(a,b,d,l)}interpolate_(a,
b,d,l){const q=this.resultBuffer,y=this.sampleValues,A=this.valueSize;b=(d-b)/(l-b);a*=A;for(d=a+A;a!==d;a+=4)lb.slerpFlat(q,0,y,a-A,y,a,b);return q}}class Ne extends ed{InterpolantFactoryMethodLinear(a){return new ok(this.times,this.values,this.getValueSize(),a)}}Ne.prototype.ValueTypeName="quaternion";Ne.prototype.DefaultInterpolation=2301;Ne.prototype.InterpolantFactoryMethodSmooth=void 0;class ne extends ed{}ne.prototype.ValueTypeName="string";ne.prototype.ValueBufferType=Array;ne.prototype.DefaultInterpolation=
2300;ne.prototype.InterpolantFactoryMethodLinear=void 0;ne.prototype.InterpolantFactoryMethodSmooth=void 0;class Mf extends ed{}Mf.prototype.ValueTypeName="vector";class dg{constructor(a,b=-1,d,l=2500){this.name=a;this.tracks=d;this.duration=b;this.blendMode=l;this.uuid=p();0>this.duration&&this.resetDuration()}static parse(a){var b=[];const d=a.tracks,l=1/(a.fps||1);for(let D=0,F=d.length;D!==F;++D){var q=b,y=q.push;{var A=d[D];if(void 0===A.type)throw Error("THREE.KeyframeTrack: track type undefined, can not parse");
const G=Wh(A.type);if(void 0===A.times){const M=[],N=[];Kf(A.keys,M,N,"value");A.times=M;A.values=N}A=void 0!==G.parse?G.parse(A):new G(A.name,A.times,A.values,A.interpolation)}y.call(q,A.scale(l))}b=new this(a.name,a.duration,b,a.blendMode);b.uuid=a.uuid;return b}static toJSON(a){const b=[],d=a.tracks;a={name:a.name,duration:a.duration,tracks:b,uuid:a.uuid,blendMode:a.blendMode};for(let l=0,q=d.length;l!==q;++l)b.push(ed.toJSON(d[l]));return a}static CreateFromMorphTargetSequence(a,b,d,l){const q=
b.length,y=[];for(let A=0;A<q;A++){let D=[],F=[];D.push((A+q-1)%q,A,(A+1)%q);F.push(0,1,0);const G=Cg(D);D=Jf(D,1,G);F=Jf(F,1,G);l||0!==D[0]||(D.push(q),F.push(F[0]));y.push((new Lf(".morphTargetInfluences["+b[A].name+"]",D,F)).scale(1/d))}return new this(a,-1,y)}static findByName(a,b){let d=a;Array.isArray(a)||(d=a.geometry&&a.geometry.animations||a.animations);for(a=0;a<d.length;a++)if(d[a].name===b)return d[a];return null}static CreateClipsFromMorphTargetSequences(a,b,d){const l={},q=/^([\w-]*?)([\d]+)$/;
for(let A=0,D=a.length;A<D;A++){const F=a[A];var y=F.name.match(q);if(y&&1<y.length){y=y[1];let G=l[y];G||(l[y]=G=[]);G.push(F)}}a=[];for(const A in l)a.push(this.CreateFromMorphTargetSequence(A,l[A],b,d));return a}static parseAnimation(a,b){if(!a)return console.error("THREE.AnimationClip: No animation in JSONLoader data."),null;const d=function(M,N,P,T,S){if(0!==P.length){const L=[],U=[];Kf(P,L,U,T);0!==L.length&&S.push(new M(N,L,U))}},l=[],q=a.name||"default",y=a.fps||30,A=a.blendMode;var D=a.length||
-1;a=a.hierarchy||[];for(let M=0;M<a.length;M++){const N=a[M].keys;if(N&&0!==N.length)if(N[0].morphTargets){D={};var F=void 0;for(F=0;F<N.length;F++)if(N[F].morphTargets)for(var G=0;G<N[F].morphTargets.length;G++)D[N[F].morphTargets[G]]=-1;for(const P in D){G=[];const T=[];for(let S=0;S!==N[F].morphTargets.length;++S){const L=N[F];G.push(L.time);T.push(L.morphTarget===P?1:0)}l.push(new Lf(".morphTargetInfluence["+P+"]",G,T))}D=D.length*y}else F=".bones["+b[M].name+"]",d(Mf,F+".position",N,"pos",l),
d(Ne,F+".quaternion",N,"rot",l),d(Mf,F+".scale",N,"scl",l)}return 0===l.length?null:new this(q,D,l,A)}resetDuration(){var a=this.tracks;let b=0;for(let d=0,l=a.length;d!==l;++d)a=this.tracks[d],b=Math.max(b,a.times[a.times.length-1]);this.duration=b;return this}trim(){for(let a=0;a<this.tracks.length;a++)this.tracks[a].trim(0,this.duration);return this}validate(){let a=!0;for(let b=0;b<this.tracks.length;b++)a=a&&this.tracks[b].validate();return a}optimize(){for(let a=0;a<this.tracks.length;a++)this.tracks[a].optimize();
return this}clone(){const a=[];for(let b=0;b<this.tracks.length;b++)a.push(this.tracks[b].clone());return new this.constructor(this.name,this.duration,a,this.blendMode)}toJSON(){return this.constructor.toJSON(this)}}const ve={enabled:!1,files:{},add:function(a,b){!1!==this.enabled&&(this.files[a]=b)},get:function(a){if(!1!==this.enabled)return this.files[a]},remove:function(a){delete this.files[a]},clear:function(){this.files={}}};class Ii{constructor(a,b,d){const l=this;let q=!1,y=0,A=0,D=void 0;
const F=[];this.onStart=void 0;this.onLoad=a;this.onProgress=b;this.onError=d;this.itemStart=function(G){A++;if(!1===q&&void 0!==l.onStart)l.onStart(G,y,A);q=!0};this.itemEnd=function(G){y++;if(void 0!==l.onProgress)l.onProgress(G,y,A);if(y===A&&(q=!1,void 0!==l.onLoad))l.onLoad()};this.itemError=function(G){if(void 0!==l.onError)l.onError(G)};this.resolveURL=function(G){return D?D(G):G};this.setURLModifier=function(G){D=G;return this};this.addHandler=function(G,M){F.push(G,M);return this};this.removeHandler=
function(G){G=F.indexOf(G);-1!==G&&F.splice(G,2);return this};this.getHandler=function(G){for(let M=0,N=F.length;M<N;M+=2){const P=F[M],T=F[M+1];P.global&&(P.lastIndex=0);if(P.test(G))return T}return null}}}const pk=new Ii;class Tc{constructor(a){this.manager=void 0!==a?a:pk;this.crossOrigin="anonymous";this.withCredentials=!1;this.resourcePath=this.path="";this.requestHeader={}}load(){}loadAsync(a,b){const d=this;return new Promise(function(l,q){d.load(a,l,b,q)})}parse(){}setCrossOrigin(a){this.crossOrigin=
a;return this}setWithCredentials(a){this.withCredentials=a;return this}setPath(a){this.path=a;return this}setResourcePath(a){this.resourcePath=a;return this}setRequestHeader(a){this.requestHeader=a;return this}}const Ed={};class Ml extends Error{constructor(a,b){super(a);this.response=b}}class Fd extends Tc{constructor(a){super(a)}load(a,b,d,l){void 0===a&&(a="");void 0!==this.path&&(a=this.path+a);a=this.manager.resolveURL(a);const q=ve.get(a);if(void 0!==q)return this.manager.itemStart(a),setTimeout(()=>
{b&&b(q);this.manager.itemEnd(a)},0),q;if(void 0!==Ed[a])Ed[a].push({onLoad:b,onProgress:d,onError:l});else{Ed[a]=[];Ed[a].push({onLoad:b,onProgress:d,onError:l});d=new Request(a,{headers:new Headers(this.requestHeader),credentials:this.withCredentials?"include":"same-origin"});var y=this.mimeType,A=this.responseType;fetch(d).then(D=>{if(200===D.status||0===D.status){0===D.status&&console.warn("THREE.FileLoader: HTTP Status 0 received.");if("undefined"===typeof ReadableStream||void 0===D.body||void 0===
D.body.getReader)return D;const F=Ed[a],G=D.body.getReader(),M=(D=D.headers.get("Content-Length")||D.headers.get("X-File-Size"))?parseInt(D):0,N=0!==M;let P=0;D=new ReadableStream({start(T){function S(){G.read().then(({done:L,value:U})=>{if(L)T.close();else{P+=U.byteLength;L=new ProgressEvent("progress",{lengthComputable:N,loaded:P,total:M});for(let ma=0,ba=F.length;ma<ba;ma++){const na=F[ma];if(na.onProgress)na.onProgress(L)}T.enqueue(U);S()}})}S()}});return new Response(D)}throw new Ml(`fetch for "${D.url}" responded with ${D.status}: ${D.statusText}`,
D);}).then(D=>{switch(A){case "arraybuffer":return D.arrayBuffer();case "blob":return D.blob();case "document":return D.text().then(M=>(new DOMParser).parseFromString(M,y));case "json":return D.json();default:if(void 0===y)return D.text();var F=/charset="?([^;"\s]*)"?/i.exec(y);F=F&&F[1]?F[1].toLowerCase():void 0;const G=new TextDecoder(F);return D.arrayBuffer().then(M=>G.decode(M))}}).then(D=>{ve.add(a,D);const F=Ed[a];delete Ed[a];for(let G=0,M=F.length;G<M;G++){const N=F[G];if(N.onLoad)N.onLoad(D)}}).catch(D=>
{const F=Ed[a];if(void 0===F)throw this.manager.itemError(a),D;delete Ed[a];for(let G=0,M=F.length;G<M;G++){const N=F[G];if(N.onError)N.onError(D)}this.manager.itemError(a)}).finally(()=>{this.manager.itemEnd(a)});this.manager.itemStart(a)}}setResponseType(a){this.responseType=a;return this}setMimeType(a){this.mimeType=a;return this}}class Nl extends Tc{constructor(a){super(a)}load(a,b,d,l){const q=this,y=new Fd(this.manager);y.setPath(this.path);y.setRequestHeader(this.requestHeader);y.setWithCredentials(this.withCredentials);
y.load(a,function(A){try{b(q.parse(JSON.parse(A)))}catch(D){l?l(D):console.error(D),q.manager.itemError(a)}},d,l)}parse(a){const b=[];for(let d=0;d<a.length;d++){const l=dg.parse(a[d]);b.push(l)}return b}}class Ol extends Tc{constructor(a){super(a)}load(a,b,d,l){function q(M){F.load(a[M],function(N){N=y.parse(N,!0);A[M]={width:N.width,height:N.height,format:N.format,mipmaps:N.mipmaps};G+=1;6===G&&(1===N.mipmapCount&&(D.minFilter=1006),D.image=A,D.format=N.format,D.needsUpdate=!0,b&&b(D))},d,l)}const y=
this,A=[],D=new wi,F=new Fd(this.manager);F.setPath(this.path);F.setResponseType("arraybuffer");F.setRequestHeader(this.requestHeader);F.setWithCredentials(y.withCredentials);let G=0;if(Array.isArray(a))for(let M=0,N=a.length;M<N;++M)q(M);else F.load(a,function(M){M=y.parse(M,!0);if(M.isCubemap){const N=M.mipmaps.length/M.mipmapCount;for(let P=0;P<N;P++){A[P]={mipmaps:[]};for(let T=0;T<M.mipmapCount;T++)A[P].mipmaps.push(M.mipmaps[P*M.mipmapCount+T]),A[P].format=M.format,A[P].width=M.width,A[P].height=
M.height}D.image=A}else D.image.width=M.width,D.image.height=M.height,D.mipmaps=M.mipmaps;1===M.mipmapCount&&(D.minFilter=1006);D.format=M.format;D.needsUpdate=!0;b&&b(D)},d,l);return D}}class eg extends Tc{constructor(a){super(a)}load(a,b,d,l){function q(){A();ve.add(a,this);b&&b(this);D.manager.itemEnd(a)}function y(M){A();l&&l(M);D.manager.itemError(a);D.manager.itemEnd(a)}function A(){G.removeEventListener("load",q,!1);G.removeEventListener("error",y,!1)}void 0!==this.path&&(a=this.path+a);a=
this.manager.resolveURL(a);const D=this,F=ve.get(a);if(void 0!==F)return D.manager.itemStart(a),setTimeout(function(){b&&b(F);D.manager.itemEnd(a)},0),F;const G=w("img");G.addEventListener("load",q,!1);G.addEventListener("error",y,!1);"data:"!==a.slice(0,5)&&void 0!==this.crossOrigin&&(G.crossOrigin=this.crossOrigin);D.manager.itemStart(a);G.src=a;return G}}class Pl extends Tc{constructor(a){super(a)}load(a,b,d,l){function q(F){A.load(a[F],function(G){y.images[F]=G;D++;6===D&&(y.needsUpdate=!0,b&&
b(y))},void 0,l)}const y=new Tf,A=new eg(this.manager);A.setCrossOrigin(this.crossOrigin);A.setPath(this.path);let D=0;for(d=0;d<a.length;++d)q(d);return y}}class Ql extends Tc{constructor(a){super(a)}load(a,b,d,l){const q=this,y=new ef,A=new Fd(this.manager);A.setResponseType("arraybuffer");A.setRequestHeader(this.requestHeader);A.setPath(this.path);A.setWithCredentials(q.withCredentials);A.load(a,function(D){if(D=q.parse(D))void 0!==D.image?y.image=D.image:void 0!==D.data&&(y.image.width=D.width,
y.image.height=D.height,y.image.data=D.data),y.wrapS=void 0!==D.wrapS?D.wrapS:1001,y.wrapT=void 0!==D.wrapT?D.wrapT:1001,y.magFilter=void 0!==D.magFilter?D.magFilter:1006,y.minFilter=void 0!==D.minFilter?D.minFilter:1006,y.anisotropy=void 0!==D.anisotropy?D.anisotropy:1,void 0!==D.encoding&&(y.encoding=D.encoding),void 0!==D.flipY&&(y.flipY=D.flipY),void 0!==D.format&&(y.format=D.format),void 0!==D.type&&(y.type=D.type),void 0!==D.mipmaps&&(y.mipmaps=D.mipmaps,y.minFilter=1008),1===D.mipmapCount&&
(y.minFilter=1006),void 0!==D.generateMipmaps&&(y.generateMipmaps=D.generateMipmaps),y.needsUpdate=!0,b&&b(y,D)},d,l);return y}}class Rl extends Tc{constructor(a){super(a)}load(a,b,d,l){const q=new rc,y=new eg(this.manager);y.setCrossOrigin(this.crossOrigin);y.setPath(this.path);y.load(a,function(A){q.image=A;q.needsUpdate=!0;void 0!==b&&b(q)},d,l);return q}}class Yd extends bc{constructor(a,b=1){super();this.isLight=!0;this.type="Light";this.color=new gb(a);this.intensity=b}dispose(){}copy(a,b){super.copy(a,
b);this.color.copy(a.color);this.intensity=a.intensity;return this}toJSON(a){a=super.toJSON(a);a.object.color=this.color.getHex();a.object.intensity=this.intensity;void 0!==this.groundColor&&(a.object.groundColor=this.groundColor.getHex());void 0!==this.distance&&(a.object.distance=this.distance);void 0!==this.angle&&(a.object.angle=this.angle);void 0!==this.decay&&(a.object.decay=this.decay);void 0!==this.penumbra&&(a.object.penumbra=this.penumbra);void 0!==this.shadow&&(a.object.shadow=this.shadow.toJSON());
return a}}class qk extends Yd{constructor(a,b,d){super(a,d);this.isHemisphereLight=!0;this.type="HemisphereLight";this.position.copy(bc.DEFAULT_UP);this.updateMatrix();this.groundColor=new gb(b)}copy(a,b){super.copy(a,b);this.groundColor.copy(a.groundColor);return this}}const Ji=new Fb,rk=new aa,sk=new aa;class Ki{constructor(a){this.camera=a;this.normalBias=this.bias=0;this.radius=1;this.blurSamples=8;this.mapSize=new za(512,512);this.mapPass=this.map=null;this.matrix=new Fb;this.autoUpdate=!0;this.needsUpdate=
!1;this._frustum=new og;this._frameExtents=new za(1,1);this._viewportCount=1;this._viewports=[new cc(0,0,1,1)]}getViewportCount(){return this._viewportCount}getFrustum(){return this._frustum}updateMatrices(a){const b=this.camera,d=this.matrix;rk.setFromMatrixPosition(a.matrixWorld);b.position.copy(rk);sk.setFromMatrixPosition(a.target.matrixWorld);b.lookAt(sk);b.updateMatrixWorld();Ji.multiplyMatrices(b.projectionMatrix,b.matrixWorldInverse);this._frustum.setFromProjectionMatrix(Ji);d.set(.5,0,0,
.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1);d.multiply(Ji)}getViewport(a){return this._viewports[a]}getFrameExtents(){return this._frameExtents}dispose(){this.map&&this.map.dispose();this.mapPass&&this.mapPass.dispose()}copy(a){this.camera=a.camera.clone();this.bias=a.bias;this.radius=a.radius;this.mapSize.copy(a.mapSize);return this}clone(){return(new this.constructor).copy(this)}toJSON(){const a={};0!==this.bias&&(a.bias=this.bias);0!==this.normalBias&&(a.normalBias=this.normalBias);1!==this.radius&&(a.radius=
this.radius);if(512!==this.mapSize.x||512!==this.mapSize.y)a.mapSize=this.mapSize.toArray();a.camera=this.camera.toJSON(!1).object;delete a.camera.matrix;return a}}class Sl extends Ki{constructor(){super(new Dc(50,1,.5,500));this.isSpotLightShadow=!0;this.focus=1}updateMatrices(a){const b=this.camera,d=2*Fa*a.angle*this.focus,l=this.mapSize.width/this.mapSize.height,q=a.distance||b.far;if(d!==b.fov||l!==b.aspect||q!==b.far)b.fov=d,b.aspect=l,b.far=q,b.updateProjectionMatrix();super.updateMatrices(a)}copy(a){super.copy(a);
this.focus=a.focus;return this}}class tk extends Yd{constructor(a,b,d=0,l=Math.PI/3,q=0,y=2){super(a,b);this.isSpotLight=!0;this.type="SpotLight";this.position.copy(bc.DEFAULT_UP);this.updateMatrix();this.target=new bc;this.distance=d;this.angle=l;this.penumbra=q;this.decay=y;this.map=null;this.shadow=new Sl}get power(){return this.intensity*Math.PI}set power(a){this.intensity=a/Math.PI}dispose(){this.shadow.dispose()}copy(a,b){super.copy(a,b);this.distance=a.distance;this.angle=a.angle;this.penumbra=
a.penumbra;this.decay=a.decay;this.target=a.target.clone();this.shadow=a.shadow.clone();return this}}const uk=new Fb,fg=new aa,Li=new aa;class Tl extends Ki{constructor(){super(new Dc(90,1,.5,500));this.isPointLightShadow=!0;this._frameExtents=new za(4,2);this._viewportCount=6;this._viewports=[new cc(2,1,1,1),new cc(0,1,1,1),new cc(3,1,1,1),new cc(1,1,1,1),new cc(3,0,1,1),new cc(1,0,1,1)];this._cubeDirections=[new aa(1,0,0),new aa(-1,0,0),new aa(0,0,1),new aa(0,0,-1),new aa(0,1,0),new aa(0,-1,0)];
this._cubeUps=[new aa(0,1,0),new aa(0,1,0),new aa(0,1,0),new aa(0,1,0),new aa(0,0,1),new aa(0,0,-1)]}updateMatrices(a,b=0){const d=this.camera,l=this.matrix,q=a.distance||d.far;q!==d.far&&(d.far=q,d.updateProjectionMatrix());fg.setFromMatrixPosition(a.matrixWorld);d.position.copy(fg);Li.copy(d.position);Li.add(this._cubeDirections[b]);d.up.copy(this._cubeUps[b]);d.lookAt(Li);d.updateMatrixWorld();l.makeTranslation(-fg.x,-fg.y,-fg.z);uk.multiplyMatrices(d.projectionMatrix,d.matrixWorldInverse);this._frustum.setFromProjectionMatrix(uk)}}
class vk extends Yd{constructor(a,b,d=0,l=2){super(a,b);this.isPointLight=!0;this.type="PointLight";this.distance=d;this.decay=l;this.shadow=new Tl}get power(){return 4*this.intensity*Math.PI}set power(a){this.intensity=a/(4*Math.PI)}dispose(){this.shadow.dispose()}copy(a,b){super.copy(a,b);this.distance=a.distance;this.decay=a.decay;this.shadow=a.shadow.clone();return this}}class Ul extends Ki{constructor(){super(new Ug(-5,5,5,-5,.5,500));this.isDirectionalLightShadow=!0}}class wk extends Yd{constructor(a,
b){super(a,b);this.isDirectionalLight=!0;this.type="DirectionalLight";this.position.copy(bc.DEFAULT_UP);this.updateMatrix();this.target=new bc;this.shadow=new Ul}dispose(){this.shadow.dispose()}copy(a){super.copy(a);this.target=a.target.clone();this.shadow=a.shadow.clone();return this}}class xk extends Yd{constructor(a,b){super(a,b);this.isAmbientLight=!0;this.type="AmbientLight"}}class yk extends Yd{constructor(a,b,d=10,l=10){super(a,b);this.isRectAreaLight=!0;this.type="RectAreaLight";this.width=
d;this.height=l}get power(){return this.intensity*this.width*this.height*Math.PI}set power(a){this.intensity=a/(this.width*this.height*Math.PI)}copy(a){super.copy(a);this.width=a.width;this.height=a.height;return this}toJSON(a){a=super.toJSON(a);a.object.width=this.width;a.object.height=this.height;return a}}class zk{constructor(){this.isSphericalHarmonics3=!0;this.coefficients=[];for(let a=0;9>a;a++)this.coefficients.push(new aa)}set(a){for(let b=0;9>b;b++)this.coefficients[b].copy(a[b]);return this}zero(){for(let a=
0;9>a;a++)this.coefficients[a].set(0,0,0);return this}getAt(a,b){const d=a.x,l=a.y;a=a.z;const q=this.coefficients;b.copy(q[0]).multiplyScalar(.282095);b.addScaledVector(q[1],.488603*l);b.addScaledVector(q[2],.488603*a);b.addScaledVector(q[3],.488603*d);b.addScaledVector(q[4],1.092548*d*l);b.addScaledVector(q[5],1.092548*l*a);b.addScaledVector(q[6],.315392*(3*a*a-1));b.addScaledVector(q[7],1.092548*d*a);b.addScaledVector(q[8],.546274*(d*d-l*l));return b}getIrradianceAt(a,b){const d=a.x,l=a.y;a=a.z;
const q=this.coefficients;b.copy(q[0]).multiplyScalar(.886227);b.addScaledVector(q[1],1.023328*l);b.addScaledVector(q[2],1.023328*a);b.addScaledVector(q[3],1.023328*d);b.addScaledVector(q[4],.858086*d*l);b.addScaledVector(q[5],.858086*l*a);b.addScaledVector(q[6],.743125*a*a-.247708);b.addScaledVector(q[7],.858086*d*a);b.addScaledVector(q[8],.429043*(d*d-l*l));return b}add(a){for(let b=0;9>b;b++)this.coefficients[b].add(a.coefficients[b]);return this}addScaledSH(a,b){for(let d=0;9>d;d++)this.coefficients[d].addScaledVector(a.coefficients[d],
b);return this}scale(a){for(let b=0;9>b;b++)this.coefficients[b].multiplyScalar(a);return this}lerp(a,b){for(let d=0;9>d;d++)this.coefficients[d].lerp(a.coefficients[d],b);return this}equals(a){for(let b=0;9>b;b++)if(!this.coefficients[b].equals(a.coefficients[b]))return!1;return!0}copy(a){return this.set(a.coefficients)}clone(){return(new this.constructor).copy(this)}fromArray(a,b=0){const d=this.coefficients;for(let l=0;9>l;l++)d[l].fromArray(a,b+3*l);return this}toArray(a=[],b=0){const d=this.coefficients;
for(let l=0;9>l;l++)d[l].toArray(a,b+3*l);return a}static getBasisAt(a,b){const d=a.x,l=a.y;a=a.z;b[0]=.282095;b[1]=.488603*l;b[2]=.488603*a;b[3]=.488603*d;b[4]=1.092548*d*l;b[5]=1.092548*l*a;b[6]=.315392*(3*a*a-1);b[7]=1.092548*d*a;b[8]=.546274*(d*d-l*l)}}class sh extends Yd{constructor(a=new zk,b=1){super(void 0,b);this.isLightProbe=!0;this.sh=a}copy(a){super.copy(a);this.sh.copy(a.sh);return this}fromJSON(a){this.intensity=a.intensity;this.sh.fromArray(a.sh);return this}toJSON(a){a=super.toJSON(a);
a.object.sh=this.sh.toArray();return a}}class Mi extends Tc{constructor(a){super(a);this.textures={}}load(a,b,d,l){const q=this,y=new Fd(q.manager);y.setPath(q.path);y.setRequestHeader(q.requestHeader);y.setWithCredentials(q.withCredentials);y.load(a,function(A){try{b(q.parse(JSON.parse(A)))}catch(D){l?l(D):console.error(D),q.manager.itemError(a)}},d,l)}parse(a){function b(y){void 0===d[y]&&console.warn("THREE.MaterialLoader: Undefined texture",y);return d[y]}const d=this.textures,l=Mi.createMaterialFromType(a.type);
void 0!==a.uuid&&(l.uuid=a.uuid);void 0!==a.name&&(l.name=a.name);void 0!==a.color&&void 0!==l.color&&l.color.setHex(a.color);void 0!==a.roughness&&(l.roughness=a.roughness);void 0!==a.metalness&&(l.metalness=a.metalness);void 0!==a.sheen&&(l.sheen=a.sheen);void 0!==a.sheenColor&&(l.sheenColor=(new gb).setHex(a.sheenColor));void 0!==a.sheenRoughness&&(l.sheenRoughness=a.sheenRoughness);void 0!==a.emissive&&void 0!==l.emissive&&l.emissive.setHex(a.emissive);void 0!==a.specular&&void 0!==l.specular&&
l.specular.setHex(a.specular);void 0!==a.specularIntensity&&(l.specularIntensity=a.specularIntensity);void 0!==a.specularColor&&void 0!==l.specularColor&&l.specularColor.setHex(a.specularColor);void 0!==a.shininess&&(l.shininess=a.shininess);void 0!==a.clearcoat&&(l.clearcoat=a.clearcoat);void 0!==a.clearcoatRoughness&&(l.clearcoatRoughness=a.clearcoatRoughness);void 0!==a.iridescence&&(l.iridescence=a.iridescence);void 0!==a.iridescenceIOR&&(l.iridescenceIOR=a.iridescenceIOR);void 0!==a.iridescenceThicknessRange&&
(l.iridescenceThicknessRange=a.iridescenceThicknessRange);void 0!==a.transmission&&(l.transmission=a.transmission);void 0!==a.thickness&&(l.thickness=a.thickness);void 0!==a.attenuationDistance&&(l.attenuationDistance=a.attenuationDistance);void 0!==a.attenuationColor&&void 0!==l.attenuationColor&&l.attenuationColor.setHex(a.attenuationColor);void 0!==a.fog&&(l.fog=a.fog);void 0!==a.flatShading&&(l.flatShading=a.flatShading);void 0!==a.blending&&(l.blending=a.blending);void 0!==a.combine&&(l.combine=
a.combine);void 0!==a.side&&(l.side=a.side);void 0!==a.shadowSide&&(l.shadowSide=a.shadowSide);void 0!==a.opacity&&(l.opacity=a.opacity);void 0!==a.transparent&&(l.transparent=a.transparent);void 0!==a.alphaTest&&(l.alphaTest=a.alphaTest);void 0!==a.depthTest&&(l.depthTest=a.depthTest);void 0!==a.depthWrite&&(l.depthWrite=a.depthWrite);void 0!==a.colorWrite&&(l.colorWrite=a.colorWrite);void 0!==a.stencilWrite&&(l.stencilWrite=a.stencilWrite);void 0!==a.stencilWriteMask&&(l.stencilWriteMask=a.stencilWriteMask);
void 0!==a.stencilFunc&&(l.stencilFunc=a.stencilFunc);void 0!==a.stencilRef&&(l.stencilRef=a.stencilRef);void 0!==a.stencilFuncMask&&(l.stencilFuncMask=a.stencilFuncMask);void 0!==a.stencilFail&&(l.stencilFail=a.stencilFail);void 0!==a.stencilZFail&&(l.stencilZFail=a.stencilZFail);void 0!==a.stencilZPass&&(l.stencilZPass=a.stencilZPass);void 0!==a.wireframe&&(l.wireframe=a.wireframe);void 0!==a.wireframeLinewidth&&(l.wireframeLinewidth=a.wireframeLinewidth);void 0!==a.wireframeLinecap&&(l.wireframeLinecap=
a.wireframeLinecap);void 0!==a.wireframeLinejoin&&(l.wireframeLinejoin=a.wireframeLinejoin);void 0!==a.rotation&&(l.rotation=a.rotation);1!==a.linewidth&&(l.linewidth=a.linewidth);void 0!==a.dashSize&&(l.dashSize=a.dashSize);void 0!==a.gapSize&&(l.gapSize=a.gapSize);void 0!==a.scale&&(l.scale=a.scale);void 0!==a.polygonOffset&&(l.polygonOffset=a.polygonOffset);void 0!==a.polygonOffsetFactor&&(l.polygonOffsetFactor=a.polygonOffsetFactor);void 0!==a.polygonOffsetUnits&&(l.polygonOffsetUnits=a.polygonOffsetUnits);
void 0!==a.dithering&&(l.dithering=a.dithering);void 0!==a.alphaToCoverage&&(l.alphaToCoverage=a.alphaToCoverage);void 0!==a.premultipliedAlpha&&(l.premultipliedAlpha=a.premultipliedAlpha);void 0!==a.forceSinglePass&&(l.forceSinglePass=a.forceSinglePass);void 0!==a.visible&&(l.visible=a.visible);void 0!==a.toneMapped&&(l.toneMapped=a.toneMapped);void 0!==a.userData&&(l.userData=a.userData);void 0!==a.vertexColors&&(l.vertexColors="number"===typeof a.vertexColors?0<a.vertexColors?!0:!1:a.vertexColors);
if(void 0!==a.uniforms)for(var q in a.uniforms){const y=a.uniforms[q];l.uniforms[q]={};switch(y.type){case "t":l.uniforms[q].value=b(y.value);break;case "c":l.uniforms[q].value=(new gb).setHex(y.value);break;case "v2":l.uniforms[q].value=(new za).fromArray(y.value);break;case "v3":l.uniforms[q].value=(new aa).fromArray(y.value);break;case "v4":l.uniforms[q].value=(new cc).fromArray(y.value);break;case "m3":l.uniforms[q].value=(new hb).fromArray(y.value);break;case "m4":l.uniforms[q].value=(new Fb).fromArray(y.value);
break;default:l.uniforms[q].value=y.value}}void 0!==a.defines&&(l.defines=a.defines);void 0!==a.vertexShader&&(l.vertexShader=a.vertexShader);void 0!==a.fragmentShader&&(l.fragmentShader=a.fragmentShader);void 0!==a.glslVersion&&(l.glslVersion=a.glslVersion);if(void 0!==a.extensions)for(const y in a.extensions)l.extensions[y]=a.extensions[y];void 0!==a.size&&(l.size=a.size);void 0!==a.sizeAttenuation&&(l.sizeAttenuation=a.sizeAttenuation);void 0!==a.map&&(l.map=b(a.map));void 0!==a.matcap&&(l.matcap=
b(a.matcap));void 0!==a.alphaMap&&(l.alphaMap=b(a.alphaMap));void 0!==a.bumpMap&&(l.bumpMap=b(a.bumpMap));void 0!==a.bumpScale&&(l.bumpScale=a.bumpScale);void 0!==a.normalMap&&(l.normalMap=b(a.normalMap));void 0!==a.normalMapType&&(l.normalMapType=a.normalMapType);void 0!==a.normalScale&&(q=a.normalScale,!1===Array.isArray(q)&&(q=[q,q]),l.normalScale=(new za).fromArray(q));void 0!==a.displacementMap&&(l.displacementMap=b(a.displacementMap));void 0!==a.displacementScale&&(l.displacementScale=a.displacementScale);
void 0!==a.displacementBias&&(l.displacementBias=a.displacementBias);void 0!==a.roughnessMap&&(l.roughnessMap=b(a.roughnessMap));void 0!==a.metalnessMap&&(l.metalnessMap=b(a.metalnessMap));void 0!==a.emissiveMap&&(l.emissiveMap=b(a.emissiveMap));void 0!==a.emissiveIntensity&&(l.emissiveIntensity=a.emissiveIntensity);void 0!==a.specularMap&&(l.specularMap=b(a.specularMap));void 0!==a.specularIntensityMap&&(l.specularIntensityMap=b(a.specularIntensityMap));void 0!==a.specularColorMap&&(l.specularColorMap=
b(a.specularColorMap));void 0!==a.envMap&&(l.envMap=b(a.envMap));void 0!==a.envMapIntensity&&(l.envMapIntensity=a.envMapIntensity);void 0!==a.reflectivity&&(l.reflectivity=a.reflectivity);void 0!==a.refractionRatio&&(l.refractionRatio=a.refractionRatio);void 0!==a.lightMap&&(l.lightMap=b(a.lightMap));void 0!==a.lightMapIntensity&&(l.lightMapIntensity=a.lightMapIntensity);void 0!==a.aoMap&&(l.aoMap=b(a.aoMap));void 0!==a.aoMapIntensity&&(l.aoMapIntensity=a.aoMapIntensity);void 0!==a.gradientMap&&(l.gradientMap=
b(a.gradientMap));void 0!==a.clearcoatMap&&(l.clearcoatMap=b(a.clearcoatMap));void 0!==a.clearcoatRoughnessMap&&(l.clearcoatRoughnessMap=b(a.clearcoatRoughnessMap));void 0!==a.clearcoatNormalMap&&(l.clearcoatNormalMap=b(a.clearcoatNormalMap));void 0!==a.clearcoatNormalScale&&(l.clearcoatNormalScale=(new za).fromArray(a.clearcoatNormalScale));void 0!==a.iridescenceMap&&(l.iridescenceMap=b(a.iridescenceMap));void 0!==a.iridescenceThicknessMap&&(l.iridescenceThicknessMap=b(a.iridescenceThicknessMap));
void 0!==a.transmissionMap&&(l.transmissionMap=b(a.transmissionMap));void 0!==a.thicknessMap&&(l.thicknessMap=b(a.thicknessMap));void 0!==a.sheenColorMap&&(l.sheenColorMap=b(a.sheenColorMap));void 0!==a.sheenRoughnessMap&&(l.sheenRoughnessMap=b(a.sheenRoughnessMap));return l}setTextures(a){this.textures=a;return this}static createMaterialFromType(a){return new {ShadowMaterial:dk,SpriteMaterial:qi,RawShaderMaterial:ek,ShaderMaterial:fd,PointsMaterial:vi,MeshPhysicalMaterial:fk,MeshStandardMaterial:Gi,
MeshPhongMaterial:gk,MeshToonMaterial:hk,MeshNormalMaterial:ik,MeshLambertMaterial:jk,MeshDepthMaterial:Gh,MeshDistanceMaterial:Hh,MeshBasicMaterial:Vd,MeshMatcapMaterial:kk,LineDashedMaterial:lk,LineBasicMaterial:Kc,Material:Fc}[a]}}class Ni{static decodeText(a){if("undefined"!==typeof TextDecoder)return(new TextDecoder).decode(a);let b="";for(let d=0,l=a.length;d<l;d++)b+=String.fromCharCode(a[d]);try{return decodeURIComponent(escape(b))}catch(d){return b}}static extractUrlBase(a){const b=a.lastIndexOf("/");
return-1===b?"./":a.slice(0,b+1)}static resolveURL(a,b){if("string"!==typeof a||""===a)return"";/^https?:\/\//i.test(b)&&/^\//.test(a)&&(b=b.replace(/(^https?:\/\/[^\/]+).*/i,"$1"));return/^(https?:)?\/\//i.test(a)||/^data:.*,.*$/i.test(a)||/^blob:.*$/i.test(a)?a:b+a}}class Ak extends Kb{constructor(){super();this.isInstancedBufferGeometry=!0;this.type="InstancedBufferGeometry";this.instanceCount=Infinity}copy(a){super.copy(a);this.instanceCount=a.instanceCount;return this}toJSON(){const a=super.toJSON();
a.instanceCount=this.instanceCount;a.isInstancedBufferGeometry=!0;return a}}class Bk extends Tc{constructor(a){super(a)}load(a,b,d,l){const q=this,y=new Fd(q.manager);y.setPath(q.path);y.setRequestHeader(q.requestHeader);y.setWithCredentials(q.withCredentials);y.load(a,function(A){try{b(q.parse(JSON.parse(A)))}catch(D){l?l(D):console.error(D),q.manager.itemError(a)}},d,l)}parse(a){function b(N,P){if(void 0!==d[P])return d[P];const T=N.interleavedBuffers[P];var S=T.buffer;void 0!==l[S]?S=l[S]:(N=(new Uint32Array(N.arrayBuffers[S])).buffer,
S=l[S]=N);S=new xb[T.type](S);S=new Vg(S,T.stride);S.uuid=T.uuid;return d[P]=S}const d={},l={},q=a.isInstancedBufferGeometry?new Ak:new Kb;var y=a.data.index;void 0!==y&&(y=new xb[y.type](y.array),q.setIndex(new fc(y,1)));y=a.data.attributes;for(var A in y){var D=y[A],F=void 0;D.isInterleavedBufferAttribute?(F=b(a.data,D.data),F=new af(F,D.itemSize,D.offset,D.normalized)):(F=new xb[D.type](D.array),F=new (D.isInstancedBufferAttribute?ff:fc)(F,D.itemSize,D.normalized));void 0!==D.name&&(F.name=D.name);
void 0!==D.usage&&F.setUsage(D.usage);void 0!==D.updateRange&&(F.updateRange.offset=D.updateRange.offset,F.updateRange.count=D.updateRange.count);q.setAttribute(A,F)}if(A=a.data.morphAttributes)for(var G in A){y=A[G];D=[];for(let N=0,P=y.length;N<P;N++){F=y[N];var M=void 0;F.isInterleavedBufferAttribute?(M=b(a.data,F.data),M=new af(M,F.itemSize,F.offset,F.normalized)):(M=new xb[F.type](F.array),M=new fc(M,F.itemSize,F.normalized));void 0!==F.name&&(M.name=F.name);D.push(M)}q.morphAttributes[G]=D}a.data.morphTargetsRelative&&
(q.morphTargetsRelative=!0);G=a.data.groups||a.data.drawcalls||a.data.offsets;if(void 0!==G)for(let N=0,P=G.length;N!==P;++N)A=G[N],q.addGroup(A.start,A.count,A.materialIndex);G=a.data.boundingSphere;void 0!==G&&(A=new aa,void 0!==G.center&&A.fromArray(G.center),q.boundingSphere=new se(A,G.radius));a.name&&(q.name=a.name);a.userData&&(q.userData=a.userData);return q}}class Vl extends Tc{constructor(a){super(a)}load(a,b,d,l){const q=this;var y=""===this.path?Ni.extractUrlBase(a):this.path;this.resourcePath=
this.resourcePath||y;y=new Fd(this.manager);y.setPath(this.path);y.setRequestHeader(this.requestHeader);y.setWithCredentials(this.withCredentials);y.load(a,function(A){let D=null;try{D=JSON.parse(A)}catch(F){void 0!==l&&l(F);console.error("THREE:ObjectLoader: Can't parse "+a+".",F.message);return}A=D.metadata;void 0===A||void 0===A.type||"geometry"===A.type.toLowerCase()?(void 0!==l&&l(Error("THREE.ObjectLoader: Can't load "+a)),console.error("THREE.ObjectLoader: Can't load "+a)):q.parse(D,b)},d,
l)}async loadAsync(a,b){var d=""===this.path?Ni.extractUrlBase(a):this.path;this.resourcePath=this.resourcePath||d;d=new Fd(this.manager);d.setPath(this.path);d.setRequestHeader(this.requestHeader);d.setWithCredentials(this.withCredentials);b=await d.loadAsync(a,b);b=JSON.parse(b);d=b.metadata;if(void 0===d||void 0===d.type||"geometry"===d.type.toLowerCase())throw Error("THREE.ObjectLoader: Can't load "+a);return await this.parseAsync(b)}parse(a,b){const d=this.parseAnimations(a.animations);var l=
this.parseShapes(a.shapes);const q=this.parseGeometries(a.geometries,l);l=this.parseImages(a.images,function(){void 0!==b&&b(D)});const y=this.parseTextures(a.textures,l),A=this.parseMaterials(a.materials,y),D=this.parseObject(a.object,q,A,y,d);a=this.parseSkeletons(a.skeletons,D);this.bindSkeletons(D,a);if(void 0!==b){a=!1;for(const F in l)if(l[F].data instanceof HTMLImageElement){a=!0;break}!1===a&&b(D)}return D}async parseAsync(a){var b=this.parseAnimations(a.animations),d=this.parseShapes(a.shapes);
d=this.parseGeometries(a.geometries,d);var l=await this.parseImagesAsync(a.images);l=this.parseTextures(a.textures,l);const q=this.parseMaterials(a.materials,l);b=this.parseObject(a.object,d,q,l,b);a=this.parseSkeletons(a.skeletons,b);this.bindSkeletons(b,a);return b}parseShapes(a){const b={};if(void 0!==a)for(let d=0,l=a.length;d<l;d++){const q=(new ue).fromJSON(a[d]);b[q.uuid]=q}return b}parseSkeletons(a,b){const d={},l={};b.traverse(function(q){q.isBone&&(l[q.uuid]=q)});if(void 0!==a)for(let q=
0,y=a.length;q<y;q++)b=(new ti).fromJSON(a[q],l),d[b.uuid]=b;return d}parseGeometries(a,b){const d={};if(void 0!==a){const l=new Bk;for(let q=0,y=a.length;q<y;q++){let A;const D=a[q];switch(D.type){case "BufferGeometry":case "InstancedBufferGeometry":A=l.parse(D);break;default:D.type in ck?A=ck[D.type].fromJSON(D,b):console.warn(`THREE.ObjectLoader: Unsupported geometry type "${D.type}"`)}A.uuid=D.uuid;void 0!==D.name&&(A.name=D.name);void 0!==D.userData&&(A.userData=D.userData);d[D.uuid]=A}}return d}parseMaterials(a,
b){const d={},l={};if(void 0!==a){const q=new Mi;q.setTextures(b);for(let y=0,A=a.length;y<A;y++)b=a[y],void 0===d[b.uuid]&&(d[b.uuid]=q.parse(b)),l[b.uuid]=d[b.uuid]}return l}parseAnimations(a){const b={};if(void 0!==a)for(let d=0;d<a.length;d++){const l=dg.parse(a[d]);b[l.uuid]=l}return b}parseImages(a,b){function d(F){q.manager.itemStart(F);return A.load(F,function(){q.manager.itemEnd(F)},void 0,function(){q.manager.itemError(F);q.manager.itemEnd(F)})}function l(F){return"string"===typeof F?(F=
/^(\/\/)|([a-z]+:(\/\/)?)/i.test(F)?F:q.resourcePath+F,d(F)):F.data?{data:new xb[F.type](F.data),width:F.width,height:F.height}:null}const q=this,y={};let A;if(void 0!==a&&0<a.length){b=new Ii(b);A=new eg(b);A.setCrossOrigin(this.crossOrigin);for(let F=0,G=a.length;F<G;F++){b=a[F];var D=b.url;if(Array.isArray(D)){const M=[];for(let N=0,P=D.length;N<P;N++){const T=l(D[N]);null!==T&&(T instanceof HTMLImageElement?M.push(T):M.push(new ef(T.data,T.width,T.height)))}y[b.uuid]=new oe(M)}else D=l(b.url),
y[b.uuid]=new oe(D)}}return y}async parseImagesAsync(a){async function b(A){return"string"===typeof A?(A=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(A)?A:d.resourcePath+A,await q.loadAsync(A)):A.data?{data:new xb[A.type](A.data),width:A.width,height:A.height}:null}const d=this,l={};let q;if(void 0!==a&&0<a.length){q=new eg(this.manager);q.setCrossOrigin(this.crossOrigin);for(let A=0,D=a.length;A<D;A++){const F=a[A];var y=F.url;if(Array.isArray(y)){const G=[];for(let M=0,N=y.length;M<N;M++){const P=await b(y[M]);
null!==P&&(P instanceof HTMLImageElement?G.push(P):G.push(new ef(P.data,P.width,P.height)))}l[F.uuid]=new oe(G)}else y=await b(F.url),l[F.uuid]=new oe(y)}}return l}parseTextures(a,b){function d(q,y){if("number"===typeof q)return q;console.warn("THREE.ObjectLoader.parseTexture: Constant should be in numeric form.",q);return y[q]}const l={};if(void 0!==a)for(let q=0,y=a.length;q<y;q++){const A=a[q];void 0===A.image&&console.warn('THREE.ObjectLoader: No "image" specified for',A.uuid);void 0===b[A.image]&&
console.warn("THREE.ObjectLoader: Undefined image",A.image);const D=b[A.image],F=D.data;let G;Array.isArray(F)?(G=new Tf,6===F.length&&(G.needsUpdate=!0)):(G=F&&F.data?new ef:new rc,F&&(G.needsUpdate=!0));G.source=D;G.uuid=A.uuid;void 0!==A.name&&(G.name=A.name);void 0!==A.mapping&&(G.mapping=d(A.mapping,Wl));void 0!==A.offset&&G.offset.fromArray(A.offset);void 0!==A.repeat&&G.repeat.fromArray(A.repeat);void 0!==A.center&&G.center.fromArray(A.center);void 0!==A.rotation&&(G.rotation=A.rotation);void 0!==
A.wrap&&(G.wrapS=d(A.wrap[0],Ck),G.wrapT=d(A.wrap[1],Ck));void 0!==A.format&&(G.format=A.format);void 0!==A.internalFormat&&(G.internalFormat=A.internalFormat);void 0!==A.type&&(G.type=A.type);void 0!==A.encoding&&(G.encoding=A.encoding);void 0!==A.minFilter&&(G.minFilter=d(A.minFilter,Dk));void 0!==A.magFilter&&(G.magFilter=d(A.magFilter,Dk));void 0!==A.anisotropy&&(G.anisotropy=A.anisotropy);void 0!==A.flipY&&(G.flipY=A.flipY);void 0!==A.generateMipmaps&&(G.generateMipmaps=A.generateMipmaps);void 0!==
A.premultiplyAlpha&&(G.premultiplyAlpha=A.premultiplyAlpha);void 0!==A.unpackAlignment&&(G.unpackAlignment=A.unpackAlignment);void 0!==A.userData&&(G.userData=A.userData);l[A.uuid]=G}return l}parseObject(a,b,d,l,q){function y(P){void 0===b[P]&&console.warn("THREE.ObjectLoader: Undefined geometry",P);return b[P]}function A(P){if(void 0!==P){if(Array.isArray(P)){const T=[];for(let S=0,L=P.length;S<L;S++){const U=P[S];void 0===d[U]&&console.warn("THREE.ObjectLoader: Undefined material",U);T.push(d[U])}return T}void 0===
d[P]&&console.warn("THREE.ObjectLoader: Undefined material",P);return d[P]}}function D(P){void 0===l[P]&&console.warn("THREE.ObjectLoader: Undefined texture",P);return l[P]}let F;switch(a.type){case "Scene":var G=new yj;void 0!==a.background&&(Number.isInteger(a.background)?G.background=new gb(a.background):G.background=D(a.background));void 0!==a.environment&&(G.environment=D(a.environment));void 0!==a.fog&&("Fog"===a.fog.type?G.fog=new pi(a.fog.color,a.fog.near,a.fog.far):"FogExp2"===a.fog.type&&
(G.fog=new oi(a.fog.color,a.fog.density)));void 0!==a.backgroundBlurriness&&(G.backgroundBlurriness=a.backgroundBlurriness);void 0!==a.backgroundIntensity&&(G.backgroundIntensity=a.backgroundIntensity);break;case "PerspectiveCamera":G=new Dc(a.fov,a.aspect,a.near,a.far);void 0!==a.focus&&(G.focus=a.focus);void 0!==a.zoom&&(G.zoom=a.zoom);void 0!==a.filmGauge&&(G.filmGauge=a.filmGauge);void 0!==a.filmOffset&&(G.filmOffset=a.filmOffset);void 0!==a.view&&(G.view=Object.assign({},a.view));break;case "OrthographicCamera":G=
new Ug(a.left,a.right,a.top,a.bottom,a.near,a.far);void 0!==a.zoom&&(G.zoom=a.zoom);void 0!==a.view&&(G.view=Object.assign({},a.view));break;case "AmbientLight":G=new xk(a.color,a.intensity);break;case "DirectionalLight":G=new wk(a.color,a.intensity);break;case "PointLight":G=new vk(a.color,a.intensity,a.distance,a.decay);break;case "RectAreaLight":G=new yk(a.color,a.intensity,a.width,a.height);break;case "SpotLight":G=new tk(a.color,a.intensity,a.distance,a.angle,a.penumbra,a.decay);break;case "HemisphereLight":G=
new qk(a.color,a.groundColor,a.intensity);break;case "LightProbe":G=(new sh).fromJSON(a);break;case "SkinnedMesh":G=y(a.geometry);F=A(a.material);G=new Ij(G,F);void 0!==a.bindMode&&(G.bindMode=a.bindMode);void 0!==a.bindMatrix&&G.bindMatrix.fromArray(a.bindMatrix);void 0!==a.skeleton&&(G.skeleton=a.skeleton);break;case "Mesh":G=y(a.geometry);F=A(a.material);G=new xc(G,F);break;case "InstancedMesh":G=y(a.geometry);F=A(a.material);var M=a.instanceMatrix,N=a.instanceColor;G=new Mj(G,F,a.count);G.instanceMatrix=
new ff(new Float32Array(M.array),16);void 0!==N&&(G.instanceColor=new ff(new Float32Array(N.array),N.itemSize));break;case "LOD":G=new Dj;break;case "Line":G=new Wd(y(a.geometry),A(a.material));break;case "LineLoop":G=new Sj(y(a.geometry),A(a.material));break;case "LineSegments":G=new od(y(a.geometry),A(a.material));break;case "PointCloud":case "Points":G=new Uj(y(a.geometry),A(a.material));break;case "Sprite":G=new Bj(A(a.material));break;case "Group":G=new $e;break;case "Bone":G=new si;break;default:G=
new bc}G.uuid=a.uuid;void 0!==a.name&&(G.name=a.name);void 0!==a.matrix?(G.matrix.fromArray(a.matrix),void 0!==a.matrixAutoUpdate&&(G.matrixAutoUpdate=a.matrixAutoUpdate),G.matrixAutoUpdate&&G.matrix.decompose(G.position,G.quaternion,G.scale)):(void 0!==a.position&&G.position.fromArray(a.position),void 0!==a.rotation&&G.rotation.fromArray(a.rotation),void 0!==a.quaternion&&G.quaternion.fromArray(a.quaternion),void 0!==a.scale&&G.scale.fromArray(a.scale));void 0!==a.castShadow&&(G.castShadow=a.castShadow);
void 0!==a.receiveShadow&&(G.receiveShadow=a.receiveShadow);a.shadow&&(void 0!==a.shadow.bias&&(G.shadow.bias=a.shadow.bias),void 0!==a.shadow.normalBias&&(G.shadow.normalBias=a.shadow.normalBias),void 0!==a.shadow.radius&&(G.shadow.radius=a.shadow.radius),void 0!==a.shadow.mapSize&&G.shadow.mapSize.fromArray(a.shadow.mapSize),void 0!==a.shadow.camera&&(G.shadow.camera=this.parseObject(a.shadow.camera)));void 0!==a.visible&&(G.visible=a.visible);void 0!==a.frustumCulled&&(G.frustumCulled=a.frustumCulled);
void 0!==a.renderOrder&&(G.renderOrder=a.renderOrder);void 0!==a.userData&&(G.userData=a.userData);void 0!==a.layers&&(G.layers.mask=a.layers);if(void 0!==a.children)for(M=a.children,N=0;N<M.length;N++)G.add(this.parseObject(M[N],b,d,l,q));if(void 0!==a.animations)for(M=a.animations,N=0;N<M.length;N++)G.animations.push(q[M[N]]);if("LOD"===a.type)for(void 0!==a.autoUpdate&&(G.autoUpdate=a.autoUpdate),a=a.levels,q=0;q<a.length;q++)M=a[q],N=G.getObjectByProperty("uuid",M.object),void 0!==N&&G.addLevel(N,
M.distance,M.hysteresis);return G}bindSkeletons(a,b){0!==Object.keys(b).length&&a.traverse(function(d){if(!0===d.isSkinnedMesh&&void 0!==d.skeleton){const l=b[d.skeleton];void 0===l?console.warn("THREE.ObjectLoader: No skeleton found with UUID:",d.skeleton):d.bind(l,d.bindMatrix)}})}}const Wl={UVMapping:300,CubeReflectionMapping:301,CubeRefractionMapping:302,EquirectangularReflectionMapping:303,EquirectangularRefractionMapping:304,CubeUVReflectionMapping:306},Ck={RepeatWrapping:1E3,ClampToEdgeWrapping:1001,
MirroredRepeatWrapping:1002},Dk={NearestFilter:1003,NearestMipmapNearestFilter:1004,NearestMipmapLinearFilter:1005,LinearFilter:1006,LinearMipmapNearestFilter:1007,LinearMipmapLinearFilter:1008};class Xl extends Tc{constructor(a){super(a);this.isImageBitmapLoader=!0;"undefined"===typeof createImageBitmap&&console.warn("THREE.ImageBitmapLoader: createImageBitmap() not supported.");"undefined"===typeof fetch&&console.warn("THREE.ImageBitmapLoader: fetch() not supported.");this.options={premultiplyAlpha:"none"}}setOptions(a){this.options=
a;return this}load(a,b,d,l){void 0===a&&(a="");void 0!==this.path&&(a=this.path+a);a=this.manager.resolveURL(a);const q=this,y=ve.get(a);if(void 0!==y)return q.manager.itemStart(a),setTimeout(function(){b&&b(y);q.manager.itemEnd(a)},0),y;d={};d.credentials="anonymous"===this.crossOrigin?"same-origin":"include";d.headers=this.requestHeader;fetch(a,d).then(function(A){return A.blob()}).then(function(A){return createImageBitmap(A,Object.assign(q.options,{colorSpaceConversion:"none"}))}).then(function(A){ve.add(a,
A);b&&b(A);q.manager.itemEnd(a)}).catch(function(A){l&&l(A);q.manager.itemError(a);q.manager.itemEnd(a)});q.manager.itemStart(a)}}let th;class Oi{static getContext(){void 0===th&&(th=new (window.AudioContext||window.webkitAudioContext));return th}static setContext(a){th=a}}class Yl extends Tc{constructor(a){super(a)}load(a,b,d,l){const q=this,y=new Fd(this.manager);y.setResponseType("arraybuffer");y.setPath(this.path);y.setRequestHeader(this.requestHeader);y.setWithCredentials(this.withCredentials);
y.load(a,function(A){try{const D=A.slice(0);Oi.getContext().decodeAudioData(D,function(F){b(F)})}catch(D){l?l(D):console.error(D),q.manager.itemError(a)}},d,l)}}class Zl extends sh{constructor(a,b,d=1){super(void 0,d);this.isHemisphereLightProbe=!0;a=(new gb).set(a);d=(new gb).set(b);b=new aa(a.r,a.g,a.b);a=new aa(d.r,d.g,d.b);d=Math.sqrt(Math.PI);const l=d*Math.sqrt(.75);this.sh.coefficients[0].copy(b).add(a).multiplyScalar(d);this.sh.coefficients[1].copy(b).sub(a).multiplyScalar(l)}}class $l extends sh{constructor(a,
b=1){super(void 0,b);this.isAmbientLightProbe=!0;a=(new gb).set(a);this.sh.coefficients[0].set(a.r,a.g,a.b).multiplyScalar(2*Math.sqrt(Math.PI))}}const Ek=new Fb,Fk=new Fb,we=new Fb;class am{constructor(){this.type="StereoCamera";this.aspect=1;this.eyeSep=.064;this.cameraL=new Dc;this.cameraL.layers.enable(1);this.cameraL.matrixAutoUpdate=!1;this.cameraR=new Dc;this.cameraR.layers.enable(2);this.cameraR.matrixAutoUpdate=!1;this._cache={focus:null,fov:null,aspect:null,near:null,far:null,zoom:null,
eyeSep:null}}update(a){const b=this._cache;if(b.focus!==a.focus||b.fov!==a.fov||b.aspect!==a.aspect*this.aspect||b.near!==a.near||b.far!==a.far||b.zoom!==a.zoom||b.eyeSep!==this.eyeSep){b.focus=a.focus;b.fov=a.fov;b.aspect=a.aspect*this.aspect;b.near=a.near;b.far=a.far;b.zoom=a.zoom;b.eyeSep=this.eyeSep;we.copy(a.projectionMatrix);var d=b.eyeSep/2;const l=d*b.near/b.focus,q=b.near*Math.tan(qa*b.fov*.5)/b.zoom;let y;Fk.elements[12]=-d;Ek.elements[12]=d;d=-q*b.aspect+l;y=q*b.aspect+l;we.elements[0]=
2*b.near/(y-d);we.elements[8]=(y+d)/(y-d);this.cameraL.projectionMatrix.copy(we);d=-q*b.aspect-l;y=q*b.aspect-l;we.elements[0]=2*b.near/(y-d);we.elements[8]=(y+d)/(y-d);this.cameraR.projectionMatrix.copy(we)}this.cameraL.matrixWorld.copy(a.matrixWorld).multiply(Fk);this.cameraR.matrixWorld.copy(a.matrixWorld).multiply(Ek)}}class Gk{constructor(a=!0){this.autoStart=a;this.elapsedTime=this.oldTime=this.startTime=0;this.running=!1}start(){this.oldTime=this.startTime=Dg();this.elapsedTime=0;this.running=
!0}stop(){this.getElapsedTime();this.autoStart=this.running=!1}getElapsedTime(){this.getDelta();return this.elapsedTime}getDelta(){let a=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){const b=Dg();a=(b-this.oldTime)/1E3;this.oldTime=b;this.elapsedTime+=a}return a}}const xe=new aa,Hk=new lb,bm=new aa,ye=new aa;class cm extends bc{constructor(){super();this.type="AudioListener";this.context=Oi.getContext();this.gain=this.context.createGain();this.gain.connect(this.context.destination);
this.filter=null;this.timeDelta=0;this._clock=new Gk}getInput(){return this.gain}removeFilter(){null!==this.filter&&(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination),this.gain.connect(this.context.destination),this.filter=null);return this}getFilter(){return this.filter}setFilter(a){null!==this.filter?(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination)):this.gain.disconnect(this.context.destination);this.filter=a;this.gain.connect(this.filter);
this.filter.connect(this.context.destination);return this}getMasterVolume(){return this.gain.gain.value}setMasterVolume(a){this.gain.gain.setTargetAtTime(a,this.context.currentTime,.01);return this}updateMatrixWorld(a){super.updateMatrixWorld(a);a=this.context.listener;const b=this.up;this.timeDelta=this._clock.getDelta();this.matrixWorld.decompose(xe,Hk,bm);ye.set(0,0,-1).applyQuaternion(Hk);if(a.positionX){const d=this.context.currentTime+this.timeDelta;a.positionX.linearRampToValueAtTime(xe.x,
d);a.positionY.linearRampToValueAtTime(xe.y,d);a.positionZ.linearRampToValueAtTime(xe.z,d);a.forwardX.linearRampToValueAtTime(ye.x,d);a.forwardY.linearRampToValueAtTime(ye.y,d);a.forwardZ.linearRampToValueAtTime(ye.z,d);a.upX.linearRampToValueAtTime(b.x,d);a.upY.linearRampToValueAtTime(b.y,d);a.upZ.linearRampToValueAtTime(b.z,d)}else a.setPosition(xe.x,xe.y,xe.z),a.setOrientation(ye.x,ye.y,ye.z,b.x,b.y,b.z)}}class Ik extends bc{constructor(a){super();this.type="Audio";this.listener=a;this.context=
a.context;this.gain=this.context.createGain();this.gain.connect(a.getInput());this.autoplay=!1;this.buffer=null;this.detune=0;this.loop=!1;this.offset=this.loopEnd=this.loopStart=0;this.duration=void 0;this.playbackRate=1;this.isPlaying=!1;this.hasPlaybackControl=!0;this.source=null;this.sourceType="empty";this._progress=this._startedAt=0;this._connected=!1;this.filters=[]}getOutput(){return this.gain}setNodeSource(a){this.hasPlaybackControl=!1;this.sourceType="audioNode";this.source=a;this.connect();
return this}setMediaElementSource(a){this.hasPlaybackControl=!1;this.sourceType="mediaNode";this.source=this.context.createMediaElementSource(a);this.connect();return this}setMediaStreamSource(a){this.hasPlaybackControl=!1;this.sourceType="mediaStreamNode";this.source=this.context.createMediaStreamSource(a);this.connect();return this}setBuffer(a){this.buffer=a;this.sourceType="buffer";this.autoplay&&this.play();return this}play(a=0){if(!0===this.isPlaying)console.warn("THREE.Audio: Audio is already playing.");
else if(!1===this.hasPlaybackControl)console.warn("THREE.Audio: this Audio has no playback control.");else return this._startedAt=this.context.currentTime+a,a=this.context.createBufferSource(),a.buffer=this.buffer,a.loop=this.loop,a.loopStart=this.loopStart,a.loopEnd=this.loopEnd,a.onended=this.onEnded.bind(this),a.start(this._startedAt,this._progress+this.offset,this.duration),this.isPlaying=!0,this.source=a,this.setDetune(this.detune),this.setPlaybackRate(this.playbackRate),this.connect()}pause(){if(!1===
this.hasPlaybackControl)console.warn("THREE.Audio: this Audio has no playback control.");else return!0===this.isPlaying&&(this._progress+=Math.max(this.context.currentTime-this._startedAt,0)*this.playbackRate,!0===this.loop&&(this._progress%=this.duration||this.buffer.duration),this.source.stop(),this.source.onended=null,this.isPlaying=!1),this}stop(){if(!1===this.hasPlaybackControl)console.warn("THREE.Audio: this Audio has no playback control.");else return this._progress=0,null!==this.source&&(this.source.stop(),
this.source.onended=null),this.isPlaying=!1,this}connect(){if(0<this.filters.length){this.source.connect(this.filters[0]);for(let a=1,b=this.filters.length;a<b;a++)this.filters[a-1].connect(this.filters[a]);this.filters[this.filters.length-1].connect(this.getOutput())}else this.source.connect(this.getOutput());this._connected=!0;return this}disconnect(){if(0<this.filters.length){this.source.disconnect(this.filters[0]);for(let a=1,b=this.filters.length;a<b;a++)this.filters[a-1].disconnect(this.filters[a]);
this.filters[this.filters.length-1].disconnect(this.getOutput())}else this.source.disconnect(this.getOutput());this._connected=!1;return this}getFilters(){return this.filters}setFilters(a){a||(a=[]);!0===this._connected?(this.disconnect(),this.filters=a.slice(),this.connect()):this.filters=a.slice();return this}setDetune(a){this.detune=a;if(void 0!==this.source.detune)return!0===this.isPlaying&&this.source.detune.setTargetAtTime(this.detune,this.context.currentTime,.01),this}getDetune(){return this.detune}getFilter(){return this.getFilters()[0]}setFilter(a){return this.setFilters(a?
[a]:[])}setPlaybackRate(a){if(!1===this.hasPlaybackControl)console.warn("THREE.Audio: this Audio has no playback control.");else return this.playbackRate=a,!0===this.isPlaying&&this.source.playbackRate.setTargetAtTime(this.playbackRate,this.context.currentTime,.01),this}getPlaybackRate(){return this.playbackRate}onEnded(){this.isPlaying=!1}getLoop(){return!1===this.hasPlaybackControl?(console.warn("THREE.Audio: this Audio has no playback control."),!1):this.loop}setLoop(a){if(!1===this.hasPlaybackControl)console.warn("THREE.Audio: this Audio has no playback control.");
else return this.loop=a,!0===this.isPlaying&&(this.source.loop=this.loop),this}setLoopStart(a){this.loopStart=a;return this}setLoopEnd(a){this.loopEnd=a;return this}getVolume(){return this.gain.gain.value}setVolume(a){this.gain.gain.setTargetAtTime(a,this.context.currentTime,.01);return this}}const ze=new aa,Jk=new lb,dm=new aa,Ae=new aa;class em extends Ik{constructor(a){super(a);this.panner=this.context.createPanner();this.panner.panningModel="HRTF";this.panner.connect(this.gain)}disconnect(){super.disconnect();
this.panner.disconnect(this.gain)}getOutput(){return this.panner}getRefDistance(){return this.panner.refDistance}setRefDistance(a){this.panner.refDistance=a;return this}getRolloffFactor(){return this.panner.rolloffFactor}setRolloffFactor(a){this.panner.rolloffFactor=a;return this}getDistanceModel(){return this.panner.distanceModel}setDistanceModel(a){this.panner.distanceModel=a;return this}getMaxDistance(){return this.panner.maxDistance}setMaxDistance(a){this.panner.maxDistance=a;return this}setDirectionalCone(a,
b,d){this.panner.coneInnerAngle=a;this.panner.coneOuterAngle=b;this.panner.coneOuterGain=d;return this}updateMatrixWorld(a){super.updateMatrixWorld(a);if(!0!==this.hasPlaybackControl||!1!==this.isPlaying)if(this.matrixWorld.decompose(ze,Jk,dm),Ae.set(0,0,1).applyQuaternion(Jk),a=this.panner,a.positionX){const b=this.context.currentTime+this.listener.timeDelta;a.positionX.linearRampToValueAtTime(ze.x,b);a.positionY.linearRampToValueAtTime(ze.y,b);a.positionZ.linearRampToValueAtTime(ze.z,b);a.orientationX.linearRampToValueAtTime(Ae.x,
b);a.orientationY.linearRampToValueAtTime(Ae.y,b);a.orientationZ.linearRampToValueAtTime(Ae.z,b)}else a.setPosition(ze.x,ze.y,ze.z),a.setOrientation(Ae.x,Ae.y,Ae.z)}}class fm{constructor(a,b=2048){this.analyser=a.context.createAnalyser();this.analyser.fftSize=b;this.data=new Uint8Array(this.analyser.frequencyBinCount);a.getOutput().connect(this.analyser)}getFrequencyData(){this.analyser.getByteFrequencyData(this.data);return this.data}getAverageFrequency(){let a=0;const b=this.getFrequencyData();
for(let d=0;d<b.length;d++)a+=b[d];return a/b.length}}class Kk{constructor(a,b,d){this.binding=a;this.valueSize=d;let l;switch(b){case "quaternion":a=this._slerp;b=this._slerpAdditive;l=this._setAdditiveIdentityQuaternion;this.buffer=new Float64Array(6*d);this._workIndex=5;break;case "string":case "bool":b=a=this._select;l=this._setAdditiveIdentityOther;this.buffer=Array(5*d);break;default:a=this._lerp,b=this._lerpAdditive,l=this._setAdditiveIdentityNumeric,this.buffer=new Float64Array(5*d)}this._mixBufferRegion=
a;this._mixBufferRegionAdditive=b;this._setIdentity=l;this._origIndex=3;this._addIndex=4;this.referenceCount=this.useCount=this.cumulativeWeightAdditive=this.cumulativeWeight=0}accumulate(a,b){const d=this.buffer,l=this.valueSize;a=a*l+l;var q=this.cumulativeWeight;if(0===q){for(q=0;q!==l;++q)d[a+q]=d[q];q=b}else q+=b,this._mixBufferRegion(d,a,0,b/q,l);this.cumulativeWeight=q}accumulateAdditive(a){const b=this.buffer,d=this.valueSize,l=d*this._addIndex;0===this.cumulativeWeightAdditive&&this._setIdentity();
this._mixBufferRegionAdditive(b,l,0,a,d);this.cumulativeWeightAdditive+=a}apply(a){const b=this.valueSize,d=this.buffer;a=a*b+b;const l=this.cumulativeWeight,q=this.cumulativeWeightAdditive,y=this.binding;this.cumulativeWeightAdditive=this.cumulativeWeight=0;1>l&&this._mixBufferRegion(d,a,b*this._origIndex,1-l,b);0<q&&this._mixBufferRegionAdditive(d,a,this._addIndex*b,1,b);for(let A=b,D=b+b;A!==D;++A)if(d[A]!==d[A+b]){y.setValue(d,a);break}}saveOriginalState(){const a=this.buffer,b=this.valueSize,
d=b*this._origIndex;this.binding.getValue(a,d);for(let l=b,q=d;l!==q;++l)a[l]=a[d+l%b];this._setIdentity();this.cumulativeWeightAdditive=this.cumulativeWeight=0}restoreOriginalState(){this.binding.setValue(this.buffer,3*this.valueSize)}_setAdditiveIdentityNumeric(){var a=this._addIndex*this.valueSize;const b=a+this.valueSize;for(;a<b;a++)this.buffer[a]=0}_setAdditiveIdentityQuaternion(){this._setAdditiveIdentityNumeric();this.buffer[this._addIndex*this.valueSize+3]=1}_setAdditiveIdentityOther(){const a=
this._origIndex*this.valueSize,b=this._addIndex*this.valueSize;for(let d=0;d<this.valueSize;d++)this.buffer[b+d]=this.buffer[a+d]}_select(a,b,d,l,q){if(.5<=l)for(l=0;l!==q;++l)a[b+l]=a[d+l]}_slerp(a,b,d,l){lb.slerpFlat(a,b,a,b,a,d,l)}_slerpAdditive(a,b,d,l,q){q*=this._workIndex;lb.multiplyQuaternionsFlat(a,q,a,b,a,d);lb.slerpFlat(a,b,a,b,a,q,l)}_lerp(a,b,d,l,q){const y=1-l;for(let A=0;A!==q;++A){const D=b+A;a[D]=a[D]*y+a[d+A]*l}}_lerpAdditive(a,b,d,l,q){for(let y=0;y!==q;++y){const A=b+y;a[A]+=a[d+
y]*l}}}const gm=RegExp("[\\[\\]\\.:\\/]","g"),hm=/((?:WC+[\/:])*)/.source.replace("WC","[^\\[\\]\\.:\\/]"),im=/(WCOD+)?/.source.replace("WCOD","[^\\[\\]:\\/]"),jm=/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC","[^\\[\\]\\.:\\/]"),km=/\.(WC+)(?:\[(.+)\])?/.source.replace("WC","[^\\[\\]\\.:\\/]"),lm=new RegExp("^"+hm+im+jm+km+"$"),mm=["material","materials","bones","map"];class nm{constructor(a,b,d){d=d||$b.parseTrackName(b);this._targetGroup=a;this._bindings=a.subscribe_(b,d)}getValue(a,b){this.bind();
const d=this._bindings[this._targetGroup.nCachedObjects_];void 0!==d&&d.getValue(a,b)}setValue(a,b){const d=this._bindings;for(let l=this._targetGroup.nCachedObjects_,q=d.length;l!==q;++l)d[l].setValue(a,b)}bind(){const a=this._bindings;for(let b=this._targetGroup.nCachedObjects_,d=a.length;b!==d;++b)a[b].bind()}unbind(){const a=this._bindings;for(let b=this._targetGroup.nCachedObjects_,d=a.length;b!==d;++b)a[b].unbind()}}class $b{constructor(a,b,d){this.path=b;this.parsedPath=d||$b.parseTrackName(b);
this.node=$b.findNode(a,this.parsedPath.nodeName);this.rootNode=a;this.getValue=this._getValue_unbound;this.setValue=this._setValue_unbound}static create(a,b,d){return a&&a.isAnimationObjectGroup?new $b.Composite(a,b,d):new $b(a,b,d)}static sanitizeNodeName(a){return a.replace(/\s/g,"_").replace(gm,"")}static parseTrackName(a){var b=lm.exec(a);if(null===b)throw Error("PropertyBinding: Cannot parse trackName: "+a);b={nodeName:b[2],objectName:b[3],objectIndex:b[4],propertyName:b[5],propertyIndex:b[6]};
const d=b.nodeName&&b.nodeName.lastIndexOf(".");if(void 0!==d&&-1!==d){const l=b.nodeName.substring(d+1);-1!==mm.indexOf(l)&&(b.nodeName=b.nodeName.substring(0,d),b.objectName=l)}if(null===b.propertyName||0===b.propertyName.length)throw Error("PropertyBinding: can not parse propertyName from trackName: "+a);return b}static findNode(a,b){if(void 0===b||""===b||"."===b||-1===b||b===a.name||b===a.uuid)return a;if(a.skeleton){const d=a.skeleton.getBoneByName(b);if(void 0!==d)return d}if(a.children){const d=
function(l){for(let y=0;y<l.length;y++){var q=l[y];if(q.name===b||q.uuid===b||(q=d(q.children)))return q}return null};if(a=d(a.children))return a}return null}_getValue_unavailable(){}_setValue_unavailable(){}_getValue_direct(a,b){a[b]=this.targetObject[this.propertyName]}_getValue_array(a,b){const d=this.resolvedProperty;for(let l=0,q=d.length;l!==q;++l)a[b++]=d[l]}_getValue_arrayElement(a,b){a[b]=this.resolvedProperty[this.propertyIndex]}_getValue_toArray(a,b){this.resolvedProperty.toArray(a,b)}_setValue_direct(a,
b){this.targetObject[this.propertyName]=a[b]}_setValue_direct_setNeedsUpdate(a,b){this.targetObject[this.propertyName]=a[b];this.targetObject.needsUpdate=!0}_setValue_direct_setMatrixWorldNeedsUpdate(a,b){this.targetObject[this.propertyName]=a[b];this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_array(a,b){const d=this.resolvedProperty;for(let l=0,q=d.length;l!==q;++l)d[l]=a[b++]}_setValue_array_setNeedsUpdate(a,b){const d=this.resolvedProperty;for(let l=0,q=d.length;l!==q;++l)d[l]=a[b++];this.targetObject.needsUpdate=
!0}_setValue_array_setMatrixWorldNeedsUpdate(a,b){const d=this.resolvedProperty;for(let l=0,q=d.length;l!==q;++l)d[l]=a[b++];this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_arrayElement(a,b){this.resolvedProperty[this.propertyIndex]=a[b]}_setValue_arrayElement_setNeedsUpdate(a,b){this.resolvedProperty[this.propertyIndex]=a[b];this.targetObject.needsUpdate=!0}_setValue_arrayElement_setMatrixWorldNeedsUpdate(a,b){this.resolvedProperty[this.propertyIndex]=a[b];this.targetObject.matrixWorldNeedsUpdate=
!0}_setValue_fromArray(a,b){this.resolvedProperty.fromArray(a,b)}_setValue_fromArray_setNeedsUpdate(a,b){this.resolvedProperty.fromArray(a,b);this.targetObject.needsUpdate=!0}_setValue_fromArray_setMatrixWorldNeedsUpdate(a,b){this.resolvedProperty.fromArray(a,b);this.targetObject.matrixWorldNeedsUpdate=!0}_getValue_unbound(a,b){this.bind();this.getValue(a,b)}_setValue_unbound(a,b){this.bind();this.setValue(a,b)}bind(){let a=this.node;var b=this.parsedPath,d=b.objectName;const l=b.propertyName;let q=
b.propertyIndex;a||(this.node=a=$b.findNode(this.rootNode,b.nodeName));this.getValue=this._getValue_unavailable;this.setValue=this._setValue_unavailable;if(a){if(d){var y=b.objectIndex;switch(d){case "materials":if(!a.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!a.material.materials){console.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);return}a=
a.material.materials;break;case "bones":if(!a.skeleton){console.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);return}a=a.skeleton.bones;for(d=0;d<a.length;d++)if(a[d].name===y){y=d;break}break;case "map":if("map"in a){a=a.map;break}if(!a.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!a.material.map){console.error("THREE.PropertyBinding: Can not bind to material.map as node.material does not have a map.",
this);return}a=a.material.map;break;default:if(void 0===a[d]){console.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.",this);return}a=a[d]}if(void 0!==y){if(void 0===a[y]){console.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,a);return}a=a[y]}}y=a[l];if(void 0===y)console.error("THREE.PropertyBinding: Trying to update property for track: "+b.nodeName+"."+l+" but it wasn't found.",a);else{b=this.Versioning.None;this.targetObject=
a;void 0!==a.needsUpdate?b=this.Versioning.NeedsUpdate:void 0!==a.matrixWorldNeedsUpdate&&(b=this.Versioning.MatrixWorldNeedsUpdate);d=this.BindingType.Direct;if(void 0!==q){if("morphTargetInfluences"===l){if(!a.geometry){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);return}if(!a.geometry.morphAttributes){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",
this);return}void 0!==a.morphTargetDictionary[q]&&(q=a.morphTargetDictionary[q])}d=this.BindingType.ArrayElement;this.resolvedProperty=y;this.propertyIndex=q}else void 0!==y.fromArray&&void 0!==y.toArray?(d=this.BindingType.HasFromToArray,this.resolvedProperty=y):Array.isArray(y)?(d=this.BindingType.EntireArray,this.resolvedProperty=y):this.propertyName=l;this.getValue=this.GetterByBindingType[d];this.setValue=this.SetterByBindingTypeAndVersioning[d][b]}}else console.error("THREE.PropertyBinding: Trying to update node for track: "+
this.path+" but it wasn't found.")}unbind(){this.node=null;this.getValue=this._getValue_unbound;this.setValue=this._setValue_unbound}}$b.Composite=nm;$b.prototype.BindingType={Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3};$b.prototype.Versioning={None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2};$b.prototype.GetterByBindingType=[$b.prototype._getValue_direct,$b.prototype._getValue_array,$b.prototype._getValue_arrayElement,$b.prototype._getValue_toArray];$b.prototype.SetterByBindingTypeAndVersioning=
[[$b.prototype._setValue_direct,$b.prototype._setValue_direct_setNeedsUpdate,$b.prototype._setValue_direct_setMatrixWorldNeedsUpdate],[$b.prototype._setValue_array,$b.prototype._setValue_array_setNeedsUpdate,$b.prototype._setValue_array_setMatrixWorldNeedsUpdate],[$b.prototype._setValue_arrayElement,$b.prototype._setValue_arrayElement_setNeedsUpdate,$b.prototype._setValue_arrayElement_setMatrixWorldNeedsUpdate],[$b.prototype._setValue_fromArray,$b.prototype._setValue_fromArray_setNeedsUpdate,$b.prototype._setValue_fromArray_setMatrixWorldNeedsUpdate]];
class om{constructor(){this.isAnimationObjectGroup=!0;this.uuid=p();this._objects=Array.prototype.slice.call(arguments);this.nCachedObjects_=0;const a={};this._indicesByUUID=a;for(let d=0,l=arguments.length;d!==l;++d)a[arguments[d].uuid]=d;this._paths=[];this._parsedPaths=[];this._bindings=[];this._bindingsIndicesByPath={};const b=this;this.stats={objects:{get total(){return b._objects.length},get inUse(){return this.total-b.nCachedObjects_}},get bindingsPerObject(){return b._bindings.length}}}add(){const a=
this._objects,b=this._indicesByUUID,d=this._paths,l=this._parsedPaths,q=this._bindings,y=q.length;let A=void 0,D=a.length,F=this.nCachedObjects_;for(let N=0,P=arguments.length;N!==P;++N){const T=arguments[N];var G=T.uuid;let S=b[G];if(void 0===S){S=D++;b[G]=S;a.push(T);for(let L=0,U=y;L!==U;++L)q[L].push(new $b(T,d[L],l[L]))}else if(S<F){A=a[S];const L=--F;var M=a[L];b[M.uuid]=S;a[S]=M;b[G]=L;a[L]=T;for(let U=0,ma=y;U!==ma;++U)G=q[U],M=G[S],G[S]=G[L],void 0===M&&(M=new $b(T,d[U],l[U])),G[L]=M}else a[S]!==
A&&console.error("THREE.AnimationObjectGroup: Different objects with the same UUID detected. Clean the caches or recreate your infrastructure when reloading scenes.")}this.nCachedObjects_=F}remove(){const a=this._objects,b=this._indicesByUUID,d=this._bindings,l=d.length;let q=this.nCachedObjects_;for(let D=0,F=arguments.length;D!==F;++D){var y=arguments[D],A=y.uuid;const G=b[A];if(void 0!==G&&G>=q){const M=q++,N=a[M];b[N.uuid]=G;a[G]=N;b[A]=M;a[M]=y;for(let P=0,T=l;P!==T;++P)y=d[P],A=y[G],y[G]=y[M],
y[M]=A}}this.nCachedObjects_=q}uncache(){const a=this._objects,b=this._indicesByUUID,d=this._bindings,l=d.length;let q=this.nCachedObjects_,y=a.length;for(let M=0,N=arguments.length;M!==N;++M){var A=arguments[M].uuid;const P=b[A];if(void 0!==P)if(delete b[A],P<q){A=--q;var D=a[A],F=--y,G=a[F];b[D.uuid]=P;a[P]=D;b[G.uuid]=A;a[A]=G;a.pop();for(let T=0,S=l;T!==S;++T)D=d[T],G=D[F],D[P]=D[A],D[A]=G,D.pop()}else{A=--y;F=a[A];0<A&&(b[F.uuid]=P);a[P]=F;a.pop();for(let T=0,S=l;T!==S;++T)F=d[T],F[P]=F[A],F.pop()}}this.nCachedObjects_=
q}subscribe_(a,b){const d=this._bindingsIndicesByPath;let l=d[a];const q=this._bindings;if(void 0!==l)return q[l];const y=this._paths,A=this._parsedPaths,D=this._objects,F=this.nCachedObjects_,G=Array(D.length);l=q.length;d[a]=l;y.push(a);A.push(b);q.push(G);for(let M=F,N=D.length;M!==N;++M)G[M]=new $b(D[M],a,b);return G}unsubscribe_(a){const b=this._bindingsIndicesByPath,d=b[a];if(void 0!==d){const l=this._paths,q=this._parsedPaths,y=this._bindings,A=y.length-1,D=y[A];b[a[A]]=d;y[d]=D;y.pop();q[d]=
q[A];q.pop();l[d]=l[A];l.pop()}}}class pm{constructor(a,b,d=null,l=b.blendMode){this._mixer=a;this._clip=b;this._localRoot=d;this.blendMode=l;a=b.tracks;b=a.length;d=Array(b);l={endingStart:2400,endingEnd:2400};for(let q=0;q!==b;++q){const y=a[q].createInterpolant(null);d[q]=y;y.settings=l}this._interpolantSettings=l;this._interpolants=d;this._propertyBindings=Array(b);this._weightInterpolant=this._timeScaleInterpolant=this._byClipCacheIndex=this._cacheIndex=null;this.loop=2201;this._loopCount=-1;
this._startTime=null;this.time=0;this._effectiveWeight=this.weight=this._effectiveTimeScale=this.timeScale=1;this.repetitions=Infinity;this.paused=!1;this.enabled=!0;this.clampWhenFinished=!1;this.zeroSlopeAtEnd=this.zeroSlopeAtStart=!0}play(){this._mixer._activateAction(this);return this}stop(){this._mixer._deactivateAction(this);return this.reset()}reset(){this.paused=!1;this.enabled=!0;this.time=0;this._loopCount=-1;this._startTime=null;return this.stopFading().stopWarping()}isRunning(){return this.enabled&&
!this.paused&&0!==this.timeScale&&null===this._startTime&&this._mixer._isActiveAction(this)}isScheduled(){return this._mixer._isActiveAction(this)}startAt(a){this._startTime=a;return this}setLoop(a,b){this.loop=a;this.repetitions=b;return this}setEffectiveWeight(a){this.weight=a;this._effectiveWeight=this.enabled?a:0;return this.stopFading()}getEffectiveWeight(){return this._effectiveWeight}fadeIn(a){return this._scheduleFading(a,0,1)}fadeOut(a){return this._scheduleFading(a,1,0)}crossFadeFrom(a,
b,d){a.fadeOut(b);this.fadeIn(b);if(d){d=this._clip.duration;const l=a._clip.duration,q=d/l;a.warp(1,l/d,b);this.warp(q,1,b)}return this}crossFadeTo(a,b,d){return a.crossFadeFrom(this,b,d)}stopFading(){const a=this._weightInterpolant;null!==a&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(a));return this}setEffectiveTimeScale(a){this.timeScale=a;this._effectiveTimeScale=this.paused?0:a;return this.stopWarping()}getEffectiveTimeScale(){return this._effectiveTimeScale}setDuration(a){this.timeScale=
this._clip.duration/a;return this.stopWarping()}syncWith(a){this.time=a.time;this.timeScale=a.timeScale;return this.stopWarping()}halt(a){return this.warp(this._effectiveTimeScale,0,a)}warp(a,b,d){var l=this._mixer;const q=l.time,y=this.timeScale;var A=this._timeScaleInterpolant;null===A&&(this._timeScaleInterpolant=A=l._lendControlInterpolant());l=A.parameterPositions;A=A.sampleValues;l[0]=q;l[1]=q+d;A[0]=a/y;A[1]=b/y;return this}stopWarping(){const a=this._timeScaleInterpolant;null!==a&&(this._timeScaleInterpolant=
null,this._mixer._takeBackControlInterpolant(a));return this}getMixer(){return this._mixer}getClip(){return this._clip}getRoot(){return this._localRoot||this._mixer._root}_update(a,b,d,l){if(this.enabled){var q=this._startTime;null!==q&&(b=(a-q)*d,0>b||0===d?b=0:(this._startTime=null,b*=d));b*=this._updateTimeScale(a);d=this._updateTime(b);a=this._updateWeight(a);if(0<a)switch(b=this._interpolants,q=this._propertyBindings,this.blendMode){case 2501:for(let y=0,A=b.length;y!==A;++y)b[y].evaluate(d),
q[y].accumulateAdditive(a);break;default:for(let y=0,A=b.length;y!==A;++y)b[y].evaluate(d),q[y].accumulate(l,a)}}else this._updateWeight(a)}_updateWeight(a){let b=0;if(this.enabled){b=this.weight;const d=this._weightInterpolant;if(null!==d){const l=d.evaluate(a)[0];b*=l;a>d.parameterPositions[1]&&(this.stopFading(),0===l&&(this.enabled=!1))}}return this._effectiveWeight=b}_updateTimeScale(a){let b=0;if(!this.paused){b=this.timeScale;const d=this._timeScaleInterpolant;if(null!==d){const l=d.evaluate(a)[0];
b*=l;a>d.parameterPositions[1]&&(this.stopWarping(),0===b?this.paused=!0:this.timeScale=b)}}return this._effectiveTimeScale=b}_updateTime(a){const b=this._clip.duration;var d=this.loop;let l=this.time+a,q=this._loopCount;const y=2202===d;if(0===a)return-1===q?l:y&&1===(q&1)?b-l:l;if(2200===d)a:{if(-1===q&&(this._loopCount=0,this._setEndings(!0,!0,!1)),l>=b)l=b;else if(0>l)l=0;else{this.time=l;break a}this.clampWhenFinished?this.paused=!0:this.enabled=!1;this.time=l;this._mixer.dispatchEvent({type:"finished",
action:this,direction:0>a?-1:1})}else{-1===q&&(0<=a?(q=0,this._setEndings(!0,0===this.repetitions,y)):this._setEndings(0===this.repetitions,!0,y));if(l>=b||0>l){d=Math.floor(l/b);l-=b*d;q+=Math.abs(d);const A=this.repetitions-q;0>=A?(this.clampWhenFinished?this.paused=!0:this.enabled=!1,this.time=l=0<a?b:0,this._mixer.dispatchEvent({type:"finished",action:this,direction:0<a?1:-1})):(1===A?(a=0>a,this._setEndings(a,!a,y)):this._setEndings(!1,!1,y),this._loopCount=q,this.time=l,this._mixer.dispatchEvent({type:"loop",
action:this,loopDelta:d}))}else this.time=l;if(y&&1===(q&1))return b-l}return l}_setEndings(a,b,d){const l=this._interpolantSettings;d?(l.endingStart=2401,l.endingEnd=2401):(l.endingStart=a?this.zeroSlopeAtStart?2401:2400:2402,l.endingEnd=b?this.zeroSlopeAtEnd?2401:2400:2402)}_scheduleFading(a,b,d){var l=this._mixer;const q=l.time;var y=this._weightInterpolant;null===y&&(this._weightInterpolant=y=l._lendControlInterpolant());l=y.parameterPositions;y=y.sampleValues;l[0]=q;y[0]=b;l[1]=q+a;y[1]=d;return this}}
const qm=new Float32Array(1);class rm extends Uc{constructor(a){super();this._root=a;this._initMemoryManager();this.time=this._accuIndex=0;this.timeScale=1}_bindAction(a,b){const d=a._localRoot||this._root,l=a._clip.tracks,q=l.length,y=a._propertyBindings;a=a._interpolants;const A=d.uuid;var D=this._bindingsByRootAndName;let F=D[A];void 0===F&&(F={},D[A]=F);for(D=0;D!==q;++D){const G=l[D],M=G.name;let N=F[M];if(void 0!==N)++N.referenceCount;else{N=y[D];if(void 0!==N){null===N._cacheIndex&&(++N.referenceCount,
this._addInactiveBinding(N,A,M));continue}N=new Kk($b.create(d,M,b&&b._propertyBindings[D].binding.parsedPath),G.ValueTypeName,G.getValueSize());++N.referenceCount;this._addInactiveBinding(N,A,M)}y[D]=N;a[D].resultBuffer=N.buffer}}_activateAction(a){if(!this._isActiveAction(a)){if(null===a._cacheIndex){var b=(a._localRoot||this._root).uuid,d=a._clip.uuid;const l=this._actionsByClip[d];this._bindAction(a,l&&l.knownActions[0]);this._addInactiveAction(a,d,b)}b=a._propertyBindings;for(let l=0,q=b.length;l!==
q;++l)d=b[l],0===d.useCount++&&(this._lendBinding(d),d.saveOriginalState());this._lendAction(a)}}_deactivateAction(a){if(this._isActiveAction(a)){const b=a._propertyBindings;for(let d=0,l=b.length;d!==l;++d){const q=b[d];0===--q.useCount&&(q.restoreOriginalState(),this._takeBackBinding(q))}this._takeBackAction(a)}}_initMemoryManager(){this._actions=[];this._nActiveActions=0;this._actionsByClip={};this._bindings=[];this._nActiveBindings=0;this._bindingsByRootAndName={};this._controlInterpolants=[];
this._nActiveControlInterpolants=0;const a=this;this.stats={actions:{get total(){return a._actions.length},get inUse(){return a._nActiveActions}},bindings:{get total(){return a._bindings.length},get inUse(){return a._nActiveBindings}},controlInterpolants:{get total(){return a._controlInterpolants.length},get inUse(){return a._nActiveControlInterpolants}}}}_isActiveAction(a){a=a._cacheIndex;return null!==a&&a<this._nActiveActions}_addInactiveAction(a,b,d){const l=this._actions,q=this._actionsByClip;
let y=q[b];void 0===y?(y={knownActions:[a],actionByRoot:{}},a._byClipCacheIndex=0,q[b]=y):(b=y.knownActions,a._byClipCacheIndex=b.length,b.push(a));a._cacheIndex=l.length;l.push(a);y.actionByRoot[d]=a}_removeInactiveAction(a){var b=this._actions,d=b[b.length-1],l=a._cacheIndex;d._cacheIndex=l;b[l]=d;b.pop();a._cacheIndex=null;b=a._clip.uuid;d=this._actionsByClip;l=d[b];const q=l.knownActions,y=q[q.length-1],A=a._byClipCacheIndex;y._byClipCacheIndex=A;q[A]=y;q.pop();a._byClipCacheIndex=null;delete l.actionByRoot[(a._localRoot||
this._root).uuid];0===q.length&&delete d[b];this._removeInactiveBindingsForAction(a)}_removeInactiveBindingsForAction(a){a=a._propertyBindings;for(let b=0,d=a.length;b!==d;++b){const l=a[b];0===--l.referenceCount&&this._removeInactiveBinding(l)}}_lendAction(a){const b=this._actions,d=a._cacheIndex,l=this._nActiveActions++,q=b[l];a._cacheIndex=l;b[l]=a;q._cacheIndex=d;b[d]=q}_takeBackAction(a){const b=this._actions,d=a._cacheIndex,l=--this._nActiveActions,q=b[l];a._cacheIndex=l;b[l]=a;q._cacheIndex=
d;b[d]=q}_addInactiveBinding(a,b,d){const l=this._bindingsByRootAndName,q=this._bindings;let y=l[b];void 0===y&&(y={},l[b]=y);y[d]=a;a._cacheIndex=q.length;q.push(a)}_removeInactiveBinding(a){const b=this._bindings;var d=a.binding;const l=d.rootNode.uuid;d=d.path;const q=this._bindingsByRootAndName,y=q[l],A=b[b.length-1];a=a._cacheIndex;A._cacheIndex=a;b[a]=A;b.pop();delete y[d];0===Object.keys(y).length&&delete q[l]}_lendBinding(a){const b=this._bindings,d=a._cacheIndex,l=this._nActiveBindings++,
q=b[l];a._cacheIndex=l;b[l]=a;q._cacheIndex=d;b[d]=q}_takeBackBinding(a){const b=this._bindings,d=a._cacheIndex,l=--this._nActiveBindings,q=b[l];a._cacheIndex=l;b[l]=a;q._cacheIndex=d;b[d]=q}_lendControlInterpolant(){const a=this._controlInterpolants,b=this._nActiveControlInterpolants++;let d=a[b];void 0===d&&(d=new Hi(new Float32Array(2),new Float32Array(2),1,qm),d.__cacheIndex=b,a[b]=d);return d}_takeBackControlInterpolant(a){const b=this._controlInterpolants,d=a.__cacheIndex,l=--this._nActiveControlInterpolants,
q=b[l];a.__cacheIndex=l;b[l]=a;q.__cacheIndex=d;b[d]=q}clipAction(a,b,d){var l=b||this._root;const q=l.uuid;l="string"===typeof a?dg.findByName(l,a):a;a=null!==l?l.uuid:a;const y=this._actionsByClip[a];var A=null;void 0===d&&(d=null!==l?l.blendMode:2500);if(void 0!==y){A=y.actionByRoot[q];if(void 0!==A&&A.blendMode===d)return A;A=y.knownActions[0];null===l&&(l=A._clip)}if(null===l)return null;b=new pm(this,l,b,d);this._bindAction(b,A);this._addInactiveAction(b,a,q);return b}existingAction(a,b){var d=
b||this._root;b=d.uuid;d="string"===typeof a?dg.findByName(d,a):a;a=this._actionsByClip[d?d.uuid:a];return void 0!==a?a.actionByRoot[b]||null:null}stopAllAction(){const a=this._actions;var b=this._nActiveActions;for(--b;0<=b;--b)a[b].stop();return this}update(a){a*=this.timeScale;var b=this._actions,d=this._nActiveActions;const l=this.time+=a,q=Math.sign(a),y=this._accuIndex^=1;for(let A=0;A!==d;++A)b[A]._update(l,a,q,y);a=this._bindings;b=this._nActiveBindings;for(d=0;d!==b;++d)a[d].apply(y);return this}setTime(a){this.time=
0;for(let b=0;b<this._actions.length;b++)this._actions[b].time=0;return this.update(a)}getRoot(){return this._root}uncacheClip(a){const b=this._actions;a=a.uuid;const d=this._actionsByClip;var l=d[a];if(void 0!==l){l=l.knownActions;for(let q=0,y=l.length;q!==y;++q){const A=l[q];this._deactivateAction(A);const D=A._cacheIndex,F=b[b.length-1];A._cacheIndex=null;A._byClipCacheIndex=null;F._cacheIndex=D;b[D]=F;b.pop();this._removeInactiveBindingsForAction(A)}delete d[a]}}uncacheRoot(a){a=a.uuid;const b=
this._actionsByClip;for(var d in b){const l=b[d].actionByRoot[a];void 0!==l&&(this._deactivateAction(l),this._removeInactiveAction(l))}d=this._bindingsByRootAndName[a];if(void 0!==d)for(const l in d)a=d[l],a.restoreOriginalState(),this._removeInactiveBinding(a)}uncacheAction(a,b){a=this.existingAction(a,b);null!==a&&(this._deactivateAction(a),this._removeInactiveAction(a))}}class Lk{constructor(a){this.value=a}clone(){return new Lk(void 0===this.value.clone?this.value:this.value.clone())}}let sm=
0;class tm extends Uc{constructor(){super();this.isUniformsGroup=!0;Object.defineProperty(this,"id",{value:sm++});this.name="";this.usage=35044;this.uniforms=[]}add(a){this.uniforms.push(a);return this}remove(a){a=this.uniforms.indexOf(a);-1!==a&&this.uniforms.splice(a,1);return this}setName(a){this.name=a;return this}setUsage(a){this.usage=a;return this}dispose(){this.dispatchEvent({type:"dispose"});return this}copy(a){this.name=a.name;this.usage=a.usage;a=a.uniforms;this.uniforms.length=0;for(let b=
0,d=a.length;b<d;b++)this.uniforms.push(a[b].clone());return this}clone(){return(new this.constructor).copy(this)}}class um extends Vg{constructor(a,b,d=1){super(a,b);this.isInstancedInterleavedBuffer=!0;this.meshPerAttribute=d}copy(a){super.copy(a);this.meshPerAttribute=a.meshPerAttribute;return this}clone(a){a=super.clone(a);a.meshPerAttribute=this.meshPerAttribute;return a}toJSON(a){a=super.toJSON(a);a.isInstancedInterleavedBuffer=!0;a.meshPerAttribute=this.meshPerAttribute;return a}}class vm{constructor(a,
b,d,l,q){this.isGLBufferAttribute=!0;this.name="";this.buffer=a;this.type=b;this.itemSize=d;this.elementSize=l;this.count=q;this.version=0}set needsUpdate(a){!0===a&&this.version++}setBuffer(a){this.buffer=a;return this}setType(a,b){this.type=a;this.elementSize=b;return this}setItemSize(a){this.itemSize=a;return this}setCount(a){this.count=a;return this}}class wm{constructor(a,b,d=0,l=Infinity){this.ray=new Qf(a,b);this.near=d;this.far=l;this.camera=null;this.layers=new ng;this.params={Mesh:{},Line:{threshold:1},
LOD:{},Points:{threshold:1},Sprite:{}}}set(a,b){this.ray.set(a,b)}setFromCamera(a,b){b.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(b.matrixWorld),this.ray.direction.set(a.x,a.y,.5).unproject(b).sub(this.ray.origin).normalize(),this.camera=b):b.isOrthographicCamera?(this.ray.origin.set(a.x,a.y,(b.near+b.far)/(b.near-b.far)).unproject(b),this.ray.direction.set(0,0,-1).transformDirection(b.matrixWorld),this.camera=b):console.error("THREE.Raycaster: Unsupported camera type: "+b.type)}intersectObject(a,
b=!0,d=[]){Nf(a,this,d,b);d.sort(Eg);return d}intersectObjects(a,b=!0,d=[]){for(let l=0,q=a.length;l<q;l++)Nf(a[l],this,d,b);d.sort(Eg);return d}}class xm{constructor(a=1,b=0,d=0){this.radius=a;this.phi=b;this.theta=d;return this}set(a,b,d){this.radius=a;this.phi=b;this.theta=d;return this}copy(a){this.radius=a.radius;this.phi=a.phi;this.theta=a.theta;return this}makeSafe(){this.phi=Math.max(1E-6,Math.min(Math.PI-1E-6,this.phi));return this}setFromVector3(a){return this.setFromCartesianCoords(a.x,
a.y,a.z)}setFromCartesianCoords(a,b,d){this.radius=Math.sqrt(a*a+b*b+d*d);0===this.radius?this.phi=this.theta=0:(this.theta=Math.atan2(a,d),this.phi=Math.acos(n(b/this.radius,-1,1)));return this}clone(){return(new this.constructor).copy(this)}}class ym{constructor(a=1,b=0,d=0){this.radius=a;this.theta=b;this.y=d;return this}set(a,b,d){this.radius=a;this.theta=b;this.y=d;return this}copy(a){this.radius=a.radius;this.theta=a.theta;this.y=a.y;return this}setFromVector3(a){return this.setFromCartesianCoords(a.x,
a.y,a.z)}setFromCartesianCoords(a,b,d){this.radius=Math.sqrt(a*a+d*d);this.theta=Math.atan2(a,d);this.y=b;return this}clone(){return(new this.constructor).copy(this)}}const Mk=new za;class zm{constructor(a=new za(Infinity,Infinity),b=new za(-Infinity,-Infinity)){this.isBox2=!0;this.min=a;this.max=b}set(a,b){this.min.copy(a);this.max.copy(b);return this}setFromPoints(a){this.makeEmpty();for(let b=0,d=a.length;b<d;b++)this.expandByPoint(a[b]);return this}setFromCenterAndSize(a,b){b=Mk.copy(b).multiplyScalar(.5);
this.min.copy(a).sub(b);this.max.copy(a).add(b);return this}clone(){return(new this.constructor).copy(this)}copy(a){this.min.copy(a.min);this.max.copy(a.max);return this}makeEmpty(){this.min.x=this.min.y=Infinity;this.max.x=this.max.y=-Infinity;return this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y}getCenter(a){return this.isEmpty()?a.set(0,0):a.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(a){return this.isEmpty()?a.set(0,0):a.subVectors(this.max,this.min)}expandByPoint(a){this.min.min(a);
this.max.max(a);return this}expandByVector(a){this.min.sub(a);this.max.add(a);return this}expandByScalar(a){this.min.addScalar(-a);this.max.addScalar(a);return this}containsPoint(a){return a.x<this.min.x||a.x>this.max.x||a.y<this.min.y||a.y>this.max.y?!1:!0}containsBox(a){return this.min.x<=a.min.x&&a.max.x<=this.max.x&&this.min.y<=a.min.y&&a.max.y<=this.max.y}getParameter(a,b){return b.set((a.x-this.min.x)/(this.max.x-this.min.x),(a.y-this.min.y)/(this.max.y-this.min.y))}intersectsBox(a){return a.max.x<
this.min.x||a.min.x>this.max.x||a.max.y<this.min.y||a.min.y>this.max.y?!1:!0}clampPoint(a,b){return b.copy(a).clamp(this.min,this.max)}distanceToPoint(a){return this.clampPoint(a,Mk).distanceTo(a)}intersect(a){this.min.max(a.min);this.max.min(a.max);this.isEmpty()&&this.makeEmpty();return this}union(a){this.min.min(a.min);this.max.max(a.max);return this}translate(a){this.min.add(a);this.max.add(a);return this}equals(a){return a.min.equals(this.min)&&a.max.equals(this.max)}}const Nk=new aa,uh=new aa;
class Am{constructor(a=new aa,b=new aa){this.start=a;this.end=b}set(a,b){this.start.copy(a);this.end.copy(b);return this}copy(a){this.start.copy(a.start);this.end.copy(a.end);return this}getCenter(a){return a.addVectors(this.start,this.end).multiplyScalar(.5)}delta(a){return a.subVectors(this.end,this.start)}distanceSq(){return this.start.distanceToSquared(this.end)}distance(){return this.start.distanceTo(this.end)}at(a,b){return this.delta(b).multiplyScalar(a).add(this.start)}closestPointToPointParameter(a,
b){Nk.subVectors(a,this.start);uh.subVectors(this.end,this.start);a=uh.dot(uh);a=uh.dot(Nk)/a;b&&(a=n(a,0,1));return a}closestPointToPoint(a,b,d){a=this.closestPointToPointParameter(a,b);return this.delta(d).multiplyScalar(a).add(this.start)}applyMatrix4(a){this.start.applyMatrix4(a);this.end.applyMatrix4(a);return this}equals(a){return a.start.equals(this.start)&&a.end.equals(this.end)}clone(){return(new this.constructor).copy(this)}}const Ok=new aa;class Bm extends bc{constructor(a,b){super();this.light=
a;this.matrix=a.matrixWorld;this.matrixAutoUpdate=!1;this.color=b;this.type="SpotLightHelper";a=new Kb;b=[0,0,0,0,0,1,0,0,0,1,0,1,0,0,0,-1,0,1,0,0,0,0,1,1,0,0,0,0,-1,1];for(let d=0,l=1,q=32;d<q;d++,l++){const y=d/q*Math.PI*2,A=l/q*Math.PI*2;b.push(Math.cos(y),Math.sin(y),1,Math.cos(A),Math.sin(A),1)}a.setAttribute("position",new pb(b,3));b=new Kc({fog:!1,toneMapped:!1});this.cone=new od(a,b);this.add(this.cone);this.update()}dispose(){this.cone.geometry.dispose();this.cone.material.dispose()}update(){this.light.updateWorldMatrix(!0,
!1);this.light.target.updateWorldMatrix(!0,!1);const a=this.light.distance?this.light.distance:1E3,b=a*Math.tan(this.light.angle);this.cone.scale.set(b,b,a);Ok.setFromMatrixPosition(this.light.target.matrixWorld);this.cone.lookAt(Ok);void 0!==this.color?this.cone.material.color.set(this.color):this.cone.material.color.copy(this.light.color)}}const Zd=new aa,vh=new Fb,Pi=new Fb;class Cm extends od{constructor(a){const b=Fg(a),d=new Kb;var l=[];const q=[],y=new gb(0,0,1),A=new gb(0,1,0);for(let D=0;D<
b.length;D++){const F=b[D];F.parent&&F.parent.isBone&&(l.push(0,0,0),l.push(0,0,0),q.push(y.r,y.g,y.b),q.push(A.r,A.g,A.b))}d.setAttribute("position",new pb(l,3));d.setAttribute("color",new pb(q,3));l=new Kc({vertexColors:!0,depthTest:!1,depthWrite:!1,toneMapped:!1,transparent:!0});super(d,l);this.isSkeletonHelper=!0;this.type="SkeletonHelper";this.root=a;this.bones=b;this.matrix=a.matrixWorld;this.matrixAutoUpdate=!1}updateMatrixWorld(a){const b=this.bones,d=this.geometry,l=d.getAttribute("position");
Pi.copy(this.root.matrixWorld).invert();for(let q=0,y=0;q<b.length;q++){const A=b[q];A.parent&&A.parent.isBone&&(vh.multiplyMatrices(Pi,A.matrixWorld),Zd.setFromMatrixPosition(vh),l.setXYZ(y,Zd.x,Zd.y,Zd.z),vh.multiplyMatrices(Pi,A.parent.matrixWorld),Zd.setFromMatrixPosition(vh),l.setXYZ(y+1,Zd.x,Zd.y,Zd.z),y+=2)}d.getAttribute("position").needsUpdate=!0;super.updateMatrixWorld(a)}dispose(){this.geometry.dispose();this.material.dispose()}}class Dm extends xc{constructor(a,b,d){b=new bg(b,4,2);const l=
new Vd({wireframe:!0,fog:!1,toneMapped:!1});super(b,l);this.light=a;this.color=d;this.type="PointLightHelper";this.matrix=this.light.matrixWorld;this.matrixAutoUpdate=!1;this.update()}dispose(){this.geometry.dispose();this.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1);void 0!==this.color?this.material.color.set(this.color):this.material.color.copy(this.light.color)}}const Em=new aa,Pk=new gb,Qk=new gb;class Fm extends bc{constructor(a,b,d){super();this.light=a;this.matrix=a.matrixWorld;
this.matrixAutoUpdate=!1;this.color=d;this.type="HemisphereLightHelper";a=new ag(b);a.rotateY(.5*Math.PI);this.material=new Vd({wireframe:!0,fog:!1,toneMapped:!1});void 0===this.color&&(this.material.vertexColors=!0);b=a.getAttribute("position");b=new Float32Array(3*b.count);a.setAttribute("color",new fc(b,3));this.add(new xc(a,this.material));this.update()}dispose(){this.children[0].geometry.dispose();this.children[0].material.dispose()}update(){const a=this.children[0];if(void 0!==this.color)this.material.color.set(this.color);
else{const b=a.geometry.getAttribute("color");Pk.copy(this.light.color);Qk.copy(this.light.groundColor);for(let d=0,l=b.count;d<l;d++){const q=d<l/2?Pk:Qk;b.setXYZ(d,q.r,q.g,q.b)}b.needsUpdate=!0}this.light.updateWorldMatrix(!0,!1);a.lookAt(Em.setFromMatrixPosition(this.light.matrixWorld).negate())}}class Gm extends od{constructor(a=10,b=10,d=4473924,l=8947848){d=new gb(d);l=new gb(l);const q=b/2,y=a/b,A=a/2;a=[];const D=[];for(let F=0,G=0,M=-A;F<=b;F++,M+=y){a.push(-A,0,M,A,0,M);a.push(M,0,-A,M,
0,A);const N=F===q?d:l;N.toArray(D,G);G+=3;N.toArray(D,G);G+=3;N.toArray(D,G);G+=3;N.toArray(D,G);G+=3}b=new Kb;b.setAttribute("position",new pb(a,3));b.setAttribute("color",new pb(D,3));d=new Kc({vertexColors:!0,toneMapped:!1});super(b,d);this.type="GridHelper"}dispose(){this.geometry.dispose();this.material.dispose()}}class Hm extends od{constructor(a=10,b=16,d=8,l=64,q=4473924,y=8947848){q=new gb(q);y=new gb(y);var A=[];const D=[];if(1<b)for(var F=0;F<b;F++){var G=F/b*2*Math.PI,M=Math.sin(G)*a;
G=Math.cos(G)*a;A.push(0,0,0);A.push(M,0,G);M=F&1?q:y;D.push(M.r,M.g,M.b);D.push(M.r,M.g,M.b)}for(b=0;b<d;b++)for(F=b&1?q:y,M=a-a/d*b,G=0;G<l;G++){var N=G/l*2*Math.PI;let P=Math.sin(N)*M;N=Math.cos(N)*M;A.push(P,0,N);D.push(F.r,F.g,F.b);N=(G+1)/l*2*Math.PI;P=Math.sin(N)*M;N=Math.cos(N)*M;A.push(P,0,N);D.push(F.r,F.g,F.b)}a=new Kb;a.setAttribute("position",new pb(A,3));a.setAttribute("color",new pb(D,3));A=new Kc({vertexColors:!0,toneMapped:!1});super(a,A);this.type="PolarGridHelper"}dispose(){this.geometry.dispose();
this.material.dispose()}}const Rk=new aa,wh=new aa,Sk=new aa;class Im extends bc{constructor(a,b,d){super();this.light=a;this.matrix=a.matrixWorld;this.matrixAutoUpdate=!1;this.color=d;this.type="DirectionalLightHelper";void 0===b&&(b=1);a=new Kb;a.setAttribute("position",new pb([-b,b,0,b,b,0,b,-b,0,-b,-b,0,-b,b,0],3));b=new Kc({fog:!1,toneMapped:!1});this.lightPlane=new Wd(a,b);this.add(this.lightPlane);a=new Kb;a.setAttribute("position",new pb([0,0,0,0,0,1],3));this.targetLine=new Wd(a,b);this.add(this.targetLine);
this.update()}dispose(){this.lightPlane.geometry.dispose();this.lightPlane.material.dispose();this.targetLine.geometry.dispose();this.targetLine.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1);this.light.target.updateWorldMatrix(!0,!1);Rk.setFromMatrixPosition(this.light.matrixWorld);wh.setFromMatrixPosition(this.light.target.matrixWorld);Sk.subVectors(wh,Rk);this.lightPlane.lookAt(wh);void 0!==this.color?(this.lightPlane.material.color.set(this.color),this.targetLine.material.color.set(this.color)):
(this.lightPlane.material.color.copy(this.light.color),this.targetLine.material.color.copy(this.light.color));this.targetLine.lookAt(wh);this.targetLine.scale.z=Sk.length()}}const Gg=new aa,nc=new Sg;class Jm extends od{constructor(a){function b(M,N){d(M);d(N)}function d(M){y.push(0,0,0);A.push(0,0,0);void 0===D[M]&&(D[M]=[]);D[M].push(y.length/3-1)}var l=new Kb,q=new Kc({color:16777215,vertexColors:!0,toneMapped:!1});const y=[],A=[],D={};b("n1","n2");b("n2","n4");b("n4","n3");b("n3","n1");b("f1",
"f2");b("f2","f4");b("f4","f3");b("f3","f1");b("n1","f1");b("n2","f2");b("n3","f3");b("n4","f4");b("p","n1");b("p","n2");b("p","n3");b("p","n4");b("u1","u2");b("u2","u3");b("u3","u1");b("c","t");b("p","c");b("cn1","cn2");b("cn3","cn4");b("cf1","cf2");b("cf3","cf4");l.setAttribute("position",new pb(y,3));l.setAttribute("color",new pb(A,3));super(l,q);this.type="CameraHelper";this.camera=a;this.camera.updateProjectionMatrix&&this.camera.updateProjectionMatrix();this.matrix=a.matrixWorld;this.matrixAutoUpdate=
!1;this.pointMap=D;this.update();a=new gb(16755200);l=new gb(16711680);q=new gb(43775);const F=new gb(16777215),G=new gb(3355443);this.setColors(a,l,q,F,G)}setColors(a,b,d,l,q){const y=this.geometry.getAttribute("color");y.setXYZ(0,a.r,a.g,a.b);y.setXYZ(1,a.r,a.g,a.b);y.setXYZ(2,a.r,a.g,a.b);y.setXYZ(3,a.r,a.g,a.b);y.setXYZ(4,a.r,a.g,a.b);y.setXYZ(5,a.r,a.g,a.b);y.setXYZ(6,a.r,a.g,a.b);y.setXYZ(7,a.r,a.g,a.b);y.setXYZ(8,a.r,a.g,a.b);y.setXYZ(9,a.r,a.g,a.b);y.setXYZ(10,a.r,a.g,a.b);y.setXYZ(11,a.r,
a.g,a.b);y.setXYZ(12,a.r,a.g,a.b);y.setXYZ(13,a.r,a.g,a.b);y.setXYZ(14,a.r,a.g,a.b);y.setXYZ(15,a.r,a.g,a.b);y.setXYZ(16,a.r,a.g,a.b);y.setXYZ(17,a.r,a.g,a.b);y.setXYZ(18,a.r,a.g,a.b);y.setXYZ(19,a.r,a.g,a.b);y.setXYZ(20,a.r,a.g,a.b);y.setXYZ(21,a.r,a.g,a.b);y.setXYZ(22,a.r,a.g,a.b);y.setXYZ(23,a.r,a.g,a.b);y.setXYZ(24,b.r,b.g,b.b);y.setXYZ(25,b.r,b.g,b.b);y.setXYZ(26,b.r,b.g,b.b);y.setXYZ(27,b.r,b.g,b.b);y.setXYZ(28,b.r,b.g,b.b);y.setXYZ(29,b.r,b.g,b.b);y.setXYZ(30,b.r,b.g,b.b);y.setXYZ(31,b.r,b.g,
b.b);y.setXYZ(32,d.r,d.g,d.b);y.setXYZ(33,d.r,d.g,d.b);y.setXYZ(34,d.r,d.g,d.b);y.setXYZ(35,d.r,d.g,d.b);y.setXYZ(36,d.r,d.g,d.b);y.setXYZ(37,d.r,d.g,d.b);y.setXYZ(38,l.r,l.g,l.b);y.setXYZ(39,l.r,l.g,l.b);y.setXYZ(40,q.r,q.g,q.b);y.setXYZ(41,q.r,q.g,q.b);y.setXYZ(42,q.r,q.g,q.b);y.setXYZ(43,q.r,q.g,q.b);y.setXYZ(44,q.r,q.g,q.b);y.setXYZ(45,q.r,q.g,q.b);y.setXYZ(46,q.r,q.g,q.b);y.setXYZ(47,q.r,q.g,q.b);y.setXYZ(48,q.r,q.g,q.b);y.setXYZ(49,q.r,q.g,q.b);y.needsUpdate=!0}update(){const a=this.geometry,
b=this.pointMap;nc.projectionMatrixInverse.copy(this.camera.projectionMatrixInverse);mc("c",b,a,nc,0,0,-1);mc("t",b,a,nc,0,0,1);mc("n1",b,a,nc,-1,-1,-1);mc("n2",b,a,nc,1,-1,-1);mc("n3",b,a,nc,-1,1,-1);mc("n4",b,a,nc,1,1,-1);mc("f1",b,a,nc,-1,-1,1);mc("f2",b,a,nc,1,-1,1);mc("f3",b,a,nc,-1,1,1);mc("f4",b,a,nc,1,1,1);mc("u1",b,a,nc,.7,1.1,-1);mc("u2",b,a,nc,-.7,1.1,-1);mc("u3",b,a,nc,0,2,-1);mc("cf1",b,a,nc,-1,0,1);mc("cf2",b,a,nc,1,0,1);mc("cf3",b,a,nc,0,-1,1);mc("cf4",b,a,nc,0,1,1);mc("cn1",b,a,nc,
-1,0,-1);mc("cn2",b,a,nc,1,0,-1);mc("cn3",b,a,nc,0,-1,-1);mc("cn4",b,a,nc,0,1,-1);a.getAttribute("position").needsUpdate=!0}dispose(){this.geometry.dispose();this.material.dispose()}}const xh=new pe;class Km extends od{constructor(a,b=16776960){const d=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),l=new Float32Array(24),q=new Kb;q.setIndex(new fc(d,1));q.setAttribute("position",new fc(l,3));super(q,new Kc({color:b,toneMapped:!1}));this.object=a;this.type="BoxHelper";this.matrixAutoUpdate=
!1;this.update()}update(a){void 0!==a&&console.warn("THREE.BoxHelper: .update() has no longer arguments.");void 0!==this.object&&xh.setFromObject(this.object);if(!xh.isEmpty()){a=xh.min;var b=xh.max,d=this.geometry.attributes.position,l=d.array;l[0]=b.x;l[1]=b.y;l[2]=b.z;l[3]=a.x;l[4]=b.y;l[5]=b.z;l[6]=a.x;l[7]=a.y;l[8]=b.z;l[9]=b.x;l[10]=a.y;l[11]=b.z;l[12]=b.x;l[13]=b.y;l[14]=a.z;l[15]=a.x;l[16]=b.y;l[17]=a.z;l[18]=a.x;l[19]=a.y;l[20]=a.z;l[21]=b.x;l[22]=a.y;l[23]=a.z;d.needsUpdate=!0;this.geometry.computeBoundingSphere()}}setFromObject(a){this.object=
a;this.update();return this}copy(a,b){super.copy(a,b);this.object=a.object;return this}dispose(){this.geometry.dispose();this.material.dispose()}}class Lm extends od{constructor(a,b=16776960){const d=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),l=new Kb;l.setIndex(new fc(d,1));l.setAttribute("position",new pb([1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,-1,-1,1,-1,-1,-1,-1,1,-1,-1],3));super(l,new Kc({color:b,toneMapped:!1}));this.box=a;this.type="Box3Helper";this.geometry.computeBoundingSphere()}updateMatrixWorld(a){const b=
this.box;b.isEmpty()||(b.getCenter(this.position),b.getSize(this.scale),this.scale.multiplyScalar(.5),super.updateMatrixWorld(a))}dispose(){this.geometry.dispose();this.material.dispose()}}class Mm extends Wd{constructor(a,b=1,d=16776960){const l=new Kb;l.setAttribute("position",new pb([1,-1,0,-1,1,0,-1,-1,0,1,1,0,-1,1,0,-1,-1,0,1,-1,0,1,1,0],3));l.computeBoundingSphere();super(l,new Kc({color:d,toneMapped:!1}));this.type="PlaneHelper";this.plane=a;this.size=b;a=new Kb;a.setAttribute("position",new pb([1,
1,0,-1,1,0,-1,-1,0,1,1,0,-1,-1,0,1,-1,0],3));a.computeBoundingSphere();this.add(new xc(a,new Vd({color:d,opacity:.2,transparent:!0,depthWrite:!1,toneMapped:!1})))}updateMatrixWorld(a){this.position.set(0,0,0);this.scale.set(.5*this.size,.5*this.size,1);this.lookAt(this.plane.normal);this.translateZ(-this.plane.constant);super.updateMatrixWorld(a)}dispose(){this.geometry.dispose();this.material.dispose();this.children[0].geometry.dispose();this.children[0].material.dispose()}}const Tk=new aa;let yh,
Qi;class Nm extends bc{constructor(a=new aa(0,0,1),b=new aa(0,0,0),d=1,l=16776960,q=.2*d,y=.2*q){super();this.type="ArrowHelper";void 0===yh&&(yh=new Kb,yh.setAttribute("position",new pb([0,0,0,0,1,0],3)),Qi=new gf(0,.5,1,5,1),Qi.translate(0,-.5,0));this.position.copy(b);this.line=new Wd(yh,new Kc({color:l,toneMapped:!1}));this.line.matrixAutoUpdate=!1;this.add(this.line);this.cone=new xc(Qi,new Vd({color:l,toneMapped:!1}));this.cone.matrixAutoUpdate=!1;this.add(this.cone);this.setDirection(a);this.setLength(d,
q,y)}setDirection(a){.99999<a.y?this.quaternion.set(0,0,0,1):-.99999>a.y?this.quaternion.set(1,0,0,0):(Tk.set(a.z,0,-a.x).normalize(),this.quaternion.setFromAxisAngle(Tk,Math.acos(a.y)))}setLength(a,b=.2*a,d=.2*b){this.line.scale.set(1,Math.max(1E-4,a-b),1);this.line.updateMatrix();this.cone.scale.set(d,b,d);this.cone.position.y=a;this.cone.updateMatrix()}setColor(a){this.line.material.color.set(a);this.cone.material.color.set(a)}copy(a){super.copy(a,!1);this.line.copy(a.line);this.cone.copy(a.cone);
return this}dispose(){this.line.geometry.dispose();this.line.material.dispose();this.cone.geometry.dispose();this.cone.material.dispose()}}class Om extends od{constructor(a=1){var b=[0,0,0,a,0,0,0,0,0,0,a,0,0,0,0,0,0,a];a=new Kb;a.setAttribute("position",new pb(b,3));a.setAttribute("color",new pb([1,0,0,1,.6,0,0,1,0,.6,1,0,0,0,1,0,.6,1],3));b=new Kc({vertexColors:!0,toneMapped:!1});super(a,b);this.type="AxesHelper"}setColors(a,b,d){const l=new gb,q=this.geometry.attributes.color.array;l.set(a);l.toArray(q,
0);l.toArray(q,3);l.set(b);l.toArray(q,6);l.toArray(q,9);l.set(d);l.toArray(q,12);l.toArray(q,15);this.geometry.attributes.color.needsUpdate=!0;return this}dispose(){this.geometry.dispose();this.material.dispose()}}class Pm{constructor(){this.type="ShapePath";this.color=new gb;this.subPaths=[];this.currentPath=null}moveTo(a,b){this.currentPath=new Zf;this.subPaths.push(this.currentPath);this.currentPath.moveTo(a,b);return this}lineTo(a,b){this.currentPath.lineTo(a,b);return this}quadraticCurveTo(a,
b,d,l){this.currentPath.quadraticCurveTo(a,b,d,l);return this}bezierCurveTo(a,b,d,l,q,y){this.currentPath.bezierCurveTo(a,b,d,l,q,y);return this}splineThru(a){this.currentPath.splineThru(a);return this}toShapes(a){function b(S){const L=[];for(let U=0,ma=S.length;U<ma;U++){const ba=S[U],na=new ue;na.curves=ba.curves;L.push(na)}return L}function d(S,L){const U=L.length;let ma=!1;for(let na=U-1,sa=0;sa<U;na=sa++){var ba=L[na];let ja=L[sa],Ga=ja.x-ba.x,oa=ja.y-ba.y;if(Math.abs(oa)>Number.EPSILON){if(0>
oa&&(ba=L[sa],Ga=-Ga,ja=L[na],oa=-oa),!(S.y<ba.y||S.y>ja.y))if(S.y===ba.y){if(S.x===ba.x)return!0}else{ba=oa*(S.x-ba.x)-Ga*(S.y-ba.y);if(0===ba)return!0;0>ba||(ma=!ma)}}else if(S.y===ba.y&&(ja.x<=S.x&&S.x<=ba.x||ba.x<=S.x&&S.x<=ja.x))return!0}return ma}var l=Dd.isClockWise,q=this.subPaths;if(0===q.length)return[];const y=[];if(1===q.length){var A=q[0];var D=new ue;D.curves=A.curves;y.push(D);return y}var F=!l(q[0].getPoints());F=a?!F:F;D=[];const G=[];let M=[];var N=0;let P;G[N]=void 0;M[N]=[];for(let S=
0,L=q.length;S<L;S++){A=q[S];P=A.getPoints();var T=l(P);(T=a?!T:T)?(!F&&G[N]&&N++,G[N]={s:new ue,p:P},G[N].s.curves=A.curves,F&&N++,M[N]=[]):M[N].push({h:A,p:P[0]})}if(!G[0])return b(q);if(1<G.length){A=!1;a=0;for(let S=0,L=G.length;S<L;S++)D[S]=[];for(let S=0,L=G.length;S<L;S++)for(l=M[S],q=0;q<l.length;q++){T=l[q];F=!0;for(N=0;N<G.length;N++)d(T.p,G[N].p)&&(S!==N&&a++,F?(F=!1,D[N].push(T)):A=!0);F&&D[S].push(T)}0<a&&!1===A&&(M=D)}for(let S=0,L=G.length;S<L;S++){D=G[S].s;y.push(D);A=M[S];for(let U=
0,ma=A.length;U<ma;U++)D.holes.push(A[U].h)}return y}}const Gd=function(){var a=new ArrayBuffer(4);const b=new Float32Array(a);a=new Uint32Array(a);const d=new Uint32Array(512),l=new Uint32Array(512);for(var q=0;256>q;++q){var y=q-127;-27>y?(d[q]=0,d[q|256]=32768,l[q]=24,l[q|256]=24):-14>y?(d[q]=1024>>-y-14,d[q|256]=1024>>-y-14|32768,l[q]=-y-1,l[q|256]=-y-1):15>=y?(d[q]=y+15<<10,d[q|256]=y+15<<10|32768,l[q]=13,l[q|256]=13):128>y?(d[q]=31744,d[q|256]=64512,l[q]=24,l[q|256]=24):(d[q]=31744,d[q|256]=
64512,l[q]=13,l[q|256]=13)}q=new Uint32Array(2048);y=new Uint32Array(64);const A=new Uint32Array(64);for(var D=1;1024>D;++D){let F=D<<13,G=0;for(;0===(F&8388608);)F<<=1,G-=8388608;F&=-8388609;G+=947912704;q[D]=F|G}for(D=1024;2048>D;++D)q[D]=939524096+(D-1024<<13);for(D=1;31>D;++D)y[D]=D<<23;y[31]=1199570944;y[32]=2147483648;for(D=33;63>D;++D)y[D]=2147483648+(D-32<<23);y[63]=3347054592;for(D=1;64>D;++D)32!==D&&(A[D]=1024);return{floatView:b,uint32View:a,baseTable:d,shiftTable:l,mantissaTable:q,exponentTable:y,
offsetTable:A}}();class Qm extends ae{constructor(a,b,d,l,q,y){console.warn("THREE.BoxBufferGeometry has been renamed to THREE.BoxGeometry.");super(a,b,d,l,q,y)}}class Rm extends dh{constructor(a,b,d,l){console.warn("THREE.CapsuleBufferGeometry has been renamed to THREE.CapsuleGeometry.");super(a,b,d,l)}}class Sm extends eh{constructor(a,b,d,l){console.warn("THREE.CircleBufferGeometry has been renamed to THREE.CircleGeometry.");super(a,b,d,l)}}class Tm extends fh{constructor(a,b,d,l,q,y,A){console.warn("THREE.ConeBufferGeometry has been renamed to THREE.ConeGeometry.");
super(a,b,d,l,q,y,A)}}class Um extends gf{constructor(a,b,d,l,q,y,A,D){console.warn("THREE.CylinderBufferGeometry has been renamed to THREE.CylinderGeometry.");super(a,b,d,l,q,y,A,D)}}class Vm extends gh{constructor(a,b){console.warn("THREE.DodecahedronBufferGeometry has been renamed to THREE.DodecahedronGeometry.");super(a,b)}}class Wm extends kh{constructor(a,b){console.warn("THREE.ExtrudeBufferGeometry has been renamed to THREE.ExtrudeGeometry.");super(a,b)}}class Xm extends lh{constructor(a,b){console.warn("THREE.IcosahedronBufferGeometry has been renamed to THREE.IcosahedronGeometry.");
super(a,b)}}class Ym extends $f{constructor(a,b,d,l){console.warn("THREE.LatheBufferGeometry has been renamed to THREE.LatheGeometry.");super(a,b,d,l)}}class Zm extends ag{constructor(a,b){console.warn("THREE.OctahedronBufferGeometry has been renamed to THREE.OctahedronGeometry.");super(a,b)}}class $m extends lf{constructor(a,b,d,l){console.warn("THREE.PlaneBufferGeometry has been renamed to THREE.PlaneGeometry.");super(a,b,d,l)}}class an extends Xd{constructor(a,b,d,l){console.warn("THREE.PolyhedronBufferGeometry has been renamed to THREE.PolyhedronGeometry.");
super(a,b,d,l)}}class bn extends mh{constructor(a,b,d,l,q,y){console.warn("THREE.RingBufferGeometry has been renamed to THREE.RingGeometry.");super(a,b,d,l,q,y)}}class cn extends nh{constructor(a,b){console.warn("THREE.ShapeBufferGeometry has been renamed to THREE.ShapeGeometry.");super(a,b)}}class dn extends bg{constructor(a,b,d,l,q,y,A){console.warn("THREE.SphereBufferGeometry has been renamed to THREE.SphereGeometry.");super(a,b,d,l,q,y,A)}}class en extends oh{constructor(a,b){console.warn("THREE.TetrahedronBufferGeometry has been renamed to THREE.TetrahedronGeometry.");
super(a,b)}}class fn extends ph{constructor(a,b,d,l,q){console.warn("THREE.TorusBufferGeometry has been renamed to THREE.TorusGeometry.");super(a,b,d,l,q)}}class gn extends qh{constructor(a,b,d,l,q,y){console.warn("THREE.TorusKnotBufferGeometry has been renamed to THREE.TorusKnotGeometry.");super(a,b,d,l,q,y)}}class hn extends rh{constructor(a,b,d,l,q){console.warn("THREE.TubeBufferGeometry has been renamed to THREE.TubeGeometry.");super(a,b,d,l,q)}}"undefined"!==typeof __THREE_DEVTOOLS__&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",
{detail:{revision:"150"}}));"undefined"!==typeof window&&(window.__THREE__?console.warn("WARNING: Multiple instances of Three.js being imported."):window.__THREE__="150");t.ACESFilmicToneMapping=4;t.AddEquation=100;t.AddOperation=2;t.AdditiveAnimationBlendMode=2501;t.AdditiveBlending=2;t.AlphaFormat=1021;t.AlwaysDepth=1;t.AlwaysStencilFunc=519;t.AmbientLight=xk;t.AmbientLightProbe=$l;t.AnimationClip=dg;t.AnimationLoader=Nl;t.AnimationMixer=rm;t.AnimationObjectGroup=om;t.AnimationUtils=Ll;t.ArcCurve=
Vj;t.ArrayCamera=vj;t.ArrowHelper=Nm;t.Audio=Ik;t.AudioAnalyser=fm;t.AudioContext=Oi;t.AudioListener=cm;t.AudioLoader=Yl;t.AxesHelper=Om;t.BackSide=1;t.BasicDepthPacking=3200;t.BasicShadowMap=0;t.Bone=si;t.BooleanKeyframeTrack=me;t.Box2=zm;t.Box3=pe;t.Box3Helper=Lm;t.BoxBufferGeometry=Qm;t.BoxGeometry=ae;t.BoxHelper=Km;t.BufferAttribute=fc;t.BufferGeometry=Kb;t.BufferGeometryLoader=Bk;t.ByteType=1010;t.Cache=ve;t.Camera=Sg;t.CameraHelper=Jm;t.CanvasTexture=Il;t.CapsuleBufferGeometry=Rm;t.CapsuleGeometry=
dh;t.CatmullRomCurve3=Wj;t.CineonToneMapping=3;t.CircleBufferGeometry=Sm;t.CircleGeometry=eh;t.ClampToEdgeWrapping=1001;t.Clock=Gk;t.Color=gb;t.ColorKeyframeTrack=Xh;t.ColorManagement=Ec;t.CompressedArrayTexture=Hl;t.CompressedTexture=wi;t.CompressedTextureLoader=Ol;t.ConeBufferGeometry=Tm;t.ConeGeometry=fh;t.CubeCamera=rj;t.CubeReflectionMapping=301;t.CubeRefractionMapping=302;t.CubeTexture=Tf;t.CubeTextureLoader=Pl;t.CubeUVReflectionMapping=306;t.CubicBezierCurve=Ai;t.CubicBezierCurve3=Xj;t.CubicInterpolant=
mk;t.CullFaceBack=1;t.CullFaceFront=2;t.CullFaceFrontBack=3;t.CullFaceNone=0;t.Curve=dd;t.CurvePath=Zj;t.CustomBlending=5;t.CustomToneMapping=5;t.CylinderBufferGeometry=Um;t.CylinderGeometry=gf;t.Cylindrical=ym;t.Data3DTexture=Yh;t.DataArrayTexture=lg;t.DataTexture=ef;t.DataTextureLoader=Ql;t.DataUtils={toHalfFloat:function(a){65504<Math.abs(a)&&console.warn("THREE.DataUtils.toHalfFloat(): Value out of range.");a=n(a,-65504,65504);Gd.floatView[0]=a;a=Gd.uint32View[0];const b=a>>23&511;return Gd.baseTable[b]+
((a&8388607)>>Gd.shiftTable[b])},fromHalfFloat:function(a){const b=a>>10;Gd.uint32View[0]=Gd.mantissaTable[Gd.offsetTable[b]+(a&1023)]+Gd.exponentTable[b];return Gd.floatView[0]}};t.DecrementStencilOp=7683;t.DecrementWrapStencilOp=34056;t.DefaultLoadingManager=pk;t.DepthFormat=1026;t.DepthStencilFormat=1027;t.DepthTexture=wj;t.DirectionalLight=wk;t.DirectionalLightHelper=Im;t.DiscreteInterpolant=nk;t.DisplayP3ColorSpace="display-p3";t.DodecahedronBufferGeometry=Vm;t.DodecahedronGeometry=gh;t.DoubleSide=
2;t.DstAlphaFactor=206;t.DstColorFactor=208;t.DynamicCopyUsage=35050;t.DynamicDrawUsage=35048;t.DynamicReadUsage=35049;t.EdgesGeometry=ak;t.EllipseCurve=ah;t.EqualDepth=4;t.EqualStencilFunc=514;t.EquirectangularReflectionMapping=303;t.EquirectangularRefractionMapping=304;t.Euler=Mg;t.EventDispatcher=Uc;t.ExtrudeBufferGeometry=Wm;t.ExtrudeGeometry=kh;t.FileLoader=Fd;t.Float16BufferAttribute=rl;t.Float32BufferAttribute=pb;t.Float64BufferAttribute=sl;t.FloatType=1015;t.Fog=pi;t.FogExp2=oi;t.FramebufferTexture=
Gl;t.FrontSide=0;t.Frustum=og;t.GLBufferAttribute=vm;t.GLSL1="100";t.GLSL3="300 es";t.GreaterDepth=6;t.GreaterEqualDepth=5;t.GreaterEqualStencilFunc=518;t.GreaterStencilFunc=516;t.GridHelper=Gm;t.Group=$e;t.HalfFloatType=1016;t.HemisphereLight=qk;t.HemisphereLightHelper=Fm;t.HemisphereLightProbe=Zl;t.IcosahedronBufferGeometry=Xm;t.IcosahedronGeometry=lh;t.ImageBitmapLoader=Xl;t.ImageLoader=eg;t.ImageUtils=zh;t.IncrementStencilOp=7682;t.IncrementWrapStencilOp=34055;t.InstancedBufferAttribute=ff;t.InstancedBufferGeometry=
Ak;t.InstancedInterleavedBuffer=um;t.InstancedMesh=Mj;t.Int16BufferAttribute=pl;t.Int32BufferAttribute=ql;t.Int8BufferAttribute=ml;t.IntType=1013;t.InterleavedBuffer=Vg;t.InterleavedBufferAttribute=af;t.Interpolant=cg;t.InterpolateDiscrete=2300;t.InterpolateLinear=2301;t.InterpolateSmooth=2302;t.InvertStencilOp=5386;t.KeepStencilOp=7680;t.KeyframeTrack=ed;t.LOD=Dj;t.LatheBufferGeometry=Ym;t.LatheGeometry=$f;t.Layers=ng;t.LessDepth=2;t.LessEqualDepth=3;t.LessEqualStencilFunc=515;t.LessStencilFunc=
513;t.Light=Yd;t.LightProbe=sh;t.Line=Wd;t.Line3=Am;t.LineBasicMaterial=Kc;t.LineCurve=ch;t.LineCurve3=Yj;t.LineDashedMaterial=lk;t.LineLoop=Sj;t.LineSegments=od;t.LinearEncoding=3E3;t.LinearFilter=1006;t.LinearInterpolant=Hi;t.LinearMipMapLinearFilter=1008;t.LinearMipMapNearestFilter=1007;t.LinearMipmapLinearFilter=1008;t.LinearMipmapNearestFilter=1007;t.LinearSRGBColorSpace="srgb-linear";t.LinearToneMapping=1;t.Loader=Tc;t.LoaderUtils=Ni;t.LoadingManager=Ii;t.LoopOnce=2200;t.LoopPingPong=2202;t.LoopRepeat=
2201;t.LuminanceAlphaFormat=1025;t.LuminanceFormat=1024;t.MOUSE={LEFT:0,MIDDLE:1,RIGHT:2,ROTATE:0,DOLLY:1,PAN:2};t.Material=Fc;t.MaterialLoader=Mi;t.MathUtils=Ya;t.Matrix3=hb;t.Matrix4=Fb;t.MaxEquation=104;t.Mesh=xc;t.MeshBasicMaterial=Vd;t.MeshDepthMaterial=Gh;t.MeshDistanceMaterial=Hh;t.MeshLambertMaterial=jk;t.MeshMatcapMaterial=kk;t.MeshNormalMaterial=ik;t.MeshPhongMaterial=gk;t.MeshPhysicalMaterial=fk;t.MeshStandardMaterial=Gi;t.MeshToonMaterial=hk;t.MinEquation=103;t.MirroredRepeatWrapping=
1002;t.MixOperation=1;t.MultiplyBlending=4;t.MultiplyOperation=0;t.NearestFilter=1003;t.NearestMipMapLinearFilter=1005;t.NearestMipMapNearestFilter=1004;t.NearestMipmapLinearFilter=1005;t.NearestMipmapNearestFilter=1004;t.NeverDepth=0;t.NeverStencilFunc=512;t.NoBlending=0;t.NoColorSpace="";t.NoToneMapping=0;t.NormalAnimationBlendMode=2500;t.NormalBlending=1;t.NotEqualDepth=7;t.NotEqualStencilFunc=517;t.NumberKeyframeTrack=Lf;t.Object3D=bc;t.ObjectLoader=Vl;t.ObjectSpaceNormalMap=1;t.OctahedronBufferGeometry=
Zm;t.OctahedronGeometry=ag;t.OneFactor=201;t.OneMinusDstAlphaFactor=207;t.OneMinusDstColorFactor=209;t.OneMinusSrcAlphaFactor=205;t.OneMinusSrcColorFactor=203;t.OrthographicCamera=Ug;t.PCFShadowMap=1;t.PCFSoftShadowMap=2;t.PMREMGenerator=Bh;t.Path=Zf;t.PerspectiveCamera=Dc;t.Plane=Hd;t.PlaneBufferGeometry=$m;t.PlaneGeometry=lf;t.PlaneHelper=Mm;t.PointLight=vk;t.PointLightHelper=Dm;t.Points=Uj;t.PointsMaterial=vi;t.PolarGridHelper=Hm;t.PolyhedronBufferGeometry=an;t.PolyhedronGeometry=Xd;t.PositionalAudio=
em;t.PropertyBinding=$b;t.PropertyMixer=Kk;t.QuadraticBezierCurve=Bi;t.QuadraticBezierCurve3=Ci;t.Quaternion=lb;t.QuaternionKeyframeTrack=Ne;t.QuaternionLinearInterpolant=ok;t.RED_GREEN_RGTC2_Format=36285;t.RED_RGTC1_Format=36283;t.REVISION="150";t.RGBADepthPacking=3201;t.RGBAFormat=1023;t.RGBAIntegerFormat=1033;t.RGBA_ASTC_10x10_Format=37819;t.RGBA_ASTC_10x5_Format=37816;t.RGBA_ASTC_10x6_Format=37817;t.RGBA_ASTC_10x8_Format=37818;t.RGBA_ASTC_12x10_Format=37820;t.RGBA_ASTC_12x12_Format=37821;t.RGBA_ASTC_4x4_Format=
37808;t.RGBA_ASTC_5x4_Format=37809;t.RGBA_ASTC_5x5_Format=37810;t.RGBA_ASTC_6x5_Format=37811;t.RGBA_ASTC_6x6_Format=37812;t.RGBA_ASTC_8x5_Format=37813;t.RGBA_ASTC_8x6_Format=37814;t.RGBA_ASTC_8x8_Format=37815;t.RGBA_BPTC_Format=36492;t.RGBA_ETC2_EAC_Format=37496;t.RGBA_PVRTC_2BPPV1_Format=35843;t.RGBA_PVRTC_4BPPV1_Format=35842;t.RGBA_S3TC_DXT1_Format=33777;t.RGBA_S3TC_DXT3_Format=33778;t.RGBA_S3TC_DXT5_Format=33779;t.RGB_ETC1_Format=36196;t.RGB_ETC2_Format=37492;t.RGB_PVRTC_2BPPV1_Format=35841;t.RGB_PVRTC_4BPPV1_Format=
35840;t.RGB_S3TC_DXT1_Format=33776;t.RGFormat=1030;t.RGIntegerFormat=1031;t.RawShaderMaterial=ek;t.Ray=Qf;t.Raycaster=wm;t.RectAreaLight=yk;t.RedFormat=1028;t.RedIntegerFormat=1029;t.ReinhardToneMapping=2;t.RepeatWrapping=1E3;t.ReplaceStencilOp=7681;t.ReverseSubtractEquation=102;t.RingBufferGeometry=bn;t.RingGeometry=mh;t.SIGNED_RED_GREEN_RGTC2_Format=36286;t.SIGNED_RED_RGTC1_Format=36284;t.SRGBColorSpace="srgb";t.Scene=yj;t.ShaderChunk=Ib;t.ShaderLib=Xc;t.ShaderMaterial=fd;t.ShadowMaterial=dk;t.Shape=
ue;t.ShapeBufferGeometry=cn;t.ShapeGeometry=nh;t.ShapePath=Pm;t.ShapeUtils=Dd;t.ShortType=1011;t.Skeleton=ti;t.SkeletonHelper=Cm;t.SkinnedMesh=Ij;t.Source=oe;t.Sphere=se;t.SphereBufferGeometry=dn;t.SphereGeometry=bg;t.Spherical=xm;t.SphericalHarmonics3=zk;t.SplineCurve=Di;t.SpotLight=tk;t.SpotLightHelper=Bm;t.Sprite=Bj;t.SpriteMaterial=qi;t.SrcAlphaFactor=204;t.SrcAlphaSaturateFactor=210;t.SrcColorFactor=202;t.StaticCopyUsage=35046;t.StaticDrawUsage=35044;t.StaticReadUsage=35045;t.StereoCamera=am;
t.StreamCopyUsage=35042;t.StreamDrawUsage=35040;t.StreamReadUsage=35041;t.StringKeyframeTrack=ne;t.SubtractEquation=101;t.SubtractiveBlending=3;t.TOUCH={ROTATE:0,PAN:1,DOLLY_PAN:2,DOLLY_ROTATE:3};t.TangentSpaceNormalMap=0;t.TetrahedronBufferGeometry=en;t.TetrahedronGeometry=oh;t.Texture=rc;t.TextureLoader=Rl;t.TorusBufferGeometry=fn;t.TorusGeometry=ph;t.TorusKnotBufferGeometry=gn;t.TorusKnotGeometry=qh;t.Triangle=Wc;t.TriangleFanDrawMode=2;t.TriangleStripDrawMode=1;t.TrianglesDrawMode=0;t.TubeBufferGeometry=
hn;t.TubeGeometry=rh;t.TwoPassDoubleSide=2;t.UVMapping=300;t.Uint16BufferAttribute=Dh;t.Uint32BufferAttribute=Ch;t.Uint8BufferAttribute=nl;t.Uint8ClampedBufferAttribute=ol;t.Uniform=Lk;t.UniformsGroup=tm;t.UniformsLib=ab;t.UniformsUtils=bj;t.UnsignedByteType=1009;t.UnsignedInt248Type=1020;t.UnsignedIntType=1014;t.UnsignedShort4444Type=1017;t.UnsignedShort5551Type=1018;t.UnsignedShortType=1012;t.VSMShadowMap=3;t.Vector2=za;t.Vector3=aa;t.Vector4=cc;t.VectorKeyframeTrack=Mf;t.VideoTexture=Fl;t.WebGL1Renderer=
xj;t.WebGL3DRenderTarget=cl;t.WebGLArrayRenderTarget=bl;t.WebGLCubeRenderTarget=Ri;t.WebGLMultipleRenderTargets=dl;t.WebGLRenderTarget=Yc;t.WebGLRenderer=Cf;t.WebGLUtils=pg;t.WireframeGeometry=bk;t.WrapAroundEnding=2402;t.ZeroCurvatureEnding=2400;t.ZeroFactor=200;t.ZeroSlopeEnding=2401;t.ZeroStencilOp=0;t._SRGBAFormat=1035;t.sRGBEncoding=3001})};
shadow$provide[3]=function(z,v,J,m){Object.defineProperty(m,"__esModule",{value:!0});m.Api=void 0;class t{static apply(p){p.set=function(n){const c=this.options||{},e=Object.entries(n).reduce(function(f,[h,k]){c[h]!==k&&(f[h]=k);return f},{});this.options=Object.assign(c,e);this.trigger({type:"change",options:n,changes:e})};p.get=function(){return this.options};p.api=function(n,c){n||(n={});c&&Object.entries(n).forEach(function([e,f]){"function"===typeof f&&(n[e]=(...h)=>f(...h,c))});n.set=this.set.bind(this);
n.get=this.get.bind(this);return n}}}m.Api=t};
shadow$provide[4]=function(z,v,J,m){Object.defineProperty(m,"__esModule",{value:!0});m.Binder=void 0;var t=v(2);class p{static bind(n,c){return function(e,f){f.__binds||(f.__binds=[]);let h=n;Array.isArray(e)&&(h=e[0],e=e[1]);var k=/^([^.:]*(?:\.[^.:]+)*)?(?::(.*))?$/.exec(e);const g=k[1].split(/\./g),r=g.pop(),u=k[2]||r;k=g.shift();let w={this:f}[k]||c[k]||n[k]||h;for(;w&&(e=g.shift());)w=w[e];if(w&&(w.on||w.addEventListener)){const x=function(B){f[u]&&f[u](B,n)};p._polyfill(w,["addEventListener",
"on"],function(B){w[B](r,x)});f.__binds.push({target:w,name:r,callback:x});return x}throw"Cannot bind '"+e+"' in "+this.__name;}}static unbind(){return function(n){n.__binds&&(n.__binds.forEach(function(c){p._polyfill(c.target,["removeEventListener","off"],function(e){c.target[e](c.name,c.callback)})}.bind(this)),n.__binds=[])}}static apply(n){n.trigger=p._trigger;n.triggerOnce=p._triggerOnce;n.hasEventListener=t.EventDispatcher.prototype.hasEventListener;n.addEventListener=t.EventDispatcher.prototype.addEventListener;
n.removeEventListener=t.EventDispatcher.prototype.removeEventListener;n.on=n.addEventListener;n.off=n.removeEventListener;n.dispatchEvent=n.trigger}static _triggerOnce(n){this.trigger(n);this._listeners&&delete this._listeners[n.type]}static _trigger(n){if(void 0!==this._listeners){var c=this._listeners[n.type];if(void 0!==c){c=c.slice();const e=c.length;n.target=this;for(let f=0;f<e;f++)c[f].call(this,n,this)}}}static _polyfill(n,c,e){c.map(function(f){return n.method});c.length&&e(c[0])}}m.Binder=
p};
shadow$provide[5]=function(z,v,J,m){function t(c){return c&&"string"===typeof c.valueOf()}Object.defineProperty(m,"__esModule",{value:!0});m.Bootstrap=void 0;z=v(3);v=v(4);const p=(c,e)=>{let f=0;for(const h of c){if(!1===e(h,f,c))break;f++}};class n{static initClass(){this.Plugins={};this.Aliases={}}static registerPlugin(c,e){const f=function(h){n.Plugin.call(this,h);this.__name=c};f.prototype=Object.assign(new n.Plugin,e);this.Plugins[c]=f}static unregisterPlugin(c){delete this.Plugins[c]}static registerAlias(c,
e){this.Aliases[c]=e}static unregisterAlias(c){delete this.Aliases[c]}constructor(c){if(c){var e=[].slice.apply(arguments);c={};if(e[0]instanceof Node){const f=e[0];e=e.slice(1);c.element=f}t(e[0])?c.plugins=e:Array.isArray(e[0])?c.plugins=e[0]:e[0]&&(c=Object.assign({},e[0],c))}this.__options=Object.assign({},{init:!0,element:document.body,plugins:["core"],aliases:{},plugindb:n.Plugins||{},aliasdb:n.Aliases||{}},c||{});this.__destroyed=this.__inited=!1;this.__installed=[];e=this.__options.element;
e===""+e&&(e=document.querySelector(e));this.plugins={};this.element=e;this.trigger=this.trigger.bind(this);this.frame=this.frame.bind(this);this.events=["pre","update","render","post"].map(function(f){return{type:f}});this.__options.init&&this.init()}init(){this.__inited||(this.__inited=!0,this.install(this.__options.plugins))}destroy(){this.__inited&&!this.__destroyed&&(this.__destroyed=!0,this.trigger({type:"destroy"}),this.uninstall())}frame(){this.events.map(this.trigger)}resolve(c){function e(g,
r,u){if(256<=u)throw"Plug-in alias recursion detected.";g=g.filter(k);g.forEach(function(w){const x=h[w];x?r=r.concat(e(x,[],u+1)):r.push(w)});return r}c=Array.isArray(c)?c:[c];const f=this.__options,h=Object.assign({},f.aliasdb,f.aliases),k=function(g){g=g.split(":");if(!g[1])return!0;h[g[0]]=[g[1]];return!1};c=c.filter(k);Object.entries(h).forEach(function([g,r]){h[g]=Array.isArray(r)?r:[r]});return e(c,[],0)}install(c){c=Array.isArray(c)?c:[c];c=this.resolve(c);p(c,e=>this.__install(e));this.__ready()}uninstall(c){c&&
(c=Array.isArray(c)?c:[c],c=this.resolve(c));(c||this.__installed).reverse().forEach(e=>this.__uninstall(e))}__install(c){var e=this.__options.plugindb[c];if(!e)throw"[three.install] Cannot install. '"+c+"' is not registered.";if(this.plugins[c])return console.warn("[three.install] "+c+" is already installed.");e=new e(this.__options[c]||{},c);this.plugins[c]=e;c=e.install(this);this.__installed.push(e);this.trigger({type:"install",plugin:e});return c}__uninstall(c){const e=t(c)?this.plugins[c]:c;
e?(c=e.__name,e.uninstall(this),this.__installed=this.__installed.filter(f=>f!==e),delete this.plugins[c],this.trigger({type:"uninstall",plugin:e})):console.warn("[three.uninstall] "+c+"' is not installed.")}__ready(){this.triggerOnce({type:"ready"})}}m.Bootstrap=n;n.initClass();n.Plugin=function(c){this.options=Object.assign({},this.defaults,c||{})};n.Plugin.prototype={listen:[],defaults:{},install:function(c){},uninstall:function(c){}};v.Binder.apply(n.prototype);v.Binder.apply(n.Plugin.prototype);
z.Api.apply(n.Plugin.prototype)};
shadow$provide[6]=function(z,v,J,m){v(5).Bootstrap.registerPlugin("splash",{defaults:{color:"mono",fancy:!0},listen:["ready","mathbox/init:init","mathbox/progress:progress","mathbox/destroy:destroy"],uninstall(){return this.destroy()},ready(t,p){if(p.MathBox&&!this.div)return this.init(t,p)},init(t,p){this.destroy();({color:t}=this.options);var n=`\
<div class="mathbox-loader mathbox-splash-${t}">
  <div class="mathbox-logo">
    <div> <div></div><div></div><div></div> </div>
    <div> <div></div><div></div><div></div> </div>
  </div>
  <div class="mathbox-progress"><div></div></div>
</div>\
`;this.div=t=document.createElement("div");t.innerHTML=n;p.element.appendChild(t);n=2*Math.random()-1;const c=2*Math.random()-1,e=2*Math.random()-1,f=1/Math.sqrt(n*n+c*c+e*e);this.loader=t.querySelector(".mathbox-loader");this.bar=t.querySelector(".mathbox-progress \x3e div");this.gyro=t.querySelectorAll(".mathbox-logo \x3e div");this.transforms=["rotateZ(22deg) rotateX(24deg) rotateY(30deg)","rotateZ(11deg) rotateX(12deg) rotateY(15deg) scale3d(.6, .6, .6)"];this.random=[n*f,c*f,e*f];this.start=
p.Time.now;return this.timer=null},progress(t,p){if(this.div){var {current:n,total:c}=t;t=n<c;clearTimeout(this.timer);t?(this.loader.classList.remove("mathbox-exit"),this.loader.style.display="block"):(this.loader.classList.add("mathbox-exit"),this.timer=setTimeout(()=>this.loader.style.display="none",150));this.bar.style.width=n<c?.1*Math.round(1E3*n/c)+"%":"100%";if(this.options.fancy){const e=this.random,f=Math.max(0,Math.min(1,p.Time.now-this.start)),h=function(k,g){null==g&&(g=0);return k.replace(/(-?[0-9.e]+)deg/g,
(r,u)=>+u+e[g++]*f*p.Time.step*60+"deg")};return(()=>{const k=[];for(let g=0;g<this.gyro.length;g++){let r;const u=this.gyro[g];this.transforms[g]=r=h(this.transforms[g]);k.push(u.style.transform=u.style.WebkitTransform=r)}return k})()}}},destroy(){null!=this.div&&this.div.remove();return this.div=null}})};
shadow$provide[7]=function(z,v,J,m){z=v(5);z.Bootstrap.registerAlias("empty","fallback bind renderer size fill loop time".split(" "));z.Bootstrap.registerAlias("core",["empty","scene","camera","render","warmup"]);z.Bootstrap.registerAlias("VR",["core","cursor","fullscreen","render:vr"])};
shadow$provide[8]=function(z,v,J,m){z=v(5);var t=v(4);z.Bootstrap.registerPlugin("bind",{install:function(p){p.bind=t.Binder.bind(p,{three:p,window});p.unbind=t.Binder.unbind(p);p.bind("install:bind",this);p.bind("uninstall:unbind",this)},uninstall:function(p){p.unbind(this);delete p.bind;delete p.unbind},bind:function(p,n){const c=p.plugin;(p=c.listen)&&p.forEach(function(e){n.bind(e,c)})},unbind:function(p,n){n.unbind(p.plugin)}})};
shadow$provide[9]=function(z,v,J,m){var t=v(2);v(5).Bootstrap.registerPlugin("camera",{defaults:{near:.01,far:1E4,type:"perspective",fov:60,aspect:null,left:-1,right:1,bottom:-1,top:1,klass:null,parameters:null},listen:["resize","this.change"],install:function(p){p.Camera=this.api();p.camera=null;this.aspect=1;this.change({},p)},uninstall:function(p){delete p.Camera;delete p.camera},change:function(p,n){const c=this.options,e=n.camera;if(!n.camera||p.changes.type||p.changes.klass)p=c.klass||{perspective:t.PerspectiveCamera,
orthographic:t.OrthographicCamera}[c.type]||t.Camera,n.camera=c.parameters?new p(c.parameters):new p;Object.entries(c).forEach(function([f]){Object.prototype.hasOwnProperty.call(n.camera,f)&&(n.camera[f]=c[f])}.bind(this));this.update(n);e===n.camera||n.trigger({type:"camera",camera:n.camera})},resize:function(p,n){this.aspect=p.viewWidth/Math.max(1,p.viewHeight);this.update(n)},update:function(p){p.camera.aspect=this.options.aspect||this.aspect;p.camera.updateProjectionMatrix()}})};
shadow$provide[10]=function(z,v,J,m){v(5).Bootstrap.registerPlugin("fallback",{defaults:{force:!1,fill:!0,begin:'\x3cdiv class\x3d"threestrap-fallback" style\x3d"display: table; width: 100%; height: 100%;box-sizing: border-box; border: 1px dashed rgba(0, 0, 0, .25);"\x3e\x3cdiv style\x3d"display: table-cell; padding: 10px; vertical-align: middle; text-align: center;"\x3e',end:"\x3c/div\x3e\x3c/div\x3e",message:'\x3cbig\x3e\x3cstrong\x3eThis example requires WebGL\x3c/strong\x3e\x3c/big\x3e\x3cbr\x3eVisit \x3ca target\x3d"_blank" href\x3d"http://get.webgl.org/"\x3eget.webgl.org\x3c/a\x3e for more info\x3c/a\x3e'},
install:function(t){try{var p=document.createElement("canvas");var n=p.getContext("webgl")||p.getContext("experimental-webgl");if(!n||this.options.force)throw"WebGL unavailable.";t.fallback=!1}catch(c){p=this.options.message;n=this.options.begin;const e=this.options.end,f=this.options.fill,h=document.createElement("div");h.innerHTML=n+p+e;for(this.children=[];0<h.childNodes.length;)this.children.push(h.firstChild),t.element.appendChild(h.firstChild);f&&t.install("fill");this.div=h;t.fallback=!0;return!1}},
uninstall:function(t){this.children&&(this.children.forEach(function(p){p.parentNode.removeChild(p)}),this.children=null);delete t.fallback}})};
shadow$provide[11]=function(z,v,J,m){v(5).Bootstrap.registerPlugin("fill",{defaults:{block:!0,body:!0,layout:!0},install:function(t){function p(c){c=c.style.height;return"auto"==c||""==c}function n(c){c.style.height="100%";c.style.margin=0;c.style.padding=0;return c}this.options.body&&t.element==document.body&&(this.applied=[t.element,document.documentElement].filter(p).map(n));this.options.block&&t.canvas&&(t.canvas.style.display="block",this.block=!0);this.options.layout&&t.element&&"static"==window.getComputedStyle(t.element).position&&
(t.element.style.position="relative",this.layout=!0)},uninstall:function(t){this.applied&&(this.applied.map(function(p){p.style.height="";p.style.margin="";p.style.padding="";return p}),delete this.applied);this.block&&t.canvas&&(t.canvas.style.display="",delete this.block);this.layout&&t.element&&(t.element.style.position="",delete this.layout)},change:function(t){this.uninstall(t);this.install(t)}})};
shadow$provide[12]=function(z,v,J,m){v(5).Bootstrap.registerPlugin("loop",{defaults:{start:!0,each:1},listen:["ready"],install:function(t){this.running=!1;this.lastRequestId=null;t.Loop=this.api({start:this.start.bind(this),stop:this.stop.bind(this),running:!1,window},t);this.events=["pre","update","render","post"].map(function(p){return{type:p}})},uninstall:function(t){this.stop(t)},ready:function(t,p){this.options.start&&this.start(p)},start:function(t){if(!this.running){t.Loop.running=this.running=
!0;var p=t.trigger.bind(t),n=function(){this.running&&(this.lastRequestId=t.Loop.window.requestAnimationFrame(n),this.events.map(p))}.bind(this);this.lastRequestId=t.Loop.window.requestAnimationFrame(n);t.trigger({type:"start"})}},stop:function(t){this.running&&(t.Loop.running=this.running=!1,t.Loop.window.cancelAnimationFrame(this.lastRequestId),this.lastRequestId=null,t.trigger({type:"stop"}))}})};
shadow$provide[13]=function(z,v,J,m){v(5).Bootstrap.registerPlugin("render",{listen:["render"],render:function(t,p){p.scene&&p.camera&&p.renderer.render(p.scene,p.camera)}})};
shadow$provide[14]=function(z,v,J,m){z=v(2);v(5).Bootstrap.registerPlugin("renderer",{defaults:{klass:z.WebGL1Renderer,parameters:{depth:!0,stencil:!0,preserveDrawingBuffer:!0,antialias:!0}},listen:["resize"],install:function(t){const p=t.renderer=new this.options.klass(this.options.parameters);t.canvas=p.domElement;t.element.appendChild(p.domElement)},uninstall:function(t){t.element.removeChild(t.renderer.domElement);delete t.renderer;delete t.canvas},resize:function(t,p){p=p.renderer;const n=p.domElement;
n&&"CANVAS"==n.tagName?p.setSize(t.renderWidth,t.renderHeight,!1):(p.setRenderSize&&p.setRenderSize(t.renderWidth,t.renderHeight),p.setSize(t.viewWidth,t.viewHeight,!1))}})};
shadow$provide[15]=function(z,v,J,m){var t=v(2);v(5).Bootstrap.registerPlugin("scene",{install:function(p){p.scene=new t.Scene},uninstall:function(p){delete p.scene}})};
shadow$provide[16]=function(z,v,J,m){v(5).Bootstrap.registerPlugin("size",{defaults:{width:null,height:null,aspect:null,scale:1,maxRenderWidth:Infinity,maxRenderHeight:Infinity,devicePixelRatio:!0},listen:["window.resize:queue","element.resize:queue","this.change:queue","ready:resize","pre:pre"],install:function(t){t.Size=this.api({renderWidth:0,renderHeight:0,viewWidth:0,viewHeight:0});this.resized=!1},uninstall:function(t){delete t.Size},queue:function(t,p){this.resized=!0},pre:function(t,p){this.resized&&
(this.resized=!1,this.resize(t,p))},resize:function(t,p){var n=this.options,c=p.element,e=p.renderer,f,h;let k,g=0,r=0;t=f=void 0===n.width||null==n.width?c.offsetWidth||c.innerWidth||0:n.width;c=h=void 0===n.height||null==n.height?c.offsetHeight||c.innerHeight||0:n.height;k=t/c;n.aspect&&(n.aspect>k?(c=Math.round(t/n.aspect),r=Math.floor((h-c)/2)):(t=Math.round(c*n.aspect),g=Math.floor((f-t)/2)),k=t/c);h=1;n.devicePixelRatio&&"undefined"!=typeof window&&(h=window.devicePixelRatio||1);f=Math.round(Math.min(t*
h*n.scale,n.maxRenderWidth));n=Math.round(Math.min(c*h*n.scale,n.maxRenderHeight));f/n>k?f=Math.round(n*k):n=Math.round(f/k);h=n/c;e=e.domElement.style;e.width=t+"px";e.height=c+"px";e.marginLeft=g+"px";e.marginTop=r+"px";Object.assign(p.Size,{renderWidth:f,renderHeight:n,viewWidth:t,viewHeight:c,aspect:k,pixelRatio:h});p.trigger({type:"resize",renderWidth:f,renderHeight:n,viewWidth:t,viewHeight:c,aspect:k,pixelRatio:h})}})};
shadow$provide[17]=function(z,v,J,m){v(5).Bootstrap.registerPlugin("time",{defaults:{speed:1,warmup:0,timeout:1},listen:["pre:tick","this.change"],now:function(){return+new Date/1E3},install:function(t){t.Time=this.api({now:this.now(),clock:0,step:1/60,frames:0,time:0,delta:1/60,average:0,fps:0});this.clock=this.time=this.last=0;this.wait=this.options.warmup;this.timeStart=this.clockStart=0},tick:function(t,p){t=this.options.speed;const n=this.options.timeout;p=p.Time;const c=p.now=this.now();var e=
this.last;let f=this.time,h=this.clock;if(e){e=p.delta=c-e;const k=p.average||e;e>n&&(e=0);t*=e;f+=e;h+=t;0<p.frames&&(p.average=k+.1*(e-k),p.fps=1/k);p.step=t;p.clock=h-this.clockStart;p.time=f-this.timeStart;p.frames++;0<this.wait--&&(this.clockStart=h,this.timeStart=f,p.clock=0,p.step=1E-100)}this.last=c;this.clock=h;this.time=f},uninstall:function(t){delete t.Time}})};
shadow$provide[18]=function(z,v,J,m){v(5).Bootstrap.registerPlugin("warmup",{defaults:{delay:2},listen:["ready","post"],ready:function(t,p){p.renderer.domElement.style.visibility="hidden";this.frame=0;this.hidden=!0},post:function(t,p){this.hidden&&this.frame>=this.options.delay&&(p.renderer.domElement.style.visibility="visible",this.hidden=!1);this.frame++}})};
shadow$provide[19]=function(z,v,J,m){v(8);v(9);v(10);v(11);v(12);v(13);v(14);v(15);v(16);v(17);v(18)};
shadow$provide[20]=function(z,v,J,m){var t=v(2);v(5).Bootstrap.registerPlugin("controls",{listen:["update","resize","camera","this.change"],defaults:{klass:null,parameters:{}},install:function(p){if(!this.options.klass)throw"Must provide class for `controls.klass`";p.controls=null;this._camera=p.camera||new t.PerspectiveCamera;this.change(null,p)},uninstall:function(p){delete p.controls},change:function(p,n){if(this.options.klass){if(!p||p.changes.klass)n.controls=new this.options.klass(this._camera,
n.renderer.domElement);Object.assign(n.controls,this.options.parameters)}else n.controls=null},update:function(p,n){p=n.Time&&n.Time.delta||1/60;const c=n.VR&&n.VR.state;n.controls.vr&&n.controls.vr(c);n.controls.update(p)},camera:function(p,n){n.controls.object=this._camera=p.camera},resize:function(p,n){n.controls.handleResize&&n.controls.handleResize()}})};
shadow$provide[21]=function(z,v,J,m){v(5).Bootstrap.registerPlugin("cursor",{listen:"update this.change install:change uninstall:change element.mousemove vr".split(" "),defaults:{cursor:null,hide:!1,timeout:3},install:function(t){this.timeout=this.options.timeout;this.element=t.element;this.change(null,t)},uninstall:function(t){delete t.controls},change:function(t,p){this.applyCursor(p)},mousemove:function(t,p){this.options.hide&&(this.applyCursor(p),this.timeout=+this.options.timeout||0)},update:function(t,
p){t=p.Time&&p.Time.delta||1/60;this.options.hide&&(this.timeout-=t,0>this.timeout&&this.applyCursor(p,"none"))},vr:function(t,p){this.hide=t.active&&!t.hmd.fake;this.applyCursor(p)},applyCursor:function(t,p){t=t.controls?"move":"";p=p||this.options.cursor||t;this.hide&&(p="none");this.cursor!=p&&(this.element.style.cursor=p)}})};
shadow$provide[22]=function(z,v,J,m){v(5).Bootstrap.registerPlugin("fullscreen",{defaults:{key:"f"},listen:["ready","update"],install:function(t){t.Fullscreen=this.api({active:!1,toggle:this.toggle.bind(this)},t)},uninstall:function(t){delete t.Fullscreen},ready:function(t,p){document.body.addEventListener("keypress",function(n){this.options.key&&n.charCode==this.options.key.charCodeAt(0)&&this.toggle(p)}.bind(this));t=function(){const n=!!document.fullscreenElement||!!document.mozFullScreenElement||
!!document.webkitFullscreenElement||!!document.msFullscreenElement;p.Fullscreen.active=this.active=n;p.trigger({type:"fullscreen",active:n})}.bind(this);document.addEventListener("fullscreenchange",t,!1);document.addEventListener("webkitfullscreenchange",t,!1);document.addEventListener("mozfullscreenchange",t,!1)},toggle:function(t){const p=t.canvas;t=t.VR&&t.VR.active?{vrDisplay:t.VR.hmd}:{};this.active?document.exitFullscreen?document.exitFullscreen():document.msExitFullscreen?document.msExitFullscreen():
document.webkitExitFullscreen?document.webkitExitFullscreen():document.mozCancelFullScreen&&document.mozCancelFullScreen():p.requestFullScreen?p.requestFullScreen(t):p.msRequestFullScreen?p.msRequestFullscreen(t):p.webkitRequestFullscreen?p.webkitRequestFullscreen(t):p.mozRequestFullScreen&&p.mozRequestFullScreen(t)}})};
shadow$provide[23]=function(z,v,J,m){(function(t,p){"object"===typeof m&&"undefined"!==typeof J?J.exports=p():"function"===typeof define&&define.amd?define(p):t.Stats=p()})(this,function(){var t=function(){function p(w){e.appendChild(w.dom);return w}function n(w){for(var x=0;x<e.children.length;x++)e.children[x].style.display=x===w?"block":"none";c=w}var c=0,e=document.createElement("div");e.style.cssText="position:fixed;top:0;left:0;cursor:pointer;opacity:0.9;z-index:10000";e.addEventListener("click",
function(w){w.preventDefault();n(++c%e.children.length)},!1);var f=(performance||Date).now(),h=f,k=0,g=p(new t.Panel("FPS","#0ff","#002")),r=p(new t.Panel("MS","#0f0","#020"));if(self.performance&&self.performance.memory)var u=p(new t.Panel("MB","#f08","#201"));n(0);return{REVISION:16,dom:e,addPanel:p,showPanel:n,begin:function(){f=(performance||Date).now()},end:function(){k++;var w=(performance||Date).now();r.update(w-f,200);if(w>h+1E3&&(g.update(1E3*k/(w-h),100),h=w,k=0,u)){var x=performance.memory;
u.update(x.usedJSHeapSize/1048576,x.jsHeapSizeLimit/1048576)}return w},update:function(){f=this.end()},domElement:e,setMode:n}};t.Panel=function(p,n,c){var e=Infinity,f=0,h=Math.round,k=h(window.devicePixelRatio||1),g=80*k,r=48*k,u=3*k,w=2*k,x=3*k,B=15*k,E=74*k,C=30*k,H=document.createElement("canvas");H.width=g;H.height=r;H.style.cssText="width:80px;height:48px";var I=H.getContext("2d");I.font="bold "+9*k+"px Helvetica,Arial,sans-serif";I.textBaseline="top";I.fillStyle=c;I.fillRect(0,0,g,r);I.fillStyle=
n;I.fillText(p,u,w);I.fillRect(x,B,E,C);I.fillStyle=c;I.globalAlpha=.9;I.fillRect(x,B,E,C);return{dom:H,update:function(K,O){e=Math.min(e,K);f=Math.max(f,K);I.fillStyle=c;I.globalAlpha=1;I.fillRect(0,0,g,B);I.fillStyle=n;I.fillText(h(K)+" "+p+" ("+h(e)+"-"+h(f)+")",u,w);I.drawImage(H,x+k,B,E-k,C,x,B,E-k,C);I.fillRect(x+E-k,B,k,C);I.fillStyle=c;I.globalAlpha=.9;I.fillRect(x+E-k,B,k,h((1-K/O)*C))}}};return t})};
shadow$provide[24]=function(z,v,J,m){var t=function(p){return p&&p.__esModule?p:{default:p}}(v(23));v(5).Bootstrap.registerPlugin("stats",{listen:["pre","post"],install:function(p){const n=this.stats=new t.default,c=n.domElement.style;c.position="absolute";c.top=c.left=0;p.element.appendChild(n.domElement);p.stats=n},uninstall:function(p){this.stats.domElement.remove();delete p.stats},pre:function(p,n){this.stats.begin()},post:function(p,n){this.stats.end()}})};
shadow$provide[25]=function(z,v,J,m){v(5).Bootstrap.registerPlugin("ui",{defaults:{theme:"white",style:".threestrap-ui { position: absolute; bottom: 5px; right: 5px; float: left; }.threestrap-ui button { border: 0; background: none;  vertical-align: middle; font-weight: bold; } .threestrap-ui .glyphicon { top: 2px; font-weight: bold; } @media (max-width: 640px) { .threestrap-ui button { font-size: 120% } }.threestrap-white button { color: #fff; text-shadow: 0 1px 1px rgba(0, 0, 0, 1), 0 1px 3px rgba(0, 0, 0, 1); }.threestrap-black button { color: #000; text-shadow: 0 0px 1px rgba(255, 255, 255, 1), 0 0px 2px rgba(255, 255, 255, 1), 0 0px 2px rgba(255, 255, 255, 1) }"},
listen:["fullscreen"],markup:function(t,p,n){let c="//netdna.bootstrapcdn.com/bootstrap/3.0.0/css/bootstrap-glyphicons.css";location.href.match(/^file:\/\//)&&(c="http://"+c);const e=[];t.Fullscreen&&e.push('\x3cbutton class\x3d"fullscreen" title\x3d"Full Screen"\x3e\x3cspan class\x3d"glyphicon glyphicon-fullscreen"\x3e\x3c/span\x3e\x3c/button\x3e');t.VR&&e.push('\x3cbutton class\x3d"vr" title\x3d"VR Headset"\x3eVR\x3c/button\x3e');return'\x3cstyle type\x3d"text/css"\x3e@import url("'+c+'"); '+n+
'\x3c/style\x3e\x3cdiv class\x3d"threestrap-ui threestrap-'+p+'"\x3e'+e.join("\n")+"\x3c/div\x3e"},install:function(t){var p=this.ui=document.createElement("div");p.innerHTML=this.markup(t,this.options.theme,this.options.style);document.body.appendChild(p);const n=this.ui.fullscreen=p.querySelector("button.fullscreen");n&&t.bind([n,"click:goFullscreen"],this);(p=this.ui.vr=p.querySelector("button.vr"))&&t.VR&&(t.VR.set({mode:"2d"}),t.bind([p,"click:goVR"],this))},fullscreen:function(t,p){this.ui.style.display=
t.active?"none":"block";t.active||p.VR&&p.VR.set({mode:"2d"})},goFullscreen:function(t,p){p.Fullscreen&&p.Fullscreen.toggle()},goVR:function(t,p){p.VR&&(p.VR.set({mode:"auto"}),p.Fullscreen.toggle())},uninstall:function(t){document.body.removeChild(this.ui)}})};
shadow$provide[26]=function(z,v,J,m){Object.defineProperty(m,"__esModule",{value:!0});m.VRRenderer=void 0;var t=v(2);class p{constructor(n,c){this.renderer=n;this.right=new t.Vector3;this.cameraLeft=new t.PerspectiveCamera;this.cameraRight=new t.PerspectiveCamera;n=c.getEyeTranslation("left");this.halfIPD=(new t.Vector3(n.x,n.y,n.z)).length();this.fovLeft=c.getRecommendedEyeFieldOfView("left");this.fovRight=c.getRecommendedEyeFieldOfView("right")}FovToNDCScaleOffset(n){const c=2/(n.leftTan+n.rightTan),
e=2/(n.upTan+n.downTan);return{scale:[c,e],offset:[(n.leftTan-n.rightTan)*c*.5,(n.upTan-n.downTan)*e*.5]}}FovPortToProjection(n,c,e,f,h){f=void 0===f?.01:f;h=void 0===h?1E4:h;e=void 0===e||e?-1:1;const k=n.elements;c=this.FovToNDCScaleOffset(c);k[0]=c.scale[0];k[1]=0;k[2]=c.offset[0]*e;k[3]=0;k[4]=0;k[5]=c.scale[1];k[6]=-c.offset[1]*e;k[7]=0;k[8]=0;k[9]=0;k[10]=h/(f-h)*-e;k[11]=h*f/(f-h);k[12]=0;k[13]=0;k[14]=e;k[15]=0;n.transpose()}FovToProjection(n,c,e,f,h){return this.FovPortToProjection(n,{upTan:Math.tan(c.upDegrees*
Math.PI/180),downTan:Math.tan(c.downDegrees*Math.PI/180),leftTan:Math.tan(c.leftDegrees*Math.PI/180),rightTan:Math.tan(c.rightDegrees*Math.PI/180)},e,f,h)}render(n,c){this.FovToProjection(this.cameraLeft.projectionMatrix,this.fovLeft,!0,c.near,c.far);this.FovToProjection(this.cameraRight.projectionMatrix,this.fovRight,!0,c.near,c.far);this.right.set(this.halfIPD,0,0);this.right.applyQuaternion(c.quaternion);this.cameraLeft.position.copy(c.position).sub(this.right);this.cameraRight.position.copy(c.position).add(this.right);
this.cameraLeft.quaternion.copy(c.quaternion);this.cameraRight.quaternion.copy(c.quaternion);var e=this.renderer.devicePixelRatio||1;c=this.renderer.domElement.width/2/e;e=this.renderer.domElement.height/e;this.renderer.enableScissorTest(!0);this.renderer.setViewport(0,0,c,e);this.renderer.setScissor(0,0,c,e);this.renderer.render(n,this.cameraLeft);this.renderer.setViewport(c,0,c,e);this.renderer.setScissor(c,0,c,e);this.renderer.render(n,this.cameraRight)}}m.VRRenderer=p};
shadow$provide[27]=function(z,v,J,m){z=v(5);var t=v(26);z.Bootstrap.registerPlugin("vr",{defaults:{mode:"auto",device:null,fov:80},listen:["window.load","pre","render","resize","this.change"],install:function(p){p.VR=this.api({active:!1,devices:[],hmd:null,sensor:null,renderer:null,state:null},p)},uninstall:function(p){delete p.VR},mocks:function(p,n,c){return[{fake:!0,force:1,deviceId:"emu",deviceName:"Emulated",getEyeTranslation:function(e){return{left:{x:-.03,y:0,z:0},right:{x:.03,y:0,z:0}}[e]},
getRecommendedEyeFieldOfView:function(e){var f=p.camera;const h=(n||f&&f.fov||c)/2;f=180*Math.atan(Math.tan(h*Math.PI/180)*(f&&f.aspect||16/9)/2)/Math.PI;return{left:{rightDegrees:f,leftDegrees:f,downDegrees:h,upDegrees:h},right:{rightDegrees:f,leftDegrees:f,downDegrees:h,upDegrees:h}}[e]}},{force:2,getState:function(){return{}}}]},load:function(p,n){p=function(c){this.callback(c,n)}.bind(this);navigator.getVRDevices?navigator.getVRDevices().then(p):navigator.mozGetVRDevices?navigator.mozGetVRDevices(p):
(console.warn("No native VR support detected."),p(this.mocks(n,this.options.fov,this.defaults.fov),n))},callback:function(p,n){let c,e;var f=window.HMDVRDevice||function(){};const h=window.PositionSensorVRDevice||function(){};p=n.VR.devices=p||n.VR.devices;var k=this.options.device;let g;for(let r=0;r<p.length;++r)if(g=p[r],(1==g.force||g instanceof f)&&(!k||k==g.deviceId)){c=g;break}if(c){for(k=0;k<p.length;++k)if(f=p[k],2==f.force||f instanceof h&&f.hardwareUnitId==c.hardwareUnitId){e=f;break}this.hookup(c,
e,n)}},hookup:function(p,n,c){t.VRRenderer||console.log("VRRenderer not found");this.renderer=new (t.VRRenderer||function(){})(c.renderer,p);this.hmd=p;this.sensor=n;c.VR.renderer=this.renderer;c.VR.hmd=p;c.VR.sensor=n;console.log("VRRenderer",p.deviceName)},change:function(p,n){p.changes.device&&this.callback(null,n);this.pre(p,n)},pre:function(p,n){p=this.active;const c=this.active=this.renderer&&"2d"!=this.options.mode;if((n.VR.active=c)&&this.sensor){const e=this.sensor.getState();n.VR.state=
e}else n.VR.state=null;p!=this.active&&n.trigger({type:"vr",active:c,hmd:this.hmd,sensor:this.sensor})},resize:function(p,n){this.active&&this.renderer.initialize()},render:function(p,n){if(n.scene&&n.camera){p=this.active?this.renderer:n.renderer;if(this.last!=p&&p==n.renderer){var c=p.getPixelRatio();const e=p.domElement.width/c;c=p.domElement.height/c;p.setScissorTest(!1);p.setViewport(0,0,e,c)}this.last=p;p.render(n.scene,n.camera)}}})};
shadow$provide[28]=function(z,v,J,m){v(20);v(21);v(22);v(24);v(25);v(27)};
shadow$provide[29]=function(z,v,J,m){Object.defineProperty(m,"__esModule",{value:!0});m.VRControls=void 0;var t=v(2);class p{constructor(n,c){function e(f){this.vrDisplays=f;0<f.length?this.vrDisplay=f[0]:c&&c("VR input not available.")}this.object=n;this.standingMatrix=new t.Matrix4;this.frameData=null;"VRFrameData"in window&&(this.frameData=new VRFrameData);navigator.getVRDisplays&&navigator.getVRDisplays().then(e).catch(function(){console.warn("VRControls: Unable to get VR Displays")});this.scale=
1;this.standing=!1;this.userHeight=1.6}getVRDisplay(){return this.vrDisplay}setVRDisplay(n){this.vrDisplay=n}getVRDisplays(){console.warn("VRControls: getVRDisplays() is being deprecated.");return this.vrDisplays}getStandingMatrix(){return this.standingMatrix}update(){if(this.vrDisplay){let n;this.vrDisplay.getFrameData?(this.vrDisplay.getFrameData(this.frameData),n=this.frameData.pose):this.vrDisplay.getPose&&(n=this.vrDisplay.getPose());null!==n.orientation&&this.object.quaternion.fromArray(n.orientation);
null!==n.position?this.object.position.fromArray(n.position):this.object.position.set(0,0,0);this.standing&&(this.vrDisplay.stageParameters?(this.object.updateMatrix(),this.standingMatrix.fromArray(this.vrDisplay.stageParameters.sittingToStandingTransform),this.object.applyMatrix(this.standingMatrix)):this.object.position.setY(this.object.position.y+this.userHeight));this.object.position.multiplyScalar(this.scale)}}dispose(){this.vrDisplay=null}}m.VRControls=p};
shadow$provide[30]=function(z,v,J,m){v(29)};
shadow$provide[31]=function(z,v,J,m){Object.defineProperty(m,"__esModule",{value:!0});m.MultiRenderer=void 0;var t=v(2);class p{constructor(n){console.log("MultiRenderer",t.REVISION);this.domElement=document.createElement("div");this.domElement.style.position="relative";this.renderers=[];this._renderSizeSet=!1;const c=n.renderers||[];n=n.parameters||[];for(let e=0;e<c.length;e++){const f=new c[e](n[e]);f.domElement.style.position="absolute";f.domElement.style.top="0px";f.domElement.style.left="0px";
this.domElement.appendChild(f.domElement);this.renderers.push(f)}}setSize(n,c){this.domElement.style.width=n+"px";this.domElement.style.height=c+"px";for(let e=0;e<this.renderers.length;e++){const f=this.renderers[e],h=f.domElement;(!this._renderSizeSet||h&&"CANVAS"!==h.tagName)&&f.setSize(n,c);h.style.width=n+"px";h.style.height=c+"px"}}setRenderSize(n,c){this._renderSizeSet=!0;for(let e=0;e<this.renderers.length;e++){const f=this.renderers[e],h=f.domElement;h&&"CANVAS"===h.tagName&&f.setSize(n,
c,!1)}}render(n,c){for(let e=0;e<this.renderers.length;e++)this.renderers[e].render(n,c)}}m.MultiRenderer=p};
shadow$provide[32]=function(z,v,J,m){v(31);v(26)};
shadow$provide[33]=function(z,v,J,m){Object.defineProperty(m,"__esModule",{value:!0});Object.defineProperty(m,"Api",{enumerable:!0,get:function(){return t.Api}});Object.defineProperty(m,"Binder",{enumerable:!0,get:function(){return p.Binder}});Object.defineProperty(m,"Bootstrap",{enumerable:!0,get:function(){return n.Bootstrap}});Object.defineProperty(m,"VRControls",{enumerable:!0,get:function(){return c.VRControls}});Object.defineProperty(m,"MultiRenderer",{enumerable:!0,get:function(){return e.MultiRenderer}});
Object.defineProperty(m,"VRRenderer",{enumerable:!0,get:function(){return f.VRRenderer}});v(7);v(4);v(5);v(19);v(28);v(30);v(32);var t=v(3),p=v(4),n=v(5),c=v(29),e=v(31),f=v(26)};
shadow$provide[34]=function(z,v,J,m){function t(e,f){return"undefined"!==typeof e&&null!==e?f(e):void 0}Object.defineProperty(m,"__esModule",{value:!0});m.Attributes=void 0;class p{constructor(e,f){this.context=f;this.traits=e.Traits;this.types=e.Types;this.pending=[];this.bound=[];this.last=null}make(e){return{enum:"function"===typeof e.enum?e.enum():void 0,type:"function"===typeof e.uniform?e.uniform():void 0,value:e.make()}}apply(e,f){return new c(e,f,this)}bind(e){return this.bound.push(e)}unbind(e){return this.bound=
Array.from(this.bound).filter(f=>f!==e)}queue(e,f,h,k){this.lastObject=f;this.lastKey=h;this.lastValue=k;return this.pending.push(e)}invoke(e){return e(this.context.time.clock,this.context.time.step)}compute(){if(this.bound.length)for(const e of Array.from(this.bound))this.invoke(e)}digest(){let e;if(!this.pending.length)return!1;[e,this.pending]=Array.from([this.pending,[]]);for(const f of Array.from(e))f();return!0}getTrait(e){return this.traits[e]}getLastTrigger(){return`${this.lastObject.toString()} - ${this.lastKey}=\`${this.lastValue}\``}}
m.Attributes=p;const n=function(e){const f={};for(const h in e)f[h]=e[h];return f};class c{constructor(e,f,h){let k;let g,r,u,w,x,{props:B}=f;const {traits:E,finals:C,freeform:H}=f,I=this;null!=e.props&&null!=e.expr&&null!=e.orig&&null!=e.computed&&null!=e.attributes&&(w=n(e.props),r=n(e.expr),u=e.orig(),g=e.computed(),null!=e.attributes&&e.attributes.dispose());const K={},O={},Q={},W=pa=>null!=(null!=I[pa]?I[pa].value:void 0)?null!=I[pa]?I[pa].value:void 0:t(I[null!=Q[pa]?Q[pa]:pa],Xa=>Xa.value),
R=function(pa,Xa,sb,Eb){let Sb;pa=null!=Q[pa]?Q[pa]:pa;if(null==(Sb=I[pa])){if(!H)throw Error(`${e.toString()} - Setting unknown property \`${pa}={${Xa}}\``);Sb=I[pa]={short:pa,type:null,last:null,value:null};Pa[pa]=Wb=>Wb}if(!sb){if(la[pa])throw Error(`${e.toString()} - Can't set bound property \`${pa}={${Xa}}\``);if(Aa[pa])throw Error(`${e.toString()} - Can't set computed property \`${pa}={${Xa}}\``);if(ta[pa])throw Error(`${e.toString()} - Can't set final property \`${pa}={${Xa}}\``);}let va=!0;
const jb=Cb(pa,Xa,Sb.last,function(){va=!1;return null});if(va){[Sb.value,Sb.last]=Array.from([jb,Sb.value]);const {short:Wb}=Sb;K[Wb]=jb;sb||(O[Wb]=Xa);Eb||mb[pa](Sb.value,Sb.last)||Jb(pa,Xa)}return va};f=function(pa,Xa,sb){pa=null!=Q[pa]?Q[pa]:pa;R(pa,Xa,!0,sb);return ta[pa]=!0};const X={},ca={},ka={},la={},Aa={},ta={},Ha=function(pa,Xa,sb){null==sb&&(sb=!1);pa=null!=Q[pa]?Q[pa]:pa;if("function"!==typeof Xa)throw Error(`${e.toString()} - Expression \`${pa}=>{${X}}\` is not a function`);if(la[pa])throw Error(`${e.toString()} - Property \`${pa}=>{${X}}\` is already bound`);
if(Aa[pa])throw Error(`${e.toString()} - Property \`${pa}\` is computed`);if(ta[pa])throw Error(`${e.toString()} - Property \`${pa}\` is final`);(sb?Aa:la)[pa]=Xa;const Eb=null!=I[pa]?I[pa].short:pa;sb||(X[Eb]=Xa);ka[pa]=Xa;Xa=Xa.bind(e);ca[pa]=function(Sb,va){let jb;if(jb=null!=e.clock?e.clock.getTime():void 0)Sb=jb.clock,va=jb.step;return e.set(pa,Xa(Sb,va),!0)};return h.bind(ca[pa])},Oa=function(pa,Xa){null==Xa&&(Xa=!1);pa=null!=Q[pa]?Q[pa]:pa;Xa=Xa?Aa:la;if(Xa[pa])return h.unbind(ca[pa]),delete ca[pa],
delete Xa[pa],null!=I[pa]&&(pa=I[pa].short),delete X[pa]},da=function(pa,Xa){let sb;pa=null!=Q[pa]?Q[pa]:pa;return null!=(sb="function"===typeof ka[pa]?ka[pa](Xa,0):void 0)?sb:I[pa].value};e.expr=X;e.props=K;e.evaluate=function(pa,Xa){if(null!=pa)return da(pa,Xa);const sb={};for(pa in B)sb[pa]=da(pa,Xa);return sb};e.get=function(pa){return null!=pa?W(pa):K};e.set=function(pa,Xa,sb,Eb){if("string"===typeof pa)R(pa,Xa,sb,Eb);else{Eb=sb;sb=Xa;const Sb=pa;for(pa in Sb)Xa=Sb[pa],R(pa,Xa,sb,Eb)}};e.bind=
function(pa,Xa,sb){if("string"===typeof pa)Ha(pa,Xa,sb);else{sb=Xa;const Eb=pa;for(pa in Eb)Xa=Eb[pa],Ha(pa,Xa,sb)}};e.unbind=function(pa,Xa){if("string"===typeof pa)Oa(pa,Xa);else{Xa=X;const sb=pa;for(pa in sb)Oa(pa,Xa)}};e.attribute=function(pa){return null!=pa?I[null!=Q[pa]?Q[pa]:pa]:I};e.orig=function(pa){return null!=pa?O[null!=Q[pa]?Q[pa]:pa]:n(O)};e.computed=function(pa){return null!=pa?Aa[null!=Q[pa]?Q[pa]:pa]:n(Aa)};const Wa={},Pa={},mb={},Cb=(pa,Xa,sb,Eb)=>Pa[pa](Xa,sb,Eb);e.validate=function(pa,
Xa){let sb;pa=null!=Q[pa]?Q[pa]:pa;const Eb=Wa[pa];null!=Eb&&(sb=Eb());return sb=Cb(pa,Xa,sb,function(){throw Error(`${e.toString()} - Invalid value \`${pa}={${Xa}}\``);})};let yb=!1,tb={},Rb={},ac={},Hb={};const Jb=function(pa,Xa){yb||(yb=!0,h.queue(dc,e,pa,Xa));Xa=pa.split(".")[0];tb[pa]=!0;return Rb[Xa]=!0},Tb={type:"change",changed:null,touched:null},dc=function(){Tb.changed=tb;Tb.touched=Rb;tb=ac;Rb=Hb;({changed:ac}=Tb);({touched:Hb}=Tb);yb=!1;for(pa in tb)tb[pa]=!1;for(pa in Rb)Rb[pa]=!1;Tb.type=
"change";e.trigger(Tb);var pa=[];for(const Xa in Tb.touched)Tb.type=`change:${Xa}`,pa.push(e.trigger(Tb));return pa},zb=function(pa){pa=pa.split(/\./g);const Xa=pa.pop();pa.pop();pa.unshift(Xa);return pa.reduce((sb,Eb)=>sb+Eb.charAt(0).toUpperCase()+Eb.substring(1))},ib=(pa,Xa)=>(()=>{const sb=[];for(let Eb in Xa){let Sb;const va=Xa[Eb];Eb=[pa,Eb].join(".");const jb=zb(Eb);I[Eb]={T:va,ns:pa,short:jb,enum:"function"===typeof va.enum?va.enum():void 0,type:"function"===typeof va.uniform?va.uniform():
void 0,last:va.make(),value:Sb=va.make()};if(Q[jb])throw Error(`${e.toString()} - Duplicate property \`${jb}\``);Q[jb]=Eb;K[jb]=Sb;Wa[Eb]=va.make;Pa[Eb]=null!=va.validate?va.validate:Wb=>Wb;sb.push(mb[Eb]=null!=va.equals?va.equals:(Wb,oc)=>Wb===oc)}return sb})(),Db=[];for(let pa of Array.from(E)){[pa,ec]=Array.from(pa.split(":"));const Xa=ec?[ec,pa].join("."):pa;x=h.getTrait(pa);Db.push(pa);null!=x&&ib(Xa,x)}if(null!=B)for(ec in B)x=B[ec],ib(ec,x);var ec=Db.filter((pa,Xa)=>Db.indexOf(pa)===Xa);e.traits=
ec;null!=w&&e.set(w,!0,!0);if(null!=C)for(k in C)f(k,C[k],!0);null!=u&&e.set(u,!1,!0);null!=g&&e.bind(g,!0);null!=r&&e.bind(r,!1);this.dispose=function(){for(k in Aa)Oa(k,!0);for(k in la)Oa(k,!1);B={};delete e.attributes;delete e.get;return delete e.set};null}}};
shadow$provide[35]=function(z,v,J,m){Object.defineProperty(m,"__esModule",{value:!0});m.format=m.print=m.number=m.markup=m.JSX=void 0;const t=(r,u)=>1E-4>Math.abs(r/u-Math.round(r/u)),p=function(r,u,w,x){r=Math.round(r/u);return 1===r?`${w}`:-1===r?`-${w}`:"1"===w?`${r}`:x?`${r}${w}`:`${r}*${w}`},n=function(r,u,w,x){r=Math.round(r*u);1===Math.abs(r)?r=(0>r?"-":"")+w:"1"!==w&&(r+=x?`${w}`:`*${w}`);return`${r}/${u}`},c=[{1:1},{1:1,"":2*Math.PI},{1:1,"":Math.PI},{1:1,"":2*Math.PI,"":Math.PI},{1:1,
e:Math.E},{1:1,"":2*Math.PI,e:Math.E},{1:1,"":Math.PI,e:Math.E},{1:1,"":2*Math.PI,"":Math.PI,e:Math.E}],e=[[420,[2,3,5,7]],[88200,[2,3,5,7]],[60060,[2,3,5,7,11,13]],[861764,[2,17,19,23,29]],[65536,[2]],[1E6,[2,5]]],f=function(r){let u,w,x,B,E;r&&({cache:u,compact:w,tau:E,pi:B,e:x}=r);w=+!(null!=w&&!w);const C=+!(null!=E&&!E)+2*+!(null!=B&&!B)+4*+!(null!=x&&!x),H=+!(null!=u&&!u)?{}:null;return function(I){if(null!=H){var K;if(null!=(K=H[I]))return K;if(I===Math.round(I))return H[I]=`${I}`}let O=
`${I}`,Q=O.length+O.indexOf(".")+2;K=function(W){const R=W.length;if(R<=Q)return O=`${W}`,Q=R};for(const W in c[C]){const R=c[C][W];if(t(I/R,1))K(`${p(I/R,1,W,w)}`);else for(let [X,ca]of Array.from(e)){let ka=I/R*X;if(t(ka,1)){for(const la of Array.from(ca)){let Aa,ta;for(;t(ta=ka/la,1)&&t(Aa=X/la,1);)ka=ta,X=Aa}K(`${n(I/R,X,W,w)}`);break}}}5<`${I}`.length&&K(`${I.toPrecision(5)}`);null!=H&&(H[I]=O);return O}};m.number=f;m.print=function(r,u){null==u&&(u="info");r=h(r);return console[u].apply(console,
r)};const h=function(r){let u=!1,w=0;const x=[];r=r.replace(/(\\[<={}> "'])|(=>|[<={}> "'])/g,function(B,E,C){return null!=E&&E.length?E:u&&!['"',"'"].includes(C)||w&&!['"',"'","{","}"].includes(C)?C:(()=>{switch(C){case "\x3c":return x.push("color:rgb(128,0,128)"),"%c\x3c";case "\x3e":return x.push("color:rgb(128,0,128)"),x.push("color:inherit"),"%c\x3e%c";case " ":return x.push("color:rgb(144,64,0)")," %c";case "\x3d":case "\x3d\x3e":return x.push("color:rgb(128,0,128)"),`%c${C}`;case '"':case "'":if(u=
!u)return x.push(w?"color:rgb(144,64,0)":"color:rgb(0,0,192)"),`${C}%c`;x.push(w?"color:rgb(0,70,156)":"color:rgb(128,0,128)");return`%c${C}`;case "{":return 0===w++?(x.push("color:rgb(0,70,156)"),`%c${C}`):C;case "}":return 0===--w?(x.push("color:rgb(128,0,128)"),`${C}%c`):C;default:return C}})()});return[r].concat(x)};m.markup=h;const k=function(){const r=f({compact:!1});return function(u,w,x){const B=function(E){if(E instanceof Array)return`[${E.map(B).join(", ")}]`;switch(typeof E){case "string":return E.match("\n")?
`"\n${E}"\n`:`"${E}"`;case "function":return E=`${E}`,E.match("\n")?`\n${E}\n`:`${E}`,E=E.replace(/^function (\([^)]*\))/,"$1 \x3d\x3e"),E=E.replace(/^(\([^)]*\)) =>\s*{\s*return\s*([^}]+)\s*;\s*}/,"$1 \x3d\x3e $2");case "number":return r(E);default:return null!=E&&E!==!!E?null!=E._up?B(E.map(C=>C)):E.toMarkup?E.toString():"{"+(()=>{const C=[];for(const O in E){const Q=E[O];if(Object.prototype.hasOwnProperty.call(E,O)){var H=C,I=H.push;var K=O;K=K===""+ +K||K.match(/^[A-Za-z_][A-Za-z0-9]*$/)?K:JSON.stringify(K);
I.call(H,`${K}: ${B(Q)}`)}}return C})().join(", ")+"}":`${JSON.stringify(E)}`}};return[u,x,function(E){return E.match('\n*"')?E:`{${E}}`}(B(w))].join("")}}(),g=function(r){r=r.replace(/&/g,"\x26amp;");r=r.replace(/</g,"\x26lt;");return r.replace(/"/g,"\x26quot;")};m.format=function(r){const u=[].slice.call(arguments);u.shift();let w="\x3cspan\x3e";r=g(r);for(const x of Array.from(u))r=r.replace(/%([a-z])/,function(B,E){B=u.shift();switch(E){case "c":return`</span><span style="${g(B)}">`;default:return g(B)}});
w+=r;return w+="\x3c/span\x3e"};m.JSX={prop:(r,u)=>k(r,u,"\x3d"),bind:(r,u)=>k(r,u,"\x3d\x3e")}};
shadow$provide[36]=function(z,v,J,m){function t(e){if("function"!==typeof WeakMap)return null;var f=new WeakMap,h=new WeakMap;return(t=function(k){return k?h:f})(e)}Object.defineProperty(m,"__esModule",{value:!0});m.Node=void 0;var p=function(e,f){if(!f&&e&&e.__esModule)return e;if(null===e||"object"!==typeof e&&"function"!==typeof e)return{default:e};if((f=t(f))&&f.has(e))return f.get(e);var h={},k=Object.defineProperty&&Object.getOwnPropertyDescriptor,g;for(g in e)if("default"!==g&&Object.prototype.hasOwnProperty.call(e,
g)){var r=k?Object.getOwnPropertyDescriptor(e,g):null;r&&(r.get||r.set)?Object.defineProperty(h,g,r):h[g]=e[g]}h.default=e;f&&f.set(e,h);return h}(v(35));z=v(4);let n=0;class c{constructor(e,f,h,k,g,r){this.type=e;this._id=(++n).toString();this.configure(g,r);this.parent=this.root=this.path=this.index=null;this.set(f,!0,!0);this.set(h,!1,!0);this.bind(k,!1)}configure(e,f){let {traits:h,props:k,finals:g,freeform:r}=e;null==h&&(h=null!=(null!=this._config?this._config.traits:void 0)?null!=this._config?
this._config.traits:void 0:[]);null==k&&(k=null!=(null!=this._config?this._config.props:void 0)?null!=this._config?this._config.props:void 0:{});null==g&&(g=null!=(null!=this._config?this._config.finals:void 0)?null!=this._config?this._config.finals:void 0:{});null==r&&(r=null!=(null!=this._config?this._config.freeform:void 0)?null!=this._config?this._config.freeform:void 0:!1);this._config={traits:h,props:k,finals:g,freeform:r};return this.attributes=f.apply(this,this._config)}dispose(){this.attributes.dispose();
return this.attributes=null}_added(e){this.parent=e;this.root=e.root;e={type:"add",node:this,parent:this.parent};this.root&&this.root.trigger(e);e.type="added";return this.trigger(e)}_removed(){const e={type:"remove",node:this};this.root&&this.root.trigger(e);e.type="removed";this.trigger(e);return this.root=this.parent=null}_index(e,f){null==f&&({parent:f}=this);this.index=e;this.path=e=null!=e?(null!=(null!=f?f.path:void 0)?null!=f?f.path:void 0:[]).concat([e]):null;this.order=null!=e?this._encode(e):
Infinity;if(null!=this.root)return this.trigger({type:"reindex"})}_encode(e){let f=1+1/3,h=0;for(const k of Array.from(e))[f,h]=Array.from([h+3/(k+1+3)*(f-h),h+3/(k+2+3)*(f-h)]);return f}toString(){const e=null!=this.type?this.type:"node";let f;f=e+`#${null!=this.id?this.id:this._id}`;null!=this.classes&&this.classes.length&&(f+=`.${this.classes.join(".")}`);if(null!=this.children){let h;return(h=this.children.length)?`<${f}>(${h})</${e}>`:`<${f}></${e}>`}return`<${f} />`}toMarkup(e=null,f){let h,
k;null==f&&(f="");if(e&&"function"!==typeof e){var g;e=null!=(g=null!=this.root?this.root.model._matcher(e):void 0)?g:()=>!0}g=null!=this.type?this.type:"node";let {expr:r}=this;const u={id:this._id};var w="function"===typeof this.orig?this.orig():void 0;for(h in w)k=w[h],u[h]=k;w=(()=>{const E=[];for(h in u)k=u[h],this.expr[h]||E.push(p.JSX.prop(h,k));return E})();r=(()=>{const E=[];for(h in r)k=r[h],E.push(p.JSX.bind(h,k));return E})();var x=[""];w.length&&(x=x.concat(w));r.length&&(x=x.concat(r));
x=x.join(" ");let B=f;w=()=>null!=this.children&&this.children.length?this.children.map(E=>E.toMarkup(e,B)).filter(E=>null!=E&&E.length).join("\n"):"";return e&&!e(this)?w():null!=this.children?(x=`<${g}${x}>`,g=`</${g}>`,B=f+"  ",w=w(),w.length&&(w="\n"+w+"\n"+f),null==w&&(w=""),f+x+w+g):`${f}<${g}${x} />`}print(e,f){return p.print(this.toMarkup(e),f)}}m.Node=c;z.Binder.apply(c.prototype)};
shadow$provide[37]=function(z,v,J,m){Object.defineProperty(m,"__esModule",{value:!0});m.Group=void 0;z=v(36);class t extends z.Node{constructor(p,n,c,e,f,h){super(p,n,c,e,f,h);this.children=[];this.on("reindex",k=>Array.from(this.children).map(g=>g.trigger(k)))}add(p){null!=p.parent&&p.parent.remove(p);p._index(this.children.length,this);this.children.push(p);return p._added(this)}remove(p){null!=p.children&&p.children.length&&p.empty();const n=this.children.indexOf(p);if(-1!==n){this.children.splice(n,
1);p._index(null);p._removed(this);for(let c=0;c<this.children.length;c++)p=this.children[c],c>=n&&p._index(c)}}empty(){const p=this.children.slice().reverse();for(const n of Array.from(p))this.remove(n)}}m.Group=t};
shadow$provide[38]=function(z,v,J,m){Object.defineProperty(m,"__esModule",{value:!0});m.Guard=void 0;class t{constructor(p){null==p&&(p=10);this.limit=p}iterate(p){const {step:n,last:c}=p;for({limit:p}=this;n();)if(!--p)throw console.warn("Last iteration","function"===typeof c?c():void 0),Error("Exceeded iteration limit.");return null}}m.Guard=t};
shadow$provide[39]=function(z,v,J,m){Object.defineProperty(m,"__esModule",{value:!0});m.Doctype=m.CDATA=m.Tag=m.Style=m.Script=m.Comment=m.Directive=m.Text=m.Root=m.isTag=m.ElementType=void 0;var t;(function(p){p.Root="root";p.Text="text";p.Directive="directive";p.Comment="comment";p.Script="script";p.Style="style";p.Tag="tag";p.CDATA="cdata";p.Doctype="doctype"})(t=m.ElementType||(m.ElementType={}));m.isTag=function(p){return p.type===t.Tag||p.type===t.Script||p.type===t.Style};m.Root=t.Root;m.Text=
t.Text;m.Directive=t.Directive;m.Comment=t.Comment;m.Script=t.Script;m.Style=t.Style;m.Tag=t.Tag;m.CDATA=t.CDATA;m.Doctype=t.Doctype};
shadow$provide[40]=function(z,v,J,m){function t(K){return(0,u.isTag)(K)}function p(K){return K.type===u.ElementType.CDATA}function n(K){return K.type===u.ElementType.Text}function c(K){return K.type===u.ElementType.Comment}function e(K){return K.type===u.ElementType.Directive}function f(K){return K.type===u.ElementType.Root}function h(K,O){void 0===O&&(O=!1);if(n(K))O=new x(K.data);else if(c(K))O=new B(K.data);else if(t(K)){O=O?k(K.children):[];var Q=new I(K.name,r({},K.attribs),O);O.forEach(function(X){return X.parent=
Q});null!=K.namespace&&(Q.namespace=K.namespace);K["x-attribsNamespace"]&&(Q["x-attribsNamespace"]=r({},K["x-attribsNamespace"]));K["x-attribsPrefix"]&&(Q["x-attribsPrefix"]=r({},K["x-attribsPrefix"]));O=Q}else if(p(K)){O=O?k(K.children):[];var W=new C(u.ElementType.CDATA,O);O.forEach(function(X){return X.parent=W});O=W}else if(f(K)){O=O?k(K.children):[];var R=new H(O);O.forEach(function(X){return X.parent=R});K["x-mode"]&&(R["x-mode"]=K["x-mode"]);O=R}else if(e(K))O=new E(K.name,K.data),null!=K["x-name"]&&
(O["x-name"]=K["x-name"],O["x-publicId"]=K["x-publicId"],O["x-systemId"]=K["x-systemId"]);else throw Error("Not implemented yet: ".concat(K.type));O.startIndex=K.startIndex;O.endIndex=K.endIndex;null!=K.sourceCodeLocation&&(O.sourceCodeLocation=K.sourceCodeLocation);return O}function k(K){K=K.map(function(Q){return h(Q,!0)});for(var O=1;O<K.length;O++)K[O].prev=K[O-1],K[O-1].next=K[O];return K}var g=this&&this.__extends||function(){var K=function(O,Q){K=Object.setPrototypeOf||{__proto__:[]}instanceof
Array&&function(W,R){W.__proto__=R}||function(W,R){for(var X in R)Object.prototype.hasOwnProperty.call(R,X)&&(W[X]=R[X])};return K(O,Q)};return function(O,Q){function W(){this.constructor=O}if("function"!==typeof Q&&null!==Q)throw new TypeError("Class extends value "+String(Q)+" is not a constructor or null");K(O,Q);O.prototype=null===Q?Object.create(Q):(W.prototype=Q.prototype,new W)}}(),r=this&&this.__assign||function(){r=Object.assign||function(K){for(var O,Q=1,W=arguments.length;Q<W;Q++){O=arguments[Q];
for(var R in O)Object.prototype.hasOwnProperty.call(O,R)&&(K[R]=O[R])}return K};return r.apply(this,arguments)};Object.defineProperty(m,"__esModule",{value:!0});m.cloneNode=m.hasChildren=m.isDocument=m.isDirective=m.isComment=m.isText=m.isCDATA=m.isTag=m.Element=m.Document=m.NodeWithChildren=m.ProcessingInstruction=m.Comment=m.Text=m.DataNode=m.Node=void 0;var u=v(39),w=new Map([[u.ElementType.Tag,1],[u.ElementType.Script,1],[u.ElementType.Style,1],[u.ElementType.Directive,1],[u.ElementType.Text,
3],[u.ElementType.CDATA,4],[u.ElementType.Comment,8],[u.ElementType.Root,9]]);z=function(){function K(O){this.type=O;this.endIndex=this.startIndex=this.next=this.prev=this.parent=null}Object.defineProperty(K.prototype,"nodeType",{get:function(){var O;return null!==(O=w.get(this.type))&&void 0!==O?O:1},enumerable:!1,configurable:!0});Object.defineProperty(K.prototype,"parentNode",{get:function(){return this.parent},set:function(O){this.parent=O},enumerable:!1,configurable:!0});Object.defineProperty(K.prototype,
"previousSibling",{get:function(){return this.prev},set:function(O){this.prev=O},enumerable:!1,configurable:!0});Object.defineProperty(K.prototype,"nextSibling",{get:function(){return this.next},set:function(O){this.next=O},enumerable:!1,configurable:!0});K.prototype.cloneNode=function(O){void 0===O&&(O=!1);return h(this,O)};return K}();m.Node=z;v=function(K){function O(Q,W){Q=K.call(this,Q)||this;Q.data=W;return Q}g(O,K);Object.defineProperty(O.prototype,"nodeValue",{get:function(){return this.data},
set:function(Q){this.data=Q},enumerable:!1,configurable:!0});return O}(z);m.DataNode=v;var x=function(K){function O(Q){return K.call(this,u.ElementType.Text,Q)||this}g(O,K);return O}(v);m.Text=x;var B=function(K){function O(Q){return K.call(this,u.ElementType.Comment,Q)||this}g(O,K);return O}(v);m.Comment=B;var E=function(K){function O(Q,W){W=K.call(this,u.ElementType.Directive,W)||this;W.name=Q;return W}g(O,K);return O}(v);m.ProcessingInstruction=E;var C=function(K){function O(Q,W){Q=K.call(this,
Q)||this;Q.children=W;return Q}g(O,K);Object.defineProperty(O.prototype,"firstChild",{get:function(){var Q;return null!==(Q=this.children[0])&&void 0!==Q?Q:null},enumerable:!1,configurable:!0});Object.defineProperty(O.prototype,"lastChild",{get:function(){return 0<this.children.length?this.children[this.children.length-1]:null},enumerable:!1,configurable:!0});Object.defineProperty(O.prototype,"childNodes",{get:function(){return this.children},set:function(Q){this.children=Q},enumerable:!1,configurable:!0});
return O}(z);m.NodeWithChildren=C;var H=function(K){function O(Q){return K.call(this,u.ElementType.Root,Q)||this}g(O,K);return O}(C);m.Document=H;var I=function(K){function O(Q,W,R,X){void 0===R&&(R=[]);void 0===X&&(X="script"===Q?u.ElementType.Script:"style"===Q?u.ElementType.Style:u.ElementType.Tag);R=K.call(this,X,R)||this;R.name=Q;R.attribs=W;return R}g(O,K);Object.defineProperty(O.prototype,"tagName",{get:function(){return this.name},set:function(Q){this.name=Q},enumerable:!1,configurable:!0});
Object.defineProperty(O.prototype,"attributes",{get:function(){var Q=this;return Object.keys(this.attribs).map(function(W){var R,X;return{name:W,value:Q.attribs[W],namespace:null===(R=Q["x-attribsNamespace"])||void 0===R?void 0:R[W],prefix:null===(X=Q["x-attribsPrefix"])||void 0===X?void 0:X[W]}})},enumerable:!1,configurable:!0});return O}(C);m.Element=I;m.isTag=t;m.isCDATA=p;m.isText=n;m.isComment=c;m.isDirective=e;m.isDocument=f;m.hasChildren=function(K){return Object.prototype.hasOwnProperty.call(K,
"children")};m.cloneNode=h};
shadow$provide[41]=function(z,v,J,m){var t=this&&this.__createBinding||(Object.create?function(f,h,k,g){void 0===g&&(g=k);var r=Object.getOwnPropertyDescriptor(h,k);if(!r||("get"in r?!h.__esModule:r.writable||r.configurable))r={enumerable:!0,get:function(){return h[k]}};Object.defineProperty(f,g,r)}:function(f,h,k,g){void 0===g&&(g=k);f[g]=h[k]});z=this&&this.__exportStar||function(f,h){for(var k in f)"default"===k||Object.prototype.hasOwnProperty.call(h,k)||t(h,f,k)};Object.defineProperty(m,"__esModule",
{value:!0});m.DomHandler=void 0;var p=v(39),n=v(40);z(v(40),m);var c=/\s+/g,e={normalizeWhitespace:!1,withStartIndices:!1,withEndIndices:!1,xmlMode:!1};v=function(){function f(h,k,g){this.dom=[];this.root=new n.Document(this.dom);this.done=!1;this.tagStack=[this.root];this.parser=this.lastNode=null;"function"===typeof k&&(g=k,k=e);"object"===typeof h&&(k=h,h=void 0);this.callback=null!==h&&void 0!==h?h:null;this.options=null!==k&&void 0!==k?k:e;this.elementCB=null!==g&&void 0!==g?g:null}f.prototype.onparserinit=
function(h){this.parser=h};f.prototype.onreset=function(){this.dom=[];this.root=new n.Document(this.dom);this.done=!1;this.tagStack=[this.root];this.parser=this.lastNode=null};f.prototype.onend=function(){this.done||(this.done=!0,this.parser=null,this.handleCallback(null))};f.prototype.onerror=function(h){this.handleCallback(h)};f.prototype.onclosetag=function(){this.lastNode=null;var h=this.tagStack.pop();this.options.withEndIndices&&(h.endIndex=this.parser.endIndex);this.elementCB&&this.elementCB(h)};
f.prototype.onopentag=function(h,k){h=new n.Element(h,k,void 0,this.options.xmlMode?p.ElementType.Tag:void 0);this.addNode(h);this.tagStack.push(h)};f.prototype.ontext=function(h){var k=this.options.normalizeWhitespace,g=this.lastNode;g&&g.type===p.ElementType.Text?(g.data=k?(g.data+h).replace(c," "):g.data+h,this.options.withEndIndices&&(g.endIndex=this.parser.endIndex)):(k&&(h=h.replace(c," ")),h=new n.Text(h),this.addNode(h),this.lastNode=h)};f.prototype.oncomment=function(h){this.lastNode&&this.lastNode.type===
p.ElementType.Comment?this.lastNode.data+=h:(h=new n.Comment(h),this.addNode(h),this.lastNode=h)};f.prototype.oncommentend=function(){this.lastNode=null};f.prototype.oncdatastart=function(){var h=new n.Text(""),k=new n.NodeWithChildren(p.ElementType.CDATA,[h]);this.addNode(k);h.parent=k;this.lastNode=h};f.prototype.oncdataend=function(){this.lastNode=null};f.prototype.onprocessinginstruction=function(h,k){h=new n.ProcessingInstruction(h,k);this.addNode(h)};f.prototype.handleCallback=function(h){if("function"===
typeof this.callback)this.callback(h,this.dom);else if(h)throw h;};f.prototype.addNode=function(h){var k=this.tagStack[this.tagStack.length-1],g=k.children[k.children.length-1];this.options.withStartIndices&&(h.startIndex=this.parser.startIndex);this.options.withEndIndices&&(h.endIndex=this.parser.endIndex);k.children.push(h);g&&(h.prev=g,g.next=h);h.parent=k;this.lastNode=null};return f}();m.DomHandler=v;m.default=v};
shadow$provide[42]=function(z,v,J,m){J.exports={Aacute:"",aacute:"",Abreve:"",abreve:"",ac:"",acd:"",acE:"",Acirc:"",acirc:"",acute:"",Acy:"",acy:"",AElig:"",aelig:"",af:"",Afr:"\ud835\udd04",afr:"\ud835\udd1e",Agrave:"",agrave:"",alefsym:"",aleph:"",Alpha:"",alpha:"",Amacr:"",amacr:"",amalg:"",amp:"\x26",AMP:"\x26",andand:"",And:"",and:"",andd:"",andslope:"",andv:"",ang:"",ange:"",angle:"",angmsdaa:"",angmsdab:"",angmsdac:"",angmsdad:"",angmsdae:"",angmsdaf:"",
angmsdag:"",angmsdah:"",angmsd:"",angrt:"",angrtvb:"",angrtvbd:"",angsph:"",angst:"",angzarr:"",Aogon:"",aogon:"",Aopf:"\ud835\udd38",aopf:"\ud835\udd52",apacir:"",ap:"",apE:"",ape:"",apid:"",apos:"'",ApplyFunction:"",approx:"",approxeq:"",Aring:"",aring:"",Ascr:"\ud835\udc9c",ascr:"\ud835\udcb6",Assign:"",ast:"*",asymp:"",asympeq:"",Atilde:"",atilde:"",Auml:"",auml:"",awconint:"",awint:"",backcong:"",backepsilon:"",backprime:"",backsim:"",backsimeq:"",Backslash:"",
Barv:"",barvee:"",barwed:"",Barwed:"",barwedge:"",bbrk:"",bbrktbrk:"",bcong:"",Bcy:"",bcy:"",bdquo:"",becaus:"",because:"",Because:"",bemptyv:"",bepsi:"",bernou:"",Bernoullis:"",Beta:"",beta:"",beth:"",between:"",Bfr:"\ud835\udd05",bfr:"\ud835\udd1f",bigcap:"",bigcirc:"",bigcup:"",bigodot:"",bigoplus:"",bigotimes:"",bigsqcup:"",bigstar:"",bigtriangledown:"",bigtriangleup:"",biguplus:"",bigvee:"",bigwedge:"",bkarow:"",blacklozenge:"",blacksquare:"",blacktriangle:"",
blacktriangledown:"",blacktriangleleft:"",blacktriangleright:"",blank:"",blk12:"",blk14:"",blk34:"",block:"",bne:"\x3d",bnequiv:"",bNot:"",bnot:"",Bopf:"\ud835\udd39",bopf:"\ud835\udd53",bot:"",bottom:"",bowtie:"",boxbox:"",boxdl:"",boxdL:"",boxDl:"",boxDL:"",boxdr:"",boxdR:"",boxDr:"",boxDR:"",boxh:"",boxH:"",boxhd:"",boxHd:"",boxhD:"",boxHD:"",boxhu:"",boxHu:"",boxhU:"",boxHU:"",boxminus:"",boxplus:"",boxtimes:"",boxul:"",boxuL:"",boxUl:"",boxUL:"",boxur:"",
boxuR:"",boxUr:"",boxUR:"",boxv:"",boxV:"",boxvh:"",boxvH:"",boxVh:"",boxVH:"",boxvl:"",boxvL:"",boxVl:"",boxVL:"",boxvr:"",boxvR:"",boxVr:"",boxVR:"",bprime:"",breve:"",Breve:"",brvbar:"",bscr:"\ud835\udcb7",Bscr:"",bsemi:"",bsim:"",bsime:"",bsolb:"",bsol:"\\",bsolhsub:"",bull:"",bullet:"",bump:"",bumpE:"",bumpe:"",Bumpeq:"",bumpeq:"",Cacute:"",cacute:"",capand:"",capbrcup:"",capcap:"",cap:"",Cap:"",capcup:"",capdot:"",CapitalDifferentialD:"",caps:"",
caret:"",caron:"",Cayleys:"",ccaps:"",Ccaron:"",ccaron:"",Ccedil:"",ccedil:"",Ccirc:"",ccirc:"",Cconint:"",ccups:"",ccupssm:"",Cdot:"",cdot:"",cedil:"",Cedilla:"",cemptyv:"",cent:"",centerdot:"",CenterDot:"",cfr:"\ud835\udd20",Cfr:"",CHcy:"",chcy:"",check:"",checkmark:"",Chi:"",chi:"",circ:"",circeq:"",circlearrowleft:"",circlearrowright:"",circledast:"",circledcirc:"",circleddash:"",CircleDot:"",circledR:"",circledS:"",CircleMinus:"",CirclePlus:"",CircleTimes:"",
cir:"",cirE:"",cire:"",cirfnint:"",cirmid:"",cirscir:"",ClockwiseContourIntegral:"",CloseCurlyDoubleQuote:"",CloseCurlyQuote:"",clubs:"",clubsuit:"",colon:":",Colon:"",Colone:"",colone:"",coloneq:"",comma:",",commat:"@",comp:"",compfn:"",complement:"",complexes:"",cong:"",congdot:"",Congruent:"",conint:"",Conint:"",ContourIntegral:"",copf:"\ud835\udd54",Copf:"",coprod:"",Coproduct:"",copy:"",COPY:"",copysr:"",CounterClockwiseContourIntegral:"",crarr:"",cross:"",Cross:"",
Cscr:"\ud835\udc9e",cscr:"\ud835\udcb8",csub:"",csube:"",csup:"",csupe:"",ctdot:"",cudarrl:"",cudarrr:"",cuepr:"",cuesc:"",cularr:"",cularrp:"",cupbrcap:"",cupcap:"",CupCap:"",cup:"",Cup:"",cupcup:"",cupdot:"",cupor:"",cups:"",curarr:"",curarrm:"",curlyeqprec:"",curlyeqsucc:"",curlyvee:"",curlywedge:"",curren:"",curvearrowleft:"",curvearrowright:"",cuvee:"",cuwed:"",cwconint:"",cwint:"",cylcty:"",dagger:"",Dagger:"",daleth:"",darr:"",Darr:"",dArr:"",dash:"",
Dashv:"",dashv:"",dbkarow:"",dblac:"",Dcaron:"",dcaron:"",Dcy:"",dcy:"",ddagger:"",ddarr:"",DD:"",dd:"",DDotrahd:"",ddotseq:"",deg:"",Del:"",Delta:"",delta:"",demptyv:"",dfisht:"",Dfr:"\ud835\udd07",dfr:"\ud835\udd21",dHar:"",dharl:"",dharr:"",DiacriticalAcute:"",DiacriticalDot:"",DiacriticalDoubleAcute:"",DiacriticalGrave:"`",DiacriticalTilde:"",diam:"",diamond:"",Diamond:"",diamondsuit:"",diams:"",die:"",DifferentialD:"",digamma:"",disin:"",div:"",divide:"",
divideontimes:"",divonx:"",DJcy:"",djcy:"",dlcorn:"",dlcrop:"",dollar:"$",Dopf:"\ud835\udd3b",dopf:"\ud835\udd55",Dot:"",dot:"",DotDot:"",doteq:"",doteqdot:"",DotEqual:"",dotminus:"",dotplus:"",dotsquare:"",doublebarwedge:"",DoubleContourIntegral:"",DoubleDot:"",DoubleDownArrow:"",DoubleLeftArrow:"",DoubleLeftRightArrow:"",DoubleLeftTee:"",DoubleLongLeftArrow:"",DoubleLongLeftRightArrow:"",DoubleLongRightArrow:"",DoubleRightArrow:"",DoubleRightTee:"",DoubleUpArrow:"",DoubleUpDownArrow:"",
DoubleVerticalBar:"",DownArrowBar:"",downarrow:"",DownArrow:"",Downarrow:"",DownArrowUpArrow:"",DownBreve:"",downdownarrows:"",downharpoonleft:"",downharpoonright:"",DownLeftRightVector:"",DownLeftTeeVector:"",DownLeftVectorBar:"",DownLeftVector:"",DownRightTeeVector:"",DownRightVectorBar:"",DownRightVector:"",DownTeeArrow:"",DownTee:"",drbkarow:"",drcorn:"",drcrop:"",Dscr:"\ud835\udc9f",dscr:"\ud835\udcb9",DScy:"",dscy:"",dsol:"",Dstrok:"",dstrok:"",dtdot:"",dtri:"",
dtrif:"",duarr:"",duhar:"",dwangle:"",DZcy:"",dzcy:"",dzigrarr:"",Eacute:"",eacute:"",easter:"",Ecaron:"",ecaron:"",Ecirc:"",ecirc:"",ecir:"",ecolon:"",Ecy:"",ecy:"",eDDot:"",Edot:"",edot:"",eDot:"",ee:"",efDot:"",Efr:"\ud835\udd08",efr:"\ud835\udd22",eg:"",Egrave:"",egrave:"",egs:"",egsdot:"",el:"",Element:"",elinters:"",ell:"",els:"",elsdot:"",Emacr:"",emacr:"",empty:"",emptyset:"",EmptySmallSquare:"",emptyv:"",EmptyVerySmallSquare:"",emsp13:"",emsp14:"",
emsp:"",ENG:"",eng:"",ensp:"",Eogon:"",eogon:"",Eopf:"\ud835\udd3c",eopf:"\ud835\udd56",epar:"",eparsl:"",eplus:"",epsi:"",Epsilon:"",epsilon:"",epsiv:"",eqcirc:"",eqcolon:"",eqsim:"",eqslantgtr:"",eqslantless:"",Equal:"",equals:"\x3d",EqualTilde:"",equest:"",Equilibrium:"",equiv:"",equivDD:"",eqvparsl:"",erarr:"",erDot:"",escr:"",Escr:"",esdot:"",Esim:"",esim:"",Eta:"",eta:"",ETH:"",eth:"",Euml:"",euml:"",euro:"",excl:"!",exist:"",Exists:"",expectation:"",
exponentiale:"",ExponentialE:"",fallingdotseq:"",Fcy:"",fcy:"",female:"",ffilig:"",fflig:"",ffllig:"",Ffr:"\ud835\udd09",ffr:"\ud835\udd23",filig:"",FilledSmallSquare:"",FilledVerySmallSquare:"",fjlig:"fj",flat:"",fllig:"",fltns:"",fnof:"",Fopf:"\ud835\udd3d",fopf:"\ud835\udd57",forall:"",ForAll:"",fork:"",forkv:"",Fouriertrf:"",fpartint:"",frac12:"",frac13:"",frac14:"",frac15:"",frac16:"",frac18:"",frac23:"",frac25:"",frac34:"",frac35:"",frac38:"",frac45:"",frac56:"",
frac58:"",frac78:"",frasl:"",frown:"",fscr:"\ud835\udcbb",Fscr:"",gacute:"",Gamma:"",gamma:"",Gammad:"",gammad:"",gap:"",Gbreve:"",gbreve:"",Gcedil:"",Gcirc:"",gcirc:"",Gcy:"",gcy:"",Gdot:"",gdot:"",ge:"",gE:"",gEl:"",gel:"",geq:"",geqq:"",geqslant:"",gescc:"",ges:"",gesdot:"",gesdoto:"",gesdotol:"",gesl:"",gesles:"",Gfr:"\ud835\udd0a",gfr:"\ud835\udd24",gg:"",Gg:"",ggg:"",gimel:"",GJcy:"",gjcy:"",gla:"",gl:"",glE:"",glj:"",gnap:"",gnapprox:"",gne:"",
gnE:"",gneq:"",gneqq:"",gnsim:"",Gopf:"\ud835\udd3e",gopf:"\ud835\udd58",grave:"`",GreaterEqual:"",GreaterEqualLess:"",GreaterFullEqual:"",GreaterGreater:"",GreaterLess:"",GreaterSlantEqual:"",GreaterTilde:"",Gscr:"\ud835\udca2",gscr:"",gsim:"",gsime:"",gsiml:"",gtcc:"",gtcir:"",gt:"\x3e",GT:"\x3e",Gt:"",gtdot:"",gtlPar:"",gtquest:"",gtrapprox:"",gtrarr:"",gtrdot:"",gtreqless:"",gtreqqless:"",gtrless:"",gtrsim:"",gvertneqq:"",gvnE:"",Hacek:"",hairsp:"",half:"",hamilt:"",
HARDcy:"",hardcy:"",harrcir:"",harr:"",hArr:"",harrw:"",Hat:"^",hbar:"",Hcirc:"",hcirc:"",hearts:"",heartsuit:"",hellip:"",hercon:"",hfr:"\ud835\udd25",Hfr:"",HilbertSpace:"",hksearow:"",hkswarow:"",hoarr:"",homtht:"",hookleftarrow:"",hookrightarrow:"",hopf:"\ud835\udd59",Hopf:"",horbar:"",HorizontalLine:"",hscr:"\ud835\udcbd",Hscr:"",hslash:"",Hstrok:"",hstrok:"",HumpDownHump:"",HumpEqual:"",hybull:"",hyphen:"",Iacute:"",iacute:"",ic:"",Icirc:"",icirc:"",Icy:"",
icy:"",Idot:"",IEcy:"",iecy:"",iexcl:"",iff:"",ifr:"\ud835\udd26",Ifr:"",Igrave:"",igrave:"",ii:"",iiiint:"",iiint:"",iinfin:"",iiota:"",IJlig:"",ijlig:"",Imacr:"",imacr:"",image:"",ImaginaryI:"",imagline:"",imagpart:"",imath:"",Im:"",imof:"",imped:"",Implies:"",incare:"","in":"",infin:"",infintie:"",inodot:"",intcal:"","int":"",Int:"",integers:"",Integral:"",intercal:"",Intersection:"",intlarhk:"",intprod:"",InvisibleComma:"",InvisibleTimes:"",IOcy:"",
iocy:"",Iogon:"",iogon:"",Iopf:"\ud835\udd40",iopf:"\ud835\udd5a",Iota:"",iota:"",iprod:"",iquest:"",iscr:"\ud835\udcbe",Iscr:"",isin:"",isindot:"",isinE:"",isins:"",isinsv:"",isinv:"",it:"",Itilde:"",itilde:"",Iukcy:"",iukcy:"",Iuml:"",iuml:"",Jcirc:"",jcirc:"",Jcy:"",jcy:"",Jfr:"\ud835\udd0d",jfr:"\ud835\udd27",jmath:"",Jopf:"\ud835\udd41",jopf:"\ud835\udd5b",Jscr:"\ud835\udca5",jscr:"\ud835\udcbf",Jsercy:"",jsercy:"",Jukcy:"",jukcy:"",Kappa:"",kappa:"",kappav:"",
Kcedil:"",kcedil:"",Kcy:"",kcy:"",Kfr:"\ud835\udd0e",kfr:"\ud835\udd28",kgreen:"",KHcy:"",khcy:"",KJcy:"",kjcy:"",Kopf:"\ud835\udd42",kopf:"\ud835\udd5c",Kscr:"\ud835\udca6",kscr:"\ud835\udcc0",lAarr:"",Lacute:"",lacute:"",laemptyv:"",lagran:"",Lambda:"",lambda:"",lang:"",Lang:"",langd:"",langle:"",lap:"",Laplacetrf:"",laquo:"",larrb:"",larrbfs:"",larr:"",Larr:"",lArr:"",larrfs:"",larrhk:"",larrlp:"",larrpl:"",larrsim:"",larrtl:"",latail:"",lAtail:"",lat:"",late:"",
lates:"",lbarr:"",lBarr:"",lbbrk:"",lbrace:"{",lbrack:"[",lbrke:"",lbrksld:"",lbrkslu:"",Lcaron:"",lcaron:"",Lcedil:"",lcedil:"",lceil:"",lcub:"{",Lcy:"",lcy:"",ldca:"",ldquo:"",ldquor:"",ldrdhar:"",ldrushar:"",ldsh:"",le:"",lE:"",LeftAngleBracket:"",LeftArrowBar:"",leftarrow:"",LeftArrow:"",Leftarrow:"",LeftArrowRightArrow:"",leftarrowtail:"",LeftCeiling:"",LeftDoubleBracket:"",LeftDownTeeVector:"",LeftDownVectorBar:"",LeftDownVector:"",LeftFloor:"",leftharpoondown:"",
leftharpoonup:"",leftleftarrows:"",leftrightarrow:"",LeftRightArrow:"",Leftrightarrow:"",leftrightarrows:"",leftrightharpoons:"",leftrightsquigarrow:"",LeftRightVector:"",LeftTeeArrow:"",LeftTee:"",LeftTeeVector:"",leftthreetimes:"",LeftTriangleBar:"",LeftTriangle:"",LeftTriangleEqual:"",LeftUpDownVector:"",LeftUpTeeVector:"",LeftUpVectorBar:"",LeftUpVector:"",LeftVectorBar:"",LeftVector:"",lEg:"",leg:"",leq:"",leqq:"",leqslant:"",lescc:"",les:"",lesdot:"",lesdoto:"",
lesdotor:"",lesg:"",lesges:"",lessapprox:"",lessdot:"",lesseqgtr:"",lesseqqgtr:"",LessEqualGreater:"",LessFullEqual:"",LessGreater:"",lessgtr:"",LessLess:"",lesssim:"",LessSlantEqual:"",LessTilde:"",lfisht:"",lfloor:"",Lfr:"\ud835\udd0f",lfr:"\ud835\udd29",lg:"",lgE:"",lHar:"",lhard:"",lharu:"",lharul:"",lhblk:"",LJcy:"",ljcy:"",llarr:"",ll:"",Ll:"",llcorner:"",Lleftarrow:"",llhard:"",lltri:"",Lmidot:"",lmidot:"",lmoustache:"",lmoust:"",lnap:"",lnapprox:"",
lne:"",lnE:"",lneq:"",lneqq:"",lnsim:"",loang:"",loarr:"",lobrk:"",longleftarrow:"",LongLeftArrow:"",Longleftarrow:"",longleftrightarrow:"",LongLeftRightArrow:"",Longleftrightarrow:"",longmapsto:"",longrightarrow:"",LongRightArrow:"",Longrightarrow:"",looparrowleft:"",looparrowright:"",lopar:"",Lopf:"\ud835\udd43",lopf:"\ud835\udd5d",loplus:"",lotimes:"",lowast:"",lowbar:"_",LowerLeftArrow:"",LowerRightArrow:"",loz:"",lozenge:"",lozf:"",lpar:"(",lparlt:"",lrarr:"",lrcorner:"",
lrhar:"",lrhard:"",lrm:"",lrtri:"",lsaquo:"",lscr:"\ud835\udcc1",Lscr:"",lsh:"",Lsh:"",lsim:"",lsime:"",lsimg:"",lsqb:"[",lsquo:"",lsquor:"",Lstrok:"",lstrok:"",ltcc:"",ltcir:"",lt:"\x3c",LT:"\x3c",Lt:"",ltdot:"",lthree:"",ltimes:"",ltlarr:"",ltquest:"",ltri:"",ltrie:"",ltrif:"",ltrPar:"",lurdshar:"",luruhar:"",lvertneqq:"",lvnE:"",macr:"",male:"",malt:"",maltese:"",Map:"",map:"",mapsto:"",mapstodown:"",mapstoleft:"",mapstoup:"",marker:"",mcomma:"",Mcy:"",
mcy:"",mdash:"",mDDot:"",measuredangle:"",MediumSpace:"",Mellintrf:"",Mfr:"\ud835\udd10",mfr:"\ud835\udd2a",mho:"",micro:"",midast:"*",midcir:"",mid:"",middot:"",minusb:"",minus:"",minusd:"",minusdu:"",MinusPlus:"",mlcp:"",mldr:"",mnplus:"",models:"",Mopf:"\ud835\udd44",mopf:"\ud835\udd5e",mp:"",mscr:"\ud835\udcc2",Mscr:"",mstpos:"",Mu:"",mu:"",multimap:"",mumap:"",nabla:"",Nacute:"",nacute:"",nang:"",nap:"",napE:"",napid:"",napos:"",napprox:"",natural:"",naturals:"",
natur:"",nbsp:"",nbump:"",nbumpe:"",ncap:"",Ncaron:"",ncaron:"",Ncedil:"",ncedil:"",ncong:"",ncongdot:"",ncup:"",Ncy:"",ncy:"",ndash:"",nearhk:"",nearr:"",neArr:"",nearrow:"",ne:"",nedot:"",NegativeMediumSpace:"",NegativeThickSpace:"",NegativeThinSpace:"",NegativeVeryThinSpace:"",nequiv:"",nesear:"",nesim:"",NestedGreaterGreater:"",NestedLessLess:"",NewLine:"\n",nexist:"",nexists:"",Nfr:"\ud835\udd11",nfr:"\ud835\udd2b",ngE:"",nge:"",ngeq:"",ngeqq:"",ngeqslant:"",
nges:"",nGg:"",ngsim:"",nGt:"",ngt:"",ngtr:"",nGtv:"",nharr:"",nhArr:"",nhpar:"",ni:"",nis:"",nisd:"",niv:"",NJcy:"",njcy:"",nlarr:"",nlArr:"",nldr:"",nlE:"",nle:"",nleftarrow:"",nLeftarrow:"",nleftrightarrow:"",nLeftrightarrow:"",nleq:"",nleqq:"",nleqslant:"",nles:"",nless:"",nLl:"",nlsim:"",nLt:"",nlt:"",nltri:"",nltrie:"",nLtv:"",nmid:"",NoBreak:"",NonBreakingSpace:"",nopf:"\ud835\udd5f",Nopf:"",Not:"",not:"",NotCongruent:"",NotCupCap:"",
NotDoubleVerticalBar:"",NotElement:"",NotEqual:"",NotEqualTilde:"",NotExists:"",NotGreater:"",NotGreaterEqual:"",NotGreaterFullEqual:"",NotGreaterGreater:"",NotGreaterLess:"",NotGreaterSlantEqual:"",NotGreaterTilde:"",NotHumpDownHump:"",NotHumpEqual:"",notin:"",notindot:"",notinE:"",notinva:"",notinvb:"",notinvc:"",NotLeftTriangleBar:"",NotLeftTriangle:"",NotLeftTriangleEqual:"",NotLess:"",NotLessEqual:"",NotLessGreater:"",NotLessLess:"",NotLessSlantEqual:"",
NotLessTilde:"",NotNestedGreaterGreater:"",NotNestedLessLess:"",notni:"",notniva:"",notnivb:"",notnivc:"",NotPrecedes:"",NotPrecedesEqual:"",NotPrecedesSlantEqual:"",NotReverseElement:"",NotRightTriangleBar:"",NotRightTriangle:"",NotRightTriangleEqual:"",NotSquareSubset:"",NotSquareSubsetEqual:"",NotSquareSuperset:"",NotSquareSupersetEqual:"",NotSubset:"",NotSubsetEqual:"",NotSucceeds:"",NotSucceedsEqual:"",NotSucceedsSlantEqual:"",NotSucceedsTilde:"",NotSuperset:"",
NotSupersetEqual:"",NotTilde:"",NotTildeEqual:"",NotTildeFullEqual:"",NotTildeTilde:"",NotVerticalBar:"",nparallel:"",npar:"",nparsl:"",npart:"",npolint:"",npr:"",nprcue:"",nprec:"",npreceq:"",npre:"",nrarrc:"",nrarr:"",nrArr:"",nrarrw:"",nrightarrow:"",nRightarrow:"",nrtri:"",nrtrie:"",nsc:"",nsccue:"",nsce:"",Nscr:"\ud835\udca9",nscr:"\ud835\udcc3",nshortmid:"",nshortparallel:"",nsim:"",nsime:"",nsimeq:"",nsmid:"",nspar:"",nsqsube:"",nsqsupe:"",nsub:"",
nsubE:"",nsube:"",nsubset:"",nsubseteq:"",nsubseteqq:"",nsucc:"",nsucceq:"",nsup:"",nsupE:"",nsupe:"",nsupset:"",nsupseteq:"",nsupseteqq:"",ntgl:"",Ntilde:"",ntilde:"",ntlg:"",ntriangleleft:"",ntrianglelefteq:"",ntriangleright:"",ntrianglerighteq:"",Nu:"",nu:"",num:"#",numero:"",numsp:"",nvap:"",nvdash:"",nvDash:"",nVdash:"",nVDash:"",nvge:"",nvgt:"\x3e",nvHarr:"",nvinfin:"",nvlArr:"",nvle:"",nvlt:"\x3c",nvltrie:"",nvrArr:"",nvrtrie:"",nvsim:"",
nwarhk:"",nwarr:"",nwArr:"",nwarrow:"",nwnear:"",Oacute:"",oacute:"",oast:"",Ocirc:"",ocirc:"",ocir:"",Ocy:"",ocy:"",odash:"",Odblac:"",odblac:"",odiv:"",odot:"",odsold:"",OElig:"",oelig:"",ofcir:"",Ofr:"\ud835\udd12",ofr:"\ud835\udd2c",ogon:"",Ograve:"",ograve:"",ogt:"",ohbar:"",ohm:"",oint:"",olarr:"",olcir:"",olcross:"",oline:"",olt:"",Omacr:"",omacr:"",Omega:"",omega:"",Omicron:"",omicron:"",omid:"",ominus:"",Oopf:"\ud835\udd46",oopf:"\ud835\udd60",opar:"",
OpenCurlyDoubleQuote:"",OpenCurlyQuote:"",operp:"",oplus:"",orarr:"",Or:"",or:"",ord:"",order:"",orderof:"",ordf:"",ordm:"",origof:"",oror:"",orslope:"",orv:"",oS:"",Oscr:"\ud835\udcaa",oscr:"",Oslash:"",oslash:"",osol:"",Otilde:"",otilde:"",otimesas:"",Otimes:"",otimes:"",Ouml:"",ouml:"",ovbar:"",OverBar:"",OverBrace:"",OverBracket:"",OverParenthesis:"",para:"",parallel:"",par:"",parsim:"",parsl:"",part:"",PartialD:"",Pcy:"",pcy:"",percnt:"%",period:".",
permil:"",perp:"",pertenk:"",Pfr:"\ud835\udd13",pfr:"\ud835\udd2d",Phi:"",phi:"",phiv:"",phmmat:"",phone:"",Pi:"",pi:"",pitchfork:"",piv:"",planck:"",planckh:"",plankv:"",plusacir:"",plusb:"",pluscir:"",plus:"+",plusdo:"",plusdu:"",pluse:"",PlusMinus:"",plusmn:"",plussim:"",plustwo:"",pm:"",Poincareplane:"",pointint:"",popf:"\ud835\udd61",Popf:"",pound:"",prap:"",Pr:"",pr:"",prcue:"",precapprox:"",prec:"",preccurlyeq:"",Precedes:"",PrecedesEqual:"",PrecedesSlantEqual:"",
PrecedesTilde:"",preceq:"",precnapprox:"",precneqq:"",precnsim:"",pre:"",prE:"",precsim:"",prime:"",Prime:"",primes:"",prnap:"",prnE:"",prnsim:"",prod:"",Product:"",profalar:"",profline:"",profsurf:"",prop:"",Proportional:"",Proportion:"",propto:"",prsim:"",prurel:"",Pscr:"\ud835\udcab",pscr:"\ud835\udcc5",Psi:"",psi:"",puncsp:"",Qfr:"\ud835\udd14",qfr:"\ud835\udd2e",qint:"",qopf:"\ud835\udd62",Qopf:"",qprime:"",Qscr:"\ud835\udcac",qscr:"\ud835\udcc6",quaternions:"",
quatint:"",quest:"?",questeq:"",quot:'"',QUOT:'"',rAarr:"",race:"",Racute:"",racute:"",radic:"",raemptyv:"",rang:"",Rang:"",rangd:"",range:"",rangle:"",raquo:"",rarrap:"",rarrb:"",rarrbfs:"",rarrc:"",rarr:"",Rarr:"",rArr:"",rarrfs:"",rarrhk:"",rarrlp:"",rarrpl:"",rarrsim:"",Rarrtl:"",rarrtl:"",rarrw:"",ratail:"",rAtail:"",ratio:"",rationals:"",rbarr:"",rBarr:"",RBarr:"",rbbrk:"",rbrace:"}",rbrack:"]",rbrke:"",rbrksld:"",rbrkslu:"",Rcaron:"",rcaron:"",Rcedil:"",
rcedil:"",rceil:"",rcub:"}",Rcy:"",rcy:"",rdca:"",rdldhar:"",rdquo:"",rdquor:"",rdsh:"",real:"",realine:"",realpart:"",reals:"",Re:"",rect:"",reg:"",REG:"",ReverseElement:"",ReverseEquilibrium:"",ReverseUpEquilibrium:"",rfisht:"",rfloor:"",rfr:"\ud835\udd2f",Rfr:"",rHar:"",rhard:"",rharu:"",rharul:"",Rho:"",rho:"",rhov:"",RightAngleBracket:"",RightArrowBar:"",rightarrow:"",RightArrow:"",Rightarrow:"",RightArrowLeftArrow:"",rightarrowtail:"",RightCeiling:"",RightDoubleBracket:"",
RightDownTeeVector:"",RightDownVectorBar:"",RightDownVector:"",RightFloor:"",rightharpoondown:"",rightharpoonup:"",rightleftarrows:"",rightleftharpoons:"",rightrightarrows:"",rightsquigarrow:"",RightTeeArrow:"",RightTee:"",RightTeeVector:"",rightthreetimes:"",RightTriangleBar:"",RightTriangle:"",RightTriangleEqual:"",RightUpDownVector:"",RightUpTeeVector:"",RightUpVectorBar:"",RightUpVector:"",RightVectorBar:"",RightVector:"",ring:"",risingdotseq:"",rlarr:"",rlhar:"",rlm:"",
rmoustache:"",rmoust:"",rnmid:"",roang:"",roarr:"",robrk:"",ropar:"",ropf:"\ud835\udd63",Ropf:"",roplus:"",rotimes:"",RoundImplies:"",rpar:")",rpargt:"",rppolint:"",rrarr:"",Rrightarrow:"",rsaquo:"",rscr:"\ud835\udcc7",Rscr:"",rsh:"",Rsh:"",rsqb:"]",rsquo:"",rsquor:"",rthree:"",rtimes:"",rtri:"",rtrie:"",rtrif:"",rtriltri:"",RuleDelayed:"",ruluhar:"",rx:"",Sacute:"",sacute:"",sbquo:"",scap:"",Scaron:"",scaron:"",Sc:"",sc:"",sccue:"",sce:"",scE:"",Scedil:"",
scedil:"",Scirc:"",scirc:"",scnap:"",scnE:"",scnsim:"",scpolint:"",scsim:"",Scy:"",scy:"",sdotb:"",sdot:"",sdote:"",searhk:"",searr:"",seArr:"",searrow:"",sect:"",semi:";",seswar:"",setminus:"",setmn:"",sext:"",Sfr:"\ud835\udd16",sfr:"\ud835\udd30",sfrown:"",sharp:"",SHCHcy:"",shchcy:"",SHcy:"",shcy:"",ShortDownArrow:"",ShortLeftArrow:"",shortmid:"",shortparallel:"",ShortRightArrow:"",ShortUpArrow:"",shy:"",Sigma:"",sigma:"",sigmaf:"",sigmav:"",sim:"",simdot:"",
sime:"",simeq:"",simg:"",simgE:"",siml:"",simlE:"",simne:"",simplus:"",simrarr:"",slarr:"",SmallCircle:"",smallsetminus:"",smashp:"",smeparsl:"",smid:"",smile:"",smt:"",smte:"",smtes:"",SOFTcy:"",softcy:"",solbar:"",solb:"",sol:"/",Sopf:"\ud835\udd4a",sopf:"\ud835\udd64",spades:"",spadesuit:"",spar:"",sqcap:"",sqcaps:"",sqcup:"",sqcups:"",Sqrt:"",sqsub:"",sqsube:"",sqsubset:"",sqsubseteq:"",sqsup:"",sqsupe:"",sqsupset:"",sqsupseteq:"",square:"",Square:"",
SquareIntersection:"",SquareSubset:"",SquareSubsetEqual:"",SquareSuperset:"",SquareSupersetEqual:"",SquareUnion:"",squarf:"",squ:"",squf:"",srarr:"",Sscr:"\ud835\udcae",sscr:"\ud835\udcc8",ssetmn:"",ssmile:"",sstarf:"",Star:"",star:"",starf:"",straightepsilon:"",straightphi:"",strns:"",sub:"",Sub:"",subdot:"",subE:"",sube:"",subedot:"",submult:"",subnE:"",subne:"",subplus:"",subrarr:"",subset:"",Subset:"",subseteq:"",subseteqq:"",SubsetEqual:"",subsetneq:"",subsetneqq:"",
subsim:"",subsub:"",subsup:"",succapprox:"",succ:"",succcurlyeq:"",Succeeds:"",SucceedsEqual:"",SucceedsSlantEqual:"",SucceedsTilde:"",succeq:"",succnapprox:"",succneqq:"",succnsim:"",succsim:"",SuchThat:"",sum:"",Sum:"",sung:"",sup1:"",sup2:"",sup3:"",sup:"",Sup:"",supdot:"",supdsub:"",supE:"",supe:"",supedot:"",Superset:"",SupersetEqual:"",suphsol:"",suphsub:"",suplarr:"",supmult:"",supnE:"",supne:"",supplus:"",supset:"",Supset:"",supseteq:"",supseteqq:"",
supsetneq:"",supsetneqq:"",supsim:"",supsub:"",supsup:"",swarhk:"",swarr:"",swArr:"",swarrow:"",swnwar:"",szlig:"",Tab:"\t",target:"",Tau:"",tau:"",tbrk:"",Tcaron:"",tcaron:"",Tcedil:"",tcedil:"",Tcy:"",tcy:"",tdot:"",telrec:"",Tfr:"\ud835\udd17",tfr:"\ud835\udd31",there4:"",therefore:"",Therefore:"",Theta:"",theta:"",thetasym:"",thetav:"",thickapprox:"",thicksim:"",ThickSpace:"",ThinSpace:"",thinsp:"",thkap:"",thksim:"",THORN:"",thorn:"",tilde:"",Tilde:"",
TildeEqual:"",TildeFullEqual:"",TildeTilde:"",timesbar:"",timesb:"",times:"",timesd:"",tint:"",toea:"",topbot:"",topcir:"",top:"",Topf:"\ud835\udd4b",topf:"\ud835\udd65",topfork:"",tosa:"",tprime:"",trade:"",TRADE:"",triangle:"",triangledown:"",triangleleft:"",trianglelefteq:"",triangleq:"",triangleright:"",trianglerighteq:"",tridot:"",trie:"",triminus:"",TripleDot:"",triplus:"",trisb:"",tritime:"",trpezium:"",Tscr:"\ud835\udcaf",tscr:"\ud835\udcc9",TScy:"",tscy:"",
TSHcy:"",tshcy:"",Tstrok:"",tstrok:"",twixt:"",twoheadleftarrow:"",twoheadrightarrow:"",Uacute:"",uacute:"",uarr:"",Uarr:"",uArr:"",Uarrocir:"",Ubrcy:"",ubrcy:"",Ubreve:"",ubreve:"",Ucirc:"",ucirc:"",Ucy:"",ucy:"",udarr:"",Udblac:"",udblac:"",udhar:"",ufisht:"",Ufr:"\ud835\udd18",ufr:"\ud835\udd32",Ugrave:"",ugrave:"",uHar:"",uharl:"",uharr:"",uhblk:"",ulcorn:"",ulcorner:"",ulcrop:"",ultri:"",Umacr:"",umacr:"",uml:"",UnderBar:"_",UnderBrace:"",UnderBracket:"",
UnderParenthesis:"",Union:"",UnionPlus:"",Uogon:"",uogon:"",Uopf:"\ud835\udd4c",uopf:"\ud835\udd66",UpArrowBar:"",uparrow:"",UpArrow:"",Uparrow:"",UpArrowDownArrow:"",updownarrow:"",UpDownArrow:"",Updownarrow:"",UpEquilibrium:"",upharpoonleft:"",upharpoonright:"",uplus:"",UpperLeftArrow:"",UpperRightArrow:"",upsi:"",Upsi:"",upsih:"",Upsilon:"",upsilon:"",UpTeeArrow:"",UpTee:"",upuparrows:"",urcorn:"",urcorner:"",urcrop:"",Uring:"",uring:"",urtri:"",Uscr:"\ud835\udcb0",
uscr:"\ud835\udcca",utdot:"",Utilde:"",utilde:"",utri:"",utrif:"",uuarr:"",Uuml:"",uuml:"",uwangle:"",vangrt:"",varepsilon:"",varkappa:"",varnothing:"",varphi:"",varpi:"",varpropto:"",varr:"",vArr:"",varrho:"",varsigma:"",varsubsetneq:"",varsubsetneqq:"",varsupsetneq:"",varsupsetneqq:"",vartheta:"",vartriangleleft:"",vartriangleright:"",vBar:"",Vbar:"",vBarv:"",Vcy:"",vcy:"",vdash:"",vDash:"",Vdash:"",VDash:"",Vdashl:"",veebar:"",vee:"",Vee:"",veeeq:"",
vellip:"",verbar:"|",Verbar:"",vert:"|",Vert:"",VerticalBar:"",VerticalLine:"|",VerticalSeparator:"",VerticalTilde:"",VeryThinSpace:"",Vfr:"\ud835\udd19",vfr:"\ud835\udd33",vltri:"",vnsub:"",vnsup:"",Vopf:"\ud835\udd4d",vopf:"\ud835\udd67",vprop:"",vrtri:"",Vscr:"\ud835\udcb1",vscr:"\ud835\udccb",vsubnE:"",vsubne:"",vsupnE:"",vsupne:"",Vvdash:"",vzigzag:"",Wcirc:"",wcirc:"",wedbar:"",wedge:"",Wedge:"",wedgeq:"",weierp:"",Wfr:"\ud835\udd1a",wfr:"\ud835\udd34",Wopf:"\ud835\udd4e",
wopf:"\ud835\udd68",wp:"",wr:"",wreath:"",Wscr:"\ud835\udcb2",wscr:"\ud835\udccc",xcap:"",xcirc:"",xcup:"",xdtri:"",Xfr:"\ud835\udd1b",xfr:"\ud835\udd35",xharr:"",xhArr:"",Xi:"",xi:"",xlarr:"",xlArr:"",xmap:"",xnis:"",xodot:"",Xopf:"\ud835\udd4f",xopf:"\ud835\udd69",xoplus:"",xotime:"",xrarr:"",xrArr:"",Xscr:"\ud835\udcb3",xscr:"\ud835\udccd",xsqcup:"",xuplus:"",xutri:"",xvee:"",xwedge:"",Yacute:"",yacute:"",YAcy:"",yacy:"",Ycirc:"",ycirc:"",Ycy:"",ycy:"",yen:"",
Yfr:"\ud835\udd1c",yfr:"\ud835\udd36",YIcy:"",yicy:"",Yopf:"\ud835\udd50",yopf:"\ud835\udd6a",Yscr:"\ud835\udcb4",yscr:"\ud835\udcce",YUcy:"",yucy:"",yuml:"",Yuml:"",Zacute:"",zacute:"",Zcaron:"",zcaron:"",Zcy:"",zcy:"",Zdot:"",zdot:"",zeetrf:"",ZeroWidthSpace:"",Zeta:"",zeta:"",zfr:"\ud835\udd37",Zfr:"",ZHcy:"",zhcy:"",zigrarr:"",zopf:"\ud835\udd6b",Zopf:"",Zscr:"\ud835\udcb5",zscr:"\ud835\udccf",zwj:"",zwnj:""}};
shadow$provide[43]=function(z,v,J,m){J.exports={Aacute:"",aacute:"",Acirc:"",acirc:"",acute:"",AElig:"",aelig:"",Agrave:"",agrave:"",amp:"\x26",AMP:"\x26",Aring:"",aring:"",Atilde:"",atilde:"",Auml:"",auml:"",brvbar:"",Ccedil:"",ccedil:"",cedil:"",cent:"",copy:"",COPY:"",curren:"",deg:"",divide:"",Eacute:"",eacute:"",Ecirc:"",ecirc:"",Egrave:"",egrave:"",ETH:"",eth:"",Euml:"",euml:"",frac12:"",frac14:"",frac34:"",gt:"\x3e",GT:"\x3e",Iacute:"",iacute:"",Icirc:"",
icirc:"",iexcl:"",Igrave:"",igrave:"",iquest:"",Iuml:"",iuml:"",laquo:"",lt:"\x3c",LT:"\x3c",macr:"",micro:"",middot:"",nbsp:"",not:"",Ntilde:"",ntilde:"",Oacute:"",oacute:"",Ocirc:"",ocirc:"",Ograve:"",ograve:"",ordf:"",ordm:"",Oslash:"",oslash:"",Otilde:"",otilde:"",Ouml:"",ouml:"",para:"",plusmn:"",pound:"",quot:'"',QUOT:'"',raquo:"",reg:"",REG:"",sect:"",shy:"",sup1:"",sup2:"",sup3:"",szlig:"",THORN:"",thorn:"",times:"",Uacute:"",uacute:"",Ucirc:"",
ucirc:"",Ugrave:"",ugrave:"",uml:"",Uuml:"",uuml:"",Yacute:"",yacute:"",yen:"",yuml:""}};
shadow$provide[44]=function(z,v,J,m){J.exports={amp:"\x26",apos:"'",gt:"\x3e",lt:"\x3c",quot:'"'}};
shadow$provide[45]=function(z,v,J,m){J.exports={0:65533,128:8364,130:8218,131:402,132:8222,133:8230,134:8224,135:8225,136:710,137:8240,138:352,139:8249,140:338,142:381,145:8216,146:8217,147:8220,148:8221,149:8226,150:8211,151:8212,152:732,153:8482,154:353,155:8250,156:339,158:382,159:376}};
shadow$provide[46]=function(z,v,J,m){z=this&&this.__importDefault||function(n){return n&&n.__esModule?n:{"default":n}};Object.defineProperty(m,"__esModule",{value:!0});var t=z(v(45)),p=String.fromCodePoint||function(n){var c="";65535<n&&(n-=65536,c+=String.fromCharCode(n>>>10&1023|55296),n=56320|n&1023);return c+=String.fromCharCode(n)};m.default=function(n){if(55296<=n&&57343>=n||1114111<n)return"";n in t.default&&(n=t.default[n]);return p(n)}};
shadow$provide[47]=function(z,v,J,m){function t(k){var g=p(k);return function(r){return String(r).replace(f,g)}}function p(k){return function(g){if("#"===g.charAt(1)){var r=g.charAt(2);return"X"===r||"x"===r?e.default(parseInt(g.substr(3),16)):e.default(parseInt(g.substr(2),10))}return k[g.slice(1,-1)]||g}}z=this&&this.__importDefault||function(k){return k&&k.__esModule?k:{"default":k}};Object.defineProperty(m,"__esModule",{value:!0});m.decodeHTML=m.decodeHTMLStrict=m.decodeXML=void 0;var n=z(v(42)),
c=z(v(43));J=z(v(44));var e=z(v(46)),f=/&(?:[a-zA-Z0-9]+|#[xX][\da-fA-F]+|#\d+);/g;m.decodeXML=t(J.default);m.decodeHTMLStrict=t(n.default);var h=function(k,g){return k<g?1:-1};m.decodeHTML=function(){function k(E){";"!==E.substr(-1)&&(E+=";");return B(E)}for(var g=Object.keys(c.default).sort(h),r=Object.keys(n.default).sort(h),u=0,w=0;u<r.length;u++)g[w]===r[u]?(r[u]+=";?",w++):r[u]+=";";var x=new RegExp("\x26(?:"+r.join("|")+"|#[xX][\\da-fA-F]+;?|#\\d+;?)","g"),B=p(n.default);return function(E){return String(E).replace(x,
k)}}()};
shadow$provide[48]=function(z,v,J,m){function t(g){return Object.keys(g).sort().reduce(function(r,u){r[g[u]]="\x26"+u+";";return r},{})}function p(g){var r=[],u=[],w=0;for(g=Object.keys(g);w<g.length;w++){var x=g[w];1===x.length?r.push("\\"+x):u.push(x)}r.sort();for(w=0;w<r.length-1;w++){for(g=w;g<r.length-1&&r[g].charCodeAt(1)+1===r[g+1].charCodeAt(1);)g+=1;x=1+g-w;3>x||r.splice(w,x,r[w]+"-"+r[g])}u.unshift("["+r.join("")+"]");return new RegExp(u.join("|"),"g")}function n(g){return"\x26#x"+(1<g.length?
h(g):g.charCodeAt(0)).toString(16).toUpperCase()+";"}function c(g){return function(r){return r.replace(k,function(u){return g[u]||n(u)})}}z=this&&this.__importDefault||function(g){return g&&g.__esModule?g:{"default":g}};Object.defineProperty(m,"__esModule",{value:!0});m.escapeUTF8=m.escape=m.encodeNonAsciiHTML=m.encodeHTML=m.encodeXML=void 0;J=z(v(44));J=t(J.default);var e=p(J);m.encodeXML=c(J);v=z(v(42));v=t(v.default);z=p(v);m.encodeHTML=function(g,r){return function(u){return u.replace(r,function(w){return g[w]}).replace(f,
n)}}(v,z);m.encodeNonAsciiHTML=c(v);var f=/(?:[\x80-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])/g,h=null!=String.prototype.codePointAt?function(g){return g.codePointAt(0)}:function(g){return 1024*(g.charCodeAt(0)-55296)+g.charCodeAt(1)-56320+65536},k=new RegExp(e.source+"|"+f.source,"g");m.escape=function(g){return g.replace(k,n)};m.escapeUTF8=function(g){return g.replace(e,n)}};
shadow$provide[49]=function(z,v,J,m){Object.defineProperty(m,"__esModule",{value:!0});m.decodeXMLStrict=m.decodeHTML5Strict=m.decodeHTML4Strict=m.decodeHTML5=m.decodeHTML4=m.decodeHTMLStrict=m.decodeHTML=m.decodeXML=m.encodeHTML5=m.encodeHTML4=m.escapeUTF8=m.escape=m.encodeNonAsciiHTML=m.encodeHTML=m.encodeXML=m.encode=m.decodeStrict=m.decode=void 0;var t=v(47),p=v(48);m.decode=function(e,f){return(!f||0>=f?t.decodeXML:t.decodeHTML)(e)};m.decodeStrict=function(e,f){return(!f||0>=f?t.decodeXML:t.decodeHTMLStrict)(e)};
m.encode=function(e,f){return(!f||0>=f?p.encodeXML:p.encodeHTML)(e)};var n=v(48);Object.defineProperty(m,"encodeXML",{enumerable:!0,get:function(){return n.encodeXML}});Object.defineProperty(m,"encodeHTML",{enumerable:!0,get:function(){return n.encodeHTML}});Object.defineProperty(m,"encodeNonAsciiHTML",{enumerable:!0,get:function(){return n.encodeNonAsciiHTML}});Object.defineProperty(m,"escape",{enumerable:!0,get:function(){return n.escape}});Object.defineProperty(m,"escapeUTF8",{enumerable:!0,get:function(){return n.escapeUTF8}});
Object.defineProperty(m,"encodeHTML4",{enumerable:!0,get:function(){return n.encodeHTML}});Object.defineProperty(m,"encodeHTML5",{enumerable:!0,get:function(){return n.encodeHTML}});var c=v(47);Object.defineProperty(m,"decodeXML",{enumerable:!0,get:function(){return c.decodeXML}});Object.defineProperty(m,"decodeHTML",{enumerable:!0,get:function(){return c.decodeHTML}});Object.defineProperty(m,"decodeHTMLStrict",{enumerable:!0,get:function(){return c.decodeHTMLStrict}});Object.defineProperty(m,"decodeHTML4",
{enumerable:!0,get:function(){return c.decodeHTML}});Object.defineProperty(m,"decodeHTML5",{enumerable:!0,get:function(){return c.decodeHTML}});Object.defineProperty(m,"decodeHTML4Strict",{enumerable:!0,get:function(){return c.decodeHTMLStrict}});Object.defineProperty(m,"decodeHTML5Strict",{enumerable:!0,get:function(){return c.decodeHTMLStrict}});Object.defineProperty(m,"decodeXMLStrict",{enumerable:!0,get:function(){return c.decodeXML}})};
shadow$provide[50]=function(z,v,J,m){Object.defineProperty(m,"__esModule",{value:!0});m.attributeNames=m.elementNames=void 0;m.elementNames=new Map([["altglyph","altGlyph"],["altglyphdef","altGlyphDef"],["altglyphitem","altGlyphItem"],["animatecolor","animateColor"],["animatemotion","animateMotion"],["animatetransform","animateTransform"],["clippath","clipPath"],["feblend","feBlend"],["fecolormatrix","feColorMatrix"],["fecomponenttransfer","feComponentTransfer"],["fecomposite","feComposite"],["feconvolvematrix",
"feConvolveMatrix"],["fediffuselighting","feDiffuseLighting"],["fedisplacementmap","feDisplacementMap"],["fedistantlight","feDistantLight"],["fedropshadow","feDropShadow"],["feflood","feFlood"],["fefunca","feFuncA"],["fefuncb","feFuncB"],["fefuncg","feFuncG"],["fefuncr","feFuncR"],["fegaussianblur","feGaussianBlur"],["feimage","feImage"],["femerge","feMerge"],["femergenode","feMergeNode"],["femorphology","feMorphology"],["feoffset","feOffset"],["fepointlight","fePointLight"],["fespecularlighting",
"feSpecularLighting"],["fespotlight","feSpotLight"],["fetile","feTile"],["feturbulence","feTurbulence"],["foreignobject","foreignObject"],["glyphref","glyphRef"],["lineargradient","linearGradient"],["radialgradient","radialGradient"],["textpath","textPath"]]);m.attributeNames=new Map([["definitionurl","definitionURL"],["attributename","attributeName"],["attributetype","attributeType"],["basefrequency","baseFrequency"],["baseprofile","baseProfile"],["calcmode","calcMode"],["clippathunits","clipPathUnits"],
["diffuseconstant","diffuseConstant"],["edgemode","edgeMode"],["filterunits","filterUnits"],["glyphref","glyphRef"],["gradienttransform","gradientTransform"],["gradientunits","gradientUnits"],["kernelmatrix","kernelMatrix"],["kernelunitlength","kernelUnitLength"],["keypoints","keyPoints"],["keysplines","keySplines"],["keytimes","keyTimes"],["lengthadjust","lengthAdjust"],["limitingconeangle","limitingConeAngle"],["markerheight","markerHeight"],["markerunits","markerUnits"],["markerwidth","markerWidth"],
["maskcontentunits","maskContentUnits"],["maskunits","maskUnits"],["numoctaves","numOctaves"],["pathlength","pathLength"],["patterncontentunits","patternContentUnits"],["patterntransform","patternTransform"],["patternunits","patternUnits"],["pointsatx","pointsAtX"],["pointsaty","pointsAtY"],["pointsatz","pointsAtZ"],["preservealpha","preserveAlpha"],["preserveaspectratio","preserveAspectRatio"],["primitiveunits","primitiveUnits"],["refx","refX"],["refy","refY"],["repeatcount","repeatCount"],["repeatdur",
"repeatDur"],["requiredextensions","requiredExtensions"],["requiredfeatures","requiredFeatures"],["specularconstant","specularConstant"],["specularexponent","specularExponent"],["spreadmethod","spreadMethod"],["startoffset","startOffset"],["stddeviation","stdDeviation"],["stitchtiles","stitchTiles"],["surfacescale","surfaceScale"],["systemlanguage","systemLanguage"],["tablevalues","tableValues"],["targetx","targetX"],["targety","targetY"],["textlength","textLength"],["viewbox","viewBox"],["viewtarget",
"viewTarget"],["xchannelselector","xChannelSelector"],["ychannelselector","yChannelSelector"],["zoomandpan","zoomAndPan"]])};
shadow$provide[51]=function(z,v,J,m){function t(B,E){if(B)return Object.keys(B).map(function(C){var H,I,K=null!==(H=B[C])&&void 0!==H?H:"";"foreign"===E.xmlMode&&(C=null!==(I=g.attributeNames.get(C))&&void 0!==I?I:C);return E.emptyAttrs||E.xmlMode||""!==K?C+'\x3d"'+(!1!==E.decodeEntities?k.encodeXML(K):K.replace(/"/g,"\x26quot;"))+'"':C}).join(" ")}function p(B,E){void 0===E&&(E={});B="length"in B?B:[B];for(var C="",H=0;H<B.length;H++)C+=n(B[H],E);return C}function n(B,E){switch(B.type){case h.Root:return p(B.children,
E);case h.Directive:case h.Doctype:return"\x3c"+B.data+"\x3e";case h.Comment:return"\x3c!--"+B.data+"--\x3e";case h.CDATA:return"\x3c![CDATA["+B.children[0].data+"]]\x3e";case h.Script:case h.Style:case h.Tag:var C;"foreign"===E.xmlMode&&(B.name=null!==(C=g.elementNames.get(B.name))&&void 0!==C?C:B.name,B.parent&&w.has(B.parent.name)&&(E=c(c({},E),{xmlMode:!1})));!E.xmlMode&&x.has(B.name)&&(E=c(c({},E),{xmlMode:"foreign"}));C="\x3c"+B.name;var H=t(B.attribs,E);H&&(C+=" "+H);if(0===B.children.length&&
(E.xmlMode?!1!==E.selfClosingTags:E.selfClosingTags&&u.has(B.name)))E.xmlMode||(C+=" "),C+="/\x3e";else if(C+="\x3e",0<B.children.length&&(C+=p(B.children,E)),E.xmlMode||!u.has(B.name))C+="\x3c/"+B.name+"\x3e";return C;case h.Text:return C=B.data||"",!1===E.decodeEntities||!E.xmlMode&&B.parent&&r.has(B.parent.name)||(C=k.encodeXML(C)),C}}var c=this&&this.__assign||function(){c=Object.assign||function(B){for(var E,C=1,H=arguments.length;C<H;C++){E=arguments[C];for(var I in E)Object.prototype.hasOwnProperty.call(E,
I)&&(B[I]=E[I])}return B};return c.apply(this,arguments)},e=this&&this.__createBinding||(Object.create?function(B,E,C,H){void 0===H&&(H=C);Object.defineProperty(B,H,{enumerable:!0,get:function(){return E[C]}})}:function(B,E,C,H){void 0===H&&(H=C);B[H]=E[C]}),f=this&&this.__setModuleDefault||(Object.create?function(B,E){Object.defineProperty(B,"default",{enumerable:!0,value:E})}:function(B,E){B["default"]=E});z=this&&this.__importStar||function(B){if(B&&B.__esModule)return B;var E={};if(null!=B)for(var C in B)"default"!==
C&&Object.prototype.hasOwnProperty.call(B,C)&&e(E,B,C);f(E,B);return E};Object.defineProperty(m,"__esModule",{value:!0});var h=z(v(39)),k=v(49),g=v(50),r=new Set("style script xmp iframe noembed noframes plaintext noscript".split(" ")),u=new Set("area base basefont br col command embed frame hr img input isindex keygen link meta param source track wbr".split(" "));m.default=p;var w=new Set("mi mo mn ms mtext annotation-xml foreignObject desc title".split(" ")),x=new Set(["svg","math"])};
shadow$provide[52]=function(z,v,J,m){function t(k,g){return(0,f.default)(k,g)}function p(k){return Array.isArray(k)?k.map(p).join(""):(0,e.isTag)(k)?"br"===k.name?"\n":p(k.children):(0,e.isCDATA)(k)?p(k.children):(0,e.isText)(k)?k.data:""}function n(k){return Array.isArray(k)?k.map(n).join(""):(0,e.hasChildren)(k)&&!(0,e.isComment)(k)?n(k.children):(0,e.isText)(k)?k.data:""}function c(k){return Array.isArray(k)?k.map(c).join(""):(0,e.hasChildren)(k)&&(k.type===h.ElementType.Tag||(0,e.isCDATA)(k))?
c(k.children):(0,e.isText)(k)?k.data:""}z=this&&this.__importDefault||function(k){return k&&k.__esModule?k:{"default":k}};Object.defineProperty(m,"__esModule",{value:!0});m.innerText=m.textContent=m.getText=m.getInnerHTML=m.getOuterHTML=void 0;var e=v(41),f=z(v(51)),h=v(39);m.getOuterHTML=t;m.getInnerHTML=function(k,g){return(0,e.hasChildren)(k)?k.children.map(function(r){return t(r,g)}).join(""):""};m.getText=p;m.textContent=n;m.innerText=c};
shadow$provide[53]=function(z,v,J,m){function t(e){var f;return null!==(f=e.children)&&void 0!==f?f:c}function p(e){return e.parent||null}Object.defineProperty(m,"__esModule",{value:!0});m.prevElementSibling=m.nextElementSibling=m.getName=m.hasAttrib=m.getAttributeValue=m.getSiblings=m.getParent=m.getChildren=void 0;var n=v(41),c=[];m.getChildren=t;m.getParent=p;m.getSiblings=function(e){var f=p(e);if(null!=f)return t(f);f=[e];var h=e.prev;for(e=e.next;null!=h;)f.unshift(h),h=h.prev;for(;null!=e;)f.push(e),
e=e.next;return f};m.getAttributeValue=function(e,f){var h;return null===(h=e.attribs)||void 0===h?void 0:h[f]};m.hasAttrib=function(e,f){return null!=e.attribs&&Object.prototype.hasOwnProperty.call(e.attribs,f)&&null!=e.attribs[f]};m.getName=function(e){return e.name};m.nextElementSibling=function(e){for(e=e.next;null!==e&&!(0,n.isTag)(e);)e=e.next;return e};m.prevElementSibling=function(e){for(e=e.prev;null!==e&&!(0,n.isTag)(e);)e=e.prev;return e}};
shadow$provide[54]=function(z,v,J,m){function t(p){p.prev&&(p.prev.next=p.next);p.next&&(p.next.prev=p.prev);if(p.parent){var n=p.parent.children;n.splice(n.lastIndexOf(p),1)}}Object.defineProperty(m,"__esModule",{value:!0});m.prepend=m.prependChild=m.append=m.appendChild=m.replaceElement=m.removeElement=void 0;m.removeElement=t;m.replaceElement=function(p,n){var c=n.prev=p.prev;c&&(c.next=n);if(c=n.next=p.next)c.prev=n;if(c=n.parent=p.parent)c=c.children,c[c.lastIndexOf(p)]=n};m.appendChild=function(p,
n){t(n);n.next=null;n.parent=p;1<p.children.push(n)?(p=p.children[p.children.length-2],p.next=n,n.prev=p):n.prev=null};m.append=function(p,n){t(n);var c=p.parent,e=p.next;n.next=e;n.prev=p;p.next=n;n.parent=c;e?(e.prev=n,c&&(p=c.children,p.splice(p.lastIndexOf(e),0,n))):c&&c.children.push(n)};m.prependChild=function(p,n){t(n);n.parent=p;n.prev=null;1!==p.children.unshift(n)?(p=p.children[1],p.prev=n,n.next=p):n.next=null};m.prepend=function(p,n){t(n);var c=p.parent;if(c){var e=c.children;e.splice(e.indexOf(p),
0,n)}p.prev&&(p.prev.next=n);n.parent=c;n.prev=p.prev;n.next=p;p.prev=n}};
shadow$provide[55]=function(z,v,J,m){function t(e,f,h,k){for(var g=[],r=0;r<f.length;r++){var u=f[r];if(e(u)&&(g.push(u),0>=--k))break;if(h&&(0,c.hasChildren)(u)&&0<u.children.length&&(u=t(e,u.children,h,k),g.push.apply(g,u),k-=u.length,0>=k))break}return g}function p(e,f,h){void 0===h&&(h=!0);for(var k=null,g=0;g<f.length&&!k;g++){var r=f[g];(0,c.isTag)(r)&&(e(r)?k=r:h&&0<r.children.length&&(k=p(e,r.children)))}return k}function n(e,f){return f.some(function(h){return(0,c.isTag)(h)&&(e(h)||0<h.children.length&&
n(e,h.children))})}Object.defineProperty(m,"__esModule",{value:!0});m.findAll=m.existsOne=m.findOne=m.findOneChild=m.find=m.filter=void 0;var c=v(41);m.filter=function(e,f,h,k){void 0===h&&(h=!0);void 0===k&&(k=Infinity);Array.isArray(f)||(f=[f]);return t(e,f,h,k)};m.find=t;m.findOneChild=function(e,f){return f.find(e)};m.findOne=p;m.existsOne=n;m.findAll=function(e,f){var h,k=[];f=f.filter(c.isTag);for(var g;g=f.shift();){var r=null===(h=g.children)||void 0===h?void 0:h.filter(c.isTag);r&&0<r.length&&
f.unshift.apply(f,r);e(g)&&k.push(g)}return k}};
shadow$provide[56]=function(z,v,J,m){function t(h,k){return"function"===typeof k?function(g){return(0,c.isTag)(g)&&k(g.attribs[h])}:function(g){return(0,c.isTag)(g)&&g.attribs[h]===k}}function p(h,k){return function(g){return h(g)||k(g)}}function n(h){var k=Object.keys(h).map(function(g){var r=h[g];return Object.prototype.hasOwnProperty.call(f,g)?f[g](r):t(g,r)});return 0===k.length?null:k.reduce(p)}Object.defineProperty(m,"__esModule",{value:!0});m.getElementsByTagType=m.getElementsByTagName=m.getElementById=
m.getElements=m.testElement=void 0;var c=v(41),e=v(55),f={tag_name:function(h){return"function"===typeof h?function(k){return(0,c.isTag)(k)&&h(k.name)}:"*"===h?c.isTag:function(k){return(0,c.isTag)(k)&&k.name===h}},tag_type:function(h){return"function"===typeof h?function(k){return h(k.type)}:function(k){return k.type===h}},tag_contains:function(h){return"function"===typeof h?function(k){return(0,c.isText)(k)&&h(k.data)}:function(k){return(0,c.isText)(k)&&k.data===h}}};m.testElement=function(h,k){return(h=
n(h))?h(k):!0};m.getElements=function(h,k,g,r){void 0===r&&(r=Infinity);return(h=n(h))?(0,e.filter)(h,k,g,r):[]};m.getElementById=function(h,k,g){void 0===g&&(g=!0);Array.isArray(k)||(k=[k]);return(0,e.findOne)(t("id",h),k,g)};m.getElementsByTagName=function(h,k,g,r){void 0===g&&(g=!0);void 0===r&&(r=Infinity);return(0,e.filter)(f.tag_name(h),k,g,r)};m.getElementsByTagType=function(h,k,g,r){void 0===g&&(g=!0);void 0===r&&(r=Infinity);return(0,e.filter)(f.tag_type(h),k,g,r)}};
shadow$provide[57]=function(z,v,J,m){function t(n,c){var e=[],f=[];if(n===c)return 0;for(var h=(0,p.hasChildren)(n)?n:n.parent;h;)e.unshift(h),h=h.parent;for(h=(0,p.hasChildren)(c)?c:c.parent;h;)f.unshift(h),h=h.parent;var k=Math.min(e.length,f.length);for(h=0;h<k&&e[h]===f[h];)h++;if(0===h)return 1;k=e[h-1];var g=k.children;f=f[h];return g.indexOf(e[h])>g.indexOf(f)?k===c?20:4:k===n?10:2}Object.defineProperty(m,"__esModule",{value:!0});m.uniqueSort=m.compareDocumentPosition=m.removeSubsets=void 0;
var p=v(41);m.removeSubsets=function(n){for(var c=n.length;0<=--c;){var e=n[c];if(0<c&&0<=n.lastIndexOf(e,c-1))n.splice(c,1);else for(e=e.parent;e;e=e.parent)if(n.includes(e)){n.splice(c,1);break}}return n};m.compareDocumentPosition=t;m.uniqueSort=function(n){n=n.filter(function(c,e,f){return!f.includes(c,e+1)});n.sort(function(c,e){c=t(c,e);return c&2?-1:c&4?1:0});return n}};
shadow$provide[58]=function(z,v,J,m){function t(w){var x;w=w.children;var B={type:"atom",items:(0,g.getElementsByTagName)("entry",w).map(function(C){var H,I=C.children;C={media:n(I)};f(C,"id","id",I);f(C,"title","title",I);var K=null===(H=c("link",I))||void 0===H?void 0:H.attribs.href;K&&(C.link=K);if(H=e("summary",I)||e("content",I))C.description=H;if(H=e("updated",I))C.pubDate=new Date(H);return C})};f(B,"id","id",w);f(B,"title","title",w);var E=null===(x=c("link",w))||void 0===x?void 0:x.attribs.href;
E&&(B.link=E);f(B,"description","subtitle",w);if(x=e("updated",w))B.updated=new Date(x);f(B,"author","email",w,!0);return B}function p(w){var x,B,E=null!==(B=null===(x=c("channel",w.children))||void 0===x?void 0:x.children)&&void 0!==B?B:[];w={type:w.name.substr(0,3),id:"",items:(0,g.getElementsByTagName)("item",w.children).map(function(C){var H=C.children;C={media:n(H)};f(C,"id","guid",H);f(C,"title","title",H);f(C,"link","link",H);f(C,"description","description",H);if(H=e("pubDate",H))C.pubDate=
new Date(H);return C})};f(w,"title","title",E);f(w,"link","link",E);f(w,"description","description",E);if(x=e("lastBuildDate",E))w.updated=new Date(x);f(w,"author","managingEditor",E,!0);return w}function n(w){return(0,g.getElementsByTagName)("media:content",w).map(function(x){x=x.attribs;for(var B={medium:x.medium,isDefault:!!x.isDefault},E=0,C=r;E<C.length;E++){var H=C[E];x[H]&&(B[H]=x[H])}E=0;for(C=u;E<C.length;E++)H=C[E],x[H]&&(B[H]=parseInt(x[H],10));x.expression&&(B.expression=x.expression);
return B})}function c(w,x){return(0,g.getElementsByTagName)(w,x,!0,1)[0]}function e(w,x,B){void 0===B&&(B=!1);return(0,k.textContent)((0,g.getElementsByTagName)(w,x,B,1)).trim()}function f(w,x,B,E,C){void 0===C&&(C=!1);(B=e(B,E,C))&&(w[x]=B)}function h(w){return"rss"===w||"feed"===w||"rdf:RDF"===w}Object.defineProperty(m,"__esModule",{value:!0});m.getFeed=void 0;var k=v(52),g=v(56);m.getFeed=function(w){return(w=c(h,w))?"feed"===w.name?t(w):p(w):null};var r=["url","type","lang"],u="fileSize bitrate framerate samplingrate channels duration height width".split(" ")};
shadow$provide[59]=function(z,v,J,m){var t=this&&this.__createBinding||(Object.create?function(n,c,e,f){void 0===f&&(f=e);Object.defineProperty(n,f,{enumerable:!0,get:function(){return c[e]}})}:function(n,c,e,f){void 0===f&&(f=e);n[f]=c[e]});z=this&&this.__exportStar||function(n,c){for(var e in n)"default"===e||Object.prototype.hasOwnProperty.call(c,e)||t(c,n,e)};Object.defineProperty(m,"__esModule",{value:!0});m.hasChildren=m.isDocument=m.isComment=m.isText=m.isCDATA=m.isTag=void 0;z(v(52),m);z(v(53),
m);z(v(54),m);z(v(55),m);z(v(56),m);z(v(57),m);z(v(58),m);var p=v(41);Object.defineProperty(m,"isTag",{enumerable:!0,get:function(){return p.isTag}});Object.defineProperty(m,"isCDATA",{enumerable:!0,get:function(){return p.isCDATA}});Object.defineProperty(m,"isText",{enumerable:!0,get:function(){return p.isText}});Object.defineProperty(m,"isComment",{enumerable:!0,get:function(){return p.isComment}});Object.defineProperty(m,"isDocument",{enumerable:!0,get:function(){return p.isDocument}});Object.defineProperty(m,
"hasChildren",{enumerable:!0,get:function(){return p.hasChildren}})};
shadow$provide[60]=function(z,v,J,m){J.exports={trueFunc:function(){return!0},falseFunc:function(){return!1}}};
shadow$provide[61]=function(z,v,J,m){Object.defineProperty(m,"__esModule",{value:!0});m.AttributeAction=m.IgnoreCaseMode=m.SelectorType=void 0;(function(t){t.Attribute="attribute";t.Pseudo="pseudo";t.PseudoElement="pseudo-element";t.Tag="tag";t.Universal="universal";t.Adjacent="adjacent";t.Child="child";t.Descendant="descendant";t.Parent="parent";t.Sibling="sibling";t.ColumnCombinator="column-combinator"})(m.SelectorType||(m.SelectorType={}));m.IgnoreCaseMode={Unknown:null,QuirksMode:"quirks",IgnoreCase:!0,
CaseSensitive:!1};(function(t){t.Any="any";t.Element="element";t.End="end";t.Equals="equals";t.Exists="exists";t.Hyphen="hyphen";t.Not="not";t.Start="start"})(m.AttributeAction||(m.AttributeAction={}))};
shadow$provide[62]=function(z,v,J,m){function t(w){switch(w.type){case f.SelectorType.Adjacent:case f.SelectorType.Child:case f.SelectorType.Descendant:case f.SelectorType.Parent:case f.SelectorType.Sibling:case f.SelectorType.ColumnCombinator:return!0;default:return!1}}function p(w,x,B){w=parseInt(x,16)-65536;return w!==w||B?x:0>w?String.fromCharCode(w+65536):String.fromCharCode(w>>10|55296,w&1023|56320)}function n(w){return 39===w||34===w}function c(w){return 32===w||9===w||10===w||12===w||13===
w}function e(w,x,B){function E(Ha){var Oa=x.slice(B+Ha).match(h);if(!Oa)throw Error("Expected name, found ".concat(x.slice(B)));Oa=Oa[0];B+=Ha+Oa.length;return Oa.replace(k,p)}function C(Ha){for(B+=Ha;B<x.length&&c(x.charCodeAt(B));)B++}function H(){for(var Ha=B+=1,Oa=1;0<Oa&&B<x.length;B++)40!==x.charCodeAt(B)||I(B)?41!==x.charCodeAt(B)||I(B)||Oa--:Oa++;if(Oa)throw Error("Parenthesis not matched");return x.slice(Ha,B-1).replace(k,p)}function I(Ha){for(var Oa=0;92===x.charCodeAt(--Ha);)Oa++;return 1===
(Oa&1)}function K(){if(0<R.length&&t(R[R.length-1]))throw Error("Did not expect successive traversals.");}function O(Ha){0<R.length&&R[R.length-1].type===f.SelectorType.Descendant?R[R.length-1].type=Ha:(K(),R.push({type:Ha}))}function Q(Ha,Oa){R.push({type:f.SelectorType.Attribute,name:Ha,action:Oa,value:E(1),namespace:null,ignoreCase:"quirks"})}function W(){R.length&&R[R.length-1].type===f.SelectorType.Descendant&&R.pop();if(0===R.length)throw Error("Empty sub-selector");w.push(R)}var R=[];C(0);
if(x.length===B)return B;a:for(;B<x.length;){var X=x.charCodeAt(B);switch(X){case 32:case 9:case 10:case 12:case 13:if(0===R.length||R[0].type!==f.SelectorType.Descendant)K(),R.push({type:f.SelectorType.Descendant});C(1);break;case 62:O(f.SelectorType.Child);C(1);break;case 60:O(f.SelectorType.Parent);C(1);break;case 126:O(f.SelectorType.Sibling);C(1);break;case 43:O(f.SelectorType.Adjacent);C(1);break;case 46:Q("class",f.AttributeAction.Element);break;case 35:Q("id",f.AttributeAction.Equals);break;
case 91:C(1);X=void 0;var ca=null;124===x.charCodeAt(B)?X=E(1):x.startsWith("*|",B)?(ca="*",X=E(2)):(X=E(0),124===x.charCodeAt(B)&&61!==x.charCodeAt(B+1)&&(ca=X,X=E(1)));C(0);var ka=f.AttributeAction.Exists,la=g.get(x.charCodeAt(B));if(la){ka=la;if(61!==x.charCodeAt(B+1))throw Error("Expected `\x3d`");C(2)}else 61===x.charCodeAt(B)&&(ka=f.AttributeAction.Equals,C(1));var Aa="";la=null;if("exists"!==ka){if(n(x.charCodeAt(B))){Aa=x.charCodeAt(B);for(var ta=B+1;ta<x.length&&(x.charCodeAt(ta)!==Aa||I(ta));)ta+=
1;if(x.charCodeAt(ta)!==Aa)throw Error("Attribute value didn't end");Aa=x.slice(B+1,ta).replace(k,p);B=ta+1}else{for(Aa=B;B<x.length&&(!c(x.charCodeAt(B))&&93!==x.charCodeAt(B)||I(B));)B+=1;Aa=x.slice(Aa,B).replace(k,p)}C(0);ta=x.charCodeAt(B)|32;115===ta?(la=!1,C(1)):105===ta&&(la=!0,C(1))}if(93!==x.charCodeAt(B))throw Error("Attribute selector didn't terminate");B+=1;R.push({type:f.SelectorType.Attribute,name:X,action:ka,value:Aa,namespace:ca,ignoreCase:la});break;case 58:if(58===x.charCodeAt(B+
1)){R.push({type:f.SelectorType.PseudoElement,name:E(2).toLowerCase(),data:40===x.charCodeAt(B)?H():null});continue}ca=E(1).toLowerCase();X=null;if(40===x.charCodeAt(B))if(r.has(ca)){if(n(x.charCodeAt(B+1)))throw Error("Pseudo-selector ".concat(ca," cannot be quoted"));X=[];B=e(X,x,B+1);if(41!==x.charCodeAt(B))throw Error("Missing closing parenthesis in :".concat(ca," (").concat(x,")"));B+=1}else X=H(),u.has(ca)&&(ka=X.charCodeAt(0),ka===X.charCodeAt(X.length-1)&&n(ka)&&(X=X.slice(1,-1))),X=X.replace(k,
p);R.push({type:f.SelectorType.Pseudo,name:ca,data:X});break;case 44:W();R=[];C(1);break;default:if(x.startsWith("/*",B)){ca=x.indexOf("*/",B+2);if(0>ca)throw Error("Comment was not terminated");B=ca+2;0===R.length&&C(0)}else{ca=null;ka=void 0;if(42===X)B+=1,ka="*";else if(124===X){if(ka="",124===x.charCodeAt(B+1)){O(f.SelectorType.ColumnCombinator);C(2);break}}else if(h.test(x.slice(B)))ka=E(0);else break a;124===x.charCodeAt(B)&&124!==x.charCodeAt(B+1)&&(ca=ka,42===x.charCodeAt(B+1)?(ka="*",B+=
2):ka=E(1));R.push("*"===ka?{type:f.SelectorType.Universal,namespace:ca}:{type:f.SelectorType.Tag,name:ka,namespace:ca})}}}W();return B}Object.defineProperty(m,"__esModule",{value:!0});m.parse=m.isTraversal=void 0;var f=v(61),h=/^[^\\#]?(?:\\(?:[\da-f]{1,6}\s?|.)|[\w\-\u00b0-\uFFFF])+/,k=/\\([\da-f]{1,6}\s?|(\s)|.)/gi,g=new Map([[126,f.AttributeAction.Element],[94,f.AttributeAction.Start],[36,f.AttributeAction.End],[42,f.AttributeAction.Any],[33,f.AttributeAction.Not],[124,f.AttributeAction.Hyphen]]),
r=new Set("has not matches is where host host-context".split(" "));m.isTraversal=t;var u=new Set(["contains","icontains"]);m.parse=function(w){var x=[],B=e(x,"".concat(w),0);if(B<w.length)throw Error("Unmatched selector: ".concat(w.slice(B)));return x}};
shadow$provide[63]=function(z,v,J,m){function t(u){return u.map(function(w){return w.map(p).join("")}).join(", ")}function p(u,w,x){switch(u.type){case h.SelectorType.Child:return 0===w?"\x3e ":" \x3e ";case h.SelectorType.Parent:return 0===w?"\x3c ":" \x3c ";case h.SelectorType.Sibling:return 0===w?"~ ":" ~ ";case h.SelectorType.Adjacent:return 0===w?"+ ":" + ";case h.SelectorType.Descendant:return" ";case h.SelectorType.ColumnCombinator:return 0===w?"|| ":" || ";case h.SelectorType.Universal:return"*"===
u.namespace&&w+1<x.length&&"name"in x[w+1]?"":"".concat(e(u.namespace),"*");case h.SelectorType.Tag:return c(u);case h.SelectorType.PseudoElement:return"::".concat(f(u.name,r)).concat(null===u.data?"":"(".concat(f(u.data,g),")"));case h.SelectorType.Pseudo:return":".concat(f(u.name,r)).concat(null===u.data?"":"(".concat("string"===typeof u.data?f(u.data,g):t(u.data),")"));case h.SelectorType.Attribute:if("id"===u.name&&u.action===h.AttributeAction.Equals&&"quirks"===u.ignoreCase&&!u.namespace)return"#".concat(f(u.value,
r));if("class"===u.name&&u.action===h.AttributeAction.Element&&"quirks"===u.ignoreCase&&!u.namespace)return".".concat(f(u.value,r));w=c(u);return u.action===h.AttributeAction.Exists?"[".concat(w,"]"):"[".concat(w).concat(n(u.action),'\x3d"').concat(f(u.value,k),'"').concat(null===u.ignoreCase?"":u.ignoreCase?" i":" s","]")}}function n(u){switch(u){case h.AttributeAction.Equals:return"";case h.AttributeAction.Element:return"~";case h.AttributeAction.Start:return"^";case h.AttributeAction.End:return"$";
case h.AttributeAction.Any:return"*";case h.AttributeAction.Not:return"!";case h.AttributeAction.Hyphen:return"|";case h.AttributeAction.Exists:throw Error("Shouldn't be here");}}function c(u){return"".concat(e(u.namespace)).concat(f(u.name,r))}function e(u){return null!==u?"".concat("*"===u?"*":f(u,r),"|"):""}function f(u,w){for(var x=0,B="",E=0;E<u.length;E++)w.has(u.charCodeAt(E))&&(B+="".concat(u.slice(x,E),"\\").concat(u.charAt(E)),x=E+1);return 0<B.length?B+u.slice(x):u}z=this&&this.__spreadArray||
function(u,w,x){if(x||2===arguments.length)for(var B=0,E=w.length,C;B<E;B++)!C&&B in w||(C||(C=Array.prototype.slice.call(w,0,B)),C[B]=w[B]);return u.concat(C||Array.prototype.slice.call(w))};Object.defineProperty(m,"__esModule",{value:!0});m.stringify=void 0;var h=v(61);v=["\\",'"'];J=z(z([],v,!0),["(",")"],!1);var k=new Set(v.map(function(u){return u.charCodeAt(0)})),g=new Set(J.map(function(u){return u.charCodeAt(0)})),r=new Set(z(z([],J,!0),"~^$*+!|:[] .".split(""),!1).map(function(u){return u.charCodeAt(0)}));
m.stringify=t};
shadow$provide[64]=function(z,v,J,m){var t=this&&this.__createBinding||(Object.create?function(c,e,f,h){void 0===h&&(h=f);var k=Object.getOwnPropertyDescriptor(e,f);if(!k||("get"in k?!e.__esModule:k.writable||k.configurable))k={enumerable:!0,get:function(){return e[f]}};Object.defineProperty(c,h,k)}:function(c,e,f,h){void 0===h&&(h=f);c[h]=e[f]});z=this&&this.__exportStar||function(c,e){for(var f in c)"default"===f||Object.prototype.hasOwnProperty.call(e,f)||t(e,c,f)};Object.defineProperty(m,"__esModule",
{value:!0});m.stringify=m.parse=m.isTraversal=void 0;z(v(61),m);var p=v(62);Object.defineProperty(m,"isTraversal",{enumerable:!0,get:function(){return p.isTraversal}});Object.defineProperty(m,"parse",{enumerable:!0,get:function(){return p.parse}});var n=v(63);Object.defineProperty(m,"stringify",{enumerable:!0,get:function(){return n.stringify}})};
shadow$provide[65]=function(z,v,J,m){Object.defineProperty(m,"__esModule",{value:!0});m.isTraversal=m.procedure=void 0;m.procedure={universal:50,tag:30,attribute:1,pseudo:0,"pseudo-element":0,"column-combinator":-1,descendant:-1,child:-1,parent:-1,sibling:-1,adjacent:-1,_flexibleDescendant:-1};m.isTraversal=function(t){return 0>m.procedure[t.type]}};
shadow$provide[66]=function(z,v,J,m){function t(e){var f=n.procedure[e.type];if(e.type===p.SelectorType.Attribute)f=c[e.action],f===c.equals&&"id"===e.name&&(f=9),e.ignoreCase&&(f>>=1);else if(e.type===p.SelectorType.Pseudo)if(e.data)if("has"===e.name||"contains"===e.name)f=0;else if(Array.isArray(e.data)){for(var h=f=0;h<e.data.length;h++)if(1===e.data[h].length){var k=t(e.data[h][0]);if(0===k){f=0;break}k>f&&(f=k)}1<e.data.length&&0<f&&--f}else f=1;else f=3;return f}Object.defineProperty(m,"__esModule",
{value:!0});var p=v(64),n=v(65),c={exists:10,equals:8,not:7,start:6,end:6,any:5,hyphen:4,element:4};m.default=function(e){for(var f=e.map(t),h=1;h<e.length;h++){var k=f[h];if(!(0>k))for(var g=h-1;0<=g&&k<f[g];g--){var r=e[g+1];e[g+1]=e[g];e[g]=r;f[g+1]=f[g];f[g]=k}}}};
shadow$provide[67]=function(z,v,J,m){function t(e,f){return"boolean"===typeof e.ignoreCase?e.ignoreCase:"quirks"===e.ignoreCase?!!f.quirksMode:!f.xmlMode&&c.has(e.name)}Object.defineProperty(m,"__esModule",{value:!0});m.attributeRules=void 0;var p=v(60),n=/[-[\]{}()*+?.,\\^$|#\s]/g,c=new Set("accept accept-charset align alink axis bgcolor charset checked clear codetype color compact declare defer dir direction disabled enctype face frame hreflang http-equiv lang language link media method multiple nohref noresize noshade nowrap readonly rel rev rules scope scrolling selected shape target text type valign valuetype vlink".split(" "));
m.attributeRules={equals:function(e,f,h){var k=h.adapter,g=f.name,r=f.value;return t(f,h)?(r=r.toLowerCase(),function(u){var w=k.getAttributeValue(u,g);return null!=w&&w.length===r.length&&w.toLowerCase()===r&&e(u)}):function(u){return k.getAttributeValue(u,g)===r&&e(u)}},hyphen:function(e,f,h){var k=h.adapter,g=f.name,r=f.value,u=r.length;return t(f,h)?(r=r.toLowerCase(),function(w){var x=k.getAttributeValue(w,g);return null!=x&&(x.length===u||"-"===x.charAt(u))&&x.substr(0,u).toLowerCase()===r&&
e(w)}):function(w){var x=k.getAttributeValue(w,g);return null!=x&&(x.length===u||"-"===x.charAt(u))&&x.substr(0,u)===r&&e(w)}},element:function(e,f,h){var k=h.adapter,g=f.name,r=f.value;if(/\s/.test(r))return p.falseFunc;var u=new RegExp("(?:^|\\s)".concat(r.replace(n,"\\$\x26"),"(?:$|\\s)"),t(f,h)?"i":"");return function(w){var x=k.getAttributeValue(w,g);return null!=x&&x.length>=r.length&&u.test(x)&&e(w)}},exists:function(e,f,h){var k=f.name,g=h.adapter;return function(r){return g.hasAttrib(r,k)&&
e(r)}},start:function(e,f,h){var k=h.adapter,g=f.name,r=f.value,u=r.length;return 0===u?p.falseFunc:t(f,h)?(r=r.toLowerCase(),function(w){var x=k.getAttributeValue(w,g);return null!=x&&x.length>=u&&x.substr(0,u).toLowerCase()===r&&e(w)}):function(w){var x;return!(null===(x=k.getAttributeValue(w,g))||void 0===x||!x.startsWith(r))&&e(w)}},end:function(e,f,h){var k=h.adapter,g=f.name,r=f.value,u=-r.length;return 0===u?p.falseFunc:t(f,h)?(r=r.toLowerCase(),function(w){var x;return(null===(x=k.getAttributeValue(w,
g))||void 0===x?void 0:x.substr(u).toLowerCase())===r&&e(w)}):function(w){var x;return!(null===(x=k.getAttributeValue(w,g))||void 0===x||!x.endsWith(r))&&e(w)}},any:function(e,f,h){var k=h.adapter,g=f.name,r=f.value;if(""===r)return p.falseFunc;if(t(f,h)){var u=new RegExp(r.replace(n,"\\$\x26"),"i");return function(w){var x=k.getAttributeValue(w,g);return null!=x&&x.length>=r.length&&u.test(x)&&e(w)}}return function(w){var x;return!(null===(x=k.getAttributeValue(w,g))||void 0===x||!x.includes(r))&&
e(w)}},not:function(e,f,h){var k=h.adapter,g=f.name,r=f.value;return""===r?function(u){return!!k.getAttributeValue(u,g)&&e(u)}:t(f,h)?(r=r.toLowerCase(),function(u){var w=k.getAttributeValue(u,g);return(null==w||w.length!==r.length||w.toLowerCase()!==r)&&e(u)}):function(u){return k.getAttributeValue(u,g)!==r&&e(u)}}}};
shadow$provide[68]=function(z,v,J,m){Object.defineProperty(m,"__esModule",{value:!0});m.parse=void 0;var t=new Set([9,10,12,13,32]);m.parse=function(p){function n(){if("-"===p.charAt(f))return f++,-1;"+"===p.charAt(f)&&f++;return 1}function c(){for(var r=f,u=0;f<p.length&&48<=p.charCodeAt(f)&&57>=p.charCodeAt(f);)u=10*u+(p.charCodeAt(f)-48),f++;return f===r?null:u}function e(){for(;f<p.length&&t.has(p.charCodeAt(f));)f++}p=p.trim().toLowerCase();if("even"===p)return[2,0];if("odd"===p)return[2,1];
var f=0,h=0,k=n(),g=c();f<p.length&&"n"===p.charAt(f)&&(f++,h=k*(null!==g&&void 0!==g?g:1),e(),f<p.length?(k=n(),e(),g=c()):k=g=0);if(null===g||f<p.length)throw Error("n-th rule couldn't be parsed ('".concat(p,"')"));return[h,k*g]}};
shadow$provide[69]=function(z,v,J,m){z=this&&this.__importDefault||function(p){return p&&p.__esModule?p:{"default":p}};Object.defineProperty(m,"__esModule",{value:!0});m.generate=m.compile=void 0;var t=z(v(60));m.compile=function(p){var n=p[0],c=p[1]-1;if(0>c&&0>=n)return t.default.falseFunc;if(-1===n)return function(h){return h<=c};if(0===n)return function(h){return h===c};if(1===n)return 0>c?t.default.trueFunc:function(h){return h>=c};var e=Math.abs(n),f=(c%e+e)%e;return 1<n?function(h){return h>=
c&&h%e===f}:function(h){return h<=c&&h%e===f}};m.generate=function(p){var n=p[0],c=p[1]-1,e=0;if(0>n){var f=-n,h=(c%f+f)%f;return function(){var k=h+f*e++;return k>c?null:k}}if(0===n)return 0>c?function(){return null}:function(){return 0===e++?c:null};0>c&&(c+=n*Math.ceil(-c/n));return function(){return n*e++ +c}}};
shadow$provide[70]=function(z,v,J,m){Object.defineProperty(m,"__esModule",{value:!0});m.sequence=m.generate=m.compile=m.parse=void 0;var t=v(68);Object.defineProperty(m,"parse",{enumerable:!0,get:function(){return t.parse}});var p=v(69);Object.defineProperty(m,"compile",{enumerable:!0,get:function(){return p.compile}});Object.defineProperty(m,"generate",{enumerable:!0,get:function(){return p.generate}});m.default=function(n){return(0,p.compile)((0,t.parse)(n))};m.sequence=function(n){return(0,p.generate)((0,t.parse)(n))}};
shadow$provide[71]=function(z,v,J,m){function t(e,f){return function(h){var k=f.getParent(h);return null!=k&&f.isTag(k)&&e(h)}}function p(e){return function(f,h,k){var g=k.adapter[e];return"function"!==typeof g?c.falseFunc:function(r){return g(r)&&f(r)}}}z=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(m,"__esModule",{value:!0});m.filters=void 0;var n=z(v(70)),c=v(60);m.filters={contains:function(e,f,h){var k=h.adapter;return function(g){return e(g)&&
k.getText(g).includes(f)}},icontains:function(e,f,h){var k=h.adapter,g=f.toLowerCase();return function(r){return e(r)&&k.getText(r).toLowerCase().includes(g)}},"nth-child":function(e,f,h){var k=h.adapter,g=h.equals,r=(0,n.default)(f);return r===c.falseFunc?c.falseFunc:r===c.trueFunc?t(e,k):function(u){for(var w=k.getSiblings(u),x=0,B=0;B<w.length&&!g(u,w[B]);B++)k.isTag(w[B])&&x++;return r(x)&&e(u)}},"nth-last-child":function(e,f,h){var k=h.adapter,g=h.equals,r=(0,n.default)(f);return r===c.falseFunc?
c.falseFunc:r===c.trueFunc?t(e,k):function(u){for(var w=k.getSiblings(u),x=0,B=w.length-1;0<=B&&!g(u,w[B]);B--)k.isTag(w[B])&&x++;return r(x)&&e(u)}},"nth-of-type":function(e,f,h){var k=h.adapter,g=h.equals,r=(0,n.default)(f);return r===c.falseFunc?c.falseFunc:r===c.trueFunc?t(e,k):function(u){for(var w=k.getSiblings(u),x=0,B=0;B<w.length;B++){var E=w[B];if(g(u,E))break;k.isTag(E)&&k.getName(E)===k.getName(u)&&x++}return r(x)&&e(u)}},"nth-last-of-type":function(e,f,h){var k=h.adapter,g=h.equals,r=
(0,n.default)(f);return r===c.falseFunc?c.falseFunc:r===c.trueFunc?t(e,k):function(u){for(var w=k.getSiblings(u),x=0,B=w.length-1;0<=B;B--){var E=w[B];if(g(u,E))break;k.isTag(E)&&k.getName(E)===k.getName(u)&&x++}return r(x)&&e(u)}},root:function(e,f,h){var k=h.adapter;return function(g){var r=k.getParent(g);return(null==r||!k.isTag(r))&&e(g)}},scope:function(e,f,h,k){var g=h.equals;return k&&0!==k.length?1===k.length?function(r){return g(k[0],r)&&e(r)}:function(r){return k.includes(r)&&e(r)}:m.filters.root(e,
f,h)},hover:p("isHovered"),visited:p("isVisited"),active:p("isActive")}};
shadow$provide[72]=function(z,v,J,m){Object.defineProperty(m,"__esModule",{value:!0});m.verifyPseudoArgs=m.pseudos=void 0;m.pseudos={empty:function(t,p){var n=p.adapter;return!n.getChildren(t).some(function(c){return n.isTag(c)||""!==n.getText(c)})},"first-child":function(t,p){var n=p.adapter;p=p.equals;var c=n.getSiblings(t).find(function(e){return n.isTag(e)});return null!=c&&p(t,c)},"last-child":function(t,p){var n=p.adapter;p=p.equals;for(var c=n.getSiblings(t),e=c.length-1;0<=e;e--){if(p(t,c[e]))return!0;
if(n.isTag(c[e]))break}return!1},"first-of-type":function(t,p){var n=p.adapter;p=p.equals;for(var c=n.getSiblings(t),e=n.getName(t),f=0;f<c.length;f++){var h=c[f];if(p(t,h))return!0;if(n.isTag(h)&&n.getName(h)===e)break}return!1},"last-of-type":function(t,p){var n=p.adapter;p=p.equals;for(var c=n.getSiblings(t),e=n.getName(t),f=c.length-1;0<=f;f--){var h=c[f];if(p(t,h))return!0;if(n.isTag(h)&&n.getName(h)===e)break}return!1},"only-of-type":function(t,p){var n=p.adapter,c=p.equals,e=n.getName(t);return n.getSiblings(t).every(function(f){return c(t,
f)||!n.isTag(f)||n.getName(f)!==e})},"only-child":function(t,p){var n=p.adapter,c=p.equals;return n.getSiblings(t).every(function(e){return c(t,e)||!n.isTag(e)})}};m.verifyPseudoArgs=function(t,p,n){if(null===n){if(2<t.length)throw Error("pseudo-selector :".concat(p," requires an argument"));}else if(2===t.length)throw Error("pseudo-selector :".concat(p," doesn't have any arguments"));}};
shadow$provide[73]=function(z,v,J,m){Object.defineProperty(m,"__esModule",{value:!0});m.aliases=void 0;m.aliases={"any-link":":is(a, area, link)[href]",link:":any-link:not(:visited)",disabled:":is(\n        :is(button, input, select, textarea, optgroup, option)[disabled],\n        optgroup[disabled] \x3e option,\n        fieldset[disabled]:not(fieldset[disabled] legend:first-of-type *)\n    )",enabled:":not(:disabled)",checked:":is(:is(input[type\x3dradio], input[type\x3dcheckbox])[checked], option:selected)",
required:":is(input, select, textarea)[required]",optional:":is(input, select, textarea):not([required])",selected:"option:is([selected], select:not([multiple]):not(:has(\x3e option[selected])) \x3e :first-of-type)",checkbox:"[type\x3dcheckbox]",file:"[type\x3dfile]",password:"[type\x3dpassword]",radio:"[type\x3dradio]",reset:"[type\x3dreset]",image:"[type\x3dimage]",submit:"[type\x3dsubmit]",parent:":not(:empty)",header:":is(h1, h2, h3, h4, h5, h6)",button:":is(button, input[type\x3dbutton])",input:":is(input, textarea, select, button)",
text:"input:is(:not([type!\x3d'']), [type\x3dtext])"}};
shadow$provide[74]=function(z,v,J,m){function t(f,h){return f===c.falseFunc?c.falseFunc:function(k){return h.isTag(k)&&f(k)}}function p(f,h){var k=h.getSiblings(f);if(1>=k.length)return[];f=k.indexOf(f);return 0>f||f===k.length-1?[]:k.slice(f+1).filter(h.isTag)}var n=this&&this.__spreadArray||function(f,h,k){if(k||2===arguments.length)for(var g=0,r=h.length,u;g<r;g++)!u&&g in h||(u||(u=Array.prototype.slice.call(h,0,g)),u[g]=h[g]);return f.concat(u||Array.prototype.slice.call(h))};Object.defineProperty(m,
"__esModule",{value:!0});m.subselects=m.getNextSiblings=m.ensureIsTag=m.PLACEHOLDER_ELEMENT=void 0;var c=v(60),e=v(65);m.PLACEHOLDER_ELEMENT={};m.ensureIsTag=t;m.getNextSiblings=p;z=function(f,h,k,g,r){var u=r(h,{xmlMode:!!k.xmlMode,adapter:k.adapter,equals:k.equals},g);return function(w){return u(w)&&f(w)}};m.subselects={is:z,matches:z,where:z,not:function(f,h,k,g,r){var u=r(h,{xmlMode:!!k.xmlMode,adapter:k.adapter,equals:k.equals},g);return u===c.falseFunc?f:u===c.trueFunc?c.falseFunc:function(w){return!u(w)&&
f(w)}},has:function(f,h,k,g,r){var u=k.adapter;k={xmlMode:!!k.xmlMode,adapter:u,equals:k.equals};var w=h.some(function(E){return E.some(e.isTraversal)})?[m.PLACEHOLDER_ELEMENT]:void 0;h=r(h,k,w);if(h===c.falseFunc)return c.falseFunc;if(h===c.trueFunc)return function(E){return u.getChildren(E).some(u.isTag)&&f(E)};var x=t(h,u);h=h.shouldTestNextSiblings;var B=void 0===h?!1:h;return w?function(E){w[0]=E;var C=u.getChildren(E);C=B?n(n([],C,!0),p(E,u),!0):C;return f(E)&&u.existsOne(x,C)}:function(E){return f(E)&&
u.existsOne(x,u.getChildren(E))}}}};
shadow$provide[75]=function(z,v,J,m){Object.defineProperty(m,"__esModule",{value:!0});m.compilePseudoSelector=m.aliases=m.pseudos=m.filters=void 0;var t=v(60),p=v(64),n=v(71);Object.defineProperty(m,"filters",{enumerable:!0,get:function(){return n.filters}});var c=v(72);Object.defineProperty(m,"pseudos",{enumerable:!0,get:function(){return c.pseudos}});var e=v(73);Object.defineProperty(m,"aliases",{enumerable:!0,get:function(){return e.aliases}});var f=v(74);m.compilePseudoSelector=function(h,k,g,
r,u){var w=k.name,x=k.data;if(Array.isArray(x))return f.subselects[w](h,x,g,r,u);if(w in e.aliases){if(null!=x)throw Error("Pseudo ".concat(w," doesn't have any arguments"));k=(0,p.parse)(e.aliases[w]);return f.subselects.is(h,k,g,r,u)}if(w in n.filters)return n.filters[w](h,x,g,r);if(w in c.pseudos){var B=c.pseudos[w];(0,c.verifyPseudoArgs)(B,w,x);return B===t.falseFunc?t.falseFunc:h===t.trueFunc?function(E){return B(E,g,x)}:function(E){return B(E,g,x)&&h(E)}}throw Error("unmatched pseudo-class :".concat(w));
}};
shadow$provide[76]=function(z,v,J,m){Object.defineProperty(m,"__esModule",{value:!0});m.compileGeneralSelector=void 0;var t=v(67),p=v(75),n=v(64);m.compileGeneralSelector=function(c,e,f,h,k){var g=f.adapter,r=f.equals;switch(e.type){case n.SelectorType.PseudoElement:throw Error("Pseudo-elements are not supported by css-select");case n.SelectorType.ColumnCombinator:throw Error("Column combinators are not yet supported by css-select");case n.SelectorType.Attribute:if(null!=e.namespace)throw Error("Namespaced attributes are not yet supported by css-select");
if(!f.xmlMode||f.lowerCaseAttributeNames)e.name=e.name.toLowerCase();return t.attributeRules[e.action](c,e,f);case n.SelectorType.Pseudo:return(0,p.compilePseudoSelector)(c,e,f,h,k);case n.SelectorType.Tag:if(null!=e.namespace)throw Error("Namespaced tag names are not yet supported by css-select");var u=e.name;if(!f.xmlMode||f.lowerCaseTags)u=u.toLowerCase();return function(x){return g.getName(x)===u&&c(x)};case n.SelectorType.Descendant:if(!1===f.cacheResults||"undefined"===typeof WeakSet)return function(x){for(;x=
g.getParent(x);)if(g.isTag(x)&&c(x))return!0;return!1};var w=new WeakSet;return function(x){for(;x=g.getParent(x);)if(!w.has(x)){if(g.isTag(x)&&c(x))return!0;w.add(x)}return!1};case "_flexibleDescendant":return function(x){do if(g.isTag(x)&&c(x))return!0;while(x=g.getParent(x));return!1};case n.SelectorType.Parent:return function(x){return g.getChildren(x).some(function(B){return g.isTag(B)&&c(B)})};case n.SelectorType.Child:return function(x){x=g.getParent(x);return null!=x&&g.isTag(x)&&c(x)};case n.SelectorType.Sibling:return function(x){for(var B=
g.getSiblings(x),E=0;E<B.length;E++){var C=B[E];if(r(x,C))break;if(g.isTag(C)&&c(C))return!0}return!1};case n.SelectorType.Adjacent:return g.prevElementSibling?function(x){x=g.prevElementSibling(x);return null!=x&&c(x)}:function(x){for(var B=g.getSiblings(x),E,C=0;C<B.length;C++){var H=B[C];if(r(x,H))break;g.isTag(H)&&(E=H)}return!!E&&c(E)};case n.SelectorType.Universal:if(null!=e.namespace&&"*"!==e.namespace)throw Error("Namespaced universal selectors are not yet supported by css-select");return c}}};
shadow$provide[77]=function(z,v,J,m){function t(C,H,I){C="string"===typeof C?(0,h.parse)(C):C;return c(C,H,I)}function p(C){return"pseudo"===C.type&&("scope"===C.name||Array.isArray(C.data)&&C.data.some(function(H){return H.some(p)}))}function n(C,H,I){var K=H.adapter;H=!(null===I||void 0===I||!I.every(function(Q){var W=K.isTag(Q)&&K.getParent(Q);return Q===w.PLACEHOLDER_ELEMENT||W&&K.isTag(W)}));for(I=0;I<C.length;I++){var O=C[I];if(!(0<O.length&&(0,r.isTraversal)(O[0])&&"descendant"!==O[0].type))if(H&&
!O.some(p))O.unshift(x);else continue;O.unshift(E)}}function c(C,H,I){var K;C=C.filter(function(R){return 0<R.length});C.forEach(g.default);I=null!==(K=H.context)&&void 0!==K?K:I;var O=Array.isArray(I),Q=I&&(Array.isArray(I)?I:[I]);n(C,H,Q);var W=!1;C=C.map(function(R){if(2<=R.length){var X=R[0],ca=R[1];if("pseudo"===X.type&&"scope"===X.name)if(O&&"descendant"===ca.type)R[1]=B;else if("adjacent"===ca.type||"sibling"===ca.type)W=!0}return e(R,H,Q)}).reduce(f,k.falseFunc);C.shouldTestNextSiblings=W;
return C}function e(C,H,I){var K;return C.reduce(function(O,Q){return O===k.falseFunc?k.falseFunc:(0,u.compileGeneralSelector)(O,Q,H,I,c)},null!==(K=H.rootFunc)&&void 0!==K?K:k.trueFunc)}function f(C,H){return H===k.falseFunc||C===k.trueFunc?C:C===k.falseFunc||H===k.trueFunc?H:function(I){return C(I)||H(I)}}z=this&&this.__importDefault||function(C){return C&&C.__esModule?C:{"default":C}};Object.defineProperty(m,"__esModule",{value:!0});m.compileToken=m.compileUnsafe=m.compile=void 0;var h=v(64),k=
v(60),g=z(v(66)),r=v(65),u=v(76),w=v(74);m.compile=function(C,H,I){C=t(C,H,I);return(0,w.ensureIsTag)(C,H.adapter)};m.compileUnsafe=t;var x={type:h.SelectorType.Descendant},B={type:"_flexibleDescendant"},E={type:h.SelectorType.Pseudo,name:"scope",data:null};m.compileToken=c};
shadow$provide[78]=function(z,v,J,m){function t(B){var E,C,H,I;B=null!==B&&void 0!==B?B:w;null!==(E=B.adapter)&&void 0!==E?E:B.adapter=h;null!==(C=B.equals)&&void 0!==C?C:B.equals=null!==(I=null===(H=B.adapter)||void 0===H?void 0:H.equals)&&void 0!==I?I:u;return B}function p(B){return function(E,C,H){C=t(C);return B(E,C,H)}}function n(B){return function(E,C,H){H=t(H);"function"!==typeof E&&(E=(0,g.compileUnsafe)(E,H,C));C=c(C,H.adapter,E.shouldTestNextSiblings);return B(E,C,H)}}function c(B,E,C){void 0===
C&&(C=!1);if(C){B=Array.isArray(B)?B.slice(0):[B];C=B.length;for(var H=0;H<C;H++){var I=(0,r.getNextSiblings)(B[H],E);B.push.apply(B,I)}}return Array.isArray(B)?E.removeSubsets(B):E.getChildren(B)}var e=this&&this.__createBinding||(Object.create?function(B,E,C,H){void 0===H&&(H=C);var I=Object.getOwnPropertyDescriptor(E,C);if(!I||("get"in I?!E.__esModule:I.writable||I.configurable))I={enumerable:!0,get:function(){return E[C]}};Object.defineProperty(B,H,I)}:function(B,E,C,H){void 0===H&&(H=C);B[H]=
E[C]}),f=this&&this.__setModuleDefault||(Object.create?function(B,E){Object.defineProperty(B,"default",{enumerable:!0,value:E})}:function(B,E){B["default"]=E});z=this&&this.__importStar||function(B){if(B&&B.__esModule)return B;var E={};if(null!=B)for(var C in B)"default"!==C&&Object.prototype.hasOwnProperty.call(B,C)&&e(E,B,C);f(E,B);return E};Object.defineProperty(m,"__esModule",{value:!0});m.aliases=m.pseudos=m.filters=m.is=m.selectOne=m.selectAll=m.prepareContext=m._compileToken=m._compileUnsafe=
m.compile=void 0;var h=z(v(59)),k=v(60),g=v(77),r=v(74),u=function(B,E){return B===E},w={adapter:h,equals:u};m.compile=p(g.compile);m._compileUnsafe=p(g.compileUnsafe);m._compileToken=p(g.compileToken);m.prepareContext=c;m.selectAll=n(function(B,E,C){return B!==k.falseFunc&&E&&0!==E.length?C.adapter.findAll(B,E):[]});m.selectOne=n(function(B,E,C){return B!==k.falseFunc&&E&&0!==E.length?C.adapter.findOne(B,E):null});m.is=function(B,E,C){C=t(C);return("function"===typeof E?E:(0,g.compile)(E,C))(B)};
m.default=m.selectAll;var x=v(75);Object.defineProperty(m,"filters",{enumerable:!0,get:function(){return x.filters}});Object.defineProperty(m,"pseudos",{enumerable:!0,get:function(){return x.pseudos}});Object.defineProperty(m,"aliases",{enumerable:!0,get:function(){return x.aliases}})};
shadow$provide[79]=function(z,v,J,m){function t(n){return n.children||[]}Object.defineProperty(m,"__esModule",{value:!0});m.default=void 0;const p={isTag:function(n){return!0},existsOne(n,c){return c.some(e=>n(e)||p.existsOne(n,t(e)))},getSiblings(n){const c=n.parent;return c?t(c):[n]},getChildren:t,getParent:function(n){return n.parent},getAttributeValue(n,c){return"class"===c?n.props.classes.join(" "):"id"===c?n.id:""},hasAttrib(n,c){return"id"===c?!!n.id:"class"===c?0<n.props.classes.length:n.traits.hash?
Object.prototype.hasOwnProperty.call(n.traits.hash,c):!1},removeSubsets:function(n){const c=new Set(n);c.forEach(e=>{let f=e.parent;for(;f;){if(c.has(f)){c.delete(e);break}f=f.parent}});return Array.from(c)},getName(n){var c;return null!==(c=n.type)&&void 0!==c?c:""},findOne:function f(c,e){for(const h of e){if(c(h))return h;if(e=f(c,t(h)))return e}return null},findAll:function h(e,f){const k=[];for(const g of f)e(g)&&k.push(g),k.push(...h(e,t(g)));return k},getText:function(e){return""}};m.default=
p};
shadow$provide[80]=function(z,v,J,m){function t(c){if("function"!==typeof WeakMap)return null;var e=new WeakMap,f=new WeakMap;return(t=function(h){return h?f:e})(c)}Object.defineProperty(m,"__esModule",{value:!0});m.compile=m.selectAll=void 0;var p=function(c,e){if(!e&&c&&c.__esModule)return c;if(null===c||"object"!==typeof c&&"function"!==typeof c)return{default:c};if((e=t(e))&&e.has(c))return e.get(c);var f={},h=Object.defineProperty&&Object.getOwnPropertyDescriptor,k;for(k in c)if("default"!==
k&&Object.prototype.hasOwnProperty.call(c,k)){var g=h?Object.getOwnPropertyDescriptor(c,k):null;g&&(g.get||g.set)?Object.defineProperty(f,k,g):f[k]=c[k]}f.default=c;e&&e.set(c,f);return f}(v(78)),n=function(c){return c&&c.__esModule?c:{default:c}}(v(79));m.selectAll=(c,e)=>{try{p.compile(c)}catch(h){return[]}var f=Array.isArray(e);if(f&&0===e.length)return[];for(f=f?e[0]:e;null!==n.default.getParent(f);)f=n.default.getParent(f);f=p.selectAll(c,f,{adapter:n.default});if(e){c=[];e=Array.isArray(e)?
e:[e];e=new Set(e);for(const h of Array.from(f))for(f=h;null!=f;){if(e.has(f)){c.push(h);break}f=n.default.getParent(f)}return c}return f};m.compile=c=>{try{return p.compile(c,{adapter:n.default})}catch(e){return()=>!1}}};
shadow$provide[81]=function(z,v,J,m){Object.defineProperty(m,"__esModule",{value:!0});m.Model=void 0;var t=v(80);const p=/^<([0-9]+|<*)$/;class n{constructor(c){this.root=c;this.root.model=this;this.root.root=this.root;this.ids={};this.classes={};this.traits={};this.types={};this.nodes=[];this.watchers=[];this.fire=!1;this.lastNode=null;this.event={type:"update"};this.root.on("add",R=>e(R.node));this.root.on("remove",R=>{R=R.node;I(R);O(R);W(R);B(R.id,R);C(R.classes,R);R.off("change:node",g);return k(R)});
const e=R=>{H(R);K(R);Q(R);R.on("change:node",g);g(null,R,!0);return k(R)},f=R=>{for(const X of Array.from(this.watchers))X.match=X.matcher(R);return null},h=R=>{for(const X of Array.from(this.watchers)){const ca=X.fire||(X.fire=X.match!==X.matcher(R));ca&&(this.lastNode=R);this.fire||(this.fire=ca)}return null},k=R=>{for(const X of Array.from(this.watchers)){const ca=X.fire||(X.fire=X.matcher(R));ca&&(this.lastNode=R);this.fire||(this.fire=ca)}return null};this.digest=()=>{if(!this.fire)return!1;
for(const R of Array.from(this.watchers.slice()))R.fire&&(R.fire=!1,R.handler());this.fire=!1;return!0};const g=(R,X,ca)=>{var ka=ca||R.changed["node.classes"];let la=!1;if(ca||R.changed["node.id"])R=X.get("node.id"),R!==X.id&&(ca||f(X),la=!0,null!=X.id&&B(X.id,X),x(R,X));if(ka){var Aa;ka=null!=(Aa=X.get("node.classes"))?Aa:[];Aa=ka.join(",");Aa!==(null!=X.classes?X.classes.klass:void 0)&&(ka=ka.slice(),ca||la||f(X),la=!0,null!=X.classes&&C(X.classes,X),E(ka,X),X.classes=ka,X.classes.klass=Aa)}!ca&&
la&&h(X);return null},r=function(R,X,ca){if(null!=X){for(const ka of Array.from(X))X=null!=R[ka]?R[ka]:[],X.push(ca),R[ka]=X;return null}},u=function(R,X,ca){if(null!=X){for(const ka of Array.from(X)){X=R[ka];const la=X.indexOf(ca);0<=la&&X.splice(la,1);0===X.length&&delete R[ka]}return null}},w=function(R){if(0<R.length){var X=R.hash={};return Array.from(R).map(ca=>X[ca]=!0)}},x=(R,X)=>{if(this.ids[R])throw Error(`Duplicate node id \`${R}\``);null!=R&&(this.ids[R]=[X]);return X.id=null!=R?R:X._id},
B=(R,X)=>{null!=R&&delete this.ids[R];return X.id=X._id},E=(R,X)=>{r(this.classes,R,X);if(null!=R)return w(R)},C=(R,X)=>{u(this.classes,R,X);if(null!=R)return delete R.hash},H=R=>this.nodes.push(R),I=R=>this.nodes.splice(this.nodes.indexOf(R),1),K=R=>r(this.types,[R.type],R),O=R=>u(this.types,[R.type],R),Q=R=>{r(this.traits,R.traits,R);return w(R.traits)},W=R=>{u(this.traits,R.traits,R);return delete R.traits.hash};e(this.root);this.root.trigger({type:"added"})}select(c,e){return(0,t.selectAll)(c,
e||this.getRoot())}watch(c,e){let f;e.unwatch=()=>this.unwatch(e);e.watcher=f={selector:c,handler:e,matcher:this._matcher(c),match:!1,fire:!1};this.watchers.push(f);return this.select(c)}unwatch(c){const {watcher:e}=c;if(null!=e)return this.watchers.splice(this.watchers.indexOf(e),1),delete c.unwatch,delete c.watcher}_matcher(c){if(p.test(c))throw Error("Auto-link matcher unsupported");return(0,t.compile)(c)}getRoot(){return this.root}getLastTrigger(){return this.lastNode.toString()}}m.Model=n};
shadow$provide[82]=function(z,v,J,m){Object.defineProperty(m,"__esModule",{value:!0});var t=v(34);Object.keys(t).forEach(function(f){"default"!==f&&"__esModule"!==f&&(f in m&&m[f]===t[f]||Object.defineProperty(m,f,{enumerable:!0,get:function(){return t[f]}}))});var p=v(37);Object.keys(p).forEach(function(f){"default"!==f&&"__esModule"!==f&&(f in m&&m[f]===p[f]||Object.defineProperty(m,f,{enumerable:!0,get:function(){return p[f]}}))});var n=v(38);Object.keys(n).forEach(function(f){"default"!==f&&"__esModule"!==
f&&(f in m&&m[f]===n[f]||Object.defineProperty(m,f,{enumerable:!0,get:function(){return n[f]}}))});var c=v(81);Object.keys(c).forEach(function(f){"default"!==f&&"__esModule"!==f&&(f in m&&m[f]===c[f]||Object.defineProperty(m,f,{enumerable:!0,get:function(){return c[f]}}))});var e=v(36);Object.keys(e).forEach(function(f){"default"!==f&&"__esModule"!==f&&(f in m&&m[f]===e[f]||Object.defineProperty(m,f,{enumerable:!0,get:function(){return e[f]}}))})};
shadow$provide[83]=function(z,v,J,m){Object.defineProperty(m,"__esModule",{value:!0});m.OverlayFactory=void 0;class t{constructor(p,n){this.classes=p;this.canvas=n;p=document.createElement("div");p.classList.add("mathbox-overlays");this.div=p}inject(){const p=this.canvas.parentNode;if(!p)throw Error("Canvas not inserted into document.");return p.insertBefore(this.div,this.canvas)}unject(){return this.div.parentNode.removeChild(this.div)}getTypes(){return Object.keys(this.classes)}make(p,n){return new this.classes[p](this.div,
n)}}m.OverlayFactory=t};
shadow$provide[84]=function(z,v,J,m){function t(x,B,E){const C=[],H=x<B;for(B=E?H?B+1:B-1:B;H?x<B:x>B;H?x++:x--)C.push(x);return C}Object.defineProperty(m,"__esModule",{value:!0});m.createClass=m.apply=m.recycle=m.element=m.hint=m.Types=void 0;const p=[];let n=0;const c={};m.Types=c;const e=()=>({id:n++,type:null,props:null,children:null,rendered:null,instance:null});m.hint=function(x){x=Math.max(0,p.length-2*x);return t(0,x,!1).map(B=>p.push(e()))};const f=function(x,B,E){const C=p.length?p.pop():
e();C.type=null!=x?x:"div";C.props=null!=B?B:null;C.children=null!=E?E:null;return C};m.element=f;const h=function(x){if(x.type){var {children:B}=x;x.type=x.props=x.children=x.instance=null;p.push(x);if(null!=B)for(const E of Array.from(B))h(E)}};m.recycle=h;const k=function(x,B,E,C,H){if(null!=x){if(null==B)return g(x,C,H);var I;if(x instanceof Node){if(I=x===B)return}else I=typeof x===typeof B&&null!==B&&null!==x&&x.type===B.type;if(I){x.instance=B.instance;const X=null!=x.type&&x.type.isComponentClass?
x.type:c[x.type],ca=null!=B?B.props:void 0,ka=x.props;I=null!=(null!=B?B.children:void 0)?null!=B?B.children:void 0:null;var K=x.children;null!=ka&&(ka.children=K);if(null!=X){var O=E._COMPONENT_DIRTY;null!=ca!==(null!=ka)&&(O=!0);I!==K&&(O=!0);if(null!=ca&&null!=ka){if(!O)for(R in ca)Object.prototype.hasOwnProperty.call(ka,R)||(O=!0);if(!O)for(R in ka){var Q=ka[R];ca[R]!==Q&&(O=!0)}}if(O){var W;I=B.instance;null==x.props&&(x.props={});for(const la in I.defaultProps)K=I.defaultProps[la],null==x.props[la]&&
(x.props[la]=K);x.props.children=x.children;"function"===typeof I.willReceiveProps&&I.willReceiveProps(x.props);if(K=E._COMPONENT_FORCE||(null!=(W="function"===typeof I.shouldUpdate?I.shouldUpdate(x.props):void 0)?W:!0)){var R=I.getNextState();"function"===typeof I.willUpdate&&I.willUpdate(x.props,R)}R=I.props;W=I.applyNextState();I.props=x.props;I.children=x.children;K&&(x=x.rendered="function"===typeof I.render?I.render(f,x.props,x.children):void 0,k(x,B.rendered,E,C,H),"function"===typeof I.didUpdate&&
I.didUpdate(R,W))}}else{if(null!=ca)for(R in ca)if(!Object.prototype.hasOwnProperty.call(ka,R))if(x=E,B=R,C=ca[R],"style"===B)for(Q in C)x.style[null!=u[Q]?u[Q]:Q]="";else null!=x[B]&&(x[B]=void 0),x instanceof Node&&x.removeAttribute(B);if(null!=ka)for(R in ka)Q=ka[R],(O=ca[R])!==Q&&"children"!==R&&w(E,R,Q,O);if(null!=K)if(["string","number"].includes(typeof K))K!==I&&(E.textContent=K);else if(null!=K.type)k(K,I,E.childNodes[0],E,0);else if({childNodes:C}=E,null!=I)for(B=0;B<K.length;B++)x=K[B],
k(x,I[B],C[B],E,B);else for(B=0;B<K.length;B++)x=K[B],k(x,null,C[B],E,B);else null!=I&&(r(null,E),E.innerHTML="")}return}r(B.instance,E);E.remove();return g(x,C,H)}if(null!=B)return r(B.instance,E),B.node.remove()};m.apply=k;const g=function(x,B,E){null==E&&(E=0);var C=null!=x.type&&x.type.isComponentClass?x.type:c[x.type];if(x instanceof Node)var H=x;else{if(null!=C){var I=null!=x.type&&x.type.isComponentClass?x.type:c[x.type];if(!I)return x=x.rendered=f("noscript"),H=g(x,B,E);x.instance=I=new I(B);
null==x.props&&(x.props={});for(H in I.defaultProps)C=I.defaultProps[H],null==x.props[H]&&(x.props[H]=C);x.props.children=x.children;I.props=x.props;I.children=x.children;I.setState("function"===typeof I.getInitialState?I.getInitialState():void 0);"function"===typeof I.willMount&&I.willMount();x=x.rendered="function"===typeof I.render?I.render(f,x.props,x.children):void 0;H=g(x,B,E);"function"===typeof I.didMount&&I.didMount(x);H._COMPONENT=I;return H}if(["string","number"].includes(typeof x))H=document.createTextNode(x);
else for(I in H=document.createElement(x.type),x.props)w(H,I,x.props[I]);({children:x}=x);if(null!=x)if(["string","number"].includes(typeof x))H.textContent=x;else if(null!=x.type)g(x,H,0);else for(I=0;I<x.length;I++)g(x[I],H,I)}B.insertBefore(H,B.childNodes[E]);return H},r=function(x,B){if(x){"function"===typeof x.willUnmount&&x.willUnmount();for(const E in x)delete x[E]}x=[];for(const E of Array.from(B.childNodes))r(E._COMPONENT,E),x.push(delete E._COMPONENT);return x};z=function(x){if("undefined"===
typeof document)return!0;if(null!=document.documentElement.style[x])return x;x=x[0].toUpperCase()+x.slice(1);const B=["webkit","moz","ms","o"];for(const E of Array.from(B))if(null!=document.documentElement.style[E+x])return E+x};const u={};for(const x of["transform"])u[x]=z(x);const w=function(x,B,E,C){if("style"===B)for(const H in E)B=E[H],(null!=C?C[H]:void 0)!==B&&(x.style[null!=u[H]?u[H]:H]=B);else if(null!=x[B])try{x[B]=E}catch(H){console.log("failed setting "+B)}else x instanceof Node&&x.setAttribute(B,
E)};m.createClass=function(x){let B;const E={willMount:"componentWillMount",didMount:"componentDidMount",willReceiveProps:"componentWillReceiveProps",shouldUpdate:"shouldComponentUpdate",willUpdate:"componentWillUpdate",didUpdate:"componentDidUpdate",willUnmount:"componentWillUnmount"};for(const H in E){const I=E[H];null==x[H]&&(x[H]=x[I])}class C{constructor(H,I,K=null,O=null){let Q,W;null==I&&(I={});this.props=I;this.state=K;this.children=O;I=function(X,ca){return"function"===typeof X?X.bind(ca):
X};for(Q in x)W=x[Q],this[Q]=I(W,this);let R=null;this.setState=function(X){null==R&&(R=X?null!=R?R:{}:null);for(Q in X)W=X[Q],R[Q]=W;H._COMPONENT_DIRTY=!0};this.forceUpdate=function(){H._COMPONENT_FORCE=H._COMPONENT_DIRTY=!0;let X=H;const ca=[];for(;X=X.parentNode;)X._COMPONENT?ca.push(X._COMPONENT_FORCE=!0):ca.push(void 0);return ca};this.getNextState=()=>R;this.applyNextState=function(){H._COMPONENT_FORCE=H._COMPONENT_DIRTY=!1;const X=this.state;[R,this.state]=Array.from([null,R]);return X}}}C.isComponentClass=
!0;C.prototype.defaultProps=null!=(B="function"===typeof x.getDefaultProps?x.getDefaultProps():void 0)?B:{};return C}};
shadow$provide[85]=function(z,v,J,m){Object.defineProperty(m,"__esModule",{value:!0});m.Overlay=void 0;class t{constructor(p,n){this.element=p;"function"===typeof this.init&&this.init(n)}dispose(){}}m.Overlay=t};
shadow$provide[86]=function(z,v,J,m){function t(c){if("function"!==typeof WeakMap)return null;var e=new WeakMap,f=new WeakMap;return(t=function(h){return h?f:e})(c)}Object.defineProperty(m,"__esModule",{value:!0});m.DOM=void 0;var p=function(c,e){if(!e&&c&&c.__esModule)return c;if(null===c||"object"!==typeof c&&"function"!==typeof c)return{default:c};if((e=t(e))&&e.has(c))return e.get(c);var f={},h=Object.defineProperty&&Object.getOwnPropertyDescriptor,k;for(k in c)if("default"!==k&&Object.prototype.hasOwnProperty.call(c,
k)){var g=h?Object.getOwnPropertyDescriptor(c,k):null;g&&(g.get||g.set)?Object.defineProperty(f,k,g):f[k]=c[k]}f.default=c;e&&e.set(c,f);return f}(v(84));z=v(85);class n extends z.Overlay{static initClass(){this.prototype.el=p.element;this.prototype.hint=p.hint;this.prototype.apply=p.apply;this.prototype.recycle=p.recycle}init(c){return this.last=null}dispose(){this.unmount();return super.dispose()}mount(){const c=document.createElement("div");c.classList.add("mathbox-overlay");this.element.appendChild(c);
return this.overlay=c}unmount(c){this.overlay&&this.overlay.parentNode&&this.element.removeChild(this.overlay);return this.overlay=null}render(c){this.overlay||this.mount();["string","number"].includes(typeof c)&&(c=this.el("div",null,c));c instanceof Array&&(c=this.el("div",null,c));null==c&&(c=this.el("div"));var e="div"===c.type;let {last:f}=this;const {overlay:h}=this,k=e?h:h.childNodes[0];e=e?h.parentNode:h;!f&&k&&(f=this.el("div"));this.apply(c,f,k,e,0);this.last=c;null!=f&&this.recycle(f)}}
m.DOM=n;n.initClass()};
shadow$provide[87]=function(z,v,J,m){Object.defineProperty(m,"__esModule",{value:!0});m.Classes=void 0;z={dom:v(86).DOM};m.Classes=z};
shadow$provide[88]=function(z,v,J,m){Object.defineProperty(m,"__esModule",{value:!0});var t={Factory:!0};Object.defineProperty(m,"Factory",{enumerable:!0,get:function(){return p.OverlayFactory}});var p=v(83),n=v(87);Object.keys(n).forEach(function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(t,e)||e in m&&m[e]===n[e]||Object.defineProperty(m,e,{enumerable:!0,get:function(){return n[e]}}))});var c=v(85);Object.keys(c).forEach(function(e){"default"!==e&&"__esModule"!==e&&
(Object.prototype.hasOwnProperty.call(t,e)||e in m&&m[e]===c[e]||Object.defineProperty(m,e,{enumerable:!0,get:function(){return c[e]}}))})};
shadow$provide[89]=function(z,v,J,m){function t(c){if("function"!==typeof WeakMap)return null;var e=new WeakMap,f=new WeakMap;return(t=function(h){return h?f:e})(c)}Object.defineProperty(m,"__esModule",{value:!0});m.Primitive=void 0;var p=function(c,e){if(!e&&c&&c.__esModule)return c;if(null===c||"object"!==typeof c&&"function"!==typeof c)return{default:c};if((e=t(e))&&e.has(c))return e.get(c);var f={},h=Object.defineProperty&&Object.getOwnPropertyDescriptor,k;for(k in c)if("default"!==k&&Object.prototype.hasOwnProperty.call(c,
k)){var g=h?Object.getOwnPropertyDescriptor(c,k):null;g&&(g.get||g.set)?Object.defineProperty(f,k,g):f[k]=c[k]}f.default=c;e&&e.set(c,f);return f}(v(82));z=v(4);class n{static initClass(){this.Node=p.Node;this.Group=p.Group;this.model=this.Node;this.finals=this.props=this.traits=this.defaults=null;this.freeform=!1}constructor(c,e,f){this.node=c;this._context=e;this._renderables=this._context.renderables;this._attributes=this._context.attributes;this._shaders=this._context.shaders;this._overlays=this._context.overlays;
this._animator=this._context.animator;this._types=this._attributes.types;this.node.controller=this;this.node.on("added",h=>this._added());this.node.on("removed",h=>this._removed());this.node.on("change",h=>{if(this._root)return this.change(h.changed,h.touched)});this.reconfigure();this._get=this.node.get.bind(this.node);this._helpers=f(this,this.node.traits);this._handlers={inherit:{},listen:[],watch:[],compute:[]};this._root=this._parent=null;this.init()}is(c){return this.traits.hash[c]}init(){}make(){}made(){}unmake(c){}unmade(){}change(c,
e,f){}refresh(){return this.change({},{},!0)}rebuild(){if(this._root)return this._removed(!0),this._added()}reconfigure(c){null!=c&&this.node.configure(c,this._attributes);this.traits=this.node.traits;return this.props=this.node.props}_added(){let c,e;this._parent=null!=this.node.parent?this.node.parent.controller:void 0;this._root=null!=this.node.root?this.node.root.controller:void 0;this.node.clock=null!=(e=this._inherit("clock"))?e:this._root;try{try{return this.make(),this.refresh(),this.made()}catch(f){throw c=
f,this.node.print("warn"),console.error(c),c;}}catch(f){try{return this._removed()}catch(h){}}}_removed(c){null==c&&(c=!1);this.unmake(c);this._unlisten();this._unattach();this._uncompute();this._parent=this._root=null;return this.unmade(c)}_listen(c,e,f,h){null==h&&(h=this);if(c instanceof Array)for(const k of Array.from(c))return this.__listen(k,e,f,h);return this.__listen(c,e,f,h)}__listen(c,e,f,h){null==h&&(h=this);"string"===typeof c&&(c=this._inherit(c));null!=c&&(f=f.bind(h),f.node=this.node,
c.on(e,f),this._handlers.listen.push([c,e,f]));return c}_unlisten(){if(this._handlers.listen.length){for(const [c,e,f]of Array.from(this._handlers.listen))c.off(e,f);return this._handlers.listen=[]}}_inherit(c){const e=this._handlers.inherit[c];return void 0!==e?e:this._handlers.inherit[c]=null!=this._parent?this._parent._find(null!=c?c:null):void 0}_find(c){return this.is(c)?this:null!=this._parent?this._parent._find(c):void 0}_uninherit(){return this._handlers.inherit={}}_attach(c,e,f,h,k,g,r){null==
h&&(h=this);null==k&&(k=this);null==g&&(g=!1);null==r&&(r=!1);const u=function(E){if(null!=E&&Array.from(E.traits).includes(e))return E},w=E=>null!=E?E.controller:void 0,x=function(E){if(null==E)return E;let C=[];for(const H of Array.from(E))H instanceof Array?C=C.concat(H):C.push(H);return C},B=E=>{let C;if("object"===typeof E){var H=E;if(null!=H&&H._up)return E=r?H._targets:[H[0]];if(H instanceof Array)return E=r?x(H.map(B)):B(H[0]);if(H instanceof p.Node)return[H]}else if("string"===typeof E&&
"\x3c"===E[0]){var I=0;if(H=E.match(/^<([0-9])+$/))I=+H[1]-1;E.match(/^<+$/)&&(I=+E.length-1);C=[];let K=k.node;for(;K;){({parent:H}=K);if(!H)break;(K=H.children[K.index-1])||C.length||(K=H);H=null;u(K)&&(H=K);null!=H&&0>=I--&&C.push(H);if(!r&&C.length)return C}if(r&&C.length)return C}else if("string"===typeof E)if(I=f.bind(h),this._handlers.watch.push(I),I=this._root.watch(E,I),r){if(C=I.filter(u),C.length)return C}else if(u(I[0])&&(H=I[0]),null!=H)return[H];if(!g)throw console.warn(this.node.toMarkup()),
Error(`${this.node.toString()} - Could not find ${e} \`${E}\``);return r?[]:null};c=x(B(c));return r?null!=c?c.map(w):null:null!=c?w(c[0]):null}_unattach(){if(this._handlers.watch.length){for(const c of Array.from(this._handlers.watch))null!=c&&c.unwatch();return this._handlers.watch=[]}}_compute(c,e){this._handlers.compute.push(c);return this.node.bind(c,e,!0)}_uncompute(){if(this._handlers.compute.length){for(const c of Array.from(this._handlers.compute))this.node.unbind(c,!0);return this._handlers.compute=
[]}}}m.Primitive=n;n.initClass();z.Binder.apply(n.prototype)};
shadow$provide[90]=function(z,v,J,m){Object.defineProperty(m,"__esModule",{value:!0});m.Parent=void 0;var t=v(89);class p extends t.Primitive{static initClass(){this.model=t.Primitive.Group;this.traits=["node"]}}m.Parent=p;p.initClass()};
shadow$provide[91]=function(z,v,J,m){Object.defineProperty(m,"__esModule",{value:!0});m.Group=void 0;z=v(90);class t extends z.Parent{static initClass(){this.traits=["node","object","entity","visible","active"]}make(){this._helpers.visible.make();return this._helpers.active.make()}unmake(){this._helpers.visible.unmake();return this._helpers.active.unmake()}}m.Group=t;t.initClass()};
shadow$provide[92]=function(z,v,J,m){Object.defineProperty(m,"__esModule",{value:!0});m.Inherit=void 0;z=v(90);class t extends z.Parent{static initClass(){this.traits=["node","bind"]}make(){return this._helpers.bind.make([{to:"inherit.source",trait:"node"}])}unmake(){return this._helpers.bind.unmake()}_find(p){return this.bind.source&&Array.from(this.props.traits).includes(p)?this.bind.source._inherit(p):super._find()}}m.Inherit=t;t.initClass()};
shadow$provide[93]=function(z,v,J,m){function t(n,c){return"undefined"!==typeof n&&null!==n?c(n):void 0}Object.defineProperty(m,"__esModule",{value:!0});m.Root=void 0;z=v(90);class p extends z.Parent{static initClass(){this.traits="node root clock scene vertex unit".split(" ")}init(){this.size=null;this.cameraEvent={type:"root.camera"};this.preEvent={type:"root.pre"};this.updateEvent={type:"root.update"};this.renderEvent={type:"root.render"};this.postEvent={type:"root.post"};this.clockEvent={type:"clock.tick"};
return this.camera=null}make(){return this._helpers.unit.make()}unmake(){return this._helpers.unit.unmake()}change(n,c,e){if(n["root.camera"]||e)return this._unattach(),this._attach(this.props.camera,"camera",this.setCamera,this,this,!0),this.setCamera()}adopt(n){return Array.from(n.renders).map(c=>this._context.scene.add(c))}unadopt(n){return Array.from(n.renders).map(c=>this._context.scene.remove(c))}select(n){return this.node.model.select(n)}watch(n,c){return this.node.model.watch(n,c)}unwatch(n){return this.node.model.unwatch(n)}resize(n){this.size=
n;return this.trigger({type:"root.resize",size:n})}getSize(){return this.size}getSpeed(){return this.props.speed}getUnit(){return this._helpers.unit.get()}getUnitUniforms(){return this._helpers.unit.uniforms()}pre(){this.getCamera().updateProjectionMatrix();this.trigger(this.clockEvent);return this.trigger(this.preEvent)}update(){return this.trigger(this.updateEvent)}render(){return this.trigger(this.renderEvent)}post(){return this.trigger(this.postEvent)}setCamera(){const n=t(this.select(this.props.camera)[0],
c=>c.controller);if(this.camera!==n)return this.camera=n,this.trigger({type:"root.camera"})}getCamera(){let n;return null!=(n=null!=this.camera?this.camera.getCamera():void 0)?n:this._context.defaultCamera}getTime(){return this._context.time}vertex(n,c){return 2===c?n.pipe("view.position"):3===c?n.pipe("root.position"):n}}m.Root=p;p.initClass()};
shadow$provide[94]=function(z,v,J,m){Object.defineProperty(m,"__esModule",{value:!0});m.Unit=void 0;z=v(90);class t extends z.Parent{static initClass(){this.traits=["node","unit"]}make(){return this._helpers.unit.make()}unmake(){return this._helpers.unit.unmake()}getUnit(){return this._helpers.unit.get()}getUnitUniforms(){return this._helpers.unit.uniforms()}}m.Unit=t;t.initClass()};
shadow$provide[95]=function(z,v,J,m){Object.defineProperty(m,"__esModule",{value:!0});var t=v(91);Object.keys(t).forEach(function(e){"default"!==e&&"__esModule"!==e&&(e in m&&m[e]===t[e]||Object.defineProperty(m,e,{enumerable:!0,get:function(){return t[e]}}))});var p=v(92);Object.keys(p).forEach(function(e){"default"!==e&&"__esModule"!==e&&(e in m&&m[e]===p[e]||Object.defineProperty(m,e,{enumerable:!0,get:function(){return p[e]}}))});var n=v(93);Object.keys(n).forEach(function(e){"default"!==e&&"__esModule"!==
e&&(e in m&&m[e]===n[e]||Object.defineProperty(m,e,{enumerable:!0,get:function(){return n[e]}}))});var c=v(94);Object.keys(c).forEach(function(e){"default"!==e&&"__esModule"!==e&&(e in m&&m[e]===c[e]||Object.defineProperty(m,e,{enumerable:!0,get:function(){return c[e]}}))})};
shadow$provide[96]=function(z,v,J,m){function t(c){if("function"!==typeof WeakMap)return null;var e=new WeakMap,f=new WeakMap;return(t=function(h){return h?f:e})(c)}Object.defineProperty(m,"__esModule",{value:!0});m.transformComposer=m.swizzleToEulerOrder=m.paramToArrayStorage=m.paramToGL=void 0;var p=function(c,e){if(!e&&c&&c.__esModule)return c;if(null===c||"object"!==typeof c&&"function"!==typeof c)return{default:c};if((e=t(e))&&e.has(c))return e.get(c);var f={},h=Object.defineProperty&&Object.getOwnPropertyDescriptor,
k;for(k in c)if("default"!==k&&Object.prototype.hasOwnProperty.call(c,k)){var g=h?Object.getOwnPropertyDescriptor(c,k):null;g&&(g.get||g.set)?Object.defineProperty(f,k,g):f[k]=c[k]}f.default=c;e&&e.set(c,f);return f}(v(2));m.paramToGL=function(c,e){return e===p.RepeatWrapping?c.REPEAT:e===p.ClampToEdgeWrapping?c.CLAMP_TO_EDGE:e===p.MirroredRepeatWrapping?c.MIRRORED_REPEAT:e===p.NearestFilter?c.NEAREST:e===p.NearestMipMapNearestFilter?c.NEAREST_MIPMAP_NEAREST:e===p.NearestMipMapLinearFilter?c.NEAREST_MIPMAP_LINEAR:
e===p.LinearFilter?c.LINEAR:e===p.LinearMipMapNearestFilter?c.LINEAR_MIPMAP_NEAREST:e===p.LinearMipMapLinearFilter?c.LINEAR_MIPMAP_LINEAR:e===p.UnsignedByteType?c.UNSIGNED_BYTE:e===p.UnsignedShort4444Type?c.UNSIGNED_SHORT_4_4_4_4:e===p.UnsignedShort5551Type?c.UNSIGNED_SHORT_5_5_5_1:e===p.ByteType?c.BYTE:e===p.ShortType?c.SHORT:e===p.UnsignedShortType?c.UNSIGNED_SHORT:e===p.IntType?c.INT:e===p.UnsignedIntType?c.UNSIGNED_INT:e===p.FloatType?c.FLOAT:e===p.AlphaFormat?c.ALPHA:e===p.RGBAFormat?c.RGBA:
e===p.LuminanceFormat?c.LUMINANCE:e===p.LuminanceAlphaFormat?c.LUMINANCE_ALPHA:e===p.AddEquation?c.FUNC_ADD:e===p.SubtractEquation?c.FUNC_SUBTRACT:e===p.ReverseSubtractEquation?c.FUNC_REVERSE_SUBTRACT:e===p.ZeroFactor?c.ZERO:e===p.OneFactor?c.ONE:e===p.SrcColorFactor?c.SRC_COLOR:e===p.OneMinusSrcColorFactor?c.ONE_MINUS_SRC_COLOR:e===p.SrcAlphaFactor?c.SRC_ALPHA:e===p.OneMinusSrcAlphaFactor?c.ONE_MINUS_SRC_ALPHA:e===p.DstAlphaFactor?c.DST_ALPHA:e===p.OneMinusDstAlphaFactor?c.ONE_MINUS_DST_ALPHA:e===
p.DstColorFactor?c.DST_COLOR:e===p.OneMinusDstColorFactor?c.ONE_MINUS_DST_COLOR:e===p.SrcAlphaSaturateFactor?c.SRC_ALPHA_SATURATE:0};m.paramToArrayStorage=function(c){switch(c){case p.UnsignedByteType:return Uint8Array;case p.ByteType:return Int8Array;case p.ShortType:return Int16Array;case p.UnsignedShortType:return Uint16Array;case p.IntType:return Int32Array;case p.UnsignedIntType:return Uint32Array;case p.FloatType:return Float32Array}};const n=c=>c.map(e=>["","X","Y","Z"][e]).join("");m.swizzleToEulerOrder=
n;m.transformComposer=function(){const c=new p.Euler,e=new p.Quaternion,f=new p.Vector3,h=new p.Vector3,k=new p.Matrix4;return function(g,r,u,w,x,B){null==B&&(B="XYZ");null!=r?(B instanceof Array&&(B=n(B)),c.setFromVector3(r,B),e.setFromEuler(c)):e.set(0,0,0,1);null!=u&&e.multiply(u);null!=g?f.copy(g):f.set(0,0,0);null!=w?h.copy(w):h.set(1,1,1);k.compose(f,e,h);null!=x&&k.multiplyMatrices(k,x);return k}}};
shadow$provide[97]=function(z,v,J,m){function t(e){if("function"!==typeof WeakMap)return null;var f=new WeakMap,h=new WeakMap;return(t=function(k){return k?h:f})(e)}Object.defineProperty(m,"__esModule",{value:!0});m.Camera=void 0;var p=function(e,f){if(!f&&e&&e.__esModule)return e;if(null===e||"object"!==typeof e&&"function"!==typeof e)return{default:e};if((f=t(f))&&f.has(e))return f.get(e);var h={},k=Object.defineProperty&&Object.getOwnPropertyDescriptor,g;for(g in e)if("default"!==g&&Object.prototype.hasOwnProperty.call(e,
g)){var r=k?Object.getOwnPropertyDescriptor(e,g):null;r&&(r.get||r.set)?Object.defineProperty(h,g,r):h[g]=e[g]}h.default=e;f&&f.set(e,h);return h}(v(96)),n=v(2);z=v(89);class c extends z.Primitive{static initClass(){this.traits=["node","camera"]}init(){}make(){const e=this._context.defaultCamera;this.camera=this.props.proxy?e:e.clone();this.euler=new n.Euler;return this.quat=new n.Quaternion}unmake(){}getCamera(){return this.camera}change(e,f,h){if(e["camera.position"]||e["camera.quaternion"]||e["camera.rotation"]||
e["camera.lookAt"]||e["camera.up"]||e["camera.fov"]||h){const {position:k,quaternion:g,rotation:r,lookAt:u,up:w,fov:x}=this.props;null!=k&&this.camera.position.copy(k);if(null!=g||null!=r||null!=u)null!=u?this.camera.lookAt(u):this.camera.quaternion.set(0,0,0,1),null!=r&&(this.euler.setFromVector3(r,p.swizzleToEulerOrder(this.props.eulerOrder)),this.quat.setFromEuler(this.euler),this.camera.quaternion.multiply(this.quat)),null!=g&&this.camera.quaternion.multiply(g);null!=x&&null!=this.camera.fov&&
(this.camera.fov=x);null!=w&&this.camera.up.copy(w);return this.camera.updateMatrix()}}}m.Camera=c;c.initClass()};
shadow$provide[98]=function(z,v,J,m){Object.defineProperty(m,"__esModule",{value:!0});var t=v(97);Object.keys(t).forEach(function(p){"default"!==p&&"__esModule"!==p&&(p in m&&m[p]===t[p]||Object.defineProperty(m,p,{enumerable:!0,get:function(){return t[p]}}))})};
shadow$provide[99]=function(z,v,J,m){function t(c,e,f){const h=[],k=c<e;for(e=f?k?e+1:e-1:e;k?c<e:c>e;k?c++:c--)h.push(c);return h}Object.defineProperty(m,"__esModule",{value:!0});m.getLerpThunk=m.getLerpEmitter=m.getStreamer=m.getThunk=m.makeEmitter=m.repeatCall=m.getDimensions=m.getSizes=void 0;const p=function(c){const e=[];for(;"string"!==typeof c&&null!=(null!=c?c.length:void 0);)e.push(c.length),c=c[0];return e};m.getSizes=p;m.getDimensions=function(c,e){let f;null==e&&(e={});const {items:h,
channels:k,width:g,height:r,depth:u}=e;e={};if(!c||!c.length)return{items:h,channels:k,width:null!=g?g:0,height:null!=r?r:0,depth:null!=u?u:0};c=p(c);var w=c.length;e.channels=1!==k&&1<c.length?c.pop():k;e.items=1!==h&&1<c.length?c.pop():h;e.width=1!==g&&1<c.length?c.pop():g;e.height=1!==r&&1<c.length?c.pop():r;e.depth=1!==u&&1<c.length?c.pop():u;1===k&&w++;1===h&&1<w&&w++;1===g&&2<w&&w++;1===r&&3<w&&w++;c=null!=(f=c.pop())?f:1;1>=w&&(c/=null!=e.channels?e.channels:1);2>=w&&(c/=null!=e.items?e.items:
1);3>=w&&(c/=null!=e.width?e.width:1);4>=w&&(c/=null!=e.height?e.height:1);c=Math.floor(c);null==e.width&&(e.width=c,c=1);null==e.height&&(e.height=c,c=1);null==e.depth&&(e.depth=c);return e};m.repeatCall=function(c,e){switch(e){case 0:return()=>!0;case 1:return()=>c();case 2:return function(){c();return c()};case 3:return function(){c();c();c();return c()};case 4:return function(){c();c();c();return c()};case 6:return function(){c();c();c();c();c();return c()};case 8:return function(){c();c();c();
c();c();return c()}}};m.makeEmitter=function(c,e,f){let h;const k=(()=>{switch(f){case 0:return()=>!0;case 1:return r=>r(c());case 2:return r=>r(c(),c());case 3:return r=>r(c(),c(),c());case 4:return r=>r(c(),c(),c(),c());case 6:return r=>r(c(),c(),c(),c(),c(),c());case 8:return r=>r(c(),c(),c(),c(),c(),c(),c(),c())}})();let g=null;for(;0<e;){const r=Math.min(e,8);h=(()=>{switch(r){case 1:return u=>k(u);case 2:return function(u){k(u);return k(u)};case 3:return function(u){k(u);k(u);return k(u)};case 4:return function(u){k(u);
k(u);k(u);return k(u)};case 5:return function(u){k(u);k(u);k(u);k(u);return k(u)};case 6:return function(u){k(u);k(u);k(u);k(u);k(u);return k(u)};case 7:return function(u){k(u);k(u);k(u);k(u);k(u);k(u);return k(u)};case 8:return function(u){k(u);k(u);k(u);k(u);k(u);k(u);k(u);return k(u)}}})();g=null!=g?((u,w)=>function(x){u(x);return w(x)})(h,g):h;e-=r}h=null!=g?g:()=>!0;h.reset=c.reset;h.rebind=c.rebind;return h};const n=function(c){let e,f,h,k,g,r=p(c);const u=r.length;let w=r.pop(),x=r.pop(),B=
r.pop();const E=r.pop();let C,H,I,K,O;switch(u){case 0:e=()=>0;e.reset=function(){};break;case 1:C=0;e=()=>c[C++];e.reset=()=>C=0;break;case 2:C=f=0;H=null!=c[f]?c[f]:[];e=function(){const Q=H[C++];C===w&&(C=0,f++,H=null!=c[f]?c[f]:[]);return Q};e.reset=function(){C=f=0;H=null!=c[f]?c[f]:[]};break;case 3:C=f=h=0;I=null!=c[h]?c[h]:[];H=null!=I[f]?I[f]:[];e=function(){const Q=H[C++];C===w&&(C=0,f++,f===x&&(f=0,h++,I=null!=c[h]?c[h]:[]),H=null!=I[f]?I[f]:[]);return Q};e.reset=function(){C=f=h=0;I=null!=
c[h]?c[h]:[];H=null!=I[f]?I[f]:[]};break;case 4:C=f=h=k=0;K=null!=c[k]?c[k]:[];I=null!=K[h]?K[h]:[];H=null!=I[f]?I[f]:[];e=function(){const Q=H[C++];C===w&&(C=0,f++,f===x&&(f=0,h++,h===B&&(h=0,k++,K=null!=c[k]?c[k]:[]),I=null!=K[h]?K[h]:[]),H=null!=I[f]?I[f]:[]);return Q};e.reset=function(){C=f=h=k=0;K=null!=c[k]?c[k]:[];I=null!=K[h]?K[h]:[];H=null!=I[f]?I[f]:[]};break;case 5:C=f=h=k=g=0,O=null!=c[g]?c[g]:[],K=null!=O[k]?O[k]:[],I=null!=K[h]?K[h]:[],H=null!=I[f]?I[f]:[],e=function(){const Q=H[C++];
C===w&&(C=0,f++,f===x&&(f=0,h++,h===B&&(h=0,k++,k===E&&(k=0,g++,O=null!=c[g]?c[g]:[]),K=null!=O[k]?O[k]:[]),I=null!=K[h]?K[h]:[]),H=null!=I[f]?I[f]:[]);return Q},e.reset=function(){C=f=h=k=g=0;O=null!=c[g]?c[g]:[];K=null!=O[k]?O[k]:[];I=null!=K[h]?K[h]:[];H=null!=I[f]?I[f]:[]}}e.rebind=function(Q){c=Q;r=p(c);r.length&&(w=r.pop());r.length&&(x=r.pop());r.length&&(B=r.pop());if(r.length)return r.pop()};return e};m.getThunk=n;m.getStreamer=function(c,e,f,h){let k,g,r=k=g=0;const u=function(){r=e*f*h;
return k=g=0},w=(()=>{switch(f){case 1:return function(E){k+=E;g+=E};case 2:return function(E){k+=2*E;g+=E};case 3:return function(E){k+=3*E;g+=E};case 4:return function(E){k+=4*E;g+=E}}})(),x=(()=>{switch(f){case 1:return function(E){E(c[k++]);++g};case 2:return function(E){E(c[k++],c[k++]);++g};case 3:return function(E){E(c[k++],c[k++],c[k++]);++g};case 4:return function(E){E(c[k++],c[k++],c[k++],c[k++]);++g}}})(),B=(()=>{switch(f){case 1:return function(E){c[k++]=E;++g};case 2:return function(E,
C){c[k++]=E;c[k++]=C;++g};case 3:return function(E,C,H){c[k++]=E;c[k++]=C;c[k++]=H;++g};case 4:return function(E,C,H,I){c[k++]=E;c[k++]=C;c[k++]=H;c[k++]=I;++g}}})();x.reset=u;B.reset=u;u();return{emit:B,consume:x,skip:w,count:()=>g,done:()=>0>=r-k,reset:u}};m.getLerpEmitter=function(c,e){let f,h,k,g;const r=new Float32Array(4096);let u=f=.5,w=h=k=g=0;const x=function(C,H,I,K){k++;r[w++]=C*u;r[w++]=H*u;r[w++]=I*u;return r[w++]=K*u},B=function(C,H,I,K){g++;r[h++]+=C*f;r[h++]+=H*f;r[h++]+=I*f;return r[h++]+=
K*f};var E=Math.max(c.length,e.length);E=3>=E?function(C,H,I){w=h=k=g=0;c(x,H,I);e(B,H,I);let K=0;return t(0,Math.min(k,g),!1).map(O=>C(r[K++],r[K++],r[K++],r[K++]))}:5>=E?function(C,H,I,K,O){w=h=k=g=0;c(x,H,I,K,O);e(B,H,I,K,O);let Q=0;return t(0,Math.min(k,g),!1).map(W=>C(r[Q++],r[Q++],r[Q++],r[Q++]))}:7>=E?function(C,H,I,K,O,Q,W){w=h=k=g=0;c(x,H,I,K,O,Q,W);e(B,H,I,K,O,Q,W);H=Math.min(k,g);I=0;O=[];W=0;for(K=0<=H;K?W<H:W>H;K?W++:W--)O.push(C(r[I++],r[I++],r[I++],r[I++]));return O}:9>=E?function(C,
H,I,K,O,Q,W,R,X){w=h=k=g=0;c(x,H,I,K,O,Q,W,R,X);e(B,H,I,K,O,Q,W,R,X);H=Math.min(k,g);X=0;K=[];R=0;for(I=0<=H;I?R<H:R>H;I?R++:R--)K.push(C(r[X++],r[X++],r[X++],r[X++]));return K}:function(C,H,I,K,O,Q,W,R,X,ca,ka){w=h=0;c(x,H,I,K,O,Q,W,R,X,ca,ka);e(B,H,I,K,O,Q,W,R,X,ca,ka);H=Math.min(k,g);X=0;K=[];R=0;for(I=0<=H;I?R<H:R>H;I?R++:R--)K.push(C(r[X++],r[X++],r[X++],r[X++]));return K};E.lerp=function(C){let H;return[u,f]=Array.from(H=[1-C,C]),H};return E};m.getLerpThunk=function(c,e){const f=p(c).reduce((w,
x)=>w*x),h=p(e).reduce((w,x)=>w*x),k=Math.min(f,h),g=n(c),r=n(e),u=new Float32Array(k);u.lerp=function(w){g.reset();r.reset();let x=0;const B=[];for(;x<k;){const E=g(),C=r();B.push(u[x++]=E+(C-E)*w)}return B};return u}};
shadow$provide[100]=function(z,v,J,m){function t(g,r,u){const w=[],x=g<r;for(r=u?x?r+1:r-1:r;x?g<r:g>r;x?g++:g--)w.push(g);return w}Object.defineProperty(m,"__esModule",{value:!0});m.constant=m.identity=m.invertSwizzleVec4=m.swizzleVec4=m.injectVec4=m.truncateVec=m.extendVec=m.binaryOperator=m.sample2DArray=m.mapByte2FloatOffset=m.toType=void 0;const p=["x","y","z","w"],n={0:-1,x:0,y:1,z:2,w:3},c=function(g){g===""+g&&(g=g.split(""));g===+g&&(g=[g]);return g},e=function(g){g===+g&&(g="vec"+g);"vec1"===
g&&(g="float");return g};m.toType=e;const f=function(g){g=""+g;if(0>g.indexOf("."))return g+".0"};m.mapByte2FloatOffset=function(g){null==g&&(g=4);g=f(g);return`\
vec4 float2ByteIndex(vec4 xyzw, out float channelIndex) {
  float relative = xyzw.w / ${g};
  float w = floor(relative);
  channelIndex = (relative - w) * ${g};
  return vec4(xyzw.xyz, w);
}\
`};m.sample2DArray=function(g){const r=function(w,x){if(w===x)w=`\
return texture2D(dataTextures[${w}], uv);\
`;else{const B=Math.ceil(w+(x-w)/2);w=`\
if (z < ${B-.5}) {
  ${r(w,B-1)}
}
else {
  ${r(B,x)}
}\
`}return w.replace(/\n/g,"\n  ")},u=r(0,g-1);return`\
uniform sampler2D dataTextures[${g}];

vec4 sample2DArray(vec2 uv, float z) {
  ${u}
}\
`};m.binaryOperator=function(g,r,u){g=e(g);return null!=u?`\
${g} binaryOperator(${g} a) {
  return a ${r} ${u};
}\
`:`\
${g} binaryOperator(${g} a, ${g} b) {
  return a ${r} b;
}\
`};const h=function(g,r,u){null==u&&(u=0);if(g>r)return k(g,r);var w=r-g;g=e(g);r=e(r);u=f(u);w=t(0,w,!0).map(function(x){return x?u:"v"}).join(",");return`\
${r} extendVec(${g} v) { return ${r}(${w}); }\
`};m.extendVec=h;const k=function(g,r){if(g<r)return h(g,r);const u="."+"xyzw".substr(0,r);g=e(g);r=e(r);return`\
${r} truncateVec(${g} v) { return v${u}; }\
`};m.truncateVec=k;m.injectVec4=function(g){var r=["0.0","0.0","0.0","0.0"];g=c(g);g=g.map(function(u){return u===""+u?n[u]:u});for(let u=0;u<g.length;u++)r[g[u]]=["a","b","c","d"][u];r=r.slice(0,4).join(", ");return`\
vec4 inject(${["float a","float b","float c","float d"].slice(0,g.length)}) {
  return vec4(${r});
}\
`};m.swizzleVec4=function(g,r=null){const u=["0.0","xyzw.x","xyzw.y","xyzw.z","xyzw.w"];null==r&&(r=g.length);g=c(g);for(g=g.map(function(w){Array.from([0,1,2,3,4]).includes(+w)&&(w=+w);w===""+w&&(w=n[w]+1);return u[w]});g.length<r;)g.push("0.0");g=g.join(", ");return`\
vec${r} swizzle(vec4 xyzw) {
  return vec${r}(${g});
}\
`.replace(/vec1/g,"float")};m.invertSwizzleVec4=function(g){const r=["0.0","0.0","0.0","0.0"];g=c(g);g=g.map(function(u){return u===+u?p[u-1]:u});for(let u=0;u<g.length;u++)r[n[g[u]]]=`xyzw.${p[u]}`;return`\
vec4 invertSwizzle(vec4 xyzw) {
  return vec4(${r.join(", ")});
}\
`};m.identity=function(g){let r=[].slice.call(arguments);return 1<r.length?(r=r.map((u,w)=>["inout",u,String.fromCharCode(97+w)].join(" ")),r=r.join(", "),`\
void identity(${r}) { }\
`):`\
${g} identity(${g} x) {
  return x;
}\
`};m.constant=(g,r)=>`\
${g} constant() {
return ${r};
}\
`};
shadow$provide[101]=function(z,v,J,m){function t(c){if("function"!==typeof WeakMap)return null;var e=new WeakMap,f=new WeakMap;return(t=function(h){return h?f:e})(c)}Object.defineProperty(m,"__esModule",{value:!0});m.Source=void 0;var p=function(c,e){if(!e&&c&&c.__esModule)return c;if(null===c||"object"!==typeof c&&"function"!==typeof c)return{default:c};if((e=t(e))&&e.has(c))return e.get(c);var f={},h=Object.defineProperty&&Object.getOwnPropertyDescriptor,k;for(k in c)if("default"!==k&&Object.prototype.hasOwnProperty.call(c,
k)){var g=h?Object.getOwnPropertyDescriptor(c,k):null;g&&(g.get||g.set)?Object.defineProperty(f,k,g):f[k]=c[k]}f.default=c;e&&e.set(c,f);return f}(v(100));z=v(89);class n extends z.Primitive{static initClass(){this.traits=["node","source","index"]}made(){return this.trigger({type:"source.rebuild"})}indexShader(c){return c.pipe(p.identity("vec4"))}sourceShader(c){return c.pipe(p.identity("vec4"))}getDimensions(){return{items:1,width:1,height:1,depth:1}}getActiveDimensions(){return this.getDimensions()}getIndexDimensions(){return this.getActiveDimensions()}getFutureDimensions(){return this.getActiveDimensions()}}
m.Source=n;n.initClass()};
shadow$provide[102]=function(z,v,J,m){function t(c){if("function"!==typeof WeakMap)return null;var e=new WeakMap,f=new WeakMap;return(t=function(h){return h?f:e})(c)}Object.defineProperty(m,"__esModule",{value:!0});m.Data=void 0;var p=function(c,e){if(!e&&c&&c.__esModule)return c;if(null===c||"object"!==typeof c&&"function"!==typeof c)return{default:c};if((e=t(e))&&e.has(c))return e.get(c);var f={},h=Object.defineProperty&&Object.getOwnPropertyDescriptor,k;for(k in c)if("default"!==k&&Object.prototype.hasOwnProperty.call(c,
k)){var g=h?Object.getOwnPropertyDescriptor(c,k):null;g&&(g.get||g.set)?Object.defineProperty(f,k,g):f[k]=c[k]}f.default=c;e&&e.set(c,f);return f}(v(99));z=v(101);class n extends z.Source{static initClass(){this.traits="node data source index entity active".split(" ")}init(){return this.dataSizes=this.dataEmitter=null}emitter(c,e){const {data:f,bind:h,expr:k}=this.props;if(null!=f){var g=this.dataSizes;var r=p.getSizes(f);g&&g.length===r.length||(g=p.getThunk(f),this.dataEmitter=this.callback(p.makeEmitter(g,
e,c)),this.dataSizes=r);c=this.dataEmitter}else null!=r?(r=this._inherit("resolve"),c=this.callback(r.callback(h))):c=null!=k?this.callback(k):this.callback(this.passthrough);return c}callback(c){return null!=c?c:function(){}}update(){}make(){this._helpers.active.make();this.first=!0;return this._listen("root","root.update",()=>{(this.isActive||this.first)&&this.update();return this.first=!1})}unmake(){this._helpers.active.unmake();return this.dataSizes=this.dataEmitter=null}}m.Data=n;n.initClass()};
shadow$provide[103]=function(z,v,J,m){Object.defineProperty(m,"__esModule",{value:!0});m.Buffer=void 0;z=v(102);class t extends z.Data{static initClass(){this.traits="node buffer active data source index texture".split(" ")}init(){this.bufferStep=this.bufferClock=this.bufferDelta=this.bufferTime=this.bufferFrames=this.bufferSlack=0;super.init()}make(){super.make();this.clockParent=this._inherit("clock");this.latchParent=this._inherit("latch")}unmake(){return super.unmake()}rawBuffer(){return this.buffer}emitter(){const {channels:p,
items:n}=this.props;return super.emitter(p,n)}change(p,n,c){if(p["buffer.fps"]||c)return{fps:p}=this.props,this.bufferSlack=p?.5/p:0}syncBuffer(p){let n,c;if(this.buffer){var {live:e,fps:f,hurry:h,limit:k,realtime:g,observe:r}=this.props,u=this.buffer.getFilled();if(!u||e)if(!this.latchParent||this.latchParent.isDirty){var w=this.clockParent.getTime();if(null!=f){const x=this.bufferSlack,B=w.step/w.delta;n=g?w.delta:w.step;const E=1/f;c=g&&r?B*E:E;Math.abs(w.time-this.bufferTime)>w.step*k&&(this.bufferTime=
w.time,this.bufferClock=w.clock);this.bufferSlack=Math.min(k/f,x+n);this.bufferDelta=n;this.bufferStep=c;let C=Math.min(h,Math.floor(x*f));u||(C=Math.max(1,C));let H=!1;const I=()=>H=!0;return(()=>{const K=[];for(let O=0,Q=C,W=0<=Q;W?O<Q:O>Q;W?O++:O--){this.bufferTime+=n;this.bufferClock+=c;if(H)break;p(I,this.bufferFrames++,O,C);K.push(this.bufferSlack-=E)}return K})()}this.bufferTime=w.time;this.bufferDelta=w.delta;this.bufferClock=w.clock;this.bufferStep=w.step;return p(function(){},this.bufferFrames++,
0,1)}}}alignShader(p,n){const {minFilter:c,magFilter:e,aligned:f}=this.props;p=1<p.items&&1<p.width||1<p.height&&1<p.depth;if(!f&&p)return c===this.node.attributes["texture.minFilter"].enum.nearest&&e===this.node.attributes["texture.magFilter"].enum.nearest||console.warn(`${this.node.toString()} - Cannot use linear min/magFilter with 3D/4D sampling`),n.pipe("map.xyzw.align")}}m.Buffer=t;t.initClass()};
shadow$provide[104]=function(z,v,J,m){function t(c){if("function"!==typeof WeakMap)return null;var e=new WeakMap,f=new WeakMap;return(t=function(h){return h?f:e})(c)}Object.defineProperty(m,"__esModule",{value:!0});m.Array_=void 0;var p=function(c,e){if(!e&&c&&c.__esModule)return c;if(null===c||"object"!==typeof c&&"function"!==typeof c)return{default:c};if((e=t(e))&&e.has(c))return e.get(c);var f={},h=Object.defineProperty&&Object.getOwnPropertyDescriptor,k;for(k in c)if("default"!==k&&Object.prototype.hasOwnProperty.call(c,
k)){var g=h?Object.getOwnPropertyDescriptor(c,k):null;g&&(g.get||g.set)?Object.defineProperty(f,k,g):f[k]=c[k]}f.default=c;e&&e.set(c,f);return f}(v(99));z=v(103);class n extends z.Buffer{static initClass(){this.traits="node buffer active data source index array texture raw".split(" ")}init(){this.buffer=this.spec=null;this.space={width:0,history:0};this.used={width:0};this.storage="arrayBuffer";this.passthrough=(c,e)=>c(e,0,0,0);return super.init()}sourceShader(c){const e=this.getDimensions();this.alignShader(e,
c);return this.buffer.shader(c)}getDimensions(){return{items:this.items,width:this.space.width,height:this.space.history,depth:1}}getActiveDimensions(){return{items:this.items,width:this.used.width,height:this.buffer.getFilled(),depth:1}}getFutureDimensions(){return{items:this.items,width:this.used.width,height:this.space.history,depth:1}}getRawDimensions(){return{items:this.items,width:this.space.width,height:1,depth:1}}make(){super.make();const c=null!=this.minFilter?this.minFilter:this.props.minFilter,
e=null!=this.magFilter?this.magFilter:this.props.magFilter,f=null!=this.type?this.type:this.props.type;var {width:h}=this.props;const {history:k}=this.props,g=this.props.bufferWidth,{channels:r}=this.props,{items:u}=this.props;h=this.spec={channels:r,items:u,width:h};this.items=h.items;this.channels=h.channels;var {data:w}=this.props;h=p.getDimensions(w,h);({space:w}=this);w.width=Math.max(g,h.width||1);w.history=k;return this.buffer=this._renderables.make(this.storage,{width:w.width,history:w.history,
channels:r,items:u,minFilter:c,magFilter:e,type:f})}unmake(){super.unmake();if(this.buffer)return this.buffer.dispose(),this.buffer=this.spec=null}change(c,e,f){if(e.texture||c["history.history"]||c["buffer.channels"]||c["buffer.items"]||c["array.bufferWidth"])return this.rebuild();if(this.buffer){if(c["array.width"]){const {width:h,bufferWidth:k}=this.props;this.spec.width=h;if(h>k)return this.rebuild()}if(c["data.map"]||c["data.data"]||c["data.resolve"]||c["data.expr"]||f)return this.buffer.setCallback(this.emitter())}}callback(c){return 2>=
c.length?c:(e,f)=>c(e,f,this.bufferClock,this.bufferStep)}update(){if(this.buffer){var {data:c}=this.props,{width:e}=this.props,{space:f,used:h}=this,k=h.width,g=this.buffer.getFilled();this.syncBuffer(r=>{if(null!=c){const u=p.getDimensions(c,this.spec);if(u.width>f.width)return r(),this.rebuild();h.width=u.width;this.buffer.setActive(h.width);"function"===typeof this.buffer.callback.rebind&&this.buffer.callback.rebind(c);return this.buffer.update()}e=this.spec.width||1;this.buffer.setActive(e);
e=this.buffer.update();return h.width=e});if(h.width!==k||g!==this.buffer.getFilled())return this.trigger({type:"source.resize"})}}}m.Array_=n;n.initClass()};
shadow$provide[105]=function(z,v,J,m){Object.defineProperty(m,"__esModule",{value:!0});m.Interval=void 0;z=v(104);class t extends z.Array_{static initClass(){this.traits="node buffer active data source index texture array span interval sampler raw".split(" ")}updateSpan(){var p=this.props.axis;({width:e}=this.props);const {centered:n}=this.props,c=this.props.padding;p=this._helpers.span.get("",p);e+=2*c;this.a=p.x;p=p.y-p.x;if(n){var e=1/Math.max(1,e);this.a+=p*e/2}else e=1/Math.max(1,e-1);this.b=
p*e;return this.a+=c*this.b}callback(p){this.updateSpan();if(this.last===p)return this._callback;this.last=p;return 3>=p.length?this._callback=(n,c)=>p(n,this.a+this.b*c,c):this._callback=(n,c)=>p(n,this.a+this.b*c,c,this.bufferClock,this.bufferStep)}make(){super.make();this._helpers.span.make();return this._listen(this,"span.range",this.updateSpan)}unmake(){super.unmake();return this._helpers.span.unmake()}change(p,n,c){super.change(p,n,c);n.span&&this.updateSpan()}}m.Interval=t;t.initClass()};
shadow$provide[106]=function(z,v,J,m){J.exports=function(){this.__data__=[];this.size=0}};
shadow$provide[107]=function(z,v,J,m){J.exports=function(t,p){return t===p||t!==t&&p!==p}};
shadow$provide[108]=function(z,v,J,m){var t=v(107);J.exports=function(p,n){for(var c=p.length;c--;)if(t(p[c][0],n))return c;return-1}};
shadow$provide[109]=function(z,v,J,m){var t=v(108),p=Array.prototype.splice;J.exports=function(n){var c=this.__data__;n=t(c,n);if(0>n)return!1;n==c.length-1?c.pop():p.call(c,n,1);--this.size;return!0}};
shadow$provide[110]=function(z,v,J,m){var t=v(108);J.exports=function(p){var n=this.__data__;p=t(n,p);return 0>p?void 0:n[p][1]}};
shadow$provide[111]=function(z,v,J,m){var t=v(108);J.exports=function(p){return-1<t(this.__data__,p)}};
shadow$provide[112]=function(z,v,J,m){var t=v(108);J.exports=function(p,n){var c=this.__data__,e=t(c,p);0>e?(++this.size,c.push([p,n])):c[e][1]=n;return this}};
shadow$provide[113]=function(z,v,J,m){function t(c){var e=-1,f=null==c?0:c.length;for(this.clear();++e<f;){var h=c[e];this.set(h[0],h[1])}}z=v(106);m=v(109);var p=v(110),n=v(111);v=v(112);t.prototype.clear=z;t.prototype["delete"]=m;t.prototype.get=p;t.prototype.has=n;t.prototype.set=v;J.exports=t};
shadow$provide[114]=function(z,v,J,m){var t=v(113);J.exports=function(){this.__data__=new t;this.size=0}};
shadow$provide[115]=function(z,v,J,m){J.exports=function(t){var p=this.__data__;t=p["delete"](t);this.size=p.size;return t}};
shadow$provide[116]=function(z,v,J,m){J.exports=function(t){return this.__data__.get(t)}};
shadow$provide[117]=function(z,v,J,m){J.exports=function(t){return this.__data__.has(t)}};
shadow$provide[118]=function(z,v,J,m){J.exports="object"==typeof z&&z&&z.Object===Object&&z};
shadow$provide[119]=function(z,v,J,m){z=v(118);v="object"==typeof self&&self&&self.Object===Object&&self;z=z||v||Function("return this")();J.exports=z};
shadow$provide[120]=function(z,v,J,m){z=v(119).Symbol;J.exports=z};
shadow$provide[121]=function(z,v,J,m){z=v(120);v=Object.prototype;var t=v.hasOwnProperty,p=v.toString,n=z?z.toStringTag:void 0;J.exports=function(c){var e=t.call(c,n),f=c[n];try{c[n]=void 0;var h=!0}catch(g){}var k=p.call(c);h&&(e?c[n]=f:delete c[n]);return k}};
shadow$provide[122]=function(z,v,J,m){var t=Object.prototype.toString;J.exports=function(p){return t.call(p)}};
shadow$provide[123]=function(z,v,J,m){z=v(120);var t=v(121),p=v(122),n=z?z.toStringTag:void 0;J.exports=function(c){return null==c?void 0===c?"[object Undefined]":"[object Null]":n&&n in Object(c)?t(c):p(c)}};
shadow$provide[124]=function(z,v,J,m){J.exports=function(t){var p=typeof t;return null!=t&&("object"==p||"function"==p)}};
shadow$provide[125]=function(z,v,J,m){var t=v(123),p=v(124);J.exports=function(n){if(!p(n))return!1;n=t(n);return"[object Function]"==n||"[object GeneratorFunction]"==n||"[object AsyncFunction]"==n||"[object Proxy]"==n}};
shadow$provide[126]=function(z,v,J,m){z=v(119)["__core-js_shared__"];J.exports=z};
shadow$provide[127]=function(z,v,J,m){var t=v(126),p=function(){var n=/[^.]+$/.exec(t&&t.keys&&t.keys.IE_PROTO||"");return n?"Symbol(src)_1."+n:""}();J.exports=function(n){return!!p&&p in n}};
shadow$provide[128]=function(z,v,J,m){var t=Function.prototype.toString;J.exports=function(p){if(null!=p){try{return t.call(p)}catch(n){}return p+""}return""}};
shadow$provide[129]=function(z,v,J,m){var t=v(125),p=v(127),n=v(124),c=v(128),e=/^\[object .+?Constructor\]$/,f=RegExp("^"+Function.prototype.toString.call(Object.prototype.hasOwnProperty).replace(/[\\^$.*+?()[\]{}|]/g,"\\$\x26").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");J.exports=function(h){return!n(h)||p(h)?!1:(t(h)?f:e).test(c(h))}};
shadow$provide[130]=function(z,v,J,m){J.exports=function(t,p){return null==t?void 0:t[p]}};
shadow$provide[131]=function(z,v,J,m){var t=v(129),p=v(130);J.exports=function(n,c){n=p(n,c);return t(n)?n:void 0}};
shadow$provide[132]=function(z,v,J,m){z=v(131);v=v(119);v=z(v,"Map");J.exports=v};
shadow$provide[133]=function(z,v,J,m){z=v(131)(Object,"create");J.exports=z};
shadow$provide[134]=function(z,v,J,m){var t=v(133);J.exports=function(){this.__data__=t?t(null):{};this.size=0}};
shadow$provide[135]=function(z,v,J,m){J.exports=function(t){t=this.has(t)&&delete this.__data__[t];this.size-=t?1:0;return t}};
shadow$provide[136]=function(z,v,J,m){var t=v(133),p=Object.prototype.hasOwnProperty;J.exports=function(n){var c=this.__data__;return t?(n=c[n],"__lodash_hash_undefined__"===n?void 0:n):p.call(c,n)?c[n]:void 0}};
shadow$provide[137]=function(z,v,J,m){var t=v(133),p=Object.prototype.hasOwnProperty;J.exports=function(n){var c=this.__data__;return t?void 0!==c[n]:p.call(c,n)}};
shadow$provide[138]=function(z,v,J,m){var t=v(133);J.exports=function(p,n){var c=this.__data__;this.size+=this.has(p)?0:1;c[p]=t&&void 0===n?"__lodash_hash_undefined__":n;return this}};
shadow$provide[139]=function(z,v,J,m){function t(c){var e=-1,f=null==c?0:c.length;for(this.clear();++e<f;){var h=c[e];this.set(h[0],h[1])}}z=v(134);m=v(135);var p=v(136),n=v(137);v=v(138);t.prototype.clear=z;t.prototype["delete"]=m;t.prototype.get=p;t.prototype.has=n;t.prototype.set=v;J.exports=t};
shadow$provide[140]=function(z,v,J,m){var t=v(139),p=v(113),n=v(132);J.exports=function(){this.size=0;this.__data__={hash:new t,map:new (n||p),string:new t}}};
shadow$provide[141]=function(z,v,J,m){J.exports=function(t){var p=typeof t;return"string"==p||"number"==p||"symbol"==p||"boolean"==p?"__proto__"!==t:null===t}};
shadow$provide[142]=function(z,v,J,m){var t=v(141);J.exports=function(p,n){p=p.__data__;return t(n)?p["string"==typeof n?"string":"hash"]:p.map}};
shadow$provide[143]=function(z,v,J,m){var t=v(142);J.exports=function(p){p=t(this,p)["delete"](p);this.size-=p?1:0;return p}};
shadow$provide[144]=function(z,v,J,m){var t=v(142);J.exports=function(p){return t(this,p).get(p)}};
shadow$provide[145]=function(z,v,J,m){var t=v(142);J.exports=function(p){return t(this,p).has(p)}};
shadow$provide[146]=function(z,v,J,m){var t=v(142);J.exports=function(p,n){var c=t(this,p),e=c.size;c.set(p,n);this.size+=c.size==e?0:1;return this}};
shadow$provide[147]=function(z,v,J,m){function t(c){var e=-1,f=null==c?0:c.length;for(this.clear();++e<f;){var h=c[e];this.set(h[0],h[1])}}z=v(140);m=v(143);var p=v(144),n=v(145);v=v(146);t.prototype.clear=z;t.prototype["delete"]=m;t.prototype.get=p;t.prototype.has=n;t.prototype.set=v;J.exports=t};
shadow$provide[148]=function(z,v,J,m){var t=v(113),p=v(132),n=v(147);J.exports=function(c,e){var f=this.__data__;if(f instanceof t){var h=f.__data__;if(!p||199>h.length)return h.push([c,e]),this.size=++f.size,this;f=this.__data__=new n(h)}f.set(c,e);this.size=f.size;return this}};
shadow$provide[149]=function(z,v,J,m){function t(e){this.size=(this.__data__=new p(e)).size}var p=v(113);z=v(114);m=v(115);var n=v(116),c=v(117);v=v(148);t.prototype.clear=z;t.prototype["delete"]=m;t.prototype.get=n;t.prototype.has=c;t.prototype.set=v;J.exports=t};
shadow$provide[150]=function(z,v,J,m){J.exports=function(t,p){for(var n=-1,c=null==t?0:t.length;++n<c&&!1!==p(t[n],n,t););return t}};
shadow$provide[151]=function(z,v,J,m){z=v(131);a:{try{var t=z(Object,"defineProperty");t({},"",{});var p=t;break a}catch(n){}p=void 0}J.exports=p};
shadow$provide[152]=function(z,v,J,m){var t=v(151);J.exports=function(p,n,c){"__proto__"==n&&t?t(p,n,{configurable:!0,enumerable:!0,value:c,writable:!0}):p[n]=c}};
shadow$provide[153]=function(z,v,J,m){var t=v(152),p=v(107),n=Object.prototype.hasOwnProperty;J.exports=function(c,e,f){var h=c[e];n.call(c,e)&&p(h,f)&&(void 0!==f||e in c)||t(c,e,f)}};
shadow$provide[154]=function(z,v,J,m){var t=v(153),p=v(152);J.exports=function(n,c,e,f){var h=!e;e||(e={});for(var k=-1,g=c.length;++k<g;){var r=c[k],u=f?f(e[r],n[r],r,e,n):void 0;void 0===u&&(u=n[r]);h?p(e,r,u):t(e,r,u)}return e}};
shadow$provide[155]=function(z,v,J,m){J.exports=function(t,p){for(var n=-1,c=Array(t);++n<t;)c[n]=p(n);return c}};
shadow$provide[156]=function(z,v,J,m){J.exports=function(t){return null!=t&&"object"==typeof t}};
shadow$provide[157]=function(z,v,J,m){var t=v(123),p=v(156);J.exports=function(n){return p(n)&&"[object Arguments]"==t(n)}};
shadow$provide[158]=function(z,v,J,m){z=v(157);var t=v(156);v=Object.prototype;var p=v.hasOwnProperty,n=v.propertyIsEnumerable;v=z(function(){return arguments}())?z:function(c){return t(c)&&p.call(c,"callee")&&!n.call(c,"callee")};J.exports=v};
shadow$provide[159]=function(z,v,J,m){J.exports=Array.isArray};
shadow$provide[160]=function(z,v,J,m){J.exports=function(){return!1}};
shadow$provide[161]=function(z,v,J,m){z=v(119);v=v(160);var t=(m="object"==typeof m&&m&&!m.nodeType&&m)&&"object"==typeof J&&J&&!J.nodeType&&J;z=t&&t.exports===m?z.Buffer:void 0;J.exports=(z?z.isBuffer:void 0)||v};
shadow$provide[162]=function(z,v,J,m){var t=/^(?:0|[1-9]\d*)$/;J.exports=function(p,n){var c=typeof p;n=null==n?9007199254740991:n;return!!n&&("number"==c||"symbol"!=c&&t.test(p))&&-1<p&&0==p%1&&p<n}};
shadow$provide[163]=function(z,v,J,m){J.exports=function(t){return"number"==typeof t&&-1<t&&0==t%1&&9007199254740991>=t}};
shadow$provide[164]=function(z,v,J,m){var t=v(123),p=v(163),n=v(156),c={};c["[object Float32Array]"]=c["[object Float64Array]"]=c["[object Int8Array]"]=c["[object Int16Array]"]=c["[object Int32Array]"]=c["[object Uint8Array]"]=c["[object Uint8ClampedArray]"]=c["[object Uint16Array]"]=c["[object Uint32Array]"]=!0;c["[object Arguments]"]=c["[object Array]"]=c["[object ArrayBuffer]"]=c["[object Boolean]"]=c["[object DataView]"]=c["[object Date]"]=c["[object Error]"]=c["[object Function]"]=c["[object Map]"]=
c["[object Number]"]=c["[object Object]"]=c["[object RegExp]"]=c["[object Set]"]=c["[object String]"]=c["[object WeakMap]"]=!1;J.exports=function(e){return n(e)&&p(e.length)&&!!c[t(e)]}};
shadow$provide[165]=function(z,v,J,m){J.exports=function(t){return function(p){return t(p)}}};
shadow$provide[166]=function(z,v,J,m){z=v(118);z=(m=(v="object"==typeof m&&m&&!m.nodeType&&m)&&"object"==typeof J&&J&&!J.nodeType&&J)&&m.exports===v&&z.process;a:{try{var t=m&&m.require&&m.require("util").types;if(t){var p=t;break a}p=z&&z.binding&&z.binding("util");break a}catch(n){}p=void 0}J.exports=p};
shadow$provide[167]=function(z,v,J,m){z=v(164);m=v(165);v=(v=(v=v(166))&&v.isTypedArray)?m(v):z;J.exports=v};
shadow$provide[168]=function(z,v,J,m){var t=v(155),p=v(158),n=v(159),c=v(161),e=v(162),f=v(167),h=Object.prototype.hasOwnProperty;J.exports=function(k,g){var r=n(k),u=!r&&p(k),w=!r&&!u&&c(k),x=!r&&!u&&!w&&f(k);u=(r=r||u||w||x)?t(k.length,String):[];var B=u.length,E;for(E in k)!g&&!h.call(k,E)||r&&("length"==E||w&&("offset"==E||"parent"==E)||x&&("buffer"==E||"byteLength"==E||"byteOffset"==E)||e(E,B))||u.push(E);return u}};
shadow$provide[169]=function(z,v,J,m){var t=Object.prototype;J.exports=function(p){var n=p&&p.constructor;return p===("function"==typeof n&&n.prototype||t)}};
shadow$provide[170]=function(z,v,J,m){J.exports=function(t,p){return function(n){return t(p(n))}}};
shadow$provide[171]=function(z,v,J,m){z=v(170)(Object.keys,Object);J.exports=z};
shadow$provide[172]=function(z,v,J,m){var t=v(169),p=v(171),n=Object.prototype.hasOwnProperty;J.exports=function(c){if(!t(c))return p(c);var e=[],f;for(f in Object(c))n.call(c,f)&&"constructor"!=f&&e.push(f);return e}};
shadow$provide[173]=function(z,v,J,m){var t=v(125),p=v(163);J.exports=function(n){return null!=n&&p(n.length)&&!t(n)}};
shadow$provide[174]=function(z,v,J,m){var t=v(168),p=v(172),n=v(173);J.exports=function(c){return n(c)?t(c):p(c)}};
shadow$provide[175]=function(z,v,J,m){var t=v(154),p=v(174);J.exports=function(n,c){return n&&t(c,p(c),n)}};
shadow$provide[176]=function(z,v,J,m){J.exports=function(t){var p=[];if(null!=t)for(var n in Object(t))p.push(n);return p}};
shadow$provide[177]=function(z,v,J,m){var t=v(124),p=v(169),n=v(176),c=Object.prototype.hasOwnProperty;J.exports=function(e){if(!t(e))return n(e);var f=p(e),h=[],k;for(k in e)("constructor"!=k||!f&&c.call(e,k))&&h.push(k);return h}};
shadow$provide[178]=function(z,v,J,m){var t=v(168),p=v(177),n=v(173);J.exports=function(c){return n(c)?t(c,!0):p(c)}};
shadow$provide[179]=function(z,v,J,m){var t=v(154),p=v(178);J.exports=function(n,c){return n&&t(c,p(c),n)}};
shadow$provide[180]=function(z,v,J,m){z=v(119);var t=(m=(v=(m="object"==typeof m&&m&&!m.nodeType&&m)&&"object"==typeof J&&J&&!J.nodeType&&J)&&v.exports===m?z.Buffer:void 0)?m.allocUnsafe:void 0;J.exports=function(p,n){if(n)return p.slice();n=p.length;n=t?t(n):new p.constructor(n);p.copy(n);return n}};
shadow$provide[181]=function(z,v,J,m){J.exports=function(t,p){var n=-1,c=t.length;for(p||(p=Array(c));++n<c;)p[n]=t[n];return p}};
shadow$provide[182]=function(z,v,J,m){J.exports=function(t,p){for(var n=-1,c=null==t?0:t.length,e=0,f=[];++n<c;){var h=t[n];p(h,n,t)&&(f[e++]=h)}return f}};
shadow$provide[183]=function(z,v,J,m){J.exports=function(){return[]}};
shadow$provide[184]=function(z,v,J,m){var t=v(182);z=v(183);var p=Object.prototype.propertyIsEnumerable,n=Object.getOwnPropertySymbols;J.exports=n?function(c){if(null==c)return[];c=Object(c);return t(n(c),function(e){return p.call(c,e)})}:z};
shadow$provide[185]=function(z,v,J,m){var t=v(154),p=v(184);J.exports=function(n,c){return t(n,p(n),c)}};
shadow$provide[186]=function(z,v,J,m){J.exports=function(t,p){for(var n=-1,c=p.length,e=t.length;++n<c;)t[e+n]=p[n];return t}};
shadow$provide[187]=function(z,v,J,m){z=v(170)(Object.getPrototypeOf,Object);J.exports=z};
shadow$provide[188]=function(z,v,J,m){var t=v(186),p=v(187),n=v(184);z=v(183);J.exports=Object.getOwnPropertySymbols?function(c){for(var e=[];c;)t(e,n(c)),c=p(c);return e}:z};
shadow$provide[189]=function(z,v,J,m){var t=v(154),p=v(188);J.exports=function(n,c){return t(n,p(n),c)}};
shadow$provide[190]=function(z,v,J,m){var t=v(186),p=v(159);J.exports=function(n,c,e){c=c(n);return p(n)?c:t(c,e(n))}};
shadow$provide[191]=function(z,v,J,m){var t=v(190),p=v(184),n=v(174);J.exports=function(c){return t(c,n,p)}};
shadow$provide[192]=function(z,v,J,m){var t=v(190),p=v(188),n=v(178);J.exports=function(c){return t(c,n,p)}};
shadow$provide[193]=function(z,v,J,m){z=v(131);v=v(119);v=z(v,"DataView");J.exports=v};
shadow$provide[194]=function(z,v,J,m){z=v(131);v=v(119);v=z(v,"Promise");J.exports=v};
shadow$provide[195]=function(z,v,J,m){z=v(131);v=v(119);v=z(v,"Set");J.exports=v};
shadow$provide[196]=function(z,v,J,m){z=v(131);v=v(119);v=z(v,"WeakMap");J.exports=v};
shadow$provide[197]=function(z,v,J,m){z=v(193);m=v(132);var t=v(194),p=v(195),n=v(196),c=v(123),e=v(128),f=e(z),h=e(m),k=e(t),g=e(p),r=e(n);v=c;if(z&&"[object DataView]"!=v(new z(new ArrayBuffer(1)))||m&&"[object Map]"!=v(new m)||t&&"[object Promise]"!=v(t.resolve())||p&&"[object Set]"!=v(new p)||n&&"[object WeakMap]"!=v(new n))v=function(u){var w=c(u);if(u=(u="[object Object]"==w?u.constructor:void 0)?e(u):"")switch(u){case f:return"[object DataView]";case h:return"[object Map]";case k:return"[object Promise]";
case g:return"[object Set]";case r:return"[object WeakMap]"}return w};J.exports=v};
shadow$provide[198]=function(z,v,J,m){var t=Object.prototype.hasOwnProperty;J.exports=function(p){var n=p.length,c=new p.constructor(n);n&&"string"==typeof p[0]&&t.call(p,"index")&&(c.index=p.index,c.input=p.input);return c}};
shadow$provide[199]=function(z,v,J,m){z=v(119).Uint8Array;J.exports=z};
shadow$provide[200]=function(z,v,J,m){var t=v(199);J.exports=function(p){var n=new p.constructor(p.byteLength);(new t(n)).set(new t(p));return n}};
shadow$provide[201]=function(z,v,J,m){var t=v(200);J.exports=function(p,n){n=n?t(p.buffer):p.buffer;return new p.constructor(n,p.byteOffset,p.byteLength)}};
shadow$provide[202]=function(z,v,J,m){var t=/\w*$/;J.exports=function(p){var n=new p.constructor(p.source,t.exec(p));n.lastIndex=p.lastIndex;return n}};
shadow$provide[203]=function(z,v,J,m){var t=(z=(z=v(120))?z.prototype:void 0)?z.valueOf:void 0;J.exports=function(p){return t?Object(t.call(p)):{}}};
shadow$provide[204]=function(z,v,J,m){var t=v(200);J.exports=function(p,n){n=n?t(p.buffer):p.buffer;return new p.constructor(n,p.byteOffset,p.length)}};
shadow$provide[205]=function(z,v,J,m){var t=v(200),p=v(201),n=v(202),c=v(203),e=v(204);J.exports=function(f,h,k){var g=f.constructor;switch(h){case "[object ArrayBuffer]":return t(f);case "[object Boolean]":case "[object Date]":return new g(+f);case "[object DataView]":return p(f,k);case "[object Float32Array]":case "[object Float64Array]":case "[object Int8Array]":case "[object Int16Array]":case "[object Int32Array]":case "[object Uint8Array]":case "[object Uint8ClampedArray]":case "[object Uint16Array]":case "[object Uint32Array]":return e(f,
k);case "[object Map]":return new g;case "[object Number]":case "[object String]":return new g(f);case "[object RegExp]":return n(f);case "[object Set]":return new g;case "[object Symbol]":return c(f)}}};
shadow$provide[206]=function(z,v,J,m){var t=v(124),p=Object.create;z=function(){function n(){}return function(c){if(!t(c))return{};if(p)return p(c);n.prototype=c;c=new n;n.prototype=void 0;return c}}();J.exports=z};
shadow$provide[207]=function(z,v,J,m){var t=v(206),p=v(187),n=v(169);J.exports=function(c){return"function"!=typeof c.constructor||n(c)?{}:t(p(c))}};
shadow$provide[208]=function(z,v,J,m){var t=v(197),p=v(156);J.exports=function(n){return p(n)&&"[object Map]"==t(n)}};
shadow$provide[209]=function(z,v,J,m){z=v(208);m=v(165);v=(v=(v=v(166))&&v.isMap)?m(v):z;J.exports=v};
shadow$provide[210]=function(z,v,J,m){var t=v(197),p=v(156);J.exports=function(n){return p(n)&&"[object Set]"==t(n)}};
shadow$provide[211]=function(z,v,J,m){z=v(210);m=v(165);v=(v=(v=v(166))&&v.isSet)?m(v):z;J.exports=v};
shadow$provide[212]=function(z,v,J,m){function t(ca,ka,la,Aa,ta,Ha){var Oa,da=ka&1,Wa=ka&2,Pa=ka&4;la&&(Oa=ta?la(ca,Aa,ta,Ha):la(ca));if(void 0!==Oa)return Oa;if(!O(ca))return ca;if(Aa=H(ca)){if(Oa=B(ca),!da)return k(ca,Oa)}else{var mb=x(ca),Cb="[object Function]"==mb||"[object GeneratorFunction]"==mb;if(I(ca))return h(ca,da);if("[object Object]"==mb||"[object Arguments]"==mb||Cb&&!ta){if(Oa=Wa||Cb?{}:C(ca),!da)return Wa?r(ca,f(Oa,ca)):g(ca,e(Oa,ca))}else{if(!X[mb])return ta?ca:{};Oa=E(ca,mb,da)}}Ha||
(Ha=new p);if(ta=Ha.get(ca))return ta;Ha.set(ca,Oa);Q(ca)?ca.forEach(function(tb){Oa.add(t(tb,ka,la,tb,ca,Ha))}):K(ca)&&ca.forEach(function(tb,Rb){Oa.set(Rb,t(tb,ka,la,Rb,ca,Ha))});Wa=Pa?Wa?w:u:Wa?R:W;var yb=Aa?void 0:Wa(ca);n(yb||ca,function(tb,Rb){yb&&(Rb=tb,tb=ca[Rb]);c(Oa,Rb,t(tb,ka,la,Rb,ca,Ha))});return Oa}var p=v(149),n=v(150),c=v(153),e=v(175),f=v(179),h=v(180),k=v(181),g=v(185),r=v(189),u=v(191),w=v(192),x=v(197),B=v(198),E=v(205),C=v(207),H=v(159),I=v(161),K=v(209),O=v(124),Q=v(211),W=v(174),
R=v(178),X={};X["[object Arguments]"]=X["[object Array]"]=X["[object ArrayBuffer]"]=X["[object DataView]"]=X["[object Boolean]"]=X["[object Date]"]=X["[object Float32Array]"]=X["[object Float64Array]"]=X["[object Int8Array]"]=X["[object Int16Array]"]=X["[object Int32Array]"]=X["[object Map]"]=X["[object Number]"]=X["[object Object]"]=X["[object RegExp]"]=X["[object Set]"]=X["[object String]"]=X["[object Symbol]"]=X["[object Uint8Array]"]=X["[object Uint8ClampedArray]"]=X["[object Uint16Array]"]=X["[object Uint32Array]"]=
!0;X["[object Error]"]=X["[object Function]"]=X["[object WeakMap]"]=!1;J.exports=t};
shadow$provide[213]=function(z,v,J,m){var t=v(212);J.exports=function(p){return t(p,5)}};
shadow$provide[214]=function(z,v,J,m){J.exports=function(t){this.__data__.set(t,"__lodash_hash_undefined__");return this}};
shadow$provide[215]=function(z,v,J,m){J.exports=function(t){return this.__data__.has(t)}};
shadow$provide[216]=function(z,v,J,m){function t(n){var c=-1,e=null==n?0:n.length;for(this.__data__=new p;++c<e;)this.add(n[c])}var p=v(147);z=v(214);v=v(215);t.prototype.add=t.prototype.push=z;t.prototype.has=v;J.exports=t};
shadow$provide[217]=function(z,v,J,m){J.exports=function(t,p){for(var n=-1,c=null==t?0:t.length;++n<c;)if(p(t[n],n,t))return!0;return!1}};
shadow$provide[218]=function(z,v,J,m){J.exports=function(t,p){return t.has(p)}};
shadow$provide[219]=function(z,v,J,m){var t=v(216),p=v(217),n=v(218);J.exports=function(c,e,f,h,k,g){var r=f&1,u=c.length,w=e.length;if(u!=w&&!(r&&w>u))return!1;w=g.get(c);var x=g.get(e);if(w&&x)return w==e&&x==c;w=-1;x=!0;var B=f&2?new t:void 0;g.set(c,e);for(g.set(e,c);++w<u;){var E=c[w],C=e[w];if(h)var H=r?h(C,E,w,e,c,g):h(E,C,w,c,e,g);if(void 0!==H){if(H)continue;x=!1;break}if(B){if(!p(e,function(I,K){if(!n(B,K)&&(E===I||k(E,I,f,h,g)))return B.push(K)})){x=!1;break}}else if(E!==C&&!k(E,C,f,h,
g)){x=!1;break}}g["delete"](c);g["delete"](e);return x}};
shadow$provide[220]=function(z,v,J,m){J.exports=function(t){var p=-1,n=Array(t.size);t.forEach(function(c,e){n[++p]=[e,c]});return n}};
shadow$provide[221]=function(z,v,J,m){J.exports=function(t){var p=-1,n=Array(t.size);t.forEach(function(c){n[++p]=c});return n}};
shadow$provide[222]=function(z,v,J,m){z=v(120);var t=v(199),p=v(107),n=v(219),c=v(220),e=v(221),f=(v=z?z.prototype:void 0)?v.valueOf:void 0;J.exports=function(h,k,g,r,u,w,x){switch(g){case "[object DataView]":if(h.byteLength!=k.byteLength||h.byteOffset!=k.byteOffset)break;h=h.buffer;k=k.buffer;case "[object ArrayBuffer]":if(h.byteLength!=k.byteLength||!w(new t(h),new t(k)))break;return!0;case "[object Boolean]":case "[object Date]":case "[object Number]":return p(+h,+k);case "[object Error]":return h.name==
k.name&&h.message==k.message;case "[object RegExp]":case "[object String]":return h==k+"";case "[object Map]":var B=c;case "[object Set]":B||(B=e);if(h.size!=k.size&&!(r&1))break;if(g=x.get(h))return g==k;r|=2;x.set(h,k);k=n(B(h),B(k),r,u,w,x);x["delete"](h);return k;case "[object Symbol]":if(f)return f.call(h)==f.call(k)}return!1}};
shadow$provide[223]=function(z,v,J,m){var t=v(191),p=Object.prototype.hasOwnProperty;J.exports=function(n,c,e,f,h,k){var g=e&1,r=t(n),u=r.length,w=t(c).length;if(u!=w&&!g)return!1;for(w=u;w--;){var x=r[w];if(!(g?x in c:p.call(c,x)))return!1}var B=k.get(n);x=k.get(c);if(B&&x)return B==c&&x==n;B=!0;k.set(n,c);k.set(c,n);for(var E=g;++w<u;){x=r[w];var C=n[x],H=c[x];if(f)var I=g?f(H,C,x,c,n,k):f(C,H,x,n,c,k);if(void 0===I?C!==H&&!h(C,H,e,f,k):!I){B=!1;break}E||(E="constructor"==x)}B&&!E&&(e=n.constructor,
f=c.constructor,e!=f&&"constructor"in n&&"constructor"in c&&!("function"==typeof e&&e instanceof e&&"function"==typeof f&&f instanceof f)&&(B=!1));k["delete"](n);k["delete"](c);return B}};
shadow$provide[224]=function(z,v,J,m){var t=v(149),p=v(219),n=v(222),c=v(223),e=v(197),f=v(159),h=v(161),k=v(167),g=Object.prototype.hasOwnProperty;J.exports=function(r,u,w,x,B,E){var C=f(r),H=f(u),I=C?"[object Array]":e(r),K=H?"[object Array]":e(u);I="[object Arguments]"==I?"[object Object]":I;K="[object Arguments]"==K?"[object Object]":K;var O="[object Object]"==I;H="[object Object]"==K;if((K=I==K)&&h(r)){if(!h(u))return!1;C=!0;O=!1}if(K&&!O)return E||(E=new t),C||k(r)?p(r,u,w,x,B,E):n(r,u,I,w,
x,B,E);if(!(w&1)&&(C=O&&g.call(r,"__wrapped__"),I=H&&g.call(u,"__wrapped__"),C||I))return r=C?r.value():r,u=I?u.value():u,E||(E=new t),B(r,u,w,x,E);if(!K)return!1;E||(E=new t);return c(r,u,w,x,B,E)}};
shadow$provide[225]=function(z,v,J,m){function t(c,e,f,h,k){return c===e?!0:null==c||null==e||!n(c)&&!n(e)?c!==c&&e!==e:p(c,e,f,h,t,k)}var p=v(224),n=v(156);J.exports=t};
shadow$provide[226]=function(z,v,J,m){var t=v(225);J.exports=function(p,n){return t(p,n)}};
shadow$provide[227]=function(z,v,J,m){function t(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(m,"__esModule",{value:!0});m.Latch=void 0;z=v(90);var p=t(v(213)),n=t(v(226));class c extends z.Parent{static initClass(){this.traits=["node","entity","active","latch"]}init(){this.data=void 0;this.isDirty=!0}make(){this._helpers.active.make();this._listen("root","root.update",function(){this.isActive&&this.update()})}unmake(){this._helpers.active.unmake();this.data=void 0}swap(){const {deep:e,
data:f}=this.props;(e?(0,n.default)(f,this.data):f==this.data)||(this.data=e?(0,p.default)(f):f)}update(){this.isDirty=this.swap()}}m.Latch=c;c.initClass()};
shadow$provide[228]=function(z,v,J,m){function t(c){if("function"!==typeof WeakMap)return null;var e=new WeakMap,f=new WeakMap;return(t=function(h){return h?f:e})(c)}Object.defineProperty(m,"__esModule",{value:!0});m.Matrix=void 0;var p=function(c,e){if(!e&&c&&c.__esModule)return c;if(null===c||"object"!==typeof c&&"function"!==typeof c)return{default:c};if((e=t(e))&&e.has(c))return e.get(c);var f={},h=Object.defineProperty&&Object.getOwnPropertyDescriptor,k;for(k in c)if("default"!==k&&Object.prototype.hasOwnProperty.call(c,
k)){var g=h?Object.getOwnPropertyDescriptor(c,k):null;g&&(g.get||g.set)?Object.defineProperty(f,k,g):f[k]=c[k]}f.default=c;e&&e.set(c,f);return f}(v(99));z=v(103);class n extends z.Buffer{static initClass(){this.traits="node buffer active data source index texture matrix raw".split(" ")}init(){this.buffer=this.spec=null;this.space={width:0,height:0,history:0};this.used={width:0,height:0};this.storage="matrixBuffer";this.passthrough=(c,e,f)=>c(e,f,0,0);return super.init()}sourceShader(c){const e=this.getDimensions();
this.alignShader(e,c);return this.buffer.shader(c)}getDimensions(){return{items:this.items,width:this.space.width,height:this.space.height,depth:this.space.history}}getActiveDimensions(){return{items:this.items,width:this.used.width,height:this.used.height,depth:this.buffer.getFilled()}}getFutureDimensions(){return{items:this.items,width:this.used.width,height:this.used.height,depth:this.space.history}}getRawDimensions(){return{items:this.items,width:this.space.width,height:this.space.height,depth:1}}make(){super.make();
const c=null!=this.minFilter?this.minFilter:this.props.minFilter,e=null!=this.magFilter?this.magFilter:this.props.magFilter,f=null!=this.type?this.type:this.props.type;var {width:h}=this.props,{height:k}=this.props;const {history:g}=this.props,r=this.props.bufferWidth,u=this.props.bufferHeight,{channels:w}=this.props,{items:x}=this.props;h=this.spec={channels:w,items:x,width:h,height:k};this.items=h.items;this.channels=h.channels;({data:k}=this.props);h=p.getDimensions(k,h);({space:k}=this);k.width=
Math.max(r,h.width||1);k.height=Math.max(u,h.height||1);k.history=g;return this.buffer=this._renderables.make(this.storage,{width:k.width,height:k.height,history:k.history,channels:w,items:x,minFilter:c,magFilter:e,type:f})}unmake(){super.unmake();if(this.buffer)return this.buffer.dispose(),this.buffer=this.spec=null}change(c,e,f){if(e.texture||c["matrix.history"]||c["buffer.channels"]||c["buffer.items"]||c["matrix.bufferWidth"]||c["matrix.bufferHeight"])return this.rebuild();if(this.buffer){if(c["matrix.width"]){const {width:h,
bufferWidth:k}=this.props;this.spec.width=h;if(h>k)return this.rebuild()}if(c["matrix.height"]){const {height:h,bufferHeight:k}=this.props;this.spec.height=h;if(h>k)return this.rebuild()}if(c["data.map"]||c["data.data"]||c["data.resolve"]||c["data.expr"]||f)return this.buffer.setCallback(this.emitter())}}callback(c){return 3>=c.length?c:(e,f,h)=>c(e,f,h,this.bufferClock,this.bufferStep)}update(){if(this.buffer){var {data:c}=this.props,{space:e,used:f}=this,h=f.width,k=f.height,g=this.buffer.getFilled();
this.syncBuffer(r=>{if(null!=c){var u=p.getDimensions(c,this.spec);if(u.width>e.width||u.height>e.height)return r(),this.rebuild();f.width=u.width;f.height=u.height;this.buffer.setActive(f.width,f.height);"function"===typeof this.buffer.callback.rebind&&this.buffer.callback.rebind(c);return this.buffer.update()}r=this.spec.width||1;u=this.spec.height||1;this.buffer.setActive(r,u);const w=this.buffer.update();f.width=r;f.height=Math.min(u,Math.ceil(w/r));1===f.height&&(f.width=Math.min(r,w))});if(f.width!==
h||f.height!==k||g!==this.buffer.getFilled())return this.trigger({type:"source.resize"})}}}m.Matrix=n;n.initClass()};
shadow$provide[229]=function(z,v,J,m){Object.defineProperty(m,"__esModule",{value:!0});m.Area=void 0;z=v(228);class t extends z.Matrix{static initClass(){this.traits="node buffer active data source index matrix texture raw span:x span:y area sampler:x sampler:y".split(" ")}updateSpan(){var p=this.props.axes;({width:k}=this.props);({height:g}=this.props);const {centeredX:n}=this.props,{centeredY:c}=this.props,e=this.props.paddingX,f=this.props.paddingY;var h=this._helpers.span.get("x.",p[0]);p=this._helpers.span.get("y.",
p[1]);this.aX=h.x;this.aY=p.x;h=h.y-h.x;p=p.y-p.x;k+=2*e;g+=2*f;if(n){var k=1/Math.max(1,k);this.aX+=h*k/2}else k=1/Math.max(1,k-1);if(c){var g=1/Math.max(1,g);this.aY+=p*g/2}else g=1/Math.max(1,g-1);this.bX=h*k;this.bY=p*g;this.aX+=e*this.bX;return this.aY+=f*this.bY}callback(p){this.updateSpan();if(this.last===p)return this._callback;this.last=p;return 5>=p.length?this._callback=(n,c,e)=>p(n,this.aX+this.bX*c,this.aY+this.bY*e,c,e):this._callback=(n,c,e)=>p(n,this.aX+this.bX*c,this.aY+this.bY*e,
c,e,this.bufferClock,this.bufferStep)}make(){super.make();this._helpers.span.make();return this._listen(this,"span.range",this.updateSpan)}unmake(){super.unmake();return this._helpers.span.unmake()}change(p,n,c){super.change(p,n,c);(n.x||n.y)&&this.updateSpan()}}m.Area=t;t.initClass()};
shadow$provide[230]=function(z,v,J,m){function t(c){if("function"!==typeof WeakMap)return null;var e=new WeakMap,f=new WeakMap;return(t=function(h){return h?f:e})(c)}Object.defineProperty(m,"__esModule",{value:!0});m.Voxel=void 0;var p=function(c,e){if(!e&&c&&c.__esModule)return c;if(null===c||"object"!==typeof c&&"function"!==typeof c)return{default:c};if((e=t(e))&&e.has(c))return e.get(c);var f={},h=Object.defineProperty&&Object.getOwnPropertyDescriptor,k;for(k in c)if("default"!==k&&Object.prototype.hasOwnProperty.call(c,
k)){var g=h?Object.getOwnPropertyDescriptor(c,k):null;g&&(g.get||g.set)?Object.defineProperty(f,k,g):f[k]=c[k]}f.default=c;e&&e.set(c,f);return f}(v(99));z=v(103);class n extends z.Buffer{constructor(...c){super(...c);this.update=this.update.bind(this)}static initClass(){this.traits="node buffer active data source index texture voxel raw".split(" ")}init(){this.buffer=this.spec=null;this.space={width:0,height:0,depth:0};this.used={width:0,height:0,depth:0};this.storage="voxelBuffer";this.passthrough=
(c,e,f,h)=>c(e,f,h,0);super.init()}sourceShader(c){const e=this.getDimensions();this.alignShader(e,c);return this.buffer.shader(c)}getDimensions(){return{items:this.items,width:this.space.width,height:this.space.height,depth:this.space.depth}}getActiveDimensions(){return{items:this.items,width:this.used.width,height:this.used.height,depth:this.used.depth*this.buffer.getFilled()}}getRawDimensions(){return this.getDimensions()}make(){super.make();const c=null!=this.minFilter?this.minFilter:this.props.minFilter,
e=null!=this.magFilter?this.magFilter:this.props.magFilter,f=null!=this.type?this.type:this.props.type;var {width:h}=this.props,{height:k}=this.props;const {depth:g}=this.props,r=this.props.bufferWidth,u=this.props.bufferHeight,w=this.props.bufferDepth,{channels:x}=this.props,{items:B}=this.props;h=this.spec={channels:x,items:B,width:h,height:k,depth:g};this.items=h.items;this.channels=h.channels;({data:k}=this.props);h=p.getDimensions(k,h);({space:k}=this);k.width=Math.max(r,h.width||1);k.height=
Math.max(u,h.height||1);k.depth=Math.max(w,h.depth||1);return this.buffer=this._renderables.make(this.storage,{width:k.width,height:k.height,depth:k.depth,channels:x,items:B,minFilter:c,magFilter:e,type:f})}unmake(){super.unmake();if(this.buffer)return this.buffer.dispose(),this.buffer=this.spec=null}change(c,e,f){if(e.texture||c["buffer.channels"]||c["buffer.items"]||c["voxel.bufferWidth"]||c["voxel.bufferHeight"]||c["voxel.bufferDepth"])return this.rebuild();if(this.buffer){if(c["voxel.width"]){const {width:h,
bufferWidth:k}=this.props;this.spec.width=h;if(h>k)return this.rebuild()}if(c["voxel.height"]){const {height:h,bufferHeight:k}=this.props;this.spec.height=h;if(h>k)return this.rebuild()}if(c["voxel.depth"]){const {depth:h,bufferDepth:k}=this.props;this.spec.depth=h;if(h>k)return this.rebuild()}if(c["data.map"]||c["data.data"]||c["data.resolve"]||c["data.expr"]||f)return this.buffer.setCallback(this.emitter())}}callback(c){return 4>=c.length?c:(e,f,h,k)=>c(e,f,h,k,this.bufferClock,this.bufferStep)}update(){if(this.buffer){var {data:c}=
this.props,{space:e,used:f}=this,h=f.width,k=f.height,g=f.depth,r=this.buffer.getFilled();this.syncBuffer(u=>{if(null!=c){var w=p.getDimensions(c,this.spec);if(w.width>e.width||w.height>e.height||w.depth>e.depth)return u(),this.rebuild();f.width=w.width;f.height=w.height;f.depth=w.depth;this.buffer.setActive(f.width,f.height,f.depth);"function"===typeof this.buffer.callback.rebind&&this.buffer.callback.rebind(c);return this.buffer.update()}u=this.spec.width||1;w=this.spec.height||1;const x=this.spec.depth||
1;this.buffer.setActive(u,w,x);const B=this.buffer.update();f.width=u;f.height=w;f.depth=Math.min(x,Math.ceil(B/u/w));1===f.depth&&(f.height=Math.min(w,Math.ceil(B/u)),1===f.height&&(f.width=Math.min(u,B)))});if(f.width!==h||f.height!==k||f.depth!==g||r!==this.buffer.getFilled())return this.trigger({type:"source.resize"})}}}m.Voxel=n;n.initClass()};
shadow$provide[231]=function(z,v,J,m){Object.defineProperty(m,"__esModule",{value:!0});m.Volume=void 0;z=v(230);class t extends z.Voxel{static initClass(){this.traits="node buffer active data source index texture voxel span:x span:y span:z volume sampler:x sampler:y sampler:z raw".split(" ")}updateSpan(){var p=this.props.axes;({width:u}=this.props);({height:w}=this.props);({depth:x}=this.props);const {centeredX:n}=this.props,{centeredY:c}=this.props,{centeredZ:e}=this.props,f=this.props.paddingX,
h=this.props.paddingY,k=this.props.paddingZ;var g=this._helpers.span.get("x.",p[0]),r=this._helpers.span.get("y.",p[1]);p=this._helpers.span.get("z.",p[2]);this.aX=g.x;this.aY=r.x;this.aZ=p.x;g=g.y-g.x;r=r.y-r.x;p=p.y-p.x;u+=2*f;w+=2*h;x+=2*k;if(n){var u=1/Math.max(1,u);this.aX+=g*u/2}else u=1/Math.max(1,u-1);if(c){var w=1/Math.max(1,w);this.aY+=r*w/2}else w=1/Math.max(1,w-1);if(e){var x=1/Math.max(1,x);this.aZ+=p*x/2}else x=1/Math.max(1,x-1);this.bX=g*u;this.bY=r*w;this.bZ=p*x;this.aX+=this.bX*f;
this.aY+=this.bY*h;return this.aZ+=this.bZ*h}callback(p){this.updateSpan();if(this.last===p)return this._callback;this.last=p;return 7>=p.length?this._callback=(n,c,e,f)=>p(n,this.aX+this.bX*c,this.aY+this.bY*e,this.aZ+this.bZ*f,c,e,f):this._callback=(n,c,e,f)=>p(n,this.aX+this.bX*c,this.aY+this.bY*e,this.aZ+this.bZ*f,c,e,f,this.bufferClock,this.bufferStep)}make(){super.make();this._helpers.span.make();return this._listen(this,"span.range",this.updateSpan)}unmake(){super.unmake();return this._helpers.span.unmake()}change(p,
n,c){super.change(p,n,c);(n.x||n.y||n.z)&&this.updateSpan()}}m.Volume=t;t.initClass()};
shadow$provide[232]=function(z,v,J,m){Object.defineProperty(m,"__esModule",{value:!0});m.recenterAxis=m.setDimensionNormal=m.setDimension=m.addOrigin=m.setOrigin=void 0;var t=v(2);const p=function(n,c,e){+c===c&&(c=[c]);const f=Array.from(c).includes(1)?0:e.x,h=Array.from(c).includes(2)?0:e.y,k=Array.from(c).includes(3)?0:e.z;c=Array.from(c).includes(4)?0:e.w;return n.set(f,h,k,c)};m.setOrigin=p;z=function(){const n=new t.Vector4;return function(c,e,f){p(n,e,f);return c.add(n)}}();m.addOrigin=z;m.setDimension=
function(n,c){return n.set(1===c?1:0,2===c?1:0,3===c?1:0,4===c?1:0)};m.setDimensionNormal=function(n,c){return n.set(2===c?1:0,(3===c?1:0)+(1===c?1:0),4===c?1:0,0)};z=function(){const n=[0,0];return function(c,e,f,h){null==h&&(h=0);if(0<f){var k=c;c+=e;e=Math.max(Math.abs(k),Math.abs(c));h*=e;const g=Math.min(k,c);k=Math.max(k,c);c=g+(-e+h-g)*f;e=k+(e+h-k)*f-c}n[0]=c;n[1]=e;return n}}();m.recenterAxis=z};
shadow$provide[233]=function(z,v,J,m){function t(c){if("function"!==typeof WeakMap)return null;var e=new WeakMap,f=new WeakMap;return(t=function(h){return h?f:e})(c)}Object.defineProperty(m,"__esModule",{value:!0});m.Scale=void 0;var p=function(c,e){if(!e&&c&&c.__esModule)return c;if(null===c||"object"!==typeof c&&"function"!==typeof c)return{default:c};if((e=t(e))&&e.has(c))return e.get(c);var f={},h=Object.defineProperty&&Object.getOwnPropertyDescriptor,k;for(k in c)if("default"!==k&&Object.prototype.hasOwnProperty.call(c,
k)){var g=h?Object.getOwnPropertyDescriptor(c,k):null;g&&(g.get||g.set)?Object.defineProperty(f,k,g):f[k]=c[k]}f.default=c;e&&e.set(c,f);return f}(v(232));z=v(101);class n extends z.Source{static initClass(){this.traits="node source index interval span scale raw origin".split(" ")}init(){return this.used=this.space=this.scaleAxis=this.sampler=null}rawBuffer(){return this.buffer}sourceShader(c){return c.pipe(this.sampler)}getDimensions(){return{items:1,width:this.space,height:1,depth:1}}getActiveDimensions(){return{items:1,
width:this.used,height:this.buffer.getFilled(),depth:1}}getRawDimensions(){return this.getDimensions()}make(){var c;this.space=c=this._helpers.scale.divide("");this.buffer=this._renderables.make("dataBuffer",{width:c,channels:1,items:1});c={scaleAxis:this._attributes.make(this._types.vec4()),scaleOffset:this._attributes.make(this._types.vec4())};this.scaleAxis=c.scaleAxis.value;this.scaleOffset=c.scaleOffset.value;const e=this.sampler=this._shaders.shader();e.require(this.buffer.shader(this._shaders.shader(),
1));e.pipe("scale.position",c);this._helpers.span.make();return this._listen(this,"span.range",this.updateRanges)}unmake(){this.scaleAxis=null;return this._helpers.span.unmake()}change(c,e,f){if(c["scale.divide"])return this.rebuild();if(e.view||e.interval||e.span||e.scale||e.origin||f)return this.updateRanges()}updateRanges(){const {used:c}=this,{axis:e,origin:f}=this.props;var h=this._helpers.span.get("",e);h=this._helpers.scale.generate("",this.buffer,h.x,h.y);p.setDimension(this.scaleAxis,e);
p.setOrigin(this.scaleOffset,e,f);this.used=h.length;if(this.used!==c)return this.trigger({type:"source.resize"})}}m.Scale=n;n.initClass()};
shadow$provide[234]=function(z,v,J,m){Object.defineProperty(m,"__esModule",{value:!0});var t=v(104);Object.keys(t).forEach(function(g){"default"!==g&&"__esModule"!==g&&(g in m&&m[g]===t[g]||Object.defineProperty(m,g,{enumerable:!0,get:function(){return t[g]}}))});var p=v(105);Object.keys(p).forEach(function(g){"default"!==g&&"__esModule"!==g&&(g in m&&m[g]===p[g]||Object.defineProperty(m,g,{enumerable:!0,get:function(){return p[g]}}))});var n=v(227);Object.keys(n).forEach(function(g){"default"!==
g&&"__esModule"!==g&&(g in m&&m[g]===n[g]||Object.defineProperty(m,g,{enumerable:!0,get:function(){return n[g]}}))});var c=v(228);Object.keys(c).forEach(function(g){"default"!==g&&"__esModule"!==g&&(g in m&&m[g]===c[g]||Object.defineProperty(m,g,{enumerable:!0,get:function(){return c[g]}}))});var e=v(229);Object.keys(e).forEach(function(g){"default"!==g&&"__esModule"!==g&&(g in m&&m[g]===e[g]||Object.defineProperty(m,g,{enumerable:!0,get:function(){return e[g]}}))});var f=v(230);Object.keys(f).forEach(function(g){"default"!==
g&&"__esModule"!==g&&(g in m&&m[g]===f[g]||Object.defineProperty(m,g,{enumerable:!0,get:function(){return f[g]}}))});var h=v(231);Object.keys(h).forEach(function(g){"default"!==g&&"__esModule"!==g&&(g in m&&m[g]===h[g]||Object.defineProperty(m,g,{enumerable:!0,get:function(){return h[g]}}))});var k=v(233);Object.keys(k).forEach(function(g){"default"!==g&&"__esModule"!==g&&(g in m&&m[g]===k[g]||Object.defineProperty(m,g,{enumerable:!0,get:function(){return k[g]}}))})};
shadow$provide[235]=function(z,v,J,m){Object.defineProperty(m,"__esModule",{value:!0});m.parseQuoted=m.clone=m.merge=void 0;m.merge=function(){const t={};for(const p of Array.from(arguments))for(const n in p)t[n]=p[n];return t};m.clone=t=>JSON.parse(JSON.serialize(t));m.parseQuoted=function(t){let p="";const n=function(f){if(p.length){var h=e,k=h.push;var g=p.replace(/\\/g,"");k.call(h,g)}return p=null!=f?f:""};t=t.split(/(?=(?:\\.|["' ,]))/g);let c=!1;const e=[];for(const f of Array.from(t)){const h=
f[0],k=f.slice(1);switch(h){case '"':case "'":if(c)c===h?(c=!1,n(k)):p+=f;else{if(""!==p)throw Error(`ParseError: String \`${t}\` does not contain comma-separated quoted tokens.`);c=h;p+=k}break;case " ":case ",":c?p+=f:n(k);break;default:p+=f}}n();return e}};
shadow$provide[236]=function(z,v,J,m){function t(f){if("function"!==typeof WeakMap)return null;var h=new WeakMap,k=new WeakMap;return(t=function(g){return g?k:h})(f)}function p(f,h){if(!h&&f&&f.__esModule)return f;if(null===f||"object"!==typeof f&&"function"!==typeof f)return{default:f};if((h=t(h))&&h.has(f))return h.get(f);var k={},g=Object.defineProperty&&Object.getOwnPropertyDescriptor,r;for(r in f)if("default"!==r&&Object.prototype.hasOwnProperty.call(f,r)){var u=g?Object.getOwnPropertyDescriptor(f,
r):null;u&&(u.get||u.set)?Object.defineProperty(k,r,u):k[r]=f[r]}k.default=f;h&&h.set(f,k);return k}Object.defineProperty(m,"__esModule",{value:!0});m.Axis=void 0;var n=p(v(232)),c=p(v(235));z=v(89);class e extends z.Primitive{static initClass(){this.traits="node object visible style line axis span interval arrow position origin shade".split(" ");this.defaults={end:!0,zBias:-1}}constructor(f,h,k){super(f,h,k);this.axisPosition=this.axisStep=this.resolution=this.line=this.arrows=null}make(){var f=
{axisPosition:this._attributes.make(this._types.vec4()),axisStep:this._attributes.make(this._types.vec4())};this.axisPosition=f.axisPosition.value;this.axisStep=f.axisStep.value;let h=this._shaders.shader();h.pipe("axis.position",f);h=this._helpers.position.pipeline(h);var k=this._helpers.style.uniforms();const g=this._helpers.line.uniforms(),r=this._helpers.arrow.uniforms(),u=this._inherit("unit").getUnitUniforms();var {detail:w}=this.props;f=w+1;this.resolution=1/w;const {start:x,end:B}=this.props,
{stroke:E,join:C}=this.props;w=this._helpers.object.mask();const H=this._helpers.shade.pipeline()||!1,{crossed:I,axis:K}=this.props;!I&&null!=w&&1<K&&(w=this._helpers.position.swizzle(w,["x000","y000","z000","w000"][K]));k=c.merge(r,g,k,u);this.line=this._renderables.make("line",{uniforms:k,samples:f,position:h,clip:x||B,stroke:E,join:C,mask:w,material:H});this.arrows=[];x&&this.arrows.push(this._renderables.make("arrow",{uniforms:k,flip:!0,samples:f,position:h,mask:w,material:H}));B&&this.arrows.push(this._renderables.make("arrow",
{uniforms:k,samples:f,position:h,mask:w,material:H}));this._helpers.visible.make();this._helpers.object.make(this.arrows.concat([this.line]));this._helpers.span.make();return this._listen(this,"span.range",this.updateRanges)}unmake(){this._helpers.visible.unmake();this._helpers.object.unmake();return this._helpers.span.unmake()}change(f,h,k){if(f["axis.detail"]||f["line.stroke"]||f["line.join"]||f["axis.crossed"]||f["interval.axis"]&&this.props.crossed)return this.rebuild();if(h.interval||h.span||
h.view||h.origin||k)return this.updateRanges()}updateRanges(){const {axis:f,origin:h}=this.props;var k=this._helpers.span.get("",f);const g=k.x;k=k.y;n.setDimension(this.axisPosition,f).multiplyScalar(g);n.setDimension(this.axisStep,f).multiplyScalar((k-g)*this.resolution);return n.addOrigin(this.axisPosition,f,h)}}m.Axis=e;e.initClass()};
shadow$provide[237]=function(z,v,J,m){function t(f){if("function"!==typeof WeakMap)return null;var h=new WeakMap,k=new WeakMap;return(t=function(g){return g?k:h})(f)}function p(f,h){if(!h&&f&&f.__esModule)return f;if(null===f||"object"!==typeof f&&"function"!==typeof f)return{default:f};if((h=t(h))&&h.has(f))return h.get(f);var k={},g=Object.defineProperty&&Object.getOwnPropertyDescriptor,r;for(r in f)if("default"!==r&&Object.prototype.hasOwnProperty.call(f,r)){var u=g?Object.getOwnPropertyDescriptor(f,
r):null;u&&(u.get||u.set)?Object.defineProperty(k,r,u):k[r]=f[r]}k.default=f;h&&h.set(f,k);return k}Object.defineProperty(m,"__esModule",{value:!0});m.Face=void 0;var n=p(v(100)),c=p(v(235));z=v(89);class e extends z.Primitive{static initClass(){this.traits="node object visible style line mesh face geometry position bind shade".split(" ")}constructor(f,h,k){super(f,h,k);this.face=null}resize(){if(null!=this.bind.points){var f=this.bind.points.getActiveDimensions(),{items:h,width:k,height:g,depth:r}=
f;this.face&&this.face.geometry.clip(k,g,r,h);this.line&&this.line.geometry.clip(h,k,g,r);if(null!=this.bind.map&&(f=this.bind.map.getActiveDimensions(),this.face))return this.face.geometry.map(f.width,f.height,f.depth,f.items)}}make(){let f;this._helpers.bind.make([{to:"geometry.points",trait:"source"},{to:"geometry.colors",trait:"source"},{to:"mesh.map",trait:"source"}]);if(null!=this.bind.points){var h=this.bind.points.sourceShader(this._shaders.shader());h=this._helpers.position.pipeline(h);var k=
this._helpers.style.uniforms();var g=this._helpers.line.uniforms();var r=this._inherit("unit").getUnitUniforms(),u={};u.styleZBias=this._attributes.make(this._types.number());this.wireZBias=u.styleZBias;var w=this.bind.points.getDimensions(),{items:x,width:B,height:E,depth:C}=w,{line:H,shaded:I,fill:K,stroke:O,join:Q}=this.props;this.bind.colors&&(f=this._shaders.shader(),this.bind.colors.sourceShader(f));w=this._helpers.object.mask();var W=this._helpers.shade.map(null!=this.bind.map?this.bind.map.sourceShader(this._shaders.shader()):
void 0),R=this._helpers.shade.pipeline(),X=R||I;R=R||!1;var ca=[];if(H){const ka=this._shaders.shader();ka.pipe(n.swizzleVec4("yzwx"));ka.pipe(h);g=c.merge(r,g,k,u);this.line=this._renderables.make("line",{uniforms:g,samples:x,strips:B,ribbons:E,layers:C,position:ka,color:f,stroke:O,join:Q,material:R,mask:w,closed:!0});ca.push(this.line)}K&&(g=c.merge(r,k,{}),this.face=this._renderables.make("face",{uniforms:g,width:B,height:E,depth:C,items:x,position:h,color:f,material:X,mask:w,map:W}),ca.push(this.face));
this._helpers.visible.make();return this._helpers.object.make(ca)}}made(){return this.resize()}unmake(){this._helpers.bind.unmake();this._helpers.visible.unmake();this._helpers.object.unmake();return this.face=this.line=null}change(f,h,k){if(f["geometry.points"]||h.mesh)return this.rebuild();if(f["style.zBias"]||f["mesh.lineBias"]||k){const {fill:g,zBias:r,lineBias:u}=this.props;return this.wireZBias.value=r+(g?u:0)}}}m.Face=e;e.initClass()};
shadow$provide[238]=function(z,v,J,m){function t(f){if("function"!==typeof WeakMap)return null;var h=new WeakMap,k=new WeakMap;return(t=function(g){return g?k:h})(f)}function p(f,h){if(!h&&f&&f.__esModule)return f;if(null===f||"object"!==typeof f&&"function"!==typeof f)return{default:f};if((h=t(h))&&h.has(f))return h.get(f);var k={},g=Object.defineProperty&&Object.getOwnPropertyDescriptor,r;for(r in f)if("default"!==r&&Object.prototype.hasOwnProperty.call(f,r)){var u=g?Object.getOwnPropertyDescriptor(f,
r):null;u&&(u.get||u.set)?Object.defineProperty(k,r,u):k[r]=f[r]}k.default=f;h&&h.set(f,k);return k}Object.defineProperty(m,"__esModule",{value:!0});m.Grid=void 0;var n=p(v(232)),c=p(v(235));z=v(89);class e extends z.Primitive{static initClass(){this.traits="node object visible style line grid area position origin shade axis:x axis:y scale:x scale:y span:x span:y".split(" ");this.defaults={width:1,zBias:-2}}constructor(f,h,k){super(f,h,k);this.axes=null}make(){let f,h=this._helpers.object.mask();
const k=this._helpers.shade.pipeline()||!1;f=(C,H,I)=>{var K,O=this._get(C+"axis.detail");const Q=O+1;O=1/O;const W=this._helpers.scale.divide(H),R=this._renderables.make("dataBuffer",{width:W,channels:1});var X={gridPosition:this._attributes.make(this._types.vec4()),gridStep:this._attributes.make(this._types.vec4()),gridAxis:this._attributes.make(this._types.vec4())};const ca={gridPosition:X.gridPosition.value,gridStep:X.gridStep.value,gridAxis:X.gridAxis.value};var ka=K=this._shaders.shader();null!=
I&&null!=h&&(h=this._helpers.position.swizzle(h,I));ka.require(R.shader(this._shaders.shader(),2));ka.pipe("grid.position",X);K=this._helpers.position.pipeline(ka);I=this._helpers.style.uniforms();X=this._helpers.line.uniforms();ka=this._inherit("unit").getUnitUniforms();I=c.merge(X,I,ka);K=this._renderables.make("line",{uniforms:I,samples:Q,strips:W,position:K,stroke:B,join:E,mask:h,material:k});return{first:C,second:H,resolution:O,samples:Q,line:K,buffer:R,values:ca}};const {lineX:g,lineY:r,crossed:u,
axes:w}=this.props;var x=["0000","x000","y000","z000","w000"][w[1]];const {stroke:B,join:E}=this.props;this.axes=[];g&&this.axes.push(f("x.","y.",null));r&&this.axes.push(f("y.","x.",u?null:x));x=(()=>{const C=[];for(f of this.axes)C.push(f.line);return C})();this._helpers.visible.make();this._helpers.object.make(x);this._helpers.span.make();return this._listen(this,"span.range",this.updateRanges)}unmake(){this._helpers.visible.unmake();this._helpers.object.unmake();this._helpers.span.unmake();for(const f of this.axes)f.buffer.dispose();
this.axes=null}change(f,h,k){if(f["x.axis.detail"]||f["y.axis.detail"]||f["x.axis.factor"]||f["y.axis.factor"]||f["grid.lineX"]||f["grid.lineY"]||f["line.stroke"]||f["line.join"]||f["grid.crossed"]||f["grid.axes"]&&this.props.crossed)return this.rebuild();if(h.x||h.y||h.area||h.grid||h.view||h.origin||k)return this.updateRanges()}updateRanges(){const f=(x,B,E,C,H)=>{const {second:I,resolution:K,samples:O,line:Q,buffer:W,values:R}=H;H=E.x;E=E.y;n.setDimension(R.gridPosition,x).multiplyScalar(H);n.setDimension(R.gridStep,
x).multiplyScalar((E-H)*K);n.addOrigin(R.gridPosition,h,k);H=C.x;E=C.y;x=this._helpers.scale.generate(I,W,H,E);n.setDimension(R.gridAxis,B);return Q.geometry.clip(O,x.length,1,1)},{axes:h,origin:k}=this.props,g=this._helpers.span.get("x.",h[0]),r=this._helpers.span.get("y.",h[1]),{lineX:u,lineY:w}=this.props;u&&f(h[0],h[1],g,r,this.axes[0]);w&&f(h[1],h[0],r,g,this.axes[+u]);window.cake1=this.axes[0].buffer;window.cake2=this.axes[1].buffer;window.cake3=this.axes[0]}}m.Grid=e;e.initClass()};
shadow$provide[239]=function(z,v,J,m){function t(c){if("function"!==typeof WeakMap)return null;var e=new WeakMap,f=new WeakMap;return(t=function(h){return h?f:e})(c)}Object.defineProperty(m,"__esModule",{value:!0});m.Line=void 0;var p=function(c,e){if(!e&&c&&c.__esModule)return c;if(null===c||"object"!==typeof c&&"function"!==typeof c)return{default:c};if((e=t(e))&&e.has(c))return e.get(c);var f={},h=Object.defineProperty&&Object.getOwnPropertyDescriptor,k;for(k in c)if("default"!==k&&Object.prototype.hasOwnProperty.call(c,
k)){var g=h?Object.getOwnPropertyDescriptor(c,k):null;g&&(g.get||g.set)?Object.defineProperty(f,k,g):f[k]=c[k]}f.default=c;e&&e.set(c,f);return f}(v(235));z=v(89);class n extends z.Primitive{static initClass(){this.traits="node object visible style line arrow geometry position bind shade".split(" ")}constructor(c,e,f){super(c,e,f);this.line=this.arrows=null}resize(){if(null!=this.bind.points){var c=this.bind.points.getActiveDimensions(),e=c.width,f=c.height,h=c.depth,k=c.items;this.line.geometry.clip(e,
f,h,k);return Array.from(this.arrows).map(g=>g.geometry.clip(e,f,h,k))}}make(){let c;this._helpers.bind.make([{to:"geometry.points",trait:"source"},{to:"geometry.colors",trait:"source"}]);if(null!=this.bind.points){var e=this._shaders.shader();e=this.bind.points.sourceShader(e);e=this._helpers.position.pipeline(e);var f=this._helpers.style.uniforms(),h=this._helpers.line.uniforms(),k=this._helpers.arrow.uniforms(),g=this._inherit("unit").getUnitUniforms(),{start:r,end:u}=this.props,{stroke:w,join:x,
proximity:B,closed:E}=this.props;this.proximity=B;var C=this.bind.points.getDimensions(),H=C.width,I=C.height,K=C.depth;C=C.items;this.bind.colors&&(c=this._shaders.shader(),this.bind.colors.sourceShader(c));var O=this._helpers.object.mask(),Q=this._helpers.shade.pipeline()||!1;f=p.merge(k,h,f,g);this.line=this._renderables.make("line",{uniforms:f,samples:H,strips:I,ribbons:K,layers:C,position:e,color:c,clip:r||u,stroke:w,join:x,proximity:B,closed:E,mask:O,material:Q});this.arrows=[];r&&this.arrows.push(this._renderables.make("arrow",
{uniforms:f,flip:!0,samples:H,strips:I,ribbons:K,layers:C,position:e,color:c,closed:E,mask:O,material:Q}));u&&this.arrows.push(this._renderables.make("arrow",{uniforms:f,samples:H,strips:I,ribbons:K,layers:C,position:e,color:c,closed:E,mask:O,material:Q}));this._helpers.visible.make();return this._helpers.object.make(this.arrows.concat([this.line]))}}made(){return this.resize()}unmake(){this._helpers.bind.unmake();this._helpers.visible.unmake();this._helpers.object.unmake();return this.line=this.arrows=
null}change(c,e,f){if(c["geometry.points"]||c["line.stroke"]||c["line.join"]||c["arrow.start"]||c["arrow.end"]||c["line.proximity"]&&null!=this.proximity!==(null!=this.props.proximity))return this.rebuild()}}m.Line=n;n.initClass()};
shadow$provide[240]=function(z,v,J,m){function t(c){if("function"!==typeof WeakMap)return null;var e=new WeakMap,f=new WeakMap;return(t=function(h){return h?f:e})(c)}Object.defineProperty(m,"__esModule",{value:!0});m.Point=void 0;var p=function(c,e){if(!e&&c&&c.__esModule)return c;if(null===c||"object"!==typeof c&&"function"!==typeof c)return{default:c};if((e=t(e))&&e.has(c))return e.get(c);var f={},h=Object.defineProperty&&Object.getOwnPropertyDescriptor,k;for(k in c)if("default"!==k&&Object.prototype.hasOwnProperty.call(c,
k)){var g=h?Object.getOwnPropertyDescriptor(c,k):null;g&&(g.get||g.set)?Object.defineProperty(f,k,g):f[k]=c[k]}f.default=c;e&&e.set(c,f);return f}(v(235));z=v(89);class n extends z.Primitive{static initClass(){this.traits="node object visible style point geometry position bind shade".split(" ")}constructor(c,e,f){super(c,e,f);this.point=null}resize(){if(null!=this.bind.points){var c=this.bind.points.getActiveDimensions(),{items:e,width:f,height:h,depth:k}=c;return this.point.geometry.clip(f,h,k,e)}}make(){let c,
e;this._helpers.bind.make([{to:"geometry.points",trait:"source"},{to:"geometry.colors",trait:"source"},{to:"point.sizes",trait:"source"}]);if(null!=this.bind.points){var f=this._shaders.shader();f=this.bind.points.sourceShader(f);f=this._helpers.position.pipeline(f);var h=this.bind.points.getDimensions(),{items:k,width:g,height:r,depth:u}=h,w=this._helpers.style.uniforms(),x=this._helpers.point.uniforms(),B=this._inherit("unit").getUnitUniforms();this.bind.colors&&(c=this._shaders.shader(),this.bind.colors.sourceShader(c));
this.bind.sizes&&(e=this._shaders.shader(),this.bind.sizes.sourceShader(e));h=this._helpers.object.mask();var E=this._helpers.shade.pipeline()||!1,{shape:C}=this.props,{fill:H}=this.props,{optical:I}=this.props;w=p.merge(B,x,w);this.point=this._renderables.make("point",{uniforms:w,width:g,height:r,depth:u,items:k,position:f,color:c,size:e,shape:C,optical:I,fill:H,mask:h,material:E});this._helpers.visible.make();this._helpers.object.make([this.point])}}made(){return this.resize()}unmake(){this._helpers.bind.unmake();
this._helpers.visible.unmake();this._helpers.object.unmake();this.point=null}change(c,e,f){if(c["geometry.points"]||c["point.shape"]||c["point.fill"])return this.rebuild()}}m.Point=n;n.initClass()};
shadow$provide[241]=function(z,v,J,m){function t(f){if("function"!==typeof WeakMap)return null;var h=new WeakMap,k=new WeakMap;return(t=function(g){return g?k:h})(f)}function p(f,h){if(!h&&f&&f.__esModule)return f;if(null===f||"object"!==typeof f&&"function"!==typeof f)return{default:f};if((h=t(h))&&h.has(f))return h.get(f);var k={},g=Object.defineProperty&&Object.getOwnPropertyDescriptor,r;for(r in f)if("default"!==r&&Object.prototype.hasOwnProperty.call(f,r)){var u=g?Object.getOwnPropertyDescriptor(f,
r):null;u&&(u.get||u.set)?Object.defineProperty(k,r,u):k[r]=f[r]}k.default=f;h&&h.set(f,k);return k}Object.defineProperty(m,"__esModule",{value:!0});m.Strip=void 0;var n=p(v(100)),c=p(v(235));z=v(89);class e extends z.Primitive{static initClass(){this.traits="node object visible style line mesh strip geometry position bind shade".split(" ")}constructor(f,h,k){super(f,h,k);this.strip=null}resize(){if(null!=this.bind.points){var f=this.bind.points.getActiveDimensions(),{items:h,width:k,height:g,depth:r}=
f;this.strip&&this.strip.geometry.clip(k,g,r,h);this.line&&this.line.geometry.clip(h,k,g,r);if(null!=this.bind.map&&(f=this.bind.map.getActiveDimensions(),this.strip))return this.strip.geometry.map(f.width,f.height,f.depth,f.items)}}make(){let f;this._helpers.bind.make([{to:"geometry.points",trait:"source"},{to:"geometry.colors",trait:"source"},{to:"mesh.map",trait:"source"}]);if(null!=this.bind.points){var h=this._shaders.shader();h=this.bind.points.sourceShader(h);h=this._helpers.position.pipeline(h);
var k=this._helpers.style.uniforms();var g=this._helpers.line.uniforms();var r=this._inherit("unit").getUnitUniforms(),{line:u,shaded:w,fill:x,stroke:B,join:E}=this.props,C={};C.styleZBias=this._attributes.make(this._types.number());this.wireZBias=C.styleZBias;var H=this.bind.points.getDimensions(),{items:I,width:K,height:O,depth:Q}=H;this.bind.colors&&(f=this._shaders.shader(),f=this.bind.colors.sourceShader(f));H=this._helpers.object.mask();this._helpers.shade.map(null!=this.bind.map?this.bind.map.sourceShader(this._shaders.shader()):
void 0);var W=this._helpers.shade.pipeline(),R=W||w;W=W||!1;var X=[];if(u){const ca=this._shaders.shader();ca.pipe(n.swizzleVec4("yzwx"));ca.pipe(h);g=c.merge(r,g,k,C);this.line=this._renderables.make("line",{uniforms:g,samples:I,strips:K,ribbons:O,layers:Q,position:ca,color:f,stroke:B,join:E,mask:H,material:W});X.push(this.line)}x&&(g=c.merge(k,{}),this.strip=this._renderables.make("strip",{uniforms:g,width:K,height:O,depth:Q,items:I,position:h,color:f,material:R}),X.push(this.strip));this._helpers.visible.make();
return this._helpers.object.make(X)}}made(){return this.resize()}unmake(){this._helpers.bind.unmake();this._helpers.visible.unmake();this._helpers.object.unmake();return this.strip=null}change(f,h,k){if(f["geometry.points"]||h.mesh)return this.rebuild();if(f["style.zBias"]||f["mesh.lineBias"]||k){const {fill:g,zBias:r,lineBias:u}=this.props;return this.wireZBias.value=r+(g?u:0)}}}m.Strip=e;e.initClass()};
shadow$provide[242]=function(z,v,J,m){function t(e){if("function"!==typeof WeakMap)return null;var f=new WeakMap,h=new WeakMap;return(t=function(k){return k?h:f})(e)}Object.defineProperty(m,"__esModule",{value:!0});m.Surface=void 0;var p=function(e,f){if(!f&&e&&e.__esModule)return e;if(null===e||"object"!==typeof e&&"function"!==typeof e)return{default:e};if((f=t(f))&&f.has(e))return f.get(e);var h={},k=Object.defineProperty&&Object.getOwnPropertyDescriptor,g;for(g in e)if("default"!==g&&Object.prototype.hasOwnProperty.call(e,
g)){var r=k?Object.getOwnPropertyDescriptor(e,g):null;r&&(r.get||r.set)?Object.defineProperty(h,g,r):h[g]=e[g]}h.default=e;f&&f.set(e,h);return h}(v(235)),n=v(2);z=v(89);class c extends z.Primitive{static initClass(){this.traits="node object visible style line mesh geometry surface position grid bind shade".split(" ");this.defaults={lineX:!1,lineY:!1}}constructor(e,f,h){super(e,f,h);this.lineX=this.lineY=this.surface=null}resize(){if(null!=this.bind.points){var e=this.bind.points.getActiveDimensions(),
{width:f,height:h,depth:k,items:g}=e;this.surface&&this.surface.geometry.clip(f,h,k,g);this.lineX&&this.lineX.geometry.clip(f,h,k,g);this.lineY&&this.lineY.geometry.clip(h,f,k,g);if(null!=this.bind.map&&(e=this.bind.map.getActiveDimensions(),this.surface))return this.surface.geometry.map(e.width,e.height,e.depth,e.items)}}make(){let e,f;this._helpers.bind.make([{to:"geometry.points",trait:"source"},{to:"geometry.colors",trait:"source"},{to:"mesh.normals",trait:"source"},{to:"mesh.map",trait:"source"}]);
if(null!=this.bind.points){var h=this._shaders.shader();h=this.bind.points.sourceShader(h);h=this._helpers.position.pipeline(h);var k=this._helpers.style.uniforms(),g=this._helpers.style.uniforms(),r=this._helpers.line.uniforms(),u=this._helpers.surface.uniforms(),w=this._inherit("unit").getUnitUniforms();g.styleColor=this._attributes.make(this._types.color());g.styleZBias=this._attributes.make(this._types.number());this.wireColor=g.styleColor.value;this.wireZBias=g.styleZBias;this.wireScratch=new n.Color;
var x=this.bind.points.getDimensions(),{width:B,height:E,depth:C,items:H}=x,{shaded:I,fill:K,lineX:O,lineY:Q,closedX:W,closedY:R,stroke:X,join:ca,proximity:ka,crossed:la}=this.props;x=[];this.proximity=ka;null!=this.bind.normals&&(f=this._shaders.shader(),this.bind.normals.sourceShader(f),this._helpers.shade.normal(f));null!=this.bind.colors&&(e=this._shaders.shader(),this.bind.colors.sourceShader(e));var Aa=this._helpers.object.mask(),ta=this._helpers.shade.map(null!=this.bind.map?this.bind.map.sourceShader(this._shaders.shader()):
void 0),Ha=this._helpers.shade.pipeline(),Oa=Ha||I;Ha=Ha||!1;var {swizzle:da,swizzle2:Wa}=this._helpers.position;g=p.merge(w,r,k,g);r=O||Q?-50:0;O&&(this.lineX=this._renderables.make("line",{uniforms:g,samples:B,strips:E,ribbons:C,layers:H,position:h,color:e,normal:f,zUnits:-r,stroke:X,join:ca,mask:Aa,material:Ha,proximity:ka,closed:W||closed}),x.push(this.lineX));Q&&(this.lineY=this._renderables.make("line",{uniforms:g,samples:E,strips:B,ribbons:C,layers:H,position:Wa(h,"yxzw","yxzw"),color:da(e,
"yxzw"),zUnits:-r,stroke:X,join:ca,mask:da(Aa,la?"xyzw":"yxzw"),material:Ha,proximity:ka,closed:R||closed}),x.push(this.lineY));K&&(g=p.merge(w,u,k),this.surface=this._renderables.make("surface",{uniforms:g,width:B,height:E,surfaces:C,layers:H,position:h,color:e,zUnits:r,stroke:X,material:Oa,mask:Aa,map:ta,intUV:!0,closedX:W||closed,closedY:R||closed}),x.push(this.surface));this._helpers.visible.make();return this._helpers.object.make(x)}}made(){return this.resize()}unmake(){this._helpers.bind.unmake();
this._helpers.visible.unmake();this._helpers.object.unmake();return this.lineX=this.lineY=this.surface=null}_convertGammaToLinear(e,f=2){e.r=Math.pow(e.r,f);e.g=Math.pow(e.g,f);e.b=Math.pow(e.b,f);return e}_convertLinearToGamma(e,f=2){f=0<f?1/f:1;e.r=Math.pow(e.r,f);e.g=Math.pow(e.g,f);e.b=Math.pow(e.b,f);return e}change(e,f,h){if(e["geometry.points"]||e["mesh.shaded"]||e["mesh.fill"]||e["line.stroke"]||e["line.join"]||f.grid)return this.rebuild();if(e["style.color"]||e["style.zBias"]||e["mesh.fill"]||
e["mesh.lineBias"]||h){const {fill:k,color:g,zBias:r,lineBias:u}=this.props;this.wireZBias.value=r+(k?u:0);this.wireColor.copy(g);k&&(f=this.wireScratch,f.setRGB(g.r,g.g,g.b),this._convertLinearToGamma(this._convertGammaToLinear(f).multiplyScalar(.75)),this.wireColor.r=f.r,this.wireColor.g=f.g,this.wireColor.b=f.b)}if(e["line.proximity"]&&null!=this.proximity!==(null!=this.props.proximity))return this.rebuild()}}m.Surface=c;c.initClass()};
shadow$provide[243]=function(z,v,J,m){function t(c){if("function"!==typeof WeakMap)return null;var e=new WeakMap,f=new WeakMap;return(t=function(h){return h?f:e})(c)}Object.defineProperty(m,"__esModule",{value:!0});m.Ticks=void 0;var p=function(c,e){if(!e&&c&&c.__esModule)return c;if(null===c||"object"!==typeof c&&"function"!==typeof c)return{default:c};if((e=t(e))&&e.has(c))return e.get(c);var f={},h=Object.defineProperty&&Object.getOwnPropertyDescriptor,k;for(k in c)if("default"!==k&&Object.prototype.hasOwnProperty.call(c,
k)){var g=h?Object.getOwnPropertyDescriptor(c,k):null;g&&(g.get||g.set)?Object.defineProperty(f,k,g):f[k]=c[k]}f.default=c;e&&e.set(c,f);return f}(v(235));z=v(89);class n extends z.Primitive{static initClass(){this.traits="node object visible style line ticks geometry position bind shade".split(" ")}init(){return this.tickStrip=this.line=null}resize(){if(null!=this.bind.points){var c=this.bind.points.getActiveDimensions(),e=+(0<c.items),f=c.width*e;this.line.geometry.clip(2,f,c.height*e,c.depth*e);
return this.tickStrip.set(0,f-1)}}make(){let c;this._helpers.bind.make([{to:"geometry.points",trait:"source"},{to:"geometry.colors",trait:"source"}]);if(null!=this.bind.points){var e=this._helpers.style.uniforms();var f=this._helpers.line.uniforms(),h=this._inherit("unit").getUnitUniforms();f=p.merge(f,e,h);h={tickEpsilon:this.node.attributes["ticks.epsilon"],tickSize:this.node.attributes["ticks.size"],tickNormal:this.node.attributes["ticks.normal"],tickStrip:this._attributes.make(this._types.vec2(0,
0)),worldUnit:f.worldUnit,focusDepth:f.focusDepth};this.tickStrip=h.tickStrip.value;var k=e=this._shaders.shader();k.require(this.bind.points.sourceShader(this._shaders.shader()));k.require(this._helpers.position.pipeline(this._shaders.shader()));k.pipe("ticks.position",h);var {stroke:g,join:r}=this.props,u=this.bind.points.getDimensions();h=u.width;k=u.height;u=u.depth;this.bind.colors&&(c=this._shaders.shader(),this.bind.colors.sourceShader(c));var w=this._helpers.object.mask(),x=this._helpers.shade.pipeline()||
!1,{swizzle:B}=this._helpers.position;this.line=this._renderables.make("line",{uniforms:f,samples:2,strips:h,ribbons:k,layers:u,position:e,color:c,stroke:g,join:r,mask:B(w,"yzwx"),material:x});this._helpers.visible.make();return this._helpers.object.make([this.line])}}made(){return this.resize()}unmake(){this.line=null;this._helpers.visible.unmake();return this._helpers.object.unmake()}change(c,e,f){if(c["geometry.points"]||c["line.stroke"]||c["line.join"])return this.rebuild()}}m.Ticks=n;n.initClass()};
shadow$provide[244]=function(z,v,J,m){function t(c){if("function"!==typeof WeakMap)return null;var e=new WeakMap,f=new WeakMap;return(t=function(h){return h?f:e})(c)}Object.defineProperty(m,"__esModule",{value:!0});m.Vector=void 0;var p=function(c,e){if(!e&&c&&c.__esModule)return c;if(null===c||"object"!==typeof c&&"function"!==typeof c)return{default:c};if((e=t(e))&&e.has(c))return e.get(c);var f={},h=Object.defineProperty&&Object.getOwnPropertyDescriptor,k;for(k in c)if("default"!==k&&Object.prototype.hasOwnProperty.call(c,
k)){var g=h?Object.getOwnPropertyDescriptor(c,k):null;g&&(g.get||g.set)?Object.defineProperty(f,k,g):f[k]=c[k]}f.default=c;e&&e.set(c,f);return f}(v(235));z=v(89);class n extends z.Primitive{static initClass(){this.traits="node object visible style line arrow geometry position bind shade".split(" ")}constructor(c,e,f){super(c,e,f);this.line=this.arrows=null}resize(){if(null!=this.bind.points){var c=this.bind.points.getActiveDimensions(),e=c.items,f=c.width,h=c.height,k=c.depth;this.line.geometry.clip(e,
f,h,k);return Array.from(this.arrows).map(g=>g.geometry.clip(e,f,h,k))}}make(){let c;this._helpers.bind.make([{to:"geometry.points",trait:"source"},{to:"geometry.colors",trait:"source"}]);if(null!=this.bind.points){var e=this._shaders.shader();this.bind.points.sourceShader(e);this._helpers.position.pipeline(e);var f=this._helpers.style.uniforms(),h=this._helpers.line.uniforms(),k=this._helpers.arrow.uniforms(),g=this._inherit("unit").getUnitUniforms(),{start:r,end:u}=this.props,{stroke:w,join:x,proximity:B,
closed:E}=this.props;this.proximity=B;var C=this.bind.points.getDimensions(),H=C.items,I=C.width,K=C.height;C=C.depth;this.bind.colors&&(c=this._shaders.shader(),this.bind.colors.sourceShader(c));var O=this._helpers.object.mask(),Q=this._helpers.shade.pipeline()||!1,{swizzle:W,swizzle2:R}=this._helpers.position;e=R(e,"yzwx","yzwx");c=W(c,"yzwx");O=W(O,"yzwx");Q=W(Q,"yzwx");f=p.merge(k,h,f,g);this.line=this._renderables.make("line",{uniforms:f,samples:H,ribbons:K,strips:I,layers:C,position:e,color:c,
clip:r||u,stroke:w,join:x,proximity:B,closed:E,mask:O,material:Q});this.arrows=[];r&&this.arrows.push(this._renderables.make("arrow",{uniforms:f,flip:!0,samples:H,ribbons:K,strips:I,layers:C,position:e,color:c,closed:E,mask:O,material:Q}));u&&this.arrows.push(this._renderables.make("arrow",{uniforms:f,samples:H,ribbons:K,strips:I,layers:C,position:e,color:c,closed:E,mask:O,material:Q}));this._helpers.visible.make();return this._helpers.object.make(this.arrows.concat([this.line]))}}made(){return this.resize()}unmake(){this._helpers.bind.unmake();
this._helpers.visible.unmake();this._helpers.object.unmake();return this.line=this.arrows=null}change(c,e,f){if(c["geometry.points"]||c["line.stroke"]||c["line.join"]||c["arrow.start"]||c["arrow.end"]||c["line.proximity"]&&null!=this.proximity!==(null!=this.props.proximity))return this.rebuild()}}m.Vector=n;n.initClass()};
shadow$provide[245]=function(z,v,J,m){Object.defineProperty(m,"__esModule",{value:!0});var t=v(236);Object.keys(t).forEach(function(r){"default"!==r&&"__esModule"!==r&&(r in m&&m[r]===t[r]||Object.defineProperty(m,r,{enumerable:!0,get:function(){return t[r]}}))});var p=v(237);Object.keys(p).forEach(function(r){"default"!==r&&"__esModule"!==r&&(r in m&&m[r]===p[r]||Object.defineProperty(m,r,{enumerable:!0,get:function(){return p[r]}}))});var n=v(238);Object.keys(n).forEach(function(r){"default"!==
r&&"__esModule"!==r&&(r in m&&m[r]===n[r]||Object.defineProperty(m,r,{enumerable:!0,get:function(){return n[r]}}))});var c=v(239);Object.keys(c).forEach(function(r){"default"!==r&&"__esModule"!==r&&(r in m&&m[r]===c[r]||Object.defineProperty(m,r,{enumerable:!0,get:function(){return c[r]}}))});var e=v(240);Object.keys(e).forEach(function(r){"default"!==r&&"__esModule"!==r&&(r in m&&m[r]===e[r]||Object.defineProperty(m,r,{enumerable:!0,get:function(){return e[r]}}))});var f=v(241);Object.keys(f).forEach(function(r){"default"!==
r&&"__esModule"!==r&&(r in m&&m[r]===f[r]||Object.defineProperty(m,r,{enumerable:!0,get:function(){return f[r]}}))});var h=v(242);Object.keys(h).forEach(function(r){"default"!==r&&"__esModule"!==r&&(r in m&&m[r]===h[r]||Object.defineProperty(m,r,{enumerable:!0,get:function(){return h[r]}}))});var k=v(243);Object.keys(k).forEach(function(r){"default"!==r&&"__esModule"!==r&&(r in m&&m[r]===k[r]||Object.defineProperty(m,r,{enumerable:!0,get:function(){return k[r]}}))});var g=v(244);Object.keys(g).forEach(function(r){"default"!==
r&&"__esModule"!==r&&(r in m&&m[r]===g[r]||Object.defineProperty(m,r,{enumerable:!0,get:function(){return g[r]}}))})};
shadow$provide[246]=function(z,v,J,m){Object.defineProperty(m,"__esModule",{value:!0});m.HTML=void 0;z=v(230);class t extends z.Voxel{static initClass(){this.traits="node buffer active data voxel html".split(" ");this.finals={channels:1}}init(){super.init();this.storage="pushBuffer"}make(){super.make();const {items:p,width:n,height:c,depth:e}=this.getDimensions();this.dom=this._overlays.make("dom");return this.dom.hint(p*n*c*e)}unmake(){super.unmake();if(null!=this.dom)return this.dom.dispose(),this.dom=
null}update(){return super.update()}change(p,n,c){return n.html?this.rebuild():super.change(p,n,c)}nodes(){return this.buffer.read()}callback(p){const {el:n}=this.dom;return 6>=p.length?(c,e,f,h,k)=>p(c,n,e,f,h,k):(c,e,f,h,k)=>p(c,n,e,f,h,k,this.bufferClock,this.bufferStep)}}m.HTML=t;t.initClass()};
shadow$provide[247]=function(z,v,J,m){Object.defineProperty(m,"__esModule",{value:!0});m.DOM=void 0;z=v(89);class t extends z.Primitive{static initClass(){this.traits="node bind object visible overlay dom attach position".split(" ")}init(){this.emitter=this.root=null;this.active={}}make(){super.make();this._helpers.bind.make([{to:"dom.html",trait:"html"},{to:"dom.points",trait:"source"}]);if(null!=this.bind.points&&null!=this.bind.html){this.root=this._inherit("root");this._listen("root","root.update",
this.update);this._listen("root","root.post",this.post);var p=this.bind.points.getDimensions(),n=this.bind.html.getDimensions(),c=Math.min(p.items,n.items),e=Math.min(p.width,n.width),f=Math.min(p.height,n.height);p=Math.min(p.depth,n.depth);n=this.bind.points.sourceShader(this._shaders.shader());n=this._helpers.position.pipeline(n);var h=this._shaders.shader({globals:["projectionMatrix"]});h.pipe("project.readback");n.pipe(h);h=this._shaders.shader();this.readback=this._renderables.make("readback",
{map:n,indexer:h,items:c,width:e,height:f,depth:p,channels:4,stpq:!0});this.dom=this._overlays.make("dom");this.dom.hint(c*e*f*p*2);this.emitter=this.callback(this.bind.html.nodes());this.readback.setCallback(this.emitter);this._helpers.visible.make()}}unmake(){null!=this.readback&&(this.readback.dispose(),this.dom.dispose(),this.emitter=this.root=this.readback=this.dom=null,this.active={});this._helpers.bind.unmake();this._helpers.visible.unmake()}update(){null!=this.readback&&this.props.visible&&
(this.readback.update(null!=this.root?this.root.getCamera():void 0),this.readback.post(),this.readback.iterate())}post(){null!=this.readback&&this.dom.render(this.isVisible?this.emitter.nodes():null)}callback(p){let n,c;var e=this._inherit("unit").getUnitUniforms();const f=e.viewWidth,h=e.viewHeight,k=this.node.attributes["dom.attributes"],g=this.node.attributes["dom.size"],r=this.node.attributes["dom.zoom"],u=this.node.attributes["dom.color"],w=this.node.attributes["dom.outline"],x=this.node.attributes["dom.pointerEvents"],
B=this.node.attributes["overlay.opacity"],E=this.node.attributes["overlay.zIndex"],C=this.node.attributes["attach.offset"],H=this.node.attributes["attach.depth"],I=this.node.attributes["attach.snap"],{el:K}=this.dom;let O=[],Q=null,W=null,R=n=c=0,X="";e=function(ca,ka,la,Aa,ta,Ha,Oa,da){la=p[da+R*ta+n*Ha+c*Oa];ta=0>Aa;Ha=1+(1/Aa-1)*H.value;Ha=ta?0:Ha;ca=(ca+1)*f.value*.5+ +C.value.x*Ha;ka=(ka-1)*h.value*.5+ +C.value.y*Ha;ca/=r.value;ka/=r.value;I.value&&(ca=Math.round(ca),ka=Math.round(ka));ka={className:W,
style:{transform:`translate3d(${ca}px, ${-ka}px, ${1-Aa}px) translate(-50%, -50%) scale(${Ha},${Ha})`,opacity:Math.min(.999,ta?0:B.value)}};for(Oa in Q)Aa=Q[Oa],ka.style[Oa]=Aa;ca=k.value;if(null!=ca){ta=ca.style;for(Oa in ca)Aa=ca[Oa],["style","className"].includes(Oa)||(ka[Oa]=Aa);if(null!=ta)for(Oa in ta)Aa=ta[Oa],ka.style[Oa]=Aa}ka.className+=" "+(null!=(null!=ca?ca.className:void 0)?null!=ca?ca.className:void 0:"mathbox-label");return O.push(K("div",ka,la))};e.reset=()=>{O=[];[R,n,c]=Array.from([this.strideI,
this.strideJ,this.strideK]);const ca=u.value;X=ca?`rgb(${[Math.floor(255*ca.x),Math.floor(255*ca.y),Math.floor(255*ca.z)]})`:"";W=`mathbox-outline-${Math.round(w.value)}`;Q={};ca&&(Q.color=X);Q.fontSize=`${g.value}px`;1!==r.value&&(Q.zoom=r.value);0<E.value&&(Q.zIndex=E.value);if(x.value)return Q.pointerEvents="auto"};e.nodes=()=>O;return e}resize(){if(null!=this.readback){var p=this.bind.points.getActiveDimensions();var n=this.bind.html.getActiveDimensions();this.readback.setActive(Math.min(p.items,
n.items),Math.min(p.width,n.width),Math.min(p.height,n.height),Math.min(p.depth,n.depth));this.strideI=p=n.items;this.strideJ=p*=n.width;this.strideK=p*n.height}}change(p,n,c){if(p["dom.html"]||p["dom.points"])return this.rebuild()}}m.DOM=t;t.initClass()};
shadow$provide[248]=function(z,v,J,m){Object.defineProperty(m,"__esModule",{value:!0});var t=v(246);Object.keys(t).forEach(function(n){"default"!==n&&"__esModule"!==n&&(n in m&&m[n]===t[n]||Object.defineProperty(m,n,{enumerable:!0,get:function(){return t[n]}}))});var p=v(247);Object.keys(p).forEach(function(n){"default"!==n&&"__esModule"!==n&&(n in m&&m[n]===p[n]||Object.defineProperty(m,n,{enumerable:!0,get:function(){return p[n]}}))})};
shadow$provide[249]=function(z,v,J,m){function t(f){if("function"!==typeof WeakMap)return null;var h=new WeakMap,k=new WeakMap;return(t=function(g){return g?k:h})(f)}Object.defineProperty(m,"__esModule",{value:!0});m.Text=void 0;var p=function(f,h){if(!h&&f&&f.__esModule)return f;if(null===f||"object"!==typeof f&&"function"!==typeof f)return{default:f};if((h=t(h))&&h.has(f))return h.get(f);var k={},g=Object.defineProperty&&Object.getOwnPropertyDescriptor,r;for(r in f)if("default"!==r&&Object.prototype.hasOwnProperty.call(f,
r)){var u=g?Object.getOwnPropertyDescriptor(f,r):null;u&&(u.get||u.set)?Object.defineProperty(k,r,u):k[r]=f[r]}k.default=f;h&&h.set(f,k);return k}(v(99)),n=v(2),c=v(103);z=v(230);class e extends z.Voxel{static initClass(){this.traits="node buffer active data texture voxel text font".split(" ");this.defaults={minFilter:"linear",magFilter:"linear"};this.finals={channels:1}}init(){super.init();return this.atlas=null}textShader(f){return this.atlas.shader(f)}textIsSDF(){return 0<this.props.sdf}textHeight(){return this.props.detail}make(){let {minFilter:f,
magFilter:h,type:k}=this.props;const {font:g,style:r,variant:u,weight:w,detail:x,sdf:B}=this.props;this.atlas=this._renderables.make("textAtlas",{font:g,size:x,style:r,variant:u,weight:w,outline:B,minFilter:f,magFilter:h,type:k});this.magFilter=this.minFilter=n.NearestFilter;this.type=n.FloatType;c.Buffer.prototype.make.call(this);f=null!=this.minFilter?this.minFilter:this.props.minFilter;h=null!=this.magFilter?this.magFilter:this.props.magFilter;k=null!=this.type?this.type:this.props.type;var {width:E}=
this.props,{height:C}=this.props;const {depth:H}=this.props,I=this.props.bufferWidth,K=this.props.bufferHeight,O=this.props.bufferDepth,{channels:Q}=this.props,{items:W}=this.props;E=this.spec={channels:Q,items:W,width:E,height:C,depth:H};this.items=E.items;this.channels=E.channels;({data:C}=this.props);E=p.getDimensions(C,E);({space:C}=this);C.width=Math.max(I,E.width||1);C.height=Math.max(K,E.height||1);C.depth=Math.max(O,E.depth||1);this.buffer=this._renderables.make(this.storage,{width:C.width,
height:C.height,depth:C.depth,channels:4,items:W,minFilter:f,magFilter:h,type:k});const {atlas:R}=this,{emit:X}=this.buffer.streamer;return this.buffer.streamer.emit=ca=>R.map(ca,X)}unmake(){super.unmake();if(this.atlas)return this.atlas.dispose(),this.atlas=null}update(){this.atlas.begin();super.update();return this.atlas.end()}change(f,h,k){return h.font?this.rebuild():super.change(f,h,k)}}m.Text=e;e.initClass()};
shadow$provide[250]=function(z,v,J,m){function t(n,c,e){if("undefined"!==typeof n&&null!==n&&"function"===typeof n[c])return e(n,c)}Object.defineProperty(m,"__esModule",{value:!0});m.Operator=void 0;z=v(101);class p extends z.Source{static initClass(){this.traits=["node","bind","operator","source","index"]}indexShader(n){return t(this.bind.source,"indexShader",c=>c.indexShader(n))}sourceShader(n){return t(this.bind.source,"sourceShader",c=>c.sourceShader(n))}getDimensions(){return this.bind.source.getDimensions()}getFutureDimensions(){return this.bind.source.getFutureDimensions()}getActiveDimensions(){return this.bind.source.getActiveDimensions()}getIndexDimensions(){return this.bind.source.getIndexDimensions()}init(){return this.sourceSpec=
[{to:"operator.source",trait:"source",optional:!0}]}make(){super.make();return this._helpers.bind.make(this.sourceSpec)}made(){this.resize();return super.made()}unmake(){return this._helpers.bind.unmake()}resize(n){return this.trigger({type:"source.resize"})}}m.Operator=p;p.initClass()};
shadow$provide[251]=function(z,v,J,m){Object.defineProperty(m,"__esModule",{value:!0});m.Format=void 0;var t=v(2);z=v(250);class p extends z.Operator{static initClass(){this.traits="node bind operator texture text format font".split(" ");this.defaults={minFilter:"linear",magFilter:"linear"}}init(){super.init();this.atlas=this.buffer=this.used=this.time=null;return this.filled=!1}sourceShader(n){return this.buffer.shader(n)}textShader(n){return this.atlas.shader(n)}textIsSDF(){return 0<this.props.sdf}textHeight(){return this.props.detail}make(){this._helpers.bind.make([{to:"operator.source",
trait:"raw"}]);let {minFilter:n,magFilter:c,type:e}=this.props;const {font:f,style:h,variant:k,weight:g,detail:r,sdf:u}=this.props;this.atlas=this._renderables.make("textAtlas",{font:f,size:r,style:h,variant:k,weight:g,outline:u,minFilter:n,magFilter:c,type:e});c=n=t.NearestFilter;e=t.FloatType;const w=this.bind.source.getDimensions(),{items:x,width:B,height:E,depth:C}=w;this.buffer=this._renderables.make("voxelBuffer",{width:B,height:E,depth:C,channels:4,items:x,minFilter:n,magFilter:c,type:e});
const {atlas:H}=this,{emit:I}=this.buffer.streamer;this.buffer.streamer.emit=K=>H.map(K,I);this.clockParent=this._inherit("clock");return this._listen("root","root.update",this.update)}made(){super.made();return this.resize()}unmake(){super.unmake();this.buffer&&(this.buffer.dispose(),this.buffer=null);if(this.atlas)return this.atlas.dispose(),this.atlas=null}update(){if((!this.filled||this.props.live)&&this.through){this.time=this.clockParent.getTime();var {used:n}=this;this.atlas.begin();this.used=
this.through();this.buffer.write(this.used);this.atlas.end();this.filled=!0;if(n!==this.used)return this.trigger({type:"source.resize"})}}change(n,c,e){if(c.font)return this.rebuild();if(n["format.expr"]||n["format.digits"]||n["format.data"]||e){let {expr:f}=this.props;const {digits:h,data:k}=this.props;null==f&&(f=null!=k?(g,r,u,w,x)=>k[x]:g=>g);({length:n}=f);null!=h&&(f=(g=>(r,u,w,x,B,E,C,H,I,K)=>+g(r,u,w,x,B,E,C,H,I,K).toPrecision(h))(f));n=8<n?(g,r,u,w,x,B,E,C,H,I,K)=>g(f(r,u,w,x,B,E,C,H,this.time.clock,
this.time.step)):(g,r,u,w,x,B,E,C,H)=>g(f(r,u,w,x,B,E,C,H));return this.through=this.bind.source.rawBuffer().through(n,this.buffer)}}}m.Format=p;p.initClass()};
shadow$provide[252]=function(z,v,J,m){function t(c){if("function"!==typeof WeakMap)return null;var e=new WeakMap,f=new WeakMap;return(t=function(h){return h?f:e})(c)}Object.defineProperty(m,"__esModule",{value:!0});m.Label=void 0;var p=function(c,e){if(!e&&c&&c.__esModule)return c;if(null===c||"object"!==typeof c&&"function"!==typeof c)return{default:c};if((e=t(e))&&e.has(c))return e.get(c);var f={},h=Object.defineProperty&&Object.getOwnPropertyDescriptor,k;for(k in c)if("default"!==k&&Object.prototype.hasOwnProperty.call(c,
k)){var g=h?Object.getOwnPropertyDescriptor(c,k):null;g&&(g.get||g.set)?Object.defineProperty(f,k,g):f[k]=c[k]}f.default=c;e&&e.set(c,f);return f}(v(235));z=v(89);class n extends z.Primitive{static initClass(){this.traits="node bind object visible style label attach geometry position".split(" ")}make(){let c;super.make();this._helpers.bind.make([{to:"label.text",trait:"text"},{to:"geometry.points",trait:"source"},{to:"geometry.colors",trait:"source"}]);if(null!=this.bind.points&&null!=this.bind.text){var e=
this.bind.points.getDimensions(),f=this.bind.text.getDimensions(),h=this.bind.text.textIsSDF(),k=Math.min(e.items,f.items),g=Math.min(e.width,f.width),r=Math.min(e.height,f.height);e=Math.min(e.depth,f.depth);f=this.bind.points.sourceShader(this._shaders.shader());f=this._helpers.position.pipeline(f);var u=this.bind.text.sourceShader(this._shaders.shader()),w=this._shaders.shader().pipe("label.map");w.pipe(this.bind.text.textShader(this._shaders.shader()));var x={spriteDepth:this.node.attributes["attach.depth"],
spriteOffset:this.node.attributes["attach.offset"],spriteSnap:this.node.attributes["attach.snap"],spriteScale:this._attributes.make(this._types.number()),outlineStep:this._attributes.make(this._types.number()),outlineExpand:this._attributes.make(this._types.number()),outlineColor:this.node.attributes["label.background"]};this.spriteScale=x.spriteScale;this.outlineStep=x.outlineStep;this.outlineExpand=x.outlineExpand;h=h?"label.outline":"label.alpha";h=this._shaders.shader().pipe(h,x);this.bind.colors&&
(c=this._shaders.shader(),this.bind.colors.sourceShader(c));var B=this._helpers.object.mask(),E=this._helpers.style.uniforms(),C=this._inherit("unit").getUnitUniforms();x=p.merge(C,E,x);this.sprite=this._renderables.make("sprite",{uniforms:x,width:g,height:r,depth:e,items:k,position:f,sprite:u,map:w,combine:h,color:c,mask:B,linear:!0});this._helpers.visible.make();return this._helpers.object.make([this.sprite])}}unmake(){this._helpers.bind.unmake();this._helpers.visible.unmake();this._helpers.object.unmake();
return this.sprite=null}resize(){const c=this.bind.points.getActiveDimensions(),e=this.bind.text.getActiveDimensions();return this.sprite.geometry.clip(Math.min(c.width,e.width),Math.min(c.height,e.height),Math.min(c.depth,e.depth),Math.min(c.items,e.items))}change(c,e,f){if(e.geometry||c["label.text"])return this.rebuild();if(null!=this.bind.points){({size:f}=this.props);({outline:c}=this.props);({expand:e}=this.props);var h=this.bind.text.textHeight();f/=h;this.outlineExpand.value=e/f*16/255;this.outlineStep.value=
c/f*16/255;return this.spriteScale.value=f}}}m.Label=n;n.initClass()};
shadow$provide[253]=function(z,v,J,m){function t(c){if("function"!==typeof WeakMap)return null;var e=new WeakMap,f=new WeakMap;return(t=function(h){return h?f:e})(c)}Object.defineProperty(m,"__esModule",{value:!0});m.Resample=void 0;var p=function(c,e){if(!e&&c&&c.__esModule)return c;if(null===c||"object"!==typeof c&&"function"!==typeof c)return{default:c};if((e=t(e))&&e.has(c))return e.get(c);var f={},h=Object.defineProperty&&Object.getOwnPropertyDescriptor,k;for(k in c)if("default"!==k&&Object.prototype.hasOwnProperty.call(c,
k)){var g=h?Object.getOwnPropertyDescriptor(c,k):null;g&&(g.get||g.set)?Object.defineProperty(f,k,g):f[k]=c[k]}f.default=c;e&&e.set(c,f);return f}(v(100));z=v(250);class n extends z.Operator{static initClass(){this.traits="node bind operator source index resample sampler:x sampler:y sampler:z sampler:w include".split(" ")}indexShader(c){c.pipe(this.indexer);return super.indexShader(c)}sourceShader(c){return c.pipe(this.operator)}getDimensions(){return this._resample(this.bind.source.getDimensions())}getActiveDimensions(){return this._resample(this.bind.source.getActiveDimensions())}getFutureDimensions(){return this._resample(this.bind.source.getFutureDimensions())}getIndexDimensions(){return this._resample(this.bind.source.getIndexDimensions())}_resample(c){const e=
this.resampled,f=this.centered,h=this.padding;this.relativeSize?(f.items||c.items--,f.width||c.width--,f.height||c.height--,f.depth||c.depth--,null!=e.items&&(c.items*=e.items),null!=e.width&&(c.width*=e.width),null!=e.height&&(c.height*=e.height),null!=e.depth&&(c.depth*=e.depth),f.items||c.items++,f.width||c.width++,f.height||c.height++,f.depth||c.depth++,c.items-=2*h.items,c.width-=2*h.width,c.height-=2*h.height,c.depth-=2*h.depth):(null!=e.items&&(c.items=e.items),null!=e.width&&(c.width=e.width),
null!=e.height&&(c.height=e.height),null!=e.depth&&(c.depth=e.depth));c.items=Math.max(0,Math.floor(c.items));c.width=Math.max(0,Math.floor(c.width));c.height=Math.max(0,Math.floor(c.height));c.depth=Math.max(0,Math.floor(c.depth));return c}make(){super.make();if(null!=this.bind.source){this._helpers.bind.make([{to:"include.shader",trait:"shader",optional:!0}]);var {indices:c,channels:e}=this.props,{shader:f}=this.bind,{sample:h,size:k,items:g,width:r,height:u,depth:w}=this.props,x=h===this.node.attributes["resample.sample"].enum.relative,
B=k===this.node.attributes["resample.size"].enum.relative;this.resampled={};null!=g&&(this.resampled.items=g);null!=r&&(this.resampled.width=r);null!=u&&(this.resampled.height=u);null!=w&&(this.resampled.depth=w);this.centered={};this.centered.items=this.props.centeredW;this.centered.width=this.props.centeredX;this.centered.height=this.props.centeredY;this.centered.depth=this.props.centeredZ;this.padding={};this.padding.items=this.props.paddingW;this.padding.width=this.props.paddingX;this.padding.height=
this.props.paddingY;this.padding.depth=this.props.paddingZ;var E=this._shaders.shader(),C=this._shaders.shader(),H=[null,this._types.number,this._types.vec2,this._types.vec3,this._types.vec4][c];H={dataSize:this._attributes.make(H(0,0,0,0)),dataResolution:this._attributes.make(H(0,0,0,0)),targetSize:this._attributes.make(H(0,0,0,0)),targetResolution:this._attributes.make(H(0,0,0,0)),resampleFactor:this._attributes.make(this._types.vec4(0,0,0,0)),resampleBias:this._attributes.make(this._types.vec4(0,
0,0,0))};this.dataResolution=H.dataResolution;this.dataSize=H.dataSize;this.targetResolution=H.targetResolution;this.targetSize=H.targetSize;this.resampleFactor=H.resampleFactor;this.resampleBias=H.resampleBias;var I=null!=g||null!=r||null!=u||null!=w;E.pipe("resample.padding",H);var K=[],O=!1,Q=["width","height","depth","items"];for(let W=0;W<Q.length;W++){const R=this.centered[Q[W]];O||(O=R);K[W]=R?"0.5":"0.0"}O&&(K=`vec4(${K})`,E.pipe(p.binaryOperator(4,"+",K)),I&&C.pipe(p.binaryOperator(4,"+",
K)));x&&(I?(E.pipe("resample.relative",H),C.pipe("resample.relative",H)):C.pipe(p.identity("vec4")));null!=f?(4!==c&&E.pipe(p.truncateVec(4,c)),E.callback(),4!==c&&E.pipe(p.extendVec(c,4)),O&&E.pipe(p.binaryOperator(4,"-",K)),E.pipe(this.bind.source.sourceShader(this._shaders.shader())),4!==e&&E.pipe(p.truncateVec(4,e)),E.join(),null!=this.bind.shader&&E.pipe(this.bind.shader.shaderBind(H)),4!==e&&E.pipe(p.extendVec(e,4))):(O&&E.pipe(p.binaryOperator(4,"-",K)),E.pipe(this.bind.source.sourceShader(this._shaders.shader())));
O&&I&&C.pipe(p.binaryOperator(4,"-",K));this.operator=E;this.indexer=C;this.indices=c;this.relativeSample=x;return this.relativeSize=B}}unmake(){super.unmake();return this.operator=null}resize(){if(null!=this.bind.source){var c=this.bind.source.getActiveDimensions(),e=this.getActiveDimensions(),f=E=>{const C=this.centered[E],H=this.padding[E];e[E]+=2*H;return[C?c[E]/Math.max(1,e[E]):Math.max(1,c[E]-1)/Math.max(1,e[E]-1),H]},[h,k]=Array.from(f("width")),[g,r]=Array.from(f("height")),[u,w]=Array.from(f("depth")),
[x,B]=Array.from(f("items"));1===this.indices?(this.dataResolution.value=1/c.width,this.targetResolution.value=1/e.width,this.dataSize.value=c.width,this.targetSize.value=e.width):(this.dataResolution.value.set(1/c.width,1/c.height,1/c.depth,1/c.items),this.targetResolution.value.set(1/e.width,1/e.height,1/e.depth,1/e.items),this.dataSize.value.set(c.width,c.height,c.depth,c.items),this.targetSize.value.set(e.width,e.height,e.depth,e.items));this.resampleFactor.value.set(h,g,u,x);this.resampleBias.value.set(k,
r,w,B);return super.resize()}}change(c,e,f){if(e.operator||e.resample||e.sampler||e.include)return this.rebuild()}}m.Resample=n;n.initClass()};
shadow$provide[254]=function(z,v,J,m){Object.defineProperty(m,"__esModule",{value:!0});m.Retext=void 0;z=v(253);class t extends z.Resample{static initClass(){this.traits="node bind operator resample sampler:x sampler:y sampler:z sampler:w include text".split(" ")}init(){return this.sourceSpec=[{to:"operator.source",trait:"text"}]}textShader(p){return this.bind.source.textShader(p)}textIsSDF(){return 0<(null!=this.bind.source?this.bind.source.props.sdf:void 0)}textHeight(){return null!=this.bind.source?
this.bind.source.props.detail:void 0}}m.Retext=t;t.initClass()};
shadow$provide[255]=function(z,v,J,m){Object.defineProperty(m,"__esModule",{value:!0});var t=v(249);Object.keys(t).forEach(function(e){"default"!==e&&"__esModule"!==e&&(e in m&&m[e]===t[e]||Object.defineProperty(m,e,{enumerable:!0,get:function(){return t[e]}}))});var p=v(251);Object.keys(p).forEach(function(e){"default"!==e&&"__esModule"!==e&&(e in m&&m[e]===p[e]||Object.defineProperty(m,e,{enumerable:!0,get:function(){return p[e]}}))});var n=v(252);Object.keys(n).forEach(function(e){"default"!==
e&&"__esModule"!==e&&(e in m&&m[e]===n[e]||Object.defineProperty(m,e,{enumerable:!0,get:function(){return n[e]}}))});var c=v(254);Object.keys(c).forEach(function(e){"default"!==e&&"__esModule"!==e&&(e in m&&m[e]===c[e]||Object.defineProperty(m,e,{enumerable:!0,get:function(){return c[e]}}))})};
shadow$provide[256]=function(z,v,J,m){Object.defineProperty(m,"__esModule",{value:!0});m.Clock=void 0;z=v(90);class t extends z.Parent{static initClass(){this.traits=["node","clock","seek","play"]}init(){this.last=this.skew=0;return this.time={now:+new Date/1E3,time:0,delta:0,clock:0,step:0}}make(){return this._listen("clock","clock.tick",this.tick)}reset(){return this.skew=0}tick(p){const {from:n,to:c,speed:e,seek:f,pace:h,delay:k,realtime:g}=this.props,r=this._inherit("clock").getTime(),u=g?r.time:
r.clock,w=g?r.delta:r.step,x=e/h;this.skew+=w*(x-1);this.last>u&&(this.skew=0);this.time.now=r.now+this.skew;this.time.time=r.time;this.time.delta=r.delta;this.time.clock=Math.min(c,n+Math.max(0,(null!=f?f:r.clock+this.skew)-k*x));this.time.step=w*x;this.last=u;return this.trigger(p)}getTime(){return this.time}}m.Clock=t;t.initClass()};
shadow$provide[257]=function(z,v,J,m){Object.defineProperty(m,"__esModule",{value:!0});m.Now=void 0;z=v(90);class t extends z.Parent{static initClass(){this.traits=["node","clock","now"]}init(){let p;this.now=p=+new Date/1E3;this.skew=0;return this.time={now:p,time:0,delta:0,clock:0,step:0}}make(){this.clockParent=this._inherit("clock");return this._listen("clock","clock.tick",this.tick)}unmake(){return this.clockParent=null}change(p,n,c){if(p["date.now"])return this.skew=0}tick(p){const {seek:n,
pace:c,speed:e}=this.props,f=this.clockParent.getTime();this.skew+=f.step*c/e;null!=n&&(this.skew=n);this.time.now=this.time.time=this.time.clock=(null!=this.props.now?this.props.now:this.now)+this.skew;this.time.delta=this.time.step=f.delta;return this.trigger(p)}getTime(){return this.time}}m.Now=t;t.initClass()};
shadow$provide[258]=function(z,v,J,m){Object.defineProperty(m,"__esModule",{value:!0});var t=v(256);Object.keys(t).forEach(function(n){"default"!==n&&"__esModule"!==n&&(n in m&&m[n]===t[n]||Object.defineProperty(m,n,{enumerable:!0,get:function(){return t[n]}}))});var p=v(257);Object.keys(p).forEach(function(n){"default"!==n&&"__esModule"!==n&&(n in m&&m[n]===p[n]||Object.defineProperty(m,n,{enumerable:!0,get:function(){return p[n]}}))})};
shadow$provide[259]=function(z,v,J,m){function t(n,c){return"undefined"!==typeof n&&null!==n?c(n):void 0}Object.defineProperty(m,"__esModule",{value:!0});m.Transform=void 0;z=v(90);class p extends z.Parent{static initClass(){this.traits=["node","vertex","fragment"]}vertex(n,c){let e;return null!=(e=t(this._inherit("vertex"),f=>f.vertex(n,c)))?e:n}fragment(n,c){let e;return null!=(e=t(this._inherit("fragment"),f=>f.fragment(n,c)))?e:n}}m.Transform=p;p.initClass()};
shadow$provide[260]=function(z,v,J,m){function t(c){if("function"!==typeof WeakMap)return null;var e=new WeakMap,f=new WeakMap;return(t=function(h){return h?f:e})(c)}Object.defineProperty(m,"__esModule",{value:!0});m.Transform3=void 0;var p=function(c,e){if(!e&&c&&c.__esModule)return c;if(null===c||"object"!==typeof c&&"function"!==typeof c)return{default:c};if((e=t(e))&&e.has(c))return e.get(c);var f={},h=Object.defineProperty&&Object.getOwnPropertyDescriptor,k;for(k in c)if("default"!==k&&Object.prototype.hasOwnProperty.call(c,
k)){var g=h?Object.getOwnPropertyDescriptor(c,k):null;g&&(g.get||g.set)?Object.defineProperty(f,k,g):f[k]=c[k]}f.default=c;e&&e.set(c,f);return f}(v(96));z=v(259);class n extends z.Transform{static initClass(){this.traits=["node","vertex","transform3"]}make(){this.uniforms={transformMatrix:this._attributes.make(this._types.mat4())};return this.composer=p.transformComposer()}unmake(){return delete this.uniforms}change(c,e,f){if(c["transform3.pass"])return this.rebuild();if(e.transform3||f)return this.uniforms.transformMatrix.value=
this.composer(this.props.position,this.props.rotation,this.props.quaternion,this.props.scale,this.props.matrix,this.props.eulerOrder)}vertex(c,e){e===this.props.pass&&c.pipe("transform3.position",this.uniforms);return super.vertex(c,e)}}m.Transform3=n;n.initClass()};
shadow$provide[261]=function(z,v,J,m){Object.defineProperty(m,"__esModule",{value:!0});m.Transform4=void 0;z=v(259);class t extends z.Transform{static initClass(){this.traits=["node","vertex","transform4"]}make(){this.uniforms={transformMatrix:this._attributes.make(this._types.mat4()),transformOffset:this.node.attributes["transform4.position"]};return this.transformMatrix=this.uniforms.transformMatrix.value}unmake(){return delete this.uniforms}change(p,n,c){if(p["transform4.pass"])return this.rebuild();
if(n.transform4||c)return p=this.props.scale,n=this.transformMatrix,n.copy(this.props.matrix),n.scale(p)}vertex(p,n){n===this.props.pass&&p.pipe("transform4.position",this.uniforms);return super.vertex(p,n)}}m.Transform4=t;t.initClass()};
shadow$provide[262]=function(z,v,J,m){Object.defineProperty(m,"__esModule",{value:!0});m.Vertex=void 0;z=v(259);class t extends z.Transform{static initClass(){this.traits=["node","include","vertex","bind"]}make(){return this._helpers.bind.make([{to:"include.shader",trait:"shader",optional:!0}])}unmake(){return this._helpers.bind.unmake()}change(p,n,c){if(n.include)return this.rebuild()}vertex(p,n){null!=this.bind.shader&&n===this.props.pass&&p.pipe(this.bind.shader.shaderBind());return super.vertex(p,
n)}}m.Vertex=t;t.initClass()};
shadow$provide[263]=function(z,v,J,m){Object.defineProperty(m,"__esModule",{value:!0});m.Fragment=void 0;z=v(259);class t extends z.Transform{static initClass(){this.traits=["node","include","fragment","bind"]}make(){return this._helpers.bind.make([{to:"include.shader",trait:"shader",optional:!0}])}unmake(){return this._helpers.bind.unmake()}change(p,n,c){if(n.include||p["fragment.gamma"])return this.rebuild()}fragment(p,n){null!=this.bind.shader&&n===this.props.pass&&(this.props.gamma&&p.pipe("mesh.gamma.out"),
p.pipe(this.bind.shader.shaderBind()),p.split(),this.props.gamma&&p.pipe("mesh.gamma.in"),p.pass());return super.fragment(p,n)}}m.Fragment=t;t.initClass()};
shadow$provide[264]=function(z,v,J,m){Object.defineProperty(m,"__esModule",{value:!0});m.Layer=void 0;z=v(259);class t extends z.Transform{static initClass(){this.traits=["node","vertex","layer"]}make(){this._listen("root","root.resize",this.update);return this.uniforms={layerScale:this._attributes.make(this._types.vec4()),layerBias:this._attributes.make(this._types.vec4())}}update(){var p=this._inherit("root").getCamera();const n=null!=p.aspect?p.aspect:1;p=Math.tan((null!=p.fov?p.fov:1)*Math.PI/
360);const c=this.node.attributes["layer.fit"].enum;let {fit:e}=this.props;const {depth:f}=this.props;switch(e){case c.contain:e=1<n?c.y:c.x;break;case c.cover:e=1<n?c.x:c.y}switch(e){case c.x:this.uniforms.layerScale.value.set(p*n,p*n,1,1);break;case c.y:this.uniforms.layerScale.value.set(p,p,1,1)}return this.uniforms.layerBias.value.set(0,0,-f,0)}change(p,n,c){if(p["layer.fit"]||p["layer.depth"]||c)return this.update()}vertex(p,n){return 2===n?p.pipe("layer.position",this.uniforms):3===n?p.pipe("root.position"):
p}}m.Layer=t;t.initClass()};
shadow$provide[265]=function(z,v,J,m){function t(e){if("function"!==typeof WeakMap)return null;var f=new WeakMap,h=new WeakMap;return(t=function(k){return k?h:f})(e)}function p(e,f){return"undefined"!==typeof e&&null!==e?f(e):void 0}Object.defineProperty(m,"__esModule",{value:!0});m.Mask=void 0;var n=function(e,f){if(!f&&e&&e.__esModule)return e;if(null===e||"object"!==typeof e&&"function"!==typeof e)return{default:e};if((f=t(f))&&f.has(e))return f.get(e);var h={},k=Object.defineProperty&&Object.getOwnPropertyDescriptor,
g;for(g in e)if("default"!==g&&Object.prototype.hasOwnProperty.call(e,g)){var r=k?Object.getOwnPropertyDescriptor(e,g):null;r&&(r.get||r.set)?Object.defineProperty(h,g,r):h[g]=e[g]}h.default=e;f&&f.set(e,h);return h}(v(100));z=v(90);class c extends z.Parent{static initClass(){this.traits=["node","include","mask","bind"]}make(){return this._helpers.bind.make([{to:"include.shader",trait:"shader",optional:!0}])}unmake(){return this._helpers.bind.unmake()}change(e,f,h){if(f.include)return this.rebuild()}mask(e){let f,
h;null!=this.bind.shader?e?(h=this._shaders.shader(),h.pipe(n.identity("vec4")),h.fan(),h.pipe(e),h.next(),h.pipe(this.bind.shader.shaderBind()),h.end(),h.pipe("float combine(float a, float b) { return min(a, b); }")):(h=this._shaders.shader(),h.pipe(this.bind.shader.shaderBind())):h=e;return null!=(f=p(this._inherit("mask"),k=>k.mask(h)))?f:h}}m.Mask=c;c.initClass()};
shadow$provide[266]=function(z,v,J,m){Object.defineProperty(m,"__esModule",{value:!0});var t=v(259);Object.keys(t).forEach(function(k){"default"!==k&&"__esModule"!==k&&(k in m&&m[k]===t[k]||Object.defineProperty(m,k,{enumerable:!0,get:function(){return t[k]}}))});var p=v(260);Object.keys(p).forEach(function(k){"default"!==k&&"__esModule"!==k&&(k in m&&m[k]===p[k]||Object.defineProperty(m,k,{enumerable:!0,get:function(){return p[k]}}))});var n=v(261);Object.keys(n).forEach(function(k){"default"!==
k&&"__esModule"!==k&&(k in m&&m[k]===n[k]||Object.defineProperty(m,k,{enumerable:!0,get:function(){return n[k]}}))});var c=v(262);Object.keys(c).forEach(function(k){"default"!==k&&"__esModule"!==k&&(k in m&&m[k]===c[k]||Object.defineProperty(m,k,{enumerable:!0,get:function(){return c[k]}}))});var e=v(263);Object.keys(e).forEach(function(k){"default"!==k&&"__esModule"!==k&&(k in m&&m[k]===e[k]||Object.defineProperty(m,k,{enumerable:!0,get:function(){return e[k]}}))});var f=v(264);Object.keys(f).forEach(function(k){"default"!==
k&&"__esModule"!==k&&(k in m&&m[k]===f[k]||Object.defineProperty(m,k,{enumerable:!0,get:function(){return f[k]}}))});var h=v(265);Object.keys(h).forEach(function(k){"default"!==k&&"__esModule"!==k&&(k in m&&m[k]===h[k]||Object.defineProperty(m,k,{enumerable:!0,get:function(){return h[k]}}))})};
shadow$provide[267]=function(z,v,J,m){Object.defineProperty(m,"__esModule",{value:!0});m.Clamp=void 0;z=v(250);class t extends z.Operator{static initClass(){this.traits="node bind operator source index clamp".split(" ")}indexShader(p){p.pipe(this.operator);return super.indexShader(p)}sourceShader(p){p.pipe(this.operator);return super.sourceShader(p)}make(){super.make();if(null!=this.bind.source){var p={clampLimit:this._attributes.make(this._types.vec4())};this.clampLimit=p.clampLimit;var n=this._shaders.shader();
n.pipe("clamp.position",p);return this.operator=n}}unmake(){return super.unmake()}resize(){if(null!=this.bind.source){const p=this.bind.source.getActiveDimensions();this.clampLimit.value.set(p.width-1,p.height-1,p.depth-1,p.items-1)}return super.resize()}change(p,n,c){if(n.operator||n.clamp)return this.rebuild()}}m.Clamp=t;t.initClass()};
shadow$provide[268]=function(z,v,J,m){Object.defineProperty(m,"__esModule",{value:!0});m.Grow=void 0;z=v(250);class t extends z.Operator{static initClass(){this.traits="node bind operator source index grow".split(" ")}sourceShader(p){return p.pipe(this.operator)}make(){super.make();if(null!=this.bind.source){var p={growScale:this.node.attributes["grow.scale"],growMask:this._attributes.make(this._types.vec4()),growAnchor:this._attributes.make(this._types.vec4())};this.growMask=p.growMask.value;this.growAnchor=
p.growAnchor.value;var n=this._shaders.shader();n.require(this.bind.source.sourceShader(this._shaders.shader()));n.pipe("grow.position",p);return this.operator=n}}unmake(){return super.unmake()}resize(){this.update();return super.resize()}update(){const p=this.bind.source.getFutureDimensions(),n=["width","height","depth","items"];return(()=>{const c=[];for(let e=0;e<n.length;e++){const f=n[e],h=this.props[f];this.growMask.setComponent(e,+(null==h));c.push(this.growAnchor.setComponent(e,null!=h?((p[f]||
1)-1)*(.5-.5*h):0))}return c})()}change(p,n,c){if(n.operator)return this.rebuild();if(n.grow)return this.update()}}m.Grow=t;t.initClass()};
shadow$provide[269]=function(z,v,J,m){function t(c){if("function"!==typeof WeakMap)return null;var e=new WeakMap,f=new WeakMap;return(t=function(h){return h?f:e})(c)}Object.defineProperty(m,"__esModule",{value:!0});m.Join=void 0;var p=function(c,e){if(!e&&c&&c.__esModule)return c;if(null===c||"object"!==typeof c&&"function"!==typeof c)return{default:c};if((e=t(e))&&e.has(c))return e.get(c);var f={},h=Object.defineProperty&&Object.getOwnPropertyDescriptor,k;for(k in c)if("default"!==k&&Object.prototype.hasOwnProperty.call(c,
k)){var g=h?Object.getOwnPropertyDescriptor(c,k):null;g&&(g.get||g.set)?Object.defineProperty(f,k,g):f[k]=c[k]}f.default=c;e&&e.set(c,f);return f}(v(100));z=v(250);class n extends z.Operator{static initClass(){this.traits="node bind operator source index join".split(" ")}indexShader(c){c.pipe(this.operator);return super.indexShader(c)}sourceShader(c){c.pipe(this.operator);return super.sourceShader(c)}getDimensions(){return this._resample(this.bind.source.getDimensions())}getActiveDimensions(){return this._resample(this.bind.source.getActiveDimensions())}getFutureDimensions(){return this._resample(this.bind.source.getFutureDimensions())}getIndexDimensions(){return this._resample(this.bind.source.getIndexDimensions())}_resample(c){var e;
let f;const {order:h,axis:k,stride:g}=this,r=["width","height","depth","items"],u=h.map(E=>r[E-1]);var w=h.indexOf(k);let x=(()=>{const E=[];for(f of Array.from(u))E.push(c[f]);return E})();const B=(null!=(e=x[w+1])?e:1)*g;x.splice(w,2,B);x=x.slice(0,3);x.push(1);e={};for(w=0;w<u.length;w++)f=u[w],e[f]=x[w];return e}make(){super.make();if(null!=this.bind.source){var {order:c}=this.props,{axis:e}=this.props,{overlap:f}=this.props,h=c.join("");null==e&&(e=c[0]);var k=h.indexOf(e);h=h.replace(e,"00").substring(0,
4);var g=[null,"width","height","depth","items"][e];g=this.bind.source.getDimensions()[g];f=Math.min(g-1,f);var r=g-f,u={joinStride:this._attributes.make(this._types.number(r)),joinStrideInv:this._attributes.make(this._types.number(1/r))},w=this._shaders.shader();w.require(p.swizzleVec4(e,1));w.require(p.swizzleVec4(h,4));w.require(p.injectVec4([k,k+1]));w.pipe("join.position",u);w.pipe(p.invertSwizzleVec4(c));this.operator=w;this.order=c;this.axis=e;this.overlap=f;this.length=g;return this.stride=
r}}unmake(){return super.unmake()}change(c,e,f){if(e.join||e.operator)return this.rebuild()}}m.Join=n;n.initClass()};
shadow$provide[270]=function(z,v,J,m){function t(c){if("function"!==typeof WeakMap)return null;var e=new WeakMap,f=new WeakMap;return(t=function(h){return h?f:e})(c)}Object.defineProperty(m,"__esModule",{value:!0});m.Lerp=void 0;var p=function(c,e){if(!e&&c&&c.__esModule)return c;if(null===c||"object"!==typeof c&&"function"!==typeof c)return{default:c};if((e=t(e))&&e.has(c))return e.get(c);var f={},h=Object.defineProperty&&Object.getOwnPropertyDescriptor,k;for(k in c)if("default"!==k&&Object.prototype.hasOwnProperty.call(c,
k)){var g=h?Object.getOwnPropertyDescriptor(c,k):null;g&&(g.get||g.set)?Object.defineProperty(f,k,g):f[k]=c[k]}f.default=c;e&&e.set(c,f);return f}(v(100));z=v(250);class n extends z.Operator{static initClass(){this.traits="node bind operator source index lerp sampler:x sampler:y sampler:z sampler:w".split(" ")}indexShader(c){c.pipe(this.indexer);return super.indexShader(c)}sourceShader(c){return c.pipe(this.operator)}getDimensions(){return this._resample(this.bind.source.getDimensions())}getActiveDimensions(){return this._resample(this.bind.source.getActiveDimensions())}getFutureDimensions(){return this._resample(this.bind.source.getFutureDimensions())}getIndexDimensions(){return this._resample(this.bind.source.getIndexDimensions())}_resample(c){const e=
this.resampled,f=this.centered,h=this.padding;this.relativeSize?(f.items||c.items--,f.width||c.width--,f.height||c.height--,f.depth||c.depth--,null!=e.items&&(c.items*=e.items),null!=e.width&&(c.width*=e.width),null!=e.height&&(c.height*=e.height),null!=e.depth&&(c.depth*=e.depth),f.items||c.items++,f.width||c.width++,f.height||c.height++,f.depth||c.depth++,c.items-=2*h.items,c.width-=2*h.width,c.height-=2*h.height,c.depth-=2*h.depth):(null!=e.items&&(c.items=e.items),null!=e.width&&(c.width=e.width),
null!=e.height&&(c.height=e.height),null!=e.depth&&(c.depth=e.depth));c.items=Math.max(0,Math.floor(c.items));c.width=Math.max(0,Math.floor(c.width));c.height=Math.max(0,Math.floor(c.height));c.depth=Math.max(0,Math.floor(c.depth));return c}make(){let c;super.make();if(null!=this.bind.source){var {size:e,items:f,width:h,height:k,depth:g}=this.props,r=e===this.node.attributes["lerp.size"].enum.relative;this.resampled={};null!=f&&(this.resampled.items=f);null!=h&&(this.resampled.width=h);null!=k&&(this.resampled.height=
k);null!=g&&(this.resampled.depth=g);this.centered={};this.centered.items=this.props.centeredW;this.centered.width=this.props.centeredX;this.centered.height=this.props.centeredY;this.centered.depth=this.props.centeredZ;this.padding={};this.padding.items=this.props.paddingW;this.padding.width=this.props.paddingX;this.padding.height=this.props.paddingY;this.padding.depth=this.props.paddingZ;var u=this._shaders.shader(),w=this._shaders.shader(),x={resampleFactor:this._attributes.make(this._types.vec4(0,
0,0,0)),resampleBias:this._attributes.make(this._types.vec4(0,0,0,0))};this.resampleFactor=x.resampleFactor;this.resampleBias=x.resampleBias;var B=null!=f||null!=h||null!=k||null!=g;u.pipe("resample.padding",x);var E=[],C=!1,H=["width","height","depth","items"];for(c=0;c<H.length;c++){var I=H[c];I=this.centered[I];C||(C=I);E[c]=I?"0.5":"0.0"}if(C&&B){var K=`vec4(${E})`;u.pipe(p.binaryOperator(4,"+",K));w.pipe(p.binaryOperator(4,"+",K))}B?(u.pipe("resample.relative",x),w.pipe("resample.relative",x)):
(u.pipe(p.identity("vec4")),w.pipe(p.identity("vec4")));C&&B&&(u.pipe(p.binaryOperator(4,"-",K)),w.pipe(p.binaryOperator(4,"-",K)));B=this.bind.source.sourceShader(this._shaders.shader());E=["width","height","depth","items"];for(c=0;c<E.length;c++)I=E[c],C=`lerp.${I}`,null!=this.props[I]&&(B=this._shaders.shader().require(B),B.pipe(C,x));u.pipe(B);this.operator=u;this.indexer=w;return this.relativeSize=r}}unmake(){super.unmake();return this.operator=null}resize(){if(null!=this.bind.source){var c=
this.bind.source.getActiveDimensions(),e=this.getActiveDimensions(),f=E=>{const C=this.centered[E],H=this.padding[E];e[E]+=2*H;return[C?c[E]/Math.max(1,e[E]):Math.max(1,c[E]-1)/Math.max(1,e[E]-1),H]},[h,k]=Array.from(f("width")),[g,r]=Array.from(f("height")),[u,w]=Array.from(f("depth")),[x,B]=Array.from(f("items"));this.resampleFactor.value.set(h,g,u,x);this.resampleBias.value.set(k,r,w,B);return super.resize()}}change(c,e,f){if(e.operator||e.lerp||e.sampler)return this.rebuild()}}m.Lerp=n;n.initClass()};
shadow$provide[271]=function(z,v,J,m){Object.defineProperty(m,"__esModule",{value:!0});m.Memo=void 0;z=v(250);class t extends z.Operator{static initClass(){this.traits="node bind active operator source index texture memo".split(" ")}sourceShader(p){return this.memo.shaderAbsolute(p,1)}make(){super.make();if(null!=this.bind.source){this._helpers.active.make();this._listen("root","root.update",()=>{if(this.isActive)return this.update()});var {minFilter:p,magFilter:n,type:c}=this.props,e=this.bind.source.getDimensions(),
{items:f,width:h,height:k,depth:g}=e;this.memo=this._renderables.make("memo",{items:f,width:h,height:k,depth:g,minFilter:p,magFilter:n,type:c});e=this._shaders.shader();this.bind.source.sourceShader(e);this.compose=this._renderables.make("memoScreen",{map:e,items:f,width:h,height:k,depth:g});this.memo.adopt(this.compose);this.objects=[this.compose];return this.renders=this.compose.renders}}unmake(){this._helpers.active.unmake();null!=this.bind.source&&(this.memo.unadopt(this.compose),this.memo.dispose(),
this.memo=this.compose=null,super.unmake())}update(){return null!=this.memo?this.memo.render():void 0}resize(){if(null!=this.bind.source){var p=this.bind.source.getActiveDimensions(),{width:n,height:c,depth:e}=p;this.compose.cover(n,c,e);return super.resize()}}change(p,n,c){if(n.texture||n.operator)return this.rebuild()}}m.Memo=t;t.initClass()};
shadow$provide[272]=function(z,v,J,m){Object.defineProperty(m,"__esModule",{value:!0});m.Readback=void 0;z=v(89);class t extends z.Primitive{static initClass(){this.traits="node bind operator readback entity active".split(" ");this.finals={channels:4}}init(){this.emitter=this.root=null;return this.active={}}make(){super.make();this._compute("readback.data",()=>null!=this.readback?this.readback.data:void 0);this._compute("readback.items",()=>null!=this.readback?this.readback.items:void 0);this._compute("readback.width",
()=>null!=this.readback?this.readback.width:void 0);this._compute("readback.height",()=>null!=this.readback?this.readback.height:void 0);this._compute("readback.depth",()=>null!=this.readback?this.readback.depth:void 0);this._helpers.bind.make([{to:"operator.source",trait:"source"}]);if(null!=this.bind.source){var {type:p,channels:n,expr:c}=this.props;this.root=this._inherit("root");this._listen("root","root.update",this.update);var {items:e,width:f,height:h,depth:k}=this.bind.source.getDimensions(),
g=this.bind.source.sourceShader(this._shaders.shader());this.readback=this._renderables.make("readback",{map:g,items:e,width:f,height:h,depth:k,channels:n,type:p});null!=c&&this.readback.setCallback(c);this._helpers.active.make()}}unmake(){null!=this.readback&&(this.readback.dispose(),this.emitter=this.root=this.readback=null,this.active={});this._helpers.active.unmake();return this._helpers.bind.unmake()}update(){null!=this.readback&&this.isActive&&(this.readback.update(null!=this.root?this.root.getCamera():
void 0),this.readback.post(),null!=this.props.expr&&this.readback.iterate())}resize(){let p;if(null!=this.readback){var {items:n,width:c,height:e,depth:f}=this.bind.source.getActiveDimensions();this.readback.setActive(n,c,e,f);this.strideI=n;this.strideJ=p=n*c;return this.strideK=p*e}}change(p,n,c){if(p["readback.type"])return this.rebuild();if(p["readback.expr"]&&this.readback)return this.readback.setCallback(this.props.expr)}}m.Readback=t;t.initClass()};
shadow$provide[273]=function(z,v,J,m){Object.defineProperty(m,"__esModule",{value:!0});m.Repeat=void 0;z=v(250);class t extends z.Operator{static initClass(){this.traits="node bind operator source index repeat".split(" ")}indexShader(p){p.pipe(this.operator);return super.indexShader(p)}sourceShader(p){p.pipe(this.operator);return super.sourceShader(p)}getDimensions(){return this._resample(this.bind.source.getDimensions())}getActiveDimensions(){return this._resample(this.bind.source.getActiveDimensions())}getFutureDimensions(){return this._resample(this.bind.source.getFutureDimensions())}getIndexDimensions(){return this._resample(this.bind.source.getIndexDimensions())}_resample(p){const n=
this.resample;return{items:n.items*p.items,width:n.width*p.width,height:n.height*p.height,depth:n.depth*p.depth}}make(){super.make();if(null!=this.bind.source){this.resample={};var p={repeatModulus:this._attributes.make(this._types.vec4())};this.repeatModulus=p.repeatModulus;var n=this._shaders.shader();n.pipe("repeat.position",p);return this.operator=n}}unmake(){return super.unmake()}resize(){if(null!=this.bind.source){const p=this.bind.source.getActiveDimensions();this.repeatModulus.value.set(p.width,
p.height,p.depth,p.items)}return super.resize()}change(p,n,c){if(n.operator||n.repeat)return this.rebuild();if(c)return["items","width","height","depth"].map(e=>this.resample[e]=this.props[e])}}m.Repeat=t;t.initClass()};
shadow$provide[274]=function(z,v,J,m){Object.defineProperty(m,"__esModule",{value:!0});m.Reverse=void 0;z=v(250);class t extends z.Operator{static initClass(){this.traits="node bind operator source index reverse".split(" ")}getDimensions(){return this.bind.source.getDimensions()}getActiveDimensions(){return this.bind.source.getActiveDimensions()}getFutureDimensions(){return this.bind.source.getFutureDimensions()}getIndexDimensions(){return this.bind.source.getIndexDimensions()}sourceShader(p){p.pipe("reverse.position",
this.uniforms);return this.bind.source.sourceShader(p)}_resolveScale(p,n){return this.props[p]?-1:1}_resolveOffset(p,n){n=n[p];return this.props[p]?n-1:0}make(){super.make();if(null!=this.bind.source)return this.uniforms={reverseScale:this._attributes.make(this._types.vec4()),reverseOffset:this._attributes.make(this._types.vec4())}}unmake(){return super.unmake()}resize(){if(null!=this.bind.source){var p=this.bind.source.getActiveDimensions();this.uniforms.reverseScale.value.set(this._resolveScale("width",
p),this._resolveScale("height",p),this._resolveScale("depth",p),this._resolveScale("items",p));this.uniforms.reverseOffset.value.set(this._resolveOffset("width",p),this._resolveOffset("height",p),this._resolveOffset("depth",p),this._resolveOffset("items",p));return super.resize()}}change(p,n,c){if(n.operator)return this.rebuild();if(n.reverse)return this.resize()}}m.Reverse=t;t.initClass()};
shadow$provide[275]=function(z,v,J,m){function t(c){if("function"!==typeof WeakMap)return null;var e=new WeakMap,f=new WeakMap;return(t=function(h){return h?f:e})(c)}Object.defineProperty(m,"__esModule",{value:!0});m.Swizzle=void 0;var p=function(c,e){if(!e&&c&&c.__esModule)return c;if(null===c||"object"!==typeof c&&"function"!==typeof c)return{default:c};if((e=t(e))&&e.has(c))return e.get(c);var f={},h=Object.defineProperty&&Object.getOwnPropertyDescriptor,k;for(k in c)if("default"!==k&&Object.prototype.hasOwnProperty.call(c,
k)){var g=h?Object.getOwnPropertyDescriptor(c,k):null;g&&(g.get||g.set)?Object.defineProperty(f,k,g):f[k]=c[k]}f.default=c;e&&e.set(c,f);return f}(v(100));z=v(250);class n extends z.Operator{static initClass(){this.traits="node bind operator source index swizzle".split(" ")}sourceShader(c){c=super.sourceShader(c);this.swizzler&&c.pipe(this.swizzler);return c}make(){super.make();if(null!=this.bind.source){var {order:c}=this.props;if("1234"!==c.join())return this.swizzler=p.swizzleVec4(c,4)}}unmake(){super.unmake();
return this.swizzler=null}change(c,e,f){if(e.swizzle||e.operator)return this.rebuild()}}m.Swizzle=n;n.initClass()};
shadow$provide[276]=function(z,v,J,m){Object.defineProperty(m,"__esModule",{value:!0});m.Spread=void 0;z=v(250);class t extends z.Operator{static initClass(){this.traits="node bind operator source index spread".split(" ")}sourceShader(p){return p.pipe(this.operator)}make(){super.make();if(null!=this.bind.source){var p={spreadMatrix:this._attributes.make(this._types.mat4()),spreadOffset:this._attributes.make(this._types.vec4())};this.spreadMatrix=p.spreadMatrix;this.spreadOffset=p.spreadOffset;var n=
this._shaders.shader();n.require(this.bind.source.sourceShader(this._shaders.shader()));n.pipe("spread.position",p);return this.operator=n}}unmake(){return super.unmake()}resize(){this.update();return super.resize()}update(){let p,n,c,e;const f=this.bind.source.getFutureDimensions(),h=this.spreadMatrix.value.elements,k=["width","height","depth","items"],g=["alignWidth","alignHeight","alignDepth","alignItems"],{unit:r}=this.props,u=this.node.attributes["spread.unit"].enum,w=(()=>{switch(r){case u.relative:return(x,
B,E,C)=>h[4*B+E]=C/Math.max(1,f[x]-1);case u.absolute:return(x,B,E,C)=>h[4*B+E]=C}})();return(()=>{const x=[];for(n=0;n<k.length;n++){p=k[n];const C=this.props[p];var B=this.props[g[n]];this.spreadOffset.value.setComponent(n,null!=C?-((null!=f[p]?f[p]:1)-1)*(.5-.5*B):0);B=x;var E=B.push;const H=[];for(c=0;3>=c;c++){let I;e=null!=(I=null!=C?C.getComponent(c):void 0)?I:0;H.push(h[4*n+c]=w(p,n,c,e))}E.call(B,H)}return x})()}change(p,n,c){if(n.operator)return this.rebuild();if(n.spread)return this.update()}}
m.Spread=t;t.initClass()};
shadow$provide[277]=function(z,v,J,m){function t(c){if("function"!==typeof WeakMap)return null;var e=new WeakMap,f=new WeakMap;return(t=function(h){return h?f:e})(c)}Object.defineProperty(m,"__esModule",{value:!0});m.Split=void 0;var p=function(c,e){if(!e&&c&&c.__esModule)return c;if(null===c||"object"!==typeof c&&"function"!==typeof c)return{default:c};if((e=t(e))&&e.has(c))return e.get(c);var f={},h=Object.defineProperty&&Object.getOwnPropertyDescriptor,k;for(k in c)if("default"!==k&&Object.prototype.hasOwnProperty.call(c,
k)){var g=h?Object.getOwnPropertyDescriptor(c,k):null;g&&(g.get||g.set)?Object.defineProperty(f,k,g):f[k]=c[k]}f.default=c;e&&e.set(c,f);return f}(v(100));z=v(250);class n extends z.Operator{static initClass(){this.traits="node bind operator source index split".split(" ")}indexShader(c){c.pipe(this.operator);return super.indexShader(c)}sourceShader(c){c.pipe(this.operator);return super.sourceShader(c)}getDimensions(){return this._resample(this.bind.source.getDimensions())}getActiveDimensions(){return this._resample(this.bind.source.getActiveDimensions())}getFutureDimensions(){return this._resample(this.bind.source.getFutureDimensions())}getIndexDimensions(){return this._resample(this.bind.source.getIndexDimensions())}_resample(c){let e;
var {order:f}=this,{axis:h}=this,{overlap:k}=this,{length:g}=this;const {stride:r}=this,u=["width","height","depth","items"],w=f.map(x=>u[x-1]);h=f.indexOf(h);f=(()=>{const x=[];for(e of Array.from(w))x.push(c[e]);return x})();f.splice(h,1,g,Math.floor((f[h]-k)/r));f=f.slice(0,4);k={};for(g=0;g<w.length;g++)e=w[g],k[e]=f[g];return k}make(){var c;super.make();if(null!=this.bind.source){var {order:e}=this.props,{axis:f}=this.props,{overlap:h}=this.props,{length:k}=this.props,g=e.join("");null==f&&(f=
e[0]);var r=g.indexOf(f),u=g[r]+(null!=(c=g[r+1])?c:0);c=g.replace(u[1],"").replace(u[0],"0")+"0";h=Math.min(k-1,h);g=k-h;var w={splitStride:this._attributes.make(this._types.number(g))},x=this._shaders.shader();x.require(p.swizzleVec4(u,2));x.require(p.swizzleVec4(c,4));x.require(p.injectVec4(r));x.pipe("split.position",w);x.pipe(p.invertSwizzleVec4(e));this.operator=x;this.order=e;this.axis=f;this.overlap=h;this.length=k;return this.stride=g}}unmake(){return super.unmake()}change(c,e,f){if(c["split.axis"]||
c["split.order"]||e.operator)return this.rebuild()}}m.Split=n;n.initClass()};
shadow$provide[278]=function(z,v,J,m){Object.defineProperty(m,"__esModule",{value:!0});m.Slice=void 0;z=v(250);class t extends z.Operator{static initClass(){this.traits="node bind operator source index slice".split(" ")}getDimensions(){return this._resample(this.bind.source.getDimensions())}getActiveDimensions(){return this._resample(this.bind.source.getActiveDimensions())}getFutureDimensions(){return this._resample(this.bind.source.getFutureDimensions())}getIndexDimensions(){return this._resample(this.bind.source.getIndexDimensions())}sourceShader(p){p.pipe("slice.position",
this.uniforms);return this.bind.source.sourceShader(p)}_resolve(p,n){var c=this.props[p];p=n[p];if(null==c)return[0,p];n=Math.round(c.x);n=0>n?p+n:n;c=Math.round(c.y);c=Math.max(n,0>c?p+c:c);return[n,c-n]}_resample(p){p.width=this._resolve("width",p)[1];p.height=this._resolve("height",p)[1];p.depth=this._resolve("depth",p)[1];p.items=this._resolve("items",p)[1];return p}make(){super.make();if(null!=this.bind.source)return this.uniforms={sliceOffset:this._attributes.make(this._types.vec4())}}unmake(){return super.unmake()}resize(){if(null!=
this.bind.source){var p=this.bind.source.getActiveDimensions();this.uniforms.sliceOffset.value.set(this._resolve("width",p)[0],this._resolve("height",p)[0],this._resolve("depth",p)[0],this._resolve("items",p)[0]);return super.resize()}}change(p,n,c){if(n.operator)return this.rebuild();if(n.slice)return this.resize()}}m.Slice=t;t.initClass()};
shadow$provide[279]=function(z,v,J,m){function t(c){if("function"!==typeof WeakMap)return null;var e=new WeakMap,f=new WeakMap;return(t=function(h){return h?f:e})(c)}Object.defineProperty(m,"__esModule",{value:!0});m.Subdivide=void 0;var p=function(c,e){if(!e&&c&&c.__esModule)return c;if(null===c||"object"!==typeof c&&"function"!==typeof c)return{default:c};if((e=t(e))&&e.has(c))return e.get(c);var f={},h=Object.defineProperty&&Object.getOwnPropertyDescriptor,k;for(k in c)if("default"!==k&&Object.prototype.hasOwnProperty.call(c,
k)){var g=h?Object.getOwnPropertyDescriptor(c,k):null;g&&(g.get||g.set)?Object.defineProperty(f,k,g):f[k]=c[k]}f.default=c;e&&e.set(c,f);return f}(v(100));z=v(250);class n extends z.Operator{static initClass(){this.traits="node bind operator source index subdivide".split(" ")}indexShader(c){c.pipe(this.indexer);return super.indexShader(c)}sourceShader(c){return c.pipe(this.operator)}getDimensions(){return this._resample(this.bind.source.getDimensions())}getActiveDimensions(){return this._resample(this.bind.source.getActiveDimensions())}getFutureDimensions(){return this._resample(this.bind.source.getFutureDimensions())}getIndexDimensions(){return this._resample(this.bind.source.getIndexDimensions())}_resample(c){const e=
this.resampled;c.items--;c.width--;c.height--;c.depth--;null!=e.items&&(c.items*=e.items);null!=e.width&&(c.width*=e.width);null!=e.height&&(c.height*=e.height);null!=e.depth&&(c.depth*=e.depth);c.items++;c.width++;c.height++;c.depth++;return c}make(){super.make();if(null!=this.bind.source){var {lerp:c}=this.props,{items:e,width:f,height:h,depth:k}=this.props;this.resampled={};null!=e&&(this.resampled.items=e);null!=f&&(this.resampled.width=f);null!=h&&(this.resampled.height=h);null!=k&&(this.resampled.depth=
k);var g=this._shaders.shader(),r=this._shaders.shader(),u={resampleFactor:this._attributes.make(this._types.vec4(0,0,0,0)),subdivideBevel:this.node.attributes["subdivide.bevel"]};this.resampleFactor=u.resampleFactor;this.resampleBias=u.resampleBias;null!=e||null!=f||null!=h||null!=k?(g.pipe("resample.relative",u),r.pipe("resample.relative",u)):(g.pipe(p.identity("vec4")),r.pipe(p.identity("vec4")));var w=this.bind.source.sourceShader(this._shaders.shader());c=c?".lerp":"";var x=["width","height",
"depth","items"];for(let B=0;B<x.length;B++){const E=x[B],C=`subdivide.${E}${c}`;null!=this.props[E]&&(w=this._shaders.shader().require(w),w.pipe(C,u))}g.pipe(w);this.operator=g;return this.indexer=r}}unmake(){super.unmake();return this.operator=null}resize(){if(null!=this.bind.source){var c=this.bind.source.getActiveDimensions(),e=this.getActiveDimensions(),f=r=>Math.max(1,c[r]-1)/Math.max(1,e[r]-1),h=f("width"),k=f("height"),g=f("depth");f=f("items");this.resampleFactor.value.set(h,k,g,f);return super.resize()}}change(c,
e,f){if(e.operator||e.subdivide)return this.rebuild()}}m.Subdivide=n;n.initClass()};
shadow$provide[280]=function(z,v,J,m){function t(e){if("function"!==typeof WeakMap)return null;var f=new WeakMap,h=new WeakMap;return(t=function(k){return k?h:f})(e)}Object.defineProperty(m,"__esModule",{value:!0});m.Transpose=void 0;var p=function(e,f){if(!f&&e&&e.__esModule)return e;if(null===e||"object"!==typeof e&&"function"!==typeof e)return{default:e};if((f=t(f))&&f.has(e))return f.get(e);var h={},k=Object.defineProperty&&Object.getOwnPropertyDescriptor,g;for(g in e)if("default"!==g&&Object.prototype.hasOwnProperty.call(e,
g)){var r=k?Object.getOwnPropertyDescriptor(e,g):null;r&&(r.get||r.set)?Object.defineProperty(h,g,r):h[g]=e[g]}h.default=e;f&&f.set(e,h);return h}(v(100));z=v(250);const n={1:"width",2:"height",3:"depth",4:"items"};class c extends z.Operator{static initClass(){this.traits="node bind operator source index transpose".split(" ")}indexShader(e){this.swizzler&&e.pipe(this.swizzler);return super.indexShader(e)}sourceShader(e){this.swizzler&&e.pipe(this.swizzler);return super.sourceShader(e)}getDimensions(){return this._remap(this.transpose,
this.bind.source.getDimensions())}getActiveDimensions(){return this._remap(this.transpose,this.bind.source.getActiveDimensions())}getFutureDimensions(){return this._remap(this.transpose,this.bind.source.getFutureDimensions())}getIndexDimensions(){return this._remap(this.transpose,this.bind.source.getIndexDimensions())}_remap(e,f){const h={};for(let k=0;3>=k;k++){const g=n[e[k]];h[n[k+1]]=null!=f[g]?f[g]:1}return h}make(){super.make();if(null!=this.bind.source){var {order:e}=this.props;"1234"!==e.join()&&
(this.swizzler=p.invertSwizzleVec4(e));this.transpose=e;return this.trigger({type:"source.rebuild"})}}unmake(){super.unmake();return this.swizzler=null}change(e,f,h){if(f.transpose||f.operator)return this.rebuild()}}m.Transpose=c;c.initClass()};
shadow$provide[281]=function(z,v,J,m){Object.defineProperty(m,"__esModule",{value:!0});var t=v(267);Object.keys(t).forEach(function(C){"default"!==C&&"__esModule"!==C&&(C in m&&m[C]===t[C]||Object.defineProperty(m,C,{enumerable:!0,get:function(){return t[C]}}))});var p=v(268);Object.keys(p).forEach(function(C){"default"!==C&&"__esModule"!==C&&(C in m&&m[C]===p[C]||Object.defineProperty(m,C,{enumerable:!0,get:function(){return p[C]}}))});var n=v(269);Object.keys(n).forEach(function(C){"default"!==
C&&"__esModule"!==C&&(C in m&&m[C]===n[C]||Object.defineProperty(m,C,{enumerable:!0,get:function(){return n[C]}}))});var c=v(270);Object.keys(c).forEach(function(C){"default"!==C&&"__esModule"!==C&&(C in m&&m[C]===c[C]||Object.defineProperty(m,C,{enumerable:!0,get:function(){return c[C]}}))});var e=v(271);Object.keys(e).forEach(function(C){"default"!==C&&"__esModule"!==C&&(C in m&&m[C]===e[C]||Object.defineProperty(m,C,{enumerable:!0,get:function(){return e[C]}}))});var f=v(272);Object.keys(f).forEach(function(C){"default"!==
C&&"__esModule"!==C&&(C in m&&m[C]===f[C]||Object.defineProperty(m,C,{enumerable:!0,get:function(){return f[C]}}))});var h=v(253);Object.keys(h).forEach(function(C){"default"!==C&&"__esModule"!==C&&(C in m&&m[C]===h[C]||Object.defineProperty(m,C,{enumerable:!0,get:function(){return h[C]}}))});var k=v(273);Object.keys(k).forEach(function(C){"default"!==C&&"__esModule"!==C&&(C in m&&m[C]===k[C]||Object.defineProperty(m,C,{enumerable:!0,get:function(){return k[C]}}))});var g=v(274);Object.keys(g).forEach(function(C){"default"!==
C&&"__esModule"!==C&&(C in m&&m[C]===g[C]||Object.defineProperty(m,C,{enumerable:!0,get:function(){return g[C]}}))});var r=v(275);Object.keys(r).forEach(function(C){"default"!==C&&"__esModule"!==C&&(C in m&&m[C]===r[C]||Object.defineProperty(m,C,{enumerable:!0,get:function(){return r[C]}}))});var u=v(276);Object.keys(u).forEach(function(C){"default"!==C&&"__esModule"!==C&&(C in m&&m[C]===u[C]||Object.defineProperty(m,C,{enumerable:!0,get:function(){return u[C]}}))});var w=v(277);Object.keys(w).forEach(function(C){"default"!==
C&&"__esModule"!==C&&(C in m&&m[C]===w[C]||Object.defineProperty(m,C,{enumerable:!0,get:function(){return w[C]}}))});var x=v(278);Object.keys(x).forEach(function(C){"default"!==C&&"__esModule"!==C&&(C in m&&m[C]===x[C]||Object.defineProperty(m,C,{enumerable:!0,get:function(){return x[C]}}))});var B=v(279);Object.keys(B).forEach(function(C){"default"!==C&&"__esModule"!==C&&(C in m&&m[C]===B[C]||Object.defineProperty(m,C,{enumerable:!0,get:function(){return B[C]}}))});var E=v(280);Object.keys(E).forEach(function(C){"default"!==
C&&"__esModule"!==C&&(C in m&&m[C]===E[C]||Object.defineProperty(m,C,{enumerable:!0,get:function(){return E[C]}}))})};
shadow$provide[282]=function(z,v,J,m){Object.defineProperty(m,"__esModule",{value:!0});m.Transition=void 0;z=v(90);class t extends z.Parent{static initClass(){this.traits="node transition transform mask visible active".split(" ")}init(){this.uniforms=this.animate=null;this.state={isVisible:!0,isActive:!0,enter:1,exit:1};return this.locked=this.latched=null}make(){this.uniforms={transitionFrom:this._attributes.make(this._types.vec4()),transitionTo:this._attributes.make(this._types.vec4()),transitionActive:this._attributes.make(this._types.bool()),
transitionScale:this._attributes.make(this._types.vec4()),transitionBias:this._attributes.make(this._types.vec4()),transitionEnter:this._attributes.make(this._types.number()),transitionExit:this._attributes.make(this._types.number()),transitionSkew:this._attributes.make(this._types.number())};const p=this._inherit("slide"),n=this._inherit("visible"),c=this._inherit("active");this._listen(p,"transition.latch",e=>this.latch(e.step));this._listen(p,"transition.release",()=>this.release());this._listen(n,
"visible.change",()=>this.update(this.state.isVisible=n.isVisible));this._listen(c,"active.change",()=>this.update(this.state.isActive=c.isActive));this.animate=this._animator.make(this._types.vec2(1,1),{step:e=>{this.state.enter=e.x;this.state.exit=e.y;return this.update()},complete:e=>this.complete(e)});return this.move=null!=this.props.from||null!=this.props.to}unmake(){return this.animate.dispose()}latch(p){this.locked=null;this.latched=p={isVisible:this.state.isVisible,isActive:this.state.isActive,
step:p};if(!this.isVisible){const [n,c]=Array.from(0<=p.step?[0,1]:[1,0]);return this.animate.set(n,c)}}release(){const {latched:p}=this,{state:n}=this;this.latched=null;if(p.isVisible!==n.isVisible){const c=0<=p.step,e=n.isVisible,[f,h]=Array.from(e?[1,1]:c?[1,0]:[0,1]);let {duration:k,durationEnter:g,durationExit:r}=this.props;null==g&&(g=k);null==r&&(r=k);let {delay:u,delayEnter:w,delayExit:x}=this.props;null==w&&(w=u);null==x&&(x=u);this.animate.immediate({x:f,y:h},{duration:e*g+!e*r,delay:e*
w+!e*x,ease:"linear"});this.locked={isVisible:!0,isActive:p.isActive||n.isActive}}return this.update()}complete(p){if(p)return this.locked=null,this.update()}update(){if(null==this.latched){var {enter:p,exit:n}=this.props;null==p&&({enter:p}=this.state);null==n&&({exit:n}=this.state);var c=p*n,e=0<c;this.uniforms.transitionEnter.value=p;this.uniforms.transitionExit.value=n;this.uniforms.transitionActive.value=1>c;e&&(e=!!this.state.isVisible);null!=this.locked&&(e=this.locked.isVisible);this.isVisible!==
e&&(this.isVisible=e,this.trigger({type:"visible.change"}));c=!!(this.state.isActive||null!=this.locked&&this.locked.isActive);if(this.isActive!==c)return this.isActive=c,this.trigger({type:"active.change"})}}change(p,n,c){(p["transition.enter"]||p["transition.exit"]||c)&&this.update();if(p["transition.stagger"]||c){var {stagger:e}=this.props;p=0>e.x;n=0>e.y;c=0>e.z;const f=0>e.w,h=Math.abs(e.x),k=Math.abs(e.y),g=Math.abs(e.z);e=Math.abs(e.w);this.uniforms.transitionSkew.value=h+k+g+e;this.uniforms.transitionScale.value.set((1-
2*p)*h,(1-2*n)*k,(1-2*c)*g,(1-2*f)*e);return this.uniforms.transitionBias.value.set(p*h,n*k,c*g,f*e)}}}m.Transition=t;t.initClass()};
shadow$provide[283]=function(z,v,J,m){function t(n,c){return"undefined"!==typeof n&&null!==n?c(n):void 0}Object.defineProperty(m,"__esModule",{value:!0});m.Move=void 0;z=v(282);class p extends z.Transition{static initClass(){this.traits="node transition vertex move visible active".split(" ")}make(){super.make();const n={moveFrom:this.node.attributes["move.from"],moveTo:this.node.attributes["move.to"]};for(const c in n)this.uniforms[c]=n[c]}vertex(n,c){let e;c===this.props.pass&&n.pipe("move.position",
this.uniforms);return null!=(e=t(this._inherit("vertex"),f=>f.vertex(n,c)))?e:n}}m.Move=p;p.initClass()};
shadow$provide[284]=function(z,v,J,m){function t(p,n,c){return Math.max(n,Math.min(c,p))}Object.defineProperty(m,"__esModule",{value:!0});m.clamp=t;m.cosine=function(p){return.5-.5*Math.cos(t(p,0,1)*Math.PI)};m.binary=function(p){return+(.5<=p)};m.hold=function(p){return+(1<=p)}};
shadow$provide[285]=function(z,v,J,m){function t(e){if("function"!==typeof WeakMap)return null;var f=new WeakMap,h=new WeakMap;return(t=function(k){return k?h:f})(e)}Object.defineProperty(m,"__esModule",{value:!0});m.Track=void 0;var p=function(e,f){if(!f&&e&&e.__esModule)return e;if(null===e||"object"!==typeof e&&"function"!==typeof e)return{default:e};if((f=t(f))&&f.has(e))return f.get(e);var h={},k=Object.defineProperty&&Object.getOwnPropertyDescriptor,g;for(g in e)if("default"!==g&&Object.prototype.hasOwnProperty.call(e,
g)){var r=k?Object.getOwnPropertyDescriptor(e,g):null;r&&(r.get||r.set)?Object.defineProperty(h,g,r):h[g]=e[g]}h.default=e;f&&f.set(e,h);return h}(v(284));z=v(89);const n=function(e){const f={};for(const h in e){const k=e[h];f[h]=k instanceof Array?k.slice():null!=k&&"object"===typeof k?n(k):k}return f};class c extends z.Primitive{static initClass(){this.traits=["node","track","seek","bind"]}init(){this.handlers={};this.values=this.script=null;this.playhead=0;return this.expr=this.section=this.velocity=
null}make(){let e;this._helpers.bind.make([{to:"track.target",trait:"node",callback:null}]);const {script:f}=this.props,{node:h}=this.bind.target;this.targetNode=h;return[this.script,this.values,this.start,this.end]=Array.from(e=this._process(h,f)),e}unmake(){this.unbindExpr();this._helpers.bind.unmake();this.script=this.values=this.start=this.end=this.section=this.expr=null;return this.playhead=0}bindExpr(e){this.unbindExpr();this.expr=e;this.targetNode.bind(e,!0);const {clock:f}=this.targetNode,
h=this;return this._attributes.bind(this.measure=function(){let k=null;return()=>{const {step:g}=f.getTime();null!=k&&(h.velocity=(h.playhead-k)/g);return k=h.playhead}}())}unbindExpr(){null!=this.expr&&this.targetNode.unbind(this.expr,!0);null!=this.measure&&this._attributes.unbind(this.measure);return this.expr=this.measure=null}_process(e,f){let h;let k;if(f instanceof Array){var g={};for(var r=0;r<f.length;r++)k=f[r],g[r]=k;f=g}g=[];for(B in f)k=f[B],null==k&&(k=[]),k instanceof Array?k={key:+B,
props:null!=k[0]?n(k[0]):{},bind:null!=k[1]?n(k[1]):{}}:(k=null!=k.key||k.props||k.bind?n(k):{props:n(k)},k.key=null!=k.key?+k.key:+B,null==k.props&&(k.props={}),null==k.bind&&(k.bind={})),g.push(k);f=g;if(!f.length)return[[],{},0,0];f.sort((E,C)=>E.key-C.key);r=f[0].key;const u=f[f.length-1].key;for(B in f){k=f[B];null!=w&&(w.next=k);var w=k}w.next=w;f=g;g={};const x={};for(B in f)for(h in k=f[B],k.props)w=k.props[h],g[h]=!0;for(B in f)for(h in k=f[B],k.bind)w=k.bind[h],g[h]=!0;for(h in g)g[h]=e.get(h);
try{for(h in g)x[h]=[e.attribute(h).T.make(),e.attribute(h).T.make(),e.attribute(h).T.make()]}catch(E){throw console.warn(this.node.toMarkup()),e=`${this.node.toString()} - Target ${e} has no \`${h}\` property`,Error(e);}var B=[];for(k of Array.from(f)){for(h in g)if(w=g[h],w=e.validate(h,null!=k.props[h]?k.props[h]:w),g[h]=k.props[h]=w,null!=k.bind[h]&&"function"!==typeof k.bind[h])throw console.warn(this.node.toMarkup()),e=`${this.node.toString()} - Bind expression \`${k.bind[h]}\` on property \`${h}\` is not a function`,
Error(e);B.push(k)}return[B,x,r,u]}update(){let {playhead:e}=this;const {script:f}=this,{ease:h,seek:k}=this.props,g=this.targetNode;null!=k&&(e=k);if(f.length){let O;var r=function(){let Q=f[0];for(let W=0;W<f.length;W++){const R=f[W];if(R.key>e)break;Q=R}return Q},{section:u}=this;if(!u||e<u.key||e>u.next.key)u=r(f,e);if(u!==this.section){var w=this.section=u,x=u.next,B=w.key,E=x.key,C=(()=>{switch(h){case "linear":case 0:return p.clamp;case "cosine":case 1:return p.cosine;case "binary":case 2:return p.binary;
case "hold":case 3:return p.hold;default:return p.cosine}})(),{clock:H}=g,I=Q=>{if(null==this.velocity)return this.playhead;const W=H.getTime();return this.playhead+this.velocity*(Q-W.time)},K=function(){const Q=1/Math.max(1E-4,E-B);return W=>C((I(W)-B)*Q,0,1)}();r=Q=>{const W=w.bind[Q],R=x.bind[Q],X=w.props[Q],ca=x.props[Q],ka=function(){console.warn(g.toMarkup());throw Error(`${this.node.toString()} - Invalid expression result on track \`${Q}\``);},la=g.attribute(Q),Aa=this.values[Q],ta=this._animator;
return W&&R?((Ha,Oa,da)=>function(Wa,Pa){let mb;Ha[0]=mb=la.T.validate(W(Wa,Pa),Ha[0],ka);Ha[1]=Pa=la.T.validate(R(Wa,Pa),Ha[1],ka);return Ha[2]=ta.lerp(la.T,mb,Pa,K(Wa),Ha[2])})(Aa,w,x):W?((Ha,Oa,da)=>function(Wa,Pa){Ha[0]=Pa=la.T.validate(W(Wa,Pa),Ha[0],ka);return Ha[1]=ta.lerp(la.T,Pa,ca,K(Wa),Ha[1])})(Aa,w,x):R?((Ha,Oa,da)=>function(Wa,Pa){Ha[0]=Pa=la.T.validate(R(Wa,Pa),Ha[0],ka);return Ha[1]=ta.lerp(la.T,X,Pa,K(Wa),Ha[1])})(Aa,w,x):((Ha,Oa,da)=>(Wa,Pa)=>Ha[0]=ta.lerp(la.T,X,ca,K(Wa),Ha[0]))(Aa,
w,x)};u={};for(O in w.bind)null==u[O]&&(u[O]=r(O));for(O in x.bind)null==u[O]&&(u[O]=r(O));for(O in w.props)null==u[O]&&(u[O]=r(O));for(O in x.props)null==u[O]&&(u[O]=r(O));return this.bindExpr(u)}}}change(e,f,h){if(e["track.target"]||e["track.script"]||e["track.mode"])return this.rebuild();if(e["seek.seek"]||h)return this.update()}}m.Track=c;c.initClass()};
shadow$provide[286]=function(z,v,J,m){Object.defineProperty(m,"__esModule",{value:!0});m.Play=void 0;z=v(285);class t extends z.Track{static initClass(){this.traits=["node","track","trigger","play","bind"]}init(){super.init();return this.start=this.skew=null}reset(p){null==p&&(p=!0);this.skew=p?0:null;return this.start=null}make(){super.make();this._listen("slide","slide.step",n=>{const {trigger:c}=this.props;if(null!=c&&n.index===c)return this.reset();if(null!=c&&0===n.index)return this.reset(!1)});
this.props.trigger&&null!=this._inherit("slide")||this.reset();const p=this._inherit("clock");return this._listen(p,"clock.tick",()=>{const {from:n,to:c,speed:e,pace:f,delay:h,realtime:k}=this.props;var g=p.getTime();if(null!=this.skew){var r=k?g.time:g.clock;g=k?g.delta:g.step;const u=e/f;null==this.start&&(this.start=r);this.skew+=g*(u-1);r=Math.max(0,r-this.start+this.skew-h*u);this.props.loop&&(r%=c-n);this.playhead=Math.min(c,n+r)}else this.playhead=0;return this.update()})}update(){return super.update()}change(p,
n,c){return p["trigger.trigger"]||p["play.realtime"]?this.rebuild():super.change(p,n,c)}}m.Play=t;t.initClass()};
shadow$provide[287]=function(z,v,J,m){Object.defineProperty(m,"__esModule",{value:!0});m.Present=void 0;z=v(90);class t extends z.Parent{static initClass(){this.traits=["node","present"]}init(){}make(){this.nodes=[];this.steps=[];this.length=0;this.last=[];this.index=0;this.dirty=[];this._listen("root","root.update",this.update);return this._compute("present.length",()=>this.length)}adopt(p){const {node:n}=p;0>this.nodes.indexOf(p)&&this.nodes.push(n);return this.dirty.push(p)}unadopt(p){this.nodes=
this.nodes.filter(n=>n!==p);return this.dirty.push(p)}update(){if(this.dirty.length){for(const p of Array.from(this.dirty))this.slideReset(p);[this.steps,this.indices]=Array.from(this.process(this.nodes));this.length=this.steps.length;this.index=null;this.go(this.props.index);return this.dirty=[]}}slideLatch(p,n,c){return p.slideLatch(n,c)}slideStep(p,n,c){return p.slideStep(this.mapIndex(p,n),c)}slideRelease(p,n){return p.slideRelease()}slideReset(p){return p.slideReset()}mapIndex(p,n){return n-
this.indices[p.node._id]}process(p){const n=(f=>h=>{let k,g;const r=[];for(;h&&([h,k]=Array.from(g=[f(h),h]),g);)r.push(k);return r})(function(f){return f.parent.traits.hash.present?null:f.parent}),c=f=>0<=p.indexOf(f),e=f=>f.sort((h,k)=>h.order-k.order);return function(f){let h;const [k,g]=Array.from(f),r={};let u=[];f=function(x,B){let E;const {props:C}=E=x[0];var H=x[1];const I=null!=H?r[H._id]:0;H=null!=C.from?I+C.from:B-C.early;B=null!=C.to?I+C.to:B+C.steps+C.late;H=Math.max(0,H);B=Math.min(100,
B);null==r[E._id]&&(r[E._id]=H);for(let K=H,O=B,Q=H<=O;Q?K<O:K>O;Q?K++:K--)u[K]=(null!=u[K]?u[K]:u[K]=[]).concat(x);return C.steps};let w=0;for(h of Array.from(k))w+=f(h,w);for(h of Array.from(g))f(h,0);u=(()=>{const x=[];for(h of Array.from(u)){var B=x,E=B.push,C;if(C=h){const H=[];for(let I=0;I<C.length;I++){const K=C[I];C.indexOf(K)===I&&H.push(K)}C=H}else C=[];E.call(B,e(C))}return x})();return[u,r]}(function(f){const h=[],k=[];for(const g of Array.from(f))(null!=g[0].props.steps?h:k).push(g);
return[h,k]}((f=>f.sort(function(h,k){const g=h.length,r=k.length;let u=Math.min(g,r);for(let w=1,x=u,B=1<=x;B?w<=x:w>=x;B?w++:w--){const E=h[g-w],C=k[r-w],H=E.props.order,I=C.props.order;if(null!=H||null!=I){if(null!=H&&null!=I&&0!==(u=H-I))return u;if(null!=H)return-1;if(null!=I)return 1}if(C.order!==E.order)return C.order-E.order}u=g-r;return 0!==u?u:0}))((f=>Array.from(f).map(h=>n(h).filter(c)))(p))))}go(p){var n;let c;p=Math.max(0,Math.min(this.length+1,+p||0));const e=null!=(n=this.steps[p-
1])?n:[];n=this.props.directed?p-this.index:1;this.index=p;const f=(()=>{const u=[];for(c of Array.from(e))0>this.last.indexOf(c)&&u.push(c);return u})(),h=(()=>{const u=[];for(c of Array.from(this.last))0>e.indexOf(c)&&u.push(c);return u})(),k=(()=>{const u=[];for(c of Array.from(e))0>f.indexOf(c)&&0>h.indexOf(c)&&u.push(c);return u})(),g=u=>u.sort((w,x)=>w.order-x.order),r=u=>u.sort((w,x)=>x.order-w.order);for(c of Array.from(g(f)))this.slideLatch(c.controller,!0,n);for(c of Array.from(g(k)))this.slideLatch(c.controller,
null,n);for(c of Array.from(g(h)))this.slideLatch(c.controller,!1,n);for(c of Array.from(f))this.slideStep(c.controller,p,n);for(c of Array.from(k))this.slideStep(c.controller,p,n);for(c of Array.from(h))this.slideStep(c.controller,p,n);for(c of Array.from(r(f)))this.slideRelease(c.controller);for(c of Array.from(r(k)))this.slideRelease(c.controller);for(c of Array.from(r(h)))this.slideRelease(c.controller);this.last=e}change(p,n,c){if(p["present.index"]||c)return this.go(this.props.index)}}m.Present=
t;t.initClass()};
shadow$provide[288]=function(z,v,J,m){function t(e){if("function"!==typeof WeakMap)return null;var f=new WeakMap,h=new WeakMap;return(t=function(k){return k?h:f})(e)}function p(e,f){return"undefined"!==typeof e&&null!==e?f(e):void 0}Object.defineProperty(m,"__esModule",{value:!0});m.Reveal=void 0;var n=function(e,f){if(!f&&e&&e.__esModule)return e;if(null===e||"object"!==typeof e&&"function"!==typeof e)return{default:e};if((f=t(f))&&f.has(e))return f.get(e);var h={},k=Object.defineProperty&&Object.getOwnPropertyDescriptor,
g;for(g in e)if("default"!==g&&Object.prototype.hasOwnProperty.call(e,g)){var r=k?Object.getOwnPropertyDescriptor(e,g):null;r&&(r.get||r.set)?Object.defineProperty(h,g,r):h[g]=e[g]}h.default=e;f&&f.set(e,h);return h}(v(100));z=v(282);class c extends z.Transition{static initClass(){this.traits=["node","transition","mask","visible","active"]}mask(e){let f,h;e?(h=this._shaders.shader(),h.pipe(n.identity("vec4")),h.fan(),h.pipe(e,this.uniforms),h.next(),h.pipe("reveal.mask",this.uniforms),h.end(),h.pipe("float combine(float a, float b) { return min(a, b); }")):
(h=this._shaders.shader(),h.pipe("reveal.mask",this.uniforms));return null!=(f=p(this._inherit("mask"),k=>k.mask(h)))?f:h}}m.Reveal=c;c.initClass()};
shadow$provide[289]=function(z,v,J,m){Object.defineProperty(m,"__esModule",{value:!0});m.Slide=void 0;z=v(90);class t extends z.Parent{static initClass(){this.traits=["node","slide","visible","active"]}make(){this._helpers.visible.make();this._helpers.active.make();if(!this._inherit("present"))throw Error(`${this.node.toString()} must be placed inside <present></present>`);return this._inherit("present").adopt(this)}unmake(){this._helpers.visible.unmake();this._helpers.active.unmake();return this._inherit("present").unadopt(this)}change(p,
n,c){if(p["slide.early"]||p["slide.late"]||p["slide.steps"]||p["slide.from"]||p["slide.to"])return this.rebuild()}slideLatch(p,n){this.trigger({type:"transition.latch",step:n});if(null!=p)return this._instant(p)}slideStep(p,n){return this.trigger({type:"slide.step",index:p,step:n})}slideRelease(){return this.trigger({type:"transition.release"})}slideReset(){this._instant(!1);return this.trigger({type:"slide.reset"})}_instant(p){this.setVisible(p);return this.setActive(p)}}m.Slide=t;t.initClass()};
shadow$provide[290]=function(z,v,J,m){function t(n,c,e){const f=[],h=n<c;for(c=e?h?c+1:c-1:c;h?n<c:n>c;h?n++:n--)f.push(n);return f}Object.defineProperty(m,"__esModule",{value:!0});m.Step=void 0;z=v(285);class p extends z.Track{static initClass(){this.traits=["node","track","step","trigger","bind"]}make(){super.make();const n=this._inherit("clock");null==this.actualIndex&&(this.actualIndex=null);this.animateIndex=this._animator.make(this._types.number(0),{clock:n,realtime:this.props.realtime,step:c=>
this.actualIndex=c});null==this.lastIndex&&(this.lastIndex=null);this.animateStep=this._animator.make(this._types.number(0),{clock:n,realtime:this.props.realtime,step:c=>{this.playhead=c;return this.update()}});this.stops=null!=this.props.stops?this.props.stops:t(0,this.script.length,!1);this._listen("slide","slide.reset",c=>this.lastIndex=null);return this._listen("slide","slide.step",c=>{var e;let {duration:f}=this.props;const {delay:h,pace:k,speed:g,playback:r,rewind:u,skip:w,trigger:x}=this.props,
B=Math.max(0,Math.min(this.stops.length-1,c.index-x)),E=this.playhead,C=this.stops[B];if(null==this.lastIndex&&x)this.lastIndex=B,this.animateStep.set(C),this.animateIndex.set(B);else{var H=null!=(e=null!=this.actualIndex?this.actualIndex:this.lastIndex)?e:0;e=B-H;var I=this.stops.slice(Math.min(H,B),Math.max(H,B)),K=0;H=I.shift();for(const O of Array.from(I))H===O&&K++,H=O;this.lastIndex=B;c=g*(0<=c.step?1:u);c*=w?Math.max(1,Math.abs(e)-K):1;f+=Math.abs(C-E)*k/c;if(E!==C)return this.animateIndex.immediate(B,
{delay:h,duration:f,ease:r}),this.animateStep.immediate(C,{delay:h,duration:f,ease:r})}})}made(){return this.update()}unmake(){this.animateIndex.dispose();this.animateStep.dispose();this.animateIndex=this.animateStep=null;return super.unmake()}change(n,c,e){return n["step.stops"]||n["step.realtime"]?this.rebuild():super.change(n,c,e)}}m.Step=p;p.initClass()};
shadow$provide[291]=function(z,v,J,m){Object.defineProperty(m,"__esModule",{value:!0});var t=v(283);Object.keys(t).forEach(function(h){"default"!==h&&"__esModule"!==h&&(h in m&&m[h]===t[h]||Object.defineProperty(m,h,{enumerable:!0,get:function(){return t[h]}}))});var p=v(286);Object.keys(p).forEach(function(h){"default"!==h&&"__esModule"!==h&&(h in m&&m[h]===p[h]||Object.defineProperty(m,h,{enumerable:!0,get:function(){return p[h]}}))});var n=v(287);Object.keys(n).forEach(function(h){"default"!==
h&&"__esModule"!==h&&(h in m&&m[h]===n[h]||Object.defineProperty(m,h,{enumerable:!0,get:function(){return n[h]}}))});var c=v(288);Object.keys(c).forEach(function(h){"default"!==h&&"__esModule"!==h&&(h in m&&m[h]===c[h]||Object.defineProperty(m,h,{enumerable:!0,get:function(){return c[h]}}))});var e=v(289);Object.keys(e).forEach(function(h){"default"!==h&&"__esModule"!==h&&(h in m&&m[h]===e[h]||Object.defineProperty(m,h,{enumerable:!0,get:function(){return e[h]}}))});var f=v(290);Object.keys(f).forEach(function(h){"default"!==
h&&"__esModule"!==h&&(h in m&&m[h]===f[h]||Object.defineProperty(m,h,{enumerable:!0,get:function(){return f[h]}}))})};
shadow$provide[292]=function(z,v,J,m){function t(n,c){return"undefined"!==typeof n&&null!==n?c(n):void 0}Object.defineProperty(m,"__esModule",{value:!0});m.RTT=void 0;z=v(90);class p extends z.Parent{static initClass(){this.traits="node root scene vertex texture rtt source index image".split(" ");this.defaults={minFilter:"linear",magFilter:"linear",type:"unsignedByte"}}init(){return this.rtt=this.scene=this.camera=this.width=this.height=this.history=this.rootSize=this.size=null}indexShader(n){return n}imageShader(n){return this.rtt.shaderRelative(n)}sourceShader(n){return this.rtt.shaderAbsolute(n,
this.history)}getDimensions(){return{items:1,width:this.width,height:this.height,depth:this.history}}getActiveDimensions(){return this.getDimensions()}make(){this.parentRoot=this._inherit("root");this.rootSize=this.parentRoot.getSize();this._listen(this.parentRoot,"root.pre",this.pre);this._listen(this.parentRoot,"root.update",this.update);this._listen(this.parentRoot,"root.render",this.render);this._listen(this.parentRoot,"root.post",this.post);this._listen(this.parentRoot,"root.camera",this.setCamera);
this._listen(this.parentRoot,"root.resize",function(w){return this.resize(w.size)});if(null!=this.rootSize){var {minFilter:n,magFilter:c,type:e}=this.props,{width:f,height:h,history:k,size:g}=this.props,r=g===this.node.attributes["rtt.size"].enum.relative;var u=r?this.rootSize.renderWidth:1;r=r?this.rootSize.renderHeight:1;this.width=Math.round(null!=f?f*u:this.rootSize.renderWidth);this.height=Math.round(null!=h?h*r:this.rootSize.renderHeight);this.history=k;this.aspect=u=this.width/this.height;
null==this.scene&&(this.scene=this._renderables.make("scene"));this.rtt=this._renderables.make("renderToTexture",{scene:this.scene,camera:this._context.defaultCamera,width:this.width,height:this.height,frames:this.history,minFilter:n,magFilter:c,type:e});u=f||h?u:this.rootSize.aspect;r=null!=h?h:this.rootSize.viewHeight;return this.size={renderWidth:this.width,renderHeight:this.height,aspect:u,viewWidth:null!=f?f:this.rootSize.viewWidth,viewHeight:r,pixelRatio:this.height/r}}}made(){this.trigger({type:"source.rebuild"});
if(this.size)return this.trigger({type:"root.resize",size:this.size})}unmake(n){if(null!=this.rtt)return this.rtt.dispose(),n||this.scene.dispose(),this.rtt=this.width=this.height=this.history=null}change(n,c,e){if(c.texture||n["rtt.width"]||n["rtt.height"])return this.rebuild();if(n["root.camera"]||e)return this._unattach(),this._attach(this.props.camera,"camera",this.setCamera,this,this,!0),this.setCamera()}adopt(n){return Array.from(n.renders).map(c=>this.scene.add(c))}unadopt(n){return Array.from(n.renders).map(c=>
this.scene.remove(c))}resize(n){let c,e;this.rootSize=n;({width:e,height:c,size:n}=this.props);n=n===this.node.attributes["rtt.size"].enum.relative;if(!this.rtt||null==e||null==c||n)return this.rebuild()}select(n){return this._root.node.model.select(n,[this.node])}watch(n,c){return this._root.node.model.watch(n,c)}unwatch(n){return this._root.node.model.unwatch(n)}pre(n){return this.trigger(n)}update(n){let c;null!=(c=this.getOwnCamera())&&(c.aspect=this.aspect||1,c.updateProjectionMatrix());return this.trigger(n)}render(n){this.trigger(n);
return null!=this.rtt?this.rtt.render(this.getCamera()):void 0}post(n){return this.trigger(n)}setCamera(){const n=t(this.select(this.props.camera)[0],c=>c.controller);if(this.camera!==n)return this.camera=n,this.rtt.camera=this.getCamera(),this.trigger({type:"root.camera"});if(!this.camera)return this.trigger({type:"root.camera"})}getOwnCamera(){return null!=this.camera?this.camera.getCamera():void 0}getCamera(){let n;return null!=(n=this.getOwnCamera())?n:this._inherit("root").getCamera()}vertex(n,
c){return 2===c?n.pipe("view.position"):3===c?n.pipe("root.position"):n}}m.RTT=p;p.initClass()};
shadow$provide[293]=function(z,v,J,m){Object.defineProperty(m,"__esModule",{value:!0});m.Compose=void 0;z=v(89);class t extends z.Primitive{static initClass(){this.traits="node bind object visible operator style compose".split(" ");this.defaults={zWrite:!1,zTest:!1,color:"#ffffff"}}init(){return this.compose=null}resize(){if(this.compose&&this.bind.source){var p=this.bind.source.getActiveDimensions(),{width:n}=p;({height:p}=p);return this.remapUVScale.set(n,p)}}make(){this._helpers.bind.make([{to:"operator.source",
trait:"source"}]);if(null!=this.bind.source){var p={remapUVScale:this._attributes.make(this._types.vec2())};this.remapUVScale=p.remapUVScale.value;var n=this._shaders.shader(),{alpha:c}=this.props;this.bind.source.is("image")?(n.pipe("screen.pass.uv",p),n=this.bind.source.imageShader(n)):(n.pipe("screen.map.xy",p),n=this.bind.source.sourceShader(n));c||n.pipe("color.opaque");p=this._helpers.style.uniforms();this.compose=this._renderables.make("screen",{map:n,uniforms:p,linear:!0});this._helpers.visible.make();
return this._helpers.object.make([this.compose])}}made(){return this.resize()}unmake(){this._helpers.bind.unmake();this._helpers.visible.unmake();return this._helpers.object.unmake()}change(p,n,c){if(p["operator.source"]||p["compose.alpha"])return this.rebuild()}}m.Compose=t;t.initClass()};
shadow$provide[294]=function(z,v,J,m){Object.defineProperty(m,"__esModule",{value:!0});var t=v(292);Object.keys(t).forEach(function(n){"default"!==n&&"__esModule"!==n&&(n in m&&m[n]===t[n]||Object.defineProperty(m,n,{enumerable:!0,get:function(){return t[n]}}))});var p=v(293);Object.keys(p).forEach(function(n){"default"!==n&&"__esModule"!==n&&(n in m&&m[n]===p[n]||Object.defineProperty(m,n,{enumerable:!0,get:function(){return p[n]}}))})};
shadow$provide[295]=function(z,v,J,m){Object.defineProperty(m,"__esModule",{value:!0});m.View=void 0;z=v(259);class t extends z.Transform{static initClass(){this.traits=["node","object","visible","view","vertex"]}make(){return this._helpers.visible.make()}unmake(){return this._helpers.visible.unmake()}axis(p){return this.props.range[p-1]}}m.View=t;t.initClass()};
shadow$provide[296]=function(z,v,J,m){function t(c){if("function"!==typeof WeakMap)return null;var e=new WeakMap,f=new WeakMap;return(t=function(h){return h?f:e})(c)}Object.defineProperty(m,"__esModule",{value:!0});m.Cartesian=void 0;var p=function(c,e){if(!e&&c&&c.__esModule)return c;if(null===c||"object"!==typeof c&&"function"!==typeof c)return{default:c};if((e=t(e))&&e.has(c))return e.get(c);var f={},h=Object.defineProperty&&Object.getOwnPropertyDescriptor,k;for(k in c)if("default"!==k&&Object.prototype.hasOwnProperty.call(c,
k)){var g=h?Object.getOwnPropertyDescriptor(c,k):null;g&&(g.get||g.set)?Object.defineProperty(f,k,g):f[k]=c[k]}f.default=c;e&&e.set(c,f);return f}(v(96));z=v(295);class n extends z.View{static initClass(){this.traits="node object visible view view3 vertex".split(" ")}make(){super.make();this.uniforms={viewMatrix:this._attributes.make(this._types.mat4())};this.viewMatrix=this.uniforms.viewMatrix.value;this.composer=p.transformComposer()}unmake(){super.unmake();delete this.viewMatrix;delete this.objectMatrix;
delete this.uniforms}change(c,e,f){if(e.view||e.view3||f){e=this.props.position;f=this.props.scale;var h=this.props.quaternion,k=this.props.rotation,g=this.props.range,r=this.props.eulerOrder,{x:u}=g[0],w=g[1].x,x=g[2].x,B=g[0].y-u||1,E=g[1].y-w||1;g=g[2].y-x||1;this.viewMatrix.set(2/B,0,0,-(2*u+B)/B,0,2/E,0,-(2*w+E)/E,0,0,2/g,-(2*x+g)/g,0,0,0,1);e=this.composer(e,k,h,f,null,r);this.viewMatrix.multiplyMatrices(e,this.viewMatrix);c["view.range"]&&this.trigger({type:"view.range"})}}vertex(c,e){1===
e&&c.pipe("cartesian.position",this.uniforms);return super.vertex(c,e)}}m.Cartesian=n;n.initClass()};
shadow$provide[297]=function(z,v,J,m){Object.defineProperty(m,"__esModule",{value:!0});m.Cartesian4=void 0;z=v(295);class t extends z.View{static initClass(){this.traits="node object visible view view4 vertex".split(" ")}make(){super.make();this.uniforms={basisOffset:this._attributes.make(this._types.vec4()),basisScale:this._attributes.make(this._types.vec4())};this.basisScale=this.uniforms.basisScale.value;return this.basisOffset=this.uniforms.basisOffset.value}unmake(){super.unmake();delete this.basisScale;
delete this.basisOffset;return delete this.uniforms}change(p,n,c){if(n.view||n.view4||c){n=this.props.position;c=this.props.scale;var e=this.props.range,{x:f}=e[0],h=e[1].x,k=e[2].x,g=e[3].x,r=e[0].y-f||1,u=e[1].y-h||1,w=e[2].y-k||1;e=e[3].y-g||1;var x=function(B,E){B.x*=E.x;B.y*=E.y;B.z*=E.z;return B.w*=E.w};this.basisScale.set(2/r,2/u,2/w,2/e);this.basisOffset.set(-(2*f+r)/r,-(2*h+u)/u,-(2*k+w)/w,-(2*g+e)/e);x(this.basisScale,c);x(this.basisOffset,c);this.basisOffset.add(n);if(p["view.range"])return this.trigger({type:"view.range"})}}vertex(p,
n){1===n&&p.pipe("cartesian4.position",this.uniforms);return super.vertex(p,n)}}m.Cartesian4=t;t.initClass()};
shadow$provide[298]=function(z,v,J,m){function t(h){if("function"!==typeof WeakMap)return null;var k=new WeakMap,g=new WeakMap;return(t=function(r){return r?g:k})(h)}function p(h,k){if(!k&&h&&h.__esModule)return h;if(null===h||"object"!==typeof h&&"function"!==typeof h)return{default:h};if((k=t(k))&&k.has(h))return k.get(h);var g={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor,u;for(u in h)if("default"!==u&&Object.prototype.hasOwnProperty.call(h,u)){var w=r?Object.getOwnPropertyDescriptor(h,
u):null;w&&(w.get||w.set)?Object.defineProperty(g,u,w):g[u]=h[u]}g.default=h;k&&k.set(h,g);return g}Object.defineProperty(m,"__esModule",{value:!0});m.Polar=void 0;var n=p(v(232)),c=p(v(96)),e=v(2);z=v(295);class f extends z.View{static initClass(){this.traits="node object visible view view3 polar vertex".split(" ")}make(){super.make();const {types:h}=this._attributes;this.uniforms={polarBend:this.node.attributes["polar.bend"],polarHelix:this.node.attributes["polar.helix"],polarFocus:this._attributes.make(h.number()),
polarAspect:this._attributes.make(h.number()),viewMatrix:this._attributes.make(h.mat4())};this.viewMatrix=this.uniforms.viewMatrix.value;this.composer=c.transformComposer();return this.aspect=1}unmake(){super.unmake();delete this.viewMatrix;delete this.objectMatrix;delete this.aspect;return delete this.uniforms}change(h,k,g){var r;if(k.view||k.view3||k.polar||g){this.helix=this.props.helix;this.bend=r=this.props.bend;this.focus=g=0<r?1/r-1:0;var u=this.props.position,w=this.props.scale,x=this.props.quaternion,
B=this.props.rotation,E=this.props.range,C=this.props.eulerOrder,{x:H}=E[0],I=E[1].x,K=E[2].x,O=E[0].y-H||1,Q=E[1].y-I||1;E=E[2].y-K||1;var W=w.x;var R=w.y,X=0<O?1:-1;[I,Q]=Array.from(n.recenterAxis(I,Q,r));r=O+(Math.abs(Q)*X-O)*r;this.aspect=W=Math.abs(r/W/(Q/R));this.uniforms.polarFocus.value=g;this.uniforms.polarAspect.value=W;this.viewMatrix.set(2/r,0,0,-(2*H+O)/O,0,2/Q,0,-(2*I+Q)/Q,0,0,2/E,-(2*K+E)/E,0,0,0,1);g=this.composer(u,B,x,w,null,C);this.viewMatrix.multiplyMatrices(g,this.viewMatrix);
(h["view.range"]||k.polar)&&this.trigger({type:"view.range"})}}vertex(h,k){1===k&&h.pipe("polar.position",this.uniforms);return super.vertex(h,k)}axis(h){var k=this.props.range[h-1];let g=k.x;k=k.y;2===h&&0<this.bend&&(k=Math.max(Math.abs(k),Math.abs(g)),g=Math.max(-this.focus/this.aspect,g));return new e.Vector2(g,k)}}m.Polar=f;f.initClass()};
shadow$provide[299]=function(z,v,J,m){function t(h){if("function"!==typeof WeakMap)return null;var k=new WeakMap,g=new WeakMap;return(t=function(r){return r?g:k})(h)}function p(h,k){if(!k&&h&&h.__esModule)return h;if(null===h||"object"!==typeof h&&"function"!==typeof h)return{default:h};if((k=t(k))&&k.has(h))return k.get(h);var g={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor,u;for(u in h)if("default"!==u&&Object.prototype.hasOwnProperty.call(h,u)){var w=r?Object.getOwnPropertyDescriptor(h,
u):null;w&&(w.get||w.set)?Object.defineProperty(g,u,w):g[u]=h[u]}g.default=h;k&&k.set(h,g);return g}Object.defineProperty(m,"__esModule",{value:!0});m.Spherical=void 0;var n=p(v(232)),c=p(v(96)),e=v(2);z=v(295);class f extends z.View{static initClass(){this.traits="node object visible view view3 spherical vertex".split(" ")}make(){super.make();this.uniforms={sphericalBend:this.node.attributes["spherical.bend"],sphericalFocus:this._attributes.make(this._types.number()),sphericalAspectX:this._attributes.make(this._types.number()),
sphericalAspectY:this._attributes.make(this._types.number()),sphericalScaleY:this._attributes.make(this._types.number()),viewMatrix:this._attributes.make(this._types.mat4())};this.viewMatrix=this.uniforms.viewMatrix.value;this.composer=c.transformComposer();return this.aspectY=this.aspectX=1}unmake(){super.unmake();delete this.viewMatrix;delete this.objectMatrix;delete this.aspectX;delete this.aspectY;return delete this.uniforms}change(h,k,g){let r;if(k.view||k.view3||k.spherical||g){this.bend=g=
this.props.bend;this.focus=r=0<g?1/g-1:0;var u=this.props.position,w=this.props.scale,x=this.props.quaternion,B=this.props.rotation,E=this.props.range,C=this.props.eulerOrder,{x:H}=E[0],I=E[1].x,K=E[2].x,O=E[0].y-H||1,Q=E[1].y-I||1;E=E[2].y-K||1;var W=w.x;var R=w.y;var X=w.z;[I,Q]=Array.from(n.recenterAxis(I,Q,g));[K,E]=Array.from(n.recenterAxis(K,E,g));var ca=Math.abs(E),ka=O+(ca*(0<O?1:-1)-O)*g;ca=Q+(ca*(0<Q?1:-1)-Q)*g;var la=E/X;this.aspectX=X=Math.abs(ka/W/la);this.aspectY=la=Math.abs(ca/R/la/
X);this.scaleY=W=Math.min(la/g,1+(Q/O*W/R*2-1)*g);this.uniforms.sphericalBend.value=g;this.uniforms.sphericalFocus.value=r;this.uniforms.sphericalAspectX.value=X;this.uniforms.sphericalAspectY.value=la;this.uniforms.sphericalScaleY.value=W;this.viewMatrix.set(2/ka,0,0,-(2*H+O)/O,0,2/ca,0,-(2*I+Q)/Q,0,0,2/E,-(2*K+E)/E,0,0,0,1);g=this.composer(u,B,x,w,null,C);this.viewMatrix.multiplyMatrices(g,this.viewMatrix);if(h["view.range"]||k.spherical)return this.trigger({type:"view.range"})}}vertex(h,k){1===
k&&h.pipe("spherical.position",this.uniforms);return super.vertex(h,k)}axis(h){var k=this.props.range[h-1];let g=k.x;k=k.y;3===h&&0<this.bend&&(k=Math.max(Math.abs(k),Math.abs(g)),g=Math.max(-this.focus/this.aspectX+.001,g));return new e.Vector2(g,k)}}m.Spherical=f;f.initClass()};
shadow$provide[300]=function(z,v,J,m){function t(f){if("function"!==typeof WeakMap)return null;var h=new WeakMap,k=new WeakMap;return(t=function(g){return g?k:h})(f)}function p(f,h){if(!h&&f&&f.__esModule)return f;if(null===f||"object"!==typeof f&&"function"!==typeof f)return{default:f};if((h=t(h))&&h.has(f))return h.get(f);var k={},g=Object.defineProperty&&Object.getOwnPropertyDescriptor,r;for(r in f)if("default"!==r&&Object.prototype.hasOwnProperty.call(f,r)){var u=g?Object.getOwnPropertyDescriptor(f,
r):null;u&&(u.get||u.set)?Object.defineProperty(k,r,u):k[r]=f[r]}k.default=f;h&&h.set(f,k);return k}Object.defineProperty(m,"__esModule",{value:!0});m.Stereographic=void 0;var n=p(v(232)),c=p(v(96));z=v(295);class e extends z.View{static initClass(){this.traits="node object visible view view3 stereographic vertex".split(" ")}make(){super.make();this.uniforms={stereoBend:this.node.attributes["stereographic.bend"],viewMatrix:this._attributes.make(this._types.mat4())};this.viewMatrix=this.uniforms.viewMatrix.value;
return this.composer=c.transformComposer()}unmake(){super.unmake();delete this.viewMatrix;delete this.rotationMatrix;return delete this.uniforms}change(f,h,k){if(h.view||h.view3||h.stereographic||k){this.bend=k=this.props.bend;var g=this.props.position,r=this.props.scale,u=this.props.quaternion,w=this.props.rotation,x=this.props.range,B=this.props.eulerOrder,{x:E}=x[0],C=x[1].x,H=x[2].x,I=x[0].y-E||1,K=x[1].y-C||1;x=x[2].y-H||1;[H,x]=Array.from(n.recenterAxis(H,x,k,1));this.uniforms.stereoBend.value=
k;this.viewMatrix.set(2/I,0,0,-(2*E+I)/I,0,2/K,0,-(2*C+K)/K,0,0,2/x,-(2*H+x)/x,0,0,0,1);k=this.composer(g,w,u,r,null,B);this.viewMatrix.multiplyMatrices(k,this.viewMatrix);if(f["view.range"]||h.stereographic)return this.trigger({type:"view.range"})}}vertex(f,h){1===h&&f.pipe("stereographic.position",this.uniforms);return super.vertex(f,h)}}m.Stereographic=e;e.initClass()};
shadow$provide[301]=function(z,v,J,m){function t(c){if("function"!==typeof WeakMap)return null;var e=new WeakMap,f=new WeakMap;return(t=function(h){return h?f:e})(c)}Object.defineProperty(m,"__esModule",{value:!0});m.Stereographic4=void 0;var p=function(c,e){if(!e&&c&&c.__esModule)return c;if(null===c||"object"!==typeof c&&"function"!==typeof c)return{default:c};if((e=t(e))&&e.has(c))return e.get(c);var f={},h=Object.defineProperty&&Object.getOwnPropertyDescriptor,k;for(k in c)if("default"!==k&&Object.prototype.hasOwnProperty.call(c,
k)){var g=h?Object.getOwnPropertyDescriptor(c,k):null;g&&(g.get||g.set)?Object.defineProperty(f,k,g):f[k]=c[k]}f.default=c;e&&e.set(c,f);return f}(v(232));z=v(295);class n extends z.View{static initClass(){this.traits="node object visible view view4 stereographic vertex".split(" ")}make(){super.make();this.uniforms={basisOffset:this._attributes.make(this._types.vec4()),basisScale:this._attributes.make(this._types.vec4()),stereoBend:this.node.attributes["stereographic.bend"]};this.basisScale=this.uniforms.basisScale.value;
this.basisOffset=this.uniforms.basisOffset.value}unmake(){super.unmake();delete this.basisScale;delete this.basisOffset;delete this.uniforms}change(c,e,f){if(e.view||e.view4||e.stereographic||f){this.bend=f=this.props.bend;var h=this.props.position,k=this.props.scale,g=this.props.range,{x:r}=g[0],u=g[1].x,w=g[2].x,x=g[3].x,B=g[0].y-r||1,E=g[1].y-u||1,C=g[2].y-w||1;g=g[3].y-x||1;var H=function(I,K){I.x*=K.x;I.y*=K.y;I.z*=K.z;I.w*=K.w};[x,g]=Array.from(p.recenterAxis(x,g,f,1));this.basisScale.set(2/
B,2/E,2/C,2/g);this.basisOffset.set(-(2*r+B)/B,-(2*u+E)/E,-(2*w+C)/C,-(2*x+g)/g);H(this.basisScale,k);H(this.basisOffset,k);this.basisOffset.add(h);(c["view.range"]||e.stereographic)&&this.trigger({type:"view.range"})}}vertex(c,e){1===e&&c.pipe("stereographic4.position",this.uniforms);return super.vertex(c,e)}}m.Stereographic4=n;n.initClass()};
shadow$provide[302]=function(z,v,J,m){Object.defineProperty(m,"__esModule",{value:!0});var t=v(295);Object.keys(t).forEach(function(k){"default"!==k&&"__esModule"!==k&&(k in m&&m[k]===t[k]||Object.defineProperty(m,k,{enumerable:!0,get:function(){return t[k]}}))});var p=v(296);Object.keys(p).forEach(function(k){"default"!==k&&"__esModule"!==k&&(k in m&&m[k]===p[k]||Object.defineProperty(m,k,{enumerable:!0,get:function(){return p[k]}}))});var n=v(297);Object.keys(n).forEach(function(k){"default"!==
k&&"__esModule"!==k&&(k in m&&m[k]===n[k]||Object.defineProperty(m,k,{enumerable:!0,get:function(){return n[k]}}))});var c=v(298);Object.keys(c).forEach(function(k){"default"!==k&&"__esModule"!==k&&(k in m&&m[k]===c[k]||Object.defineProperty(m,k,{enumerable:!0,get:function(){return c[k]}}))});var e=v(299);Object.keys(e).forEach(function(k){"default"!==k&&"__esModule"!==k&&(k in m&&m[k]===e[k]||Object.defineProperty(m,k,{enumerable:!0,get:function(){return e[k]}}))});var f=v(300);Object.keys(f).forEach(function(k){"default"!==
k&&"__esModule"!==k&&(k in m&&m[k]===f[k]||Object.defineProperty(m,k,{enumerable:!0,get:function(){return f[k]}}))});var h=v(301);Object.keys(h).forEach(function(k){"default"!==k&&"__esModule"!==k&&(k in m&&m[k]===h[k]||Object.defineProperty(m,k,{enumerable:!0,get:function(){return h[k]}}))})};
shadow$provide[303]=function(z,v,J,m){function t(c){if("function"!==typeof WeakMap)return null;var e=new WeakMap,f=new WeakMap;return(t=function(h){return h?f:e})(c)}Object.defineProperty(m,"__esModule",{value:!0});m.Shader=void 0;var p=function(c,e){if(!e&&c&&c.__esModule)return c;if(null===c||"object"!==typeof c&&"function"!==typeof c)return{default:c};if((e=t(e))&&e.has(c))return e.get(c);var f={},h=Object.defineProperty&&Object.getOwnPropertyDescriptor,k;for(k in c)if("default"!==k&&Object.prototype.hasOwnProperty.call(c,
k)){var g=h?Object.getOwnPropertyDescriptor(c,k):null;g&&(g.get||g.set)?Object.defineProperty(f,k,g):f[k]=c[k]}f.default=c;e&&e.set(c,f);return f}(v(100));z=v(89);class n extends z.Primitive{static initClass(){this.traits=["node","bind","shader"];this.freeform=!0}init(){return this.shader=null}make(){const {language:c,code:e}=this.props;if("glsl"!==c)throw Error("GLSL required");this._helpers.bind.make([{to:"shader.sources",trait:"source",multiple:!0}]);var f=this._shaders.fetch(e);const h=this._types,
k={},g=r=>{switch(r){case "i":return h.int();case "f":return h.number();case "v2":return h.vec2();case "v3":return h.vec3();case "v4":return h.vec4();case "m3":return h.mat3();case "m4":return h.mat4();case "t":return h.object();default:return r=r.split(""),"v"===r.pop()?h.array(g(r.join(""))):null}};for(const r of Array.from(f._signatures.uniform))if(f=g(r.type))k[r.name]=f;return this.reconfigure({props:{uniform:k}})}made(){return this.trigger({type:"source.rebuild"})}unmake(){return this.shader=
null}change(c,e,f){if(c["shader.uniforms"]||c["shader.code"]||c["shader.language"])return this.rebuild()}shaderBind(c){let e,f;null==c&&(c={});const {code:h,indices:k,channels:g}=this.props;for(r in this.node.attributes)f=this.node.attributes[r],null!=f.type&&null!=f.short&&"uniform"===f.ns&&null==c[f.short]&&(c[f.short]=f);if(null!=(e=this.props.uniforms))for(r in e)f=e[r],c[r]=f;var r=this._shaders.shader();if(null!=this.bind.sources)for(const u of Array.from(this.bind.sources))r.callback(),4!=
k&&r.pipe(p.extendVec(k,4)),r.pipe(u.sourceShader(this._shaders.shader())),4!=g&&r.pipe(p.truncateVec(4,g)),r.join();return r.pipe(h,c)}}m.Shader=n;n.initClass()};
shadow$provide[304]=function(z,v,J,m){Object.defineProperty(m,"__esModule",{value:!0});var t=v(303);Object.keys(t).forEach(function(p){"default"!==p&&"__esModule"!==p&&(p in m&&m[p]===t[p]||Object.defineProperty(m,p,{enumerable:!0,get:function(){return t[p]}}))})};
shadow$provide[305]=function(z,v,J,m){Object.defineProperty(m,"__esModule",{value:!0});m.Classes=void 0;z=v(95);J=v(98);var t=v(234),p=v(245),n=v(248),c=v(255),e=v(258),f=v(266),h=v(281),k=v(291),g=v(294),r=v(302);v=v(304);m.Classes={axis:p.Axis,face:p.Face,grid:p.Grid,line:p.Line,point:p.Point,strip:p.Strip,surface:p.Surface,ticks:p.Ticks,vector:p.Vector,view:r.View,cartesian:r.Cartesian,cartesian4:r.Cartesian4,polar:r.Polar,spherical:r.Spherical,stereographic:r.Stereographic,stereographic4:r.Stereographic4,
transform:f.Transform3,transform4:f.Transform4,vertex:f.Vertex,fragment:f.Fragment,layer:f.Layer,mask:f.Mask,array:t.Array_,interval:t.Interval,matrix:t.Matrix,area:t.Area,voxel:t.Voxel,volume:t.Volume,scale:t.Scale,latch:t.Latch,html:n.HTML,dom:n.DOM,text:c.Text,format:c.Format,label:c.Label,retext:c.Retext,clamp:h.Clamp,grow:h.Grow,join:h.Join,lerp:h.Lerp,memo:h.Memo,readback:h.Readback,resample:h.Resample,repeat:h.Repeat,reverse:h.Reverse,swizzle:h.Swizzle,spread:h.Spread,split:h.Split,slice:h.Slice,
subdivide:h.Subdivide,transpose:h.Transpose,group:z.Group,inherit:z.Inherit,root:z.Root,unit:z.Unit,shader:v.Shader,camera:J.Camera,rtt:g.RTT,compose:g.Compose,clock:e.Clock,now:e.Now,move:k.Move,play:k.Play,present:k.Present,reveal:k.Reveal,slide:k.Slide,step:k.Step}};
shadow$provide[306]=function(z,v,J,m){function t(g){if("function"!==typeof WeakMap)return null;var r=new WeakMap,u=new WeakMap;return(t=function(w){return w?u:r})(g)}function p(g,r){if(!r&&g&&g.__esModule)return g;if(null===g||"object"!==typeof g&&"function"!==typeof g)return{default:g};if((r=t(r))&&r.has(g))return r.get(g);var u={},w=Object.defineProperty&&Object.getOwnPropertyDescriptor,x;for(x in g)if("default"!==x&&Object.prototype.hasOwnProperty.call(g,x)){var B=w?Object.getOwnPropertyDescriptor(g,
x):null;B&&(B.get||B.set)?Object.defineProperty(u,x,B):u[x]=g[x]}u.default=g;r&&r.set(g,u);return u}function n(g,r,u){const w=[],x=g<r;for(r=u?x?r+1:r-1:r;x?g<r:g>r;x?g++:g--)w.push(g);return w}function c(g,r,u){if("undefined"!==typeof g&&null!==g&&"function"===typeof g[r])return u(g,r)}Object.defineProperty(m,"__esModule",{value:!0});m.Types=void 0;var e=p(v(99)),f=p(v(235)),h=v(2);const k=function(g){for(const r in g)g[r]=(u=>function(){const w=u.apply(u,arguments);null==w.validate&&(w.validate=
x=>null!=x);null==w.equals&&(w.equals=(x,B)=>x===B);null==w.clone&&(w.clone=function(x){let B;return null!=(B=c(x,"clone",E=>E.clone()))?B:x});return w})(g[r]);return g}({array(g,r,u=null){const w=g.lerp?function(B,E,C,H){const I=Math.min(B.length,E.length);for(let K=0,O=I,Q=0<=O;Q?K<O:K>O;Q?K++:K--)C[K]=g.lerp(B[K],E[K],C[K],H);return C}:void 0,x=g.op?function(B,E,C,H){const I=Math.min(B.length,E.length);for(let K=0,O=I,Q=0<=O;Q?K<O:K>O;Q?K++:K--)C[K]=g.op(B[K],E[K],C[K],H);return C}:void 0;null==
u||u instanceof Array||(u=[u]);return{uniform(){if(g.uniform)return g.uniform()+"v"},make(){return null!=u?u.slice():r?n(0,r,!1).map(B=>g.make()):[]},validate(B,E,C){B instanceof Array||(B=[B]);var H=E.length=r?r:B.length;for(let I=0,K=H,O=0<=K;O?I<K:I>K;O?I++:I--)H=null!=B[I]?B[I]:g.make(),E[I]=g.validate(H,E[I],C);return E},equals(B,E){var C=B.length;const H=E.length;if(C!==H)return!1;C=Math.min(C,H);for(let I=0,K=C,O=0<=K;O?I<K:I>K;O?I++:I--)if("function"!==typeof g.equals||!g.equals(B[I],E[I]))return!1;
return!0},lerp:w,op:x,clone(B){return Array.from(B).map(E=>g.clone(E))}}},letters(g,r,u=null){if(null!=u){u===""+u&&(u=u.split(""));for(let x=0;x<u.length;x++){const B=u[x];u[x]=g.validate(B,B)}}const w=k.array(g,r,u);return{uniform(){return w.uniform()},make(){return w.make()},validate(x,B,E){x===""+x&&(x=x.split(""));return w.validate(x,B,E)},equals(x,B){return w.equals(x,B)},clone:w.clone}},nullable(g,r){null==r&&(r=!1);let u=r?g.make():null;return{make(){return u},validate(w,x,B){if(null===w)return w;
null===x&&(x=g.make());return g.validate(w,x,B)},uniform(){return"function"===typeof g.uniform?g.uniform():void 0},equals(w,x){let B;const E=null===w,C=null===x;return E&&C?!0:E^C?!1:null!=(B="function"===typeof g.equals?g.equals(w,x):void 0)?B:w===x},lerp:g.lerp?function(w,x,B,E){if(null===w||null===x)return.5>E?w:x;null==B&&(B=g.make());u=g.lerp(w,x,B,E);return B}:void 0,op:g.op?function(w,x,B,E){if(null===w||null===x)return null;null==B&&(B=g.make());return u=g.op(w,x,B,E)}:void 0,emitter:g.emitter?
function(w,x){return null==x?w:null==w?x:g.emitter(w,x)}:void 0}},enum(g,r,u){let w;null==r&&(r=[]);null==u&&(u={});let x=0;const B={};for(w of Array.from(r))w!==+w&&null==u[w]&&(u[w]=x++);for(w of Array.from(r))w===+w&&(B[w]=w);for(w in u)x=u[w],B[x]=!0;null==B[g]&&(g=u[g]);return{enum(){return u},make(){return g},validate(E,C,H){E=B[E]?E:u[E];return null!=E?E:H()}}},enumber(g,r,u){null==u&&(u={});const w=k.enum(g,r,u);return{enum:w.enum,uniform(){return"f"},make(){let x;return null!=(x=w.make())?
x:+g},validate(x,B,E){return x===+x?x:w.validate(x,B,E)},op(x,B,E,C){return C(x,B)}}},select(g){null==g&&(g="\x3c");g;return{make(){return g},validate(r,u,w){return"string"===typeof r||"object"===typeof r?r:w()}}},bool(g){g=!!g;return{uniform(){return"f"},make(){return g},validate(r,u,w){return!!r}}},int(g){null==g&&(g=0);g=+Math.round(g);return{uniform(){return"i"},make(){return g},validate(r,u,w){let x;return r!==(x=+r)?w():Math.round(x)||0},op(r,u,w,x){return x(r,u)}}},round(g){null==g&&(g=0);
g=+Math.round(g);return{uniform(){return"f"},make(){return g},validate(r,u,w){let x;return r!==(x=+r)?w():Math.round(x)||0},op(r,u,w,x){return x(r,u)}}},number(g){null==g&&(g=0);return{uniform(){return"f"},make(){return+g},validate(r,u,w){let x;return r!==(x=+r)?w():x||0},op(r,u,w,x){return x(r,u)}}},positive(g,r){null==r&&(r=!1);return{uniform:g.uniform,make:g.make,validate(u,w,x){u=g.validate(u,w,x);return 0>u||r&&0>=u?x():u},op(u,w,x,B){return B(u,w)}}},string(g){null==g&&(g="");return{make(){return""+
g},validate(r,u,w){let x;return r!==(x=""+r)?w():x}}},func(){return{make(){return function(){}},validate(g,r,u){return"function"===typeof g?g:u()}}},emitter(){return{make(){return g=>g(1,1,1,1)},validate(g,r,u){return"function"===typeof g?g:u()},emitter(g,r){return e.getLerpEmitter(g,r)}}},object(g){return{make(){return null!=g?g:{}},validate(r,u,w){return"object"===typeof r?r:w()},clone(r){return JSON.parse(JSON.stringify(r))}}},timestamp(g=null){"string"===typeof g&&(g=Date.parse(g));return{uniform(){return"f"},
make(){return null!=g?g:+new Date},validate(r,u,w){r=Date.parse(r);return r!==+r?w():r},op(r,u,w,x){return x(r,u)}}},vec2(g,r){null==g&&(g=0);null==r&&(r=0);const u=[g,r];return{uniform(){return"v2"},make(){return new h.Vector2(g,r)},validate(w,x,B){w===+w&&(w=[w]);if(null===w||void 0===w?0:w.isVector2)x.copy(w);else if(w instanceof Array)w=w.concat(u.slice(w.length)),x.set.apply(x,w);else if(null!=w)x.set(null!=w.x?w.x:g,null!=w.y?w.y:r);else return B();return x},equals(w,x){return w.x===x.x&&w.y===
x.y},op(w,x,B,E){B.x=E(w.x,x.x);B.y=E(w.y,x.y);return B}}},ivec2(g,r){null==g&&(g=0);null==r&&(r=0);g=k.vec2(g,r);const {validate:u}=g;g.validate=function(w,x,B){u(w,x,B);x.x=Math.round(x.x);x.y=Math.round(x.y);return x};return g},vec3(g,r,u){null==g&&(g=0);null==r&&(r=0);null==u&&(u=0);const w=[g,r,u];return{uniform(){return"v3"},make(){return new h.Vector3(g,r,u)},validate(x,B,E){x===+x&&(x=[x]);if(null===x||void 0===x?0:x.isVector3)B.copy(x);else if(x instanceof Array)x=x.concat(w.slice(x.length)),
B.set.apply(B,x);else if(null!=x)B.set(null!=x.x?x.x:g,null!=x.y?x.y:r,null!=x.z?x.z:u);else return E();return B},equals(x,B){return x.x===B.x&&x.y===B.y&&x.z===B.z},op(x,B,E,C){E.x=C(x.x,B.x);E.y=C(x.y,B.y);E.z=C(x.z,B.z);return E}}},ivec3(g,r,u){null==g&&(g=0);null==r&&(r=0);null==u&&(u=0);g=k.vec3(g,r,u);const {validate:w}=g;g.validate=function(x,B,E){w(x,B,E);B.x=Math.round(B.x);B.y=Math.round(B.y);B.z=Math.round(B.z);return B};return g},vec4(g,r,u,w){null==g&&(g=0);null==r&&(r=0);null==u&&(u=
0);null==w&&(w=0);const x=[g,r,u,w];return{uniform(){return"v4"},make(){return new h.Vector4(g,r,u,w)},validate(B,E,C){B===+B&&(B=[B]);if(null===B||void 0===B?0:B.isVector4)E.copy(B);else if(B instanceof Array)B=B.concat(x.slice(B.length)),E.set.apply(E,B);else if(null!=B)E.set(null!=B.x?B.x:g,null!=B.y?B.y:r,null!=B.z?B.z:u,null!=B.w?B.w:w);else return C();return E},equals(B,E){return B.x===E.x&&B.y===E.y&&B.z===E.z&&B.w===E.w},op(B,E,C,H){C.x=H(B.x,E.x);C.y=H(B.y,E.y);C.z=H(B.z,E.z);C.w=H(B.w,E.w);
return C}}},ivec4(g,r,u,w){null==g&&(g=0);null==r&&(r=0);null==u&&(u=0);null==w&&(w=0);g=k.vec4(g,r,u,w);const {validate:x}=g;g.validate=function(B,E,C){x(B,E,C);E.x=Math.round(E.x);E.y=Math.round(E.y);E.z=Math.round(E.z);E.w=Math.round(E.w);return E};return g},mat3(g,r,u,w,x,B,E,C,H){null==g&&(g=1);null==r&&(r=0);null==u&&(u=0);null==w&&(w=0);null==x&&(x=1);null==B&&(B=0);null==E&&(E=0);null==C&&(C=0);null==H&&(H=1);const I=[g,r,u,w,x,B,E,C,H];return{uniform(){return"m4"},make(){const K=new h.Matrix3;
K.set(g,r,u,w,x,B,E,C,H);return K},validate(K,O,Q){if(null===K||void 0===K?0:K.isMatrix3)O.copy(K);else if(K instanceof Array)K=K.concat(I.slice(K.length)),O.set.apply(O,K);else return Q();return O}}},mat4(g,r,u,w,x,B,E,C,H,I,K,O,Q,W,R,X){null==g&&(g=1);null==r&&(r=0);null==u&&(u=0);null==w&&(w=0);null==x&&(x=0);null==B&&(B=1);null==E&&(E=0);null==C&&(C=0);null==H&&(H=0);null==I&&(I=0);null==K&&(K=1);null==O&&(O=0);null==Q&&(Q=0);null==W&&(W=0);null==R&&(R=0);null==X&&(X=1);const ca=[g,r,u,w,x,B,
E,C,H,I,K,O,Q,W,R,X];return{uniform(){return"m4"},make(){const ka=new h.Matrix4;ka.set(g,r,u,w,x,B,E,C,H,I,K,O,Q,W,R,X);return ka},validate(ka,la,Aa){if(null===ka||void 0===ka?0:ka.isMatrix4)la.copy(ka);else if(ka instanceof Array)ka=ka.concat(ca.slice(ka.length)),la.set.apply(la,ka);else return Aa();return la}}},quat(g,r,u,w){null==g&&(g=0);null==r&&(r=0);null==u&&(u=0);null==w&&(w=1);const x=k.vec4(g,r,u,w);return{uniform(){return"v4"},make(){return new h.Quaternion},validate(B,E,C){(null===B||
void 0===B?0:B.isQuaternion)?E.copy(B):E=x.validate(B,E,C);E.normalize();return E},equals(B,E){return B.x===E.x&&B.y===E.y&&B.z===E.z&&B.w===E.w},op(B,E,C,H){C.x=H(B.x,E.x);C.y=H(B.y,E.y);C.z=H(B.z,E.z);C.w=H(B.w,E.w);C.normalize();return C},lerp(B,E,C,H){C.slerpQuaternions?C.slerpQuaternions(B,E,H):h.Quaternion.slerp(B,E,C,H);return C}}},color(g,r,u){null==g&&(g=.5);null==r&&(r=.5);null==u&&(u=.5);const w=[g,r,u];return{uniform(){return"c"},make(){return new h.Color(g,r,u)},validate(x,B,E){x===""+
x?x=(new h.Color).setStyle(x):x===+x&&(x=new h.Color(x));if(null===x||void 0===x?0:x.isColor)B.copy(x);else if(x instanceof Array)x=x.concat(w.slice(x.length)),B.setRGB.apply(B,x);else if(null!=x)B.set(null!=x.r?x.r:g,null!=x.g?x.g:r,null!=x.b?x.b:u);else return E();return B},equals(x,B){return x.r===B.r&&x.g===B.g&&x.b===B.b},op(x,B,E,C){E.r=C(x.r,B.r);E.g=C(x.g,B.g);E.b=C(x.b,B.b);return E}}},axis(g,r){let u;null==g&&(g=1);null==r&&(r=!1);const w={x:1,y:2,z:3,w:4,W:1,H:2,D:3,I:4,zero:0,null:0,width:1,
height:2,depth:3,items:4},x=r?[0,1,2,3,4]:[1,2,3,4];null!=(u=w[g])&&(g=u);return{make(){return g},validate(B,E,C){let H;null!=(u=w[B])&&(B=u);B=null!=(H=Math.round(B))?H:0;return Array.from(x).includes(B)?B:C()}}},transpose(g){null==g&&(g=[1,2,3,4]);const r=k.letters(k.axis(null,!1),0,g),u=k.letters(k.axis(null,!1),4,g);return{make(){return u.make()},validate(w,x,B){let E=[1,2,3,4];r.validate(w,E,B);4>E.length&&(w=[1,2,3,4].filter(C=>-1===E.indexOf(C)),E=E.concat(w));return 0>Array.from(E).map((C,
H)=>E.indexOf(C)===H).indexOf(!1)?u.validate(E,x,B):B()},equals:u.equals,clone:u.clone}},swizzle(g,r=null){null==g&&(g=[1,2,3,4]);null==r&&(r=g.length);g=g.slice(0,r);const u=k.letters(k.axis(null,!1),0,g),w=k.letters(k.axis(null,!0),r,g);return{make(){return w.make()},validate(x,B,E){let C=g.slice();u.validate(x,C,E);C.length<r&&(C=C.concat([0,0,0,0]).slice(0,r));return w.validate(C,B,E)},equals:w.equals,clone:w.clone}},classes(){const g=k.array(k.string());return{make(){return g.make()},validate(r,
u,w){r===""+r&&(r=r.split(" "));r=r.filter(x=>!!x.length);return g.validate(r,u,w)},equals:g.equals,clone:g.clone}},blending(g){null==g&&(g="normal");return k.enum(g,"no normal add subtract multiply custom".split(" "))},filter(g){null==g&&(g="nearest");return k.enum(g,[],{nearest:h.NearestFilter,nearestMipMapNearest:h.NearestMipMapNearestFilter,nearestMipMapLinear:h.NearestMipMapLinearFilter,linear:h.LinearFilter,linearMipMapNearest:h.LinearMipMapNearestFilter,linearMipmapLinear:h.LinearMipMapLinearFilter})},
type(g){null==g&&(g="unsignedByte");return k.enum(g,[],{unsignedByte:h.UnsignedByteType,byte:h.ByteType,short:h.ShortType,unsignedShort:h.UnsignedShortType,int:h.IntType,unsignedInt:h.UnsignedIntType,float:h.FloatType})},scale(g){null==g&&(g="linear");return k.enum(g,["linear","log"])},mapping(g){null==g&&(g="relative");return k.enum(g,["relative","absolute"])},indexing(g){null==g&&(g="original");return k.enum(g,["original","final"])},shape(g){null==g&&(g="circle");return k.enum(g,"circle square diamond up down left right".split(" "))},
join(g){null==g&&(g="miter");return k.enum(g,["miter","round","bevel"])},stroke(g){null==g&&(g="solid");return k.enum(g,["solid","dotted","dashed"])},vertexPass(g){null==g&&(g="view");return k.enum(g,["data","view","world","eye"])},fragmentPass(g){null==g&&(g="light");return k.enum(g,["color","light","rgba"])},ease(g){null==g&&(g="linear");return k.enum(g,["linear","cosine","binary","hold"])},fit(g){null==g&&(g="contain");return k.enum(g,["x","y","contain","cover"])},anchor(g){null==g&&(g="middle");
return k.enumber(g,[],{first:1,middle:0,last:-1})},transitionState(g){null==g&&(g="enter");return k.enumber(g,[],{enter:-1,visible:0,exit:1})},font(g){null==g&&(g="sans-serif");const r=f.parseQuoted;g instanceof Array||(g=r(g));const u=k.array(k.string(),0,g);return{make(){return u.make()},validate(w,x,B){try{w instanceof Array||(w=r(w))}catch(E){return B()}w=w.filter(E=>!!E.length);return u.validate(w,x,B)},equals:u.equals,clone:u.clone}},data(g){null==g&&(g=[]);return{make(){return[]},validate(r,
u,w){return r instanceof Array?r:null!=(null!=r?r.length:void 0)?r:w()},emitter(r,u){return e.getLerpThunk(r,u)}}}});m.Types=k};
shadow$provide[307]=function(z,v,J,m){Object.defineProperty(m,"__esModule",{value:!0});m.Types=void 0;z=v(306).Types;m.Types=z};
shadow$provide[308]=function(z,v,J,m){Object.defineProperty(m,"__esModule",{value:!0});m.Traits=void 0;z=v(307);z={node:{id:z.Types.nullable(z.Types.string()),classes:z.Types.classes()},entity:{active:z.Types.bool(!0)},object:{visible:z.Types.bool(!0)},latch:{data:z.Types.nullable(z.Types.object()),deep:z.Types.nullable(z.Types.bool(!0))},unit:{scale:z.Types.nullable(z.Types.number()),fov:z.Types.nullable(z.Types.number()),focus:z.Types.nullable(z.Types.number(1),!0)},span:{range:z.Types.nullable(z.Types.vec2(-1,
1))},view:{range:z.Types.array(z.Types.vec2(-1,1),4)},view3:{position:z.Types.vec3(),quaternion:z.Types.quat(),rotation:z.Types.vec3(),scale:z.Types.vec3(1,1,1),eulerOrder:z.Types.swizzle("xyz")},view4:{position:z.Types.vec4(),scale:z.Types.vec4(1,1,1,1)},layer:{depth:z.Types.number(1),fit:z.Types.fit("y")},vertex:{pass:z.Types.vertexPass()},fragment:{pass:z.Types.fragmentPass(),gamma:z.Types.bool(!1)},transform3:{position:z.Types.vec3(),quaternion:z.Types.quat(),rotation:z.Types.vec3(),eulerOrder:z.Types.swizzle("xyz"),
scale:z.Types.vec3(1,1,1),matrix:z.Types.mat4(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1)},transform4:{position:z.Types.vec4(),scale:z.Types.vec4(1,1,1,1),matrix:z.Types.mat4(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1)},camera:{proxy:z.Types.bool(!1),position:z.Types.nullable(z.Types.vec3()),quaternion:z.Types.nullable(z.Types.quat()),rotation:z.Types.nullable(z.Types.vec3()),lookAt:z.Types.nullable(z.Types.vec3()),up:z.Types.nullable(z.Types.vec3()),eulerOrder:z.Types.swizzle("xyz"),fov:z.Types.nullable(z.Types.number(1))},
polar:{bend:z.Types.number(1),helix:z.Types.number(0)},spherical:{bend:z.Types.number(1)},stereographic:{bend:z.Types.number(1)},interval:{axis:z.Types.axis()},area:{axes:z.Types.swizzle([1,2],2)},volume:{axes:z.Types.swizzle([1,2,3],3)},origin:{origin:z.Types.vec4()},scale:{divide:z.Types.number(10),unit:z.Types.number(1),base:z.Types.number(10),mode:z.Types.scale(),start:z.Types.bool(!0),end:z.Types.bool(!0),zero:z.Types.bool(!0),factor:z.Types.positive(z.Types.number(1)),nice:z.Types.bool(!0)},
grid:{lineX:z.Types.bool(!0),lineY:z.Types.bool(!0),crossed:z.Types.bool(!1),closedX:z.Types.bool(!1),closedY:z.Types.bool(!1)},axis:{detail:z.Types.int(1),crossed:z.Types.bool(!1)},data:{data:z.Types.nullable(z.Types.data()),expr:z.Types.nullable(z.Types.emitter()),bind:z.Types.nullable(z.Types.func()),live:z.Types.bool(!0)},buffer:{channels:z.Types.enum(4,[1,2,3,4]),items:z.Types.int(1),fps:z.Types.nullable(z.Types.int(60)),hurry:z.Types.int(5),limit:z.Types.int(60),realtime:z.Types.bool(!1),observe:z.Types.bool(!1),
aligned:z.Types.bool(!1)},sampler:{centered:z.Types.bool(!1),padding:z.Types.number(0)},array:{width:z.Types.nullable(z.Types.positive(z.Types.int(1),!0)),bufferWidth:z.Types.int(1),history:z.Types.int(1)},matrix:{width:z.Types.nullable(z.Types.positive(z.Types.int(1),!0)),height:z.Types.nullable(z.Types.positive(z.Types.int(1),!0)),history:z.Types.int(1),bufferWidth:z.Types.int(1),bufferHeight:z.Types.int(1)},voxel:{width:z.Types.nullable(z.Types.positive(z.Types.int(1),!0)),height:z.Types.nullable(z.Types.positive(z.Types.int(1),
!0)),depth:z.Types.nullable(z.Types.positive(z.Types.int(1),!0)),bufferWidth:z.Types.int(1),bufferHeight:z.Types.int(1),bufferDepth:z.Types.int(1)},resolve:{expr:z.Types.nullable(z.Types.func()),items:z.Types.int(1)},style:{opacity:z.Types.positive(z.Types.number(1)),color:z.Types.color(),blending:z.Types.blending(),zWrite:z.Types.bool(!0),zTest:z.Types.bool(!0),zIndex:z.Types.positive(z.Types.round()),zBias:z.Types.number(0),zOrder:z.Types.nullable(z.Types.int())},geometry:{points:z.Types.select(),
colors:z.Types.nullable(z.Types.select())},point:{size:z.Types.positive(z.Types.number(4)),sizes:z.Types.nullable(z.Types.select()),shape:z.Types.shape(),optical:z.Types.bool(!0),fill:z.Types.bool(!0),depth:z.Types.number(1)},line:{width:z.Types.positive(z.Types.number(2)),depth:z.Types.positive(z.Types.number(1)),join:z.Types.join(),stroke:z.Types.stroke(),proximity:z.Types.nullable(z.Types.number(Infinity)),closed:z.Types.bool(!1)},mesh:{fill:z.Types.bool(!0),shaded:z.Types.bool(!1),normals:z.Types.nullable(z.Types.select()),
map:z.Types.nullable(z.Types.select()),lineBias:z.Types.number(5)},strip:{line:z.Types.bool(!1)},face:{line:z.Types.bool(!1)},arrow:{size:z.Types.number(3),start:z.Types.bool(!1),end:z.Types.bool(!1)},ticks:{normal:z.Types.vec3(0,0,1),size:z.Types.positive(z.Types.number(10)),epsilon:z.Types.positive(z.Types.number(.001))},attach:{offset:z.Types.vec2(0,-20),snap:z.Types.bool(!1),depth:z.Types.number(0)},format:{digits:z.Types.nullable(z.Types.positive(z.Types.number(3))),data:z.Types.nullable(z.Types.data()),
expr:z.Types.nullable(z.Types.func()),live:z.Types.bool(!0)},font:{font:z.Types.font("sans-serif"),style:z.Types.string(),variant:z.Types.string(),weight:z.Types.string(),detail:z.Types.number(24),sdf:z.Types.number(5)},label:{text:z.Types.select(),size:z.Types.number(16),outline:z.Types.number(2),expand:z.Types.number(0),background:z.Types.color(1,1,1)},overlay:{opacity:z.Types.number(1),zIndex:z.Types.positive(z.Types.round(0))},dom:{points:z.Types.select(),html:z.Types.select(),size:z.Types.number(16),
outline:z.Types.number(2),zoom:z.Types.number(1),color:z.Types.nullable(z.Types.color()),attributes:z.Types.nullable(z.Types.object()),pointerEvents:z.Types.bool(!1)},texture:{minFilter:z.Types.filter("nearest"),magFilter:z.Types.filter("nearest"),type:z.Types.type("float")},shader:{sources:z.Types.nullable(z.Types.select()),indices:z.Types.number(4),channels:z.Types.number(4),language:z.Types.string("glsl"),code:z.Types.string(),uniforms:z.Types.nullable(z.Types.object())},include:{shader:z.Types.select()},
operator:{source:z.Types.select()},spread:{unit:z.Types.mapping(),items:z.Types.nullable(z.Types.vec4()),width:z.Types.nullable(z.Types.vec4()),height:z.Types.nullable(z.Types.vec4()),depth:z.Types.nullable(z.Types.vec4()),alignItems:z.Types.anchor(),alignWidth:z.Types.anchor(),alignHeight:z.Types.anchor(),alignDepth:z.Types.anchor()},grow:{scale:z.Types.number(1),items:z.Types.nullable(z.Types.anchor()),width:z.Types.nullable(z.Types.anchor()),height:z.Types.nullable(z.Types.anchor()),depth:z.Types.nullable(z.Types.anchor())},
split:{order:z.Types.transpose("wxyz"),axis:z.Types.nullable(z.Types.axis()),length:z.Types.int(1),overlap:z.Types.int(0)},join:{order:z.Types.transpose("wxyz"),axis:z.Types.nullable(z.Types.axis()),overlap:z.Types.int(0)},swizzle:{order:z.Types.swizzle()},transpose:{order:z.Types.transpose()},repeat:{items:z.Types.number(1),width:z.Types.number(1),height:z.Types.number(1),depth:z.Types.number(1)},slice:{items:z.Types.nullable(z.Types.vec2()),width:z.Types.nullable(z.Types.vec2()),height:z.Types.nullable(z.Types.vec2()),
depth:z.Types.nullable(z.Types.vec2())},reverse:{items:z.Types.bool(!1),width:z.Types.bool(!1),height:z.Types.bool(!1),depth:z.Types.bool(!1)},lerp:{size:z.Types.mapping("absolute"),items:z.Types.nullable(z.Types.number()),width:z.Types.nullable(z.Types.number()),height:z.Types.nullable(z.Types.number()),depth:z.Types.nullable(z.Types.number())},subdivide:{items:z.Types.nullable(z.Types.positive(z.Types.int(),!0)),width:z.Types.nullable(z.Types.positive(z.Types.int(),!0)),height:z.Types.nullable(z.Types.positive(z.Types.int(),
!0)),depth:z.Types.nullable(z.Types.positive(z.Types.int(),!0)),bevel:z.Types.number(1),lerp:z.Types.bool(!0)},resample:{indices:z.Types.number(4),channels:z.Types.number(4),sample:z.Types.mapping(),size:z.Types.mapping("absolute"),items:z.Types.nullable(z.Types.number()),width:z.Types.nullable(z.Types.number()),height:z.Types.nullable(z.Types.number()),depth:z.Types.nullable(z.Types.number())},readback:{type:z.Types.type("float"),expr:z.Types.nullable(z.Types.func()),data:z.Types.data(),channels:z.Types.enum(4,
[1,2,3,4]),items:z.Types.nullable(z.Types.int()),width:z.Types.nullable(z.Types.int()),height:z.Types.nullable(z.Types.int()),depth:z.Types.nullable(z.Types.int())},root:{speed:z.Types.number(1),camera:z.Types.select("[camera]")},inherit:{source:z.Types.select(),traits:z.Types.array(z.Types.string())},rtt:{size:z.Types.mapping("absolute"),width:z.Types.nullable(z.Types.number()),height:z.Types.nullable(z.Types.number()),history:z.Types.int(1)},compose:{alpha:z.Types.bool(!1)},present:{index:z.Types.int(1),
directed:z.Types.bool(!0),length:z.Types.number(0)},slide:{order:z.Types.nullable(z.Types.int(0)),steps:z.Types.number(1),early:z.Types.int(0),late:z.Types.int(0),from:z.Types.nullable(z.Types.int(0)),to:z.Types.nullable(z.Types.int(1))},transition:{stagger:z.Types.vec4(),enter:z.Types.nullable(z.Types.number(1)),exit:z.Types.nullable(z.Types.number(1)),delay:z.Types.number(0),delayEnter:z.Types.nullable(z.Types.number(0)),delayExit:z.Types.nullable(z.Types.number(0)),duration:z.Types.number(.3),
durationEnter:z.Types.nullable(z.Types.number(0)),durationExit:z.Types.nullable(z.Types.number(0))},move:{from:z.Types.vec4(),to:z.Types.vec4()},seek:{seek:z.Types.nullable(z.Types.number(0))},track:{target:z.Types.select(),script:z.Types.object({}),ease:z.Types.ease("cosine")},trigger:{trigger:z.Types.nullable(z.Types.int(1),!0)},step:{playback:z.Types.ease("linear"),stops:z.Types.nullable(z.Types.array(z.Types.number())),delay:z.Types.number(0),duration:z.Types.number(.3),pace:z.Types.number(0),
speed:z.Types.number(1),rewind:z.Types.number(2),skip:z.Types.bool(!0),realtime:z.Types.bool(!1)},play:{delay:z.Types.number(0),pace:z.Types.number(1),speed:z.Types.number(1),from:z.Types.number(0),to:z.Types.number(Infinity),realtime:z.Types.bool(!1),loop:z.Types.bool(!1)},now:{now:z.Types.nullable(z.Types.timestamp()),seek:z.Types.nullable(z.Types.number(0)),pace:z.Types.number(1),speed:z.Types.number(1)}};m.Traits=z};
shadow$provide[309]=function(z,v,J,m){Object.defineProperty(m,"__esModule",{value:!0});m.make=m.log=m.linear=void 0;const t=function(n,c,e,f,h,k,g,r,u,w){let x,B;null==w&&(w=!0);e||(e=10);f||(f=1);h||(h=10);k||(k=1);const E=(c-n)/e;if(!w)return c=(()=>{let O,Q;const W=[];x=0;Q=e;for(O=0<=Q;O?x<=Q:x>=Q;O?x++:x--)W.push(n+x*E);return W})(),g||c.shift(),r||c.pop(),u||(c=c.filter(O=>0!==O)),c;f||(f=1);h||(h=10);const C=f*Math.pow(h,Math.floor(Math.log(E/f)/Math.log(h))),H=0===h%2?[h/2,1,.5]:0===h%3?[h/
3,1,1/3]:[1];f=(()=>{const O=[];for(B of Array.from(H))O.push(C*B);return O})();let I=Infinity,K=f.reduce(function(O,Q){B=Q/E;const W=Math.max(B,1/B);return W<I?(I=W,Q):O},C);K*=k;n=Math.ceil(n/K+ +!g)*K;c=(Math.floor(c/K)-+!r)*K;e=Math.ceil((c-n)/K);c=(()=>{let O,Q;const W=[];x=0;Q=e;for(O=0<=Q;O?x<=Q:x>=Q;O?x++:x--)W.push(n+x*K);return W})();u||(c=c.filter(O=>0!==O));return c};m.linear=t;const p=function(n,c,e,f,h,k,g,r,u,w){throw Error("Log ticks not yet implemented.");};m.log=p;m.make=function(n,
c,e,f,h,k,g,r,u,w,x){switch(n){case 0:return t(c,e,f,h,k,g,r,u,w,x);case 1:return p(c,e,f,h,k,g,r,u,w,x)}}};
shadow$provide[310]=function(z,v,J,m){function t(k){if("function"!==typeof WeakMap)return null;var g=new WeakMap,r=new WeakMap;return(t=function(u){return u?r:g})(k)}function p(k,g){if(!g&&k&&k.__esModule)return k;if(null===k||"object"!==typeof k&&"function"!==typeof k)return{default:k};if((g=t(g))&&g.has(k))return g.get(k);var r={},u=Object.defineProperty&&Object.getOwnPropertyDescriptor,w;for(w in k)if("default"!==w&&Object.prototype.hasOwnProperty.call(k,w)){var x=u?Object.getOwnPropertyDescriptor(k,
w):null;x&&(x.get||x.set)?Object.defineProperty(r,w,x):r[w]=k[w]}r.default=k;g&&g.set(k,r);return r}function n(k,g){return"undefined"!==typeof k&&null!==k?g(k):void 0}Object.defineProperty(m,"__esModule",{value:!0});m.Helpers=void 0;var c=p(v(100)),e=p(v(309)),f=v(2);const h={bind:{make(k){null==this.bind&&(this.bind={});null==this.bound&&(this.bound=[]);for(const r of Array.from(k)){({callback:k}=r);const {to:u,trait:w,optional:x,unique:B,multiple:E}=r;null==k&&(k=this.rebuild);const C=u.split(/\./g).pop(),
H=this._get(u);let I=null;if(null!=H){let K=this;for(var g=!1;!g;)K=I=this._attach(H,w,k,this,K,x,E),g=B&&(null==I||0>this.bound.indexOf(I)),g=E||x||!B||g}if(null!=I)if(null!=this.resize&&this._listen(I,"source.resize",this.resize),k&&this._listen(I,"source.rebuild",k),E)for(const K of Array.from(I))this.bound.push(K);else this.bound.push(I);this.bind[C]=I}return null},unmake(){if(this.bind)return delete this.bind,delete this.bound}},span:{make(){this.spanView=this._inherit("view");return this._listen("view",
"view.range",()=>this.trigger({type:"span.range"}))},unmake(){return delete this.spanView},get:function(){const k=new f.Vector2(-1,1);return function(g,r){let u;g=this._get(g+"span.range");return null!=g?g:null!=(u=null!=this.spanView?this.spanView.axis(r):void 0)?u:k}}()},scale:{divide(k){const g=this._get(k+"scale.divide");k=this._get(k+"scale.factor");return Math.round(2.5*g/k)},generate(k,g,r,u){const w=this._get(k+"scale.mode"),x=this._get(k+"scale.divide"),B=this._get(k+"scale.unit"),E=this._get(k+
"scale.base"),C=this._get(k+"scale.factor"),H=this._get(k+"scale.start"),I=this._get(k+"scale.end"),K=this._get(k+"scale.zero");k=this._get(k+"scale.nice");r=e.make(w,r,u,x,B,E,C,H,I,K,k);g.copy(r);return r}},style:{uniforms(){return{styleColor:this.node.attributes["style.color"],styleOpacity:this.node.attributes["style.opacity"],styleZBias:this.node.attributes["style.zBias"],styleZIndex:this.node.attributes["style.zIndex"]}}},arrow:{uniforms(){var {start:k}=this.props,{end:g}=this.props;const r=
this._attributes.make(this._types.number(1.25/(k+g)));k=this._attributes.make(this._types.vec2(+k,+g));g=this.node.attributes["arrow.size"];return{clipStyle:k,clipRange:g,clipSpace:r,arrowSpace:r,arrowSize:g}}},point:{uniforms(){return{pointSize:this.node.attributes["point.size"],pointDepth:this.node.attributes["point.depth"]}}},line:{uniforms(){return{lineWidth:this.node.attributes["line.width"],lineDepth:this.node.attributes["line.depth"],lineProximity:this.node.attributes["line.proximity"]}}},
surface:{uniforms(){return{}}},shade:{pipeline(k){if(!this._inherit("fragment"))return k;null==k&&(k=this._shaders.shader());for(let g=0;2>=g;g++)k=n(this._inherit("fragment"),r=>r.fragment(k,g));k.pipe("fragment.map.rgba");return k},normal(k){k.pipe(c.swizzleVec4("xyz"));return k},map(k){return k?this._shaders.shader().pipe("mesh.map.uvwo").pipe(k):k}},position:{pipeline(k){if(!this._inherit("vertex"))return k;null==k&&(k=this._shaders.shader());for(let g=0;3>=g;g++)k=n(this._inherit("vertex"),r=>
r.vertex(k,g));return k},swizzle(k,g){if(k)return this._shaders.shader().pipe(c.swizzleVec4(g)).pipe(k)},swizzle2(k,g,r){if(k)return this._shaders.shader().split().pipe(c.swizzleVec4(g)).next().pipe(c.swizzleVec4(r)).join().pipe(k)}},visible:{make(){const k={type:"visible.change"};let g=null;this.setVisible=function(w){null!=w&&(g=w);return r()};const r=()=>{let w;const x=this.isVisible;let B=null!=(w=null!=g?g:this._get("object.visible"))?w:!0;null!=u&&B&&(B=u.isVisible);this.isVisible=B;if(x!==
this.isVisible)return this.trigger(k)},u=this._inherit("visible");u&&this._listen(u,"visible.change",r);this.is("object")&&this._listen(this.node,"change:object",r);return r()},unmake(){return delete this.isVisible}},active:{make(){const k={type:"active.change"};let g=null;this.setActive=function(w){null!=w&&(g=w);return r()};const r=()=>{let w;const x=this.isActive;let B=null!=(w=null!=g?g:this._get("entity.active"))?w:!0;null!=u&&B&&(B=u.isActive);this.isActive=B;if(x!==this.isActive)return this.trigger(k)},
u=this._inherit("active");u&&this._listen(u,"active.change",r);this.is("entity")&&this._listen(this.node,"change:entity",r);return r()},unmake(){return delete this.isActive}},object:{make(k){let g,r;null==k&&(k=[]);this.objects=k;this.renders=this.objects.reduce((C,H)=>C.concat(H.renders),[]);k=this._inherit("scene");let u=g=r=null;const w=Array.from(this.traits).includes("style");u=1;g=f.NormalBlending;let x=!0,B=!0;w&&({opacity:u}=this.props,{blending:g}=this.props,{zOrder:r}=this.props,{zWrite:x}=
this.props,{zTest:B}=this.props);const E=()=>{const C=null!=r?-r:this.node.order;return(null!=this.isVisible?this.isVisible:1)&&0<u?w?(()=>{const H=[];for(const I of Array.from(this.objects))I.show(1>u,g,C),H.push(I.depth(x,B));return H})():(()=>{const H=[];for(const I of Array.from(this.objects))H.push(I.show(!0,g,C));return H})():(()=>{const H=[];for(const I of Array.from(this.objects))H.push(I.hide());return H})()};this._listen(this.node,"change:style",C=>{({changed:C}=C);let H=null;C["style.opacity"]&&
(H=u=this.props.opacity);C["style.blending"]&&(H=g=this.props.blending);C["style.zOrder"]&&(H=r=this.props.zOrder);C["style.zWrite"]&&(H=x=this.props.zWrite);C["style.zTest"]&&(H=B=this.props.zTest);if(null!=H)return E()});this._listen(this.node,"reindex",E);this._listen(this,"visible.change",E);for(const C of Array.from(this.objects))k.adopt(C);return E()},unmake(k){let g;null==k&&(k=!0);if(this.objects){var r=this._inherit("scene");for(g of Array.from(this.objects))r.unadopt(g);if(k)return(()=>
{const u=[];for(g of Array.from(this.objects))u.push(g.dispose());return u})()}},mask(){let k;if(k=this._inherit("mask"))return k.mask(void 0)}},unit:{make(){let k,g,r,u,w,x,B,E,C,H,I,K,O=Math.PI;this.unitUniforms={renderScaleInv:E=this._attributes.make(this._types.number(1)),renderScale:B=this._attributes.make(this._types.number(1)),renderAspect:u=this._attributes.make(this._types.number(1)),renderWidth:C=this._attributes.make(this._types.number(0)),renderHeight:w=this._attributes.make(this._types.number(0)),
viewWidth:I=this._attributes.make(this._types.number(0)),viewHeight:H=this._attributes.make(this._types.number(0)),pixelRatio:g=this._attributes.make(this._types.number(1)),pixelUnit:r=this._attributes.make(this._types.number(1)),worldUnit:K=this._attributes.make(this._types.number(1)),focusDepth:k=this._attributes.make(this._types.number(1)),renderOdd:x=this._attributes.make(this._types.vec2())};const Q=new f.Vector3,W=new f.Vector3,R=()=>{var ca;let ka;if(null!=(ka=null!=X?X.getSize():void 0)){O=
Math.PI;var {scale:la}=this.props,{fov:Aa}=this.props,ta=null!=this.props.focus?this.props.focus:this.inherit("unit").props.focus,Ha=null===la,Oa=1;if(ca=null!=X?X.getCamera():void 0)Oa=ca.projectionMatrix,Q.set(0,-.5,1).applyMatrix4(Oa),W.set(0,.5,1).applyMatrix4(Oa),Q.sub(W),Oa=Q.y;ca=ka.renderHeight/ka.viewHeight;Aa=null!=Aa?Oa*Math.tan(Aa*O/360):1;la=Ha?ca:ka.renderHeight/la*Aa;Ha=ka.renderHeight*Oa/2;I.value=ka.viewWidth;H.value=ka.viewHeight;C.value=ka.renderWidth;w.value=ka.renderHeight;u.value=
ka.aspect;B.value=Ha;E.value=1/Ha;g.value=ca;r.value=la;K.value=la/Ha;k.value=ta;return x.value.set(ka.renderWidth%2,ka.renderHeight%2).multiplyScalar(.5)}},X=this.is("root")?this:this._inherit("root");this._listen(X,"root.update",R);return R()},unmake(){return delete this.unitUniforms},get(){const k={};for(const g in this.unitUniforms)k[g]=this.unitUniforms[g].value;return k},uniforms(){return this.unitUniforms}}};m.Helpers=function(k,g){const r={};for(const u of Array.from(g))if(g=h[u]){r[u]={};
for(const w in g)r[u][w]=g[w].bind(k)}return r}};
shadow$provide[311]=function(z,v,J,m){Object.defineProperty(m,"__esModule",{value:!0});var t={Types:!0};Object.defineProperty(m,"Types",{enumerable:!0,get:function(){return n.Types}});var p=v(305);Object.keys(p).forEach(function(f){"default"!==f&&"__esModule"!==f&&(Object.prototype.hasOwnProperty.call(t,f)||f in m&&m[f]===p[f]||Object.defineProperty(m,f,{enumerable:!0,get:function(){return p[f]}}))});var n=v(307),c=v(308);Object.keys(c).forEach(function(f){"default"!==f&&"__esModule"!==f&&(Object.prototype.hasOwnProperty.call(t,
f)||f in m&&m[f]===c[f]||Object.defineProperty(m,f,{enumerable:!0,get:function(){return c[f]}}))});var e=v(310);Object.keys(e).forEach(function(f){"default"!==f&&"__esModule"!==f&&(Object.prototype.hasOwnProperty.call(t,f)||f in m&&m[f]===e[f]||Object.defineProperty(m,f,{enumerable:!0,get:function(){return e[f]}}))})};
shadow$provide[312]=function(z,v,J,m){Object.defineProperty(m,"__esModule",{value:!0});m.PrimitiveFactory=void 0;class t{constructor(p,n){this.context=n;this.classes=p.Classes;this.helpers=p.Helpers}getTypes(){return Object.keys(this.classes)}make(p,n,c=null){null==n&&(n={});const e=this.classes[p];if(null==e)throw Error(`Unknown primitive class \`${p}\``);p=new e.model(p,e.defaults,n,c,e,this.context.attributes);new e(p,this.context,this.helpers);return p}}m.PrimitiveFactory=t};
shadow$provide[313]=function(z,v,J,m){function t(e){if("function"!==typeof WeakMap)return null;var f=new WeakMap,h=new WeakMap;return(t=function(k){return k?h:f})(e)}Object.defineProperty(m,"__esModule",{value:!0});var p={Types:!0,Factory:!0};Object.defineProperty(m,"Factory",{enumerable:!0,get:function(){return n.PrimitiveFactory}});m.Types=void 0;z=function(e,f){if(!f&&e&&e.__esModule)return e;if(null===e||"object"!==typeof e&&"function"!==typeof e)return{default:e};if((f=t(f))&&f.has(e))return f.get(e);
var h={},k=Object.defineProperty&&Object.getOwnPropertyDescriptor,g;for(g in e)if("default"!==g&&Object.prototype.hasOwnProperty.call(e,g)){var r=k?Object.getOwnPropertyDescriptor(e,g):null;r&&(r.get||r.set)?Object.defineProperty(h,g,r):h[g]=e[g]}h.default=e;f&&f.set(e,h);return h}(v(311));var n=v(312),c=v(89);Object.keys(c).forEach(function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(p,e)||e in m&&m[e]===c[e]||Object.defineProperty(m,e,{enumerable:!0,get:function(){return c[e]}}))});
m.Types=z};
shadow$provide[314]=function(z,v,J,m){Object.defineProperty(m,"__esModule",{value:!0});m.Renderable=void 0;class t{constructor(p,n){this.renderer=p;this.shaders=n;this.gl=this.renderer.getContext();null==this.uniforms&&(this.uniforms={})}dispose(){this.uniforms=null}_adopt(p){for(const n in p)this.uniforms[n]=p[n]}_set(p){for(const n in p){const c=p[n];null!=this.uniforms[n]&&(this.uniforms[n].value=c)}}}m.Renderable=t};
shadow$provide[315]=function(z,v,J,m){Object.defineProperty(m,"__esModule",{value:!0});m.Scene=void 0;var t=v(2);z=v(314);class p extends t.Object3D{constructor(){super();this.matrixAutoUpdate=this.frustumCulled=this.rotationAutoUpdate=!1}}class n extends z.Renderable{constructor(c,e,f){super(c,e,f);this.root=new p;null!=(null!=f?f.scene:void 0)&&(this.scene=f.scene);null==this.scene&&(this.scene=new t.Scene);this.pending=[];this.async=0;this.scratch=new t.WebGLRenderTarget(1,1);this.camera=new t.PerspectiveCamera}inject(c){null!=
c&&(this.scene=c);return this.scene.add(this.root)}unject(){return null!=this.scene?this.scene.remove(this.root):void 0}add(c){return this.async?this.pending.push(c):this._add(c)}remove(c){this.pending=this.pending.filter(e=>e!==c);if(null!=c.parent)return this._remove(c)}_add(c){return this.root.add(c)}_remove(c){return this.root.remove(c)}dispose(){if(null!=this.root.parent)return this.unject()}warmup(c){return this.async=+c||0}render(){if(this.pending.length){var {children:c}=this.root,e=[];for(let k=
0,g=this.async,r=0<=g;r?k<g:k>g;r?k++:k--){var f=this.pending.shift();if(!f)break;this._add(f);e.push(e)}var h=c.map(function(k){return k.visible});c.map(k=>k.visible=!Array.from(e).includes(k));f=this.renderer.getRenderTarget();this.renderer.setRenderTarget(this.scratch);this.renderer.render(this.scene,this.camera);this.renderer.setRenderTarget(f);return c.map((k,g)=>k.visible=h[g])}}toJSON(){return this.root.toJSON()}}m.Scene=n};
shadow$provide[316]=function(z,v,J,m){Object.defineProperty(m,"__esModule",{value:!0});m.RenderFactory=void 0;class t{constructor(p,n,c){this.classes=p;this.renderer=n;this.shaders=c}getTypes(){return Object.keys(this.classes)}make(p,n){return new this.classes[p](this.renderer,this.shaders,n)}}m.RenderFactory=t};
shadow$provide[317]=function(z,v,J,m){function t(c){if("function"!==typeof WeakMap)return null;var e=new WeakMap,f=new WeakMap;return(t=function(h){return h?f:e})(c)}Object.defineProperty(m,"__esModule",{value:!0});m.Buffer=void 0;var p=function(c,e){if(!e&&c&&c.__esModule)return c;if(null===c||"object"!==typeof c&&"function"!==typeof c)return{default:c};if((e=t(e))&&e.has(c))return e.get(c);var f={},h=Object.defineProperty&&Object.getOwnPropertyDescriptor,k;for(k in c)if("default"!==k&&Object.prototype.hasOwnProperty.call(c,
k)){var g=h?Object.getOwnPropertyDescriptor(c,k):null;g&&(g.get||g.set)?Object.defineProperty(f,k,g):f[k]=c[k]}f.default=c;e&&e.set(c,f);return f}(v(99));z=v(314);class n extends z.Renderable{constructor(c,e,f){super(c,e);null==this.items&&(this.items=f.items||1);null==this.samples&&(this.samples=f.samples||1);null==this.channels&&(this.channels=f.channels||4);null==this.callback&&(this.callback=f.callback||function(){})}dispose(){return super.dispose()}update(){const c=this.fill();this.write(c);
return c}setActive(c,e,f,h){}setCallback(c){this.callback=c}write(){}fill(){}generate(c){return p.getStreamer(c,this.samples,this.channels,this.items)}}m.Buffer=n};
shadow$provide[318]=function(z,v,J,m){function t(f){if("function"!==typeof WeakMap)return null;var h=new WeakMap,k=new WeakMap;return(t=function(g){return g?k:h})(f)}function p(f,h){if(!h&&f&&f.__esModule)return f;if(null===f||"object"!==typeof f&&"function"!==typeof f)return{default:f};if((h=t(h))&&h.has(f))return h.get(f);var k={},g=Object.defineProperty&&Object.getOwnPropertyDescriptor,r;for(r in f)if("default"!==r&&Object.prototype.hasOwnProperty.call(f,r)){var u=g?Object.getOwnPropertyDescriptor(f,
r):null;u&&(u.get||u.set)?Object.defineProperty(k,r,u):k[r]=f[r]}k.default=f;h&&h.set(f,k);return k}Object.defineProperty(m,"__esModule",{value:!0});m.DataTexture=void 0;var n=p(v(2)),c=p(v(96));class e{constructor(f,h,k,g,r){this.renderer=f;this.width=h;this.height=k;this.channels=g;this.n=this.width*this.height*this.channels;this.gl=f=this.renderer.getContext();h=null!=(null!=r?r.magFilter:void 0)?null!=r?r.magFilter:void 0:n.NearestFilter;k=null!=(null!=r?r.type:void 0)?null!=r?r.type:void 0:n.FloatType;
this.minFilter=c.paramToGL(f,null!=(null!=r?r.minFilter:void 0)?null!=r?r.minFilter:void 0:n.NearestFilter);this.magFilter=c.paramToGL(f,h);this.type=c.paramToGL(f,k);this.ctor=c.paramToArrayStorage(k);this.build(r)}build(f){const {gl:h}=this,k=this.renderer.state;this.texture=h.createTexture();this.format=[null,h.LUMINANCE,h.LUMINANCE_ALPHA,h.RGB,h.RGBA][this.channels];this.format3=[null,n.LuminanceFormat,n.LuminanceAlphaFormat,n.RGBFormat,n.RGBAFormat][this.channels];k.bindTexture(h.TEXTURE_2D,
this.texture);h.texParameteri(h.TEXTURE_2D,h.TEXTURE_WRAP_S,h.CLAMP_TO_EDGE);h.texParameteri(h.TEXTURE_2D,h.TEXTURE_WRAP_T,h.CLAMP_TO_EDGE);h.texParameteri(h.TEXTURE_2D,h.TEXTURE_MIN_FILTER,this.minFilter);h.texParameteri(h.TEXTURE_2D,h.TEXTURE_MAG_FILTER,this.magFilter);this.data=new this.ctor(this.n);h.pixelStorei(h.UNPACK_ALIGNMENT,1);h.texImage2D(h.TEXTURE_2D,0,this.format,this.width,this.height,0,this.format,this.type,this.data);this.textureObject=new n.Texture(new Image,n.UVMapping,n.ClampToEdgeWrapping,
n.ClampToEdgeWrapping,null!=f?f.minFilter:void 0,null!=f?f.magFilter:void 0);this.textureProperties=this.renderer.properties.get(this.textureObject);this.textureProperties.__webglInit=!0;this.textureProperties.__webglTexture=this.texture;this.textureObject.format=this.format3;this.textureObject.type=n.FloatType;this.textureObject.unpackAlignment=1;this.textureObject.flipY=!1;this.textureObject.generateMipmaps=!1;this.uniforms={dataResolution:{type:"v2",value:new n.Vector2(1/this.width,1/this.height)},
dataTexture:{type:"t",value:this.textureObject}}}write(f,h,k,g,r){const {gl:u}=this;this.renderer.state.bindTexture(u.TEXTURE_2D,this.texture);u.pixelStorei(u.UNPACK_ALIGNMENT,1);u.pixelStorei(u.UNPACK_FLIP_Y_WEBGL,!1);u.pixelStorei(u.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!1);return u.texSubImage2D(u.TEXTURE_2D,0,h,k,g,r,this.format,this.type,f)}dispose(){this.gl.deleteTexture(this.texture);this.textureProperties.__webglInit=!1;return this.textureObject=this.texture=this.textureProperties=this.textureProperties.__webglTexture=
null}}m.DataTexture=e};
shadow$provide[319]=function(z,v,J,m){function t(k){if("function"!==typeof WeakMap)return null;var g=new WeakMap,r=new WeakMap;return(t=function(u){return u?r:g})(k)}function p(k,g){if(!g&&k&&k.__esModule)return k;if(null===k||"object"!==typeof k&&"function"!==typeof k)return{default:k};if((g=t(g))&&g.has(k))return g.get(k);var r={},u=Object.defineProperty&&Object.getOwnPropertyDescriptor,w;for(w in k)if("default"!==w&&Object.prototype.hasOwnProperty.call(k,w)){var x=u?Object.getOwnPropertyDescriptor(k,
w):null;x&&(x.get||x.set)?Object.defineProperty(r,w,x):r[w]=k[w]}r.default=k;g&&g.set(k,r);return r}Object.defineProperty(m,"__esModule",{value:!0});m.DataBuffer=void 0;var n=p(v(99)),c=p(v(100));z=v(317);var e=v(318),f=v(2);class h extends z.Buffer{constructor(k,g,r,u){null==u&&(u=!0);const w=r.width||1,x=r.height||1,B=r.depth||1,E=w*x*B;r.samples||(r.samples=E);super(k,g,r);this.width=w;this.height=x;this.depth=B;null==this.samples&&(this.samples=E);u&&this.build(r)}shader(k,g){null==g&&(g=4);1<
this.items||1<this.depth?(4!==g&&k.pipe(c.extendVec(g,4)),k.pipe("map.xyzw.texture",this.uniforms)):2!==g&&k.pipe(c.truncateVec(g,2));k.pipe(`map.2d.data${this.wrap?".wrap":""}`,this.uniforms);k.pipe("sample.2d",this.uniforms);4>this.channels&&k.pipe(c.swizzleVec4(["0000","x000","xw00","xyz0"][this.channels]));return k}build(k){this.data=new Float32Array(this.samples*this.channels*this.items);this.texture=new e.DataTexture(this.renderer,this.items*this.width,this.height*this.depth,this.channels,k);
this.used=this.filled=0;this._adopt(this.texture.uniforms);this._adopt({dataPointer:{type:"v2",value:new f.Vector2},textureItems:{type:"f",value:this.items},textureHeight:{type:"f",value:this.height}});this.dataPointer=this.uniforms.dataPointer.value;this.streamer=this.generate(this.data)}dispose(){this.data=null;this.texture.dispose();return super.dispose()}getFilled(){return this.filled}setCallback(k){this.callback=k;return this.filled=0}copy(k){const g=Math.min(k.length,this.samples*this.channels*
this.items),r=this.data;for(let u=0,w=g,x=0<=w;x?u<w:u>w;x?u++:u--)r[u]=k[u];this.write(Math.ceil(g/this.channels/this.items))}write(k){null==k&&(k=this.samples);let g=k/this.width;k*=this.items;const r=1>g?k:this.items*this.width;g=Math.ceil(g);this.texture.write(this.data,0,0,r,g);this.dataPointer.set(.5,.5);this.filled=1;this.used=k}through(k,g){let r,u;const {consume:w,done:x}=u=this.streamer,{emit:B}=r=g.streamer;let E=0,C=()=>w((H,I,K,O)=>k(B,H,I,K,O,E));C=n.repeatCall(C,this.items);return()=>
{u.reset();r.reset();const H=this.used;for(E=0;!x()&&E<H;)C(),E++;return u.count()}}}m.DataBuffer=h};
shadow$provide[320]=function(z,v,J,m){function t(c){if("function"!==typeof WeakMap)return null;var e=new WeakMap,f=new WeakMap;return(t=function(h){return h?f:e})(c)}Object.defineProperty(m,"__esModule",{value:!0});m.ArrayBuffer_=void 0;var p=function(c,e){if(!e&&c&&c.__esModule)return c;if(null===c||"object"!==typeof c&&"function"!==typeof c)return{default:c};if((e=t(e))&&e.has(c))return e.get(c);var f={},h=Object.defineProperty&&Object.getOwnPropertyDescriptor,k;for(k in c)if("default"!==k&&Object.prototype.hasOwnProperty.call(c,
k)){var g=h?Object.getOwnPropertyDescriptor(c,k):null;g&&(g.get||g.set)?Object.defineProperty(f,k,g):f[k]=c[k]}f.default=c;e&&e.set(c,f);return f}(v(99));z=v(319);class n extends z.DataBuffer{constructor(c,e,f){const h=f.width||1,k=f.history||1;f.width=h;f.height=k;f.depth=1;super(c,e,f,!1);this.width=h;this.history=k;this.samples=h;this.wrap=1<k;this.build(f)}build(c){super.build();this.pad=this.index=0;return this.streamer=this.generate(this.data)}setActive(c){return this.pad=Math.max(0,this.width-
c)}fill(){const {callback:c}=this;"function"===typeof c.reset&&c.reset();const {emit:e,count:f,done:h,reset:k}=this.streamer;k();const g=this.samples-this.pad;let r=0;for(;!h()&&r<g&&!1!==c(e,r++);)!0;return Math.floor(f()/this.items)}write(c){null==c&&(c=this.samples);c*=this.items;this.texture.write(this.data,0,this.index,c,1);this.dataPointer.set(.5,this.index+.5);this.index=(this.index+this.history-1)%this.history;return this.filled=Math.min(this.history,this.filled+1)}through(c,e){let f,h;const {consume:k,
done:g}=h=this.streamer,{emit:r}=f=e.streamer;let u=0,w=()=>k((x,B,E,C)=>c(r,x,B,E,C,u));w=p.repeatCall(w,this.items);return()=>{h.reset();f.reset();const x=this.samples-this.pad;for(u=0;!g()&&u<x;)w(),u++;return h.count()}}}m.ArrayBuffer_=n};
shadow$provide[321]=function(z,v,J,m){Object.defineProperty(m,"__esModule",{value:!0});m.Geometry=void 0;var t=v(2);class p extends t.BufferGeometry{constructor(){super();new t.BufferGeometry(this);null==this.uniforms&&(this.uniforms={});null==this.groups&&(this.groups=[])}_reduce(n,c){let e=!1;for(let f=0;f<n.length;f++){const h=n[f],k=c[f];e&&(n[f]=k);1<h&&(e=!0)}return n.reduce((f,h)=>f*h)}_emitter(n){n="index"==n?this.getIndex():this.getAttribute(n);const c=n.itemSize,{array:e}=n;let f=0;return[null,
function(h){e[f++]=h},function(h,k){e[f++]=h;e[f++]=k},function(h,k,g){e[f++]=h;e[f++]=k;e[f++]=g},function(h,k,g,r){e[f++]=h;e[f++]=k;e[f++]=g;e[f++]=r}][c]}_finalize(){}_offsets(n){this.groups=n}}m.Geometry=p};
shadow$provide[322]=function(z,v,J,m){Object.defineProperty(m,"__esModule",{value:!0});m.ClipGeometry=void 0;z=v(321);var t=v(2);class p extends z.Geometry{_clipUniforms(){this.geometryClip=new t.Vector4(1E10,1E10,1E10,1E10);this.geometryResolution=new t.Vector4;this.mapSize=new t.Vector4;null==this.uniforms&&(this.uniforms={});this.uniforms.geometryClip={type:"v4",value:this.geometryClip};this.uniforms.geometryResolution={type:"v4",value:this.geometryResolution};return this.uniforms.mapSize={type:"v4",
value:this.mapSize}}_clipGeometry(n,c,e,f){this.geometryClip.set(Math.max(0,n-1),Math.max(0,c-1),Math.max(0,e-1),Math.max(0,f-1));return this.geometryResolution.set(1/Math.max(1,n-1),1/Math.max(1,c-1),1/Math.max(1,e-1),1/Math.max(1,f-1))}_clipMap(n,c,e,f){return this.mapSize.set(n,c,e,f)}_clipOffsets(n,c,e,f,h,k,g,r,u){c=this._reduce([f,e,c,h],[r,g,k,u]);return this._offsets([{start:0,count:c*n,materialIndex:0}])}}m.ClipGeometry=p};
shadow$provide[323]=function(z,v,J,m){Object.defineProperty(m,"__esModule",{value:!0});m.ArrowGeometry=void 0;var t=v(2);z=v(322);class p extends z.ClipGeometry{constructor(n){var c,e,f;let h;var k;let g,r;var u;super(n);this._clipUniforms();this.sides=g=+n.sides||12;this.samples=k=+n.samples||2;this.strips=r=+n.strips||1;this.ribbons=h=+n.ribbons||1;this.layers=f=+n.layers||1;this.flip=c=null!=n.flip?n.flip:!1;this.closed=e=null!=n.closed?n.closed:!1;this.anchor=n=null!=n.anchor?n.anchor:c||e?0:
k-1;var w=r*h*f;var x=(g+2)*w;this.setIndex(new t.BufferAttribute(new Uint32Array(2*g*w*3),1));this.setAttribute("position4",new t.BufferAttribute(new Float32Array(4*x),4));this.setAttribute("arrow",new t.BufferAttribute(new Float32Array(3*x),3));this.setAttribute("attach",new t.BufferAttribute(new Float32Array(2*x),2));var B=this._emitter("index");const E=this._emitter("position4"),C=this._emitter("arrow"),H=this._emitter("attach"),I=[];x=0;for(u=0<=g;u?x<g:x>g;u?x++:x--){var K=x/g*2*Math.PI;I.push([Math.cos(K),
Math.sin(K),1])}u=0;for(let O=0,Q=w,W=0<=Q;W?O<Q:O>Q;W?O++:O--){const R=u++,X=R+g+1;x=0;K=g;for(w=0<=K;w?x<K:x>K;w?x++:x--){const ca=u+x%g,ka=u+(x+1)%g;B(R);B(ca);B(ka);B(ka);B(ca);B(X)}u+=g+1}B=c?1:e?k-1:-1;c=c&&!e?k-1:0;for(let O=0,Q=f,W=0<=Q;W?O<Q:O>Q;W?O++:O--)for(let R=0,X=h,ca=0<=X;ca?R<X:R>X;ca?R++:R--)for(let ka=0,la=r,Aa=0<=la;Aa?ka<la:ka>la;Aa?ka++:ka--){E(n,ka,R,O);C(0,0,0);H(B,c);x=0;e=g;for(f=0<=e;f?x<e:x>e;f?x++:x--)E(n,ka,R,O),k=I[x],C(k[0],k[1],k[2]),H(B,c);E(n,ka,R,O);C(0,0,1);H(B,
c)}this._finalize();this.clip()}clip(n,c,e,f){null==n&&({samples:n}=this);null==c&&({strips:c}=this);null==e&&({ribbons:e}=this);null==f&&({layers:f}=this);this._clipGeometry(n,c,e,f);n=0<n?this.sides*this._reduce([f,e,c],[this.layers,this.ribbons,this.strips]):0;return this._offsets([{start:0,count:6*n,materialIndex:0}])}}m.ArrowGeometry=p};
shadow$provide[324]=function(z,v,J,m){function t(e){if("function"!==typeof WeakMap)return null;var f=new WeakMap,h=new WeakMap;return(t=function(k){return k?h:f})(e)}Object.defineProperty(m,"__esModule",{value:!0});m.Base=void 0;var p=function(e,f){if(!f&&e&&e.__esModule)return e;if(null===e||"object"!==typeof e&&"function"!==typeof e)return{default:e};if((f=t(f))&&f.has(e))return f.get(e);var h={},k=Object.defineProperty&&Object.getOwnPropertyDescriptor,g;for(g in e)if("default"!==g&&Object.prototype.hasOwnProperty.call(e,
g)){var r=k?Object.getOwnPropertyDescriptor(e,g):null;r&&(r.get||r.set)?Object.defineProperty(h,g,r):h[g]=e[g]}h.default=e;f&&f.set(e,h);return h}(v(100)),n=v(2);z=v(314);class c extends z.Renderable{constructor(e,f,h){super(e,f,h);this.zUnits=null!=h.zUnits?h.zUnits:0}raw(){for(const e of Array.from(this.renders))this._raw(e);return null}depth(e,f){for(const h of Array.from(this.renders))this._depth(h,e,f);return null}polygonOffset(e,f){for(const h of Array.from(this.renders))this._polygonOffset(h,
e,f);return null}show(e,f,h){return Array.from(this.renders).map(k=>this._show(k,e,f,h))}hide(){for(const e of Array.from(this.renders))this._hide(e);return null}_injectPreamble(e,f){e=e+"\n"+f;return f.match(/#extension/)?this._hoist(e):e}_hoist(e){e=e.split("\n");const f=[];for(const h of Array.from(e))h.match(/^\s*#extension/)?f.unshift(h):f.push(h);return f.join("\n")}_material(e){var f=this.renderer.capabilities.precision;const h=`\
    precision ${f} float;
    precision ${f} int;
uniform mat4 modelMatrix;
uniform mat4 modelViewMatrix;
uniform mat4 projectionMatrix;
uniform mat4 viewMatrix;
uniform mat3 normalMatrix;
uniform vec3 cameraPosition;\
`;f=`\
    precision ${f} float;
    precision ${f} int;
uniform mat4 viewMatrix;
uniform vec3 cameraPosition;\
`;const k={};Object.assign(k,e);delete k.attributes;delete k.varyings;delete k.inspect;delete k.vertexGraph;delete k.fragmentGraph;const g=new n.RawShaderMaterial(k);["vertexGraph","fragmentGraph","inspect"].forEach(r=>g[r]=e[r]);g.vertexShader=this._injectPreamble(h,g.vertexShader);g.fragmentShader=this._injectPreamble(f,g.fragmentShader);return g}_raw(e){e.rotationAutoUpdate=!1;e.frustumCulled=!1;e.matrixAutoUpdate=!1;e.material.defaultAttributeValues=void 0}_depth(e,f,h){e=e.material;e.depthWrite=
f;return e.depthTest=h}_polygonOffset(e,f,h){h-=this.zUnits;const k=0!==h;e=e.material;if(e.polygonOffset=k)return e.polygonOffsetFactor=f,e.polygonOffsetUnits=h}_show(e,f,h,k){f=e.material;e.renderOrder=-k;e.visible=!0;f.transparent=!0;f.blending=h;return null}_hide(e){return e.visible=!1}_vertexColor(e,f){if(e||f){var h=this.shaders.shader();e&&(h.require(e),h.pipe("mesh.vertex.color",this.uniforms));f&&(h.require(f),h.pipe("mesh.vertex.mask",this.uniforms));return h}}_vertexPosition(e,f,h,k,g){let r;
const u=this.shaders.shader();if(h||f&&!0!==f){r={};if(0<k||g)r.POSITION_MAP="";0<k&&(r[["POSITION_U","POSITION_UV","POSITION_UVW","POSITION_UVWO"][k-1]]="");g&&(r.POSITION_STPQ="")}u.require(e);return u.pipe("mesh.vertex.position",this.uniforms,r)}_fragmentColor(e,f,h,k,g,r,u,w,x){const B=this.shaders.shader();let E=!1,C=!1;const H={};0<r&&(H[["POSITION_U","POSITION_UV","POSITION_UVW","POSITION_UVWO"][r-1]]="");u&&(H.POSITION_STPQ="");e&&(B.pipe("style.color",this.uniforms),E=!0,h||g||f)&&(x&&!h||
B.pipe("mesh.gamma.in"),C=!0);h&&(B.isolate(),B.pipe("mesh.fragment.color",this.uniforms),x&&!E||B.pipe("mesh.gamma.in"),B.end(),E&&B.pipe(p.binaryOperator("vec4","*")),x&&E&&B.pipe("mesh.gamma.out"),C=E=!0);g&&(!E&&w&&B.pipe(p.constant("vec4","vec4(1.0)")),B.isolate(),B.require(g),B.pipe("mesh.fragment.map",this.uniforms,H),x||B.pipe("mesh.gamma.in"),B.end(),w?B.pipe(w):E&&B.pipe(p.binaryOperator("vec4","*")),C=E=!0);f&&(E||B.pipe(p.constant("vec4","vec4(1.0)")),!0===f?B.pipe("mesh.fragment.shaded",
this.uniforms):(B.require(f),B.pipe("mesh.fragment.material",this.uniforms,H)),C=!0);C&&!x&&B.pipe("mesh.gamma.out");k&&(B.pipe("mesh.fragment.mask",this.uniforms),E&&B.pipe(p.binaryOperator("vec4","*")));return B}}m.Base=c};
shadow$provide[325]=function(z,v,J,m){Object.defineProperty(m,"__esModule",{value:!0});m.Arrow=void 0;var t=v(2),p=v(323);z=v(324);class n extends z.Base{constructor(c,e,f){super(c,e,f);var {uniforms:h}=f;const {material:k,position:g,color:r,mask:u,map:w,combine:x,stpq:B,linear:E}=f;null==h&&(h={});c=null!=h.styleColor;this.geometry=new p.ArrowGeometry({sides:f.sides,samples:f.samples,strips:f.strips,ribbons:f.ribbons,layers:f.layers,anchor:f.anchor,flip:f.flip,closed:f.closed});this._adopt(h);this._adopt(this.geometry.uniforms);
f={};closed&&(f.ARROW_CLOSED="");e=e.material();h=e.vertex;h.pipe(this._vertexColor(r,u));h.require(this._vertexPosition(g,k,w,1,B));h.pipe("arrow.position",this.uniforms,f);h.pipe("project.position",this.uniforms);e.fragment=c=this._fragmentColor(c,k,r,u,w,1,B,x,E);c.pipe("fragment.color",this.uniforms);c=e.link({side:t.DoubleSide});this.material=this._material(c);e=new t.Mesh(this.geometry,this.material);e.frustumCulled=!1;e.matrixAutoUpdate=!1;e.userData=c;this._raw(e);this.renders=[e]}dispose(){this.geometry.dispose();
this.material.dispose();this.renders=this.geometry=this.material=null;return super.dispose()}}m.Arrow=n};
shadow$provide[326]=function(z,v,J,m){Object.defineProperty(m,"__esModule",{value:!0});m.BackedTexture=void 0;z=v(318);class t extends z.DataTexture{constructor(p,n,c,e,f){super(p,n,c,e,f);this.data=new this.ctor(this.n)}resize(p,n){const c=this.data,e=this.width,f=this.height;this.width=p;this.height=n;this.n=p*n*this.channels;this.data=new this.ctor(this.n);const {gl:h}=this;this.renderer.state.bindTexture(h.TEXTURE_2D,this.texture);h.pixelStorei(h.UNPACK_ALIGNMENT,1);h.texImage2D(h.TEXTURE_2D,
0,this.format,p,n,0,this.format,this.type,this.data);this.uniforms.dataResolution.value.set(1/p,1/n);return this.write(c,0,0,e,f)}write(p,n,c,e,f){({width:r}=this);const h=this.data;var {channels:k}=this;let g=0;if(r===e&&0===n){var r=c*e*k;for(var u=e*f*k;g<u;)h[r++]=p[g++]}else{u=r*k;const w=e*k;k*=n;let x=c;const B=c+f;for(;x<B;){let E=0;for(r=k+x*u;E++<w;)h[r++]=p[g++];x++}}return super.write(p,n,c,e,f)}dispose(){this.data=null;return super.dispose()}}m.BackedTexture=t};
shadow$provide[327]=function(z,v,J,m){function t(g){if("function"!==typeof WeakMap)return null;var r=new WeakMap,u=new WeakMap;return(t=function(w){return w?u:r})(g)}function p(g,r){return"undefined"!==typeof g&&null!==g?r(g):void 0}Object.defineProperty(m,"__esModule",{value:!0});m.Atlas=void 0;var n=function(g,r){if(!r&&g&&g.__esModule)return g;if(null===g||"object"!==typeof g&&"function"!==typeof g)return{default:g};if((r=t(r))&&r.has(g))return r.get(g);var u={},w=Object.defineProperty&&Object.getOwnPropertyDescriptor,
x;for(x in g)if("default"!==x&&Object.prototype.hasOwnProperty.call(g,x)){var B=w?Object.getOwnPropertyDescriptor(g,x):null;B&&(B.get||B.set)?Object.defineProperty(u,x,B):u[x]=g[x]}u.default=g;r&&r.set(g,u);return u}(v(100)),c=v(326),e=v(318);z=v(314);var f=v(2);class h extends z.Renderable{constructor(g,r,u,w){null==w&&(w=!0);super(g,r);null==this.width&&(this.width=u.width||512);null==this.height&&(this.height=u.height||512);null==this.channels&&(this.channels=u.channels||4);null==this.backed&&
(this.backed=u.backed||!1);this.samples=this.width*this.height;w&&this.build(u)}shader(g){g.pipe("map.2d.data",this.uniforms);g.pipe("sample.2d",this.uniforms);4>this.channels&&g.pipe(n.swizzleVec4(["0000","x000","xw00","xyz0"][this.channels]));return g}build(g){let r;this.klass=r=this.backed?c.BackedTexture:e.DataTexture;this.texture=new r(this.renderer,this.width,this.height,this.channels,g);this.uniforms={dataPointer:{type:"v2",value:new f.Vector2(0,0)}};this._adopt(this.texture.uniforms);return this.reset()}reset(){this.rows=
[];return this.bottom=0}resize(g,r){if(!this.backed)throw Error("Cannot resize unbacked texture atlas");2048<g&&2048<r?console.warn(`Giant text atlas ${g}x${r}.`):console.info(`Resizing text atlas ${g}x${r}.`);this.texture.resize(g,r);this.width=g;this.height=r;return this.samples=g*r}collapse(g){let r;const {rows:u}=this;u.splice(u.indexOf(g),1);this.bottom=null!=(r=p(u[u.length-1],w=>w.bottom))?r:0;if(this.last===g)return this.last=null}allocate(g,r,u,w){const x=this.width,B=this.height,E=2*u;if(r>
x)return this.resize(2*x,2*B),this.last=null,this.allocate(g,r,u,w);let C=this.last;if(null!=C&&C.height>=u&&C.height<E&&C.width+r<=x)C.append(g,r,u,w);else{var H=0,I=-1,K=0;for(let O=0;O<this.rows.length;O++)if(C=this.rows[O],C.top-H>=u&&0>I&&(I=O,K=H),{bottom:H}=C,C.height>=u&&C.height<E&&C.width+r<=x){C.append(g,r,u,w);this.last=C;return}if(0<=I)C=new k(K,u),this.rows.splice(I,0,C);else{K=H;H+=u;if(H>=B)return this.resize(2*x,2*B),this.last=null,this.allocate(g,r,u,w);C=new k(K,u);this.rows.push(C);
this.bottom=H}C.append(g,r,u,w);this.last=C}}read(){return this.texture.textureObject}write(g,r,u,w,x){return this.texture.write(g,r,u,w,x)}dispose(){this.texture.dispose();this.data=null;return super.dispose()}}m.Atlas=h;class k{constructor(g,r){this.top=g;this.bottom=g+r;this.width=0;this.height=r;this.alive=0;this.keys=[]}append(g,r,u,w){u=this.width;const x=this.top;this.alive++;this.width+=r;this.keys.push(g);return w(this,u,x)}}};
shadow$provide[328]=function(z,v,J,m){Object.defineProperty(m,"__esModule",{value:!0});m.Debug=void 0;var t=v(2);z=v(324);class p extends z.Base{constructor(n,c,e){super(n,c,e);this.geometry=new t.PlaneGeometry(1,1);this.material=new t.MeshBasicMaterial({map:e.map});this.material.side=t.DoubleSide;n=new t.Mesh(this.geometry,this.material);n.position.x+=e.x||0;n.position.y+=e.y||0;n.frustumCulled=!1;n.scale.set(2,2,2);n.__debug=!0;this.objects=[n]}dispose(){this.geometry.dispose();this.material.dispose();
this.objects=this.geometry=this.material=null;return super.dispose()}}m.Debug=p};
shadow$provide[329]=function(z,v,J,m){Object.defineProperty(m,"__esModule",{value:!0});m.FaceGeometry=void 0;var t=v(2);z=v(322);class p extends z.ClipGeometry{constructor(n){let c,e,f,h;super(n);this._clipUniforms();this.items=e=+n.items||2;this.width=h=+n.width||1;this.height=c=+n.height||1;this.depth=n=+n.depth||1;this.sides=f=Math.max(0,e-2);const k=h*c*n;var g=e*k;this.setIndex(new t.BufferAttribute(new Uint32Array(f*k*3),1));this.setAttribute("position4",new t.BufferAttribute(new Float32Array(4*
g),4));g=this._emitter("index");const r=this._emitter("position4");let u=0;for(let w=0,x=k,B=0<=x;B?w<x:w>x;B?w++:w--){for(let E=0,C=f,H=0<=C;H?E<C:E>C;H?E++:E--)g(u),g(u+E+1),g(u+E+2);u+=e}for(let w=0,x=n,B=0<=x;B?w<x:w>x;B?w++:w--)for(let E=0,C=c,H=0<=C;H?E<C:E>C;H?E++:E--)for(let I=0,K=h,O=0<=K;O?I<K:I>K;O?I++:I--)for(let Q=0,W=e,R=0<=W;R?Q<W:Q>W;R?Q++:Q--)r(I,E,w,Q);this._finalize();this.clip()}clip(n,c,e,f){null==n&&({width:n}=this);null==c&&({height:c}=this);null==e&&({depth:e}=this);null==
f&&({items:f}=this);const h=Math.max(0,f-2);this._clipGeometry(n,c,e,f);return this._clipOffsets(3,n,c,e,h,this.width,this.height,this.depth,this.sides)}}m.FaceGeometry=p};
shadow$provide[330]=function(z,v,J,m){Object.defineProperty(m,"__esModule",{value:!0});m.Face=void 0;var t=v(2);z=v(324);var p=v(329);class n extends z.Base{constructor(c,e,f){super(c,e,f);let {uniforms:h,material:k}=f;const {position:g,color:r,mask:u,map:w,combine:x,stpq:B,linear:E}=f;null==h&&(h={});null==k&&(k=!0);c=null!=h.styleColor;this.geometry=new p.FaceGeometry({items:f.items,width:f.width,height:f.height,depth:f.depth});this._adopt(h);this._adopt(this.geometry.uniforms);e=e.material();f=
e.vertex;f.pipe(this._vertexColor(r,u));f.require(this._vertexPosition(g,k,w,2,B));k||f.pipe("face.position",this.uniforms);k&&f.pipe("face.position.normal",this.uniforms);f.pipe("project.position",this.uniforms);e.fragment=c=this._fragmentColor(c,k,r,u,w,2,B,x,E);c.pipe("fragment.color",this.uniforms);c=e.link({side:t.DoubleSide});this.material=this._material(c);e=new t.Mesh(this.geometry,this.material);e.userData=c;this._raw(e);this.renders=[e]}dispose(){this.geometry.dispose();this.material.dispose();
this.renders=this.geometry=this.material=null;return super.dispose()}}m.Face=n};
shadow$provide[331]=function(z,v,J,m){Object.defineProperty(m,"__esModule",{value:!0});m.LineGeometry=void 0;var t=v(2);z=v(322);class p extends z.ClipGeometry{constructor(n){var c,e,f,h;let k,g,r;var u;let w;super(n);this._clipUniforms();this.closed=c=n.closed||!1;this.samples=r=(+n.samples||2)+(c?1:0);this.strips=w=+n.strips||1;this.ribbons=g=+n.ribbons||1;this.layers=k=+n.layers||1;this.detail=e=+n.detail||1;var x=r-1;this.joints=h=e-1;this.vertices=n=(x-(c?0:1))*h+r;this.segments=u=(x-(c?0:1))*
h+x;n=n*w*g*k*2;this.setIndex(new t.BufferAttribute(new Uint32Array(u*w*g*k*6),1));this.setAttribute("position4",new t.BufferAttribute(new Float32Array(4*n),4));this.setAttribute("line",new t.BufferAttribute(new Float32Array(1*n),1));1<e&&this.setAttribute("joint",new t.BufferAttribute(new Float32Array(n),1));var B=this._emitter("index");n=this._emitter("position4");x=this._emitter("line");1<e&&(f=this._emitter("joint"));var E=0;for(let Q=0,W=g*k,R=0<=W;R?Q<W:Q>W;R?Q++:Q--)for(let X=0,ca=w,ka=0<=
ca;ka?X<ca:X>ca;ka?X++:X--){for(let la=0,Aa=u,ta=0<=Aa;ta?la<Aa:la>Aa;ta?la++:la--)B(E),B(E+1),B(E+2),B(E+2),B(E+1),B(E+3),E+=2;E+=2}var C=c?()=>0:function(Q){return 0===Q?-1:Q===r-1?1:0};if(1<e){var H;c=0;for(H=0<=k;H?c<k:c>k;H?c++:c--){var I=void 0,K=void 0;E=0;K=g;for(I=0<=K;I?E<K:E>K;I?E++:E--){let Q,W;B=0;W=w;for(Q=0<=W;Q?B<W:B>W;Q?B++:B--){let R,X,ca;u=ca=0;X=r;for(R=0<=X;R?ca<X:ca>X;R?ca++:ca--,u=ca){var O=C(u);if(0!==O)n(u,B,E,c),n(u,B,E,c),x(1),x(-1),f(.5),f(.5);else for(let ka=0,la=e,Aa=
0<=la;Aa?ka<la:ka>la;Aa?ka++:ka--)n(u,B,E,c),n(u,B,E,c),x(1),x(-1),f(ka/h),f(ka/h)}}}}}else for(c=0,f=0<=k;f?c<k:c>k;f?c++:c--)for(E=0,h=g,e=0<=h;e?E<h:E>h;e?E++:E--)for(B=0,C=w,O=0<=C;O?B<C:B>C;O?B++:B--)for(u=K=0,I=r,H=0<=I;H?K<I:K>I;H?K++:K--,u=K)n(u,B,E,c),n(u,B,E,c),x(1),x(-1);this._finalize();this.clip()}clip(n,c,e,f){null==n&&(n=this.samples-this.closed);null==c&&({strips:c}=this);null==e&&({ribbons:e}=this);null==f&&({layers:f}=this);const h=n+(n-(this.closed?0:2))*this.joints-(this.closed?
0:1);n+=this.closed;this._clipGeometry(n,c,e,f);return this._clipOffsets(6,h,c,e,f,this.segments,this.strips,this.ribbons,this.layers)}}m.LineGeometry=p};
shadow$provide[332]=function(z,v,J,m){Object.defineProperty(m,"__esModule",{value:!0});m.Line=void 0;var t=v(2);z=v(324);var p=v(331);class n extends z.Base{constructor(c,e,f){var h;super(c,e,f);let {uniforms:k,stroke:g,join:r}=f;const {material:u,position:w,color:x,mask:B,map:E,combine:C,stpq:H,linear:I,clip:K,proximity:O,closed:Q}=f;null==k&&(k={});g=[null,"dotted","dashed"][g];c=null!=k.styleColor;r=null!=(h=["miter","round","bevel"][r])?h:"miter";h={miter:1,round:4,bevel:2}[r];this.geometry=new p.LineGeometry({samples:f.samples,
strips:f.strips,ribbons:f.ribbons,layers:f.layers,anchor:f.anchor,closed:f.closed,detail:h});this._adopt(k);this._adopt(this.geometry.uniforms);e=e.material();f={};g&&(f.LINE_STROKE="");K&&(f.LINE_CLIP="");null!=O&&(f.LINE_PROXIMITY="");f["LINE_JOIN_"+r.toUpperCase()]="";1<h&&(f.LINE_JOIN_DETAIL=h);Q&&(f.LINE_CLOSED="");h=e.vertex;h.pipe(this._vertexColor(x,B));h.require(this._vertexPosition(w,u,E,2,H));h.pipe("line.position",this.uniforms,f);h.pipe("project.position",this.uniforms);f=e.fragment;
g&&f.pipe(`fragment.clip.${g}`,this.uniforms);K&&f.pipe("fragment.clip.ends",this.uniforms);null!=O&&f.pipe("fragment.clip.proximity",this.uniforms);f.pipe(this._fragmentColor(c,u,x,B,E,2,H,C,I));f.pipe("fragment.color",this.uniforms);c=e.link({side:t.DoubleSide});this.material=this._material(c);e=new t.Mesh(this.geometry,this.material);e.userData=c;this._raw(e);this.renders=[e]}dispose(){this.geometry.dispose();this.material.dispose();this.renders=this.geometry=this.material=null;return super.dispose()}}
m.Line=n};
shadow$provide[333]=function(z,v,J,m){function t(c){if("function"!==typeof WeakMap)return null;var e=new WeakMap,f=new WeakMap;return(t=function(h){return h?f:e})(c)}Object.defineProperty(m,"__esModule",{value:!0});m.MatrixBuffer=void 0;var p=function(c,e){if(!e&&c&&c.__esModule)return c;if(null===c||"object"!==typeof c&&"function"!==typeof c)return{default:c};if((e=t(e))&&e.has(c))return e.get(c);var f={},h=Object.defineProperty&&Object.getOwnPropertyDescriptor,k;for(k in c)if("default"!==k&&Object.prototype.hasOwnProperty.call(c,
k)){var g=h?Object.getOwnPropertyDescriptor(c,k):null;g&&(g.get||g.set)?Object.defineProperty(f,k,g):f[k]=c[k]}f.default=c;e&&e.set(c,f);return f}(v(99));z=v(319);class n extends z.DataBuffer{constructor(c,e,f){const h=f.width||1,k=f.height||1,g=f.history||1;f.depth=g;super(c,e,f,!1);this.width=h;this.height=k;this.history=g;this.samples=h*k;this.wrap=1<g;this.build(f)}build(c){super.build();this.index=0;this.pad={x:0,y:0};return this.streamer=this.generate(this.data)}getFilled(){return this.filled}setActive(c,
e){let f;return[this.pad.x,this.pad.y]=Array.from(f=[Math.max(0,this.width-c),Math.max(0,this.height-e)]),f}fill(){let c,e,f;const {callback:h}=this;"function"===typeof h.reset&&h.reset();const {emit:k,skip:g,count:r,done:u,reset:w}=this.streamer;w();const x=this.width,B=this.pad.x,E=this.samples-this.pad.y*x;let C=c=e=0;if(B)for(;!u()&&e<E&&(e++,f=h(k,C,c),++C===x-B&&(g(B),e+=B,C=0,c++),!1!==f););else for(;!u()&&e<E&&(e++,f=h(k,C,c),++C===x&&(C=0,c++),!1!==f););return Math.floor(r()/this.items)}write(c){null==
c&&(c=this.samples);c*=this.items;const e=this.width*this.items;this.texture.write(this.data,0,this.index*this.height,e,Math.ceil(c/e));this.dataPointer.set(.5,this.index*this.height+.5);this.index=(this.index+this.history-1)%this.history;return this.filled=Math.min(this.history,this.filled+1)}through(c,e){let f,h,k;const {consume:g,skip:r,done:u}=k=this.streamer,{emit:w}=f=e.streamer;let x=h=0,B=()=>g((E,C,H,I)=>c(w,E,C,H,I,x,h));B=p.repeatCall(B,this.items);return()=>{let E;k.reset();f.reset();
const C=this.width,H=this.pad.x,I=this.samples-this.pad.y*C;x=h=E=0;if(H)for(;!u()&&E<I;)E++,B(),++x===C-H&&(r(H),x=0,h++);else for(;!u()&&E<I;)E++,B(),++x===C&&(x=0,h++);return k.count()}}}m.MatrixBuffer=n};
shadow$provide[334]=function(z,v,J,m){Object.defineProperty(m,"__esModule",{value:!0});m.RenderTarget=void 0;var t=v(2);class p{constructor(n,c,e,f,h){this.gl=n;null==h&&(h={});null==h.minFilter&&(h.minFilter=t.NearestFilter);null==h.magFilter&&(h.magFilter=t.NearestFilter);null==h.format&&(h.format=t.RGBAFormat);null==h.type&&(h.type=t.UnsignedByteType);this.options=h;this.width=c||1;this.height=e||1;this.frames=f||1;this.buffers=this.frames+1;this.build()}build(){let n;const c=()=>new t.WebGLRenderTarget(this.width,
this.height,this.options);this.targets=(()=>{let f,h;const k=[];n=0;h=this.buffers;for(f=0<=h;f?n<h:n>h;f?n++:n--)k.push(c());return k})();const e=[];this.targets.forEach(f=>e.push(f.texture));this.reads=e;this.write=this.targets[this.buffers-1];this.uniforms={dataResolution:{type:"v2",value:new t.Vector2(1/this.width,1/this.height)},dataTexture:{type:"t",value:this.reads[0]},dataTextures:{type:"tv",value:this.reads}}}cycle(){this.targets.unshift(this.targets.pop());this.write=this.targets[this.buffers-
1];this.reads.unshift(this.reads.pop());this.uniforms.dataTexture.value=this.reads[0]}warmup(n){return(()=>{const c=[];for(let e=0,f=this.buffers,h=0<=f;h?e<f:e>f;h?e++:e--)n(this.write),c.push(this.cycle());return c})()}dispose(){for(const n of Array.from(this.targets))n.dispose();return this.targets=this.reads=this.write=null}}m.RenderTarget=p};
shadow$provide[335]=function(z,v,J,m){function t(f){if("function"!==typeof WeakMap)return null;var h=new WeakMap,k=new WeakMap;return(t=function(g){return g?k:h})(f)}Object.defineProperty(m,"__esModule",{value:!0});m.RenderToTexture=void 0;var p=function(f,h){if(!h&&f&&f.__esModule)return f;if(null===f||"object"!==typeof f&&"function"!==typeof f)return{default:f};if((h=t(h))&&h.has(f))return h.get(f);var k={},g=Object.defineProperty&&Object.getOwnPropertyDescriptor,r;for(r in f)if("default"!==r&&
Object.prototype.hasOwnProperty.call(f,r)){var u=g?Object.getOwnPropertyDescriptor(f,r):null;u&&(u.get||u.set)?Object.defineProperty(k,r,u):k[r]=f[r]}k.default=f;h&&h.set(f,k);return k}(v(100)),n=v(2),c=v(334);z=v(314);class e extends z.Renderable{constructor(f,h,k){super(f,h);this.scene=null!=k.scene?k.scene:new n.Scene;this.camera=k.camera;this.build(k)}shaderRelative(f){null==f&&(f=this.shaders.shader());return f.pipe("sample.2d",this.uniforms)}shaderAbsolute(f,h,k){null==h&&(h=1);null==k&&(k=
4);null==f&&(f=this.shaders.shader());if(1>=h)return 2<k&&f.pipe(p.truncateVec(k,2)),f.pipe("map.2d.data",this.uniforms),f.pipe("sample.2d",this.uniforms);h=p.sample2DArray(Math.min(h,this.target.frames));4>k&&f.pipe(p.extendVec(k,4));f.pipe("map.xyzw.2dv");f.split();f.pipe("map.2d.data",this.uniforms);f.pass();return f.pipe(h,this.uniforms)}build(f){this.camera||(this.camera=new n.PerspectiveCamera,this.camera.position.set(0,0,3),this.camera.lookAt(new n.Vector3));"function"===typeof this.scene.inject&&
this.scene.inject();this.target=new c.RenderTarget(this.gl,f.width,f.height,f.frames,f);this.target.warmup(h=>this.renderer.setRenderTarget(h));this.renderer.setRenderTarget(null);this._adopt(this.target.uniforms);this._adopt({dataPointer:{type:"v2",value:new n.Vector2(.5,.5)}});return this.filled=0}adopt(f){return Array.from(f.renders).map(h=>this.scene.add(h))}unadopt(f){return Array.from(f.renders).map(h=>this.scene.remove(h))}render(f){null==f&&({camera:f}=this);const h=this.renderer.getRenderTarget();
this.renderer.setRenderTarget(this.target.write);this.renderer.render(null!=this.scene.scene?this.scene.scene:this.scene,f);this.renderer.setRenderTarget(h);this.target.cycle();if(this.filled<this.target.frames)return this.filled++}read(f){null==f&&(f=0);return this.target.reads[Math.abs(f)]}getFrames(){return this.target.frames}getFilled(){return this.filled}dispose(){"function"===typeof this.scene.unject&&this.scene.unject();this.scene=this.camera=null;this.target.dispose();return super.dispose()}}
m.RenderToTexture=e};
shadow$provide[336]=function(z,v,J,m){Object.defineProperty(m,"__esModule",{value:!0});m.Memo=void 0;var t=v(2);z=v(335);class p extends z.RenderToTexture{constructor(n,c,e){let f,h;const k=e.items||1,g=e.channels||4,r=e.width||1,u=e.height||1,w=e.depth||1;e.format=t.RGBAFormat;e.width=h=k*r;e.height=f=u*w;e.frames=1;delete e.items;delete e.depth;delete e.channels;super(n,c,e);null==this.items&&(this.items=k);null==this.channels&&(this.channels=g);null==this.width&&(this.width=r);this._width=h;null==
this.height&&(this.height=u);this._height=f;null==this.depth&&(this.depth=w);this._adopt({textureItems:{type:"f",value:this.items},textureHeight:{type:"f",value:this.height}})}shaderAbsolute(n){null==n&&(n=this.shaders.shader());n.pipe("map.xyzw.texture",this.uniforms);return super.shaderAbsolute(n,1,2)}}m.Memo=p};
shadow$provide[337]=function(z,v,J,m){Object.defineProperty(m,"__esModule",{value:!0});m.SurfaceGeometry=void 0;var t=v(2);z=v(322);class p extends z.ClipGeometry{constructor(n,c){null==c&&(c=!0);super();c&&this.construct(n)}construct(n){var c,e;let f,h,k;this._clipUniforms();this.closedX=c=n.closedX||!1;this.closedY=e=n.closedY||!1;this.width=c=(+n.width||2)+(c?1:0);this.height=e=(+n.height||2)+(e?1:0);this.surfaces=k=+n.surfaces||1;this.layers=n=+n.layers||1;this.segmentsX=f=Math.max(0,c-1);this.segmentsY=
h=Math.max(0,e-1);var g=c*e*k*n;this.setIndex(new t.BufferAttribute(new Uint32Array(f*h*k*n*6),1));this.setAttribute("position4",new t.BufferAttribute(new Float32Array(4*g),4));this.setAttribute("surface",new t.BufferAttribute(new Float32Array(2*g),2));g=this._emitter("index");const r=this._emitter("position4");let u=0;for(let w=0,x=k*n,B=0<=x;B?w<x:w>x;B?w++:w--){for(let E=0,C=h,H=0<=C;H?E<C:E>C;H?E++:E--){for(let I=0,K=f,O=0<=K;O?I<K:I>K;O?I++:I--)g(u),g(u+1),g(u+c),g(u+c),g(u+1),g(u+c+1),u++;u++}u+=
c}for(let w=0,x=n,B=0<=x;B?w<x:w>x;B?w++:w--)for(let E=0,C=k,H=0<=C;H?E<C:E>C;H?E++:E--)for(let I=0,K=I,O=e,Q=0<=O;Q?I<O:I>O;Q?I++:I--,K=I)for(let W=0,R=W,X=c,ca=0<=X;ca?W<X:W>X;ca?W++:W--,R=W)r(R,K,E,w);this._finalize();this.clip()}clip(n,c,e,f){null==n&&(n=this.width-this.closedX);null==c&&(c=this.height-this.closedY);null==e&&({surfaces:e}=this);null==f&&({layers:f}=this);n+=this.closedX;c+=this.closedY;const h=Math.max(0,n-1),k=Math.max(0,c-1);this._clipGeometry(n,c,e,f);return this._clipOffsets(6,
h,k,e,f,this.segmentsX,this.segmentsY,this.surfaces,this.layers)}map(n,c,e,f){null==n&&({width:n}=this);null==c&&({height:c}=this);null==e&&({surfaces:e}=this);null==f&&({layers:f}=this);return this._clipMap(n,c,e,f)}}m.SurfaceGeometry=p};
shadow$provide[338]=function(z,v,J,m){Object.defineProperty(m,"__esModule",{value:!0});m.ScreenGeometry=void 0;z=v(337);var t=v(2);class p extends z.SurfaceGeometry{constructor(n){n.width=Math.max(2,+n.width);n.height=Math.max(2,+n.height);super(n,!1);null==this.uniforms&&(this.uniforms={});this.uniforms.geometryScale={type:"v4",value:new t.Vector4};this.cover();this.construct(n)}cover(n,c,e,f){null==n&&(n=1);this.scaleX=n;null==c&&(c=1);this.scaleY=c;null==e&&(e=1);this.scaleZ=e;null==f&&(f=1);this.scaleW=
f}clip(n,c,e,f){null==n&&({width:n}=this);null==c&&({height:c}=this);null==e&&({surfaces:e}=this);null==f&&({layers:f}=this);super.clip(n,c,e,f);return this.uniforms.geometryScale.value.set(1/Math.max(1,n-1)*this.scaleX,1/Math.max(1,c-1)*this.scaleY,1/Math.max(1,e-1)*this.scaleZ,1/Math.max(1,f-1)*this.scaleW)}}m.ScreenGeometry=p};
shadow$provide[339]=function(z,v,J,m){Object.defineProperty(m,"__esModule",{value:!0});m.Screen=void 0;var t=v(2);z=v(324);var p=v(338);class n extends z.Base{constructor(c,e,f){super(c,e,f);let {uniforms:h}=f;const {map:k,combine:g,stpq:r,linear:u}=f;null==h&&(h={});c=null!=h.styleColor;this.geometry=new p.ScreenGeometry({width:f.width,height:f.height});this._adopt(h);this._adopt(this.geometry.uniforms);e=e.material();f=e.vertex;f.pipe("raw.position.scale",this.uniforms);f.fan();f.pipe("stpq.xyzw.2d",
this.uniforms);f.next();f.pipe("screen.position",this.uniforms);f.join();e.fragment=c=this._fragmentColor(c,!1,null,null,k,2,r,g,u);c.pipe("fragment.color",this.uniforms);c=e.link({side:t.DoubleSide});this.material=this._material(c);e=new t.Mesh(this.geometry,this.material);e.frustumCulled=!1;e.userData=c;this._raw(e);this.renders=[e]}dispose(){this.geometry.dispose();this.material.dispose();this.renders=this.geometry=this.material=null;return super.dispose()}}m.Screen=n};
shadow$provide[340]=function(z,v,J,m){Object.defineProperty(m,"__esModule",{value:!0});m.MemoScreen=void 0;var t=v(2);z=v(339);class p extends z.Screen{constructor(n,c,e){const {items:f,width:h,height:k,depth:g,stpq:r}=e,u={remapUVScale:{type:"v2",value:new t.Vector2(f*h,k*g)},remapModulus:{type:"v2",value:new t.Vector2(f,k)},remapModulusInv:{type:"v2",value:new t.Vector2(1/Math.max(1,f),1/Math.max(1,k))},remapSTPQScale:{type:"v4",value:new t.Vector4(1/Math.max(1,h-1),1/Math.max(1,k-1),1/Math.max(1,
g-1),1/Math.max(1,f-1))}},w=c.shader();w.pipe("screen.map.xyzw",u);null!=e.map&&(r&&w.pipe("screen.map.stpq",u),w.pipe(e.map));super(n,c,{map:w,linear:!0});this.memo=e;this.uniforms=u;for(const x of Array.from(this.renders))x.transparent=!1}cover(n,c,e,f){null==n&&({width:n}=this.memo);null==c&&({height:c}=this.memo);null==e&&({depth:e}=this.memo);null==f&&({items:f}=this.memo);this.uniforms.remapSTPQScale.value.set(1/Math.max(1,n-1),1/Math.max(1,c-1),1/Math.max(1,e-1),1/Math.max(1,f-1));n/=this.memo.width;
e/=this.memo.depth;1===this.memo.depth&&(e=c/this.memo.height);return this.geometry.cover(n,e)}}m.MemoScreen=p};
shadow$provide[341]=function(z,v,J,m){Object.defineProperty(m,"__esModule",{value:!0});m.SpriteGeometry=void 0;var t=v(2);z=v(322);class p extends z.ClipGeometry{constructor(n){let c,e,f;super(n);this._clipUniforms();this.items=e=+n.items||2;this.width=f=+n.width||1;this.height=c=+n.height||1;this.depth=n=+n.depth||1;const h=e*f*c*n;var k=4*h;this.setIndex(new t.BufferAttribute(new Uint32Array(6*h),1));this.setAttribute("position4",new t.BufferAttribute(new Float32Array(4*k),4));this.setAttribute("sprite",
new t.BufferAttribute(new Float32Array(2*k),2));k=this._emitter("index");const g=this._emitter("position4"),r=this._emitter("sprite"),u=[[-1,-1],[-1,1],[1,-1],[1,1]];let w=0;for(let x=0,B=h,E=0<=B;E?x<B:x>B;E?x++:x--)k(w),k(w+1),k(w+2),k(w+1),k(w+2),k(w+3),w+=4;for(let x=0,B=n,E=0<=B;E?x<B:x>B;E?x++:x--)for(let C=0,H=c,I=0<=H;I?C<H:C>H;I?C++:C--)for(let K=0,O=f,Q=0<=O;Q?K<O:K>O;Q?K++:K--)for(let W=0,R=e,X=0<=R;X?W<R:W>R;X?W++:W--)for(const ca of Array.from(u))g(K,C,x,W),r(ca[0],ca[1]);this._finalize();
this.clip()}clip(n,c,e,f){null==n&&({width:n}=this);null==c&&({height:c}=this);null==e&&({depth:e}=this);null==f&&({items:f}=this);this._clipGeometry(n,c,e,f);return this._clipOffsets(6,n,c,e,f,this.width,this.height,this.depth,this.items)}}m.SpriteGeometry=p};
shadow$provide[342]=function(z,v,J,m){Object.defineProperty(m,"__esModule",{value:!0});m.Point=void 0;var t=v(2);z=v(324);var p=v(341);class n extends z.Base{constructor(c,e,f){var h;super(c,e,f);let {uniforms:k,shape:g,fill:r}=f;const {material:u,position:w,color:x,size:B,mask:E,map:C,combine:H,linear:I,optical:K,stpq:O}=f;null==k&&(k={});g=+g;null==r&&(r=!0);var Q=null!=k.styleColor;c="circle square diamond up down left right".split(" ");var W="circle generic generic generic generic generic generic".split(" ");
var R=[1.2,1,1.414,1.16,1.16,1.16,1.16];W=null!=W[g]?W[g]:W[0];c=null!=c[g]?c[g]:c[0];R=null!=(h=K&&R[g])?h:1;h=r?W:`${W}.hollow`;this.geometry=new p.SpriteGeometry({items:f.items,width:f.width,height:f.height,depth:f.depth});this._adopt(k);this._adopt(this.geometry.uniforms);W={POINT_SHAPE_SCALE:+(R+1E-5)};f=e.material();R=f.vertex;R.pipe(this._vertexColor(x,E));B?(R.isolate(),R.require(B),R.require("point.size.varying",this.uniforms),R.end()):R.require("point.size.uniform",this.uniforms);R.require(this._vertexPosition(w,
u,C,2,O));R.pipe("point.position",this.uniforms,W);R.pipe("project.position",this.uniforms);f.fragment=this._fragmentColor(Q,u,x,E,C,2,O,H,I);Q=e.material();Q.vertex.pipe(R);W=Q.fragment.pipe(f.fragment);W.require(`point.mask.${c}`,this.uniforms);W.require(`point.alpha.${h}`,this.uniforms);W.pipe("point.edge",this.uniforms);e=e.material();e.vertex.pipe(R);W=e.fragment.pipe(f.fragment);W.require(`point.mask.${c}`,this.uniforms);W.require(`point.alpha.${h}`,this.uniforms);W.pipe("point.fill",this.uniforms);
e=e.link({side:t.DoubleSide});this.fillMaterial=this._material(e);c=Q.link({side:t.DoubleSide});this.edgeMaterial=this._material(c);this.fillObject=new t.Mesh(this.geometry,this.fillMaterial);this.edgeObject=new t.Mesh(this.geometry,this.edgeMaterial);this._raw(this.fillObject);this.fillObject.userData=e;this._raw(this.edgeObject);this.edgeObject.userData=c;this.renders=[this.fillObject,this.edgeObject]}show(c,e,f,h){this._show(this.edgeObject,!0,e,f,h);return this._show(this.fillObject,c,e,f,h)}dispose(){this.geometry.dispose();
this.edgeMaterial.dispose();this.fillMaterial.dispose();this.renders=this.edgeObject=this.fillObject=this.geometry=this.edgeMaterial=this.fillMaterial=null;return super.dispose()}}m.Point=n};
shadow$provide[343]=function(z,v,J,m){function t(n,c,e){const f=[],h=n<c;for(c=e?h?c+1:c-1:c;h?n<c:n>c;h?n++:n--)f.push(n);return f}Object.defineProperty(m,"__esModule",{value:!0});m.PushBuffer=void 0;z=v(317);class p extends z.Buffer{constructor(n,c,e){const f=e.width||1,h=e.height||1,k=e.depth||1,g=f*h*k;e.samples||(e.samples=g);super(n,c,e);this.width=f;this.height=h;this.depth=k;null==this.samples&&(this.samples=g);this.build(e)}build(n){this.data=[];this.data.length=this.samples;this.filled=
0;this.pad={x:0,y:0,z:0};return this.streamer=this.generate(this.data)}dispose(){this.data=null;return super.dispose()}getFilled(){return this.filled}setActive(n,c,e){let f;return[this.pad.x,this.pad.y,this.pad.z]=Array.from(f=[this.width-n,this.height-c,this.depth-e]),f}read(){return this.data}copy(n){const c=this.data;return t(0,Math.min(n.length,this.samples),!1).map(e=>c[e]=n[e])}fill(){let n,c,e,f;const {callback:h}=this;"function"===typeof h.reset&&h.reset();const {emit:k,skip:g,count:r,done:u,
reset:w}=this.streamer;w();const x=this.width,B=this.height,E=this.pad.x,C=this.pad.y,H=this.samples-this.pad.z*x*B;let I=n=c=e=0;if(0<E||0<C)for(;!u()&&e<H&&(e++,f=h(k,I,n,c),++I===x-E&&(g(E),I=0,++n===B-C&&(g(x*C),n=0,c++)),!1!==f););else for(;!u()&&e<H&&(e++,f=h(k,I,n,c),++I===x&&(I=0,++n===B&&(n=0,c++)),!1!==f););this.filled=1;return r()}}m.PushBuffer=p};
shadow$provide[344]=function(z,v,J,m){function t(g){if("function"!==typeof WeakMap)return null;var r=new WeakMap,u=new WeakMap;return(t=function(w){return w?u:r})(g)}function p(g,r){if(!r&&g&&g.__esModule)return g;if(null===g||"object"!==typeof g&&"function"!==typeof g)return{default:g};if((r=t(r))&&r.has(g))return r.get(g);var u={},w=Object.defineProperty&&Object.getOwnPropertyDescriptor,x;for(x in g)if("default"!==x&&Object.prototype.hasOwnProperty.call(g,x)){var B=w?Object.getOwnPropertyDescriptor(g,
x):null;B&&(B.get||B.set)?Object.defineProperty(u,x,B):u[x]=g[x]}u.default=g;r&&r.set(g,u);return u}Object.defineProperty(m,"__esModule",{value:!0});m.Readback=void 0;var n=p(v(99)),c=p(v(100)),e=v(2),f=v(336),h=v(340);z=v(314);class k extends z.Renderable{constructor(g,r,u){super(g,r);null==this.items&&(this.items=u.items||1);null==this.channels&&(this.channels=u.channels||4);null==this.width&&(this.width=u.width||1);null==this.height&&(this.height=u.height||1);null==this.depth&&(this.depth=u.depth||
1);null==this.type&&(this.type=u.type||e.FloatType);null==this.stpq&&(this.stpq=u.stpq||!1);this.isFloat=this.type===e.FloatType;this.active=this.sampled=this.rect=this.pad=null;this.build(u)}build(g){let r;({map:H}=g);({indexer:I}=g);g=null!=I&&!I.empty();let {stpq:u}=this;const {items:w,width:x,height:B,depth:E}=this;let C=H;g&&(this._adopt({indexModulus:{type:"v4",value:new e.Vector4(w,w*x,w*x*B,1)}}),C=this.shaders.shader(),C.require(H),C.require(I),C.pipe("float.index.pack",this.uniforms));this.isFloat&&
1<this.channels&&(this.floatMemo=new f.Memo(this.renderer,this.shaders,{items:w,channels:4,width:x,height:B,depth:E,history:0,type:e.FloatType}),this.floatCompose=new h.MemoScreen(this.renderer,this.shaders,{map:C,items:w,width:x,height:B,depth:E,stpq:u}),this.floatMemo.adopt(this.floatCompose),u=!1,C=this.shaders.shader(),this.floatMemo.shaderAbsolute(C));if(this.isFloat){r=this.channels;var H=4}else r=1,H=this.channels;if(1<r){var I=this.shaders.shader();I.pipe(c.mapByte2FloatOffset(r));I.require(C);
I.pipe("float.stretch");I.pipe("float.encode");C=I}else this.isFloat&&(I=this.shaders.shader(),I.pipe(C),I.pipe(c.truncateVec(4,1)),I.pipe("float.encode"),C=I);this.byteMemo=new f.Memo(this.renderer,this.shaders,{items:w*r,channels:H,width:x,height:B,depth:E,history:0,type:e.UnsignedByteType});this.byteCompose=new h.MemoScreen(this.renderer,this.shaders,{map:C,items:w*r,width:x,height:B,depth:E,stpq:u});this.byteMemo.adopt(this.byteCompose);this.samples=this.width*this.height*this.depth;this.bytes=
new Uint8Array(w*x*r*B*E*4);this.isFloat&&(this.floats=new Float32Array(this.bytes.buffer));this.data=this.isFloat?this.floats:this.bytes;this.streamer=this.generate(this.data);this.active={items:0,width:0,height:0,depth:0};this.sampled={items:0,width:0,height:0,depth:0};this.rect={w:0,h:0};this.pad={x:0,y:0,z:0,w:0};this.stretch=r;this.isIndexed=g;return this.setActive(w,x,B,E)}generate(g){return n.getStreamer(g,this.samples,4,this.items)}setActive(g,r,u,w){let x;if(g!==this.active.items||r!==this.active.width||
u!==this.active.height||w!==this.active.depth){[this.active.items,this.active.width,this.active.height,this.active.depth]=Array.from([g,r,u,w]);null!=this.floatCompose&&this.floatCompose.cover(r,u,w);null!=this.byteCompose&&this.byteCompose.cover(r*this.stretch,u,w);({items:g}=this);({width:r}=this.active);u=1===this.depth?this.active.height:this.height;({depth:w}=this.active);var B=g*r*this.stretch,E=u*w;[this.sampled.items,this.sampled.width,this.sampled.height,this.sampled.depth]=Array.from([g,
r,u,w]);[this.rect.w,this.rect.h]=Array.from([B,E]);return[this.pad.x,this.pad.y,this.pad.z,this.pad.w]=Array.from(x=[this.sampled.width-this.active.width,this.sampled.height-this.active.height,this.sampled.depth-this.active.depth,this.sampled.items-this.active.items]),x}}update(g){null!=this.floatMemo&&this.floatMemo.render(g);return null!=this.byteMemo?this.byteMemo.render(g):void 0}post(){const g=this.renderer.getRenderTarget();this.renderer.setRenderTarget(this.byteMemo.target.targets[0]);this.gl.readPixels(0,
0,this.rect.w,this.rect.h,this.gl.RGBA,this.gl.UNSIGNED_BYTE,this.bytes);this.renderer.setRenderTarget(g)}readFloat(g){return null!=this.floatMemo?this.floatMemo.read(g):void 0}readByte(g){return null!=this.byteMemo?this.byteMemo.read(g):void 0}setCallback(g){this.emitter=this.callback(g)}callback(g){if(!this.isIndexed)return g;const r=this.width,u=this.height,w=this.items,x=function(B,E,C,H){let I=H;const K=I%w;I=(I-K)/w;const O=I%r;I=(I-O)/r;const Q=I%u;I=(I-Q)/u;return g(B,E,C,H,O,Q,I,K)};x.reset=
()=>"function"===typeof g.reset?g.reset():void 0;return x}iterate(){let g,r,u,w=this.emitter;"function"===typeof w.reset&&w.reset();const {consume:x,skip:B,count:E,done:C,reset:H}=this.streamer;H();const I=this.sampled.width|0;let K=this.sampled.height|0;const O=this.sampled.items|0,Q=this.pad.x|0,W=this.pad.y|0,R=this.pad.w|0,X=I*K*O*((this.sampled.depth|0)-(this.pad.z|0));if(!this.isIndexed){const ka=w;w=(la,Aa,ta,Ha)=>ka(la,Aa,ta,Ha,ca,g,r,u)}let ca=g=r=u=K=0;for(;!C()&&K<X;){K++;const ka=x(w);
++u===O-R&&(B(Q),u=0,++ca===I-Q&&(B(O*Q),ca=0,++g===K-W&&(B(O*I*W),g=0,r++)));if(!1===ka)break}return Math.floor(E()/O)}dispose(){null!=this.floatMemo&&this.floatMemo.unadopt(this.floatCompose);null!=this.floatMemo&&this.floatMemo.dispose();null!=this.floatCompose&&this.floatCompose.dispose();null!=this.byteMemo&&this.byteMemo.unadopt(this.byteCompose);null!=this.byteMemo&&this.byteMemo.dispose();null!=this.byteCompose&&this.byteCompose.dispose();return this.floatMemo=this.byteMemo=this.floatCompose=
this.byteCompose=null}}m.Readback=k};
shadow$provide[345]=function(z,v,J,m){Object.defineProperty(m,"__esModule",{value:!0});m.Sprite=void 0;var t=v(2);z=v(324);var p=v(341);class n extends z.Base{constructor(c,e,f){var h;super(c,e,f);({uniforms:h}=f);const {material:k,position:g,sprite:r,map:u,combine:w,linear:x,color:B,mask:E,stpq:C}=f;null==h&&(h={});c=null!=h.styleColor;this.geometry=new p.SpriteGeometry({items:f.items,width:f.width,height:f.height,depth:f.depth});this._adopt(h);this._adopt(this.geometry.uniforms);h=e.material();
f=h.vertex;f.pipe(this._vertexColor(B,E));f.require(this._vertexPosition(g,k,u,2,C));f.require(r);f.pipe("sprite.position",this.uniforms);f.pipe("project.position",this.uniforms);h.fragment=h=this._fragmentColor(c,k,B,E,u,2,C,w,x);c=e.material();c.vertex.pipe(f);c.fragment.pipe(h);c.fragment.pipe("fragment.transparent",this.uniforms);e=e.material();e.vertex.pipe(f);e.fragment.pipe(h);e.fragment.pipe("fragment.solid",this.uniforms);e=e.link({side:t.DoubleSide});this.fillMaterial=this._material(e);
f=c.link({side:t.DoubleSide});this.edgeMaterial=this._material(f);this.fillObject=new t.Mesh(this.geometry,this.fillMaterial);this.edgeObject=new t.Mesh(this.geometry,this.edgeMaterial);this._raw(this.fillObject);this.fillObject.userData=e;this._raw(this.edgeObject);this.edgeObject.userData=f;this.renders=[this.fillObject,this.edgeObject]}show(c,e,f,h){this._show(this.edgeObject,!0,e,f,h);return this._show(this.fillObject,c,e,f,h)}dispose(){this.geometry.dispose();this.edgeMaterial.dispose();this.fillMaterial.dispose();
this.renders=this.geometry=this.edgeMaterial=this.fillMaterial=this.edgeObject=this.fillObject=null;return super.dispose()}}m.Sprite=n};
shadow$provide[346]=function(z,v,J,m){Object.defineProperty(m,"__esModule",{value:!0});m.StripGeometry=void 0;var t=v(2);z=v(322);class p extends z.ClipGeometry{constructor(n){let c;var e;let f,h;super(n);this._clipUniforms();this.items=e=+n.items||2;this.width=h=+n.width||1;this.height=c=+n.height||1;this.depth=n=+n.depth||1;this.sides=f=Math.max(0,e-2);var k=h*c*n,g=e*k;this.setIndex(new t.BufferAttribute(new Uint32Array(f*k*3),1));this.setAttribute("position4",new t.BufferAttribute(new Float32Array(4*
g),4));this.setAttribute("strip",new t.BufferAttribute(new Float32Array(3*g),3));const r=this._emitter("index");g=this._emitter("position4");const u=this._emitter("strip");let w=0;for(let x=0,B=k,E=0<=B;E?x<B:x>B;E?x++:x--){k=w;for(let C=0,H=f,I=0<=H;I?C<H:C>H;I?C++:C--)C&1?(r(k+1),r(k)):(r(k),r(k+1)),r(k+2),k++;w+=e}--e;for(let x=0,B=n,E=0<=B;E?x<B:x>B;E?x++:x--)for(let C=0,H=c,I=0<=H;I?C<H:C>H;I?C++:C--)for(let K=0,O=h,Q=0<=O;Q?K<O:K>O;Q?K++:K--){n=1;g(K,C,x,0);u(1,2,n);for(let W=1,R=e,X=1<=R;X?
W<R:W>R;X?W++:W--)g(K,C,x,W),u(W-1,W+1,n=-n);g(K,C,x,e);u(e-2,e-1,-n)}this._finalize();this.clip()}clip(n,c,e,f){null==n&&({width:n}=this);null==c&&({height:c}=this);null==e&&({depth:e}=this);null==f&&({items:f}=this);const h=Math.max(0,f-2);this._clipGeometry(n,c,e,f);return this._clipOffsets(3,n,c,e,h,this.width,this.height,this.depth,this.sides)}}m.StripGeometry=p};
shadow$provide[347]=function(z,v,J,m){Object.defineProperty(m,"__esModule",{value:!0});m.Strip=void 0;var t=v(2);z=v(324);var p=v(346);class n extends z.Base{constructor(c,e,f){super(c,e,f);let {uniforms:h,material:k}=f;const {position:g,color:r,mask:u,map:w,combine:x,linear:B,stpq:E}=f;null==h&&(h={});null==k&&(k=!0);c=null!=h.styleColor;this.geometry=new p.StripGeometry({items:f.items,width:f.width,height:f.height,depth:f.depth});this._adopt(h);this._adopt(this.geometry.uniforms);e=e.material();
f=e.vertex;f.pipe(this._vertexColor(r,u));f.require(this._vertexPosition(g,k,w,2,E));k||f.pipe("mesh.position",this.uniforms);k&&f.pipe("strip.position.normal",this.uniforms);f.pipe("project.position",this.uniforms);e.fragment=c=this._fragmentColor(c,k,r,u,w,2,E,x,B);c.pipe("fragment.color",this.uniforms);c=e.link({side:t.DoubleSide});this.material=this._material(c);e=new t.Mesh(this.geometry,this.material);e.userData=c;this._raw(e);this.renders=[e]}dispose(){this.geometry.dispose();this.material.dispose();
this.renders=this.geometry=this.material=null;return super.dispose()}}m.Strip=n};
shadow$provide[348]=function(z,v,J,m){Object.defineProperty(m,"__esModule",{value:!0});m.Surface=void 0;var t=v(2);z=v(324);var p=v(337);class n extends z.Base{constructor(c,e,f){super(c,e,f);let {uniforms:h,material:k}=f;const {position:g,color:r,normal:u,mask:w,map:x,combine:B,linear:E,stpq:C,intUV:H}=f;null==h&&(h={});null==k&&(k=!0);c=null!=h.styleColor;this.geometry=new p.SurfaceGeometry({width:f.width,height:f.height,surfaces:f.surfaces,layers:f.layers,closedX:f.closedX,closedY:f.closedY});
this._adopt(h);this._adopt(this.geometry.uniforms);var I={};f.closedX&&(I.SURFACE_CLOSED_X="");f.closedY&&(I.SURFACE_CLOSED_Y="");H&&(I.POSITION_UV_INT="");e=e.material();f=e.vertex;f.pipe(this._vertexColor(r,w));f.require(this._vertexPosition(g,k,x,2,C));u?(f.require(u),f.pipe("surface.position.normal",this.uniforms,I)):(k||f.pipe("surface.position",this.uniforms,I),k&&f.pipe("surface.position.shaded",this.uniforms,I));f.pipe("project.position",this.uniforms);e.fragment=c=this._fragmentColor(c,k,
r,w,x,2,C,B,E);c.pipe("fragment.color",this.uniforms);c=e.link({side:t.DoubleSide});this.material=this._material(c);I=new t.Mesh(this.geometry,this.material);I.userData=c;this._raw(I);this.renders=[I]}dispose(){this.geometry.dispose();this.material.dispose();this.renders=this.geometry=this.material=null;return super.dispose()}}m.Surface=n};
shadow$provide[349]=function(z,v,J,m){Object.defineProperty(m,"__esModule",{value:!0});m.TextAtlas=void 0;z=v(327);var t=v(2);class p extends z.Atlas{constructor(n,c,e){let f;e.width||(e.width=256);e.height||(e.height=256);e.type=t.UnsignedByteType;e.channels=1;e.backed=!0;super(n,c,e,!1);this.font=null!=e.font?e.font:["sans-serif"];this.size=e.size||24;this.style=null!=e.style?e.style:"normal";this.variant=null!=e.variant?e.variant:"normal";this.weight=null!=e.weight?e.weight:"normal";this.outline=
null!=(f=+(null!=e.outline?e.outline:5))?f:0;this.gamma=1;"undefined"!==typeof navigator&&(n=navigator.userAgent,n.match(/Chrome/)&&n.match(/OS X/)&&(this.gamma=.5));this.scratchW=this.scratchH=0;this.build(e)}build(n){super.build(n);n=16;n=this.size;n+=4+2*Math.min(1,this.outline);const c=32*n,e=document.createElement("canvas");e.width=c;e.height=n;var f=this.font.map(g=>`${g.replace(/(['"\\])/g,"\\$1")}`).join(", ");const h=e.getContext("2d",{willReadFrequently:!0});h.font=`${this.style} ${this.variant} ${this.weight} ${this.size}px ${f}`;
h.fillStyle="#FF0000";h.textAlign="left";h.textBaseline="bottom";h.lineJoin="round";f=[];var k=3*this.outline;for(let g=0,r=k,u=0<=r;u?g<r:g>r;u?g++:g--)k=("00"+Math.max(0,8*-g+128-8*!g).toString(16)).slice(-2),f.push("#"+k+k+k);k=new Uint8Array(c*n*2);this.canvas=e;this.context=h;this.lineHeight=n;this.maxWidth=c;this.colors=f;this.scratch=k;this._allocate=this.allocate.bind(this);return this._write=this.write.bind(this)}reset(){super.reset();return this.mapped={}}begin(){return Array.from(this.rows).map(n=>
n.alive=0)}end(){const {mapped:n}=this;for(const c of Array.from(this.rows.slice()))if(0===c.alive){for(const e of Array.from(c.keys))delete n[e];this.collapse(c)}}map(n,c){const {mapped:e}=this;var f=e[n];if(null!=f)return f.row.alive++,c(f.x,f.y,f.w,f.h);this.draw(n);const h=this.scratch,k=this.scratchW,g=this.scratchH;f=this._allocate;const r=this._write;return f(n,k,g,function(u,w,x){e[n]={x:w,y:x,w:k,h:g,row:u};r(h,w,x,k,g);return c(w,x,k,g)})}draw(n){const c=this.lineHeight;var e=this.outline;
var f=this.context;const h=this.scratch;var k=this.maxWidth;var {colors:g}=this,r=e+1,u=Math.round(1.05*c-1);var w=f.measureText(n);k=Math.min(k,Math.ceil(w.width+2*r+1));f.clearRect(0,0,k,c);if(0===this.outline)for(f.fillText(n,r,u),{data:n}=f.getImageData(0,0,k,c),w=3,e=0,g=n.length/4,f=0<=g;f?e<g:e>g;f?e++:e--)h[e]=n[w],w+=4;else{var x;f.globalCompositeOperation="source-over";e=w=e+1;for(x=1>=w;x?1>=e:1<=e;x?e++:e--)w=1<e?2*e-2:e,f.strokeStyle=g[w-1],f.lineWidth=w,f.strokeText(n,r,u);f.globalCompositeOperation=
"multiply";f.fillText(n,r,u);({data:n}=f.getImageData(0,0,k,c));w=0;({gamma:r}=this);e=0;g=n.length/4;for(f=0<=g;f?e<g:e>g;f?e++:e--){x=(u=n[w])?n[w+1]/u:1;.5===r&&(x=Math.sqrt(x));x=Math.min(1,Math.max(0,x));const B=256-u;h[e]=Math.max(0,Math.min(255,B+(u-B)*x+2));w+=4}}this.scratchW=k;return this.scratchH=c}}m.TextAtlas=p};
shadow$provide[350]=function(z,v,J,m){function t(c){if("function"!==typeof WeakMap)return null;var e=new WeakMap,f=new WeakMap;return(t=function(h){return h?f:e})(c)}Object.defineProperty(m,"__esModule",{value:!0});m.VoxelBuffer=void 0;var p=function(c,e){if(!e&&c&&c.__esModule)return c;if(null===c||"object"!==typeof c&&"function"!==typeof c)return{default:c};if((e=t(e))&&e.has(c))return e.get(c);var f={},h=Object.defineProperty&&Object.getOwnPropertyDescriptor,k;for(k in c)if("default"!==k&&Object.prototype.hasOwnProperty.call(c,
k)){var g=h?Object.getOwnPropertyDescriptor(c,k):null;g&&(g.get||g.set)?Object.defineProperty(f,k,g):f[k]=c[k]}f.default=c;e&&e.set(c,f);return f}(v(99));z=v(319);class n extends z.DataBuffer{build(c){super.build();this.pad={x:0,y:0,z:0};return this.streamer=this.generate(this.data)}setActive(c,e,f){let h;return[this.pad.x,this.pad.y,this.pad.z]=Array.from(h=[Math.max(0,this.width-c),Math.max(0,this.height-e),Math.max(0,this.depth-f)]),h}fill(){let c,e,f,h;const {callback:k}=this;"function"===typeof k.reset&&
k.reset();const {emit:g,skip:r,count:u,done:w,reset:x}=this.streamer;x();const B=this.width,E=this.height,C=this.pad.x,H=this.pad.y,I=this.samples-this.pad.z*B*E;let K=c=e=f=0;if(0<C||0<H)for(;!w()&&f<I&&(f++,h=k(g,K,c,e),++K===B-C&&(r(C),f+=C,K=0,++c===E-H&&(r(B*H),f+=B*H,c=0,e++)),!1!==h););else for(;!w()&&f<I&&(f++,h=k(g,K,c,e),++K===B&&(K=0,++c===E&&(c=0,e++)),!1!==h););return Math.floor(u()/this.items)}through(c,e){let f,h,k,g;const {consume:r,done:u,skip:w}=g=this.streamer,{emit:x}=f=e.streamer;
let B=h=k=0,E=()=>r((C,H,I,K)=>c(x,C,H,I,K,B,h,k));E=p.repeatCall(E,this.items);return()=>{let C;g.reset();f.reset();const H=this.width,I=this.height,K=this.pad.x,O=this.pad.y,Q=this.samples-this.pad.z*H*I;B=h=k=C=0;if(0<K||0<O)for(;!u()&&C<Q;)C++,E(),++B===H-K&&(w(K),B=0,++h===I-O&&(w(H*O),h=0,k++));else for(;!u()&&C<Q;)C++,E(),++B===H&&(B=0,++h===I&&(h=0,k++));return g.count()}}}m.VoxelBuffer=n};
shadow$provide[351]=function(z,v,J,m){Object.defineProperty(m,"__esModule",{value:!0});m.Classes=void 0;z=v(320);J=v(325);var t=v(327),p=v(319),n=v(328),c=v(330),e=v(332),f=v(333),h=v(336),k=v(340),g=v(342),r=v(343),u=v(344),w=v(335),x=v(315),B=v(339),E=v(345),C=v(347),H=v(348),I=v(349);v=v(350);m.Classes={sprite:E.Sprite,point:g.Point,line:e.Line,surface:H.Surface,face:c.Face,strip:C.Strip,arrow:J.Arrow,screen:B.Screen,memoScreen:k.MemoScreen,debug:n.Debug,dataBuffer:p.DataBuffer,arrayBuffer:z.ArrayBuffer_,
matrixBuffer:f.MatrixBuffer,voxelBuffer:v.VoxelBuffer,pushBuffer:r.PushBuffer,renderToTexture:w.RenderToTexture,memo:h.Memo,readback:u.Readback,atlas:t.Atlas,textAtlas:I.TextAtlas,scene:x.Scene}};
shadow$provide[352]=function(z,v,J,m){Object.defineProperty(m,"__esModule",{value:!0});var t={Factory:!0};Object.defineProperty(m,"Factory",{enumerable:!0,get:function(){return n.RenderFactory}});var p=v(315);Object.keys(p).forEach(function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(t,e)||e in m&&m[e]===p[e]||Object.defineProperty(m,e,{enumerable:!0,get:function(){return p[e]}}))});var n=v(316),c=v(351);Object.keys(c).forEach(function(e){"default"!==e&&"__esModule"!==
e&&(Object.prototype.hasOwnProperty.call(t,e)||e in m&&m[e]===c[e]||Object.defineProperty(m,e,{enumerable:!0,get:function(){return c[e]}}))})};
shadow$provide[353]=function(z,v,J,m){Object.defineProperty(m,"__esModule",{value:!0});m.default=void 0;m.default="uniform float worldUnit;\nuniform float lineDepth;\nuniform float lineWidth;\nuniform float focusDepth;\n\nuniform vec4 geometryClip;\nuniform float arrowSize;\nuniform float arrowSpace;\n\nattribute vec4 position4;\nattribute vec3 arrow;\nattribute vec2 attach;\n\n// External\nvec3 getPosition(vec4 xyzw, float canonical);\n\nvoid getArrowGeometry(vec4 xyzw, float near, float mid, float far, out vec3 left, out vec3 right, out vec3 middle, out vec3 start) {\n  right  \x3d getPosition(xyzw, 1.0);\n  left   \x3d getPosition(vec4(near, xyzw.yzw), 0.0);\n  middle \x3d getPosition(vec4(mid,  xyzw.yzw), 0.0);\n  start  \x3d getPosition(vec4(far,  xyzw.yzw), 0.0);\n}\n\nmat4 getArrowMatrix(vec3 left, vec3 right, vec3 middle, vec3 start) {\n\n  float depth \x3d focusDepth;\n  if (lineDepth \x3c 1.0) {\n    // Depth blending\n    float z \x3d max(0.00001, -right.z);\n    depth \x3d mix(z, focusDepth, lineDepth);\n  }\n\n  vec3 diff \x3d left - right;\n  float l \x3d length(diff);\n  if (l \x3d\x3d 0.0) {\n    return mat4(1.0, 0.0, 0.0, 0.0,\n                0.0, 1.0, 0.0, 0.0,\n                0.0, 0.0, 1.0, 0.0,\n                0.0, 0.0, 0.0, 1.0);\n  }\n\n  // Construct TBN matrix around shaft\n  vec3 t \x3d normalize(diff);\n  vec3 n \x3d normalize(cross(t, t.yzx + vec3(.1, .2, .3)));\n  vec3 b \x3d cross(n, t);\n\n  // Shrink arrows when vector gets too small\n  // Approach linear scaling with cubic ease the smaller we get\n  float size \x3d arrowSize * lineWidth * worldUnit * depth * 1.25;\n  l \x3d max(length(right - middle), length(middle - start)) * 2.0 * arrowSpace;\n  float mini \x3d clamp(1.0 - l / size * .333, 0.0, 1.0);\n  float scale \x3d 1.0 - mini * mini * mini;\n  float range \x3d size * scale;\n\n  // Size to 2.5:1 ratio\n  float rangeNB \x3d range / 2.5;\n\n  // Anchor at end position\n  return mat4(vec4(n * rangeNB,  0),\n              vec4(b * rangeNB,  0),\n              vec4(t * range, 0),\n              vec4(right,  1.0));\n}\n\nvec3 getArrowPosition() {\n  vec3 left, right, middle, start;\n\n  // Clip arrow position and attachment anchors to data\n  vec4 p \x3d min(geometryClip, position4);\n  vec3 a \x3d vec3(min(geometryClip.x, p.x + attach.x), geometryClip.x / 2.0, min(geometryClip.x, attach.y));\n\n  getArrowGeometry(p, a.x, a.y, a.z, left, right, middle, start);\n  mat4 matrix \x3d getArrowMatrix(left, right, middle, start);\n\n  return (matrix * vec4(arrow.xyz, 1.0)).xyz;\n\n}\n"};
shadow$provide[354]=function(z,v,J,m){Object.defineProperty(m,"__esModule",{value:!0});m.default=void 0;m.default="uniform vec4 axisStep;\nuniform vec4 axisPosition;\n\nvec4 getAxisPosition(vec4 xyzw, inout vec4 stpq) {\n  return axisStep * xyzw.x + axisPosition;\n}\n"};
shadow$provide[355]=function(z,v,J,m){Object.defineProperty(m,"__esModule",{value:!0});m.default=void 0;m.default="uniform vec4 basisScale;\nuniform vec4 basisOffset;\nuniform vec4 viewScale;\nuniform vec4 viewOffset;\n\nvec4 getCartesian4Position(vec4 position, inout vec4 stpq) {\n  return position * basisScale + basisOffset;\n}\n"};
shadow$provide[356]=function(z,v,J,m){Object.defineProperty(m,"__esModule",{value:!0});m.default=void 0;m.default="uniform mat4 viewMatrix;\n\nvec4 getCartesianPosition(vec4 position, inout vec4 stpq) {\n  return viewMatrix * vec4(position.xyz, 1.0);\n}\n"};
shadow$provide[357]=function(z,v,J,m){Object.defineProperty(m,"__esModule",{value:!0});m.default=void 0;m.default="uniform vec4 clampLimit;\n\nvec4 getClampXYZW(vec4 xyzw) {\n  return clamp(xyzw, vec4(0.0), clampLimit);\n}\n"};
shadow$provide[358]=function(z,v,J,m){Object.defineProperty(m,"__esModule",{value:!0});m.default=void 0;m.default="vec4 opaqueColor(vec4 color) {\n  return vec4(color.rgb, 1.0);\n}\n"};
shadow$provide[359]=function(z,v,J,m){Object.defineProperty(m,"__esModule",{value:!0});m.default=void 0;m.default="uniform vec4 geometryClip;\nattribute vec4 position4;\n\n// External\nvec3 getPosition(vec4 xyzw, float canonical);\n\nvec3 getFacePosition() {\n  vec4 p \x3d min(geometryClip, position4);\n  return getPosition(p, 1.0);\n}\n"};
shadow$provide[360]=function(z,v,J,m){Object.defineProperty(m,"__esModule",{value:!0});m.default=void 0;m.default="attribute vec4 position4;\n\n// External\nvec3 getPosition(vec4 xyzw, float canonical);\n\nvarying vec3 vNormal;\nvarying vec3 vLight;\nvarying vec3 vPosition;\n\nvoid getFaceGeometry(vec4 xyzw, out vec3 pos, out vec3 normal) {\n  vec3 a, b, c;\n\n  a   \x3d getPosition(vec4(xyzw.xyz, 0.0), 0.0);\n  b   \x3d getPosition(vec4(xyzw.xyz, 1.0), 0.0);\n  c   \x3d getPosition(vec4(xyzw.xyz, 2.0), 0.0);\n\n  pos \x3d getPosition(xyzw, 1.0);\n  normal \x3d normalize(cross(c - a, b - a));\n}\n\nvec3 getFacePositionNormal() {\n  vec3 center, normal;\n\n  getFaceGeometry(position4, center, normal);\n  vNormal   \x3d normal;\n  vLight    \x3d normalize((viewMatrix * vec4(1.0, 2.0, 2.0, 0.0)).xyz);\n  vPosition \x3d -center;\n\n  return center;\n}\n"};
shadow$provide[361]=function(z,v,J,m){Object.defineProperty(m,"__esModule",{value:!0});m.default=void 0;m.default="/*\nFloat encoding technique by\nCarlos Scheidegger\nhttps://github.com/cscheid/lux/blob/master/src/shade/bits/encode_float.js\n\nConversion to GLSL by:\nhttp://concord-consortium.github.io/lab/experiments/webgl-gpgpu/script.js\n*/\n\nfloat shift_right(float v, float amt) { \n  v \x3d floor(v) + 0.5; \n  return floor(v / exp2(amt)); \n}\n\nfloat shift_left(float v, float amt) { \n  return floor(v * exp2(amt) + 0.5); \n}\n\nfloat mask_last(float v, float bits) { \n  return mod(v, shift_left(1.0, bits)); \n}\n\nfloat extract_bits(float num, float from, float to) { \n  from \x3d floor(from + 0.5); to \x3d floor(to + 0.5); \n  return mask_last(shift_right(num, from), to - from); \n}\n\nvec4 encode_float(float val) { \n  if (val \x3d\x3d 0.0) return vec4(0, 0, 0, 0); \n  float valuesign \x3d val \x3e 0.0 ? 0.0 : 1.0; \n  val \x3d abs(val); \n  float exponent \x3d floor(log2(val)); \n  float biased_exponent \x3d exponent + 127.0; \n  float fraction \x3d ((val / exp2(exponent)) - 1.0) * 8388608.0; \n  float t \x3d biased_exponent / 2.0; \n  float last_bit_of_biased_exponent \x3d fract(t) * 2.0; \n  float remaining_bits_of_biased_exponent \x3d floor(t); \n  float byte4 \x3d extract_bits(fraction, 0.0, 8.0) / 255.0; \n  float byte3 \x3d extract_bits(fraction, 8.0, 16.0) / 255.0; \n  float byte2 \x3d (last_bit_of_biased_exponent * 128.0 + extract_bits(fraction, 16.0, 23.0)) / 255.0; \n  float byte1 \x3d (valuesign * 128.0 + remaining_bits_of_biased_exponent) / 255.0; \n  return vec4(byte4, byte3, byte2, byte1); \n}\n"};
shadow$provide[362]=function(z,v,J,m){Object.defineProperty(m,"__esModule",{value:!0});m.default=void 0;m.default="uniform vec4 indexModulus;\n\nvec4 getSample(vec4 xyzw);\nvec4 getIndex(vec4 xyzw);\n\nvec4 floatPackIndex(vec4 xyzw) {\n  vec4 value \x3d getSample(xyzw);\n  vec4 index \x3d getIndex(xyzw);\n\n  vec4 offset \x3d floor(index + .5) * indexModulus;\n  vec2 sum2 \x3d offset.xy + offset.zw;\n  float sum \x3d sum2.x + sum2.y;\n  return vec4(value.xyz, sum);\n}"};
shadow$provide[363]=function(z,v,J,m){Object.defineProperty(m,"__esModule",{value:!0});m.default=void 0;m.default="vec4 getSample(vec4 xyzw);\n\nfloat floatStretch(vec4 xyzw, float channelIndex) {\n  vec4 sample \x3d getSample(xyzw);\n  vec2 xy \x3d channelIndex \x3e 1.5 ? sample.zw : sample.xy;\n  return mod(channelIndex, 2.0) \x3e .5 ? xy.y : xy.x;\n}"};
shadow$provide[364]=function(z,v,J,m){Object.defineProperty(m,"__esModule",{value:!0});m.default=void 0;m.default="varying float vClipStrokeWidth;\nvarying float vClipStrokeIndex;\nvarying vec3  vClipStrokeEven;\nvarying vec3  vClipStrokeOdd;\nvarying vec3  vClipStrokePosition;\n\nvoid clipStrokeFragment() {\n  bool odd \x3d mod(vClipStrokeIndex, 2.0) \x3e\x3d 1.0;\n\n  vec3 tangent;\n  if (odd) {\n    tangent \x3d vClipStrokeOdd;\n  }\n  else {\n    tangent \x3d vClipStrokeEven;\n  }\n\n  float travel \x3d dot(vClipStrokePosition, normalize(tangent)) / vClipStrokeWidth;\n  if (mod(travel, 16.0) \x3e 8.0) {\n    discard;\n  }\n}\n"};
shadow$provide[365]=function(z,v,J,m){Object.defineProperty(m,"__esModule",{value:!0});m.default=void 0;m.default="varying float vClipStrokeWidth;\nvarying float vClipStrokeIndex;\nvarying vec3  vClipStrokeEven;\nvarying vec3  vClipStrokeOdd;\nvarying vec3  vClipStrokePosition;\n\nvoid clipStrokeFragment() {\n  bool odd \x3d mod(vClipStrokeIndex, 2.0) \x3e\x3d 1.0;\n\n  vec3 tangent;\n  if (odd) {\n    tangent \x3d vClipStrokeOdd;\n  }\n  else {\n    tangent \x3d vClipStrokeEven;\n  }\n\n  float travel \x3d dot(vClipStrokePosition, normalize(tangent)) / vClipStrokeWidth;\n  if (mod(travel, 4.0) \x3e 2.0) {\n    discard;\n  }\n}\n"};
shadow$provide[366]=function(z,v,J,m){Object.defineProperty(m,"__esModule",{value:!0});m.default=void 0;m.default="varying vec2 vClipEnds;\n\nvoid clipEndsFragment() {\n  if (vClipEnds.x \x3c 0.0 || vClipEnds.y \x3c 0.0) discard;\n}\n"};
shadow$provide[367]=function(z,v,J,m){Object.defineProperty(m,"__esModule",{value:!0});m.default=void 0;m.default="varying float vClipProximity;\n\nvoid clipProximityFragment() {\n  if (vClipProximity \x3e\x3d 0.5) discard;\n}"};
shadow$provide[368]=function(z,v,J,m){Object.defineProperty(m,"__esModule",{value:!0});m.default=void 0;m.default="void setFragmentColor(vec4 color) {\n  gl_FragColor \x3d color;\n}"};
shadow$provide[369]=function(z,v,J,m){Object.defineProperty(m,"__esModule",{value:!0});m.default=void 0;m.default="vec4 fragmentRGBA(vec4 rgba, vec4 stpq) {\n  return rgba;\n}"};
shadow$provide[370]=function(z,v,J,m){Object.defineProperty(m,"__esModule",{value:!0});m.default=void 0;m.default="void setFragmentColor(vec4 color) {\n  if (color.a \x3c 1.0) discard;\n  gl_FragColor \x3d color;\n}"};
shadow$provide[371]=function(z,v,J,m){Object.defineProperty(m,"__esModule",{value:!0});m.default=void 0;m.default="void setFragmentColor(vec4 color) {\n  if (color.a \x3e\x3d 1.0) discard;\n  gl_FragColor \x3d color;\n}"};
shadow$provide[372]=function(z,v,J,m){Object.defineProperty(m,"__esModule",{value:!0});m.default=void 0;m.default="uniform vec4 gridPosition;\nuniform vec4 gridStep;\nuniform vec4 gridAxis;\n\nvec4 sampleData(vec2 xy);\n\nvec4 getGridPosition(vec4 xyzw) {\n  vec4 onAxis  \x3d gridAxis * sampleData(vec2(xyzw.y, 0.0)).x;\n  vec4 offAxis \x3d gridStep * xyzw.x + gridPosition;\n  return onAxis + offAxis;\n}\n"};
shadow$provide[373]=function(z,v,J,m){Object.defineProperty(m,"__esModule",{value:!0});m.default=void 0;m.default="uniform float growScale;\nuniform vec4  growMask;\nuniform vec4  growAnchor;\n\nvec4 getSample(vec4 xyzw);\n\nvec4 getGrowSample(vec4 xyzw) {\n  vec4 anchor \x3d xyzw * growMask + growAnchor;\n\n  vec4 position \x3d getSample(xyzw);\n  vec4 center \x3d getSample(anchor);\n\n  return mix(center, position, growScale);\n}"};
shadow$provide[374]=function(z,v,J,m){Object.defineProperty(m,"__esModule",{value:!0});m.default=void 0;m.default="uniform float joinStride;\nuniform float joinStrideInv;\n\nfloat getIndex(vec4 xyzw);\nvec4 getRest(vec4 xyzw);\nvec4 injectIndices(float a, float b);\n\nvec4 getJoinXYZW(vec4 xyzw) {\n\n  float a \x3d getIndex(xyzw);\n  float b \x3d a * joinStrideInv;\n\n  float integer  \x3d floor(b);\n  float fraction \x3d b - integer;\n  \n  return injectIndices(fraction * joinStride, integer) + getRest(xyzw);\n}\n"};
shadow$provide[375]=function(z,v,J,m){Object.defineProperty(m,"__esModule",{value:!0});m.default=void 0;m.default="varying float vPixelSize;\n\nvec4 getLabelAlphaColor(vec4 color, vec4 sample) {\n  float mask \x3d clamp(sample.r * 1000.0, 0.0, 1.0);\n  float alpha \x3d (sample.r - .5) * vPixelSize + .5;\n  float a \x3d mask * alpha * color.a;\n  if (a \x3c\x3d 0.0) discard;\n  return vec4(color.xyz, a);\n}\n"};
shadow$provide[376]=function(z,v,J,m){Object.defineProperty(m,"__esModule",{value:!0});m.default=void 0;m.default="vec2 mapUV(vec4 uvwo, vec4 stpq) {\n  return uvwo.xy;\n}\n"};
shadow$provide[377]=function(z,v,J,m){Object.defineProperty(m,"__esModule",{value:!0});m.default=void 0;m.default="uniform float outlineExpand;\nuniform float outlineStep;\nuniform vec3  outlineColor;\n\nvarying float vPixelSize;\n\nconst float PIXEL_STEP \x3d 255.0 / 16.0;\n\nvec4 getLabelOutlineColor(vec4 color, vec4 sample) {\n  float ps \x3d vPixelSize * PIXEL_STEP;\n  float os \x3d outlineStep;\n\n  float sdf \x3d sample.r - .5 + outlineExpand;\n  vec2  sdfs \x3d vec2(sdf, sdf + os);\n  vec2  alpha \x3d clamp(sdfs * ps + .5, 0.0, 1.0);\n\n  if (alpha.y \x3c\x3d 0.0) {\n    discard;\n  }\n\n  vec3 blend \x3d color.xyz;\n  if (alpha.y \x3e alpha.x) {\n    blend \x3d sqrt(mix(outlineColor * outlineColor, blend * blend, alpha.x));\n  }\n  \n  return vec4(blend, alpha.y * color.a);\n}\n"};
shadow$provide[378]=function(z,v,J,m){Object.defineProperty(m,"__esModule",{value:!0});m.default=void 0;m.default="uniform vec4 layerScale;\nuniform vec4 layerBias;\n\n#define PROJECT_ORTHOGONAL\n\nvec4 layerPosition(vec4 position, inout vec4 stpq) {\n  return layerScale * position + layerBias;\n}\n"};
shadow$provide[379]=function(z,v,J,m){Object.defineProperty(m,"__esModule",{value:!0});m.default=void 0;m.default="// External\nvec4 sampleData(vec4 xyzw);\n\nvec4 lerpDepth(vec4 xyzw) {\n  float x \x3d xyzw.z;\n  float i \x3d floor(x);\n  float f \x3d x - i;\n    \n  vec4 xyzw1 \x3d vec4(xyzw.xy, i, xyzw.w);\n  vec4 xyzw2 \x3d vec4(xyzw.xy, i + 1.0, xyzw.w);\n  \n  vec4 a \x3d sampleData(xyzw1);\n  vec4 b \x3d sampleData(xyzw2);\n\n  return mix(a, b, f);\n}\n"};
shadow$provide[380]=function(z,v,J,m){Object.defineProperty(m,"__esModule",{value:!0});m.default=void 0;m.default="// External\nvec4 sampleData(vec4 xyzw);\n\nvec4 lerpHeight(vec4 xyzw) {\n  float x \x3d xyzw.y;\n  float i \x3d floor(x);\n  float f \x3d x - i;\n    \n  vec4 xyzw1 \x3d vec4(xyzw.x, i, xyzw.zw);\n  vec4 xyzw2 \x3d vec4(xyzw.x, i + 1.0, xyzw.zw);\n  \n  vec4 a \x3d sampleData(xyzw1);\n  vec4 b \x3d sampleData(xyzw2);\n\n  return mix(a, b, f);\n}\n"};
shadow$provide[381]=function(z,v,J,m){Object.defineProperty(m,"__esModule",{value:!0});m.default=void 0;m.default="// External\nvec4 sampleData(vec4 xyzw);\n\nvec4 lerpItems(vec4 xyzw) {\n  float x \x3d xyzw.w;\n  float i \x3d floor(x);\n  float f \x3d x - i;\n    \n  vec4 xyzw1 \x3d vec4(xyzw.xyz, i);\n  vec4 xyzw2 \x3d vec4(xyzw.xyz, i + 1.0);\n  \n  vec4 a \x3d sampleData(xyzw1);\n  vec4 b \x3d sampleData(xyzw2);\n\n  return mix(a, b, f);\n}\n"};
shadow$provide[382]=function(z,v,J,m){Object.defineProperty(m,"__esModule",{value:!0});m.default=void 0;m.default="// External\nvec4 sampleData(vec4 xyzw);\n\nvec4 lerpWidth(vec4 xyzw) {\n  float x \x3d xyzw.x;\n  float i \x3d floor(x);\n  float f \x3d x - i;\n    \n  vec4 xyzw1 \x3d vec4(i, xyzw.yzw);\n  vec4 xyzw2 \x3d vec4(i + 1.0, xyzw.yzw);\n  \n  vec4 a \x3d sampleData(xyzw1);\n  vec4 b \x3d sampleData(xyzw2);\n\n  return mix(a, b, f);\n}\n"};
shadow$provide[383]=function(z,v,J,m){Object.defineProperty(m,"__esModule",{value:!0});m.default=void 0;m.default="// Units and calibration\nuniform float worldUnit;\nuniform float lineWidth;\nuniform float lineDepth;\nuniform float focusDepth;\n\n// General data index\nuniform vec4 geometryClip;\nattribute vec4 position4;\n\n// (Top/bottom -1,1)\nattribute float line;\n\n// 0...1 for round or bevel joins\n#ifdef LINE_JOIN_DETAIL\nattribute float joint;\n#else\nconst float joint \x3d 0.0;\n#endif\n\n// Knock out excessively long line segments (e.g. for asymtpotes)\n#ifdef LINE_PROXIMITY\nuniform float lineProximity;\nvarying float vClipProximity;\n#endif\n\n// Ghetto line stroking (local only, not global)\n#ifdef LINE_STROKE\nvarying float vClipStrokeWidth;\nvarying float vClipStrokeIndex;\nvarying vec3  vClipStrokeEven;\nvarying vec3  vClipStrokeOdd;\nvarying vec3  vClipStrokePosition;\n#endif\n\n// External\nvec3 getPosition(vec4 xyzw, float canonical);\n\n// Clip line ends for arrows / decoration\n#ifdef LINE_CLIP\nuniform float clipRange;\nuniform vec2  clipStyle;\nuniform float clipSpace;\n\nattribute vec2 strip;\n\nvarying vec2 vClipEnds;\n\nvoid clipEnds(vec4 xyzw, vec3 center, vec3 pos) {\n\n  // Sample start of line strip\n  vec4 xyzwS \x3d vec4(0.0, xyzw.yzw);\n  vec3 start \x3d getPosition(xyzwS, 0.0);\n\n  // Sample middle of line strip\n  vec4 xyzwM \x3d vec4(geometryClip.x / 2.0, xyzw.yzw);\n  vec3 middle \x3d getPosition(xyzwM, 0.0);\n\n#ifdef LINE_CLOSED\n  vec3 end \x3d start;\n#else\n  // Sample other end of line strip\n  vec4 xyzwE \x3d vec4(geometryClip.x, xyzw.yzw);\n  vec3 end   \x3d getPosition(xyzwE, 0.0);\n#endif\n\n  // Measure length\n  float l \x3d max(length(end - middle), length(middle - start)) * clipSpace * 2.0;\n\n  // Arrow length (\x3d2.5x radius)\n  float arrowSize \x3d 1.25 * clipRange * lineWidth * worldUnit;\n\n#ifdef LINE_CLOSED\n  // Clip around start/end\n  end \x3d start;\n#endif\n\n  vClipEnds \x3d vec2(1.0);\n\n  if (clipStyle.y \x3e 0.0) {\n    // Depth blend end\n    float depth \x3d focusDepth;\n    if (lineDepth \x3c 1.0) {\n      float z \x3d max(0.00001, -end.z);\n      depth \x3d mix(z, focusDepth, lineDepth);\n    }\n\n    // Absolute arrow length\n    float size \x3d arrowSize * depth;\n\n    // Adjust clip range\n    // Approach linear scaling with cubic ease the smaller we get\n    float mini \x3d clamp(1.0 - l / size * .333, 0.0, 1.0);\n    float scale \x3d 1.0 - mini * mini * mini;\n    float invrange \x3d 1.0 / (size * scale);\n\n    // Clip end\n    vec3 diff \x3d end - center;\n    if(diff \x3d\x3d vec3(0.0))\n      vClipEnds.x \x3d -1.0;\n    else {\n      diff \x3d normalize(end - center);\n      float d \x3d dot(end - pos, diff);\n      vClipEnds.x \x3d d * invrange - 1.0;\n    }\n  }\n\n  if (clipStyle.x \x3e 0.0) {\n    // Depth blend start\n    float depth \x3d focusDepth;\n    if (lineDepth \x3c 1.0) {\n      float z \x3d max(0.00001, -start.z);\n      depth \x3d mix(z, focusDepth, lineDepth);\n    }\n\n    // Absolute arrow length\n    float size \x3d arrowSize * depth;\n\n    // Adjust clip range\n    // Approach linear scaling with cubic ease the smaller we get\n    float mini \x3d clamp(1.0 - l / size * .333, 0.0, 1.0);\n    float scale \x3d 1.0 - mini * mini * mini;\n    float invrange \x3d 1.0 / (size * scale);\n\n    // Clip start\n    vec3 diff \x3d center - start;\n    if(diff \x3d\x3d vec3(0.0))\n      vClipEnds.y \x3d -1.0;\n    else {\n      diff \x3d normalize(center - start);\n      float d \x3d dot(pos - start, diff);\n      vClipEnds.y \x3d d * invrange - 1.0;\n    }\n  }\n}\n#endif\n\n// Adjust left/center/right to be inside near/far z range\nconst float epsilon \x3d 1e-5;\nvoid fixCenter(inout vec3 left, inout vec3 center, inout vec3 right) {\n  if (center.z \x3e\x3d 0.0) {\n    if (left.z \x3c 0.0) {\n      float d \x3d (center.z + epsilon) / (center.z - left.z);\n      center \x3d mix(center, left, d);\n    }\n    else if (right.z \x3c 0.0) {\n      float d \x3d (center.z + epsilon) / (center.z - right.z);\n      center \x3d mix(center, right, d);\n    }\n  }\n\n  if (left.z \x3e\x3d 0.0) {\n    if (center.z \x3c 0.0) {\n      float d \x3d (left.z + epsilon) / (left.z - center.z);\n      left \x3d mix(left, center, d);\n    }\n  }\n\n  if (right.z \x3e\x3d 0.0) {\n    if (center.z \x3c 0.0) {\n      float d \x3d (right.z + epsilon) / (right.z - center.z);\n      right \x3d mix(right, center, d);\n    }\n  }\n}\n\nvec4 wrapAround(vec4 xyzw) {\n#ifdef LINE_CLOSED\n  float gx \x3d geometryClip.x;\n  if (xyzw.x \x3c 0.0) xyzw.x +\x3d gx;\n  if (xyzw.x \x3e\x3d gx) xyzw.x -\x3d gx;\n#endif\n  return xyzw;\n}\n\n// Sample the source data in an edge-aware manner\nvoid getLineGeometry(vec4 xyzw, float edge, out vec3 left, out vec3 center, out vec3 right) {\n  vec4 delta \x3d vec4(1.0, 0.0, 0.0, 0.0);\n\n  center \x3d getPosition(xyzw, 1.0);\n  left   \x3d (edge \x3e -0.5) ? getPosition(wrapAround(xyzw - delta), 0.0) : center;\n  right  \x3d (edge \x3c 0.5)  ? getPosition(wrapAround(xyzw + delta), 0.0) : center;\n}\n\n// Calculate the position for a vertex along the line, including joins\nvec3 getLineJoin(float edge, bool odd, vec3 left, vec3 center, vec3 right, float width, float offset, float joint) {\n  vec2 join \x3d vec2(1.0, 0.0);\n\n  fixCenter(left, center, right);\n\n  vec4 a \x3d vec4(left.xy, right.xy);\n  vec4 b \x3d a / vec4(left.zz, right.zz);\n\n  vec2 l \x3d b.xy;\n  vec2 r \x3d b.zw;\n  vec2 c \x3d center.xy / center.z;\n\n  vec4 d \x3d vec4(l, c) - vec4(c, r);\n  float l1 \x3d dot(d.xy, d.xy);\n  float l2 \x3d dot(d.zw, d.zw);\n\n  if (l1 + l2 \x3e 0.0) {\n\n    if (edge \x3e 0.5 || l2 \x3d\x3d 0.0) {\n      vec2 nl \x3d normalize(d.xy);\n      vec2 tl \x3d vec2(nl.y, -nl.x);\n\n#ifdef LINE_PROXIMITY\n      vClipProximity \x3d 1.0;\n#endif\n\n#ifdef LINE_STROKE\n      vClipStrokeEven \x3d vClipStrokeOdd \x3d normalize(left - center);\n#endif\n      join \x3d tl;\n    }\n    else if (edge \x3c -0.5 || l1 \x3d\x3d 0.0) {\n      vec2 nr \x3d normalize(d.zw);\n      vec2 tr \x3d vec2(nr.y, -nr.x);\n\n#ifdef LINE_PROXIMITY\n      vClipProximity \x3d 1.0;\n#endif\n\n#ifdef LINE_STROKE\n      vClipStrokeEven \x3d vClipStrokeOdd \x3d normalize(center - right);\n#endif\n      join \x3d tr;\n    }\n    else {\n      // Limit join stretch for tiny segments\n      float lmin2 \x3d min(l1, l2) / (width * width);\n\n      // Hide line segment if ratio of leg lengths exceeds promixity threshold\n#ifdef LINE_PROXIMITY\n      float lr     \x3d l1 / l2;\n      float rl     \x3d l2 / l1;\n      float ratio  \x3d max(lr, rl);\n      float thresh \x3d lineProximity + 1.0;\n      vClipProximity \x3d (ratio \x3e thresh * thresh) ? 1.0 : 0.0;\n#endif\n\n      // Calculate normals/tangents\n      vec2 nl \x3d normalize(d.xy);\n      vec2 nr \x3d normalize(d.zw);\n\n      // Calculate tangents\n      vec2 tl \x3d vec2(nl.y, -nl.x);\n      vec2 tr \x3d vec2(nr.y, -nr.x);\n\n#ifdef LINE_PROXIMITY\n      // Mix tangents according to leg lengths\n      vec2 tc \x3d normalize(mix(tl, tr, l1/(l1+l2)));\n#else\n      // Average tangent\n      vec2 tc \x3d normalize(tl + tr);\n#endif\n\n      // Miter join\n      float cosA   \x3d dot(nl, tc);\n      float sinA   \x3d max(0.1, abs(dot(tl, tc)));\n      float factor \x3d cosA / sinA;\n      float scale  \x3d sqrt(1.0 + min(lmin2, factor * factor));\n\n      // Stroke normals\n#ifdef LINE_STROKE\n      vec3 stroke1 \x3d normalize(left - center);\n      vec3 stroke2 \x3d normalize(center - right);\n\n      if (odd) {\n        vClipStrokeEven \x3d stroke1;\n        vClipStrokeOdd  \x3d stroke2;\n      }\n      else {\n        vClipStrokeEven \x3d stroke2;\n        vClipStrokeOdd  \x3d stroke1;\n      }\n#endif\n\n#ifdef LINE_JOIN_MITER\n      // Apply straight up miter\n      join \x3d tc * scale;\n#endif\n\n#ifdef LINE_JOIN_ROUND\n      // Slerp bevel join into circular arc\n      float dotProduct \x3d dot(nl, nr);\n      float angle \x3d acos(dotProduct);\n      float sinT  \x3d sin(angle);\n      join \x3d (sin((1.0 - joint) * angle) * tl + sin(joint * angle) * tr) / sinT;\n#endif\n\n#ifdef LINE_JOIN_BEVEL\n      // Direct bevel join between two flat ends\n      float dotProduct \x3d dot(nl, nr);\n      join \x3d mix(tl, tr, joint);\n#endif\n\n#ifdef LINE_JOIN_DETAIL\n      // Check if on inside or outside of joint\n      float crossProduct \x3d nl.x * nr.y - nl.y * nr.x;\n      if (offset * crossProduct \x3c 0.0) {\n        // For near-180-degree bends, correct back to a miter to avoid discontinuities\n        float ratio \x3d clamp(-dotProduct * 2.0 - 1.0, 0.0, 1.0);\n        // Otherwise collapse the inside vertices into one.\n        join \x3d mix(tc * scale, join, ratio * ratio * ratio);\n      }\n#endif\n\n    }\n    return vec3(join, 0.0);\n  }\n  else {\n    return vec3(0.0);\n  }\n\n}\n\n// Calculate final line position\nvec3 getLinePosition() {\n  vec3 left, center, right, join;\n\n  // Up/down along segment\n  float offset \x3d line;\n\n  // Clip data\n  vec4 p \x3d min(geometryClip, position4);\n\n  // Left/center/right\n  float edge \x3d 0.0;\n#ifdef LINE_CLOSED\n  if (p.x \x3d\x3d geometryClip.x) p.x \x3d 0.0;\n#else\n  if (p.x \x3d\x3d geometryClip.x) edge \x3d 1.0;\n  if (p.x \x3d\x3d 0.0) edge \x3d -1.0;\n#endif\n\n  // Get position + adjacent neighbours\n  getLineGeometry(p, edge, left, center, right);\n\n#ifdef LINE_STROKE\n  // Set parameters for line stroke fragment shader\n  vClipStrokePosition \x3d center;\n  vClipStrokeIndex \x3d p.x;\n  bool odd \x3d mod(p.x, 2.0) \x3e\x3d 1.0;\n#else\n  bool odd \x3d true;\n#endif\n\n  // Divide line width up/down\n  float width \x3d lineWidth * 0.5;\n\n  float depth \x3d focusDepth;\n  if (lineDepth \x3c 1.0) {\n    // Depth blending\n    float z \x3d max(0.00001, -center.z);\n    depth \x3d mix(z, focusDepth, lineDepth);\n  }\n  width *\x3d depth;\n\n  // Convert to world units\n  width *\x3d worldUnit;\n\n  // Calculate line join\n#ifdef LINE_CLOSED\n  join \x3d getLineJoin(0.0, odd, left, center, right, width, offset, joint);\n#else\n  join \x3d getLineJoin(edge, odd, left, center, right, width, offset, joint);\n#endif\n  vec3 pos \x3d center + join * offset * width;\n\n#ifdef LINE_STROKE\n  vClipStrokeWidth \x3d width;\n#endif\n\n#ifdef LINE_CLIP\n  clipEnds(p, center, pos);\n#endif\n\n  return pos;\n}\n"};
shadow$provide[384]=function(z,v,J,m){Object.defineProperty(m,"__esModule",{value:!0});m.default=void 0;m.default="uniform vec2 dataResolution;\nuniform vec2 dataPointer;\n\nvec2 map2DData(vec2 xy) {\n  return (xy + dataPointer) * dataResolution;\n}\n"};
shadow$provide[385]=function(z,v,J,m){Object.defineProperty(m,"__esModule",{value:!0});m.default=void 0;m.default="uniform vec2 dataResolution;\nuniform vec2 dataPointer;\n\nvec2 map2DData(vec2 xy) {\n  return fract((xy + dataPointer) * dataResolution);\n}\n"};
shadow$provide[386]=function(z,v,J,m){Object.defineProperty(m,"__esModule",{value:!0});m.default=void 0;m.default="void mapXyzw2DV(vec4 xyzw, out vec2 xy, out float z) {\n  xy \x3d xyzw.xy;\n  z  \x3d xyzw.z;\n}\n\n"};
shadow$provide[387]=function(z,v,J,m){Object.defineProperty(m,"__esModule",{value:!0});m.default=void 0;m.default="vec4 alignXYZW(vec4 xyzw) {\n  return floor(xyzw + .5);\n}\n\n"};
shadow$provide[388]=function(z,v,J,m){Object.defineProperty(m,"__esModule",{value:!0});m.default=void 0;m.default="uniform float textureItems;\nuniform float textureHeight;\n\nvec2 mapXyzwTexture(vec4 xyzw) {\n  \n  float x \x3d xyzw.x;\n  float y \x3d xyzw.y;\n  float z \x3d xyzw.z;\n  float i \x3d xyzw.w;\n  \n  return vec2(i, y) + vec2(x, z) * vec2(textureItems, textureHeight);\n}\n\n"};
shadow$provide[389]=function(z,v,J,m){Object.defineProperty(m,"__esModule",{value:!0});m.default=void 0;m.default="varying vec4 vColor;\n\nvec4 getColor() {\n  if (vColor.a \x3c\x3d 0.0) discard;\n  return vColor;\n}\n"};
shadow$provide[390]=function(z,v,J,m){Object.defineProperty(m,"__esModule",{value:!0});m.default=void 0;m.default="#ifdef POSITION_STPQ\nvarying vec4 vSTPQ;\n#endif\n#ifdef POSITION_U\nvarying float vU;\n#endif\n#ifdef POSITION_UV\nvarying vec2 vUV;\n#endif\n#ifdef POSITION_UVW\nvarying vec3 vUVW;\n#endif\n#ifdef POSITION_UVWO\nvarying vec4 vUVWO;\n#endif\n\nvec4 getSample(vec4 uvwo, vec4 stpq);\n\nvec4 getMapColor() {\n  #ifdef POSITION_STPQ\n  vec4 stpq \x3d vSTPQ;\n  #else\n  vec4 stpq \x3d vec4(0.0);\n  #endif\n\n  #ifdef POSITION_U\n  vec4 uvwo \x3d vec4(vU, 0.0, 0.0, 0.0);\n  #endif\n  #ifdef POSITION_UV\n  vec4 uvwo \x3d vec4(vUV, 0.0, 0.0);\n  #endif\n  #ifdef POSITION_UVW\n  vec4 uvwo \x3d vec4(vUVW, 0.0);\n  #endif\n  #ifdef POSITION_UVWO\n  vec4 uvwo \x3d vec4(vUVWO);\n  #endif\n\n  return getSample(uvwo, stpq);\n}\n"};
shadow$provide[391]=function(z,v,J,m){Object.defineProperty(m,"__esModule",{value:!0});m.default=void 0;m.default="varying float vMask;\n\nfloat ease(float t) {\n  t \x3d clamp(t, 0.0, 1.0);\n  return t * t * (3.0 - 2.0 * t);\n}\n\nvec4 maskColor() {\n  if (vMask \x3c\x3d 0.0) discard;\n  return vec4(vec3(1.0), ease(vMask));\n}\n"};
shadow$provide[392]=function(z,v,J,m){Object.defineProperty(m,"__esModule",{value:!0});m.default=void 0;m.default="#ifdef POSITION_STPQ\nvarying vec4 vSTPQ;\n#endif\n#ifdef POSITION_U\nvarying float vU;\n#endif\n#ifdef POSITION_UV\nvarying vec2 vUV;\n#endif\n#ifdef POSITION_UVW\nvarying vec3 vUVW;\n#endif\n#ifdef POSITION_UVWO\nvarying vec4 vUVWO;\n#endif\n\nvec4 getSample(vec4 rgba, vec4 stpq);\n\nvec4 getMaterialColor(vec4 rgba) {\n  vec4 stpq \x3d vec4(0.0);\n\n  #ifdef POSITION_U\n  stpq.x \x3d vU;\n  #endif\n  #ifdef POSITION_UV\n  stpq.xy \x3d vUV;\n  #endif\n  #ifdef POSITION_UVW\n  stpq.xyz \x3d vUVW;\n  #endif\n  #ifdef POSITION_UVWO\n  stpq \x3d vUVWO;\n  #endif\n\n  #ifdef POSITION_STPQ\n  stpq \x3d vSTPQ;\n  #endif\n\n  return getSample(rgba, stpq);\n}\n"};
shadow$provide[393]=function(z,v,J,m){Object.defineProperty(m,"__esModule",{value:!0});m.default=void 0;m.default="\n#extension GL_OES_standard_derivatives : enable\nvarying vec3 vNormal;\nvarying vec3 vLight;\nvarying vec3 vPosition;\n\nvec3 offSpecular(vec3 color) {\n  vec3 c \x3d 1.0 - color;\n  return 1.0 - c * c;\n}\n\nvec4 getShadedColor(vec4 rgba) {\n  \n  vec3 color \x3d rgba.xyz;\n  vec3 color2 \x3d offSpecular(rgba.xyz);\n\n  vec3 normal \x3d normalize(vNormal);\n  vec3 light \x3d normalize(vLight);\n  vec3 position \x3d normalize(vPosition);\n  \n  // Workaround to avoid gl_FrontFacing. See https://github.com/unconed/mathbox/pull/26\n  vec3 pdx \x3d dFdx(vPosition);\n  vec3 pdy \x3d dFdy(vPosition);\n  bool frontFacting \x3d dot(vNormal, cross(pdx, pdy)) \x3e 0.0;\n\n  float side \x3d frontFacting ? 1.0 : -1.0;\n  float cosine  \x3d side * dot(normal, light);\n  float diffuse \x3d mix(max(0.0, cosine), .5 + .5 * cosine, .1);\n  \n  vec3  halfLight \x3d normalize(light + position);\n\tfloat cosineHalf \x3d max(0.0, side * dot(normal, halfLight));\n\tfloat specular \x3d pow(cosineHalf, 16.0);\n\t\n\treturn vec4(color * (diffuse * .9 + .05) + .25 * color2 * specular, rgba.a);\n}\n"};
shadow$provide[394]=function(z,v,J,m){Object.defineProperty(m,"__esModule",{value:!0});m.default=void 0;m.default=""};
shadow$provide[395]=function(z,v,J,m){Object.defineProperty(m,"__esModule",{value:!0});m.default=void 0;m.default="vec4 getGammaInColor(vec4 rgba) {\n  return vec4(rgba.rgb * rgba.rgb, rgba.a);\n}\n"};
shadow$provide[396]=function(z,v,J,m){Object.defineProperty(m,"__esModule",{value:!0});m.default=void 0;m.default="vec4 getGammaOutColor(vec4 rgba) {\n  return vec4(sqrt(rgba.rgb), rgba.a);\n}\n"};
shadow$provide[397]=function(z,v,J,m){Object.defineProperty(m,"__esModule",{value:!0});m.default=void 0;m.default="vec4 mapUVWO(vec4 uvwo, vec4 stpq) {\n  return uvwo;\n}\n"};
shadow$provide[398]=function(z,v,J,m){Object.defineProperty(m,"__esModule",{value:!0});m.default=void 0;m.default="uniform vec4 geometryClip;\nattribute vec4 position4;\n\n// External\nvec3 getPosition(vec4 xyzw, float canonical);\n\nvec3 getMeshPosition() {\n  vec4 p \x3d min(geometryClip, position4);\n  return getPosition(p, 1.0);\n}\n"};
shadow$provide[399]=function(z,v,J,m){Object.defineProperty(m,"__esModule",{value:!0});m.default=void 0;m.default="attribute vec4 position4;\nuniform vec4 geometryClip;\nvarying vec4 vColor;\n\n// External\nvec4 getSample(vec4 xyzw);\n\nvoid vertexColor() {\n  vec4 p \x3d min(geometryClip, position4);\n  vColor \x3d getSample(p);\n}\n"};
shadow$provide[400]=function(z,v,J,m){Object.defineProperty(m,"__esModule",{value:!0});m.default=void 0;m.default="attribute vec4 position4;\nuniform vec4 geometryResolution;\nuniform vec4 geometryClip;\nvarying float vMask;\n\n// External\nfloat getSample(vec4 xyzw);\n\nvoid maskLevel() {\n  vec4 p \x3d min(geometryClip, position4);\n  vMask \x3d getSample(p * geometryResolution);\n}\n"};
shadow$provide[401]=function(z,v,J,m){Object.defineProperty(m,"__esModule",{value:!0});m.default=void 0;m.default="uniform vec4 geometryResolution;\n\n#ifdef POSITION_STPQ\nvarying vec4 vSTPQ;\n#endif\n#ifdef POSITION_U\nvarying float vU;\n#endif\n#ifdef POSITION_UV\nvarying vec2 vUV;\n#endif\n#ifdef POSITION_UVW\nvarying vec3 vUVW;\n#endif\n#ifdef POSITION_UVWO\nvarying vec4 vUVWO;\n#endif\n\n// External\nvec3 getPosition(vec4 xyzw, in vec4 stpqIn, out vec4 stpqOut);\n\nvec3 getMeshPosition(vec4 xyzw, float canonical) {\n  vec4 stpqOut, stpqIn \x3d xyzw * geometryResolution;\n  vec3 xyz \x3d getPosition(xyzw, stpqIn, stpqOut);\n\n  #ifdef POSITION_MAP\n  if (canonical \x3e 0.5) {\n    #ifdef POSITION_STPQ\n    vSTPQ \x3d stpqOut;\n    #endif\n    #ifdef POSITION_U\n    vU \x3d stpqOut.x;\n    #endif\n    #ifdef POSITION_UV\n    vUV \x3d stpqOut.xy;\n    #endif\n    #ifdef POSITION_UVW\n    vUVW \x3d stpqOut.xyz;\n    #endif\n    #ifdef POSITION_UVWO\n    vUVWO \x3d stpqOut;\n    #endif\n  }\n  #endif\n  return xyz;\n}\n"};
shadow$provide[402]=function(z,v,J,m){Object.defineProperty(m,"__esModule",{value:!0});m.default=void 0;m.default="uniform float transitionEnter;\nuniform float transitionExit;\nuniform vec4  transitionScale;\nuniform vec4  transitionBias;\nuniform float transitionSkew;\nuniform float transitionActive;\n\nuniform vec4  moveFrom;\nuniform vec4  moveTo;\n\nfloat ease(float t) {\n  t \x3d clamp(t, 0.0, 1.0);\n  return 1.0 - (2.0 - t) * t;\n}\n\nvec4 getTransitionPosition(vec4 xyzw, inout vec4 stpq) {\n  if (transitionActive \x3c 0.5) return xyzw;\n\n  float enter   \x3d transitionEnter;\n  float exit    \x3d transitionExit;\n  float skew    \x3d transitionSkew;\n  vec4  scale   \x3d transitionScale;\n  vec4  bias    \x3d transitionBias;\n\n  float factor  \x3d 1.0 + skew;\n  float offset  \x3d dot(vec4(1.0), stpq * scale + bias);\n\n  float a1 \x3d ease(enter * factor - offset);\n  float a2 \x3d ease(exit  * factor + offset - skew);\n\n  return xyzw + a1 * moveFrom + a2 * moveTo;\n}"};
shadow$provide[403]=function(z,v,J,m){Object.defineProperty(m,"__esModule",{value:!0});m.default=void 0;m.default="vec4 getMask(vec4 xyzw) {\n  return vec4(1.0);\n}"};
shadow$provide[404]=function(z,v,J,m){Object.defineProperty(m,"__esModule",{value:!0});m.default=void 0;m.default="varying float vPixelSize;\n\nfloat getDiscAlpha(float mask) {\n  // Approximation: 1 - x*x is approximately linear around x \x3d 1 with slope 2\n  return vPixelSize * (1.0 - mask);\n  //  return vPixelSize * 2.0 * (1.0 - sqrt(mask));\n}\n"};
shadow$provide[405]=function(z,v,J,m){Object.defineProperty(m,"__esModule",{value:!0});m.default=void 0;m.default="varying float vPixelSize;\n\nfloat getDiscHollowAlpha(float mask) {\n  return vPixelSize * (0.5 - 2.0 * abs(sqrt(mask) - .75));\n}\n"};
shadow$provide[406]=function(z,v,J,m){Object.defineProperty(m,"__esModule",{value:!0});m.default=void 0;m.default="varying float vPixelSize;\n\nfloat getGenericAlpha(float mask) {\n  return vPixelSize * 2.0 * (1.0 - mask);\n}\n"};
shadow$provide[407]=function(z,v,J,m){Object.defineProperty(m,"__esModule",{value:!0});m.default=void 0;m.default="varying float vPixelSize;\n\nfloat getGenericHollowAlpha(float mask) {\n  return vPixelSize * (0.5 - 2.0 * abs(mask - .75));\n}\n"};
shadow$provide[408]=function(z,v,J,m){Object.defineProperty(m,"__esModule",{value:!0});m.default=void 0;m.default="varying vec2 vSprite;\n\nfloat getSpriteMask(vec2 xy);\nfloat getSpriteAlpha(float mask);\n\nvoid setFragmentColorFill(vec4 color) {\n  float mask \x3d getSpriteMask(vSprite);\n  if (mask \x3e 1.0) {\n    discard;\n  }\n  float alpha \x3d getSpriteAlpha(mask);\n  if (alpha \x3e\x3d 1.0) {\n    discard;\n  }\n  gl_FragColor \x3d vec4(color.rgb, alpha * color.a);\n}\n"};
shadow$provide[409]=function(z,v,J,m){Object.defineProperty(m,"__esModule",{value:!0});m.default=void 0;m.default="varying vec2 vSprite;\n\nfloat getSpriteMask(vec2 xy);\nfloat getSpriteAlpha(float mask);\n\nvoid setFragmentColorFill(vec4 color) {\n  float mask \x3d getSpriteMask(vSprite);\n  if (mask \x3e 1.0) {\n    discard;\n  }\n  float alpha \x3d getSpriteAlpha(mask);\n  if (alpha \x3c 1.0) {\n    discard;\n  }\n  gl_FragColor \x3d color;\n}\n\n"};
shadow$provide[410]=function(z,v,J,m){Object.defineProperty(m,"__esModule",{value:!0});m.default=void 0;m.default="varying float vPixelSize;\n\nfloat getCircleMask(vec2 uv) {\n  return dot(uv, uv);\n}\n"};
shadow$provide[411]=function(z,v,J,m){Object.defineProperty(m,"__esModule",{value:!0});m.default=void 0;m.default="varying float vPixelSize;\n\nfloat getDiamondMask(vec2 uv) {\n  vec2 a \x3d abs(uv);\n  return a.x + a.y;\n}\n"};
shadow$provide[412]=function(z,v,J,m){Object.defineProperty(m,"__esModule",{value:!0});m.default=void 0;m.default="varying float vPixelSize;\n\nfloat getTriangleDownMask(vec2 uv) {\n  uv.y +\x3d .25;\n  return max(uv.y, abs(uv.x) * .866 - uv.y * .5 + .6);\n}\n"};
shadow$provide[413]=function(z,v,J,m){Object.defineProperty(m,"__esModule",{value:!0});m.default=void 0;m.default="varying float vPixelSize;\n\nfloat getTriangleLeftMask(vec2 uv) {\n  uv.x +\x3d .25;\n  return max(uv.x, abs(uv.y) * .866 - uv.x * .5 + .6);\n}\n"};
shadow$provide[414]=function(z,v,J,m){Object.defineProperty(m,"__esModule",{value:!0});m.default=void 0;m.default="varying float vPixelSize;\n\nfloat getTriangleRightMask(vec2 uv) {\n  uv.x -\x3d .25;\n  return max(-uv.x, abs(uv.y) * .866 + uv.x * .5 + .6);\n}\n"};
shadow$provide[415]=function(z,v,J,m){Object.defineProperty(m,"__esModule",{value:!0});m.default=void 0;m.default="varying float vPixelSize;\n\nfloat getSquareMask(vec2 uv) {\n  vec2 a \x3d abs(uv);\n  return max(a.x, a.y);\n}\n"};
shadow$provide[416]=function(z,v,J,m){Object.defineProperty(m,"__esModule",{value:!0});m.default=void 0;m.default="varying float vPixelSize;\n\nfloat getTriangleUpMask(vec2 uv) {\n  uv.y -\x3d .25;\n  return max(-uv.y, abs(uv.x) * .866 + uv.y * .5 + .6);\n}\n"};
shadow$provide[417]=function(z,v,J,m){Object.defineProperty(m,"__esModule",{value:!0});m.default=void 0;m.default="uniform float pointDepth;\n\nuniform float pixelUnit;\nuniform float renderScale;\nuniform float renderScaleInv;\nuniform float focusDepth;\n\nuniform vec4 geometryClip;\nattribute vec4 position4;\nattribute vec2 sprite;\n\nvarying vec2 vSprite;\nvarying float vPixelSize;\n\nconst float pointScale \x3d POINT_SHAPE_SCALE;\n\n// External\nfloat getPointSize(vec4 xyzw);\nvec3 getPosition(vec4 xyzw, float canonical);\n\nvec3 getPointPosition() {\n  // Discard out-of-range points by generating degenerate face\n  if (\n    position4.x \x3e geometryClip.x ||\n    position4.y \x3e geometryClip.y ||\n    position4.z \x3e geometryClip.z ||\n    position4.w \x3e geometryClip.w\n  ) return vec3(0.0, 0.0, 0.0);\n  vec4 p \x3d position4;\n\n  vec3 center \x3d getPosition(p, 1.0);\n\n  // Depth blending\n  // TODO: orthographic camera\n  // Workaround: set depth \x3d 0\n  float z \x3d -center.z;\n  float depth \x3d mix(z, focusDepth, pointDepth);\n\n  // Match device/unit mapping\n  // Sprite goes from -1..1, width \x3d 2.\n  float pointSize \x3d getPointSize(p);\n  float size \x3d pointScale * pointSize * pixelUnit * .5;\n  float depthSize \x3d depth * size;\n\n  // Pad sprite by half a pixel to make the anti-aliasing straddle the pixel edge\n  // Note: pixelsize measures radius\n  float pixelSize \x3d .5 * (pointDepth \x3e 0.0 ? depthSize / z : size);\n  float paddedSize \x3d pixelSize + 0.5;\n  float padFactor \x3d paddedSize / pixelSize;\n\n  vPixelSize \x3d paddedSize;\n  vSprite    \x3d sprite;\n\n  return center + vec3(sprite * depthSize * renderScaleInv * padFactor, 0.0);\n}\n"};
shadow$provide[418]=function(z,v,J,m){Object.defineProperty(m,"__esModule",{value:!0});m.default=void 0;m.default="uniform float pointSize;\n\nfloat getPointSize(vec4 xyzw) {\n  return pointSize;\n}"};
shadow$provide[419]=function(z,v,J,m){Object.defineProperty(m,"__esModule",{value:!0});m.default=void 0;m.default="uniform float pointSize;\n\nvec4 getSample(vec4 xyzw);\n\nfloat getPointSize(vec4 xyzw) {\n  return pointSize * getSample(xyzw).x;\n}"};
shadow$provide[420]=function(z,v,J,m){Object.defineProperty(m,"__esModule",{value:!0});m.default=void 0;m.default="uniform float polarBend;\nuniform float polarFocus;\nuniform float polarAspect;\nuniform float polarHelix;\n\nuniform mat4 viewMatrix;\n\nvec4 getPolarPosition(vec4 position, inout vec4 stpq) {\n  if (polarBend \x3e 0.0) {\n\n    if (polarBend \x3c 0.001) {\n      // Factor out large addition/subtraction of polarFocus\n      // to avoid numerical error\n      // sin(x) ~ x\n      // cos(x) ~ 1 - x * x / 2\n      vec2 pb \x3d position.xy * polarBend;\n      float ppbbx \x3d pb.x * pb.x;\n      return viewMatrix * vec4(\n        position.x * (1.0 - polarBend + (pb.y * polarAspect)),\n        position.y * (1.0 - .5 * ppbbx) - (.5 * ppbbx) * polarFocus / polarAspect,\n        position.z + position.x * polarHelix * polarBend,\n        1.0\n      );\n    }\n    else {\n      vec2 xy \x3d position.xy * vec2(polarBend, polarAspect);\n      float radius \x3d polarFocus + xy.y;\n      return viewMatrix * vec4(\n        sin(xy.x) * radius,\n        (cos(xy.x) * radius - polarFocus) / polarAspect,\n        position.z + position.x * polarHelix * polarBend,\n        1.0\n      );\n    }\n  }\n  else {\n    return viewMatrix * vec4(position.xyz, 1.0);\n  }\n}"};
shadow$provide[421]=function(z,v,J,m){Object.defineProperty(m,"__esModule",{value:!0});m.default=void 0;m.default="uniform float styleZBias;\nuniform float styleZIndex;\n\nvoid setPosition(vec3 position) {\n\n  #ifdef PROJECT_ORTHOGONAL\n  // Orthogonal projection with depth preservation around z \x3d 1\n  vec4 pos \x3d projectionMatrix * vec4(position, 1.0);\n  pos.xy *\x3d -position.z;\n  #else\n  // Normal perspective projection\n  vec4 pos \x3d projectionMatrix * vec4(position, 1.0);\n  #endif\n\n  // Apply relative Z bias\n  float bias  \x3d (1.0 - styleZBias / 32768.0);\n  pos.z *\x3d bias;\n\n  // Apply large scale Z index changes\n  if (styleZIndex \x3e 0.0) {\n    float z \x3d pos.z / pos.w;\n    pos.z \x3d ((z + 1.0) / (styleZIndex + 1.0) - 1.0) * pos.w;\n  }\n\n  gl_Position \x3d pos;\n}"};
shadow$provide[422]=function(z,v,J,m){Object.defineProperty(m,"__esModule",{value:!0});m.default=void 0;m.default="// This is three.js' global uniform, missing from fragment shaders.\nuniform mat4 projectionMatrix;\n\nvec4 readbackPosition(vec3 position, vec4 stpq) {\n  vec4 pos \x3d projectionMatrix * vec4(position, 1.0);\n  vec3 final \x3d pos.xyz / pos.w;\n  if (final.z \x3c -1.0) {\n    return vec4(0.0, 0.0, 0.0, -1.0);\n  }\n  else {\n    return vec4(final, -position.z);\n  }\n}\n"};
shadow$provide[423]=function(z,v,J,m){Object.defineProperty(m,"__esModule",{value:!0});m.default=void 0;m.default="uniform vec4 geometryScale;\nattribute vec4 position4;\n\nvec4 getRawPositionScale() {\n  return geometryScale * position4;\n}\n"};
shadow$provide[424]=function(z,v,J,m){Object.defineProperty(m,"__esModule",{value:!0});m.default=void 0;m.default="uniform vec4 repeatModulus;\n\nvec4 getRepeatXYZW(vec4 xyzw) {\n  return mod(xyzw + .5, repeatModulus) - .5;\n}\n"};
shadow$provide[425]=function(z,v,J,m){Object.defineProperty(m,"__esModule",{value:!0});m.default=void 0;m.default="uniform vec4 resampleBias;\n\nvec4 resamplePadding(vec4 xyzw) {\n  return xyzw + resampleBias;\n}"};
shadow$provide[426]=function(z,v,J,m){Object.defineProperty(m,"__esModule",{value:!0});m.default=void 0;m.default="uniform vec4 resampleFactor;\n\nvec4 resampleRelative(vec4 xyzw) {\n  return xyzw * resampleFactor;\n}"};
shadow$provide[427]=function(z,v,J,m){Object.defineProperty(m,"__esModule",{value:!0});m.default=void 0;m.default="uniform float transitionEnter;\nuniform float transitionExit;\nuniform vec4  transitionScale;\nuniform vec4  transitionBias;\nuniform float transitionSkew;\nuniform float transitionActive;\n\nfloat getTransitionSDFMask(vec4 stpq) {\n  if (transitionActive \x3c 0.5) return 1.0;\n\n  float enter   \x3d transitionEnter;\n  float exit    \x3d transitionExit;\n  float skew    \x3d transitionSkew;\n  vec4  scale   \x3d transitionScale;\n  vec4  bias    \x3d transitionBias;\n\n  float factor  \x3d 1.0 + skew;\n  float offset  \x3d dot(vec4(1.0), stpq * scale + bias);\n\n  vec2 d \x3d vec2(enter, exit) * factor + vec2(-offset, offset - skew);\n  if (exit  \x3d\x3d 1.0) return d.x;\n  if (enter \x3d\x3d 1.0) return d.y;\n  return min(d.x, d.y);\n}"};
shadow$provide[428]=function(z,v,J,m){Object.defineProperty(m,"__esModule",{value:!0});m.default=void 0;m.default="uniform vec4 reverseScale;\nuniform vec4 reverseOffset;\n\nvec4 getReverseOffset(vec4 xyzw) {\n  return xyzw * reverseScale + reverseOffset;\n}"};
shadow$provide[429]=function(z,v,J,m){Object.defineProperty(m,"__esModule",{value:!0});m.default=void 0;m.default="vec3 getRootPosition(vec4 position, in vec4 stpqIn, out vec4 stpqOut) {\n  stpqOut \x3d stpqIn; // avoid inout confusion\n  return position.xyz;\n}"};
shadow$provide[430]=function(z,v,J,m){Object.defineProperty(m,"__esModule",{value:!0});m.default=void 0;m.default="uniform sampler2D dataTexture;\n\nvec4 sample2D(vec2 uv) {\n  return texture2D(dataTexture, uv);\n}\n"};
shadow$provide[431]=function(z,v,J,m){Object.defineProperty(m,"__esModule",{value:!0});m.default=void 0;m.default="uniform vec4 scaleAxis;\nuniform vec4 scaleOffset;\n\nvec4 sampleData(float x);\n\nvec4 getScalePosition(vec4 xyzw) {\n  return scaleAxis * sampleData(xyzw.x).x + scaleOffset;\n}\n"};
shadow$provide[432]=function(z,v,J,m){Object.defineProperty(m,"__esModule",{value:!0});m.default=void 0;m.default="uniform vec4 remapSTPQScale;\n\nvec4 screenMapSTPQ(vec4 xyzw, out vec4 stpq) {\n  stpq \x3d xyzw * remapSTPQScale;\n  return xyzw;\n}\n"};
shadow$provide[433]=function(z,v,J,m){Object.defineProperty(m,"__esModule",{value:!0});m.default=void 0;m.default="uniform vec2 remapUVScale;\n\nvec4 screenMapXY(vec4 uvwo, vec4 stpq) {\n  return vec4(floor(remapUVScale * uvwo.xy), 0.0, 0.0);\n}\n"};
shadow$provide[434]=function(z,v,J,m){Object.defineProperty(m,"__esModule",{value:!0});m.default=void 0;m.default="uniform vec2 remapUVScale;\nuniform vec2 remapModulus;\nuniform vec2 remapModulusInv;\n\nvec4 screenMapXYZW(vec4 uvwo, vec4 stpq) {\n  vec2 st \x3d floor(remapUVScale * uvwo.xy);\n  vec2 xy \x3d st * remapModulusInv;\n  vec2 ixy \x3d floor(xy);\n  vec2 fxy \x3d xy - ixy;\n  vec2 zw \x3d fxy * remapModulus;\n  return vec4(ixy.x, zw.y, ixy.y, zw.x);\n}\n"};
shadow$provide[435]=function(z,v,J,m){Object.defineProperty(m,"__esModule",{value:!0});m.default=void 0;m.default="vec2 screenPassUV(vec4 uvwo, vec4 stpq) {\n  return uvwo.xy;\n}\n"};
shadow$provide[436]=function(z,v,J,m){Object.defineProperty(m,"__esModule",{value:!0});m.default=void 0;m.default="void setScreenPosition(vec4 position) {\n  gl_Position \x3d vec4(position.xy * 2.0 - 1.0, 0.5, 1.0);\n}\n"};
shadow$provide[437]=function(z,v,J,m){Object.defineProperty(m,"__esModule",{value:!0});m.default=void 0;m.default="uniform vec4 sliceOffset;\n\nvec4 getSliceOffset(vec4 xyzw) {\n  return xyzw + sliceOffset;\n}\n"};
shadow$provide[438]=function(z,v,J,m){Object.defineProperty(m,"__esModule",{value:!0});m.default=void 0;m.default="uniform float sphericalBend;\nuniform float sphericalFocus;\nuniform float sphericalAspectX;\nuniform float sphericalAspectY;\nuniform float sphericalScaleY;\n\nuniform mat4 viewMatrix;\n\nvec4 getSphericalPosition(vec4 position, inout vec4 stpq) {\n  if (sphericalBend \x3e 0.0001) {\n\n    vec3 xyz \x3d position.xyz * vec3(sphericalBend, sphericalBend / sphericalAspectY * sphericalScaleY, sphericalAspectX);\n    float radius \x3d sphericalFocus + xyz.z;\n    float cosine \x3d cos(xyz.y) * radius;\n\n    return viewMatrix * vec4(\n      sin(xyz.x) * cosine,\n      sin(xyz.y) * radius * sphericalAspectY,\n      (cos(xyz.x) * cosine - sphericalFocus) / sphericalAspectX,\n      1.0\n    );\n  }\n  else {\n    return viewMatrix * vec4(position.xyz, 1.0);\n  }\n}"};
shadow$provide[439]=function(z,v,J,m){Object.defineProperty(m,"__esModule",{value:!0});m.default=void 0;m.default="uniform float splitStride;\n\nvec2 getIndices(vec4 xyzw);\nvec4 getRest(vec4 xyzw);\nvec4 injectIndex(float v);\n\nvec4 getSplitXYZW(vec4 xyzw) {\n  vec2 uv \x3d getIndices(xyzw);\n  float offset \x3d uv.x + uv.y * splitStride;\n  return injectIndex(offset) + getRest(xyzw);\n}\n"};
shadow$provide[440]=function(z,v,J,m){Object.defineProperty(m,"__esModule",{value:!0});m.default=void 0;m.default="uniform vec4 spreadOffset;\nuniform mat4 spreadMatrix;\n\n// External\nvec4 getSample(vec4 xyzw);\n\nvec4 getSpreadSample(vec4 xyzw) {\n  vec4 sample \x3d getSample(xyzw);\n  return sample + spreadMatrix * (spreadOffset + xyzw);\n}\n"};
shadow$provide[441]=function(z,v,J,m){Object.defineProperty(m,"__esModule",{value:!0});m.default=void 0;m.default="varying vec2 vSprite;\n\nvec4 getSample(vec2 xy);\n\nvec4 getSpriteColor() {\n  return getSample(vSprite);\n}"};
shadow$provide[442]=function(z,v,J,m){Object.defineProperty(m,"__esModule",{value:!0});m.default=void 0;m.default="uniform vec2 spriteOffset;\nuniform float spriteScale;\nuniform float spriteDepth;\nuniform float spriteSnap;\n\nuniform vec2 renderOdd;\nuniform float renderScale;\nuniform float renderScaleInv;\nuniform float pixelUnit;\nuniform float focusDepth;\n\nuniform vec4 geometryClip;\nattribute vec4 position4;\nattribute vec2 sprite;\n\nvarying float vPixelSize;\n\n// External\nvec3 getPosition(vec4 xyzw, float canonical);\nvec4 getSprite(vec4 xyzw);\n\nvec3 getSpritePosition() {\n  // Clip points\n  vec4 p \x3d min(geometryClip, position4);\n  float diff \x3d length(position4 - p);\n  if (diff \x3e 0.0) {\n    return vec3(0.0, 0.0, 1000.0);\n  }\n\n  // Make sprites\n  vec3 center \x3d getPosition(p, 1.0);\n  vec4 atlas \x3d getSprite(p);\n\n  // Sprite goes from -1..1, width \x3d 2.\n  // -1..1 -\x3e -0.5..0.5\n  vec2 halfSprite \x3d sprite * .5;\n  vec2 halfFlipSprite \x3d vec2(halfSprite.x, -halfSprite.y);\n\n#ifdef POSITION_UV\n  // Assign UVs\n  vUV \x3d atlas.xy + atlas.zw * (halfFlipSprite + .5);\n#endif\n\n  // Depth blending\n  // TODO: orthographic camera\n  // Workaround: set depth \x3d 0\n  float depth \x3d focusDepth, z;\n  z \x3d -center.z;\n  if (spriteDepth \x3c 1.0) {\n    depth \x3d mix(z, focusDepth, spriteDepth);\n  }\n  \n  // Match device/unit mapping \n  float size \x3d pixelUnit * spriteScale;\n  float depthSize \x3d depth * size;\n\n  // Calculate pixelSize for anti-aliasing\n  float pixelSize \x3d (spriteDepth \x3e 0.0 ? depthSize / z : size);\n  vPixelSize \x3d pixelSize;\n\n  // Position sprite\n  vec2 atlasOdd \x3d fract(atlas.zw / 2.0);\n  vec2 offset \x3d (spriteOffset + halfSprite * atlas.zw) * depthSize;\n  if (spriteSnap \x3e 0.5) {\n    // Snap to pixel (w/ epsilon shift to avoid jitter)\n    return vec3(((floor(center.xy / center.z * renderScale + 0.001) + renderOdd + atlasOdd) * center.z + offset) * renderScaleInv, center.z);\n  }\n  else {\n    // Place directly\n    return center + vec3(offset * renderScaleInv, 0.0);\n  }\n\n}\n"};
shadow$provide[443]=function(z,v,J,m){Object.defineProperty(m,"__esModule",{value:!0});m.default=void 0;m.default="uniform float stereoBend;\nuniform vec4 basisScale;\nuniform vec4 basisOffset;\nuniform mat4 viewMatrix;\nuniform vec2 view4D;\n\nvec4 getStereographic4Position(vec4 position, inout vec4 stpq) {\n  \n  vec4 transformed;\n  if (stereoBend \x3e 0.0001) {\n\n    float r \x3d length(position);\n    float w \x3d r + position.w;\n    vec4 project \x3d vec4(position.xyz / w, r);\n    \n    transformed \x3d mix(position, project, stereoBend);\n  }\n  else {\n    transformed \x3d position;\n  }\n\n  vec4 pos4 \x3d transformed * basisScale - basisOffset;\n  vec3 xyz \x3d (viewMatrix * vec4(pos4.xyz, 1.0)).xyz;\n  return vec4(xyz, pos4.w * view4D.y + view4D.x);\n}\n"};
shadow$provide[444]=function(z,v,J,m){Object.defineProperty(m,"__esModule",{value:!0});m.default=void 0;m.default="uniform float stereoBend;\n\nuniform mat4 viewMatrix;\n\nvec4 getStereoPosition(vec4 position, inout vec4 stpq) {\n  if (stereoBend \x3e 0.0001) {\n\n    vec3 pos \x3d position.xyz;\n    float r \x3d length(pos);\n    float z \x3d r + pos.z;\n    vec3 project \x3d vec3(pos.xy / z, r);\n    \n    vec3 lerped \x3d mix(pos, project, stereoBend);\n\n    return viewMatrix * vec4(lerped, 1.0);\n  }\n  else {\n    return viewMatrix * vec4(position.xyz, 1.0);\n  }\n}"};
shadow$provide[445]=function(z,v,J,m){Object.defineProperty(m,"__esModule",{value:!0});m.default=void 0;m.default="varying vec2 vST;\n\nvec4 getSample(vec2 st);\n\nvec4 getSTSample() {\n  return getSample(vST);\n}\n"};
shadow$provide[446]=function(z,v,J,m){Object.defineProperty(m,"__esModule",{value:!0});m.default=void 0;m.default="varying vec2 vUV;\n\nvoid setRawUV(vec4 xyzw) {\n  vUV \x3d xyzw.xy;\n}\n"};
shadow$provide[447]=function(z,v,J,m){Object.defineProperty(m,"__esModule",{value:!0});m.default=void 0;m.default="uniform vec4 geometryClip;\nattribute vec4 position4;\nattribute vec3 strip;\n\n// External\nvec3 getPosition(vec4 xyzw, float canonical);\n\nvarying vec3 vNormal;\nvarying vec3 vLight;\nvarying vec3 vPosition;\n\nvoid getStripGeometry(vec4 xyzw, vec3 strip, out vec3 pos, out vec3 normal) {\n  vec3 a, b, c;\n\n  a   \x3d getPosition(xyzw, 1.0);\n  b   \x3d getPosition(vec4(xyzw.xyz, strip.x), 0.0);\n  c   \x3d getPosition(vec4(xyzw.xyz, strip.y), 0.0);\n\n  normal \x3d normalize(cross(c - a, b - a)) * strip.z;\n  \n  pos \x3d a;\n}\n\nvec3 getStripPositionNormal() {\n  vec3 center, normal;\n\n  vec4 p \x3d min(geometryClip, position4);\n\n  getStripGeometry(p, strip, center, normal);\n  vNormal   \x3d normal;\n  vLight    \x3d normalize((viewMatrix * vec4(1.0, 2.0, 2.0, 0.0)).xyz);\n  vPosition \x3d -center;\n\n  return center;\n}\n"};
shadow$provide[448]=function(z,v,J,m){Object.defineProperty(m,"__esModule",{value:!0});m.default=void 0;m.default="uniform vec3 styleColor;\nuniform float styleOpacity;\n\nvec4 getStyleColor() {\n  return vec4(styleColor, styleOpacity);\n}\n"};
shadow$provide[449]=function(z,v,J,m){Object.defineProperty(m,"__esModule",{value:!0});m.default=void 0;m.default="uniform float subdivideBevel;\n\n// External\nvec4 sampleData(vec4 xyzw);\n\nvec4 subdivideDepth(vec4 xyzw) {\n  float x \x3d xyzw.z;\n  float i \x3d floor(x);\n  float f \x3d x - i;\n\n  float minf \x3d subdivideBevel * min(f, 1.0 - f);\n  float g \x3d (f \x3e 0.5) ? 1.0 - minf : (f \x3c 0.5) ? minf : 0.5;\n\n  return sampleData(vec4(xyzw.xy, i + g, xyzw.w));\n}\n"};
shadow$provide[450]=function(z,v,J,m){Object.defineProperty(m,"__esModule",{value:!0});m.default=void 0;m.default="uniform float subdivideBevel;\n\n// External\nvec4 sampleData(vec4 xyzw);\n\nvec4 subdivideDepthLerp(vec4 xyzw) {\n  float x \x3d xyzw.z;\n  float i \x3d floor(x);\n  float f \x3d x - i;\n\n  float minf \x3d subdivideBevel * min(f, 1.0 - f);\n  float g \x3d (f \x3e 0.5) ? 1.0 - minf : (f \x3c 0.5) ? minf : 0.5;\n\n  vec4 xyzw1 \x3d vec4(xyzw.xy, i, xyzw.w);\n  vec4 xyzw2 \x3d vec4(xyzw.xy, i + 1.0, xyzw.w);\n  \n  vec4 a \x3d sampleData(xyzw1);\n  vec4 b \x3d sampleData(xyzw2);\n\n  return mix(a, b, g);\n}\n"};
shadow$provide[451]=function(z,v,J,m){Object.defineProperty(m,"__esModule",{value:!0});m.default=void 0;m.default="uniform float subdivideBevel;\n\n// External\nvec4 sampleData(vec4 xyzw);\n\nvec4 subdivideHeight(vec4 xyzw) {\n  float x \x3d xyzw.y;\n  float i \x3d floor(x);\n  float f \x3d x - i;\n\n  float minf \x3d subdivideBevel * min(f, 1.0 - f);\n  float g \x3d (f \x3e 0.5) ? 1.0 - minf : (f \x3c 0.5) ? minf : 0.5;\n\n  return sampleData(vec4(xyzw.x, i + g, xyzw.zw));\n}\n"};
shadow$provide[452]=function(z,v,J,m){Object.defineProperty(m,"__esModule",{value:!0});m.default=void 0;m.default="uniform float subdivideBevel;\n\n// External\nvec4 sampleData(vec4 xyzw);\n\nvec4 subdivideHeightLerp(vec4 xyzw) {\n  float x \x3d xyzw.y;\n  float i \x3d floor(x);\n  float f \x3d x - i;\n\n  float minf \x3d subdivideBevel * min(f, 1.0 - f);\n  float g \x3d (f \x3e 0.5) ? 1.0 - minf : (f \x3c 0.5) ? minf : 0.5;\n\n  vec4 xyzw1 \x3d vec4(xyzw.x, i, xyzw.zw);\n  vec4 xyzw2 \x3d vec4(xyzw.x, i + 1.0, xyzw.zw);\n  \n  vec4 a \x3d sampleData(xyzw1);\n  vec4 b \x3d sampleData(xyzw2);\n\n  return mix(a, b, g);\n}\n"};
shadow$provide[453]=function(z,v,J,m){Object.defineProperty(m,"__esModule",{value:!0});m.default=void 0;m.default="uniform float subdivideBevel;\n\n// External\nvec4 sampleData(vec4 xyzw);\n\nvec4 subdivideItems(vec4 xyzw) {\n  float x \x3d xyzw.w;\n  float i \x3d floor(x);\n  float f \x3d x - i;\n\n  float minf \x3d subdivideBevel * min(f, 1.0 - f);\n  float g \x3d (f \x3e 0.5) ? 1.0 - minf : (f \x3c 0.5) ? minf : 0.5;\n\n  return sampleData(vec4(xyzw.xyz, i + g));\n}\n"};
shadow$provide[454]=function(z,v,J,m){Object.defineProperty(m,"__esModule",{value:!0});m.default=void 0;m.default="uniform float subdivideBevel;\n\n// External\nvec4 sampleData(vec4 xyzw);\n\nvec4 subdivideItemsLerp(vec4 xyzw) {\n  float x \x3d xyzw.w;\n  float i \x3d floor(x);\n  float f \x3d x - i;\n\n  float minf \x3d subdivideBevel * min(f, 1.0 - f);\n  float g \x3d (f \x3e 0.5) ? 1.0 - minf : (f \x3c 0.5) ? minf : 0.5;\n\n  vec4 xyzw1 \x3d vec4(xyzw.xyz, i);\n  vec4 xyzw2 \x3d vec4(xyzw.xyz, i + 1.0);\n  \n  vec4 a \x3d sampleData(xyzw1);\n  vec4 b \x3d sampleData(xyzw2);\n\n  return mix(a, b, g);\n}\n"};
shadow$provide[455]=function(z,v,J,m){Object.defineProperty(m,"__esModule",{value:!0});m.default=void 0;m.default="uniform float subdivideBevel;\n\n// External\nvec4 sampleData(vec4 xyzw);\n\nvec4 subdivideWidth(vec4 xyzw) {\n  float x \x3d xyzw.x;\n  float i \x3d floor(x);\n  float f \x3d x - i;\n\n  float minf \x3d subdivideBevel * min(f, 1.0 - f);\n  float g \x3d (f \x3e 0.5) ? 1.0 - minf : (f \x3c 0.5) ? minf : 0.5;\n\n  return sampleData(vec4(i + g, xyzw.yzw));\n}\n"};
shadow$provide[456]=function(z,v,J,m){Object.defineProperty(m,"__esModule",{value:!0});m.default=void 0;m.default="uniform float subdivideBevel;\n\n// External\nvec4 sampleData(vec4 xyzw);\n\nvec4 subdivideWidthLerp(vec4 xyzw) {\n  float x \x3d xyzw.x;\n  float i \x3d floor(x);\n  float f \x3d x - i;\n\n  float minf \x3d subdivideBevel * min(f, 1.0 - f);\n  float g \x3d (f \x3e 0.5) ? 1.0 - minf : (f \x3c 0.5) ? minf : 0.5;\n\n  vec4 xyzw1 \x3d vec4(i, xyzw.yzw);\n  vec4 xyzw2 \x3d vec4(i + 1.0, xyzw.yzw);\n  \n  vec4 a \x3d sampleData(xyzw1);\n  vec4 b \x3d sampleData(xyzw2);\n\n  return mix(a, b, g);\n}\n"};
shadow$provide[457]=function(z,v,J,m){Object.defineProperty(m,"__esModule",{value:!0});m.default=void 0;m.default="attribute vec4 position4;\n\nfloat getSurfaceHollowMask(vec4 xyzw) {\n  vec4 df \x3d abs(fract(position4) - .5);\n  vec2 df2 \x3d min(df.xy, df.zw);\n  float df3 \x3d min(df2.x, df2.y);\n  return df3;\n}"};
shadow$provide[458]=function(z,v,J,m){Object.defineProperty(m,"__esModule",{value:!0});m.default=void 0;m.default="uniform vec4 geometryClip;\nuniform vec4 geometryResolution;\nuniform vec4 mapSize;\n\nattribute vec4 position4;\n\n// External\nvec3 getPosition(vec4 xyzw, float canonical);\n\nvec3 getSurfacePosition() {\n  vec4 p \x3d min(geometryClip, position4);\n\n#ifdef SURFACE_CLOSED_X\n  if (p.x \x3d\x3d geometryClip.x) p.x \x3d 0.0;\n#endif\n#ifdef SURFACE_CLOSED_Y\n  if (p.y \x3d\x3d geometryClip.y) p.y \x3d 0.0;\n#endif\n\n  vec3 xyz \x3d getPosition(p, 1.0);\n\n  // Overwrite UVs\n#ifdef POSITION_UV\n#ifdef POSITION_UV_INT\n  vUV \x3d -.5 + (position4.xy * geometryResolution.xy) * mapSize.xy;\n#else\n  vUV \x3d position4.xy * geometryResolution.xy;\n#endif\n#endif\n\n  return xyz;\n}\n"};
shadow$provide[459]=function(z,v,J,m){Object.defineProperty(m,"__esModule",{value:!0});m.default=void 0;m.default="uniform vec4 mapSize;\nuniform vec4 geometryResolution;\nuniform vec4 geometryClip;\nattribute vec4 position4;\n\n// External\nvec3 getPosition(vec4 xyzw, float canonical);\nvec3 getNormal(vec4 xyzw);\n\nvarying vec3 vNormal;\nvarying vec3 vLight;\nvarying vec3 vPosition;\n\nvec3 getSurfacePositionNormal() {\n\n  vec4 p \x3d min(geometryClip, position4);\n#ifdef SURFACE_CLOSED_X\n  if (p.x \x3d\x3d geometryClip.x) p.x \x3d 0.0;\n#endif\n#ifdef SURFACE_CLOSED_Y\n  if (p.y \x3d\x3d geometryClip.y) p.y \x3d 0.0;\n#endif\n\n  vec3 center \x3d getPosition(p, 1.0);\n  vNormal     \x3d normalMatrix * normalize(getNormal(p));\n  vLight      \x3d normalize((viewMatrix * vec4(1.0, 2.0, 2.0, 0.0)).xyz); // hardcoded directional light\n  vPosition   \x3d -center;\n\n#ifdef POSITION_UV\n#ifdef POSITION_UV_INT\n  vUV \x3d -.5 + (position4.xy * geometryResolution.xy) * mapSize.xy;\n#else\n  vUV \x3d position4.xy * geometryResolution.xy;\n#endif\n#endif\n\n  return center;\n}\n"};
shadow$provide[460]=function(z,v,J,m){Object.defineProperty(m,"__esModule",{value:!0});m.default=void 0;m.default="uniform vec4 mapSize;\nuniform vec4 geometryResolution;\nuniform vec4 geometryClip;\nattribute vec4 position4;\n\n// External\nvec3 getPosition(vec4 xyzw, float canonical);\n\nvec4 wrapAround(vec4 xyzw) {\n#ifdef SURFACE_CLOSED_X\n  float gx \x3d geometryClip.x;\n  if (xyzw.x \x3c 0.0) xyzw.x +\x3d gx;\n  if (xyzw.x \x3e\x3d gx) xyzw.x -\x3d gx;\n#endif\n#ifdef SURFACE_CLOSED_Y\n  float gy \x3d geometryClip.y;\n  if (xyzw.y \x3c 0.0) xyzw.y +\x3d gy;\n  if (xyzw.y \x3e\x3d gy) xyzw.y -\x3d gy;\n#endif\n  return xyzw;\n}\n\nvoid getSurfaceGeometry(vec4 xyzw, float edgeX, float edgeY, out vec3 left, out vec3 center, out vec3 right, out vec3 up, out vec3 down) {\n  vec4 deltaX \x3d vec4(1.0, 0.0, 0.0, 0.0);\n  vec4 deltaY \x3d vec4(0.0, 1.0, 0.0, 0.0);\n\n  center \x3d                  getPosition(xyzw, 1.0);\n  left   \x3d                  center;\n  down   \x3d                  center;\n  right  \x3d (edgeX \x3c 0.5)  ? getPosition(wrapAround(xyzw + deltaX), 0.0) : (2.0 * center - getPosition(xyzw - deltaX, 0.0));\n  up     \x3d (edgeY \x3c 0.5)  ? getPosition(wrapAround(xyzw + deltaY), 0.0) : (2.0 * center - getPosition(xyzw - deltaY, 0.0));\n}\n\nvec3 getSurfaceNormal(vec3 left, vec3 center, vec3 right, vec3 up, vec3 down) {\n  vec3 dx \x3d right - left;\n  vec3 dy \x3d up    - down;\n  vec3 n \x3d cross(dy, dx);\n  if (length(n) \x3e 0.0) {\n    return normalize(n);\n  }\n  return vec3(0.0, 1.0, 0.0);\n}\n\nvarying vec3 vNormal;\nvarying vec3 vLight;\nvarying vec3 vPosition;\n\nvec3 getSurfacePositionShaded() {\n  vec3 left, center, right, up, down;\n\n  vec4 p \x3d min(geometryClip, position4);\n  vec2 surface \x3d vec2(0.0);\n#ifdef SURFACE_CLOSED_X\n  if (p.x \x3d\x3d geometryClip.x) p.x \x3d 0.0;\n#else\n  if (p.x \x3d\x3d geometryClip.x) surface.x \x3d 1.0;\n  //if (p.x \x3d\x3d 0.0) surface.x \x3d -1.0;\n#endif\n#ifdef SURFACE_CLOSED_Y\n  if (p.y \x3d\x3d geometryClip.y) p.y \x3d 0.0;\n#else\n  if (p.y \x3d\x3d geometryClip.y) surface.y \x3d 1.0;\n  //if (p.y \x3d\x3d 0.0) surface.y \x3d -1.0;\n#endif\n\n  getSurfaceGeometry(p, surface.x, surface.y, left, center, right, up, down);\n  vNormal   \x3d getSurfaceNormal(left, center, right, up, down);\n  vLight    \x3d normalize((viewMatrix * vec4(1.0, 2.0, 2.0, 0.0)).xyz); // hardcoded directional light\n  vPosition \x3d -center;\n\n#ifdef POSITION_UV\n#ifdef POSITION_UV_INT\n  vUV \x3d -.5 + (position4.xy * geometryResolution.xy) * mapSize.xy;\n#else\n  vUV \x3d position4.xy * geometryResolution.xy;\n#endif\n#endif\n\n  return center;\n}\n"};
shadow$provide[461]=function(z,v,J,m){Object.defineProperty(m,"__esModule",{value:!0});m.default=void 0;m.default="uniform float worldUnit;\nuniform float focusDepth;\nuniform float tickSize;\nuniform float tickEpsilon;\nuniform vec3  tickNormal;\nuniform vec2  tickStrip;\n\nvec4 getSample(vec4 xyzw);\n\nvec3 transformPosition(vec4 position, in vec4 stpqIn, out vec4 stpqOut);\n\nvec3 getTickPosition(vec4 xyzw, in vec4 stpqIn, out vec4 stpqOut) {\n  float epsilon \x3d tickEpsilon;\n\n  // determine tick direction\n  float leftX  \x3d max(tickStrip.x, xyzw.y - 1.0);\n  float rightX \x3d min(tickStrip.y, xyzw.y + 1.0);\n  \n  vec4 left    \x3d getSample(vec4(leftX,  xyzw.zw, 0.0));\n  vec4 right   \x3d getSample(vec4(rightX, xyzw.zw, 0.0));\n  vec4 diff    \x3d right - left;\n\n  vec3 normal  \x3d cross(normalize(diff.xyz + vec3(diff.w)), tickNormal);\n  float bias   \x3d max(0.0, 1.0 - length(normal) * 2.0);\n       normal  \x3d mix(normal, tickNormal.yzx, bias * bias);\n  \n  // transform (point) and (point + delta)\n  vec4 center  \x3d getSample(vec4(xyzw.yzw, 0.0));\n  vec4 delta   \x3d vec4(normal, 0.0) * epsilon;\n\n  vec4 a \x3d center;\n  vec4 b \x3d center + delta;\n\n  vec4 _;\n  vec3 c \x3d transformPosition(a, stpqIn, stpqOut);\n  vec3 d \x3d transformPosition(b, stpqIn, _);\n  \n  // sample on either side to create line\n  float line \x3d xyzw.x - .5;\n  vec3  mid  \x3d c;\n  vec3  side \x3d normalize(d - c);\n\n  return mid + side * line * tickSize * worldUnit * focusDepth;\n}\n"};
shadow$provide[462]=function(z,v,J,m){Object.defineProperty(m,"__esModule",{value:!0});m.default=void 0;m.default="uniform mat4 transformMatrix;\n\nvec4 transformPosition(vec4 position, inout vec4 stpq) {\n  return transformMatrix * vec4(position.xyz, 1.0);\n}\n"};
shadow$provide[463]=function(z,v,J,m){Object.defineProperty(m,"__esModule",{value:!0});m.default=void 0;m.default="uniform mat4 transformMatrix;\nuniform vec4 transformOffset;\n\nvec4 transformPosition(vec4 position, inout vec4 stpq) {\n  return transformMatrix * position + transformOffset;\n}\n"};
shadow$provide[464]=function(z,v,J,m){Object.defineProperty(m,"__esModule",{value:!0});m.default=void 0;m.default="// Implicit three.js uniform\n// uniform mat4 viewMatrix;\n\nvec4 getViewPosition(vec4 position, inout vec4 stpq) {\n  return (viewMatrix * vec4(position.xyz, 1.0));\n}\n"};
shadow$provide[465]=function(z,v,J,m){Object.defineProperty(m,"__esModule",{value:!0});m.Graph=void 0;class t{static initClass(){this.IN=this.index=0;this.OUT=1}static id(p){return++t.index}constructor(p,n=null){this.parent=n;this.id=t.id();this.nodes=[];p&&this.add(p)}inputs(){const p=[];for(const n of Array.from(this.nodes))for(const c of Array.from(n.inputs))null===c.input&&p.push(c);return p}outputs(){const p=[];for(const n of Array.from(this.nodes))for(const c of Array.from(n.outputs))0===c.output.length&&
p.push(c);return p}getIn(p){return Array.from(this.inputs()).filter(n=>n.name===p)[0]}getOut(p){return Array.from(this.outputs()).filter(n=>n.name===p)[0]}add(p,n){if(p.length)for(const c of Array.from(p))this.add(c);else{if(p.graph&&!n)throw Error("Adding node to two graphs at once");p.graph=this;this.nodes.push(p)}}remove(p,n){if(p.length)for(const c of Array.from(p))this.remove(c);else{if(p.graph!==this)throw Error("Removing node from wrong graph.");n||p.disconnect();this.nodes.splice(this.nodes.indexOf(p),
1);p.graph=null}}adopt(p){if(p.length)for(const n of Array.from(p))this.adopt(n);else p.graph.remove(p,!0),this.add(p,!0)}}m.Graph=t;t.initClass()};
shadow$provide[466]=function(z,v,J,m){Object.defineProperty(m,"__esModule",{value:!0});m.Outlet=void 0;var t=v(465);class p{static initClass(){this.index=0}static make(n,c){null==c&&(c={});if(null!=n.meta)for(const e in n.meta)c[e]=n.meta[e];return new p(n.inout,n.name,n.hint,n.type,c)}static id(n){return`_io_${++p.index}_${n}`}static hint(n){n=n.replace(/^_io_[0-9]+_/,"");n=n.replace(/_i_o$/,"");return n.replace(/(In|Out|Inout|InOut)$/,"")}constructor(n,c,e,f,h,k){this.inout=n;this.name=c;this.hint=
e;this.type=f;null==h&&(h={});this.meta=h;this.id=k;null==this.hint&&(this.hint=p.hint(this.name));this.input=this.node=null;this.output=[];null==this.id&&(this.id=p.id(this.hint))}morph(n){this.inout=n.inout;this.name=n.name;this.hint=n.hint;this.type=n.type;return this.meta=n.meta}dupe(n){null==n&&(n=this.id);const c=p.make(this);c.name=n;return c}connect(n){if(this.inout===t.Graph.IN&&n.inout===t.Graph.OUT)return n.connect(this);if(this.inout!==t.Graph.OUT||n.inout!==t.Graph.IN)throw Error("Can only connect out to in.");
if(n.input!==this)return n.disconnect(),n.input=this,this.output.push(n)}disconnect(n){this.input&&this.input.disconnect(this);if(this.output.length)if(n){const c=this.output.indexOf(n);if(0<=c)return this.output.splice(c,1),n.input=null}else{for(n of Array.from(this.output))n.input=null;return this.output=[]}}}m.Outlet=p;p.initClass()};
shadow$provide[467]=function(z,v,J,m){Object.defineProperty(m,"__esModule",{value:!0});m.Node=void 0;var t=v(465),p=v(466);class n{static initClass(){this.index=0}static id(c){return++n.index}constructor(c,e){this.owner=c;this.graph=null;this.inputs=[];this.outputs=[];this.all=[];this.outlets=null;this.id=n.id();this.setOutlets(e)}getIn(c){return Array.from(this.inputs).filter(e=>e.name===c)[0]}getOut(c){return Array.from(this.outputs).filter(e=>e.name===c)[0]}get(c){return this.getIn(c)||this.getOut(c)}setOutlets(c){if(null!=
c){let e;if(null==this.outlets){this.outlets={};for(e of Array.from(c))e instanceof p.Outlet||(e=p.Outlet.make(e)),this._add(e);return}const f={};for(e of Array.from(c))f[[e.name,e.inout,e.type].join("-")]=!0;for(let h in this.outlets)e=this.outlets[h],h=[e.name,e.inout,e.type].join("-"),f[h]?f[h]=e:this._remove(e);for(e of Array.from(c))c=f[[e.name,e.inout,e.type].join("-")],c instanceof p.Outlet?this._morph(c,e):(e instanceof p.Outlet||(e=p.Outlet.make(e)),this._add(e));this}return this.outlets}connect(c,
e,f){let h;let k;const g={},r={};for(h of Array.from(c.inputs))if(f||!h.input)({type:u}=h),c=u+"/"+h.hint,r[c]||(r[c]=h),g[u]=c=g[u]||[],c.push(h);f=this.outputs;f=f.filter(w=>!(e&&w.output.length));for(k of Array.from(f.slice())){({type:u}=k);c=u+"/"+k.hint;var u=g[u];if(h=r[c])k.connect(h),delete r[c],u.splice(u.indexOf(h),1),f.splice(f.indexOf(k),1)}if(!f.length)return this;for(k of Array.from(f.slice()))({type:u}=k),(u=g[u])&&u.length&&k.connect(u.shift());return this}disconnect(c){let e;for(e of Array.from(this.inputs))e.disconnect();
for(e of Array.from(this.outputs))e.disconnect();return this}_key(c){return[c.name,c.inout].join("-")}_add(c){const e=this._key(c);if(c.node)throw Error("Adding outlet to two nodes at once.");if(this.outlets[e])throw Error(`Adding two identical outlets to same node. (${e})`);c.node=this;c.inout===t.Graph.IN&&this.inputs.push(c);c.inout===t.Graph.OUT&&this.outputs.push(c);this.all.push(c);return this.outlets[e]=c}_morph(c,e){let f=this._key(e);delete this.outlets[f];c.morph(e);f=this._key(e);return this.outlets[f]=
e}_remove(c){const e=this._key(c);if(c.node!==this)throw Error("Removing outlet from wrong node.");c.disconnect();c.node=null;delete this.outlets[e];c.inout===t.Graph.IN&&this.inputs.splice(this.inputs.indexOf(c),1);c.inout===t.Graph.OUT&&this.outputs.splice(this.outputs.indexOf(c),1);this.all.splice(this.all.indexOf(c),1);return this}}m.Node=n;n.initClass()};
shadow$provide[468]=function(z,v,J,m){Object.defineProperty(m,"__esModule",{value:!0});var t={IN:!0,OUT:!0};m.OUT=m.IN=void 0;var p=v(465);Object.keys(p).forEach(function(h){"default"!==h&&"__esModule"!==h&&(Object.prototype.hasOwnProperty.call(t,h)||h in m&&m[h]===p[h]||Object.defineProperty(m,h,{enumerable:!0,get:function(){return p[h]}}))});var n=v(467);Object.keys(n).forEach(function(h){"default"!==h&&"__esModule"!==h&&(Object.prototype.hasOwnProperty.call(t,h)||h in m&&m[h]===n[h]||Object.defineProperty(m,
h,{enumerable:!0,get:function(){return n[h]}}))});var c=v(466);Object.keys(c).forEach(function(h){"default"!==h&&"__esModule"!==h&&(Object.prototype.hasOwnProperty.call(t,h)||h in m&&m[h]===c[h]||Object.defineProperty(m,h,{enumerable:!0,get:function(){return c[h]}}))});const {IN:e,OUT:f}=p.Graph;m.OUT=f;m.IN=e};
shadow$provide[469]=function(z,v,J,m){Object.defineProperty(m,"__esModule",{value:!0});m.Snippet=void 0;class t{static initClass(){this.index=0}static namespace(){return`_sn_${++t.index}_`}static load(p,n,c){const e=p.parse(n,c),[f,h]=Array.from(p.compile(e));return new t(p,f,h,n,c)}constructor(p,n,c,e,f){this.language=p;this._signatures=n;this._compiler=c;this._name=e;this._original=f;this.varyings=this.attributes=this.symbols=this.externals=this.uniforms=this.entry=this.main=this.code=this.namespace=
null;this.language||delete this.language;this._signatures||delete this._signatures;this._compiler||delete this._compiler;this._original||delete this._original;this._name||(this._name=null!=this._signatures?this._signatures.main.name:void 0)}clone(){return new t(this.language,this._signatures,this._compiler,this._name,this._original)}bind(p,n,c,e){let f;var h;let k;n===""+n?[c,n,e]=Array.from([n,null!=c?c:{},null!=e?e:{}]):c!==""+c&&([e,c]=Array.from([null!=c?c:{},void 0]));this.main=this._signatures.main;
this.namespace=null!=(h=null!=c?c:this.namespace)?h:t.namespace();this.entry=this.namespace+this.main.name;this.uniforms={};this.varyings={};this.attributes={};this.externals={};this.symbols=[];c={};const g={};h=function(C){g[C]=!0;return C};const r=C=>this.namespace+C;if(p.globals)for(var u of Array.from(p.globals))h(u);const w=p.globalUniforms?h:r,x=p.globalVaryings?h:r,B=p.globalAttributes?h:r;p=(C,H)=>this.uniforms[w(null!=H?H:C.name)]=C;k=C=>this.varyings[x(C.name)]=C;u=C=>this.attributes[B(C.name)]=
C;h=C=>{const H=r(C.name);this.externals[H]=C;return this.symbols.push(H)};const E=C=>({type:C.type,name:C.name,value:C.value});for(f of Array.from(this._signatures.uniform))c[f.name]=!0;for(f of Array.from(this._signatures.uniform))p(E(f));for(f of Array.from(this._signatures.varying))k(E(f));for(f of Array.from(this._signatures.external))h(f);for(f of Array.from(this._signatures.attribute))u(E(f));for(const C in n)f=n[C],c[C]&&p(f,C);this.body=this.code=this._compiler(this.namespace,g,e);e&&(n=
(()=>{const C=[];for(const H in e)k=e[H],C.push(`#define ${H} ${k}`);return C})().join("\n"),n.length&&(this._original=[n,"//----------------------------------------",this._original].join("\n")));return null}}m.Snippet=t;t.initClass()};
shadow$provide[470]=function(z,v,J,m){m.make=function(t){null==t&&(t=[]);t instanceof Array||(t=[+t]);return t};m.nest=(t,p)=>t.concat(p);m.compare=function(t,p){var n=Math.min(t.length,p.length);for(let c=0,e=n,f=0<=e;f?c<e:c>e;f?c++:c--){n=t[c];const h=p[c];if(n>h)return-1;if(n<h)return 1}t=t.length;p=p.length;return t>p?-1:t<p?1:0};m.max=function(t,p){return 0<m.compare(t,p)?p:t}};
shadow$provide[471]=function(z,v,J,m){function t(e){if("function"!==typeof WeakMap)return null;var f=new WeakMap,h=new WeakMap;return(t=function(k){return k?h:f})(e)}function p(e,f){if(!f&&e&&e.__esModule)return e;if(null===e||"object"!==typeof e&&"function"!==typeof e)return{default:e};if((f=t(f))&&f.has(e))return f.get(e);var h={},k=Object.defineProperty&&Object.getOwnPropertyDescriptor,g;for(g in e)if("default"!==g&&Object.prototype.hasOwnProperty.call(e,g)){var r=k?Object.getOwnPropertyDescriptor(e,
g):null;r&&(r.get||r.set)?Object.defineProperty(h,g,r):h[g]=e[g]}h.default=e;f&&f.set(e,h);return h}Object.defineProperty(m,"__esModule",{value:!0});m.assemble=void 0;var n=p(v(468)),c=p(v(470));m.assemble=function(e,f,h,k){const g={},r=[],u={},w={},x={},B={},E=Q=>{let W;Q=(()=>{const ca=[];for(const ka in Q)W=Q[ka],ca.push(W);return ca})();Q.sort((ca,ka)=>ka.priority-ca.priority);const R=(ca,ka,la)=>{H(ca,ka,la);({main:la}=ka);({entry:ka}=ka);return e.call(Aa=>O(ca,Aa),Aa=>K(ca,Aa),ka,la.signature,
X)},X=e.body();for(W of Array.from(Q))R(W.node,W.module,W.priority);return[X,Q]},C=function(Q,W,R){const X=B[Q];return null!=X?X.priority=c.max(X.priority,R):B[Q]={code:W,priority:R}},H=function(Q,W,R){let X;R=c.make(R);for(const ca in W.library){const ka=W.library[ca];C(ca,ka.code,c.nest(R,ka.priority))}C(W.namespace,W.body,R);for(X in W.uniforms)R=W.uniforms[X],u[X]=R;for(X in W.varyings)R=W.varyings[X],w[X]=R;for(X in W.attributes)R=W.attributes[X],x[X]=R;return I(Q,W)},I=(Q,W)=>{const R=[];for(const X of Array.from(W.symbols)){const ca=
W.externals[X];if(K(Q,ca.name)){const ka={};for(const la in ca)ka[la]=ca[la];ka.name=O(Q,ca.name);g[X]=ka;R.push(r.push(X))}else R.push(void 0)}return R},K=function(Q,W){Q=Q.get(W);if(Q.inout===n.IN)return null===Q.input;if(Q.inout===n.OUT)return 0===Q.output.length},O=function(Q,W){Q=Q.get(W);if(!Q)return null;Q.input&&(Q=Q.input);({name:W}=Q);return Q.id};return function(){let Q;for(Q in k){var W=k[Q];I(W.node,W.module)}[W,h]=Array.from(E(h));null!=f&&(W.entry=f);W=e.build(W,h);var R=(()=>{const X=
[];for(Q in B)X.push(B[Q]);return X})().sort((X,ca)=>c.compare(X.priority,ca.priority)).map(X=>X.code);R.push(W.code);R=e.lines(R);return{namespace:W.name,library:B,body:W.code,code:R,main:W,entry:W.name,symbols:r,externals:g,uniforms:u,varyings:w,attributes:x}}()}};
shadow$provide[472]=function(z,v,J,m){Object.defineProperty(m,"__esModule",{value:!0});m.Program=void 0;var t=v(469),p=v(471);class n{static initClass(){this.index=0}static entry(){return`_pg_${++n.index}_`}constructor(c,e,f){this.language=c;this.namespace=e;this.graph=f;this.calls={};this.requires={}}call(c,e,f){let h;const k=e.namespace;(h=this.calls[k])?h.priority=Math.max(h.priority,f):this.calls[k]={node:c,module:e,priority:f};return this}require(c,e){return this.requires[e.namespace]={node:c,
module:e}}assemble(){const c=(0,p.assemble)(this.language,null!=this.namespace?this.namespace:n.entry,this.calls,this.requires),e=new t.Snippet;for(const f in c)e[f]=c[f];e.graph=this.graph;return e}}m.Program=n;n.initClass()};
shadow$provide[473]=function(z,v,J,m){function t(e){if("function"!==typeof WeakMap)return null;var f=new WeakMap,h=new WeakMap;return(t=function(k){return k?h:f})(e)}function p(e,f){if(!f&&e&&e.__esModule)return e;if(null===e||"object"!==typeof e&&"function"!==typeof e)return{default:e};if((f=t(f))&&f.has(e))return f.get(e);var h={},k=Object.defineProperty&&Object.getOwnPropertyDescriptor,g;for(g in e)if("default"!==g&&Object.prototype.hasOwnProperty.call(e,g)){var r=k?Object.getOwnPropertyDescriptor(e,
g):null;r&&(r.get||r.set)?Object.defineProperty(h,g,r):h[g]=e[g]}h.default=e;f&&f.set(e,h);return h}Object.defineProperty(m,"__esModule",{value:!0});m.link=void 0;var n=p(v(468)),c=p(v(470));m.link=function(e,f,h,k){let g=[];const r=[],u={},w={},x={},B={},E={},C=function(I,K,O){const Q=E[I];return null!=Q?Q.priority=c.max(Q.priority,O):E[I]={code:K,priority:O}},H=function(I,K,O){let Q;O=c.make(O);for(var W in K.library){var R=K.library[W];C(W,R.code,c.nest(O,R.priority))}C(K.namespace,K.body,O);for(Q in K.uniforms)O=
K.uniforms[Q],w[Q]=O;for(Q in K.varyings)O=K.varyings[Q],B[Q]=O;for(Q in K.attributes)O=K.attributes[Q],x[Q]=O;O=[];for(Q of Array.from(K.symbols)){W=K.externals[Q];{R=I;var X=W.name;const ca=R.get(X);if(!ca)throw Error(`Unable to link program. Unlinked callback \`${X}\` on \`${null!=(null!=R.owner.snippet?R.owner.snippet._name:void 0)?null!=R.owner.snippet?R.owner.snippet._name:void 0:R.owner.namespace}\``);R=ca.inout===n.IN?null===ca.input:ca.inout===n.OUT?0===ca.output.length:void 0}R?(u[Q]=W,
O.push(r.push(Q))):O.push(void 0)}return O};return function(){var I=e.links(f);const K=[];null!=I.defs&&K.push(I.defs);null!=I.bodies&&K.push(I.bodies);for(const O of Array.from(h))H(O.node,O.module,O.priority);g=(()=>{const O=[];for(const Q in E)O.push(E[Q]);return O})().sort((O,Q)=>c.compare(O.priority,Q.priority)).map(O=>O.code);I=e.lines(g);I=e.defuse(I);K.length&&(I=[e.lines(K),I].join("\n"));I=e.hoist(I);I=e.dedupe(I);return{namespace:k.main.name,code:I,main:k.main,entry:k.main.name,externals:u,
uniforms:w,attributes:x,varyings:B}}()}};
shadow$provide[474]=function(z,v,J,m){Object.defineProperty(m,"__esModule",{value:!0});m.Layout=void 0;var t=v(469),p=v(473);class n{constructor(c,e){this.language=c;this.graph=e;this.links=[];this.includes=[];this.modules={};this.visits={}}callback(c,e,f,h,k){return this.links.push({node:c,module:e,priority:f,name:h,external:k})}include(c,e,f){let h;if(null!=(h=this.modules[e.namespace]))return h.priority=Math.max(f,h.priority);this.modules[e.namespace]=!0;return this.includes.push({node:c,module:e,
priority:f})}visit(c){return this.visits[c]?!1:this.visits[c]=!0}link(c){c=(0,p.link)(this.language,this.links,this.includes,c);const e=new t.Snippet;for(const f in c)e[f]=c[f];e.graph=this.graph;return e}}m.Layout=n};
shadow$provide[475]=function(z,v,J,m){Object.defineProperty(m,"__esModule",{value:!0});var t={load:!0};m.load=void 0;var p=v(469);Object.keys(p).forEach(function(k){"default"!==k&&"__esModule"!==k&&(Object.prototype.hasOwnProperty.call(t,k)||k in m&&m[k]===p[k]||Object.defineProperty(m,k,{enumerable:!0,get:function(){return p[k]}}))});var n=v(472);Object.keys(n).forEach(function(k){"default"!==k&&"__esModule"!==k&&(Object.prototype.hasOwnProperty.call(t,k)||k in m&&m[k]===n[k]||Object.defineProperty(m,
k,{enumerable:!0,get:function(){return n[k]}}))});var c=v(474);Object.keys(c).forEach(function(k){"default"!==k&&"__esModule"!==k&&(Object.prototype.hasOwnProperty.call(t,k)||k in m&&m[k]===c[k]||Object.defineProperty(m,k,{enumerable:!0,get:function(){return c[k]}}))});var e=v(471);Object.keys(e).forEach(function(k){"default"!==k&&"__esModule"!==k&&(Object.prototype.hasOwnProperty.call(t,k)||k in m&&m[k]===e[k]||Object.defineProperty(m,k,{enumerable:!0,get:function(){return e[k]}}))});var f=v(473);
Object.keys(f).forEach(function(k){"default"!==k&&"__esModule"!==k&&(Object.prototype.hasOwnProperty.call(t,k)||k in m&&m[k]===f[k]||Object.defineProperty(m,k,{enumerable:!0,get:function(){return f[k]}}))});var h=v(470);Object.keys(h).forEach(function(k){"default"!==k&&"__esModule"!==k&&(Object.prototype.hasOwnProperty.call(t,k)||k in m&&m[k]===h[k]||Object.defineProperty(m,k,{enumerable:!0,get:function(){return h[k]}}))});({load:z}=p.Snippet);m.load=z};
shadow$provide[476]=function(z,v,J,m){function t(h){if("function"!==typeof WeakMap)return null;var k=new WeakMap,g=new WeakMap;return(t=function(r){return r?g:k})(h)}function p(h,k){return"undefined"!==typeof h&&null!==h?k(h):void 0}Object.defineProperty(m,"__esModule",{value:!0});m.Block=void 0;var n=function(h,k){if(!k&&h&&h.__esModule)return h;if(null===h||"object"!==typeof h&&"function"!==typeof h)return{default:h};if((k=t(k))&&k.has(h))return k.get(h);var g={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor,
u;for(u in h)if("default"!==u&&Object.prototype.hasOwnProperty.call(h,u)){var w=r?Object.getOwnPropertyDescriptor(h,u):null;w&&(w.get||w.set)?Object.defineProperty(g,u,w):g[u]=h[u]}g.default=h;k&&k.set(h,g);return g}(v(468)),c=v(475);class e{static previous(h){return null!=h.input?h.input.node.owner:void 0}constructor(h){null==h&&(h=!1);h||this.construct()}construct(){let h;null==this.namespace&&(this.namespace=c.Program.entry());return this.node=new n.Node(this,null!=(h="function"===typeof this.makeOutlets?
this.makeOutlets():void 0)?h:{})}refresh(){let h;return this.node.setOutlets(null!=(h="function"===typeof this.makeOutlets?this.makeOutlets():void 0)?h:{})}clone(){return new e}compile(h,k){h=new c.Program(h,null!=k?k:c.Program.entry(),this.node.graph);this.call(h,0);return h.assemble()}link(h,k){k=this.compile(h,k);h=new c.Layout(h,this.node.graph);this._include(k,h,0);this.export(h,0);return h.link(k)}call(h,k){}callback(h,k,g,r,u){}export(h,k){}_info(h){let k=null!=(null!=this.node.owner.snippet?
this.node.owner.snippet._name:void 0)?null!=this.node.owner.snippet?this.node.owner.snippet._name:void 0:this.node.owner.namespace;if(null!=h)return k+("."+h)}_outlet(h,k){k=n.Outlet.make(h,k);k.meta.def=h;return k}_call(h,k,g){return k.call(this.node,h,g)}_require(h,k){return k.require(this.node,h)}_inputs(h,k,g){return(()=>{const r=[];for(const u of Array.from(h.main.signature)){const w=this.node.get(u.name);r.push(p(e.previous(w),x=>x.call(k,g+1)))}return r})()}_callback(h,k,g,r,u,w){return k.callback(this.node,
h,g,r,u,w)}_include(h,k,g){return k.include(this.node,h,g)}_link(h,k,g){return(()=>{const r=[];for(const u of Array.from(h.symbols)){const w=h.externals[u];let x=this.node.get(w.name);if(!x)throw new f(`External not found on ${this._info(w.name)}`);if(null!=x.meta.child)continue;let B=x,E;for(;!E&&B;)[B,x]=Array.from([x.meta.parent,B]);E=e.previous(x);if(!E)throw new f(`Missing connection on ${this._info(w.name)}`);E.callback(k,g+1,u,w,x.input);r.push(null!=E?E.export(k,g+1):void 0)}return r})()}_trace(h,
k,g){return(()=>{const r=[];for(const u of Array.from(h.main.signature)){const w=this.node.get(u.name);r.push(p(e.previous(w),x=>x.export(k,g+1)))}return r})()}}m.Block=e;const f=function(h){h=Error(h);h.name="OutletError";return h};f.prototype=Error()};
shadow$provide[477]=function(z,v,J,m){Object.defineProperty(m,"__esModule",{value:!0});m.Call=void 0;z=v(476);class t extends z.Block{constructor(p){super(!0);this.snippet=p;this.namespace=p.namespace;this.construct()}clone(){return new t(this.snippet)}makeOutlets(){var p=this.snippet.main.signature;const {externals:n}=this.snippet;var {symbols:c}=this.snippet;p=Array.from(p).map(e=>this._outlet(e,{callback:!1}));c=Array.from(c).map(e=>this._outlet(n[e],{callback:!0}));return p.concat(c)}call(p,n){this._call(this.snippet,
p,n);return this._inputs(this.snippet,p,n)}export(p,n){if(p.visit(this.namespace,n))return this._link(this.snippet,p,n),this._trace(this.snippet,p,n)}}m.Call=t};
shadow$provide[478]=function(z,v,J,m){Object.defineProperty(m,"__esModule",{value:!0});m.Callback=void 0;var t=v(468);z=v(476);class p extends z.Block{constructor(n){super(!0);this.graph=n;this.construct()}refresh(){super.refresh();return delete this.subroutine}clone(){return new p(this.graph)}makeOutlets(){let n;this.make();const c=[];let e=[],f=[];const h=(k,g)=>{if(k.meta.callback){if(k.inout===t.Graph.IN)return g=k.dupe(),null==g.meta.child&&(g.meta.child=k),k.meta.parent=g,c.push(g)}else return g.push(k.type)};
for(n of Array.from(this.graph.inputs()))h(n,e);for(n of Array.from(this.graph.outputs()))h(n,f);e=e.join(",");f=f.join(",");c.push({name:"callback",type:`(${e})(${f})`,inout:t.Graph.OUT,meta:{callback:!0,def:this.subroutine.main}});return c}make(){return this.subroutine=this.graph.compile(this.namespace)}export(n,c){if(n.visit(this.namespace,c))return this._link(this.subroutine,n,c),this.graph.export(n,c)}call(n,c){return this._require(this.subroutine,n,c)}callback(n,c,e,f,h){this._include(this.subroutine,
n,c);return this._callback(this.subroutine,n,c,e,f,h)}}m.Callback=p};
shadow$provide[479]=function(z,v,J,m){Object.defineProperty(m,"__esModule",{value:!0});m.Isolate=void 0;var t=v(468);z=v(476);class p extends z.Block{constructor(n){super(!0);this.graph=n;this.construct()}refresh(){super.refresh();return delete this.subroutine}clone(){return new p(this.graph)}makeOutlets(){this.make();const n=[],c={};for(const e of["inputs","outputs"])for(const f of Array.from(this.graph[e]())){let h=void 0;["return","callback"].includes(f.hint)&&f.inout===t.Graph.OUT&&(h=f.hint);
null!=c[h]&&(h=void 0);const k=f.dupe(h);null==k.meta.child&&(k.meta.child=f);f.meta.parent=k;null!=h&&(c[h]=!0);n.push(k)}return n}make(){return this.subroutine=this.graph.compile(this.namespace)}call(n,c){this._call(this.subroutine,n,c);return this._inputs(this.subroutine,n,c)}export(n,c){if(n.visit(this.namespace,c))return this._link(this.subroutine,n,c),this._trace(this.subroutine,n,c),this.graph.export(n,c)}callback(n,c,e,f,h){h=h.meta.child;return h.node.owner.callback(n,c,e,f,h)}}m.Isolate=
p};
shadow$provide[480]=function(z,v,J,m){Object.defineProperty(m,"__esModule",{value:!0});m.Join=void 0;z=v(476);class t extends z.Block{constructor(p){super(!0);this.nodes=p;this.construct()}clone(){return new t(this.nodes)}makeOutlets(){return[]}call(p,n){return(()=>{const c=[];for(const e of Array.from(this.nodes))c.push(e.owner.call(p,n));return c})()}export(p,n){return(()=>{const c=[];for(const e of Array.from(this.nodes))c.push(e.owner.export(p,n));return c})()}}m.Join=t};
shadow$provide[481]=function(z,v,J,m){Object.defineProperty(m,"__esModule",{value:!0});var t=v(476);Object.keys(t).forEach(function(f){"default"!==f&&"__esModule"!==f&&(f in m&&m[f]===t[f]||Object.defineProperty(m,f,{enumerable:!0,get:function(){return t[f]}}))});var p=v(477);Object.keys(p).forEach(function(f){"default"!==f&&"__esModule"!==f&&(f in m&&m[f]===p[f]||Object.defineProperty(m,f,{enumerable:!0,get:function(){return p[f]}}))});var n=v(478);Object.keys(n).forEach(function(f){"default"!==
f&&"__esModule"!==f&&(f in m&&m[f]===n[f]||Object.defineProperty(m,f,{enumerable:!0,get:function(){return n[f]}}))});var c=v(479);Object.keys(c).forEach(function(f){"default"!==f&&"__esModule"!==f&&(f in m&&m[f]===c[f]||Object.defineProperty(m,f,{enumerable:!0,get:function(){return c[f]}}))});var e=v(480);Object.keys(e).forEach(function(f){"default"!==f&&"__esModule"!==f&&(f in m&&m[f]===e[f]||Object.defineProperty(m,f,{enumerable:!0,get:function(){return e[f]}}))})};
shadow$provide[482]=function(z,v,J,m){function t(c){if("function"!==typeof WeakMap)return null;var e=new WeakMap,f=new WeakMap;return(t=function(h){return h?f:e})(c)}Object.defineProperty(m,"__esModule",{value:!0});m.serialize=void 0;var p=function(c,e){if(!e&&c&&c.__esModule)return c;if(null===c||"object"!==typeof c&&"function"!==typeof c)return{default:c};if((e=t(e))&&e.has(c))return e.get(c);var f={},h=Object.defineProperty&&Object.getOwnPropertyDescriptor,k;for(k in c)if("default"!==k&&Object.prototype.hasOwnProperty.call(c,
k)){var g=h?Object.getOwnPropertyDescriptor(c,k):null;g&&(g.get||g.set)?Object.defineProperty(f,k,g):f[k]=c[k]}f.default=c;e&&e.set(c,f);return f}(v(481));const n=function(c){const e=[],f=[];for(const k of Array.from(c.nodes)){let g;var h={id:k.id,name:null,type:null,depth:null,graph:null,inputs:[],outputs:[]};e.push(h);({inputs:c}=h);const {outputs:r}=h,u=k.owner;u instanceof p.Call?(h.name=u.snippet._name,h.type="call",h.code=u.snippet._original):u instanceof p.Callback?(h.name="Callback",h.type=
"callback",h.graph=n(u.graph)):u instanceof p.Isolate?(h.name="Isolate",h.type="isolate",h.graph=n(u.graph)):u instanceof p.Join?(h.name="Join",h.type="join"):null!=u&&(null==h.name&&(h.name=null!=u.name?u.name:u.type),null==h.type&&(h.type=u.type),null==h.code&&(h.code=u.code),null!=u.graph&&(h.graph=n(u.graph)));h=function(w){w=w.replace(")(",")(");return w.replace("()","")};for(g of Array.from(k.inputs))c.push({id:g.id,name:g.name,type:h(g.type),open:null==g.input});for(g of Array.from(k.outputs)){r.push({id:g.id,
name:g.name,type:h(g.type),open:!g.output.length});for(const w of Array.from(g.output))f.push({from:k.id,out:g.id,to:w.node.id,in:w.id,type:h(g.type)})}}return{nodes:e,links:f}};m.serialize=n};
shadow$provide[483]=function(z,v,J,m){Object.defineProperty(m,"__esModule",{value:!0});m.hash=void 0;let t=function(p,n){const c=p&65535,e=n&65535;return c*e+((p>>>16&65535)*e+c*(n>>>16&65535)<<16>>>0)|0};null!=Math.imul&&({imul:t}=Math);m.hash=function(p){let n;const c=p.length;let e=Math.floor(c/2),f=n=0;const h=function(k,g){k|=g<<16;k=t(k^k<<9,3432918353);k=t(k<<15|k>>>17,461845907);n^=k;n=n<<13|n>>>19;n=t(n,5);return n=n+3864292196|0};for(;e--;)h(p.charCodeAt(f++),p.charCodeAt(f++));c&1&&h(p.charCodeAt(f++),
0);n^=c;n^=n>>>16;n=t(n,2246822507);n^=n>>>13;n=t(n,3266489909);return n^=n>>>16}};
shadow$provide[484]=function(z,v,J,m){Object.defineProperty(m,"__esModule",{value:!0});m.merge=m.overlay=m.process=void 0;var t=v(483);const p=function(g,r){null==r&&(r=1);var u=(0,t.hash)(g)^1193046;g=u&255;let w=u>>>8&255;u=u>>>16&255;var x=Math.max(g,w,u);const B=140/x;x=Math.round(x/3);g=Math.min(255,Math.round(B*Math.max(g,x)));w=Math.min(255,Math.round(B*Math.max(w,x)));u=Math.min(255,Math.round(B*Math.max(u,x)));return"rgba("+[g,w,u,r].join(", ")+")"},n=function(g){return(null!=g?g:"").replace(/&/g,
"\x26amp;").replace(/</g,"\x26lt;").replace(/>/g,"\x26gt;").replace(/'/g,"\x26#39;").replace(/"/g,"\x26quot;")};m.process=function(g){const r=[],u=f(g,r);u.update=()=>{if(null==u.parentNode)var w=void 0;else{var x=u.getBoundingClientRect();for(w of Array.from(r)){var B=w.out.getBoundingClientRect(),E=w.in.getBoundingClientRect();w.coords={x1:(B.left+B.right)/2-x.left,y1:(B.top+B.bottom)/2-x.top,x2:(E.left+E.right)/2-x.left,y2:(E.top+E.bottom)/2-x.top}}x=u.querySelector("svg");null!=x&&u.removeChild(x);
for(B=u;B.parentNode&&0===B.offsetHeight;)B=B.parentNode;x=h();x.setAttribute("width",B.offsetWidth);x.setAttribute("height",B.offsetHeight);for(w of Array.from(r)){var C=w.coords;const W=h("path");B=W;E=B.setAttribute;{var H=void 0;var I=C.x1;var K=C.y1,O=C.x2;C=C.y2;H=O-I;var Q=C-K;const R=Math.sqrt(H*H+Q*Q);if(Math.abs(Q)>Math.abs(H)){const X=(I+O)/2,ca=(K+C)/2;Q=0<Q?.3:-.3;H=Math.min(Math.abs(H)/2,20+R/8);I=["M",I,K,"C",I+H,K+",",X,ca-R*Q,X,ca,"C",X,ca+R*Q,O-H,C+",",O,C].join(" ")}else H=Math.min(Math.abs(H)/
2.5,20+R/4),I=["M",I,K,"C",I+H,K+",",O-H,C+",",O,C].join(" ")}E.call(B,"d",I);W.setAttribute("stroke",w.color);W.setAttribute("stroke-width",3);W.setAttribute("fill","transparent");x.appendChild(W)}w=u.appendChild(x)}return w};c(u);return u};const c=function(g){g=g.querySelectorAll(".shadergraph-code");return Array.from(g).map(r=>function(){r.parentNode.classList.add("shadergraph-has-code");return r.parentNode.addEventListener("click",u=>r.style.display={block:"none",none:"block"}[r.style.display||
"none"])}())},e=function(g){let r,u;const w={},x={};for(u of Array.from(g.nodes))w[u.id]=u;for(r of Array.from(g.links))null==x[r.from]&&(x[r.from]=[]),x[r.from].push(r);const B=function(E,C){null==C&&(C=0);E.depth=Math.max(null!=E.depth?E.depth:0,C);if(E=x[E.id])for(r of Array.from(E))B(w[r.to],C+1);return null};for(u of Array.from(g.nodes))null==u.depth&&B(u);return null},f=function(g,r){e(g);const u=document.createElement("div");u.classList.add("shadergraph-graph");const w=[],x={};for(const E of Array.from(g.nodes)){let C;
const H=document.createElement("div");H.classList.add("shadergraph-node");H.classList.add(`shadergraph-node-${E.type}`);H.innerHTML=`\
<div class="shadergraph-header">${n(E.name)}</div>\
`;var B=function(I,K){const O=p(I.type),Q=document.createElement("div");Q.classList.add("shadergraph-outlet");Q.classList.add(`shadergraph-outlet-${K}`);Q.innerHTML=`\
<div class="shadergraph-point" style="background: ${O}"></div>
<div class="shadergraph-type" style="color: ${O}">${n(I.type)}</div>
<div class="shadergraph-name">${n(I.name)}</div>\
`;H.appendChild(Q);return x[I.id]=Q.querySelector(".shadergraph-point")};for(C of Array.from(E.inputs))B(C,"in");for(C of Array.from(E.outputs))B(C,"out");null!=E.graph?H.appendChild(f(E.graph,r)):(B=document.createElement("div"),B.classList.add("shadergraph-clear"),H.appendChild(B));null!=E.code&&(B=document.createElement("div"),B.classList.add("shadergraph-code"),B.innerHTML=n((""+E.code).replace(/^\s+|\s+$/g,"")),H.appendChild(B));B=w[E.depth];null==B&&(B=document.createElement("div"),B.classList.add("shadergraph-column"),
w[E.depth]=B);B.appendChild(H)}for(B of Array.from(w))null!=B&&u.appendChild(B);for(const E of Array.from(g.links))g=p(E.type),r.push({color:g,out:x[E.out],in:x[E.in]});return u},h=function(g){null==g&&(g="svg");return document.createElementNS("http://www.w3.org/2000/svg",g)};m.overlay=function(g){const r=document.createElement("div");r.setAttribute("class","shadergraph-overlay");const u=document.createElement("div");u.setAttribute("class","shadergraph-close");u.innerHTML="\x26times;";const w=document.createElement("div");
w.setAttribute("class","shadergraph-view");const x=document.createElement("div");x.setAttribute("class","shadergraph-inside");x.appendChild(g);w.appendChild(x);r.appendChild(w);r.appendChild(u);u.addEventListener("click",()=>r.parentNode.removeChild(r));return r};const k=function(g){if(g instanceof Node)return g;const r=document.createElement("span");r.innerText=null!=g?g:"";return r};m.merge=function(g){if(1!==g.length){let r;const u=document.createElement("div");for(r of Array.from(g))u.appendChild(k(r));
u.update=()=>{const w=[];for(r of Array.from(g))w.push("function"===typeof r.update?r.update():void 0);return w};return u}return k(g[0])}};
shadow$provide[485]=function(z,v,J,m){function t(h){if("function"!==typeof WeakMap)return null;var k=new WeakMap,g=new WeakMap;return(t=function(r){return r?g:k})(h)}Object.defineProperty(m,"__esModule",{value:!0});m.inspect=m.visualize=m.markup=m.serialize=void 0;z=v(482);var p=function(h,k){if(!k&&h&&h.__esModule)return h;if(null===h||"object"!==typeof h&&"function"!==typeof h)return{default:h};if((k=t(k))&&k.has(h))return k.get(h);var g={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor,
u;for(u in h)if("default"!==u&&Object.prototype.hasOwnProperty.call(h,u)){var w=r?Object.getOwnPropertyDescriptor(h,u):null;w&&(w.get||w.set)?Object.defineProperty(g,u,w):g[u]=h[u]}g.default=h;k&&k.set(h,g);return g}(v(484));const n=z.serialize;m.serialize=n;m.markup=p;const c=function(h){return null==h?h:h instanceof Array?h.map(c):null!=h.vertex&&null!=h.fragment?[c(h.vertex,c(h.fragment))]:null!=h._graph?h._graph:null!=h.graph?h.graph:h},e=function(h){let k=[];for(const g of Array.from(h))g instanceof
Array?k=k.concat(e(g)):null!=g&&k.push(g);return k},f=function(){const h=e(c([].slice.call(arguments)));return p.merge(Array.from(h).filter(k=>k).map(k=>{k?k.nodes&&(k=n(k),k=p.process(k)):k=void 0;return k}))};m.visualize=f;m.inspect=function(){const h=f.apply(null,arguments),k=p.overlay(h);for(const g of Array.from(document.querySelectorAll(".shadergraph-overlay")))g.remove();document.body.appendChild(k);h.update();return k}};
shadow$provide[486]=function(z,v,J,m){function t(k){if("function"!==typeof WeakMap)return null;var g=new WeakMap,r=new WeakMap;return(t=function(u){return u?r:g})(k)}function p(k,g){if(!g&&k&&k.__esModule)return k;if(null===k||"object"!==typeof k&&"function"!==typeof k)return{default:k};if((g=t(g))&&g.has(k))return g.get(k);var r={},u=Object.defineProperty&&Object.getOwnPropertyDescriptor,w;for(w in k)if("default"!==w&&Object.prototype.hasOwnProperty.call(k,w)){var x=u?Object.getOwnPropertyDescriptor(k,
w):null;x&&(x.get||x.set)?Object.defineProperty(r,w,x):r[w]=k[w]}r.default=k;g&&g.set(k,r);return r}Object.defineProperty(m,"__esModule",{value:!0});m.Factory=void 0;var n=v(468),c=p(v(481)),e=p(v(485));class f{constructor(k,g,r){this.language=k;this.fetch=g;this.config=r;this.graph()}pipe(k,g,r,u){k instanceof f?this._concat(k):null!=k&&this._call(k,g,r,u);return this}call(k,g,r,u){return this.pipe(k,g,r,u)}require(k,g,r,u){k instanceof f?this._import(k):null!=k&&(this.callback(),this._call(k,g,
r,u),this.end());return this}import(k,g,r,u){return this.require(k,g,r,u)}split(){this._group("_combine",!0);return this}fan(){this._group("_combine",!1);return this}isolate(){this._group("_isolate");return this}callback(){this._group("_callback");return this}next(){this._next();return this}pass(){const k=this._stack[2].end;this.end();this._state.end=this._state.end.concat(k);return this}end(){const [k,g]=Array.from(this._exit()),{op:r}=k;if(this[r])this[r](k,g);return this}join(){return this.end()}graph(){for(;1<
(null!=this._stack?this._stack.length:void 0);)this.end();this._graph&&this._tail(this._state,this._graph);const k=this._graph;this._graph=new n.Graph;this._state=new h;this._stack=[this._state];return k}compile(k){null==k&&(k="main");return this.graph().compile(k)}link(k){null==k&&(k="main");return this.graph().link(k)}serialize(){return e.serialize(this._graph)}empty(){return 0===this._graph.nodes.length}_concat(k){let g;if(0===k._state.nodes.length)return this;this._tail(k._state,k._graph);try{g=
new c.Isolate(k._graph)}catch(r){throw this.config.autoInspect&&e.inspect(r,this._graph,k),r;}this._auto(g);return this}_import(k){let g;if(0===k._state.nodes.length)throw"Can't import empty callback";this._tail(k._state,k._graph);try{g=new c.Callback(k._graph)}catch(r){throw this.config.autoInspect&&e.inspect(r,this._graph,k),r;}this._auto(g);return this}_combine(k,g){for(const r of Array.from(k.start))for(const u of Array.from(g.end))u.connect(r,k.multi);g.end=k.end;return g.nodes=g.nodes.concat(k.nodes)}_isolate(k,
g){if(k.nodes.length){let r;g=this._subgraph(k);this._tail(k,g);try{r=new c.Isolate(g)}catch(u){throw this.config.autoInspect&&e.inspect(u,this._graph,g),u;}return this._auto(r)}}_callback(k,g){if(k.nodes.length){let r;g=this._subgraph(k);this._tail(k,g);try{r=new c.Callback(g)}catch(u){throw this.config.autoInspect&&e.inspect(u,this._graph,g),u;}return this._auto(r)}}_call(k,g,r,u){k=this.fetch(k);k.bind(this.config,g,r,u);g=new c.Call(k);return this._auto(g)}_subgraph(k){const g=new n.Graph(null,
this._graph);g.adopt(k.nodes);return g}_tail(k,g){let r=k.end.concat(k.tail);r=r.filter((u,w)=>r.indexOf(u)===w);1<r.length&&(r=new c.Join(r),r=[r.node],this._graph.add(r));g.tail=r[0];k.end=r;k.tail=[];if(!g.tail)throw Error("Cannot finalize empty graph");g.compile=u=>{null==u&&(u="main");try{return g.tail.owner.compile(this.language,u)}catch(w){throw this.config.autoInspect&&g.inspect(w),w;}};g.link=u=>{null==u&&(u="main");try{return g.tail.owner.link(this.language,u)}catch(w){throw this.config.autoInspect&&
g.inspect(w),w;}};g.export=(u,w)=>g.tail.owner.export(u,w);return g.inspect=(u=null)=>e.inspect(u,g)}_group(k,g){this._push(k,g);this._push();return this}_next(){const k=this._pop();this._state.start=this._state.start.concat(k.start);this._state.end=this._state.end.concat(k.end);this._state.nodes=this._state.nodes.concat(k.nodes);this._state.tail=this._state.tail.concat(k.tail);return this._push()}_exit(){this._next();this._pop();return[this._pop(),this._state]}_push(k,g){this._stack.unshift(new h(k,
g));return this._state=this._stack[0]}_pop(){let k;this._state=this._stack[1];null==this._state&&(this._state=new h);return null!=(k=this._stack.shift())?k:new h}_auto(k){return k.node.inputs.length?this._append(k):this._insert(k)}_append(k){let g;({node:k}=k);this._graph.add(k);for(g of Array.from(this._state.end))g.connect(k);this._state.start.length||(this._state.start=[k]);this._state.end=[k];this._state.nodes.push(k);k.outputs.length||this._state.tail.push(k)}_prepend(k){let g;({node:k}=k);this._graph.add(k);
for(g of Array.from(this._state.start))k.connect(g);this._state.end.length||(this._state.end=[k]);this._state.start=[k];this._state.nodes.push(k);k.outputs.length||this._state.tail.push(k)}_insert(k){({node:k}=k);this._graph.add(k);this._state.start.push(k);this._state.end.push(k);this._state.nodes.push(k);if(!k.outputs.length)return this._state.tail.push(k)}}m.Factory=f;class h{constructor(k=null,g,r,u,w,x){this.op=k;null==g&&(g=!1);this.multi=g;null==r&&(r=[]);this.start=r;null==u&&(u=[]);this.end=
u;null==w&&(w=[]);this.nodes=w;null==x&&(x=[]);this.tail=x}}};
shadow$provide[487]=function(z,v,J,m){function t(c){if("function"!==typeof WeakMap)return null;var e=new WeakMap,f=new WeakMap;return(t=function(h){return h?f:e})(c)}Object.defineProperty(m,"__esModule",{value:!0});m.Material=void 0;var p=function(c,e){if(!e&&c&&c.__esModule)return c;if(null===c||"object"!==typeof c&&"function"!==typeof c)return{default:c};if((e=t(e))&&e.has(c))return e.get(c);var f={},h=Object.defineProperty&&Object.getOwnPropertyDescriptor,k;for(k in c)if("default"!==k&&Object.prototype.hasOwnProperty.call(c,
k)){var g=h?Object.getOwnPropertyDescriptor(c,k):null;g&&(g.get||g.set)?Object.defineProperty(f,k,g):f[k]=c[k]}f.default=c;e&&e.set(c,f);return f}(v(485));class n{constructor(c,e){this.vertex=c;this.fragment=e}build(c){return this.link(c)}link(c){null==c&&(c={});const e={},f={},h={},k=this.vertex.link("main"),g=this.fragment.link("main");for(const r of[k,g]){for(const u in r.uniforms)e[u]=r.uniforms[u];for(const u in r.varyings)f[u]=r.varyings[u];for(const u in r.attributes)h[u]=r.attributes[u]}c.vertexShader=
k.code;c.vertexGraph=k.graph;c.fragmentShader=g.code;c.fragmentGraph=g.graph;c.attributes=h;c.uniforms=e;c.varyings=f;c.inspect=()=>p.inspect("Vertex Shader",k,"Fragment Shader",g.graph);return c}inspect(){return p.inspect("Vertex Shader",this.vertex,"Fragment Shader",this.fragment.graph)}}m.Material=n};
shadow$provide[488]=function(z,v,J,m){Object.defineProperty(m,"__esModule",{value:!0});m.library=void 0;m.library=function(t,p,n){let c=null,e={};null!=p&&("function"===typeof p?c=h=>n(t,h,p(h)):"object"===typeof p&&(c=function(h){if(null==p[h])throw Error(`Unknown snippet \`${h}\``);return n(t,h,p[h])}));var f=h=>n(t,"",h);if(null==c)return f;f=function(h){if(h.match(/[{;]/))return n(t,"",h);e[h]=!0;return c(h)};f.used=function(h){null==h&&(h=e);return e=h};return f}};
shadow$provide[489]=function(z,v,J,m){Object.defineProperty(m,"__esModule",{value:!0});m.queue=void 0;m.queue=function(t){null==t&&(t=100);const p={};let n=null,c=null,e=0;const f=function(k){k.prev=null;k.next=n;null!=n&&(n.prev=k);n=k;if(null==c)return c=k},h=function(k){const {prev:g}=k,{next:r}=k;null!=g&&(g.next=r);null!=r&&(r.prev=g);n===k&&(n=r);if(c===k)return c=g};return function(k){let g,r;(r=p[k])&&r!==n?(h(r),f(r)):(e===t?(g=c.key,h(c),delete p[g]):e++,r={next:n,prev:null,key:k},f(r),
p[k]=r);return g}}};
shadow$provide[490]=function(z,v,J,m){Object.defineProperty(m,"__esModule",{value:!0});m.cache=void 0;var t=v(489),p=v(483);m.cache=function(n){const c={},e=(0,t.queue)(100);return function(f){const h=32<f.length?"##"+(0,p.hash)(f).toString(16):f,k=e(h);null!=k&&delete c[k];null==c[h]&&(c[h]=n(f));return c[h].clone()}}};
shadow$provide[491]=function(z,v,J,m){Object.defineProperty(m,"__esModule",{value:!0});var t=v(486);Object.keys(t).forEach(function(h){"default"!==h&&"__esModule"!==h&&(h in m&&m[h]===t[h]||Object.defineProperty(m,h,{enumerable:!0,get:function(){return t[h]}}))});var p=v(487);Object.keys(p).forEach(function(h){"default"!==h&&"__esModule"!==h&&(h in m&&m[h]===p[h]||Object.defineProperty(m,h,{enumerable:!0,get:function(){return p[h]}}))});var n=v(488);Object.keys(n).forEach(function(h){"default"!==
h&&"__esModule"!==h&&(h in m&&m[h]===n[h]||Object.defineProperty(m,h,{enumerable:!0,get:function(){return n[h]}}))});var c=v(490);Object.keys(c).forEach(function(h){"default"!==h&&"__esModule"!==h&&(h in m&&m[h]===c[h]||Object.defineProperty(m,h,{enumerable:!0,get:function(){return c[h]}}))});var e=v(489);Object.keys(e).forEach(function(h){"default"!==h&&"__esModule"!==h&&(h in m&&m[h]===e[h]||Object.defineProperty(m,h,{enumerable:!0,get:function(){return e[h]}}))});var f=v(483);Object.keys(f).forEach(function(h){"default"!==
h&&"__esModule"!==h&&(h in m&&m[h]===f[h]||Object.defineProperty(m,h,{enumerable:!0,get:function(){return f[h]}}))})};
shadow$provide[492]=function(z,v,J,m){Object.defineProperty(m,"__esModule",{value:!0});m.compile=void 0;m.compile=function(p){const {code:n,signatures:c}=p;p={};p[c.main.name]=!0;for(var e of["external","internal","varying","uniform","attribute"])for(const f of c[e])p[f.name]=!0;e=t(n,p);return[c,e]};const t=function(p,n){let c;const e=new RegExp("\\b("+(()=>{const f=[];for(c in n)f.push(c);return f})().join("|")+")\\b","g");p=p.replace(/\/\/[^\n]*/g,"");p=p.replace(/\/\*([^*]|\*[^/])*\*\//g,"");
return function(f,h,k){let g;null==f&&(f="");null==h&&(h={});null==k&&(k={});const r={};for(g in n)r[g]=null!=h[g]?g:f+g;f=p.replace(e,u=>r[u]);h=(()=>{const u=[];for(g in k)u.push(`#define ${g} ${k[g]}`);return u})();h.length&&h.push("");return h.join("\n")+f}}};
shadow$provide[493]=function(z,v,J,m){J.exports="precision highp mediump lowp attribute const uniform varying break continue do for while if else in out inout float int uint void bool true false discard return mat2 mat3 mat4 vec2 vec3 vec4 ivec2 ivec3 ivec4 bvec2 bvec3 bvec4 sampler1D sampler2D sampler3D samplerCube sampler1DShadow sampler2DShadow struct asm class union enum typedef template this packed goto switch default inline noinline volatile public static extern external interface long short double half fixed unsigned input output hvec2 hvec3 hvec4 dvec2 dvec3 dvec4 fvec2 fvec3 fvec4 sampler2DRect sampler3DRect sampler2DRectShadow sizeof cast namespace using".split(" ")};
shadow$provide[494]=function(z,v,J,m){J.exports="\x3c\x3c\x3d \x3e\x3e\x3d ++ -- \x3c\x3c \x3e\x3e \x3c\x3d \x3e\x3d \x3d\x3d !\x3d \x26\x26 || +\x3d -\x3d *\x3d /\x3d %\x3d \x26\x3d ^^ ^\x3d |\x3d ( ) [ ] . ! ~ * / % + - \x3c \x3e \x26 ^ | ? : \x3d , ; { }".split(" ")};
shadow$provide[495]=function(z,v,J,m){J.exports="abs acos all any asin atan ceil clamp cos cross dFdx dFdy degrees distance dot equal exp exp2 faceforward floor fract gl_BackColor gl_BackLightModelProduct gl_BackLightProduct gl_BackMaterial gl_BackSecondaryColor gl_ClipPlane gl_ClipVertex gl_Color gl_DepthRange gl_DepthRangeParameters gl_EyePlaneQ gl_EyePlaneR gl_EyePlaneS gl_EyePlaneT gl_Fog gl_FogCoord gl_FogFragCoord gl_FogParameters gl_FragColor gl_FragCoord gl_FragData gl_FragDepth gl_FragDepthEXT gl_FrontColor gl_FrontFacing gl_FrontLightModelProduct gl_FrontLightProduct gl_FrontMaterial gl_FrontSecondaryColor gl_LightModel gl_LightModelParameters gl_LightModelProducts gl_LightProducts gl_LightSource gl_LightSourceParameters gl_MaterialParameters gl_MaxClipPlanes gl_MaxCombinedTextureImageUnits gl_MaxDrawBuffers gl_MaxFragmentUniformComponents gl_MaxLights gl_MaxTextureCoords gl_MaxTextureImageUnits gl_MaxTextureUnits gl_MaxVaryingFloats gl_MaxVertexAttribs gl_MaxVertexTextureImageUnits gl_MaxVertexUniformComponents gl_ModelViewMatrix gl_ModelViewMatrixInverse gl_ModelViewMatrixInverseTranspose gl_ModelViewMatrixTranspose gl_ModelViewProjectionMatrix gl_ModelViewProjectionMatrixInverse gl_ModelViewProjectionMatrixInverseTranspose gl_ModelViewProjectionMatrixTranspose gl_MultiTexCoord0 gl_MultiTexCoord1 gl_MultiTexCoord2 gl_MultiTexCoord3 gl_MultiTexCoord4 gl_MultiTexCoord5 gl_MultiTexCoord6 gl_MultiTexCoord7 gl_Normal gl_NormalMatrix gl_NormalScale gl_ObjectPlaneQ gl_ObjectPlaneR gl_ObjectPlaneS gl_ObjectPlaneT gl_Point gl_PointCoord gl_PointParameters gl_PointSize gl_Position gl_ProjectionMatrix gl_ProjectionMatrixInverse gl_ProjectionMatrixInverseTranspose gl_ProjectionMatrixTranspose gl_SecondaryColor gl_TexCoord gl_TextureEnvColor gl_TextureMatrix gl_TextureMatrixInverse gl_TextureMatrixInverseTranspose gl_TextureMatrixTranspose gl_Vertex greaterThan greaterThanEqual inversesqrt length lessThan lessThanEqual log log2 matrixCompMult max min mix mod normalize not notEqual pow radians reflect refract sign sin smoothstep sqrt step tan texture2D texture2DLod texture2DProj texture2DProjLod textureCube textureCubeLod texture2DLodEXT texture2DProjLodEXT textureCubeLodEXT texture2DGradEXT texture2DProjGradEXT textureCubeGradEXT".split(" ")};
shadow$provide[496]=function(z,v,J,m){z=v(493);J.exports=z.slice().concat("layout centroid smooth case mat2x2 mat2x3 mat2x4 mat3x2 mat3x3 mat3x4 mat4x2 mat4x3 mat4x4 uvec2 uvec3 uvec4 samplerCubeShadow sampler2DArray sampler2DArrayShadow isampler2D isampler3D isamplerCube isampler2DArray usampler2D usampler3D usamplerCube usampler2DArray coherent restrict readonly writeonly resource atomic_uint noperspective patch sample subroutine common partition active filter image1D image2D image3D imageCube iimage1D iimage2D iimage3D iimageCube uimage1D uimage2D uimage3D uimageCube image1DArray image2DArray iimage1DArray iimage2DArray uimage1DArray uimage2DArray image1DShadow image2DShadow image1DArrayShadow image2DArrayShadow imageBuffer iimageBuffer uimageBuffer sampler1DArray sampler1DArrayShadow isampler1D isampler1DArray usampler1D usampler1DArray isampler2DRect usampler2DRect samplerBuffer isamplerBuffer usamplerBuffer sampler2DMS isampler2DMS usampler2DMS sampler2DMSArray isampler2DMSArray usampler2DMSArray".split(" "))};
shadow$provide[497]=function(z,v,J,m){z=v(495);z=z.slice().filter(function(t){return!/^(gl_|texture)/.test(t)});J.exports=z.concat("gl_VertexID gl_InstanceID gl_Position gl_PointSize gl_FragCoord gl_FrontFacing gl_FragDepth gl_PointCoord gl_MaxVertexAttribs gl_MaxVertexUniformVectors gl_MaxVertexOutputVectors gl_MaxFragmentInputVectors gl_MaxVertexTextureImageUnits gl_MaxCombinedTextureImageUnits gl_MaxTextureImageUnits gl_MaxFragmentUniformVectors gl_MaxDrawBuffers gl_MinProgramTexelOffset gl_MaxProgramTexelOffset gl_DepthRangeParameters gl_DepthRange trunc round roundEven isnan isinf floatBitsToInt floatBitsToUint intBitsToFloat uintBitsToFloat packSnorm2x16 unpackSnorm2x16 packUnorm2x16 unpackUnorm2x16 packHalf2x16 unpackHalf2x16 outerProduct transpose determinant inverse texture textureSize textureProj textureLod textureOffset texelFetch texelFetchOffset textureProjOffset textureLodOffset textureProjLod textureProjLodOffset textureGrad textureGradOffset textureProjGrad textureProjGradOffset".split(" "))};
shadow$provide[498]=function(z,v,J,m){J.exports=function(Q){function W(Db){Db.length&&mb.push({type:O[Oa],data:Db,position:tb,line:Cb,column:yb})}function R(){Pa=Pa.length?[]:Pa;if("/"===Wa&&"*"===da)return tb=Ha+ta-1,Oa=k,Wa=da,ta+1;if("/"===Wa&&"/"===da)return tb=Ha+ta-1,Oa=g,Wa=da,ta+1;if("#"===da)return Oa=r,tb=Ha+ta,ta;if(/\s/.test(da))return Oa=H,tb=Ha+ta,ta;Rb=/\d/.test(da);ac=/[^\w_]/.test(da);tb=Ha+ta;Oa=Rb?w:ac?u:h;return ta}function X(){if(("\r"===da||"\n"===da)&&"\\"!==Wa)return W(Pa.join("")),
Oa=f,ta;Pa.push(da);Wa=da;return ta+1}function ca(){if("."===Wa&&/\d/.test(da))return Oa=x,ta;if("/"===Wa&&"*"===da)return Oa=k,ta;if("/"===Wa&&"/"===da)return Oa=g,ta;if("."===da&&Pa.length){for(;ka(Pa););Oa=x;return ta}if(";"===da||")"===da||"("===da){if(Pa.length)for(;ka(Pa););W(da);Oa=f;return ta+1}var Db=2===Pa.length&&"\x3d"!==da;if(/[\w_\d\s]/.test(da)||Db){for(;ka(Pa););Oa=f;return ta}Pa.push(da);Wa=da;return ta+1}function ka(Db){var ec=0;do{var pa=p.indexOf(Db.slice(0,Db.length+ec).join(""));
var Xa=p[pa];if(-1===pa){if(0<ec--+Db.length)continue;Xa=Db.slice(0,1).join("")}W(Xa);tb+=Xa.length;Pa=Pa.slice(Xa.length);return Pa.length}while(1)}function la(){if("."===da||/[eE]/.test(da))return Pa.push(da),Oa=x,Wa=da,ta+1;if("x"===da&&1===Pa.length&&"0"===Pa[0])return Oa=K,Pa.push(da),Wa=da,ta+1;if(/[^\d]/.test(da))return W(Pa.join("")),Oa=f,ta;Pa.push(da);Wa=da;return ta+1}function Aa(){"f"===da&&(Pa.push(da),Wa=da,ta+=1);if(/[eE]/.test(da)||("-"===da||"+"===da)&&/[eE]/.test(Wa))return Pa.push(da),
Wa=da,ta+1;if(/[^\d]/.test(da))return W(Pa.join("")),Oa=f,ta;Pa.push(da);Wa=da;return ta+1}var ta=0,Ha=0,Oa=f,da,Wa,Pa=[],mb=[],Cb=1,yb=0,tb=0,Rb=!1,ac=!1,Hb="",Jb;Q=Q||{};var Tb=n,dc=t;"300 es"===Q.version&&(Tb=e,dc=c);var zb={},ib={};for(ta=0;ta<Tb.length;ta++)zb[Tb[ta]]=!0;for(ta=0;ta<dc.length;ta++)ib[dc[ta]]=!0;return function(Db){mb=[];if(null!==Db){ta=0;Db.toString&&(Db=Db.toString());Hb+=Db.replace(/\r\n/g,"\n");for(Jb=Hb.length;da=Hb[ta],ta<Jb;){Db=ta;switch(Oa){case k:"/"===da&&"*"===Wa?
(Pa.push(da),W(Pa.join("")),Oa=f):(Pa.push(da),Wa=da);ta+=1;break;case g:ta=X();break;case r:ta=X();break;case u:ta=ca();break;case w:ta=la();break;case K:/[^a-fA-F0-9]/.test(da)?(W(Pa.join("")),Oa=f):(Pa.push(da),Wa=da,ta+=1);break;case x:ta=Aa();break;case h:if(/[^\d\w_]/.test(da)){var ec=Pa.join("");Oa=ib[ec]?C:zb[ec]?E:B;W(Pa.join(""));Oa=f}else Pa.push(da),Wa=da,ta+=1;break;case H:/[^\s]/g.test(da)?(W(Pa.join("")),Oa=f):(Pa.push(da),Wa=da,ta+=1);break;case f:ta=R()}if(Db!==ta)switch(Hb[Db]){case "\n":yb=
0;++Cb;break;default:++yb}}Ha+=ta;Hb=Hb.slice(ta);return mb}Pa.length&&W(Pa.join(""));Oa=I;W("(eof)");return mb}};var t=v(493),p=v(494),n=v(495),c=v(496),e=v(497),f=999,h=9999,k=0,g=1,r=2,u=3,w=4,x=5,B=6,E=7,C=8,H=9,I=10,K=11,O="block-comment line-comment preprocessor operator integer float ident builtin keyword whitespace eof integer".split(" ")};
shadow$provide[499]=function(z,v,J,m){var t=v(498);J.exports=function(p,n){n=t(n);var c=[];c=c.concat(n(p));return c=c.concat(n(null))}};
shadow$provide[500]=function(z,v,J,m){function t(){return this}function p(H,I){let K=C[H];I=I||0;K?I>K.lbp&&(K.lbp=I):(K=Object.create(E),K.id=H,K.lbp=I,C[H]=K);return K}function n(H){let I,K=w;g();for(I=K.nud();H<w.lbp;)K=w,g(),I=K.led(I);return I}function c(H,I,K){p(H,I).led=K||function(O){this.children=[O,n(I)];this.type="binary";return this}}function e(H,I,K){H=p(H,I);H.led=K||function(O){this.children=[O,n(I-1)];this.type="binary";return this};return H}function f(H,I){H=p(H);H.nud=I||function(){this.children=
[n(70)];this.type="unary";return this};return H}function h(H){p(H,150).led=function(I){this.children=[I];this.type="suffix";return this}}function k(H){return e(H,10,function(I){this.children=[I,n(9)];this.assignment=!0;this.type="assign";return this})}function g(H){let I,K,O;if(H&&w.data!==H)return u.unexpected("expected `"+H+"`, got `"+w.data+"`");if(B>=x.length)w=C["(end)"];else{H=x[B++];I=H.data;K=H.type;if("ident"===K)O=u.scope.find(I)||u.create_node(),K=O.type;else if("builtin"===K)O=C["(builtin)"];
else if("keyword"===K)O=C["(keyword)"];else if("operator"===K){if(O=C[I],!O)return u.unexpected("unknown operator `"+I+"`")}else if("float"===K||"integer"===K)K="literal",O=C["(literal)"];else return u.unexpected("unexpected token.");O&&(O.nud||(O.nud=t),O.children||(O.children=[]));O=Object.create(O);O.token=H;O.type=K;O.data||(O.data=I);return w=O}}function r(H){return function(){return u.unexpected(H)}}let u,w,x,B;const E={nud:function(){return this.children&&this.children.length?this:r("unexpected")()},
led:r("missing operator")},C={};p("(ident)").nud=t;p("(keyword)").nud=t;p("(builtin)").nud=t;p("(literal)").nud=t;p("(end)");p(":");p(";");p(",");p(")");p("]");p("}");e("\x26\x26",30);e("||",30);c("|",43);c("^",44);c("\x26",45);c("\x3d\x3d",46);c("!\x3d",46);c("\x3c",47);c("\x3c\x3d",47);c("\x3e",47);c("\x3e\x3d",47);c("\x3e\x3e",48);c("\x3c\x3c",48);c("+",50);c("-",50);c("*",60);c("/",60);c("%",60);c("?",20,function(H){this.children=[H,n(0),(g(":"),n(0))];this.type="ternary";return this});c(".",
80,function(H){w.type="literal";u.fake(w);this.children=[H,w];g();return this});c("[",80,function(H){this.children=[H,n(0)];this.type="binary";g("]");return this});c("(",80,function(H){this.children=[H];this.type="call";if(")"!==w.data)for(;;){this.children.push(n(0));if(","!==w.data)break;g(",")}g(")");return this});f("-");f("+");f("!");f("~");f("defined");f("(",function(){this.type="group";this.children=[n(0)];g(")");return this});f("++");f("--");h("++");h("--");k("\x3d");k("+\x3d");k("-\x3d");
k("*\x3d");k("/\x3d");k("%\x3d");k("\x26\x3d");k("|\x3d");k("^\x3d");k("\x3e\x3e\x3d");k("\x3c\x3c\x3d");J.exports=function(H,I){function K(O){u.unshift(O,!1);for(let Q=0,W=O.children.length;Q<W;++Q)K(O.children[Q]);u.shift()}u=H;x=I;B=0;if(x.length){g();H=n(0);H.parent=u[0];K(H);if(B<x.length)throw Error("did not use all tokens");H.parent.children=[H]}}};
shadow$provide[501]=function(z,v,J,m){function t(p){if(this.constructor!==t)return new t(p);this.state=p;this.scopes=[];this.current=null}J.exports=t;z=t.prototype;z.enter=function(p){this.scopes.push(this.current=this.state[0].scope=p||{})};z.exit=function(){this.scopes.pop();this.current=this.scopes[this.scopes.length-1]};z.define=function(p){this.current[p]=this.state[0]};z.find=function(p,n){for(n=this.scopes.length-1;-1<n;--n)if(this.scopes[n].hasOwnProperty(p))return this.scopes[n][p];return null}};
shadow$provide[502]=function(z,v,J,m){function t(ta,Ha){return{mode:ta,token:Ha,children:[],type:Aa[ta],id:(4294967295*Math.random()).toString(16)}}J.exports=function(){function ta(Ta){if(null===Ta)return Oa(),$c;td=[];Ha(Ta);return td}function Ha(Ta){if("whitespace"===Ta.type||"line-comment"===Ta.type||"block-comment"===Ta.type)Zc.push(Ta);else for(Mb.push(Ta),(Qa=Qa||Mb[0])&&Zc.length&&(Qa.preceding=Qa.preceding||[],Qa.preceding=Qa.preceding.concat(Zc),Zc=[]);Oc||!Ca.length?0:Qa=Mb[0];)switch(Ca[0].mode){case f:Wa();
break;case h:da();break;case u:Pa();break;case w:mb();break;case C:Cb();break;case k:Jd(!0,!0);break;case H:pd();break;case e:"ident"!==Qa.type&&"builtin"!==Qa.type?Jb("expected user-defined name, got "+Qa.data):(Ca[0].data=Qa.data,Ca.shift(),Mb.shift());break;case I:"keyword"!==Qa.type?Jb("expected keyword, got "+Qa.data):(Ca.shift(),Mb.shift());break;case K:"keyword"===Qa.type?(Ca[0].type="keyword",Ca[0].mode=I):"ident"===Qa.type?(Ca[0].type="ident",Ca[0].mode=e):Jb("expected keyword or user-defined name, got "+
Qa.data);break;case g:sd();break;case r:Md();break;case x:id();break;case B:qd();break;case X:rd();break;case O:Ld();break;case E:Kd();break;case ka:Xb()}}function Oa(Ta){arguments.length&&Ha(Ta);1<Ca.length&&Jb("unexpected EOF")}function da(){return zb(function(){Ca.scope.enter();return c},function(){if(Qa.data===Ca[0].expecting)return Ca.scope.exit(),Ca.shift();switch(Qa.type){case "preprocessor":Ca.fake(t(la[Qa.type],Qa,jc));Mb.shift();break;default:Ca.unshift(Sb())}})()}function Wa(){if(Ca[0].brace){if("}"!==
Qa.data)return Jb("expected `}`, got "+Qa.data);Ca[0].brace=!1;return Mb.shift(),Ca.shift()}switch(Qa.type){case "eof":return Nd&&(Oc=!0),Nd=!0,Ca.shift();case "keyword":switch(Qa.data){case "for":return Ca.unshift(Nc());case "if":return Ca.unshift(gd());case "while":return Ca.unshift(yc());case "do":return Ca.unshift(hd());case "break":return Ca.fake(t(Q,Qa)),Mb.shift();case "continue":return Ca.fake(t(W,Qa)),Mb.shift();case "discard":return Ca.fake(t(R,Qa)),Mb.shift();case "return":return Ca.unshift(zc());
case "precision":return Ca.unshift(jb())}return Ca.unshift(tb(255));case "ident":var Ta;if(Ta=Ca.scope.find(Qa.data))return"struct"===Ta.parent.type?Ca.unshift(tb(255)):Ca.unshift(ac(";"));case "operator":if("{"===Qa.data)return Ca[0].brace=!0,Ta=Eb(),Ta.expecting="}",Mb.shift(),Ca.unshift(Ta);if(";"===Qa.data)return Mb.shift(),Ca.shift();default:return Ca.unshift(ac(";"))}}function Pa(){const Ta=Ca[0];return zb(function(){if("invariant"===Qa.data)return Ta.flags&8?(Ca.unshift(Hb()),c):Jb("`invariant` is not allowed here");
Ca.fake(t(ca,{data:"",position:Qa.position}));return c},function(){if("const"===Qa.data||"attribute"===Qa.data||"uniform"===Qa.data||"varying"===Qa.data)return Ta.flags&16?(Ca.unshift(Hb()),c):Jb("storage is not allowed here");Ca.fake(t(ca,{data:"",position:Qa.position}));return c},function(){if("in"===Qa.data||"inout"===Qa.data||"out"===Qa.data){if(Ta.flags&32)return Jb("parameter is not allowed here");Ca.unshift(Hb());return c}Ca.fake(t(ca,{data:"",position:Qa.position}));return c},function(){"highp"===
Qa.data||"mediump"===Qa.data||"lowp"===Qa.data?Ca.unshift(Hb()):Ca.fake(t(ca,{data:"",position:Qa.position}));return c},function(){if("struct"===Qa.data){if(!(Ta.flags&64))return Jb("cannot nest structs");Ca.unshift(Rb());return c}if("keyword"===Qa.type)return Ca.unshift(Hb()),c;const wb=Ca.scope.find(Qa.data);return wb?(Ca.fake(Object.create(wb)),Mb.shift(),c):Jb("expected user defined type, struct or keyword, got "+Qa.data)},function(){if(","===Qa.data&&!(Ta.flags&2))return Ca.shift();if("["===
Qa.data)Ca.unshift(Id());else{if(")"===Qa.data)return Ca.shift();if(";"===Qa.data)return Ta.stage+3;if("ident"!==Qa.type&&"builtin"!==Qa.type)return Jb("expected identifier, got "+Qa.data);Ta.collected_name=Mb.shift();return c}},function(){return"("===Qa.data?(Mb.unshift(Ta.collected_name),delete Ta.collected_name,Ca.unshift(oc()),Ta.stage+2):c},function(){Mb.unshift(Ta.collected_name);delete Ta.collected_name;Ca.unshift(va());return c},function(){return Ca.shift()})()}function mb(){if("ident"===
Qa.type||"builtin"===Qa.type){const Ta=Qa.data;Ca.unshift(Wb());Ca.scope.define(Ta)}else{if("operator"===Qa.type){if(","===Qa.data)return Ca[1].flags&2?Mb.shift():Ca.shift();if("\x3d"===Qa.data){if(!(Ca[1].flags&1))return Jb("`\x3d` is not allowed here.");Mb.shift();Ca.unshift(ac(",",";"));return}if("["===Qa.data){Ca.unshift(Id());return}}return Ca.shift()}}function Cb(){const Ta=Ca[0].expecting;Ca[0].tokens=Ca[0].tokens||[];void 0===Ca[0].parenlevel&&(Ca[0].parenlevel=0,Ca[0].bracelevel=0);if(1>
Ca[0].parenlevel&&-1<Ta.indexOf(Qa.data)){try{p(Ca,Ca[0].tokens)}catch(wb){throw Oc=!0,wb;}return Ca.shift()}"("===Qa.data?++Ca[0].parenlevel:")"===Qa.data&&--Ca[0].parenlevel;switch(Qa.data){case "{":++Ca[0].bracelevel;break;case "}":--Ca[0].bracelevel;break;case "(":++Ca[0].parenlevel;break;case ")":--Ca[0].parenlevel}if(0>Ca[0].parenlevel)return Jb("unexpected `)`");if(0>Ca[0].bracelevel)return Jb("unexpected `}`");Ca[0].tokens.push(Mb.shift())}function yb(Ta){return function(){return t(Ta,Qa)}}
function tb(Ta){const wb=t(u,Qa,jc);wb.flags=Ta;return wb}function Rb(Ta,wb){const kc=t(k,Qa,jc);kc.allow_assign=void 0===Ta?!0:Ta;kc.allow_comma=void 0===wb?!0:wb;return kc}function ac(){const Ta=t(C,Qa,jc);Ta.expecting=[].slice.call(arguments);return Ta}function Hb(Ta){let wb=Qa;Ta&&(wb={type:"(implied)",data:"(default)",position:wb.position});return t(I,wb,jc)}function Jb(Ta){Oc=!0;throw Error((Ta||"unexpected "+Ca)+" at line "+Ca[0].token.line);}function Tb(Ta,wb){return 1,dc(Ta,Qa.type)&&dc(wb,
Qa.data)}function dc(Ta,wb){switch(typeof Ta){case "string":return wb!==Ta&&Jb("expected `"+Ta+"`, got "+wb+"\n"+Qa.data),!Oc;case "object":return Ta&&-1===Ta.indexOf(wb)&&Jb("expected one of `"+Ta.join("`, `")+"`, got "+wb),!Oc}return!0}function zb(){let Ta=[].slice.call(arguments),wb,kc;return function(){const pc=Ca[0];pc.stage||(pc.stage=0);wb=Ta[pc.stage];if(!wb)return Jb("parser in undefined state!");kc=wb();if(kc===c)return++pc.stage;void 0!==kc&&(pc.stage=kc)}}function ib(Ta,wb){wb=wb||"operator";
return function(){if(Tb(wb,Ta)){var kc=Mb.shift(),pc=Ca[0].children;(pc=pc[pc.length-1])&&pc.token&&kc.preceding&&(pc.token.succeeding=pc.token.succeeding||[],pc.token.succeeding=pc.token.succeeding.concat(kc.preceding));return c}}}function Db(Ta){return function(){Ca.unshift(ac(Ta));return c}}function ec(Ta){return Ta?function(){const wb=Qa.data;return Tb("ident")&&(Ca.unshift(Wb()),Ca.scope.define(wb),c)}:function(){if(Tb("ident"))return Object.create(Ca.scope.find(Qa.data)).token=Qa,Mb.shift(),
c}}function pa(){return function(){const Ta=Eb();Ta.expecting="}";return Ca.unshift(Ta),c}}function Xa(Ta){return function(){const wb=Ca[0].stage;return"{"!==Qa.data?(Ca.unshift(Sb()),wb+Ta):(Mb.shift(),c)}}function sb(){return function(){return Ca.shift(),Ca.shift()}}const Eb=yb(h),Sb=yb(f),va=yb(w),jb=yb(H),Wb=yb(e);yb(K);const oc=yb(g),Hc=yb(r),Nc=yb(x),gd=yb(E),yc=yb(B),zc=yb(O),hd=yb(X),Id=yb(ka);let Jd,pd,Xb,id,Kd,Ld,qd,rd,sd,Md,jd=arguments.length?[].slice.call(arguments):[],Nd=!1,Ca=[],td=
[],Mb=[],Zc=[],Oc=!1,$c,Qa,jc;Ca.shift=function(){let Ta=[].shift.call(this),wb=jd[this.length],kc=!1;jd.length?"function"===typeof jd[0]?kc=jd[0](Ta):void 0!==wb&&(kc=wb.test?wb.test(Ta.type):wb===Ta.type):kc=!0;kc&&!Oc&&td.push(Ta);jc=Ta.parent;return Ta};Ca.unshift=function(Ta,wb){Ta.parent=Ca[0];const kc=[].unshift.call(this,Ta);(void 0===wb||wb)&&jc!==Ta&&jc.children.push(Ta);jc=Ta;return kc};Ca.fake=function(Ta){Ca.unshift(Ta);Ca.shift()};Ca.unexpected=Jb;Ca.scope=new n(Ca);Ca.create_node=function(){const Ta=
t(e,Qa);Ta.parent=ta.program;return Ta};(function(){Jd=zb(ib("struct","keyword"),function(){return"{"===Qa.data?(Ca.fake(t(e,{data:"",position:Qa.position,type:"ident"})),c):ec(!0)()},function(){Ca.scope.enter();return c},ib("{"),function(){if("preprocessor"===Qa.type)Ca.fake(t(la[Qa.type],Qa,jc)),Mb.shift();else{if("}"===Qa.data)return Ca.scope.exit(),Mb.shift(),Ca.shift();";"===Qa.data?Mb.shift():Ca.unshift(tb(166))}});pd=zb(function(){return Mb.shift(),c},function(){return Tb("keyword",["lowp",
"mediump","highp"])&&(Ca.unshift(Hb()),c)},function(){return Ca.unshift(Hb()),c},function(){return Ca.shift()});Xb=zb(ib("["),Db("]"),ib("]"),function(){return Ca.shift()});id=zb(ib("for","keyword"),ib("("),function(){let Ta;if("ident"===Qa.type){if((Ta=Ca.scope.find(Qa.data))||(Ta=Ca.create_node()),"struct"===Ta.parent.type)return Ca.unshift(tb(255)),c}else if("builtin"===Qa.type||"keyword"===Qa.type)return Ca.unshift(tb(255)),c;return Db(";")()},ib(";"),Db(";"),ib(";"),Db(")"),ib(")"),Xa(3),pa(),
ib("}"),sb());Kd=zb(ib("if","keyword"),ib("("),Db(")"),ib(")"),Xa(3),pa(),ib("}"),function(){return"else"===Qa.data?(Mb.shift(),Ca.unshift(Sb()),c):sb()()},sb());Ld=zb(ib("return","keyword"),function(){return";"===Qa.data?c:(Ca.unshift(ac(";")),c)},function(){Mb.shift();sb()()});qd=zb(ib("while","keyword"),ib("("),Db(")"),ib(")"),Xa(3),pa(),ib("}"),sb());rd=zb(ib("do","keyword"),Xa(3),pa(),ib("}"),ib("while","keyword"),ib("("),Db(")"),ib(")"),sb());sd=zb(function(){for(let Ta=1,wb=Ca.length;Ta<wb;++Ta)if(Ca[Ta].mode===
g)return Jb("function definition is not allowed within another function");return c},function(){if(Tb("ident")){var Ta=Qa.data,wb=Ca.scope.find(Ta);Ca.unshift(Wb());Ca.scope.define(Ta);Ca.scope.enter(wb?wb.scope:null);return c}},ib("("),function(){return Ca.unshift(Hc()),c},ib(")"),function(){return";"===Qa.data?(Ca.scope.exit(),Ca.shift(),Ca.shift()):c},ib("{"),pa(),ib("}"),function(){Ca.scope.exit();return c},function(){return Ca.shift(),Ca.shift(),Ca.shift()});Md=zb(function(){if("void"===Qa.data)return Ca.fake(Hb()),
Mb.shift(),c;if(")"===Qa.data)Ca.shift();else{if("struct"===Qa.data)return Ca.unshift(Rb(!1,!1)),c;Ca.unshift(tb(208));return c}},function(){if(","===Qa.data)return Mb.shift(),0;")"===Qa.data?Ca.shift():Jb("expected one of `,` or `)`, got "+Qa.data)})})();jc=Eb();jc.expecting="(eof)";jc.mode=h;jc.token={type:"(program)",data:"(program)"};$c=jc;ta.program=$c;ta.scope=function(Ta){1===arguments.length&&(Ca.scope=Ta);return Ca.scope};Ca.unshift(jc);return ta};const p=v(500),n=v(501),c={};z=0;let e=z++,
f=z++,h=z++,k=z++,g=z++,r=z++,u=z++,w=z++,x=z++,B=z++,E=z++,C=z++,H=z++;v=z++;J=z++;let I=z++,K=z++,O=z++,Q=z++,W=z++,R=z++,X=z++,ca=z++,ka=z++;const la={"block-comment":v,"line-comment":v,preprocessor:J},Aa=z="ident stmt stmtlist struct function functionargs decl decllist forloop whileloop if expr precision comment preprocessor keyword keyword_or_ident return break continue discard do-while placeholder quantifier".split(" ")};
shadow$provide[503]=function(z,v,J,m){var t=v(502);J.exports=function(p){for(var n=t(),c=0;c<p.length;c++)n(p[c]);return n(null)}};
shadow$provide[504]=function(z,v,J,m){Object.defineProperty(m,"__esModule",{value:!0});m.Vector2=void 0;class t{constructor(p=0,n=0){t.prototype.isVector2=!0;this.x=p;this.y=n}get width(){return this.x}set width(p){this.x=p}get height(){return this.y}set height(p){this.y=p}set(p,n){this.x=p;this.y=n;return this}setScalar(p){this.y=this.x=p;return this}setX(p){this.x=p;return this}setY(p){this.y=p;return this}setComponent(p,n){switch(p){case 0:this.x=n;break;case 1:this.y=n;break;default:throw Error("index is out of range: "+
p);}return this}getComponent(p){switch(p){case 0:return this.x;case 1:return this.y;default:throw Error("index is out of range: "+p);}}clone(){return new this.constructor(this.x,this.y)}copy(p){this.x=p.x;this.y=p.y;return this}add(p){this.x+=p.x;this.y+=p.y;return this}addScalar(p){this.x+=p;this.y+=p;return this}addVectors(p,n){this.x=p.x+n.x;this.y=p.y+n.y;return this}addScaledVector(p,n){this.x+=p.x*n;this.y+=p.y*n;return this}sub(p){this.x-=p.x;this.y-=p.y;return this}subScalar(p){this.x-=p;
this.y-=p;return this}subVectors(p,n){this.x=p.x-n.x;this.y=p.y-n.y;return this}multiply(p){this.x*=p.x;this.y*=p.y;return this}multiplyScalar(p){this.x*=p;this.y*=p;return this}divide(p){this.x/=p.x;this.y/=p.y;return this}divideScalar(p){return this.multiplyScalar(1/p)}applyMatrix3(p){const n=this.x,c=this.y;p=p.elements;this.x=p[0]*n+p[3]*c+p[6];this.y=p[1]*n+p[4]*c+p[7];return this}min(p){this.x=Math.min(this.x,p.x);this.y=Math.min(this.y,p.y);return this}max(p){this.x=Math.max(this.x,p.x);this.y=
Math.max(this.y,p.y);return this}clamp(p,n){this.x=Math.max(p.x,Math.min(n.x,this.x));this.y=Math.max(p.y,Math.min(n.y,this.y));return this}clampScalar(p,n){this.x=Math.max(p,Math.min(n,this.x));this.y=Math.max(p,Math.min(n,this.y));return this}clampLength(p,n){const c=this.length();return this.divideScalar(c||1).multiplyScalar(Math.max(p,Math.min(n,c)))}floor(){this.x=Math.floor(this.x);this.y=Math.floor(this.y);return this}ceil(){this.x=Math.ceil(this.x);this.y=Math.ceil(this.y);return this}round(){this.x=
Math.round(this.x);this.y=Math.round(this.y);return this}roundToZero(){this.x=0>this.x?Math.ceil(this.x):Math.floor(this.x);this.y=0>this.y?Math.ceil(this.y):Math.floor(this.y);return this}negate(){this.x=-this.x;this.y=-this.y;return this}dot(p){return this.x*p.x+this.y*p.y}cross(p){return this.x*p.y-this.y*p.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||
1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}distanceTo(p){return Math.sqrt(this.distanceToSquared(p))}distanceToSquared(p){const n=this.x-p.x;p=this.y-p.y;return n*n+p*p}manhattanDistanceTo(p){return Math.abs(this.x-p.x)+Math.abs(this.y-p.y)}setLength(p){return this.normalize().multiplyScalar(p)}lerp(p,n){this.x+=(p.x-this.x)*n;this.y+=(p.y-this.y)*n;return this}lerpVectors(p,n,c){this.x=p.x+(n.x-p.x)*c;this.y=p.y+(n.y-p.y)*c;return this}equals(p){return p.x===this.x&&p.y===this.y}fromArray(p,
n=0){this.x=p[n];this.y=p[n+1];return this}toArray(p=[],n=0){p[n]=this.x;p[n+1]=this.y;return p}fromBufferAttribute(p,n){this.x=p.getX(n);this.y=p.getY(n);return this}rotateAround(p,n){const c=Math.cos(n);n=Math.sin(n);const e=this.x-p.x,f=this.y-p.y;this.x=e*c-f*n+p.x;this.y=e*n+f*c+p.y;return this}random(){this.x=Math.random();this.y=Math.random();return this}*[Symbol.iterator](){yield this.x;yield this.y}}m.Vector2=t};
shadow$provide[505]=function(z,v,J,m){function t(){const la=4294967295*Math.random()|0,Aa=4294967295*Math.random()|0,ta=4294967295*Math.random()|0,Ha=4294967295*Math.random()|0;return(R[la&255]+R[la>>8&255]+R[la>>16&255]+R[la>>24&255]+"-"+R[Aa&255]+R[Aa>>8&255]+"-"+R[Aa>>16&15|64]+R[Aa>>24&255]+"-"+R[ta&63|128]+R[ta>>8&255]+"-"+R[ta>>16&255]+R[ta>>24&255]+R[Ha&255]+R[Ha>>8&255]+R[Ha>>16&255]+R[Ha>>24&255]).toLowerCase()}function p(la,Aa,ta){return Math.max(Aa,Math.min(ta,la))}function n(la,Aa){return(la%
Aa+Aa)%Aa}function c(la,Aa,ta,Ha,Oa){return Ha+(la-Aa)*(Oa-Ha)/(ta-Aa)}function e(la,Aa,ta){return la!==Aa?(ta-la)/(Aa-la):0}function f(la,Aa,ta){return(1-ta)*la+ta*Aa}function h(la,Aa,ta,Ha){return f(la,Aa,1-Math.exp(-ta*Ha))}function k(la,Aa=1){return Aa-Math.abs(n(la,2*Aa)-Aa)}function g(la,Aa,ta){if(la<=Aa)return 0;if(la>=ta)return 1;la=(la-Aa)/(ta-Aa);return la*la*(3-2*la)}function r(la,Aa,ta){if(la<=Aa)return 0;if(la>=ta)return 1;la=(la-Aa)/(ta-Aa);return la*la*la*(la*(6*la-15)+10)}function u(la,
Aa){return la+Math.floor(Math.random()*(Aa-la+1))}function w(la,Aa){return la+Math.random()*(Aa-la)}function x(la){return la*(.5-Math.random())}function B(la){void 0!==la&&(X=la);la=X+=1831565813;la=Math.imul(la^la>>>15,la|1);la^=la+Math.imul(la^la>>>7,la|61);return((la^la>>>14)>>>0)/4294967296}function E(la){return la*ca}function C(la){return la*ka}function H(la){return 0===(la&la-1)&&0!==la}function I(la){return Math.pow(2,Math.ceil(Math.log(la)/Math.LN2))}function K(la){return Math.pow(2,Math.floor(Math.log(la)/
Math.LN2))}function O(la,Aa,ta,Ha,Oa){var da=Math.cos;const Wa=Math.sin,Pa=da(ta/2);ta=Wa(ta/2);const mb=da((Aa+Ha)/2),Cb=Wa((Aa+Ha)/2),yb=da((Aa-Ha)/2),tb=Wa((Aa-Ha)/2);da=da((Ha-Aa)/2);Aa=Wa((Ha-Aa)/2);switch(Oa){case "XYX":la.set(Pa*Cb,ta*yb,ta*tb,Pa*mb);break;case "YZY":la.set(ta*tb,Pa*Cb,ta*yb,Pa*mb);break;case "ZXZ":la.set(ta*yb,ta*tb,Pa*Cb,Pa*mb);break;case "XZX":la.set(Pa*Cb,ta*Aa,ta*da,Pa*mb);break;case "YXY":la.set(ta*da,Pa*Cb,ta*Aa,Pa*mb);break;case "ZYZ":la.set(ta*Aa,ta*da,Pa*Cb,Pa*mb);
break;default:console.warn("THREE.MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: "+Oa)}}function Q(la,Aa){switch(Aa.constructor){case Float32Array:return la;case Uint16Array:return la/65535;case Uint8Array:return la/255;case Int16Array:return Math.max(la/32767,-1);case Int8Array:return Math.max(la/127,-1);default:throw Error("Invalid component type.");}}function W(la,Aa){switch(Aa.constructor){case Float32Array:return la;case Uint16Array:return Math.round(65535*la);case Uint8Array:return Math.round(255*
la);case Int16Array:return Math.round(32767*la);case Int8Array:return Math.round(127*la);default:throw Error("Invalid component type.");}}Object.defineProperty(m,"__esModule",{value:!0});m.generateUUID=t;m.clamp=p;m.euclideanModulo=n;m.mapLinear=c;m.inverseLerp=e;m.lerp=f;m.damp=h;m.pingpong=k;m.smoothstep=g;m.smootherstep=r;m.randInt=u;m.randFloat=w;m.randFloatSpread=x;m.seededRandom=B;m.degToRad=E;m.radToDeg=C;m.isPowerOfTwo=H;m.ceilPowerOfTwo=I;m.floorPowerOfTwo=K;m.setQuaternionFromProperEuler=
O;m.normalize=W;m.denormalize=Q;m.MathUtils=m.RAD2DEG=m.DEG2RAD=void 0;const R="00 01 02 03 04 05 06 07 08 09 0a 0b 0c 0d 0e 0f 10 11 12 13 14 15 16 17 18 19 1a 1b 1c 1d 1e 1f 20 21 22 23 24 25 26 27 28 29 2a 2b 2c 2d 2e 2f 30 31 32 33 34 35 36 37 38 39 3a 3b 3c 3d 3e 3f 40 41 42 43 44 45 46 47 48 49 4a 4b 4c 4d 4e 4f 50 51 52 53 54 55 56 57 58 59 5a 5b 5c 5d 5e 5f 60 61 62 63 64 65 66 67 68 69 6a 6b 6c 6d 6e 6f 70 71 72 73 74 75 76 77 78 79 7a 7b 7c 7d 7e 7f 80 81 82 83 84 85 86 87 88 89 8a 8b 8c 8d 8e 8f 90 91 92 93 94 95 96 97 98 99 9a 9b 9c 9d 9e 9f a0 a1 a2 a3 a4 a5 a6 a7 a8 a9 aa ab ac ad ae af b0 b1 b2 b3 b4 b5 b6 b7 b8 b9 ba bb bc bd be bf c0 c1 c2 c3 c4 c5 c6 c7 c8 c9 ca cb cc cd ce cf d0 d1 d2 d3 d4 d5 d6 d7 d8 d9 da db dc dd de df e0 e1 e2 e3 e4 e5 e6 e7 e8 e9 ea eb ec ed ee ef f0 f1 f2 f3 f4 f5 f6 f7 f8 f9 fa fb fc fd fe ff".split(" ");
let X=1234567;const ca=Math.PI/180;m.DEG2RAD=ca;const ka=180/Math.PI;m.RAD2DEG=ka;m.MathUtils={DEG2RAD:ca,RAD2DEG:ka,generateUUID:t,clamp:p,euclideanModulo:n,mapLinear:c,inverseLerp:e,lerp:f,damp:h,pingpong:k,smoothstep:g,smootherstep:r,randInt:u,randFloat:w,randFloatSpread:x,seededRandom:B,degToRad:E,radToDeg:C,isPowerOfTwo:H,ceilPowerOfTwo:I,floorPowerOfTwo:K,setQuaternionFromProperEuler:O,normalize:W,denormalize:Q}};
shadow$provide[506]=function(z,v,J,m){function t(c){if("function"!==typeof WeakMap)return null;var e=new WeakMap,f=new WeakMap;return(t=function(h){return h?f:e})(c)}Object.defineProperty(m,"__esModule",{value:!0});m.Quaternion=void 0;var p=function(c,e){if(!e&&c&&c.__esModule)return c;if(null===c||"object"!==typeof c&&"function"!==typeof c)return{default:c};if((e=t(e))&&e.has(c))return e.get(c);var f={},h=Object.defineProperty&&Object.getOwnPropertyDescriptor,k;for(k in c)if("default"!==k&&Object.prototype.hasOwnProperty.call(c,
k)){var g=h?Object.getOwnPropertyDescriptor(c,k):null;g&&(g.get||g.set)?Object.defineProperty(f,k,g):f[k]=c[k]}f.default=c;e&&e.set(c,f);return f}(v(505));class n{constructor(c=0,e=0,f=0,h=1){this.isQuaternion=!0;this._x=c;this._y=e;this._z=f;this._w=h}static slerpFlat(c,e,f,h,k,g,r){let u=f[h+0],w=f[h+1],x=f[h+2];f=f[h+3];h=k[g+0];const B=k[g+1],E=k[g+2];k=k[g+3];if(0===r)c[e+0]=u,c[e+1]=w,c[e+2]=x,c[e+3]=f;else if(1===r)c[e+0]=h,c[e+1]=B,c[e+2]=E,c[e+3]=k;else{if(f!==k||u!==h||w!==B||x!==E){g=1-
r;var C=u*h+w*B+x*E+f*k,H=0<=C?1:-1,I=1-C*C;I>Number.EPSILON&&(I=Math.sqrt(I),C=Math.atan2(I,C*H),g=Math.sin(g*C)/I,r=Math.sin(r*C)/I);H*=r;u=u*g+h*H;w=w*g+B*H;x=x*g+E*H;f=f*g+k*H;g===1-r&&(r=1/Math.sqrt(u*u+w*w+x*x+f*f),u*=r,w*=r,x*=r,f*=r)}c[e]=u;c[e+1]=w;c[e+2]=x;c[e+3]=f}}static multiplyQuaternionsFlat(c,e,f,h,k,g){const r=f[h],u=f[h+1],w=f[h+2];f=f[h+3];h=k[g];const x=k[g+1],B=k[g+2];k=k[g+3];c[e]=r*k+f*h+u*B-w*x;c[e+1]=u*k+f*x+w*h-r*B;c[e+2]=w*k+f*B+r*x-u*h;c[e+3]=f*k-r*h-u*x-w*B;return c}get x(){return this._x}set x(c){this._x=
c;this._onChangeCallback()}get y(){return this._y}set y(c){this._y=c;this._onChangeCallback()}get z(){return this._z}set z(c){this._z=c;this._onChangeCallback()}get w(){return this._w}set w(c){this._w=c;this._onChangeCallback()}set(c,e,f,h){this._x=c;this._y=e;this._z=f;this._w=h;this._onChangeCallback();return this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(c){this._x=c.x;this._y=c.y;this._z=c.z;this._w=c.w;this._onChangeCallback();return this}setFromEuler(c,e){var f=
c._x,h=c._y,k=c._z;c=c._order;var g=Math.cos;const r=Math.sin,u=g(f/2),w=g(h/2);g=g(k/2);f=r(f/2);h=r(h/2);k=r(k/2);switch(c){case "XYZ":this._x=f*w*g+u*h*k;this._y=u*h*g-f*w*k;this._z=u*w*k+f*h*g;this._w=u*w*g-f*h*k;break;case "YXZ":this._x=f*w*g+u*h*k;this._y=u*h*g-f*w*k;this._z=u*w*k-f*h*g;this._w=u*w*g+f*h*k;break;case "ZXY":this._x=f*w*g-u*h*k;this._y=u*h*g+f*w*k;this._z=u*w*k+f*h*g;this._w=u*w*g-f*h*k;break;case "ZYX":this._x=f*w*g-u*h*k;this._y=u*h*g+f*w*k;this._z=u*w*k-f*h*g;this._w=u*w*g+
f*h*k;break;case "YZX":this._x=f*w*g+u*h*k;this._y=u*h*g+f*w*k;this._z=u*w*k-f*h*g;this._w=u*w*g-f*h*k;break;case "XZY":this._x=f*w*g-u*h*k;this._y=u*h*g-f*w*k;this._z=u*w*k+f*h*g;this._w=u*w*g+f*h*k;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+c)}!1!==e&&this._onChangeCallback();return this}setFromAxisAngle(c,e){e/=2;const f=Math.sin(e);this._x=c.x*f;this._y=c.y*f;this._z=c.z*f;this._w=Math.cos(e);this._onChangeCallback();return this}setFromRotationMatrix(c){var e=
c.elements,f=e[0];c=e[4];const h=e[8],k=e[1],g=e[5],r=e[9],u=e[2],w=e[6];e=e[10];const x=f+g+e;0<x?(f=.5/Math.sqrt(x+1),this._w=.25/f,this._x=(w-r)*f,this._y=(h-u)*f,this._z=(k-c)*f):f>g&&f>e?(f=2*Math.sqrt(1+f-g-e),this._w=(w-r)/f,this._x=.25*f,this._y=(c+k)/f,this._z=(h+u)/f):g>e?(f=2*Math.sqrt(1+g-f-e),this._w=(h-u)/f,this._x=(c+k)/f,this._y=.25*f,this._z=(r+w)/f):(f=2*Math.sqrt(1+e-f-g),this._w=(k-c)/f,this._x=(h+u)/f,this._y=(r+w)/f,this._z=.25*f);this._onChangeCallback();return this}setFromUnitVectors(c,
e){let f=c.dot(e)+1;f<Number.EPSILON?(f=0,Math.abs(c.x)>Math.abs(c.z)?(this._x=-c.y,this._y=c.x,this._z=0):(this._x=0,this._y=-c.z,this._z=c.y)):(this._x=c.y*e.z-c.z*e.y,this._y=c.z*e.x-c.x*e.z,this._z=c.x*e.y-c.y*e.x);this._w=f;return this.normalize()}angleTo(c){return 2*Math.acos(Math.abs(p.clamp(this.dot(c),-1,1)))}rotateTowards(c,e){const f=this.angleTo(c);if(0===f)return this;this.slerp(c,Math.min(1,e/f));return this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){this._x*=
-1;this._y*=-1;this._z*=-1;this._onChangeCallback();return this}dot(c){return this._x*c._x+this._y*c._y+this._z*c._z+this._w*c._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let c=this.length();0===c?(this._z=this._y=this._x=0,this._w=1):(c=1/c,this._x*=c,this._y*=c,this._z*=c,this._w*=c);this._onChangeCallback();return this}multiply(c){return this.multiplyQuaternions(this,
c)}premultiply(c){return this.multiplyQuaternions(c,this)}multiplyQuaternions(c,e){const f=c._x,h=c._y,k=c._z;c=c._w;const g=e._x,r=e._y,u=e._z;e=e._w;this._x=f*e+c*g+h*u-k*r;this._y=h*e+c*r+k*g-f*u;this._z=k*e+c*u+f*r-h*g;this._w=c*e-f*g-h*r-k*u;this._onChangeCallback();return this}slerp(c,e){if(0===e)return this;if(1===e)return this.copy(c);const f=this._x,h=this._y,k=this._z,g=this._w;var r=g*c._w+f*c._x+h*c._y+k*c._z;0>r?(this._w=-c._w,this._x=-c._x,this._y=-c._y,this._z=-c._z,r=-r):this.copy(c);
if(1<=r)return this._w=g,this._x=f,this._y=h,this._z=k,this;c=1-r*r;if(c<=Number.EPSILON)return r=1-e,this._w=r*g+e*this._w,this._x=r*f+e*this._x,this._y=r*h+e*this._y,this._z=r*k+e*this._z,this.normalize(),this._onChangeCallback(),this;c=Math.sqrt(c);const u=Math.atan2(c,r);r=Math.sin((1-e)*u)/c;e=Math.sin(e*u)/c;this._w=g*r+this._w*e;this._x=f*r+this._x*e;this._y=h*r+this._y*e;this._z=k*r+this._z*e;this._onChangeCallback();return this}slerpQuaternions(c,e,f){return this.copy(c).slerp(e,f)}random(){var c=
Math.random();const e=Math.sqrt(1-c);c=Math.sqrt(c);const f=2*Math.PI*Math.random(),h=2*Math.PI*Math.random();return this.set(e*Math.cos(f),c*Math.sin(h),c*Math.cos(h),e*Math.sin(f))}equals(c){return c._x===this._x&&c._y===this._y&&c._z===this._z&&c._w===this._w}fromArray(c,e=0){this._x=c[e];this._y=c[e+1];this._z=c[e+2];this._w=c[e+3];this._onChangeCallback();return this}toArray(c=[],e=0){c[e]=this._x;c[e+1]=this._y;c[e+2]=this._z;c[e+3]=this._w;return c}fromBufferAttribute(c,e){this._x=c.getX(e);
this._y=c.getY(e);this._z=c.getZ(e);this._w=c.getW(e);return this}_onChange(c){this._onChangeCallback=c;return this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x;yield this._y;yield this._z;yield this._w}}m.Quaternion=n};
shadow$provide[507]=function(z,v,J,m){function t(f){if("function"!==typeof WeakMap)return null;var h=new WeakMap,k=new WeakMap;return(t=function(g){return g?k:h})(f)}Object.defineProperty(m,"__esModule",{value:!0});m.Vector3=void 0;var p=function(f,h){if(!h&&f&&f.__esModule)return f;if(null===f||"object"!==typeof f&&"function"!==typeof f)return{default:f};if((h=t(h))&&h.has(f))return h.get(f);var k={},g=Object.defineProperty&&Object.getOwnPropertyDescriptor,r;for(r in f)if("default"!==r&&Object.prototype.hasOwnProperty.call(f,
r)){var u=g?Object.getOwnPropertyDescriptor(f,r):null;u&&(u.get||u.set)?Object.defineProperty(k,r,u):k[r]=f[r]}k.default=f;h&&h.set(f,k);return k}(v(505));z=v(506);class n{constructor(f=0,h=0,k=0){n.prototype.isVector3=!0;this.x=f;this.y=h;this.z=k}set(f,h,k){void 0===k&&(k=this.z);this.x=f;this.y=h;this.z=k;return this}setScalar(f){this.z=this.y=this.x=f;return this}setX(f){this.x=f;return this}setY(f){this.y=f;return this}setZ(f){this.z=f;return this}setComponent(f,h){switch(f){case 0:this.x=h;
break;case 1:this.y=h;break;case 2:this.z=h;break;default:throw Error("index is out of range: "+f);}return this}getComponent(f){switch(f){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw Error("index is out of range: "+f);}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(f){this.x=f.x;this.y=f.y;this.z=f.z;return this}add(f){this.x+=f.x;this.y+=f.y;this.z+=f.z;return this}addScalar(f){this.x+=f;this.y+=f;this.z+=f;return this}addVectors(f,h){this.x=f.x+h.x;
this.y=f.y+h.y;this.z=f.z+h.z;return this}addScaledVector(f,h){this.x+=f.x*h;this.y+=f.y*h;this.z+=f.z*h;return this}sub(f){this.x-=f.x;this.y-=f.y;this.z-=f.z;return this}subScalar(f){this.x-=f;this.y-=f;this.z-=f;return this}subVectors(f,h){this.x=f.x-h.x;this.y=f.y-h.y;this.z=f.z-h.z;return this}multiply(f){this.x*=f.x;this.y*=f.y;this.z*=f.z;return this}multiplyScalar(f){this.x*=f;this.y*=f;this.z*=f;return this}multiplyVectors(f,h){this.x=f.x*h.x;this.y=f.y*h.y;this.z=f.z*h.z;return this}applyEuler(f){return this.applyQuaternion(e.setFromEuler(f))}applyAxisAngle(f,
h){return this.applyQuaternion(e.setFromAxisAngle(f,h))}applyMatrix3(f){const h=this.x,k=this.y,g=this.z;f=f.elements;this.x=f[0]*h+f[3]*k+f[6]*g;this.y=f[1]*h+f[4]*k+f[7]*g;this.z=f[2]*h+f[5]*k+f[8]*g;return this}applyNormalMatrix(f){return this.applyMatrix3(f).normalize()}applyMatrix4(f){const h=this.x,k=this.y,g=this.z;f=f.elements;const r=1/(f[3]*h+f[7]*k+f[11]*g+f[15]);this.x=(f[0]*h+f[4]*k+f[8]*g+f[12])*r;this.y=(f[1]*h+f[5]*k+f[9]*g+f[13])*r;this.z=(f[2]*h+f[6]*k+f[10]*g+f[14])*r;return this}applyQuaternion(f){var h=
this.x;const k=this.y,g=this.z,r=f.x,u=f.y,w=f.z;f=f.w;const x=f*h+u*g-w*k,B=f*k+w*h-r*g,E=f*g+r*k-u*h;h=-r*h-u*k-w*g;this.x=x*f+h*-r+B*-w-E*-u;this.y=B*f+h*-u+E*-r-x*-w;this.z=E*f+h*-w+x*-u-B*-r;return this}project(f){return this.applyMatrix4(f.matrixWorldInverse).applyMatrix4(f.projectionMatrix)}unproject(f){return this.applyMatrix4(f.projectionMatrixInverse).applyMatrix4(f.matrixWorld)}transformDirection(f){const h=this.x,k=this.y,g=this.z;f=f.elements;this.x=f[0]*h+f[4]*k+f[8]*g;this.y=f[1]*h+
f[5]*k+f[9]*g;this.z=f[2]*h+f[6]*k+f[10]*g;return this.normalize()}divide(f){this.x/=f.x;this.y/=f.y;this.z/=f.z;return this}divideScalar(f){return this.multiplyScalar(1/f)}min(f){this.x=Math.min(this.x,f.x);this.y=Math.min(this.y,f.y);this.z=Math.min(this.z,f.z);return this}max(f){this.x=Math.max(this.x,f.x);this.y=Math.max(this.y,f.y);this.z=Math.max(this.z,f.z);return this}clamp(f,h){this.x=Math.max(f.x,Math.min(h.x,this.x));this.y=Math.max(f.y,Math.min(h.y,this.y));this.z=Math.max(f.z,Math.min(h.z,
this.z));return this}clampScalar(f,h){this.x=Math.max(f,Math.min(h,this.x));this.y=Math.max(f,Math.min(h,this.y));this.z=Math.max(f,Math.min(h,this.z));return this}clampLength(f,h){const k=this.length();return this.divideScalar(k||1).multiplyScalar(Math.max(f,Math.min(h,k)))}floor(){this.x=Math.floor(this.x);this.y=Math.floor(this.y);this.z=Math.floor(this.z);return this}ceil(){this.x=Math.ceil(this.x);this.y=Math.ceil(this.y);this.z=Math.ceil(this.z);return this}round(){this.x=Math.round(this.x);
this.y=Math.round(this.y);this.z=Math.round(this.z);return this}roundToZero(){this.x=0>this.x?Math.ceil(this.x):Math.floor(this.x);this.y=0>this.y?Math.ceil(this.y):Math.floor(this.y);this.z=0>this.z?Math.ceil(this.z):Math.floor(this.z);return this}negate(){this.x=-this.x;this.y=-this.y;this.z=-this.z;return this}dot(f){return this.x*f.x+this.y*f.y+this.z*f.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+
Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(f){return this.normalize().multiplyScalar(f)}lerp(f,h){this.x+=(f.x-this.x)*h;this.y+=(f.y-this.y)*h;this.z+=(f.z-this.z)*h;return this}lerpVectors(f,h,k){this.x=f.x+(h.x-f.x)*k;this.y=f.y+(h.y-f.y)*k;this.z=f.z+(h.z-f.z)*k;return this}cross(f){return this.crossVectors(this,f)}crossVectors(f,h){const k=f.x,g=f.y;f=f.z;const r=h.x,u=h.y;h=h.z;this.x=g*h-f*u;this.y=f*r-k*h;this.z=k*u-g*r;return this}projectOnVector(f){var h=
f.lengthSq();if(0===h)return this.set(0,0,0);h=f.dot(this)/h;return this.copy(f).multiplyScalar(h)}projectOnPlane(f){c.copy(this).projectOnVector(f);return this.sub(c)}reflect(f){return this.sub(c.copy(f).multiplyScalar(2*this.dot(f)))}angleTo(f){const h=Math.sqrt(this.lengthSq()*f.lengthSq());if(0===h)return Math.PI/2;f=this.dot(f)/h;return Math.acos(p.clamp(f,-1,1))}distanceTo(f){return Math.sqrt(this.distanceToSquared(f))}distanceToSquared(f){const h=this.x-f.x,k=this.y-f.y;f=this.z-f.z;return h*
h+k*k+f*f}manhattanDistanceTo(f){return Math.abs(this.x-f.x)+Math.abs(this.y-f.y)+Math.abs(this.z-f.z)}setFromSpherical(f){return this.setFromSphericalCoords(f.radius,f.phi,f.theta)}setFromSphericalCoords(f,h,k){const g=Math.sin(h)*f;this.x=g*Math.sin(k);this.y=Math.cos(h)*f;this.z=g*Math.cos(k);return this}setFromCylindrical(f){return this.setFromCylindricalCoords(f.radius,f.theta,f.y)}setFromCylindricalCoords(f,h,k){this.x=f*Math.sin(h);this.y=k;this.z=f*Math.cos(h);return this}setFromMatrixPosition(f){f=
f.elements;this.x=f[12];this.y=f[13];this.z=f[14];return this}setFromMatrixScale(f){const h=this.setFromMatrixColumn(f,0).length(),k=this.setFromMatrixColumn(f,1).length();f=this.setFromMatrixColumn(f,2).length();this.x=h;this.y=k;this.z=f;return this}setFromMatrixColumn(f,h){return this.fromArray(f.elements,4*h)}setFromMatrix3Column(f,h){return this.fromArray(f.elements,3*h)}setFromEuler(f){this.x=f._x;this.y=f._y;this.z=f._z;return this}equals(f){return f.x===this.x&&f.y===this.y&&f.z===this.z}fromArray(f,
h=0){this.x=f[h];this.y=f[h+1];this.z=f[h+2];return this}toArray(f=[],h=0){f[h]=this.x;f[h+1]=this.y;f[h+2]=this.z;return f}fromBufferAttribute(f,h){this.x=f.getX(h);this.y=f.getY(h);this.z=f.getZ(h);return this}random(){this.x=Math.random();this.y=Math.random();this.z=Math.random();return this}randomDirection(){const f=2*(Math.random()-.5),h=Math.random()*Math.PI*2,k=Math.sqrt(1-f**2);this.x=k*Math.cos(h);this.y=k*Math.sin(h);this.z=f;return this}*[Symbol.iterator](){yield this.x;yield this.y;yield this.z}}
m.Vector3=n;const c=new n,e=new z.Quaternion};
shadow$provide[508]=function(z,v,J,m){Object.defineProperty(m,"__esModule",{value:!0});m.Vector4=void 0;class t{constructor(p=0,n=0,c=0,e=1){t.prototype.isVector4=!0;this.x=p;this.y=n;this.z=c;this.w=e}get width(){return this.z}set width(p){this.z=p}get height(){return this.w}set height(p){this.w=p}set(p,n,c,e){this.x=p;this.y=n;this.z=c;this.w=e;return this}setScalar(p){this.w=this.z=this.y=this.x=p;return this}setX(p){this.x=p;return this}setY(p){this.y=p;return this}setZ(p){this.z=p;return this}setW(p){this.w=
p;return this}setComponent(p,n){switch(p){case 0:this.x=n;break;case 1:this.y=n;break;case 2:this.z=n;break;case 3:this.w=n;break;default:throw Error("index is out of range: "+p);}return this}getComponent(p){switch(p){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw Error("index is out of range: "+p);}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(p){this.x=p.x;this.y=p.y;this.z=p.z;this.w=void 0!==p.w?p.w:1;return this}add(p){this.x+=
p.x;this.y+=p.y;this.z+=p.z;this.w+=p.w;return this}addScalar(p){this.x+=p;this.y+=p;this.z+=p;this.w+=p;return this}addVectors(p,n){this.x=p.x+n.x;this.y=p.y+n.y;this.z=p.z+n.z;this.w=p.w+n.w;return this}addScaledVector(p,n){this.x+=p.x*n;this.y+=p.y*n;this.z+=p.z*n;this.w+=p.w*n;return this}sub(p){this.x-=p.x;this.y-=p.y;this.z-=p.z;this.w-=p.w;return this}subScalar(p){this.x-=p;this.y-=p;this.z-=p;this.w-=p;return this}subVectors(p,n){this.x=p.x-n.x;this.y=p.y-n.y;this.z=p.z-n.z;this.w=p.w-n.w;
return this}multiply(p){this.x*=p.x;this.y*=p.y;this.z*=p.z;this.w*=p.w;return this}multiplyScalar(p){this.x*=p;this.y*=p;this.z*=p;this.w*=p;return this}applyMatrix4(p){const n=this.x,c=this.y,e=this.z,f=this.w;p=p.elements;this.x=p[0]*n+p[4]*c+p[8]*e+p[12]*f;this.y=p[1]*n+p[5]*c+p[9]*e+p[13]*f;this.z=p[2]*n+p[6]*c+p[10]*e+p[14]*f;this.w=p[3]*n+p[7]*c+p[11]*e+p[15]*f;return this}divideScalar(p){return this.multiplyScalar(1/p)}setAxisAngleFromQuaternion(p){this.w=2*Math.acos(p.w);const n=Math.sqrt(1-
p.w*p.w);1E-4>n?(this.x=1,this.z=this.y=0):(this.x=p.x/n,this.y=p.y/n,this.z=p.z/n);return this}setAxisAngleFromRotationMatrix(p){p=p.elements;var n=p[0];var c=p[4];var e=p[8];const f=p[1];var h=p[5],k=p[9];var g=p[2];var r=p[6];var u=p[10];if(.01>Math.abs(c-f)&&.01>Math.abs(e-g)&&.01>Math.abs(k-r)){if(.1>Math.abs(c+f)&&.1>Math.abs(e+g)&&.1>Math.abs(k+r)&&.1>Math.abs(n+h+u-3))return this.set(1,0,0,0),this;p=Math.PI;n=(n+1)/2;h=(h+1)/2;u=(u+1)/2;c=(c+f)/4;e=(e+g)/4;k=(k+r)/4;n>h&&n>u?.01>n?(r=0,c=
g=.707106781):(r=Math.sqrt(n),g=c/r,c=e/r):h>u?.01>h?(r=.707106781,g=0,c=.707106781):(g=Math.sqrt(h),r=c/g,c=k/g):.01>u?(g=r=.707106781,c=0):(c=Math.sqrt(u),r=e/c,g=k/c);this.set(r,g,c,p);return this}p=Math.sqrt((r-k)*(r-k)+(e-g)*(e-g)+(f-c)*(f-c));.001>Math.abs(p)&&(p=1);this.x=(r-k)/p;this.y=(e-g)/p;this.z=(f-c)/p;this.w=Math.acos((n+h+u-1)/2);return this}min(p){this.x=Math.min(this.x,p.x);this.y=Math.min(this.y,p.y);this.z=Math.min(this.z,p.z);this.w=Math.min(this.w,p.w);return this}max(p){this.x=
Math.max(this.x,p.x);this.y=Math.max(this.y,p.y);this.z=Math.max(this.z,p.z);this.w=Math.max(this.w,p.w);return this}clamp(p,n){this.x=Math.max(p.x,Math.min(n.x,this.x));this.y=Math.max(p.y,Math.min(n.y,this.y));this.z=Math.max(p.z,Math.min(n.z,this.z));this.w=Math.max(p.w,Math.min(n.w,this.w));return this}clampScalar(p,n){this.x=Math.max(p,Math.min(n,this.x));this.y=Math.max(p,Math.min(n,this.y));this.z=Math.max(p,Math.min(n,this.z));this.w=Math.max(p,Math.min(n,this.w));return this}clampLength(p,
n){const c=this.length();return this.divideScalar(c||1).multiplyScalar(Math.max(p,Math.min(n,c)))}floor(){this.x=Math.floor(this.x);this.y=Math.floor(this.y);this.z=Math.floor(this.z);this.w=Math.floor(this.w);return this}ceil(){this.x=Math.ceil(this.x);this.y=Math.ceil(this.y);this.z=Math.ceil(this.z);this.w=Math.ceil(this.w);return this}round(){this.x=Math.round(this.x);this.y=Math.round(this.y);this.z=Math.round(this.z);this.w=Math.round(this.w);return this}roundToZero(){this.x=0>this.x?Math.ceil(this.x):
Math.floor(this.x);this.y=0>this.y?Math.ceil(this.y):Math.floor(this.y);this.z=0>this.z?Math.ceil(this.z):Math.floor(this.z);this.w=0>this.w?Math.ceil(this.w):Math.floor(this.w);return this}negate(){this.x=-this.x;this.y=-this.y;this.z=-this.z;this.w=-this.w;return this}dot(p){return this.x*p.x+this.y*p.y+this.z*p.z+this.w*p.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+
Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(p){return this.normalize().multiplyScalar(p)}lerp(p,n){this.x+=(p.x-this.x)*n;this.y+=(p.y-this.y)*n;this.z+=(p.z-this.z)*n;this.w+=(p.w-this.w)*n;return this}lerpVectors(p,n,c){this.x=p.x+(n.x-p.x)*c;this.y=p.y+(n.y-p.y)*c;this.z=p.z+(n.z-p.z)*c;this.w=p.w+(n.w-p.w)*c;return this}equals(p){return p.x===this.x&&p.y===this.y&&p.z===this.z&&p.w===this.w}fromArray(p,n=0){this.x=p[n];this.y=
p[n+1];this.z=p[n+2];this.w=p[n+3];return this}toArray(p=[],n=0){p[n]=this.x;p[n+1]=this.y;p[n+2]=this.z;p[n+3]=this.w;return p}fromBufferAttribute(p,n){this.x=p.getX(n);this.y=p.getY(n);this.z=p.getZ(n);this.w=p.getW(n);return this}random(){this.x=Math.random();this.y=Math.random();this.z=Math.random();this.w=Math.random();return this}*[Symbol.iterator](){yield this.x;yield this.y;yield this.z;yield this.w}}m.Vector4=t};
shadow$provide[509]=function(z,v,J,m){Object.defineProperty(m,"__esModule",{value:!0});m.Matrix3=void 0;class t{constructor(){t.prototype.isMatrix3=!0;this.elements=[1,0,0,0,1,0,0,0,1]}set(n,c,e,f,h,k,g,r,u){const w=this.elements;w[0]=n;w[1]=f;w[2]=g;w[3]=c;w[4]=h;w[5]=r;w[6]=e;w[7]=k;w[8]=u;return this}identity(){this.set(1,0,0,0,1,0,0,0,1);return this}copy(n){const c=this.elements;n=n.elements;c[0]=n[0];c[1]=n[1];c[2]=n[2];c[3]=n[3];c[4]=n[4];c[5]=n[5];c[6]=n[6];c[7]=n[7];c[8]=n[8];return this}extractBasis(n,
c,e){n.setFromMatrix3Column(this,0);c.setFromMatrix3Column(this,1);e.setFromMatrix3Column(this,2);return this}setFromMatrix4(n){n=n.elements;this.set(n[0],n[4],n[8],n[1],n[5],n[9],n[2],n[6],n[10]);return this}multiply(n){return this.multiplyMatrices(this,n)}premultiply(n){return this.multiplyMatrices(n,this)}multiplyMatrices(n,c){var e=n.elements,f=c.elements;c=this.elements;n=e[0];const h=e[3],k=e[6],g=e[1],r=e[4],u=e[7],w=e[2],x=e[5];e=e[8];const B=f[0],E=f[3],C=f[6],H=f[1],I=f[4],K=f[7],O=f[2],
Q=f[5];f=f[8];c[0]=n*B+h*H+k*O;c[3]=n*E+h*I+k*Q;c[6]=n*C+h*K+k*f;c[1]=g*B+r*H+u*O;c[4]=g*E+r*I+u*Q;c[7]=g*C+r*K+u*f;c[2]=w*B+x*H+e*O;c[5]=w*E+x*I+e*Q;c[8]=w*C+x*K+e*f;return this}multiplyScalar(n){const c=this.elements;c[0]*=n;c[3]*=n;c[6]*=n;c[1]*=n;c[4]*=n;c[7]*=n;c[2]*=n;c[5]*=n;c[8]*=n;return this}determinant(){var n=this.elements;const c=n[0],e=n[1],f=n[2],h=n[3],k=n[4],g=n[5],r=n[6],u=n[7];n=n[8];return c*k*n-c*g*u-e*h*n+e*g*r+f*h*u-f*k*r}invert(){const n=this.elements,c=n[0],e=n[1],f=n[2],
h=n[3],k=n[4],g=n[5],r=n[6],u=n[7],w=n[8],x=w*k-g*u,B=g*r-w*h,E=u*h-k*r;var C=c*x+e*B+f*E;if(0===C)return this.set(0,0,0,0,0,0,0,0,0);C=1/C;n[0]=x*C;n[1]=(f*u-w*e)*C;n[2]=(g*e-f*k)*C;n[3]=B*C;n[4]=(w*c-f*r)*C;n[5]=(f*h-g*c)*C;n[6]=E*C;n[7]=(e*r-u*c)*C;n[8]=(k*c-e*h)*C;return this}transpose(){let n;const c=this.elements;n=c[1];c[1]=c[3];c[3]=n;n=c[2];c[2]=c[6];c[6]=n;n=c[5];c[5]=c[7];c[7]=n;return this}getNormalMatrix(n){return this.setFromMatrix4(n).invert().transpose()}transposeIntoArray(n){const c=
this.elements;n[0]=c[0];n[1]=c[3];n[2]=c[6];n[3]=c[1];n[4]=c[4];n[5]=c[7];n[6]=c[2];n[7]=c[5];n[8]=c[8];return this}setUvTransform(n,c,e,f,h,k,g){const r=Math.cos(h);h=Math.sin(h);this.set(e*r,e*h,-e*(r*k+h*g)+k+n,-f*h,f*r,-f*(-h*k+r*g)+g+c,0,0,1);return this}scale(n,c){this.premultiply(p.makeScale(n,c));return this}rotate(n){this.premultiply(p.makeRotation(-n));return this}translate(n,c){this.premultiply(p.makeTranslation(n,c));return this}makeTranslation(n,c){this.set(1,0,n,0,1,c,0,0,1);return this}makeRotation(n){const c=
Math.cos(n);n=Math.sin(n);this.set(c,-n,0,n,c,0,0,0,1);return this}makeScale(n,c){this.set(n,0,0,0,c,0,0,0,1);return this}equals(n){const c=this.elements;n=n.elements;for(let e=0;9>e;e++)if(c[e]!==n[e])return!1;return!0}fromArray(n,c=0){for(let e=0;9>e;e++)this.elements[e]=n[e+c];return this}toArray(n=[],c=0){const e=this.elements;n[c]=e[0];n[c+1]=e[1];n[c+2]=e[2];n[c+3]=e[3];n[c+4]=e[4];n[c+5]=e[5];n[c+6]=e[6];n[c+7]=e[7];n[c+8]=e[8];return n}clone(){return(new this.constructor).fromArray(this.elements)}}
m.Matrix3=t;const p=new t};
shadow$provide[510]=function(z,v,J,m){Object.defineProperty(m,"__esModule",{value:!0});m.Matrix4=void 0;z=v(507);class t{constructor(){t.prototype.isMatrix4=!0;this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]}set(g,r,u,w,x,B,E,C,H,I,K,O,Q,W,R,X){const ca=this.elements;ca[0]=g;ca[4]=r;ca[8]=u;ca[12]=w;ca[1]=x;ca[5]=B;ca[9]=E;ca[13]=C;ca[2]=H;ca[6]=I;ca[10]=K;ca[14]=O;ca[3]=Q;ca[7]=W;ca[11]=R;ca[15]=X;return this}identity(){this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1);return this}clone(){return(new t).fromArray(this.elements)}copy(g){const r=
this.elements;g=g.elements;r[0]=g[0];r[1]=g[1];r[2]=g[2];r[3]=g[3];r[4]=g[4];r[5]=g[5];r[6]=g[6];r[7]=g[7];r[8]=g[8];r[9]=g[9];r[10]=g[10];r[11]=g[11];r[12]=g[12];r[13]=g[13];r[14]=g[14];r[15]=g[15];return this}copyPosition(g){const r=this.elements;g=g.elements;r[12]=g[12];r[13]=g[13];r[14]=g[14];return this}setFromMatrix3(g){g=g.elements;this.set(g[0],g[3],g[6],0,g[1],g[4],g[7],0,g[2],g[5],g[8],0,0,0,0,1);return this}extractBasis(g,r,u){g.setFromMatrixColumn(this,0);r.setFromMatrixColumn(this,1);
u.setFromMatrixColumn(this,2);return this}makeBasis(g,r,u){this.set(g.x,r.x,u.x,0,g.y,r.y,u.y,0,g.z,r.z,u.z,0,0,0,0,1);return this}extractRotation(g){const r=this.elements,u=g.elements,w=1/p.setFromMatrixColumn(g,0).length(),x=1/p.setFromMatrixColumn(g,1).length();g=1/p.setFromMatrixColumn(g,2).length();r[0]=u[0]*w;r[1]=u[1]*w;r[2]=u[2]*w;r[3]=0;r[4]=u[4]*x;r[5]=u[5]*x;r[6]=u[6]*x;r[7]=0;r[8]=u[8]*g;r[9]=u[9]*g;r[10]=u[10]*g;r[11]=0;r[12]=0;r[13]=0;r[14]=0;r[15]=1;return this}makeRotationFromEuler(g){const r=
this.elements;var u=g.x,w=g.y,x=g.z;const B=Math.cos(u);u=Math.sin(u);const E=Math.cos(w);w=Math.sin(w);const C=Math.cos(x);x=Math.sin(x);if("XYZ"===g.order){g=B*C;var H=B*x,I=u*C,K=u*x;r[0]=E*C;r[4]=-E*x;r[8]=w;r[1]=H+I*w;r[5]=g-K*w;r[9]=-u*E;r[2]=K-g*w;r[6]=I+H*w;r[10]=B*E}else"YXZ"===g.order?(g=E*C,H=E*x,I=w*C,K=w*x,r[0]=g+K*u,r[4]=I*u-H,r[8]=B*w,r[1]=B*x,r[5]=B*C,r[9]=-u,r[2]=H*u-I,r[6]=K+g*u,r[10]=B*E):"ZXY"===g.order?(g=E*C,H=E*x,I=w*C,K=w*x,r[0]=g-K*u,r[4]=-B*x,r[8]=I+H*u,r[1]=H+I*u,r[5]=B*
C,r[9]=K-g*u,r[2]=-B*w,r[6]=u,r[10]=B*E):"ZYX"===g.order?(g=B*C,H=B*x,I=u*C,K=u*x,r[0]=E*C,r[4]=I*w-H,r[8]=g*w+K,r[1]=E*x,r[5]=K*w+g,r[9]=H*w-I,r[2]=-w,r[6]=u*E,r[10]=B*E):"YZX"===g.order?(g=B*E,H=B*w,I=u*E,K=u*w,r[0]=E*C,r[4]=K-g*x,r[8]=I*x+H,r[1]=x,r[5]=B*C,r[9]=-u*C,r[2]=-w*C,r[6]=H*x+I,r[10]=g-K*x):"XZY"===g.order&&(g=B*E,H=B*w,I=u*E,K=u*w,r[0]=E*C,r[4]=-x,r[8]=w*C,r[1]=g*x+K,r[5]=B*C,r[9]=H*x-I,r[2]=I*x-H,r[6]=u*C,r[10]=K*x+g);r[3]=0;r[7]=0;r[11]=0;r[12]=0;r[13]=0;r[14]=0;r[15]=1;return this}makeRotationFromQuaternion(g){return this.compose(c,
g,e)}lookAt(g,r,u){const w=this.elements;k.subVectors(g,r);0===k.lengthSq()&&(k.z=1);k.normalize();f.crossVectors(u,k);0===f.lengthSq()&&(1===Math.abs(u.z)?k.x+=1E-4:k.z+=1E-4,k.normalize(),f.crossVectors(u,k));f.normalize();h.crossVectors(k,f);w[0]=f.x;w[4]=h.x;w[8]=k.x;w[1]=f.y;w[5]=h.y;w[9]=k.y;w[2]=f.z;w[6]=h.z;w[10]=k.z;return this}multiply(g){return this.multiplyMatrices(this,g)}premultiply(g){return this.multiplyMatrices(g,this)}multiplyMatrices(g,r){var u=g.elements,w=r.elements;r=this.elements;
g=u[0];const x=u[4],B=u[8],E=u[12],C=u[1],H=u[5],I=u[9],K=u[13],O=u[2],Q=u[6],W=u[10],R=u[14],X=u[3],ca=u[7],ka=u[11];u=u[15];const la=w[0],Aa=w[4],ta=w[8],Ha=w[12],Oa=w[1],da=w[5],Wa=w[9],Pa=w[13],mb=w[2],Cb=w[6],yb=w[10],tb=w[14],Rb=w[3],ac=w[7],Hb=w[11];w=w[15];r[0]=g*la+x*Oa+B*mb+E*Rb;r[4]=g*Aa+x*da+B*Cb+E*ac;r[8]=g*ta+x*Wa+B*yb+E*Hb;r[12]=g*Ha+x*Pa+B*tb+E*w;r[1]=C*la+H*Oa+I*mb+K*Rb;r[5]=C*Aa+H*da+I*Cb+K*ac;r[9]=C*ta+H*Wa+I*yb+K*Hb;r[13]=C*Ha+H*Pa+I*tb+K*w;r[2]=O*la+Q*Oa+W*mb+R*Rb;r[6]=O*Aa+Q*
da+W*Cb+R*ac;r[10]=O*ta+Q*Wa+W*yb+R*Hb;r[14]=O*Ha+Q*Pa+W*tb+R*w;r[3]=X*la+ca*Oa+ka*mb+u*Rb;r[7]=X*Aa+ca*da+ka*Cb+u*ac;r[11]=X*ta+ca*Wa+ka*yb+u*Hb;r[15]=X*Ha+ca*Pa+ka*tb+u*w;return this}multiplyScalar(g){const r=this.elements;r[0]*=g;r[4]*=g;r[8]*=g;r[12]*=g;r[1]*=g;r[5]*=g;r[9]*=g;r[13]*=g;r[2]*=g;r[6]*=g;r[10]*=g;r[14]*=g;r[3]*=g;r[7]*=g;r[11]*=g;r[15]*=g;return this}determinant(){const g=this.elements,r=g[0],u=g[4],w=g[8],x=g[12],B=g[1],E=g[5],C=g[9],H=g[13],I=g[2],K=g[6],O=g[10],Q=g[14];return g[3]*
(+x*C*K-w*H*K-x*E*O+u*H*O+w*E*Q-u*C*Q)+g[7]*(+r*C*Q-r*H*O+x*B*O-w*B*Q+w*H*I-x*C*I)+g[11]*(+r*H*K-r*E*Q-x*B*K+u*B*Q+x*E*I-u*H*I)+g[15]*(-w*E*I-r*C*K+r*E*O+w*B*K-u*B*O+u*C*I)}transpose(){const g=this.elements;let r;r=g[1];g[1]=g[4];g[4]=r;r=g[2];g[2]=g[8];g[8]=r;r=g[6];g[6]=g[9];g[9]=r;r=g[3];g[3]=g[12];g[12]=r;r=g[7];g[7]=g[13];g[13]=r;r=g[11];g[11]=g[14];g[14]=r;return this}setPosition(g,r,u){const w=this.elements;g.isVector3?(w[12]=g.x,w[13]=g.y,w[14]=g.z):(w[12]=g,w[13]=r,w[14]=u);return this}invert(){const g=
this.elements,r=g[0],u=g[1],w=g[2],x=g[3],B=g[4],E=g[5],C=g[6],H=g[7],I=g[8],K=g[9],O=g[10],Q=g[11],W=g[12],R=g[13],X=g[14],ca=g[15],ka=K*X*H-R*O*H+R*C*Q-E*X*Q-K*C*ca+E*O*ca,la=W*O*H-I*X*H-W*C*Q+B*X*Q+I*C*ca-B*O*ca,Aa=I*R*H-W*K*H+W*E*Q-B*R*Q-I*E*ca+B*K*ca,ta=W*K*C-I*R*C-W*E*O+B*R*O+I*E*X-B*K*X;var Ha=r*ka+u*la+w*Aa+x*ta;if(0===Ha)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);Ha=1/Ha;g[0]=ka*Ha;g[1]=(R*O*x-K*X*x-R*w*Q+u*X*Q+K*w*ca-u*O*ca)*Ha;g[2]=(E*X*x-R*C*x+R*w*H-u*X*H-E*w*ca+u*C*ca)*Ha;g[3]=
(K*C*x-E*O*x-K*w*H+u*O*H+E*w*Q-u*C*Q)*Ha;g[4]=la*Ha;g[5]=(I*X*x-W*O*x+W*w*Q-r*X*Q-I*w*ca+r*O*ca)*Ha;g[6]=(W*C*x-B*X*x-W*w*H+r*X*H+B*w*ca-r*C*ca)*Ha;g[7]=(B*O*x-I*C*x+I*w*H-r*O*H-B*w*Q+r*C*Q)*Ha;g[8]=Aa*Ha;g[9]=(W*K*x-I*R*x-W*u*Q+r*R*Q+I*u*ca-r*K*ca)*Ha;g[10]=(B*R*x-W*E*x+W*u*H-r*R*H-B*u*ca+r*E*ca)*Ha;g[11]=(I*E*x-B*K*x-I*u*H+r*K*H+B*u*Q-r*E*Q)*Ha;g[12]=ta*Ha;g[13]=(I*R*w-W*K*w+W*u*O-r*R*O-I*u*X+r*K*X)*Ha;g[14]=(W*E*w-B*R*w-W*u*C+r*R*C+B*u*X-r*E*X)*Ha;g[15]=(B*K*w-I*E*w+I*u*C-r*K*C-B*u*O+r*E*O)*Ha;
return this}scale(g){const r=this.elements,u=g.x,w=g.y;g=g.z;r[0]*=u;r[4]*=w;r[8]*=g;r[1]*=u;r[5]*=w;r[9]*=g;r[2]*=u;r[6]*=w;r[10]*=g;r[3]*=u;r[7]*=w;r[11]*=g;return this}getMaxScaleOnAxis(){const g=this.elements;return Math.sqrt(Math.max(g[0]*g[0]+g[1]*g[1]+g[2]*g[2],g[4]*g[4]+g[5]*g[5]+g[6]*g[6],g[8]*g[8]+g[9]*g[9]+g[10]*g[10]))}makeTranslation(g,r,u){this.set(1,0,0,g,0,1,0,r,0,0,1,u,0,0,0,1);return this}makeRotationX(g){const r=Math.cos(g);g=Math.sin(g);this.set(1,0,0,0,0,r,-g,0,0,g,r,0,0,0,0,
1);return this}makeRotationY(g){const r=Math.cos(g);g=Math.sin(g);this.set(r,0,g,0,0,1,0,0,-g,0,r,0,0,0,0,1);return this}makeRotationZ(g){const r=Math.cos(g);g=Math.sin(g);this.set(r,-g,0,0,g,r,0,0,0,0,1,0,0,0,0,1);return this}makeRotationAxis(g,r){const u=Math.cos(r);r=Math.sin(r);const w=1-u,x=g.x,B=g.y;g=g.z;const E=w*x,C=w*B;this.set(E*x+u,E*B-r*g,E*g+r*B,0,E*B+r*g,C*B+u,C*g-r*x,0,E*g-r*B,C*g+r*x,w*g*g+u,0,0,0,0,1);return this}makeScale(g,r,u){this.set(g,0,0,0,0,r,0,0,0,0,u,0,0,0,0,1);return this}makeShear(g,
r,u,w,x,B){this.set(1,u,x,0,g,1,B,0,r,w,1,0,0,0,0,1);return this}compose(g,r,u){const w=this.elements;var x=r._x,B=r._y,E=r._z,C=r._w,H=x+x,I=B+B,K=E+E;r=x*H;const O=x*I;x*=K;const Q=B*I;B*=K;E*=K;H*=C;I*=C;C*=K;K=u.x;const W=u.y;u=u.z;w[0]=(1-(Q+E))*K;w[1]=(O+C)*K;w[2]=(x-I)*K;w[3]=0;w[4]=(O-C)*W;w[5]=(1-(r+E))*W;w[6]=(B+H)*W;w[7]=0;w[8]=(x+I)*u;w[9]=(B-H)*u;w[10]=(1-(r+Q))*u;w[11]=0;w[12]=g.x;w[13]=g.y;w[14]=g.z;w[15]=1;return this}decompose(g,r,u){var w=this.elements;let x=p.set(w[0],w[1],w[2]).length();
const B=p.set(w[4],w[5],w[6]).length(),E=p.set(w[8],w[9],w[10]).length();0>this.determinant()&&(x=-x);g.x=w[12];g.y=w[13];g.z=w[14];n.copy(this);g=1/x;w=1/B;const C=1/E;n.elements[0]*=g;n.elements[1]*=g;n.elements[2]*=g;n.elements[4]*=w;n.elements[5]*=w;n.elements[6]*=w;n.elements[8]*=C;n.elements[9]*=C;n.elements[10]*=C;r.setFromRotationMatrix(n);u.x=x;u.y=B;u.z=E;return this}makePerspective(g,r,u,w,x,B){const E=this.elements;E[0]=2*x/(r-g);E[4]=0;E[8]=(r+g)/(r-g);E[12]=0;E[1]=0;E[5]=2*x/(u-w);E[9]=
(u+w)/(u-w);E[13]=0;E[2]=0;E[6]=0;E[10]=-(B+x)/(B-x);E[14]=-2*B*x/(B-x);E[3]=0;E[7]=0;E[11]=-1;E[15]=0;return this}makeOrthographic(g,r,u,w,x,B){const E=this.elements,C=1/(r-g),H=1/(u-w),I=1/(B-x);E[0]=2*C;E[4]=0;E[8]=0;E[12]=-((r+g)*C);E[1]=0;E[5]=2*H;E[9]=0;E[13]=-((u+w)*H);E[2]=0;E[6]=0;E[10]=-2*I;E[14]=-((B+x)*I);E[3]=0;E[7]=0;E[11]=0;E[15]=1;return this}equals(g){const r=this.elements;g=g.elements;for(let u=0;16>u;u++)if(r[u]!==g[u])return!1;return!0}fromArray(g,r=0){for(let u=0;16>u;u++)this.elements[u]=
g[u+r];return this}toArray(g=[],r=0){const u=this.elements;g[r]=u[0];g[r+1]=u[1];g[r+2]=u[2];g[r+3]=u[3];g[r+4]=u[4];g[r+5]=u[5];g[r+6]=u[6];g[r+7]=u[7];g[r+8]=u[8];g[r+9]=u[9];g[r+10]=u[10];g[r+11]=u[11];g[r+12]=u[12];g[r+13]=u[13];g[r+14]=u[14];g[r+15]=u[15];return g}}m.Matrix4=t;const p=new z.Vector3,n=new t,c=new z.Vector3(0,0,0),e=new z.Vector3(1,1,1),f=new z.Vector3,h=new z.Vector3,k=new z.Vector3};
shadow$provide[511]=function(z,v,J,m){Object.defineProperty(m,"__esModule",{value:!0});m.decl=void 0;z=v(504);J=v(507);var t=v(508),p=v(509);v=v(510);const n={};m.decl=n;n.in=0;n.out=1;n.inout=2;n.node=function(h){if("function"===(null!=h.children[5]?h.children[5].type:void 0))return n.function(h);if("keyword"===(null!=h.token?h.token.type:void 0))return n.external(h)};n.external=function(h){h=h.children;let k=h[1].token.data;const g=h[4].token.data,r=h[5];["attribute","uniform","varying"].includes(k)||
(k="global");const u=[];for(let x=0;x<r.children.length;x++)if(h=r.children[x],"ident"===h.type){var w=r.children[x+1];w="quantifier"===(null!=w?w.type:void 0);u.push({decl:"external",storage:k,type:g,ident:h.token.data,quant:!!w,count:w})}return u};n.function=function(h){var k=h.children;h=k[1].token.data;const g=k[4].token.data;var r=k[5];k=r.children[0].token.data;const u=r.children[2];r=Array.from(r.children[1].children).map(w=>n.argument(w));return[{decl:"function",storage:h,type:g,ident:k,body:!!u,
args:r}]};n.argument=function(h){h=h.children;const k=h[5],g=k.children[1];return{decl:"argument",storage:h[1].token.data,inout:h[2].token.data,type:h[4].token.data,ident:k.children[0].token.data,quant:!!g,count:g?g.children[0].token.data:void 0}};n.param=function(h,k,g,r,u){let w=[];null!=k&&w.push(k);null!=g&&w.push(g);w.push("");w=w.join(" ");const x=r?"["+u+"]":"";""!==h&&(h+=" ");const B=(E,C)=>(C?h:"")+`${w}${E}${x}`;B.split=E=>n.param(E,k,g,r,u);return B};m="undefined"!==typeof window&&!!window.THREE;
const c={int:0,float:0,vec2:m?z.Vector2:null,vec3:m?J.Vector3:null,vec4:m?t.Vector4:null,mat2:null,mat3:m?p.Matrix3:null,mat4:m?v.Matrix4:null,sampler2D:0,samplerCube:0},e={int:"i",float:"f",vec2:"v2",vec3:"v3",vec4:"v4",mat2:"m2",mat3:"m3",mat4:"m4",sampler2D:"t",samplerCube:"t"};n.type=function(h,k,g,r,u,w){var x={in:n.in,out:n.out,inout:n.inout};let B=e[k];g&&(B+="v");let E=c[k];null!=E&&E.call&&(E=new E);g&&(E=[E]);x=null!=x[u]?x[u]:x.in;w={const:"const"}[w];g=n.param(u,w,k,g,r);return new f(h,
B,k,g,E,x)};class f{constructor(h,k,g,r,u,w,x){this.name=h;this.type=k;this.spec=g;this.param=r;this.value=u;this.inout=w;this.meta=x}split(){var h=null!=this.meta.shadowed;const k=h?n.in:n.out;h=this.param.split(h?"in":"out");return new f(this.name,this.type,this.spec,h,this.value,k)}copy(h,k){return new f(null!=h?h:this.name,this.type,this.spec,this.param,this.value,this.inout,k)}}};
shadow$provide[512]=function(z,v,J,m){Object.defineProperty(m,"__esModule",{value:!0});m.SHADOW_ARG="_i_o";m.RETURN_ARG="return"};
shadow$provide[513]=function(z,v,J,m){function t(B){return B&&B.__esModule?B:{default:B}}Object.defineProperty(m,"__esModule",{value:!0});m.walk=m.parse=void 0;var p=t(v(499)),n=t(v(503)),c=v(511),e=v(512);let f=!1;m.parse=function(B,E){B=h(B,E);let C;f&&(C=x());var H=[];w(k,g(H),B,"");const [I,K,O]=Array.from(r(H));H=u(I,K,O);f&&C("GLSL AST");return{ast:B,code:E,signatures:H}};const h=function(B,E){let C;var H;let I=[];f&&(H=x());try{const K=(0,p.default)(E);C=(0,n.default)(K)}catch(K){I=[{message:K}]}f&&
H("GLSL Tokenize \x26 Parse");H=function(K){K=K.split("\n");const O=(""+K.length).length;return K.map((Q,W)=>{var R=W+1;W=(R=""+R).length<O?("       "+R).slice(-O):R;return`${W}: ${Q}`}).join("\n")};if(!C||I.length){B||(B="(inline code)");console.warn(H(E));for(const K of I)console.error(`${B} -`,K.message);throw Error("GLSL parse error");}return C},k=function(B,E){switch(B.type){case "decl":return E(c.decl.node(B)),!1}return!0},g=B=>function(E){null!=E&&Array.from(E).map(C=>B.push(C))},r=function(B){let E=
null;const C=[];let H=[];const I={};let K=!1;for(const O of Array.from(B))O.body?(I[O.ident]&&(H=Array.from(H).filter(Q=>Q.ident!==O.ident),delete I[O.ident]),C.push(O),"main"===O.ident?(E=O,K=!0):K||(E=O)):"global"===O.storage?C.push(O):(H.push(O),I[O.ident]=!0);return[E,C,H]},u=function(B,E,C){let H;const I={uniform:[],attribute:[],varying:[],external:[],internal:[],global:[],main:null},K=function(O,Q){let W;const R=Array.from(O.args).map(ka=>c.decl.type(ka.ident,ka.type,ka.quant,ka.count,ka.inout,
ka.storage));for(W of Array.from(R))if(W.inout===c.decl.inout){var X=W,ca=W.copy();X.inout=c.decl.in;ca.inout=c.decl.out;ca.meta={shadow:X.name};ca.name+=e.SHADOW_ARG;X.meta={shadowed:ca.name};R.push(ca)}"void"!==O.type&&R.unshift(c.decl.type(e.RETURN_ARG,O.type,!1,"","out"));X=(()=>{const ka=[];for(W of Array.from(R))W.inout===c.decl.in&&ka.push(W.type);return ka})().join(",");ca=(()=>{const ka=[];for(W of Array.from(R))W.inout===c.decl.out&&ka.push(W.type);return ka})().join(",");return{name:O.ident,
type:`(${X})(${ca})`,signature:R,inout:Q,spec:O.type}};I.main=K(B,c.decl.out);for(H of Array.from(E))I.internal.push({name:H.ident});for(H of Array.from(C))switch(H.decl){case "external":B=c.decl.type(H.ident,H.type,H.quant,H.count,H.inout,H.storage);I[H.storage].push(B);break;case "function":B=K(H,c.decl.in),I.external.push(B)}return I};f=!1;const w=function(B,E,C,H){f&&console.log(H,C.type,null!=C.token?C.token.data:void 0,null!=C.token?C.token.type:void 0);if(B(C,E))for(let I=0;I<C.children.length;I++)w(B,
E,C.children[I],H+"  ",f);return null};m.walk=w;const x=function(){const B=+new Date;return function(E){const C=+new Date-B;console.log(E,C+" ms");return C}}};
shadow$provide[514]=function(z,v,J,m){function t(C){if("function"!==typeof WeakMap)return null;var H=new WeakMap,I=new WeakMap;return(t=function(K){return K?I:H})(C)}function p(C,H){if(!H&&C&&C.__esModule)return C;if(null===C||"object"!==typeof C&&"function"!==typeof C)return{default:C};if((H=t(H))&&H.has(C))return H.get(C);var I={},K=Object.defineProperty&&Object.getOwnPropertyDescriptor,O;for(O in C)if("default"!==O&&Object.prototype.hasOwnProperty.call(C,O)){var Q=K?Object.getOwnPropertyDescriptor(C,
O):null;Q&&(Q.get||Q.set)?Object.defineProperty(I,O,Q):I[O]=C[O]}I.default=C;H&&H.set(C,I);return I}function n(C){return C.join("\n")}function c(C){return C.join(", ")}function e(C){return C.join(";\n")}function f(C){return{entry:C,type:"void",params:[],signature:[],return:"",vars:{},calls:[],post:[],chain:{}}}function h(C,H){return`#define ${C} ${H}`}function k(C,H,I,K,O){return`${C} ${H}(${I}) {\n${K}${O}}`}function g(C,H,I){C=C?`${C} = `:"";I=c(I);return`  ${C}${H}(${I})`}function r(C,H){for(let I=
0;I<C.length;I++){const K=C[I],O=H[I];if(!O||K.type!==O.type||K.name===B.RETURN_ARG!==(O.name===B.RETURN_ARG))return!1}return!0}function u(C,H,I,K,O){const Q=[];let W="";for(let X of Array.from(K)){var R=void 0;const {name:ca}=X;let ka=K=C(ca),la=null,Aa=null,ta=!1;const Ha=ca===B.RETURN_ARG;if(R=null!=X.meta?X.meta.shadowed:void 0)if(la=C(R))O.vars[la]="  "+X.param(la),O.calls.push(`  ${la} = ${K}`),H(R)?Aa={shadowed:la}:X=X.split();if(R=null!=X.meta?X.meta.shadow:void 0)if(la=C(R))if(H(R))continue;
else X=X.split(),ta=!0;Ha?W=K:ta||Q.push(null!=la?la:K);H(ca)?(R="push",Ha?""===O.return?(R="unshift",ka=ca,O.type=X.spec,O.return=`  return ${K}`,O.vars[K]="  "+X.param(K)):(O.vars[K]="  "+X.param(K),O.params.push(X.param(K,!0))):O.params.push(X.param(K,!0)),X=X.copy(ka,Aa),O.signature[R](X)):O.vars[K]="  "+X.param(K)}return O.calls.push(g(W,I,Q))}function w(C,H){const {entry:I}=C;var K=null;H&&1===H.length&&"main"!==I&&(H=H[0].module,r(C.signature,H.main.signature)&&(K=h(I,H.entry)));if(null==K){H=
[];for(var O in C.vars)H.push(C.vars[O]);O=H;({calls:H}=C);({post:K}=C);let {params:Q}=C;const {type:W}=C,R=C.return;H=H.concat(K);""!==R&&H.push(R);H.push("");O.length?(O.push(""),O=e(O)+"\n"):O="";H=e(H);Q=c(Q);K=k(W,I,Q,O,H)}return{signature:C.signature,code:K,name:I}}Object.defineProperty(m,"__esModule",{value:!0});m.unshadow=function(C){const H=C.replace(B.SHADOW_ARG,"");return H!==C?H:null};m.lines=n;m.list=c;m.statements=e;m.body=f;m.define=h;m.fn=k;m.invoke=g;m.same=r;m.call=u;m.build=w;m.links=
function(C){const H={defs:[],bodies:[]};for(const I of Array.from(C))E(I,H);H.defs=n(H.defs);H.bodies=e(H.bodies);""===H.defs&&delete H.defs;""===H.bodies&&delete H.bodies;return H};m.defuse=function(C){const H=/([A-Za-z0-9_]+\s+)?[A-Za-z0-9_]+\s+[A-Za-z0-9_]+\s*\([^)]*\)\s*;\s*/gm,I=W=>W.replace(H,R=>"");C=C.split(/(?=[{}])/g);let K=0;for(let W=0;W<C.length;W++){var O=C[W];switch(O[0]){case "{":K++;break;case "}":K--}if(0===K){O=O.split(/^[ \t]*#/m);for(let R=0;R<O.length;R++){var Q=O[R];if(0<R){Q=
Q.split(/\n/);const X=Q.shift();Q=Q.join("\n");O[R]=[X,I(Q)].join("\n")}else O[R]=I(Q)}C[W]=O.join("#")}}return C=C.join("")};m.dedupe=function(C){const H={};return C.replace(/((attribute|uniform|varying)\s+)[A-Za-z0-9_]+\s+([A-Za-z0-9_]+)\s*(\[[^\]]*\]\s*)?;\s*/gm,function(I,K,O,Q,W){if(H[Q])return"";H[Q]=!0;return I})};m.hoist=function(C){const H=function(I,K){const O=[],Q=[];for(const W of Array.from(I))(W.match(K)?O:Q).push(W);return O.concat(Q)};C=C.split("\n");C=H(C,/^#define ([^ ]+ _pg_[0-9]+_|_pg_[0-9]+_ [^ ]+)$/);
C=H(C,/^#extension/);return C.join("\n")};m.link=void 0;var x=p(v(468)),B=p(v(512));const E=(C,H)=>{const {module:I,name:K,external:O}=C;var {main:Q}=I;({entry:C}=I);if(r(Q.signature,O.signature))return H.defs.push(h(K,C));var W=[],R=[];let X={};const ca=[I.namespace,B.RETURN_ARG].join("");for(la of Array.from(O.signature)){var ka=la.inout===x.IN?W:R;ka.push(la)}for(la of Array.from(Q.signature))ka=la.inout===x.IN?W:R,ka=ka.shift().name,ka===B.RETURN_ARG&&(ka=ca),X[la.name]=ka;var la=Aa=>X[Aa];W=
()=>!0;R=f();u(la,W,C,Q.signature,R);R.entry=C;X={return:ca};la=Aa=>null!=X[Aa]?X[Aa]:Aa;Q=f();u(la,W,C,O.signature,Q);Q.calls=R.calls;Q.entry=K;H.bodies.push(w(R).code.split(" {")[0]);return H.bodies.push(w(Q).code)};m.link=E};
shadow$provide[515]=function(z,v,J,m){Object.defineProperty(m,"__esModule",{value:!0});var t=v(492);Object.keys(t).forEach(function(e){"default"!==e&&"__esModule"!==e&&(e in m&&m[e]===t[e]||Object.defineProperty(m,e,{enumerable:!0,get:function(){return t[e]}}))});var p=v(513);Object.keys(p).forEach(function(e){"default"!==e&&"__esModule"!==e&&(e in m&&m[e]===p[e]||Object.defineProperty(m,e,{enumerable:!0,get:function(){return p[e]}}))});var n=v(514);Object.keys(n).forEach(function(e){"default"!==
e&&"__esModule"!==e&&(e in m&&m[e]===n[e]||Object.defineProperty(m,e,{enumerable:!0,get:function(){return n[e]}}))});var c=v(512);Object.keys(c).forEach(function(e){"default"!==e&&"__esModule"!==e&&(e in m&&m[e]===c[e]||Object.defineProperty(m,e,{enumerable:!0,get:function(){return c[e]}}))})};
shadow$provide[516]=function(z,v,J,m){function t(x){if("function"!==typeof WeakMap)return null;var B=new WeakMap,E=new WeakMap;return(t=function(C){return C?E:B})(x)}function p(x,B){if(!B&&x&&x.__esModule)return x;if(null===x||"object"!==typeof x&&"function"!==typeof x)return{default:x};if((B=t(B))&&B.has(x))return B.get(x);var E={},C=Object.defineProperty&&Object.getOwnPropertyDescriptor,H;for(H in x)if("default"!==H&&Object.prototype.hasOwnProperty.call(x,H)){var I=C?Object.getOwnPropertyDescriptor(x,
H):null;I&&(I.get||I.set)?Object.defineProperty(E,H,I):E[H]=x[H]}E.default=x;B&&B.set(x,E);return E}Object.defineProperty(m,"__esModule",{value:!0});m.load=function(x,B={}){return new w(x,B)};m.ShaderGraph=m.inspect=m.visualize=void 0;z=v(481);var n=p(v(491)),c=p(v(515));J=p(v(468));var e=p(v(475));v=p(v(485));const {library:f,cache:h}=n,{visualize:k,inspect:g}=v;m.inspect=g;m.visualize=k;const {Snippet:r}=e,u=function(x,B={}){const E={};for(let C in x)E[C]=B[C]||x[C];return E};class w{constructor(x,
B){this.config=u({globalUniforms:!1,globalVaryings:!0,globalAttributes:!0,globals:[],autoInspect:!1},B);this.fetch=h(f(c,x,r.load))}shader(x){null==x&&(x={});x=u(this.config,x);return new n.Factory(c,this.fetch,x)}material(x){return new n.Material(this.shader(x),this.shader(x))}inspect(x){return w.inspect(x)}visualize(x){return w.visualize(x)}static inspect(x){return g(x)}static visualize(x){return k(x)}}m.ShaderGraph=w;w.Block=z.Block;w.Factory=n;w.GLSL=c;w.Graph=J;w.Linker=e;w.Visualize=v};
shadow$provide[517]=function(z,v,J,m){function t(n){if("function"!==typeof WeakMap)return null;var c=new WeakMap,e=new WeakMap;return(t=function(f){return f?e:c})(n)}Object.defineProperty(m,"__esModule",{value:!0});m.Factory=void 0;var p=function(n,c){if(!c&&n&&n.__esModule)return n;if(null===n||"object"!==typeof n&&"function"!==typeof n)return{default:n};if((c=t(c))&&c.has(n))return c.get(n);var e={},f=Object.defineProperty&&Object.getOwnPropertyDescriptor,h;for(h in n)if("default"!==h&&Object.prototype.hasOwnProperty.call(n,
h)){var k=f?Object.getOwnPropertyDescriptor(n,h):null;k&&(k.get||k.set)?Object.defineProperty(e,h,k):e[h]=n[h]}e.default=n;c&&c.set(n,e);return e}(v(516));m.Factory=function(n){return p.load(function(c){var e=n[c];if(null!=e)return e;e=["#",".",":","["].includes(c[0]);e=document.querySelector(e?c:`#${c}`);if(null!=e&&"SCRIPT"===e.tagName)return e.textContent||e.innerText;throw Error(`Unknown shader \`${c}\``);},{autoInspect:!0})}};
shadow$provide[518]=function(z,v,J,m){function t(Ac){return Ac&&Ac.__esModule?Ac:{default:Ac}}Object.defineProperty(m,"__esModule",{value:!0});var p={Snippets:!0};m.Snippets=void 0;var n=t(v(353)),c=t(v(354)),e=t(v(355)),f=t(v(356)),h=t(v(357)),k=t(v(358)),g=t(v(359)),r=t(v(360)),u=t(v(361)),w=t(v(362)),x=t(v(363)),B=t(v(364)),E=t(v(365)),C=t(v(366)),H=t(v(367)),I=t(v(368)),K=t(v(369)),O=t(v(370)),Q=t(v(371)),W=t(v(372)),R=t(v(373)),X=t(v(374)),ca=t(v(375)),ka=t(v(376)),la=t(v(377)),Aa=t(v(378)),
ta=t(v(379)),Ha=t(v(380)),Oa=t(v(381)),da=t(v(382)),Wa=t(v(383)),Pa=t(v(384)),mb=t(v(385)),Cb=t(v(386)),yb=t(v(387)),tb=t(v(388)),Rb=t(v(389)),ac=t(v(390)),Hb=t(v(391)),Jb=t(v(392)),Tb=t(v(393)),dc=t(v(394)),zb=t(v(395)),ib=t(v(396)),Db=t(v(397)),ec=t(v(398)),pa=t(v(399)),Xa=t(v(400)),sb=t(v(401)),Eb=t(v(402)),Sb=t(v(403)),va=t(v(404)),jb=t(v(405)),Wb=t(v(406)),oc=t(v(407)),Hc=t(v(408)),Nc=t(v(409)),gd=t(v(410)),yc=t(v(411)),zc=t(v(412)),hd=t(v(413)),Id=t(v(414)),Jd=t(v(415)),pd=t(v(416)),Xb=t(v(417)),
id=t(v(418)),Kd=t(v(419)),Ld=t(v(420)),qd=t(v(421)),rd=t(v(422)),sd=t(v(423)),Md=t(v(424)),jd=t(v(425)),Nd=t(v(426)),Ca=t(v(427)),td=t(v(428)),Mb=t(v(429)),Zc=t(v(430)),Oc=t(v(431)),$c=t(v(432)),Qa=t(v(433)),jc=t(v(434)),Ta=t(v(435)),wb=t(v(436)),kc=t(v(437)),pc=t(v(438)),Be=t(v(439)),mf=t(v(440)),ad=t(v(441)),nf=t(v(442)),kd=t(v(443)),be=t(v(444)),ce=t(v(445)),de=t(v(446)),Ce=t(v(447)),fb=t(v(448)),of=t(v(449)),pf=t(v(450)),qf=t(v(451)),rf=t(v(452)),sf=t(v(453)),tf=t(v(454)),uf=t(v(455)),vf=t(v(456)),
wf=t(v(457)),De=t(v(458)),Ee=t(v(459)),xf=t(v(460)),yf=t(v(461)),zf=t(v(462)),Af=t(v(463)),Bf=t(v(464)),Od=v(517);Object.keys(Od).forEach(function(Ac){"default"!==Ac&&"__esModule"!==Ac&&(Object.prototype.hasOwnProperty.call(p,Ac)||Ac in m&&m[Ac]===Od[Ac]||Object.defineProperty(m,Ac,{enumerable:!0,get:function(){return Od[Ac]}}))});m.Snippets={"arrow.position":n.default,"axis.position":c.default,"cartesian.position":f.default,"cartesian4.position":e.default,"clamp.position":h.default,"color.opaque":k.default,
"face.position":g.default,"face.position.normal":r.default,"float.encode":u.default,"float.index.pack":w.default,"float.stretch":x.default,"fragment.clip.dashed":B.default,"fragment.clip.dotted":E.default,"fragment.clip.ends":C.default,"fragment.clip.proximity":H.default,"fragment.color":I.default,"fragment.map.rgba":K.default,"fragment.solid":O.default,"fragment.transparent":Q.default,"grid.position":W.default,"grow.position":R.default,"join.position":X.default,"label.alpha":ca.default,"label.map":ka.default,
"label.outline":la.default,"layer.position":Aa.default,"lerp.depth":ta.default,"lerp.height":Ha.default,"lerp.items":Oa.default,"lerp.width":da.default,"line.position":Wa.default,"map.2d.data":Pa.default,"map.2d.data.wrap":mb.default,"map.xyzw.2dv":Cb.default,"map.xyzw.align":yb.default,"map.xyzw.texture":tb.default,"mesh.fragment.color":Rb.default,"mesh.fragment.map":ac.default,"mesh.fragment.mask":Hb.default,"mesh.fragment.material":Jb.default,"mesh.fragment.shaded":Tb.default,"mesh.fragment.texture":dc.default,
"mesh.gamma.in":zb.default,"mesh.gamma.out":ib.default,"mesh.map.uvwo":Db.default,"mesh.position":ec.default,"mesh.vertex.color":pa.default,"mesh.vertex.mask":Xa.default,"mesh.vertex.position":sb.default,"move.position":Eb.default,"object.mask.default":Sb.default,"point.alpha.circle":va.default,"point.alpha.circle.hollow":jb.default,"point.alpha.generic":Wb.default,"point.alpha.generic.hollow":oc.default,"point.edge":Hc.default,"point.fill":Nc.default,"point.mask.circle":gd.default,"point.mask.diamond":yc.default,
"point.mask.down":zc.default,"point.mask.left":hd.default,"point.mask.right":Id.default,"point.mask.square":Jd.default,"point.mask.up":pd.default,"point.position":Xb.default,"point.size.uniform":id.default,"point.size.varying":Kd.default,"polar.position":Ld.default,"project.position":qd.default,"project.readback":rd.default,"raw.position.scale":sd.default,"repeat.position":Md.default,"resample.padding":jd.default,"resample.relative":Nd.default,"reveal.mask":Ca.default,"reverse.position":td.default,
"root.position":Mb.default,"sample.2d":Zc.default,"scale.position":Oc.default,"screen.map.stpq":$c.default,"screen.map.xy":Qa.default,"screen.map.xyzw":jc.default,"screen.pass.uv":Ta.default,"screen.position":wb.default,"slice.position":kc.default,"spherical.position":pc.default,"split.position":Be.default,"spread.position":mf.default,"sprite.fragment":ad.default,"sprite.position":nf.default,"stereographic.position":be.default,"stereographic4.position":kd.default,"stpq.sample.2d":ce.default,"stpq.xyzw.2d":de.default,
"strip.position.normal":Ce.default,"style.color":fb.default,"subdivide.depth":of.default,"subdivide.depth.lerp":pf.default,"subdivide.height":qf.default,"subdivide.height.lerp":rf.default,"subdivide.items":sf.default,"subdivide.items.lerp":tf.default,"subdivide.width":uf.default,"subdivide.width.lerp":vf.default,"surface.mask.hollow":wf.default,"surface.position":De.default,"surface.position.normal":Ee.default,"surface.position.shaded":xf.default,"ticks.position":yf.default,"transform3.position":zf.default,
"transform4.position":Af.default,"view.position":Bf.default}};
shadow$provide[519]=function(z,v,J,m){function t(e){if("function"!==typeof WeakMap)return null;var f=new WeakMap,h=new WeakMap;return(t=function(k){return k?h:f})(e)}Object.defineProperty(m,"__esModule",{value:!0});m.Animator=void 0;var p=function(e,f){if(!f&&e&&e.__esModule)return e;if(null===e||"object"!==typeof e&&"function"!==typeof e)return{default:e};if((f=t(f))&&f.has(e))return f.get(e);var h={},k=Object.defineProperty&&Object.getOwnPropertyDescriptor,g;for(g in e)if("default"!==g&&Object.prototype.hasOwnProperty.call(e,
g)){var r=k?Object.getOwnPropertyDescriptor(e,g):null;r&&(r.get||r.set)?Object.defineProperty(h,g,r):h[g]=e[g]}h.default=e;f&&f.set(e,h);return h}(v(284));class n{constructor(e){this.context=e;this.anims=[]}make(e,f){e=new c(this,this.context.time,e,f);this.anims.push(e);return e}unmake(e){return this.anims=Array.from(this.anims).filter(f=>f!==e)}update(){const {time:e}=this.context;return this.anims=(()=>{const f=[];for(const h of Array.from(this.anims))!1!==h.update(e)&&f.push(h);return f})()}lerp(e,
f,h,k,g){null==g&&(g=e.make());if(e.lerp)g=e.lerp(f,h,g,k);else{if(e.emitter){g=f.emitterFrom;const r=h.emitterTo;if(null!=g&&null!=r&&g===r)return g.lerp(k),g;e=e.emitter(f,h);f.emitterFrom=e;h.emitterTo=e;e.lerp(k);return e}g=e.op?e.op(f,h,g,function(r,u){return r===+r&&u===+u?r+(u-r)*k:.5<k?u:r}):.5<k?h:f}return g}}m.Animator=n;class c{constructor(e,f,h,k){this.animator=e;this.time=f;this.type=h;this.options=k;this.value=this.type.make();this.target=this.type.make();this.queue=[]}dispose(){return this.animator.unmake(this)}set(){let {target:e}=
this,f=1<arguments.length?[].slice.call(arguments):arguments[0],h=!1;f=this.type.validate(f,e,()=>h=!0);h||(e=f);this.cancel();this.target=this.value;this.value=e;return this.notify()}getTime(){var {clock:e}=this.options;e=e?e.getTime():this.time;return this.options.realtime?e.time:e.clock}cancel(e){let f;null==e&&(e=this.getTime());const {queue:h}=this,k=(()=>{const g=[];for(f of Array.from(h))f.end>=e&&g.push(f);return g})();this.queue=(()=>{const g=[];for(f of Array.from(h))f.end<e&&g.push(f);
return g})();for(f of Array.from(k))"function"===typeof f.complete&&f.complete(!1);"function"===typeof this.options.complete&&this.options.complete(!1)}notify(){return"function"===typeof this.options.step?this.options.step(this.value):void 0}immediate(e,f){const {duration:h,delay:k,ease:g,step:r,complete:u}=f;f=this.getTime()+k;const w=f+h;let x=!1,B=this.type.make();e=this.type.validate(e,B,function(){x=!0;return null});void 0===e||x||(B=e);this.cancel(f);return this.queue.push({from:null,to:B,start:f,
end:w,ease:g,step:r,complete:u})}update(e){this.time=e;if(0===this.queue.length)return!0;e=this.getTime();let {value:f}=this;const {queue:h}=this;for(var k=!1;!k;){var g=h[0];let {from:r}=g;const {to:u,start:w,end:x,step:B,complete:E,ease:C}=g;null==r&&(r=g.from=this.type.clone(this.value));g=p.clamp((e-w)/Math.max(1E-5,x-w)||0,0,1);if(0===g)return;k=(()=>{switch(C){case "linear":case 0:return null;case "cosine":case 1:return p.cosine;case "binary":case 2:return p.binary;case "hold":case 3:return p.hold;
default:return p.cosine}})();null!=k&&(g=k(g));f=(k=1>g)?this.animator.lerp(this.type,r,u,g,f):u;"function"===typeof B&&B(f);if(!k&&("function"===typeof E&&E(!0),"function"===typeof this.options.complete&&this.options.complete(!0),h.shift(),0===h.length))break}this.value=f;return this.notify()}}};
shadow$provide[520]=function(z,v,J,m){function t(h){if("function"!==typeof WeakMap)return null;var k=new WeakMap,g=new WeakMap;return(t=function(r){return r?g:k})(h)}function p(h,k){if(!k&&h&&h.__esModule)return h;if(null===h||"object"!==typeof h&&"function"!==typeof h)return{default:h};if((k=t(k))&&k.has(h))return k.get(h);var g={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor,u;for(u in h)if("default"!==u&&Object.prototype.hasOwnProperty.call(h,u)){var w=r?Object.getOwnPropertyDescriptor(h,
u):null;w&&(w.get||w.set)?Object.defineProperty(g,u,w):g[u]=h[u]}g.default=h;k&&k.set(h,g);return g}function n(h,k,g){const r=[],u=h<k;for(k=g?u?k+1:k-1:k;u?h<k:h>k;u?h++:h--)r.push(h);return r}Object.defineProperty(m,"__esModule",{value:!0});m.API=void 0;var c=p(v(35)),e=p(v(516));class f{v2(){return this}constructor(h,k,g){this._context=h;this._up=k;this._targets=g;h=this._context.controller.getRoot();null==this._targets&&(this._targets=[h]);this.isRoot=1===this._targets.length&&this._targets[0]===
h;this.isLeaf=1===this._targets.length&&null==this._targets[0].children;for(h=0;h<this._targets.length;h++)this[h]=this._targets[h];this.length=this._targets.length;for(const r of Array.from(this._context.controller.getTypes()))["root"].includes(r)||(this[r]=(u,w)=>this.add(r,u,w))}select(h){h=this._context.model.select(h,this.isRoot?null:this._targets);return this._push(h)}eq(h){return this._targets.length>h?this._push([this._targets[h]]):this._push([])}filter(h){if("string"===typeof h){const k=
this._context.model._matcher(h);h=g=>k(g)}return this._push(this._targets.filter(h))}map(h){return n(0,this.length,!1).map(k=>h(this[k],k,this))}each(h){for(let k=0,g=this.length,r=0<=g;r?k<g:k>g;r?k++:k--)h(this[k],k,this);return this}add(h,k,g){const {controller:r}=this._context;if(this.isLeaf)return this._pop().add(h,k,g);const u=[];for(const w of this._targets){const x=r.make(h,k,g);r.add(x,w);u.push(x)}return this._push(u)}remove(h){if(h)return this.select(h).remove();for(const k of Array.from(this._targets.slice().reverse()))this._context.controller.remove(k);
return this._pop()}set(h,k){for(const g of Array.from(this._targets))this._context.controller.set(g,h,k);return this}getAll(h){return Array.from(this._targets).map(k=>this._context.controller.get(k,h))}get(h){return null!=this._targets[0]?this._targets[0].get(h):void 0}evaluate(h,k){return null!=this._targets[0]?this._targets[0].evaluate(h,k):void 0}bind(h,k){for(const g of Array.from(this._targets))this._context.controller.bind(g,h,k);return this}unbind(h){for(const k of Array.from(this._targets))this._context.controller.unbind(k,
h);return this}end(){return(this.isLeaf?this._pop():this)._pop()}_push(h){return new f(this._context,this,h)}_pop(){return null!=this._up?this._up:this}_reset(){let h;return null!=(h=null!=this._up?this._up.reset():void 0)?h:this}map(h){return this._targets.map(h)}on(){const h=arguments;this._targets.map(k=>k.on.apply(k,h));return this}off(){const h=arguments;this._targets.map(k=>k.off.apply(k,h));return this}toString(){const h=this._targets.map(k=>k.toString());return 1<this._targets.length?`[${h.join(", ")}]`:
h[0]}toMarkup(){return this._targets.map(h=>h.toMarkup()).join("\n\n")}print(){c.print(this._targets.map(h=>h.toMarkup()).join("\n\n"));return this}debug(){var h=this.inspect();console.log("Renderables: ",h.renderables);console.log("Renders: ",h.renders);console.log("Shaders: ",h.shaders);const k=[];for(const g of Array.from(h.shaders))h=g.owner.constructor.name,k.push(`${h} - Vertex`),k.push(g.vertex),k.push(`${h} - Fragment`),k.push(g.fragment);return e.inspect(k)}inspect(h,k,g){let r;"boolean"===
typeof k&&(g=k,k=null);null==g&&(g=!0);const u=r=function(B,E){null==E&&(E=[]);k&&!B.traits.hash[k]||E.push(null!=(null!=B.controller?B.controller.objects:void 0)?null!=B.controller?B.controller.objects:void 0:[]);if(null!=B.children)for(const C of Array.from(B.children))r(C,E);return E},w=function(B){B=B.reduce((E,C)=>E.concat(C),[]);return B=B.filter((E,C)=>null!=E&&B.indexOf(E)===C)},x={nodes:this._targets.slice(),renderables:[],renders:[],shaders:[]};for(const B of Array.from(this._targets)){let E;
g&&B.print(h,"info");const C={renderables:E=w(u(B)),renders:w(E.map(H=>H.renders)),shaders:w(E.map(H=>null!=H.renders?H.renders.map(I=>{const K={};K.owner=H;K.geometry=I.geometry;K.material=I.material;K.vertex=I.userData.vertexGraph;K.fragment=I.userData.fragmentGraph;return K}):void 0))};for(const H in C)x[H]=x[H].concat(C[H])}return x}}m.API=f};
shadow$provide[521]=function(z,v,J,m){Object.defineProperty(m,"__esModule",{value:!0});m.Controller=void 0;class t{constructor(p,n){this.model=p;this.primitives=n}getRoot(){return this.model.getRoot()}getTypes(){return this.primitives.getTypes()}make(p,n,c){return this.primitives.make(p,n,c)}get(p,n){return p.get(n)}set(p,n,c){try{return p.set(n,c)}catch(e){return p.print(null,"warn"),console.error(e)}}bind(p,n,c){try{return p.bind(n,c)}catch(e){return p.print(null,"warn"),console.error(e)}}unbind(p,
n){try{return p.unbind(n)}catch(c){return p.print(null,"warn"),console.error(c)}}add(p,n){null==n&&(n=this.model.getRoot());return n.add(p)}remove(p){const n=p.parent;if(n)return n.remove(p)}}m.Controller=t};
shadow$provide[522]=function(z,v,J,m){Object.defineProperty(m,"__esModule",{value:!0});var t=v(519);Object.keys(t).forEach(function(c){"default"!==c&&"__esModule"!==c&&(c in m&&m[c]===t[c]||Object.defineProperty(m,c,{enumerable:!0,get:function(){return t[c]}}))});var p=v(520);Object.keys(p).forEach(function(c){"default"!==c&&"__esModule"!==c&&(c in m&&m[c]===p[c]||Object.defineProperty(m,c,{enumerable:!0,get:function(){return p[c]}}))});var n=v(521);Object.keys(n).forEach(function(c){"default"!==
c&&"__esModule"!==c&&(c in m&&m[c]===n[c]||Object.defineProperty(m,c,{enumerable:!0,get:function(){return n[c]}}))})};
shadow$provide[523]=function(z,v,J,m){function t(g){if("function"!==typeof WeakMap)return null;var r=new WeakMap,u=new WeakMap;return(t=function(w){return w?u:r})(g)}function p(g,r){if(!r&&g&&g.__esModule)return g;if(null===g||"object"!==typeof g&&"function"!==typeof g)return{default:g};if((r=t(r))&&r.has(g))return r.get(g);var u={},w=Object.defineProperty&&Object.getOwnPropertyDescriptor,x;for(x in g)if("default"!==x&&Object.prototype.hasOwnProperty.call(g,x)){var B=w?Object.getOwnPropertyDescriptor(g,
x):null;B&&(B.get||B.set)?Object.defineProperty(u,x,B):u[x]=g[x]}u.default=g;r&&r.set(g,u);return u}Object.defineProperty(m,"__esModule",{value:!0});m.VDOM=m.Ticks=m.Three=m.Pretty=m.JS=m.GLSL=m.Ease=m.Data=m.Axis=void 0;z=p(v(232));J=p(v(99));var n=p(v(284)),c=p(v(100)),e=p(v(235)),f=p(v(35)),h=p(v(96)),k=p(v(309));v=p(v(84));m.Axis=z;m.Data=J;m.Ease=n;m.GLSL=c;m.JS=e;m.Pretty=f;m.Three=h;m.Ticks=k;m.VDOM=v};
shadow$provide[524]=function(z,v,J,m){function t(w){if("function"!==typeof WeakMap)return null;var x=new WeakMap,B=new WeakMap;return(t=function(E){return E?B:x})(w)}function p(w,x){if(!x&&w&&w.__esModule)return w;if(null===w||"object"!==typeof w&&"function"!==typeof w)return{default:w};if((x=t(x))&&x.has(w))return x.get(w);var B={},E=Object.defineProperty&&Object.getOwnPropertyDescriptor,C;for(C in w)if("default"!==C&&Object.prototype.hasOwnProperty.call(w,C)){var H=E?Object.getOwnPropertyDescriptor(w,
C):null;H&&(H.get||H.set)?Object.defineProperty(B,C,H):B[C]=w[C]}B.default=w;x&&x.set(w,B);return B}Object.defineProperty(m,"__esModule",{value:!0});m.Context=void 0;var n=p(v(82)),c=p(v(88)),e=p(v(313)),f=p(v(352)),h=p(v(518)),k=p(v(522)),g=p(v(523)),r=v(2);class u{static initClass(){this.Namespace={Model:n,Overlay:c,Primitives:e,Render:f,Shaders:h,Stage:k,Util:g,DOM:g.VDOM};this.Version="2.3.1"}constructor(w,x=null,B=null){let E;this.canvas=E=w.domElement;this.element=null;this.shaders=h.Factory(h.Snippets);
this.renderables=new f.Factory(f.Classes,w,this.shaders);this.overlays=new c.Factory(c.Classes,E);this.scene=this.renderables.make("scene",{scene:x});this.camera=this.defaultCamera=null!=B?B:new r.PerspectiveCamera;this.attributes=new n.Attributes(e.Types,this);this.primitives=new e.Factory(e.Types,this);this.root=this.primitives.make("root");this.model=new n.Model(this.root);this.guard=new n.Guard;this.controller=new k.Controller(this.model,this.primitives);this.animator=new k.Animator(this);this.api=
new k.API(this);this.speed=1;this.time={now:+new Date/1E3,time:0,delta:0,clock:0,step:0}}init(){this.scene.inject();this.overlays.inject();return this}destroy(){this.scene.unject();this.overlays.unject();return this}resize(w){null==w&&(w={});null==w.renderWidth&&(w.renderWidth=null!=w.viewWidth?w.viewWidth:w.viewWidth=1280);null==w.renderHeight&&(w.renderHeight=null!=w.viewHeight?w.viewHeight:w.viewHeight=720);null==w.pixelRatio&&(w.pixelRatio=w.renderWidth/Math.max(1E-6,w.viewWidth));null==w.aspect&&
(w.aspect=w.viewWidth/Math.max(1E-6,w.viewHeight));this.root.controller.resize(w);return this}frame(w){this.pre(w);this.update();this.render();this.post();return this}pre(w){w||(w={now:+new Date/1E3,time:0,delta:0,clock:0,step:0},w.delta=null!=this.time.now?w.now-this.time.now:0,1<w.delta&&(w.delta=1/60),w.step=w.delta*this.speed,w.time=this.time.time+w.delta,w.clock=this.time.clock+w.step);this.time=w;"function"===typeof this.root.controller.pre&&this.root.controller.pre();return this}update(){this.animator.update();
this.attributes.compute();this.guard.iterate({step:()=>this.attributes.digest()||this.model.digest(),last(){return{attribute:this.attributes.getLastTrigger(),model:this.model.getLastTrigger()}}});"function"===typeof this.root.controller.update&&this.root.controller.update();this.camera=this.root.controller.getCamera();this.speed=this.root.controller.getSpeed();return this}render(){"function"===typeof this.root.controller.render&&this.root.controller.render();this.scene.render();return this}post(){"function"===
typeof this.root.controller.post&&this.root.controller.post();return this}setWarmup(w){this.scene.warmup(w);return this}getPending(){return this.scene.pending.length}}m.Context=u;u.initClass()};
shadow$provide[525]=function(z,v,J,m){function t(w){if("function"!==typeof WeakMap)return null;var x=new WeakMap,B=new WeakMap;return(t=function(E){return E?B:x})(w)}function p(w,x){if(!x&&w&&w.__esModule)return w;if(null===w||"object"!==typeof w&&"function"!==typeof w)return{default:w};if((x=t(x))&&x.has(w))return x.get(w);var B={},E=Object.defineProperty&&Object.getOwnPropertyDescriptor,C;for(C in w)if("default"!==C&&Object.prototype.hasOwnProperty.call(w,C)){var H=E?Object.getOwnPropertyDescriptor(w,
C):null;H&&(H.get||H.set)?Object.defineProperty(B,C,H):B[C]=w[C]}B.default=w;x&&x.set(w,B);return B}Object.defineProperty(m,"__esModule",{value:!0});m.mathBox=m.DOM=m.Util=m.Stage=m.Shaders=m.Render=m.Primitives=m.Overlay=m.Model=m.version=m.Context=m.e=m.\u03c4=m.\u03c0=void 0;v(6);v(33);z=p(v(82));J=p(v(88));var n=p(v(313)),c=p(v(352)),e=p(v(518)),f=p(v(522)),h=p(v(523)),k=v(5);v=v(524);const g=Math.PI;m.\u03c0=g;m.\u03c4=2*g;m.e=Math.E;const r=v.Context;m.Context=r;const u=v.Context.Version;m.version=
u;m.Model=z;m.Overlay=J;m.Primitives=n;m.Render=c;m.Shaders=e;m.Stage=f;m.Util=h;m.DOM=h.VDOM;m.mathBox=function(w){w=new k.Bootstrap(w);w.fallback||(w.Time||w.install("time"),w.MathBox||w.install(["mathbox","splash"]));return null!=w.mathbox?w.mathbox:w};k.Bootstrap.registerPlugin("mathbox",{defaults:{init:!0,warmup:2,inspect:!0,splash:!0},listen:["ready","pre","update","post","resize"],install(w){let x=!1;this.first=!0;return w.MathBox={init:B=>{x||(x=!0,this.context=new r(w.renderer,(null!=B?B.scene:
void 0)||this.options.scene||w.scene,(null!=B?B.camera:void 0)||this.options.camera||w.camera),this.context.api.three=w.three=w,this.context.api.mathbox=w.mathbox=this.context.api,this.context.api.start=()=>w.Loop.start(),this.context.api.stop=()=>w.Loop.stop(),this.context.init(),this.context.resize(w.Size),this.context.setWarmup(this.options.warmup),this.pending=0,this.warm=!this.options.warmup,console.log("MathBox",u),w.trigger({type:"mathbox/init",version:u,context:this.context}))},destroy:()=>
{x&&(x=!1,w.trigger({type:"mathbox/destroy",context:this.context}),this.context.destroy(),delete w.mathbox,delete this.context.api.three,delete this.context)},object:()=>null!=this.context?this.context.scene.root:void 0}},uninstall(w){w.MathBox.destroy();delete w.MathBox},ready(w,x){if(this.options.init)return x.MathBox.init(),setTimeout(()=>{if(this.options.inspect&&x.MathBox)return this.inspect(x)})},inspect(w){this.context.api.inspect();if(!this.options.warmup)return this.info(w)},info(w){const x=
function(B){const E=[];for(;1E3<=B;)E.unshift(("000"+B%1E3).slice(-3)),B=Math.floor(B/1E3);E.unshift(B);return E.join(",")};w=w.renderer.info.render;console.log("Geometry  ",x(w.triangles)+" triangles  ",x(w.points)+" points  ",x(w.lines)+" lines  ",x(w.calls)+" draw calls  ")},resize(w,x){return null!=this.context?this.context.resize(x.Size):void 0},pre(w,x){return null!=this.context?this.context.pre(x.Time):void 0},update(w,x){let B;null!=this.context&&this.context.update();(B=null!=this.context?
this.context.camera:void 0)&&B!==x.camera&&(x.camera=B);x.Time.set({speed:this.context.speed});this.progress(this.context.getPending(),x);return null!=this.context?this.context.render():void 0},post(w,x){return null!=this.context?this.context.post():void 0},progress(w,x){if(w||this.pending){var B=Math.max(w+this.options.warmup,this.pending),E=B-w,C=B;x.trigger({type:"mathbox/progress",current:B-w,total:B});0===w&&(B=0);this.pending=B;E!==C||this.warm||(this.warm=!0,this.options.inspect&&this.info(x))}}})};
shadow$provide[526]=function(z,v,J,m){function t(ea,qa){var Fa={},Ya;for(Ya in ea)Object.prototype.hasOwnProperty.call(ea,Ya)&&0>qa.indexOf(Ya)&&(Fa[Ya]=ea[Ya]);if(null!=ea&&"function"==typeof Object.getOwnPropertySymbols){var za=0;for(Ya=Object.getOwnPropertySymbols(ea);za<Ya.length;za++)0>qa.indexOf(Ya[za])&&Object.prototype.propertyIsEnumerable.call(ea,Ya[za])&&(Fa[Ya[za]]=ea[Ya[za]])}return Fa}function p(ea){var qa=-1,Fa=null==ea?0:ea.length;for(this.clear();++qa<Fa;){var Ya=ea[qa];this.set(Ya[0],
Ya[1])}}function n(ea){var qa=-1,Fa=null==ea?0:ea.length;for(this.clear();++qa<Fa;){var Ya=ea[qa];this.set(Ya[0],Ya[1])}}function c(ea){var qa=-1,Fa=null==ea?0:ea.length;for(this.clear();++qa<Fa;){var Ya=ea[qa];this.set(Ya[0],Ya[1])}}function e(ea){this.size=(this.__data__=new Jb(ea)).size}function f(ea){var qa=-1,Fa=null==ea?0:ea.length;for(this.__data__=new Tb;++qa<Fa;)this.add(ea[qa])}var h=v(1),k=v(2),g=v(525),r=function(){return r=Object.assign||function(ea){for(var qa,Fa=1,Ya=arguments.length;Fa<
Ya;Fa++)for(var za in qa=arguments[Fa])Object.prototype.hasOwnProperty.call(qa,za)&&(ea[za]=qa[za]);return ea},r.apply(this,arguments)},u=h.createContext(null),w="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof z?z:"undefined"!=typeof self?self:{},x=function(ea,qa){return ea===qa||ea!=ea&&qa!=qa},B=function(ea,qa){for(var Fa=ea.length;Fa--;)if(x(ea[Fa][0],qa))return Fa;return-1},E=Array.prototype.splice;p.prototype.clear=function(){this.__data__=[];this.size=
0};p.prototype.delete=function(ea){var qa=this.__data__;ea=B(qa,ea);return!(0>ea)&&(ea==qa.length-1?qa.pop():E.call(qa,ea,1),--this.size,!0)};p.prototype.get=function(ea){var qa=this.__data__;ea=B(qa,ea);return 0>ea?void 0:qa[ea][1]};p.prototype.has=function(ea){return-1<B(this.__data__,ea)};p.prototype.set=function(ea,qa){var Fa=this.__data__,Ya=B(Fa,ea);return 0>Ya?(++this.size,Fa.push([ea,qa])):Fa[Ya][1]=qa,this};var C="object"==typeof w&&w&&w.Object===Object&&w,H="object"==typeof self&&self&&
self.Object===Object&&self,I=C||H||Function("return this")(),K=I.Symbol,O=Object.prototype,Q=O.hasOwnProperty,W=O.toString,R=K?K.toStringTag:void 0,X=Object.prototype.toString,ca=K?K.toStringTag:void 0,ka=function(ea){if(null==ea)ea=void 0===ea?"[object Undefined]":"[object Null]";else if(ca&&ca in Object(ea)){var qa=Q.call(ea,R),Fa=ea[R];try{ea[R]=void 0;var Ya=!0}catch(hb){}var za=W.call(ea);ea=(Ya&&(qa?ea[R]=Fa:delete ea[R]),za)}else ea=X.call(ea);return ea},la=function(ea){var qa=typeof ea;return null!=
ea&&("object"==qa||"function"==qa)},Aa,ta=function(ea){if(!la(ea))return!1;ea=ka(ea);return"[object Function]"==ea||"[object GeneratorFunction]"==ea||"[object AsyncFunction]"==ea||"[object Proxy]"==ea},Ha=I["__core-js_shared__"],Oa=(Aa=/[^.]+$/.exec(Ha&&Ha.keys&&Ha.keys.IE_PROTO||""))?"Symbol(src)_1."+Aa:"",da=Function.prototype.toString,Wa=function(ea){if(null!=ea){try{return da.call(ea)}catch(qa){}return ea+""}return""},Pa=/^\[object .+?Constructor\]$/,mb=RegExp("^"+Function.prototype.toString.call(Object.prototype.hasOwnProperty).replace(/[\\^$.*+?()[\]{}|]/g,
"\\$\x26").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Cb=function(ea,qa){ea=null==ea?void 0:ea[qa];return!la(ea)||Oa&&Oa in ea||!(ta(ea)?mb:Pa).test(Wa(ea))?void 0:ea},yb=Cb(I,"Map"),tb=Cb(Object,"create"),Rb=Object.prototype.hasOwnProperty,ac=Object.prototype.hasOwnProperty;n.prototype.clear=function(){this.__data__=tb?tb(null):{};this.size=0};n.prototype.delete=function(ea){ea=this.has(ea)&&delete this.__data__[ea];return this.size-=ea?1:0,ea};n.prototype.get=
function(ea){var qa=this.__data__;return tb?(ea=qa[ea],"__lodash_hash_undefined__"===ea?void 0:ea):Rb.call(qa,ea)?qa[ea]:void 0};n.prototype.has=function(ea){var qa=this.__data__;return tb?void 0!==qa[ea]:ac.call(qa,ea)};n.prototype.set=function(ea,qa){var Fa=this.__data__;return this.size+=this.has(ea)?0:1,Fa[ea]=tb&&void 0===qa?"__lodash_hash_undefined__":qa,this};var Hb=function(ea,qa){ea=ea.__data__;var Fa=typeof qa;return("string"==Fa||"number"==Fa||"symbol"==Fa||"boolean"==Fa?"__proto__"!==
qa:null===qa)?ea["string"==typeof qa?"string":"hash"]:ea.map};c.prototype.clear=function(){this.size=0;this.__data__={hash:new n,map:new (yb||p),string:new n}};c.prototype.delete=function(ea){ea=Hb(this,ea).delete(ea);return this.size-=ea?1:0,ea};c.prototype.get=function(ea){return Hb(this,ea).get(ea)};c.prototype.has=function(ea){return Hb(this,ea).has(ea)};c.prototype.set=function(ea,qa){var Fa=Hb(this,ea),Ya=Fa.size;return Fa.set(ea,qa),this.size+=Fa.size==Ya?0:1,this};var Jb=p;e.prototype.clear=
function(){this.__data__=new p;this.size=0};e.prototype.delete=function(ea){var qa=this.__data__;ea=qa.delete(ea);return this.size=qa.size,ea};e.prototype.get=function(ea){return this.__data__.get(ea)};e.prototype.has=function(ea){return this.__data__.has(ea)};e.prototype.set=function(ea,qa){var Fa=this.__data__;if(Fa instanceof p){var Ya=Fa.__data__;if(!yb||199>Ya.length)return Ya.push([ea,qa]),this.size=++Fa.size,this;Fa=this.__data__=new c(Ya)}return Fa.set(ea,qa),this.size=Fa.size,this};var Tb=
c;f.prototype.add=f.prototype.push=function(ea){return this.__data__.set(ea,"__lodash_hash_undefined__"),this};f.prototype.has=function(ea){return this.__data__.has(ea)};var dc=function(ea,qa){for(var Fa=-1,Ya=null==ea?0:ea.length;++Fa<Ya;)if(qa(ea[Fa],Fa,ea))return!0;return!1},zb=function(ea,qa,Fa,Ya,za,hb){var Ob=1&Fa,xb=ea.length,lb=qa.length;if(xb!=lb&&!(Ob&&lb>xb))return!1;lb=hb.get(ea);var aa=hb.get(qa);if(lb&&aa)return lb==qa&&aa==ea;lb=-1;aa=!0;var Yb=2&Fa?new f:void 0;hb.set(ea,qa);for(hb.set(qa,
ea);++lb<xb;){var Pb=ea[lb],ic=qa[lb];if(Ya)var Zb=Ob?Ya(ic,Pb,lb,qa,ea,hb):Ya(Pb,ic,lb,ea,qa,hb);if(void 0!==Zb){if(Zb)continue;aa=!1;break}if(Yb){if(!dc(qa,function(Cc,Rc){if(!Yb.has(Rc)&&(Pb===Cc||za(Pb,Cc,Fa,Ya,hb)))return Yb.push(Rc)})){aa=!1;break}}else if(Pb!==ic&&!za(Pb,ic,Fa,Ya,hb)){aa=!1;break}}return hb.delete(ea),hb.delete(qa),aa},ib=I.Uint8Array,Db=function(ea){var qa=-1,Fa=Array(ea.size);return ea.forEach(function(Ya,za){Fa[++qa]=[za,Ya]}),Fa},ec=function(ea){var qa=-1,Fa=Array(ea.size);
return ea.forEach(function(Ya){Fa[++qa]=Ya}),Fa},pa=K?K.prototype:void 0,Xa=pa?pa.valueOf:void 0,sb=Array.isArray,Eb=function(ea,qa){for(var Fa=-1,Ya=null==ea?0:ea.length,za=0,hb=[];++Fa<Ya;){var Ob=ea[Fa];qa(Ob,Fa,ea)&&(hb[za++]=Ob)}return hb},Sb=function(){return[]},va=Object.prototype.propertyIsEnumerable,jb=Object.getOwnPropertySymbols,Wb=jb?function(ea){return null==ea?[]:(ea=Object(ea),Eb(jb(ea),function(qa){return va.call(ea,qa)}))}:Sb,oc=function(ea){return null!=ea&&"object"==typeof ea},
Hc=function(ea){return oc(ea)&&"[object Arguments]"==ka(ea)},Nc=Object.prototype,gd=Nc.hasOwnProperty,yc=Nc.propertyIsEnumerable,zc=Hc(function(){return arguments}())?Hc:function(ea){return oc(ea)&&gd.call(ea,"callee")&&!yc.call(ea,"callee")},hd={exports:{}},Id=function(){return!1};!function(ea,qa){var Fa=(qa=qa&&!qa.nodeType&&qa)&&ea&&!ea.nodeType&&ea;qa=Fa&&Fa.exports===qa?I.Buffer:void 0;ea.exports=(qa?qa.isBuffer:void 0)||Id}(hd,hd.exports);var Jd=/^(?:0|[1-9]\d*)$/,pd=function(ea){return"number"==
typeof ea&&-1<ea&&0==ea%1&&9007199254740991>=ea},Xb={};Xb["[object Float32Array]"]=Xb["[object Float64Array]"]=Xb["[object Int8Array]"]=Xb["[object Int16Array]"]=Xb["[object Int32Array]"]=Xb["[object Uint8Array]"]=Xb["[object Uint8ClampedArray]"]=Xb["[object Uint16Array]"]=Xb["[object Uint32Array]"]=!0;Xb["[object Arguments]"]=Xb["[object Array]"]=Xb["[object ArrayBuffer]"]=Xb["[object Boolean]"]=Xb["[object DataView]"]=Xb["[object Date]"]=Xb["[object Error]"]=Xb["[object Function]"]=Xb["[object Map]"]=
Xb["[object Number]"]=Xb["[object Object]"]=Xb["[object RegExp]"]=Xb["[object Set]"]=Xb["[object String]"]=Xb["[object WeakMap]"]=!1;var id={exports:{}};!function(ea,qa){var Fa=qa&&!qa.nodeType&&qa;Fa=(qa=Fa&&ea&&!ea.nodeType&&ea)&&qa.exports===Fa&&C.process;a:{try{var Ya=qa&&qa.require&&qa.require("util").types||Fa&&Fa.binding&&Fa.binding("util");break a}catch(za){}Ya=void 0}ea.exports=Ya}(id,id.exports);var Kd=function(ea){return oc(ea)&&pd(ea.length)&&!!Xb[ka(ea)]},Ld=function(ea){return function(qa){return ea(qa)}},
qd=id.exports,rd=qd&&qd.isTypedArray,sd=rd?Ld(rd):Kd,Md=hd.exports,jd=Object.prototype.hasOwnProperty,Nd=Object.prototype,Ca=function(ea,qa){return function(Fa){return ea(qa(Fa))}}(Object.keys,Object),td=Object.prototype.hasOwnProperty,Mb=function(ea,qa,Fa){qa=qa(ea);if(!sb(ea)){ea=Fa(ea);Fa=-1;for(var Ya=ea.length,za=qa.length;++Fa<Ya;)qa[za+Fa]=ea[Fa]}return qa},Zc=function(ea){if(null!=ea&&pd(ea.length)&&!ta(ea)){var qa=sb(ea),Fa=!qa&&zc(ea),Ya=!qa&&!Fa&&Md(ea),za=!qa&&!Fa&&!Ya&&sd(ea);if(qa=qa||
Fa||Ya||za){Fa=ea.length;for(var hb=String,Ob=-1,xb=Array(Fa);++Ob<Fa;)xb[Ob]=hb(Ob);Fa=xb}else Fa=[];hb=Fa.length;for(var lb in ea){if(!(Ob=!jd.call(ea,lb))&&(Ob=qa)&&!(Ob="length"==lb||Ya&&("offset"==lb||"parent"==lb)||za&&("buffer"==lb||"byteLength"==lb||"byteOffset"==lb))){xb=lb;var aa=hb,Yb=typeof xb;Ob=!!(aa=null==aa?9007199254740991:aa)&&("number"==Yb||"symbol"!=Yb&&Jd.test(xb))&&-1<xb&&0==xb%1&&xb<aa}Ob||Fa.push(lb)}ea=Fa}else if(lb=ea&&ea.constructor,ea===("function"==typeof lb&&lb.prototype||
Nd)){lb=[];for(Ya in Object(ea))td.call(ea,Ya)&&"constructor"!=Ya&&lb.push(Ya);ea=lb}else ea=Ca(ea);return ea},Oc=Object.prototype.hasOwnProperty,$c=Cb(I,"DataView"),Qa=Cb(I,"Promise"),jc=Cb(I,"Set"),Ta=Cb(I,"WeakMap"),wb=Wa($c),kc=Wa(yb),pc=Wa(Qa),Be=Wa(jc),mf=Wa(Ta),ad=ka;($c&&"[object DataView]"!=ad(new $c(new ArrayBuffer(1)))||yb&&"[object Map]"!=ad(new yb)||Qa&&"[object Promise]"!=ad(Qa.resolve())||jc&&"[object Set]"!=ad(new jc)||Ta&&"[object WeakMap]"!=ad(new Ta))&&(ad=function(ea){var qa=ka(ea);
if(ea=(ea="[object Object]"==qa?ea.constructor:void 0)?Wa(ea):"")switch(ea){case wb:return"[object DataView]";case kc:return"[object Map]";case pc:return"[object Promise]";case Be:return"[object Set]";case mf:return"[object WeakMap]"}return qa});var nf=function(ea,qa,Fa,Ya,za,hb,Ob){switch(Fa){case "[object DataView]":if(ea.byteLength!=qa.byteLength||ea.byteOffset!=qa.byteOffset)break;ea=ea.buffer;qa=qa.buffer;case "[object ArrayBuffer]":return!(ea.byteLength!=qa.byteLength||!hb(new ib(ea),new ib(qa)));
case "[object Boolean]":case "[object Date]":case "[object Number]":return x(+ea,+qa);case "[object Error]":return ea.name==qa.name&&ea.message==qa.message;case "[object RegExp]":case "[object String]":return ea==qa+"";case "[object Map]":var xb=Db;case "[object Set]":if(xb||(xb=ec),ea.size!=qa.size&&!(1&Ya))break;if(Fa=Ob.get(ea))return Fa==qa;Ya|=2;Ob.set(ea,qa);qa=zb(xb(ea),xb(qa),Ya,za,hb,Ob);return Ob.delete(ea),qa;case "[object Symbol]":if(Xa)return Xa.call(ea)==Xa.call(qa)}return!1},kd=ad,
be=hd.exports,ce=Object.prototype.hasOwnProperty,de=function Ob(qa,Fa,Ya,za,hb){var xb;if(!(xb=qa===Fa)){if(null==qa||null==Fa||!oc(qa)&&!oc(Fa))var lb=qa!=qa&&Fa!=Fa;else a:{xb=sb(qa);var aa=sb(Fa),Yb=xb?"[object Array]":kd(qa),Pb=aa?"[object Array]":kd(Fa),ic="[object Object]"==(Yb="[object Arguments]"==Yb?"[object Object]":Yb);aa="[object Object]"==(Pb="[object Arguments]"==Pb?"[object Object]":Pb);if((Pb=Yb==Pb)&&be(qa)){if(!be(Fa)){lb=!1;break a}xb=!0;ic=!1}if(Pb&&!ic)lb=(hb||(hb=new e),xb||
sd(qa)?zb(qa,Fa,Ya,za,Ob,hb):nf(qa,Fa,Yb,Ya,za,Ob,hb));else{if(!(1&Ya)&&(xb=ic&&ce.call(qa,"__wrapped__"),Yb=aa&&ce.call(Fa,"__wrapped__"),xb||Yb)){qa=xb?qa.value():qa;Fa=Yb?Fa.value():Fa;lb=(hb||(hb=new e),Ob(qa,Fa,Ya,za,hb));break a}if(xb=!!Pb){hb||(hb=new e);b:if(xb=1&Ya,Yb=Mb(qa,Zc,Wb),aa=Yb.length,aa==Mb(Fa,Zc,Wb).length||xb){for(Pb=aa;Pb--;){var Zb=Yb[Pb];if(!(xb?Zb in Fa:Oc.call(Fa,Zb))){Fa=!1;break b}}ic=hb.get(qa);Zb=hb.get(Fa);if(ic&&Zb)Fa=ic==Fa&&Zb==qa;else{ic=!0;hb.set(qa,Fa);hb.set(Fa,
qa);for(var Cc=xb;++Pb<aa;){var Rc=qa[Zb=Yb[Pb]],Oe=Fa[Zb];za&&(lb=xb?za(Oe,Rc,Zb,Fa,qa,hb):za(Rc,Oe,Zb,qa,Fa,hb));if(void 0===lb?Rc!==Oe&&!Ob(Rc,Oe,Ya,za,hb):!lb){ic=!1;break}Cc||(Cc="constructor"==Zb)}ic&&!Cc&&(Ya=qa.constructor,za=Fa.constructor,!(Ya!=za&&"constructor"in qa&&"constructor"in Fa)||"function"==typeof Ya&&Ya instanceof Ya&&"function"==typeof za&&za instanceof za||(ic=!1));Fa=(hb.delete(qa),hb.delete(Fa),ic)}}else Fa=!1;xb=Fa}lb=xb}}xb=lb}return xb},Ce="view cartesian cartesian4 polar spherical stereographic stereographic4 transform transform4 vertex fragment layer mask group inherit root unit rtt clock now move present reveal slide".split(" "),
fb=function(qa){var Fa=Ce.includes(qa),Ya=qa?qa[0].toLocaleUpperCase()+qa.slice(1):"";return h.forwardRef(function(za,hb){var Ob=h.useReducer(function(Zb){return Zb+1},0);Ob[0];var xb=Ob[1],lb=h.useContext(u),aa=h.useRef(null),Yb=h.useRef(void 0);h.useEffect(function(){return function(){aa.current&&(aa.current.remove(),aa.current=null)}},[]);h.useImperativeHandle(hb,function(){return aa.current});za.children;var Pb=za.liveProps,ic=t(za,["children","liveProps"]);if(h.useEffect(function(){lb&&(function(Zb){for(;Zb._up;)Zb=
Zb._up;return void 0===Zb.three}(lb)?xb():(aa.current&&(function(Zb,Cc){var Rc;return(null===(Rc=Zb._up)||void 0===Rc?void 0:Rc[0])===Cc[0]}(aa.current,lb)||(aa.current.remove(),aa.current=null,xb())),aa.current?(Yb.current&&Pb!==Yb.current&&Object.keys(Yb.current).forEach(function(Zb){aa.current.unbind(Zb)}),Pb&&Pb!==Yb.current&&aa.current.bind(Pb),aa.current.set(ic)):(aa.current=lb[qa](ic,Pb),xb()),Yb.current=Pb))},[lb,ic,Pb]),!Fa){if(za.children)throw Error("Component \x3c".concat(Ya," /\x3e cannot have children."));
return null}return h.createElement(u.Provider,{value:aa.current},za.children)})},of=fb("area"),pf=fb("array"),qf=fb("axis"),rf=fb("camera"),sf=fb("cartesian"),tf=fb("cartesian4"),uf=fb("clamp"),vf=fb("clock"),wf=fb("compose"),De=fb("dom"),Ee=fb("face"),xf=fb("format"),yf=fb("fragment"),zf=fb("grid"),Af=fb("group"),Bf=fb("grow"),Od=fb("html"),Ac=fb("inherit"),Fh=fb("interval"),Ih=fb("join"),Jh=fb("label"),pg=fb("layer"),Kh=fb("lerp"),Lh=fb("line"),Mh=fb("mask"),Cf=fb("matrix"),Ie=fb("memo"),tg=fb("move"),
Ff=fb("now"),ug=fb("play"),he=fb("point"),ie=fb("polar"),vg=fb("present"),wd=fb("readback"),ke=fb("repeat"),Uh=fb("resample"),Vh=fb("retext"),Gf=fb("reveal"),Qd=fb("rtt"),hc=fb("scale"),Ke=fb("shader"),xg=fb("slice"),Me=fb("slide"),Le=fb("spherical"),le=fb("split"),yg=fb("spread"),wg=fb("step"),je=fb("stereographic"),Hf=fb("stereographic4"),zg=fb("strip"),Ag=fb("subdivide"),Bg=fb("surface"),Lc=fb("swizzle"),xd=fb("text"),If=fb("ticks"),Cg=fb("transform"),Jf=fb("transform4"),Kf=fb("transpose"),Wh=
fb("unit"),Dg=fb("vector"),Eg=fb("vertex"),Nf=fb("view"),Fg=fb("volume"),mc=fb("voxel"),Uc=h.forwardRef(function(qa,Fa){var Ya,za,hb,Ob=qa.container,xb=qa.children,lb=qa.options,aa=t(qa,["container","children","options"]),Yb=(Ya=null!=lb?lb:{},za={},hb=h.useRef(za),h.useMemo(function(){return de(Ya,hb.current)?hb.current:(hb.current=Ya,Ya)},[Ya]));qa=h.useState(null);var Pb=qa[0],ic=qa[1];return h.useEffect(function(){if(!Ob)return function(){};var Zb=g.mathBox(r(r({},Yb),{element:Ob}));return ic(Zb),
Zb.three.renderer.setClearColor(new k.Color(16777215),1),Zb.three.camera.position.set(1,1,2),function(){Zb.select("*").remove();Zb.three.destroy();ic(null)}},[Ob,Yb]),h.useEffect(function(){Pb&&Pb.set(aa)},[Pb,aa]),h.useImperativeHandle(Fa,function(){return Pb},[Pb]),h.createElement(u.Provider,{value:Pb},xb)}),uc=h.forwardRef(function(qa,Fa){var Ya=qa.children,za=qa.containerId,hb=qa.containerClass,Ob=qa.containerStyle;qa=t(qa,["children","containerId","containerClass","containerStyle"]);var xb=h.useState(null),
lb=xb[0];return h.createElement("div",{ref:xb[1],id:za,className:hb,style:Ob},lb&&h.createElement(Uc,r({ref:Fa,container:lb},qa),Ya))});m.Area=of;m.Array=pf;m.Axis=qf;m.Camera=rf;m.Cartesian=sf;m.Cartesian4=tf;m.Clamp=uf;m.Clock=vf;m.Compose=wf;m.ContainedMathbox=uc;m.Dom=De;m.Face=Ee;m.Format=xf;m.Fragment=yf;m.Grid=zf;m.Group=Af;m.Grow=Bf;m.Html=Od;m.Inherit=Ac;m.Interval=Fh;m.Join=Ih;m.Label=Jh;m.Layer=pg;m.Lerp=Kh;m.Line=Lh;m.Mask=Mh;m.Mathbox=Uc;m.Matrix=Cf;m.Memo=Ie;m.Move=tg;m.Now=Ff;m.Play=
ug;m.Point=he;m.Polar=ie;m.Present=vg;m.Readback=wd;m.Repeat=ke;m.Resample=Uh;m.Retext=Vh;m.Reveal=Gf;m.Rtt=Qd;m.Scale=hc;m.Shader=Ke;m.Slice=xg;m.Slide=Me;m.Spherical=Le;m.Split=le;m.Spread=yg;m.Step=wg;m.Stereographic=je;m.Stereographic4=Hf;m.Strip=zg;m.Subdivide=Ag;m.Surface=Bg;m.Swizzle=Lc;m.Text=xd;m.Ticks=If;m.Transform=Cg;m.Transform4=Jf;m.Transpose=Kf;m.Unit=Wh;m.Vector=Dg;m.Vertex=Eg;m.View=Nf;m.Volume=Fg;m.Voxel=mc};
shadow$provide[527]=function(z,v,J,m){Object.defineProperty(m,"__esModule",{value:!0});m.MapControls=m.OrbitControls=void 0;var t=v(2);const p={type:"change"},n={type:"start"},c={type:"end"};class e extends t.EventDispatcher{constructor(h,k){function g(){return Math.pow(.95,da.zoomSpeed)}function r(va){Cb.theta-=va}function u(va){Cb.phi-=va}function w(va){da.object.isPerspectiveCamera?yb/=va:da.object.isOrthographicCamera?(da.object.zoom=Math.max(da.minZoom,Math.min(da.maxZoom,da.object.zoom*va)),
da.object.updateProjectionMatrix(),Rb=!0):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),da.enableZoom=!1)}function x(va){da.object.isPerspectiveCamera?yb*=va:da.object.isOrthographicCamera?(da.object.zoom=Math.max(da.minZoom,Math.min(da.maxZoom,da.object.zoom/va)),da.object.updateProjectionMatrix(),Rb=!0):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),da.enableZoom=!1)}function B(){1===pa.length?
ac.set(pa[0].pageX,pa[0].pageY):ac.set(.5*(pa[0].pageX+pa[1].pageX),.5*(pa[0].pageY+pa[1].pageY))}function E(){1===pa.length?Tb.set(pa[0].pageX,pa[0].pageY):Tb.set(.5*(pa[0].pageX+pa[1].pageX),.5*(pa[0].pageY+pa[1].pageY))}function C(){const va=pa[0].pageX-pa[1].pageX,jb=pa[0].pageY-pa[1].pageY;ib.set(0,Math.sqrt(va*va+jb*jb))}function H(va){if(1==pa.length)Hb.set(va.pageX,va.pageY);else{const jb=Oa(va);Hb.set(.5*(va.pageX+jb.x),.5*(va.pageY+jb.y))}Jb.subVectors(Hb,ac).multiplyScalar(da.rotateSpeed);
va=da.domElement;r(2*Math.PI*Jb.x/va.clientHeight);u(2*Math.PI*Jb.y/va.clientHeight);ac.copy(Hb)}function I(va){if(1===pa.length)dc.set(va.pageX,va.pageY);else{const jb=Oa(va);dc.set(.5*(va.pageX+jb.x),.5*(va.pageY+jb.y))}zb.subVectors(dc,Tb).multiplyScalar(da.panSpeed);Sb(zb.x,zb.y);Tb.copy(dc)}function K(va){const jb=Oa(va),Wb=va.pageX-jb.x;va=va.pageY-jb.y;Db.set(0,Math.sqrt(Wb*Wb+va*va));ec.set(0,Math.pow(Db.y/ib.y,da.zoomSpeed));w(ec.y);ib.copy(Db)}function O(va){!1!==da.enabled&&(0===pa.length&&
(da.domElement.setPointerCapture(va.pointerId),da.domElement.addEventListener("pointermove",Q),da.domElement.addEventListener("pointerup",W)),pa.push(va),"touch"===va.pointerType?la(va):X(va))}function Q(va){if(!1!==da.enabled)if("touch"===va.pointerType)switch(Ha(va),Pa){case Wa.TOUCH_ROTATE:if(!1===da.enableRotate)break;H(va);da.update();break;case Wa.TOUCH_PAN:if(!1===da.enablePan)break;I(va);da.update();break;case Wa.TOUCH_DOLLY_PAN:if(!1===da.enableZoom&&!1===da.enablePan)break;da.enableZoom&&
K(va);da.enablePan&&I(va);da.update();break;case Wa.TOUCH_DOLLY_ROTATE:if(!1===da.enableZoom&&!1===da.enableRotate)break;da.enableZoom&&K(va);da.enableRotate&&H(va);da.update();break;default:Pa=Wa.NONE}else a:switch(Pa){case Wa.ROTATE:if(!1===da.enableRotate)break a;Hb.set(va.clientX,va.clientY);Jb.subVectors(Hb,ac).multiplyScalar(da.rotateSpeed);va=da.domElement;r(2*Math.PI*Jb.x/va.clientHeight);u(2*Math.PI*Jb.y/va.clientHeight);ac.copy(Hb);da.update();break;case Wa.DOLLY:if(!1===da.enableZoom)break a;
Db.set(va.clientX,va.clientY);ec.subVectors(Db,ib);0<ec.y?w(g()):0>ec.y&&x(g());ib.copy(Db);da.update();break;case Wa.PAN:!1!==da.enablePan&&(dc.set(va.clientX,va.clientY),zb.subVectors(dc,Tb).multiplyScalar(da.panSpeed),Sb(zb.x,zb.y),Tb.copy(dc),da.update())}}function W(va){ta(va);0===pa.length&&(da.domElement.releasePointerCapture(va.pointerId),da.domElement.removeEventListener("pointermove",Q),da.domElement.removeEventListener("pointerup",W));da.dispatchEvent(c);Pa=Wa.NONE}function R(va){ta(va)}
function X(va){let jb;switch(va.button){case 0:jb=da.mouseButtons.LEFT;break;case 1:jb=da.mouseButtons.MIDDLE;break;case 2:jb=da.mouseButtons.RIGHT;break;default:jb=-1}switch(jb){case t.MOUSE.DOLLY:if(!1===da.enableZoom)return;ib.set(va.clientX,va.clientY);Pa=Wa.DOLLY;break;case t.MOUSE.ROTATE:if(va.ctrlKey||va.metaKey||va.shiftKey){if(!1===da.enablePan)return;Tb.set(va.clientX,va.clientY);Pa=Wa.PAN}else{if(!1===da.enableRotate)return;ac.set(va.clientX,va.clientY);Pa=Wa.ROTATE}break;case t.MOUSE.PAN:if(va.ctrlKey||
va.metaKey||va.shiftKey){if(!1===da.enableRotate)return;ac.set(va.clientX,va.clientY);Pa=Wa.ROTATE}else{if(!1===da.enablePan)return;Tb.set(va.clientX,va.clientY);Pa=Wa.PAN}break;default:Pa=Wa.NONE}Pa!==Wa.NONE&&da.dispatchEvent(n)}function ca(va){!1!==da.enabled&&!1!==da.enableZoom&&Pa===Wa.NONE&&(va.preventDefault(),da.dispatchEvent(n),0>va.deltaY?x(g()):0<va.deltaY&&w(g()),da.update(),da.dispatchEvent(c))}function ka(va){if(!1!==da.enabled&&!1!==da.enablePan){var jb=!1;switch(va.code){case da.keys.UP:va.ctrlKey||
va.metaKey||va.shiftKey?u(2*Math.PI*da.rotateSpeed/da.domElement.clientHeight):Sb(0,da.keyPanSpeed);jb=!0;break;case da.keys.BOTTOM:va.ctrlKey||va.metaKey||va.shiftKey?u(-2*Math.PI*da.rotateSpeed/da.domElement.clientHeight):Sb(0,-da.keyPanSpeed);jb=!0;break;case da.keys.LEFT:va.ctrlKey||va.metaKey||va.shiftKey?r(2*Math.PI*da.rotateSpeed/da.domElement.clientHeight):Sb(da.keyPanSpeed,0);jb=!0;break;case da.keys.RIGHT:va.ctrlKey||va.metaKey||va.shiftKey?r(-2*Math.PI*da.rotateSpeed/da.domElement.clientHeight):
Sb(-da.keyPanSpeed,0),jb=!0}jb&&(va.preventDefault(),da.update())}}function la(va){Ha(va);switch(pa.length){case 1:switch(da.touches.ONE){case t.TOUCH.ROTATE:if(!1===da.enableRotate)return;B();Pa=Wa.TOUCH_ROTATE;break;case t.TOUCH.PAN:if(!1===da.enablePan)return;E();Pa=Wa.TOUCH_PAN;break;default:Pa=Wa.NONE}break;case 2:switch(da.touches.TWO){case t.TOUCH.DOLLY_PAN:if(!1===da.enableZoom&&!1===da.enablePan)return;da.enableZoom&&C();da.enablePan&&E();Pa=Wa.TOUCH_DOLLY_PAN;break;case t.TOUCH.DOLLY_ROTATE:if(!1===
da.enableZoom&&!1===da.enableRotate)return;da.enableZoom&&C();da.enableRotate&&B();Pa=Wa.TOUCH_DOLLY_ROTATE;break;default:Pa=Wa.NONE}break;default:Pa=Wa.NONE}Pa!==Wa.NONE&&da.dispatchEvent(n)}function Aa(va){!1!==da.enabled&&va.preventDefault()}function ta(va){delete Xa[va.pointerId];for(let jb=0;jb<pa.length;jb++)if(pa[jb].pointerId==va.pointerId){pa.splice(jb,1);break}}function Ha(va){let jb=Xa[va.pointerId];void 0===jb&&(jb=new t.Vector2,Xa[va.pointerId]=jb);jb.set(va.pageX,va.pageY)}function Oa(va){return Xa[(va.pointerId===
pa[0].pointerId?pa[1]:pa[0]).pointerId]}super();this.object=h;this.domElement=k;this.domElement.style.touchAction="none";this.enabled=!0;this.target=new t.Vector3;this.minDistance=0;this.maxDistance=Infinity;this.minZoom=0;this.maxZoom=Infinity;this.minPolarAngle=0;this.maxPolarAngle=Math.PI;this.minAzimuthAngle=-Infinity;this.maxAzimuthAngle=Infinity;this.enableDamping=!1;this.dampingFactor=.05;this.enableZoom=!0;this.zoomSpeed=1;this.enableRotate=!0;this.rotateSpeed=1;this.enablePan=!0;this.panSpeed=
1;this.screenSpacePanning=!0;this.keyPanSpeed=7;this.autoRotate=!1;this.autoRotateSpeed=2;this.keys={LEFT:"ArrowLeft",UP:"ArrowUp",RIGHT:"ArrowRight",BOTTOM:"ArrowDown"};this.mouseButtons={LEFT:t.MOUSE.ROTATE,MIDDLE:t.MOUSE.DOLLY,RIGHT:t.MOUSE.PAN};this.touches={ONE:t.TOUCH.ROTATE,TWO:t.TOUCH.DOLLY_PAN};this.target0=this.target.clone();this.position0=this.object.position.clone();this.zoom0=this.object.zoom;this._domElementKeyEvents=null;this.getPolarAngle=function(){return mb.phi};this.getAzimuthalAngle=
function(){return mb.theta};this.getDistance=function(){return this.object.position.distanceTo(this.target)};this.listenToKeyEvents=function(va){va.addEventListener("keydown",ka);this._domElementKeyEvents=va};this.stopListenToKeyEvents=function(){this._domElementKeyEvents.removeEventListener("keydown",ka);this._domElementKeyEvents=null};this.saveState=function(){da.target0.copy(da.target);da.position0.copy(da.object.position);da.zoom0=da.object.zoom};this.reset=function(){da.target.copy(da.target0);
da.object.position.copy(da.position0);da.object.zoom=da.zoom0;da.object.updateProjectionMatrix();da.dispatchEvent(p);da.update();Pa=Wa.NONE};this.update=function(){const va=new t.Vector3,jb=(new t.Quaternion).setFromUnitVectors(h.up,new t.Vector3(0,1,0)),Wb=jb.clone().invert(),oc=new t.Vector3,Hc=new t.Quaternion,Nc=2*Math.PI;return function(){const gd=da.object.position;va.copy(gd).sub(da.target);va.applyQuaternion(jb);mb.setFromVector3(va);da.autoRotate&&Pa===Wa.NONE&&r(2*Math.PI/60/60*da.autoRotateSpeed);
da.enableDamping?(mb.theta+=Cb.theta*da.dampingFactor,mb.phi+=Cb.phi*da.dampingFactor):(mb.theta+=Cb.theta,mb.phi+=Cb.phi);let yc=da.minAzimuthAngle,zc=da.maxAzimuthAngle;isFinite(yc)&&isFinite(zc)&&(yc<-Math.PI?yc+=Nc:yc>Math.PI&&(yc-=Nc),zc<-Math.PI?zc+=Nc:zc>Math.PI&&(zc-=Nc),mb.theta=yc<=zc?Math.max(yc,Math.min(zc,mb.theta)):mb.theta>(yc+zc)/2?Math.max(yc,mb.theta):Math.min(zc,mb.theta));mb.phi=Math.max(da.minPolarAngle,Math.min(da.maxPolarAngle,mb.phi));mb.makeSafe();mb.radius*=yb;mb.radius=
Math.max(da.minDistance,Math.min(da.maxDistance,mb.radius));!0===da.enableDamping?da.target.addScaledVector(tb,da.dampingFactor):da.target.add(tb);va.setFromSpherical(mb);va.applyQuaternion(Wb);gd.copy(da.target).add(va);da.object.lookAt(da.target);!0===da.enableDamping?(Cb.theta*=1-da.dampingFactor,Cb.phi*=1-da.dampingFactor,tb.multiplyScalar(1-da.dampingFactor)):(Cb.set(0,0,0),tb.set(0,0,0));yb=1;return Rb||1E-6<oc.distanceToSquared(da.object.position)||1E-6<8*(1-Hc.dot(da.object.quaternion))?(da.dispatchEvent(p),
oc.copy(da.object.position),Hc.copy(da.object.quaternion),Rb=!1,!0):!1}}();this.dispose=function(){da.domElement.removeEventListener("contextmenu",Aa);da.domElement.removeEventListener("pointerdown",O);da.domElement.removeEventListener("pointercancel",R);da.domElement.removeEventListener("wheel",ca);da.domElement.removeEventListener("pointermove",Q);da.domElement.removeEventListener("pointerup",W);null!==da._domElementKeyEvents&&(da._domElementKeyEvents.removeEventListener("keydown",ka),da._domElementKeyEvents=
null)};const da=this,Wa={NONE:-1,ROTATE:0,DOLLY:1,PAN:2,TOUCH_ROTATE:3,TOUCH_PAN:4,TOUCH_DOLLY_PAN:5,TOUCH_DOLLY_ROTATE:6};let Pa=Wa.NONE;const mb=new t.Spherical,Cb=new t.Spherical;let yb=1;const tb=new t.Vector3;let Rb=!1;const ac=new t.Vector2,Hb=new t.Vector2,Jb=new t.Vector2,Tb=new t.Vector2,dc=new t.Vector2,zb=new t.Vector2,ib=new t.Vector2,Db=new t.Vector2,ec=new t.Vector2,pa=[],Xa={},sb=function(){const va=new t.Vector3;return function(jb,Wb){va.setFromMatrixColumn(Wb,0);va.multiplyScalar(-jb);
tb.add(va)}}(),Eb=function(){const va=new t.Vector3;return function(jb,Wb){!0===da.screenSpacePanning?va.setFromMatrixColumn(Wb,1):(va.setFromMatrixColumn(Wb,0),va.crossVectors(da.object.up,va));va.multiplyScalar(jb);tb.add(va)}}(),Sb=function(){const va=new t.Vector3;return function(jb,Wb){const oc=da.domElement;if(da.object.isPerspectiveCamera){va.copy(da.object.position).sub(da.target);let Hc=va.length();Hc*=Math.tan(da.object.fov/2*Math.PI/180);sb(2*jb*Hc/oc.clientHeight,da.object.matrix);Eb(2*
Wb*Hc/oc.clientHeight,da.object.matrix)}else da.object.isOrthographicCamera?(sb(jb*(da.object.right-da.object.left)/da.object.zoom/oc.clientWidth,da.object.matrix),Eb(Wb*(da.object.top-da.object.bottom)/da.object.zoom/oc.clientHeight,da.object.matrix)):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - pan disabled."),da.enablePan=!1)}}();da.domElement.addEventListener("contextmenu",Aa);da.domElement.addEventListener("pointerdown",O);da.domElement.addEventListener("pointercancel",
R);da.domElement.addEventListener("wheel",ca,{passive:!1});this.update()}}m.OrbitControls=e;class f extends e{constructor(h,k){super(h,k);this.screenSpacePanning=!1;this.mouseButtons.LEFT=t.MOUSE.PAN;this.mouseButtons.RIGHT=t.MOUSE.ROTATE;this.touches.ONE=t.TOUCH.PAN;this.touches.TWO=t.TOUCH.DOLLY_ROTATE}}m.MapControls=f};
'use strict';var I$=function(a){return new $APP.o3(a)},ana=function(a,b){$APP.f3.useEffect(function(){$APP.p(b)&&(b.o?b.o(a):b.call(null,a));if($APP.p(a))return function(){return $APP.p(b)?b.o?b.o(null):b.call(null,null):null}},[a])},ena=function(a,b){b=$APP.ag(b);var c=$APP.Re.j(b,bna),d=$APP.Re.j(b,cna);$APP.f3.useEffect(function(){if($APP.p(a)){var e=a.three.renderer;$APP.p(c)?e.setClearColor($APP.p(c.isColor)?c:new dna.Color(c),$APP.p(d)?d:e.getClearAlpha()):$APP.p(d)&&e.setClearAlpha(d)}},[a,
c,d])},J$=function(a,b,c){return function(){$APP.p($APP.p(a)?c:a)&&(a.three.controls[b]=c)}},fna=function(a,b){$APP.f3.useEffect(function(){if($APP.p($APP.p(a)?$APP.x(b):a)){for(var c=$APP.x(b),d=null,e=0,f=0;;)if(f<e){var g=d.fa(null,f),k=$APP.D.v(g,0,null);g=$APP.D.v(g,1,null);a.three.on($APP.Yi(k),g);f+=1}else if(c=$APP.x(c))$APP.He(c)?(e=$APP.bd(c),c=$APP.cd(c),d=e,e=$APP.ge(e)):(e=$APP.y(c),d=$APP.D.v(e,0,null),e=$APP.D.v(e,1,null),a.three.on($APP.Yi(d),e),c=$APP.z(c),d=null,e=0),f=0;else break;
return function(){for(var l=$APP.x(b),h=null,r=0,q=0;;)if(q<r){var w=h.fa(null,q),C=$APP.D.v(w,0,null);w=$APP.D.v(w,1,null);a.three.off($APP.Yi(C),w);q+=1}else if(l=$APP.x(l))$APP.He(l)?(h=$APP.bd(l),l=$APP.cd(l),C=h,r=$APP.ge(h),h=C):(h=$APP.y(l),C=$APP.D.v(h,0,null),w=$APP.D.v(h,1,null),a.three.off($APP.Yi(C),w),l=$APP.z(l),h=null,r=0),q=0;else return null}}},[a,b])},gna=new $APP.v(null,"Ticks","Ticks",-469763046,null),hna=new $APP.v(null,"Transform","Transform",-881921137,null),ina=new $APP.v("mathbox.primitives",
"Cartesian","mathbox.primitives/Cartesian",-1354081315,null),jna=new $APP.v("mathbox.primitives","Unit","mathbox.primitives/Unit",2058437326,null),kna=new $APP.v("mathbox.primitives","Stereographic4","mathbox.primitives/Stereographic4",-462845377,null),lna=new $APP.v(null,"Spherical","Spherical",1316206718,null),mna=new $APP.v("mathbox.primitives","Resample","mathbox.primitives/Resample",-1111983593,null),K$=new $APP.v(null,"children","children",699969545,null),nna=new $APP.v(null,"Stereographic",
"Stereographic",1739074233,null),ona=new $APP.v("mathbox.primitives","View","mathbox.primitives/View",-5042301,null),pna=new $APP.v("mathbox.primitives","Clamp","mathbox.primitives/Clamp",1137063655,null),qna=new $APP.v(null,"Reveal","Reveal",1011391251,null),rna=new $APP.v("mathbox.primitives","Scale","mathbox.primitives/Scale",570368639,null),L$=new $APP.K(null,"renderer","renderer",336841071),M$=new $APP.K(null,"ref","ref",1289896967),sna=new $APP.v("mathbox.core","threestrap-defaults","mathbox.core/threestrap-defaults",
1294638534,null),tna=new $APP.v(null,"Text","Text",-2054460644,null),una=new $APP.v(null,"Memo","Memo",-56475788,null),vna=new $APP.v(null,"Vector","Vector",872890327,null),wna=new $APP.v(null,"Strip","Strip",1159860619,null),xna=new $APP.v("mathbox.primitives","Play","mathbox.primitives/Play",180224833,null),yna=new $APP.v("mathbox.primitives","Grid","mathbox.primitives/Grid",-988235849,null),zna=new $APP.v("mathbox.primitives","Transform","mathbox.primitives/Transform",-1243339258,null),Ana=new $APP.v(null,
"Transform4","Transform4",-1726980308,null),Bna=new $APP.v(null,"Vertex","Vertex",-512523831,null),Cna=new $APP.K(null,"containerId","containerId",545549578),Dna=new $APP.v("mathbox.primitives","Move","mathbox.primitives/Move",-661788090,null),Ena=new $APP.v(null,"Lerp","Lerp",-1702516612,null),Fna=new $APP.v("mathbox.primitives","Grow","mathbox.primitives/Grow",400222057,null),Gna=new $APP.v("mathbox.primitives","Compose","mathbox.primitives/Compose",-2940428,null),Hna=new $APP.v("mathbox.primitives",
"Reveal","mathbox.primitives/Reveal",132115850,null),Ina=new $APP.v("mathbox.primitives","Readback","mathbox.primitives/Readback",-897225244,null),Jna=new $APP.v(null,"Array","Array",-423496279,null),Kna=new $APP.v("mathbox.primitives","Shader","mathbox.primitives/Shader",-1697795990,null),Lna=new $APP.v(null,"Shader","Shader",1685374417,null),Mna=new $APP.v(null,"MathBox","MathBox",1267820069,null),Nna=new $APP.v("mathbox.primitives","Fragment","mathbox.primitives/Fragment",429273026,null),Ona=new $APP.v("mathbox.primitives",
"Join","mathbox.primitives/Join",660585058,null),Pna=new $APP.v(null,"Html","Html",-1695147201,null),Qna=new $APP.v(null,"Camera","Camera",-1408338669,null),Rna=new $APP.K(null,"klass","klass",-1386752349),Sna=new $APP.v(null,"Axis","Axis",1020368522,null),Tna=new $APP.K(null,"f\x3e","f\x3e",1484564198),Una=new $APP.K(null,"camera","camera",-1190348585),Vna=new $APP.v(null,"Group","Group",-1810497176,null),Wna=new $APP.v("mathbox.primitives","Interval","mathbox.primitives/Interval",1202840225,null),
Xna=new $APP.v("mathbox.primitives","Slide","mathbox.primitives/Slide",1353572641,null),Yna=new $APP.v(null,"Format","Format",-1182429160,null),Zna=new $APP.v("mathbox.primitives","Slice","mathbox.primitives/Slice",-1294348699,null),N$=new $APP.K(null,"on","on",173873944),bna=new $APP.K(null,"background-color","background-color",570434026),$na=new $APP.v("mathbox.primitives","Present","mathbox.primitives/Present",15337402,null),aoa=new $APP.v("mathbox.primitives","Stereographic","mathbox.primitives/Stereographic",
1764922406,null),boa=new $APP.v("mathbox.primitives","Swizzle","mathbox.primitives/Swizzle",324393110,null),coa=new $APP.v("mathbox.primitives","Matrix","mathbox.primitives/Matrix",1981821632,null),doa=new $APP.v(null,"Dom","Dom",-1903068682,null),eoa=new $APP.v(null,"threestrap-defaults","threestrap-defaults",1862651176,null),foa=new $APP.v("mathbox.primitives","Spherical","mathbox.primitives/Spherical",1157296007,null),goa=new $APP.K(null,"options","options",99638489),hoa=new $APP.v("mathbox.primitives",
"Volume","mathbox.primitives/Volume",1655402604,null),ioa=new $APP.v("mathbox.primitives","Transpose","mathbox.primitives/Transpose",104160466,null),joa=new $APP.v("mathbox.primitives","Line","mathbox.primitives/Line",-1270459063,null),koa=new $APP.v(null,"Cartesian4","Cartesian4",208408284,null),loa=new $APP.v("mathbox.primitives","Clock","mathbox.primitives/Clock",-1930546827,null),moa=new $APP.v("mathbox.primitives","Now","mathbox.primitives/Now",933701808,null),noa=new $APP.v("mathbox.primitives",
"Rtt","mathbox.primitives/Rtt",-358152424,null),cna=new $APP.K(null,"background-opacity","background-opacity",-1073748756),ooa=new $APP.v("mathbox.primitives","Area","mathbox.primitives/Area",1617026373,null),poa=new $APP.K(null,"containerStyle","containerStyle",-1828381609),O$=new $APP.K(null,"controls","controls",1340701452),qoa=new $APP.K(null,"plugins","plugins",1900073717),roa=new $APP.v("mathbox.primitives","Voxel","mathbox.primitives/Voxel",1345267876,null),soa=new $APP.v(null,"Point","Point",
-2145220521,null),toa=new $APP.v(null,"Face","Face",1066942710,null),uoa=new $APP.v("mathbox.primitives","Split","mathbox.primitives/Split",-1183933028,null),voa=new $APP.v("mathbox.primitives","Transform4","mathbox.primitives/Transform4",-1869959749,null),woa=new $APP.v(null,"Mask","Mask",-375651427,null),xoa=new $APP.v(null,"Layer","Layer",-1498190011,null),yoa=new $APP.v("mathbox.primitives","Lerp","mathbox.primitives/Lerp",-1827866933,null),zoa=new $APP.v(null,"Step","Step",-816692470,null),Aoa=
new $APP.v("mathbox.primitives","Ticks","mathbox.primitives/Ticks",-361320827,null),P$=new $APP.v(null,"mathbox.primitives","mathbox.primitives",1541076194,null),Boa=new $APP.v("mathbox.primitives","Repeat","mathbox.primitives/Repeat",-1574268723,null),Coa=new $APP.v(null,"Matrix","Matrix",2091502681,null),Doa=new $APP.v(null,"Grow","Grow",508637906,null),Eoa=new $APP.v(null,"Stereographic4","Stereographic4",-287163216,null),Foa=new $APP.v(null,"Voxel","Voxel",1540726319,null),Goa=new $APP.v(null,
"Clamp","Clamp",976282718,null),Hoa=new $APP.v(null,"Move","Move",-687448615,null),Ioa=new $APP.v("mathbox.primitives","Array","mathbox.primitives/Array",-313915872,null),Joa=new $APP.v(null,"Split","Split",-1276645785,null),Koa=new $APP.v(null,"Subdivide","Subdivide",-462061977,null),Loa=new $APP.v(null,"Present","Present",-111102675,null),Moa=new $APP.v(null,"Compose","Compose",-248875139,null),Noa=new $APP.v(null,"Join","Join",767879419,null),Ooa=new $APP.v(null,"Interval","Interval",1278783288,
null),Poa=new $APP.v("mathbox.primitives","Inherit","mathbox.primitives/Inherit",-191332945,null),Qoa=new $APP.v(null,"Surface","Surface",1673998871,null),Roa=new $APP.v(null,"Spread","Spread",-1805618163,null),Soa=new $APP.v(null,"Unit","Unit",1086897223,null),Toa=new $APP.v(null,"Inherit","Inherit",-1912525274,null),Uoa=new $APP.v("mathbox.primitives","Vertex","mathbox.primitives/Vertex",-335881150,null),Q$=new $APP.K(null,"container","container",-1736937707),Voa=new $APP.K(null,"containerClass",
"containerClass",-101509595),Woa=new $APP.v("mathbox.primitives","Vector","mathbox.primitives/Vector",1032645708,null),Xoa=new $APP.v(null,"Swizzle","Swizzle",450790761,null),Yoa=new $APP.v(null,"Retext","Retext",571350357,null),Zoa=new $APP.v("mathbox.core","MathBox","mathbox.core/MathBox",-1451256013,null),$oa=new $APP.v(null,"View","View",-131475192,null),apa=new $APP.v("mathbox.primitives","Polar","mathbox.primitives/Polar",-1749556723,null),bpa=new $APP.v(null,"Scale","Scale",662043888,null),
cpa=new $APP.v(null,"Play","Play",3494344,null),dpa=new $APP.v(null,"Resample","Resample",-1271815010,null),epa=new $APP.v("mathbox.primitives","Text","mathbox.primitives/Text",-1961772649,null),fpa=new $APP.v(null,"Grid","Grid",-593239492,null),gpa=new $APP.v("mathbox.primitives","Memo","mathbox.primitives/Memo",-500462083,null),hpa=new $APP.v("mathbox.primitives","Camera","mathbox.primitives/Camera",-1433074788,null),ipa=new $APP.v("mathbox.primitives","Label","mathbox.primitives/Label",-1901552196,
null),jpa=new $APP.v("mathbox.primitives","Dom","mathbox.primitives/Dom",-2079934705,null),kpa=new $APP.v(null,"Transpose","Transpose",213658457,null),lpa=new $APP.v("mathbox.primitives","Cartesian4","mathbox.primitives/Cartesian4",115701845,null),mpa=new $APP.v(null,"Readback","Readback",-1069768581,null),npa=new $APP.v("mathbox.primitives","Group","mathbox.primitives/Group",-1836231535,null),opa=new $APP.v("mathbox.primitives","Retext","mathbox.primitives/Retext",750297308,null),ppa=new $APP.v("mathbox.primitives",
"Surface","mathbox.primitives/Surface",1749844142,null),qpa=new $APP.v("mathbox.primitives","Face","mathbox.primitives/Face",956501375,null),rpa=new $APP.v(null,"Slide","Slide",1579331222,null),spa=new $APP.v(null,"Line","Line",-1076951502,null),tpa=new $APP.v(null,"Polar","Polar",-382168682,null),upa=new $APP.v(null,"Area","Area",1860906700,null),vpa=new $APP.v(null,"Label","Label",-2133777657,null),wpa=new $APP.v("mathbox.primitives","Point","mathbox.primitives/Point",-2035787060,null),xpa=new $APP.v("mathbox.primitives",
"Layer","mathbox.primitives/Layer",-1606831668,null),ypa=new $APP.v("mathbox.primitives","Step","mathbox.primitives/Step",-181856637,null),zpa=new $APP.v("mathbox.primitives","Mask","mathbox.primitives/Mask",-149597162,null),Apa=new $APP.v(null,"Clock","Clock",-1252752132,null),R$=new $APP.v(null,"props","props",2093813254,null),Bpa=new $APP.K(null,"rotate-speed","rotate-speed",-564390296),S$=new $APP.v(null,"mathbox.core","mathbox.core",-1346776612,null),Cpa=new $APP.v(null,"Rtt","Rtt",-483528305,
null),Dpa=new $APP.v(null,"Cartesian","Cartesian",-1514043068,null),Epa=new $APP.v("mathbox.primitives","Html","mathbox.primitives/Html",-1603447226,null),Fpa=new $APP.v("mathbox.primitives","Axis","mathbox.primitives/Axis",917185793,null),Gpa=new $APP.v("mathbox.primitives","Spread","mathbox.primitives/Spread",1809426052,null),Hpa=new $APP.v(null,"Now","Now",1010719241,null),T$=new $APP.K(null,"\x3e","\x3e",-555517146),Ipa=new $APP.v("mathbox.primitives","Format","mathbox.primitives/Format",-1307425389,
null),Jpa=new $APP.K(null,"max-distance","max-distance",848042358),Kpa=new $APP.v(null,"Slice","Slice",-1270834964,null),Lpa=new $APP.v(null,"Volume","Volume",1797394167,null),Mpa=new $APP.v(null,"Repeat","Repeat",-1413718092,null),Npa=new $APP.v("mathbox.primitives","Subdivide","mathbox.primitives/Subdivide",-470832642,null),Opa=new $APP.v("mathbox.primitives","Strip","mathbox.primitives/Strip",2075766272,null),Ppa=new $APP.v(null,"Fragment","Fragment",388889675,null),U$=new $APP.K(null,"threestrap",
"threestrap",791250519);var dna=$APP.c2(2,{});var V$=$APP.c2(526,{});var Qpa=$APP.c2(527,{});var W$=new $APP.N(null,4,5,$APP.O,[L$,O$,N$,M$],null);var X$=new $APP.n(null,3,[qoa,new $APP.N(null,3,5,$APP.O,["core","controls","cursor"],null),O$,new $APP.n(null,1,[Rna,Qpa.OrbitControls],null),Una,$APP.$f],null),Y$=function Y$(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=1<c.length?new $APP.Fd(c.slice(1),0,null):null;return Y$.A(arguments[0],c)};
Y$.A=function(a,b){var c=$APP.ag(a);a=$APP.Re.j(c,Q$);var d=$APP.Re.j(c,U$);c=$APP.Ni.v($APP.nm.A(c,Q$,$APP.F([U$])),goa,d);if(null==a)return $APP.Nh.j(new $APP.N(null,3,5,$APP.O,[T$,V$.ContainedMathbox,c],null),b);if($APP.Ee(a))return a=$APP.Ni.A(c,Cna,$APP.Mr.o(a),$APP.F([poa,$APP.bia.o(a),Voa,$APP.Ht.o(a)])),$APP.Nh.j(new $APP.N(null,3,5,$APP.O,[T$,V$.ContainedMathbox,a],null),b);if(a instanceof HTMLElement)return $APP.Nh.j(new $APP.N(null,3,5,$APP.O,[T$,V$.Mathbox,c],null),b);throw $APP.zm.j("Unsupported container : ",
new $APP.n(null,1,[Q$,a],null));};Y$.B=1;Y$.F=function(a){var b=$APP.y(a);a=$APP.z(a);return this.A(b,a)};var Z$=function Z$(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=1<c.length?new $APP.Fd(c.slice(1),0,null):null;return Z$.A(arguments[0],c)};
Z$.A=function(a,b){var c=$APP.f3.useState(null),d=$APP.D.v(c,0,null);c=$APP.D.v(c,1,null);var e=$APP.Oi(a,W$);a=$APP.wg.v($APP.nm,a,W$);e=new $APP.N(null,2,5,$APP.O,[e,a],null);a=$APP.D.v(e,0,null);e=$APP.D.v(e,1,null);c=$APP.jo.v($APP.Ni.v(e,M$,c),U$,$APP.pm.j($APP.mm,X$));ana(d,M$.o(a));ena(d,L$.o(a));e=O$.o(a);var f=$APP.ag(e);e=$APP.Re.j(f,Jpa);f=$APP.Re.j(f,Bpa);$APP.f3.useEffect(J$(d,"maxDistance",e),[d,e]);$APP.f3.useEffect(J$(d,"rotateSpeed",f),[d,f]);fna(d,N$.o(a));return $APP.Nh.j(new $APP.N(null,
2,5,$APP.O,[Y$,c],null),b)};Z$.B=1;Z$.F=function(a){var b=$APP.y(a);a=$APP.z(a);return this.A(b,a)};var $$=function $$(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=1<c.length?new $APP.Fd(c.slice(1),0,null):null;return $$.A(arguments[0],c)};$$.A=function(a,b){return $APP.Nh.j(new $APP.N(null,3,5,$APP.O,[Tna,Z$,a],null),b)};$$.B=1;$$.F=function(a){var b=$APP.y(a);a=$APP.z(a);return this.A(b,a)};var Rpa=I$(V$.Group),Spa=I$(V$.Inherit),Tpa=I$(V$.Unit);var Upa=I$(V$.Camera);var Vpa=I$(V$.Area),Wpa=I$(V$.Array),Xpa=I$(V$.Interval),Ypa=I$(V$.Matrix),Zpa=I$(V$.Scale),$pa=I$(V$.Volume),aqa=I$(V$.Voxel);var bqa=I$(V$.Axis),cqa=I$(V$.Face),dqa=I$(V$.Grid),eqa=I$(V$.Line),fqa=I$(V$.Point),gqa=I$(V$.Strip),hqa=I$(V$.Surface),iqa=I$(V$.Ticks),jqa=I$(V$.Vector);var kqa=I$(V$.Clamp),lqa=I$(V$.Grow),mqa=I$(V$.Join),nqa=I$(V$.Lerp),oqa=I$(V$.Memo),pqa=I$(V$.Readback),qqa=I$(V$.Repeat),rqa=I$(V$.Resample),sqa=I$(V$.Slice),tqa=I$(V$.Split),uqa=I$(V$.Spread),vqa=I$(V$.Subdivide),wqa=I$(V$.Swizzle),xqa=I$(V$.Transpose);var yqa=I$(V$.Dom),zqa=I$(V$.Html);var Aqa=I$(V$.Move),Bqa=I$(V$.Play),Cqa=I$(V$.Present),Dqa=I$(V$.Reveal),Eqa=I$(V$.Slide),Fqa=I$(V$.Step);var Gqa=I$(V$.Compose),Hqa=I$(V$.Rtt);var Iqa=I$(V$.Shader);var Jqa=I$(V$.Format),Kqa=I$(V$.Label),Lqa=I$(V$.Retext),Mqa=I$(V$.Text);var Nqa=I$(V$.Clock),Oqa=I$(V$.Now);var Pqa=I$(V$.Fragment),Qqa=I$(V$.Layer),Rqa=I$(V$.Mask),Sqa=I$(V$.Transform),Tqa=I$(V$.Transform4),Uqa=I$(V$.Vertex);var Vqa=I$(V$.Cartesian),Wqa=I$(V$.Cartesian4),Xqa=I$(V$.Polar),Yqa=I$(V$.Spherical),Zqa=I$(V$.Stereographic),$qa=I$(V$.Stereographic4),ara=I$(V$.View);var bra=$APP.yy(new $APP.n(null,2,[$APP.ve(eoa,new $APP.n(null,1,[$APP.X,"Default `:threestrap` options for the [[MathBox]] component."],null)),new $APP.n(null,3,[$APP.T,sna,$APP.xy,X$,$APP.ib,new $APP.n(null,1,[$APP.X,"Default `:threestrap` options for the [[MathBox]] component."],null)],null),$APP.ve(Mna,new $APP.n(null,3,[$APP.V,$APP.P($APP.el,$APP.P(new $APP.N(null,3,5,$APP.O,[R$,$APP.Jk,K$],null))),$APP.X,'Component that configures a MathBox-backed canvas and reactively mounts all\n  children into the canvas.\n\n  Supports the following options:\n\n  - `:threestrap`: these options are passed directly to the [mathbox\n    constructor](https://github.com/unconed/mathbox#basic-usage) on instantiation;\n    these are in turn passed along to Threestrap\'s `Bootstrap` constructor.\n    See [this page](https://github.com/unconed/threestrap#plugins) for an example\n    of what to pass and why.\n\n  - `:renderer`: optional map with `:background-color` and `:background-opacity`\n    keys. Updating these will update the settings without a re-render.\n\n  - `:controls`: optional map with `:max-distance` and `:rotate-speed` keys.\n    Updating these will update the settings on the registered controls without a\n    re-render.\n\n  - `:on`: optional map of type {\x3cevent-name\x3e (fn [event three] ,,,)} On mount,\n    each event will be bound via `mathbox.three.on`, as described in [Threestrap\'s\n    docs](https://github.com/unconed/threestrap#events).\n\n  - `:ref`: a 1-arg function that receives the underlying mathbox instance\n    whenever it changes. Note that you may receive `nil` and should guard against\n    it.\n\n  As well as all options used to configure the [base/root\n  component](https://github.com/unconed/mathbox/blob/master/docs/primitives.md#base/root). (The\n  format of each following line is \x3ckeyword\x3e: \x3cdefault\x3e (\x3ctype\x3e) -\n  \x3cdescription\x3e.)\n\n  - `:camera`: `"[camera]"` (select) - Active camera\n  - `:classes`: `[]` (string array) - Custom classes, e.g. `["big"]`\n  - `:focus`: `1` (nullable number) - Camera focus distance in world units\n  - `:fov`: `null` (nullable number) - (Vertical) Field-of-view to calibrate units for (degrees), e.g. `60`\n  - `:id`: `null` (nullable string) - Unique ID, e.g. `"sampler"`\n  - `:pass`: `"view"` (vertexPass) - Vertex pass (data, view, world, eye)\n  - `:scale`: `null` (nullable number) - (Vertical) Reference scale of viewport in pixels, e.g. `720`\n  - `:speed`: `1` (number) - Global speed',
$APP.yJ,new $APP.n(null,6,[$APP.ME,!0,$APP.Bv,1,$APP.qR,1,$APP.tN,new $APP.N(null,1,5,$APP.O,[$APP.P(R$,K$)],null),$APP.V,$APP.P(new $APP.N(null,3,5,$APP.O,[R$,$APP.Jk,K$],null)),$APP.$R,$APP.P(null)],null)],null)),new $APP.n(null,3,[$APP.T,Zoa,$APP.xy,$$,$APP.ib,new $APP.n(null,2,[$APP.V,$APP.P(new $APP.N(null,3,5,$APP.O,[R$,$APP.Jk,K$],null)),$APP.X,'Component that configures a MathBox-backed canvas and reactively mounts all\n  children into the canvas.\n\n  Supports the following options:\n\n  - `:threestrap`: these options are passed directly to the [mathbox\n    constructor](https://github.com/unconed/mathbox#basic-usage) on instantiation;\n    these are in turn passed along to Threestrap\'s `Bootstrap` constructor.\n    See [this page](https://github.com/unconed/threestrap#plugins) for an example\n    of what to pass and why.\n\n  - `:renderer`: optional map with `:background-color` and `:background-opacity`\n    keys. Updating these will update the settings without a re-render.\n\n  - `:controls`: optional map with `:max-distance` and `:rotate-speed` keys.\n    Updating these will update the settings on the registered controls without a\n    re-render.\n\n  - `:on`: optional map of type {\x3cevent-name\x3e (fn [event three] ,,,)} On mount,\n    each event will be bound via `mathbox.three.on`, as described in [Threestrap\'s\n    docs](https://github.com/unconed/threestrap#events).\n\n  - `:ref`: a 1-arg function that receives the underlying mathbox instance\n    whenever it changes. Note that you may receive `nil` and should guard against\n    it.\n\n  As well as all options used to configure the [base/root\n  component](https://github.com/unconed/mathbox/blob/master/docs/primitives.md#base/root). (The\n  format of each following line is \x3ckeyword\x3e: \x3cdefault\x3e (\x3ctype\x3e) -\n  \x3cdescription\x3e.)\n\n  - `:camera`: `"[camera]"` (select) - Active camera\n  - `:classes`: `[]` (string array) - Custom classes, e.g. `["big"]`\n  - `:focus`: `1` (nullable number) - Camera focus distance in world units\n  - `:fov`: `null` (nullable number) - (Vertical) Field-of-view to calibrate units for (degrees), e.g. `60`\n  - `:id`: `null` (nullable string) - Unique ID, e.g. `"sampler"`\n  - `:pass`: `"view"` (vertexPass) - Vertex pass (data, view, world, eye)\n  - `:scale`: `null` (nullable number) - (Vertical) Reference scale of viewport in pixels, e.g. `720`\n  - `:speed`: `1` (number) - Global speed'],
null)],null)],null),$APP.cr(S$,null)),cra=$APP.yy($APP.ti([Xoa,Roa,Cpa,Jna,toa,upa,hna,Yoa,soa,Koa,Lpa,rpa,Coa,cpa,Ana,Qoa,Dpa,vpa,spa,woa,tpa,Goa,gna,Toa,Pna,Doa,tna,wna,koa,Loa,Foa,Lna,bpa,$oa,Yna,Qna,nna,Joa,Hoa,Sna,fpa,Soa,vna,Noa,kpa,Mpa,mpa,Ooa,Bna,Eoa,qna,Ena,una,Ppa,xoa,Moa,doa,Hpa,dpa,Kpa,Vna,zoa,Apa,lna],[new $APP.n(null,3,[$APP.T,boa,$APP.xy,wqa,$APP.ib,$APP.$f],null),new $APP.n(null,3,[$APP.T,Gpa,$APP.xy,uqa,$APP.ib,$APP.$f],null),new $APP.n(null,3,[$APP.T,noa,$APP.xy,Hqa,$APP.ib,$APP.$f],
null),new $APP.n(null,3,[$APP.T,Ioa,$APP.xy,Wpa,$APP.ib,$APP.$f],null),new $APP.n(null,3,[$APP.T,qpa,$APP.xy,cqa,$APP.ib,$APP.$f],null),new $APP.n(null,3,[$APP.T,ooa,$APP.xy,Vpa,$APP.ib,$APP.$f],null),new $APP.n(null,3,[$APP.T,zna,$APP.xy,Sqa,$APP.ib,$APP.$f],null),new $APP.n(null,3,[$APP.T,opa,$APP.xy,Lqa,$APP.ib,$APP.$f],null),new $APP.n(null,3,[$APP.T,wpa,$APP.xy,fqa,$APP.ib,$APP.$f],null),new $APP.n(null,3,[$APP.T,Npa,$APP.xy,vqa,$APP.ib,$APP.$f],null),new $APP.n(null,3,[$APP.T,hoa,$APP.xy,$pa,
$APP.ib,$APP.$f],null),new $APP.n(null,3,[$APP.T,Xna,$APP.xy,Eqa,$APP.ib,$APP.$f],null),new $APP.n(null,3,[$APP.T,coa,$APP.xy,Ypa,$APP.ib,$APP.$f],null),new $APP.n(null,3,[$APP.T,xna,$APP.xy,Bqa,$APP.ib,$APP.$f],null),new $APP.n(null,3,[$APP.T,voa,$APP.xy,Tqa,$APP.ib,$APP.$f],null),new $APP.n(null,3,[$APP.T,ppa,$APP.xy,hqa,$APP.ib,$APP.$f],null),new $APP.n(null,3,[$APP.T,ina,$APP.xy,Vqa,$APP.ib,$APP.$f],null),new $APP.n(null,3,[$APP.T,ipa,$APP.xy,Kqa,$APP.ib,$APP.$f],null),new $APP.n(null,3,[$APP.T,
joa,$APP.xy,eqa,$APP.ib,$APP.$f],null),new $APP.n(null,3,[$APP.T,zpa,$APP.xy,Rqa,$APP.ib,$APP.$f],null),new $APP.n(null,3,[$APP.T,apa,$APP.xy,Xqa,$APP.ib,$APP.$f],null),new $APP.n(null,3,[$APP.T,pna,$APP.xy,kqa,$APP.ib,$APP.$f],null),new $APP.n(null,3,[$APP.T,Aoa,$APP.xy,iqa,$APP.ib,$APP.$f],null),new $APP.n(null,3,[$APP.T,Poa,$APP.xy,Spa,$APP.ib,$APP.$f],null),new $APP.n(null,3,[$APP.T,Epa,$APP.xy,zqa,$APP.ib,$APP.$f],null),new $APP.n(null,3,[$APP.T,Fna,$APP.xy,lqa,$APP.ib,$APP.$f],null),new $APP.n(null,
3,[$APP.T,epa,$APP.xy,Mqa,$APP.ib,$APP.$f],null),new $APP.n(null,3,[$APP.T,Opa,$APP.xy,gqa,$APP.ib,$APP.$f],null),new $APP.n(null,3,[$APP.T,lpa,$APP.xy,Wqa,$APP.ib,$APP.$f],null),new $APP.n(null,3,[$APP.T,$na,$APP.xy,Cqa,$APP.ib,$APP.$f],null),new $APP.n(null,3,[$APP.T,roa,$APP.xy,aqa,$APP.ib,$APP.$f],null),new $APP.n(null,3,[$APP.T,Kna,$APP.xy,Iqa,$APP.ib,$APP.$f],null),new $APP.n(null,3,[$APP.T,rna,$APP.xy,Zpa,$APP.ib,$APP.$f],null),new $APP.n(null,3,[$APP.T,ona,$APP.xy,ara,$APP.ib,$APP.$f],null),
new $APP.n(null,3,[$APP.T,Ipa,$APP.xy,Jqa,$APP.ib,$APP.$f],null),new $APP.n(null,3,[$APP.T,hpa,$APP.xy,Upa,$APP.ib,$APP.$f],null),new $APP.n(null,3,[$APP.T,aoa,$APP.xy,Zqa,$APP.ib,$APP.$f],null),new $APP.n(null,3,[$APP.T,uoa,$APP.xy,tqa,$APP.ib,$APP.$f],null),new $APP.n(null,3,[$APP.T,Dna,$APP.xy,Aqa,$APP.ib,$APP.$f],null),new $APP.n(null,3,[$APP.T,Fpa,$APP.xy,bqa,$APP.ib,$APP.$f],null),new $APP.n(null,3,[$APP.T,yna,$APP.xy,dqa,$APP.ib,$APP.$f],null),new $APP.n(null,3,[$APP.T,jna,$APP.xy,Tpa,$APP.ib,
$APP.$f],null),new $APP.n(null,3,[$APP.T,Woa,$APP.xy,jqa,$APP.ib,$APP.$f],null),new $APP.n(null,3,[$APP.T,Ona,$APP.xy,mqa,$APP.ib,$APP.$f],null),new $APP.n(null,3,[$APP.T,ioa,$APP.xy,xqa,$APP.ib,$APP.$f],null),new $APP.n(null,3,[$APP.T,Boa,$APP.xy,qqa,$APP.ib,$APP.$f],null),new $APP.n(null,3,[$APP.T,Ina,$APP.xy,pqa,$APP.ib,$APP.$f],null),new $APP.n(null,3,[$APP.T,Wna,$APP.xy,Xpa,$APP.ib,$APP.$f],null),new $APP.n(null,3,[$APP.T,Uoa,$APP.xy,Uqa,$APP.ib,$APP.$f],null),new $APP.n(null,3,[$APP.T,kna,$APP.xy,
$qa,$APP.ib,$APP.$f],null),new $APP.n(null,3,[$APP.T,Hna,$APP.xy,Dqa,$APP.ib,$APP.$f],null),new $APP.n(null,3,[$APP.T,yoa,$APP.xy,nqa,$APP.ib,$APP.$f],null),new $APP.n(null,3,[$APP.T,gpa,$APP.xy,oqa,$APP.ib,$APP.$f],null),new $APP.n(null,3,[$APP.T,Nna,$APP.xy,Pqa,$APP.ib,$APP.$f],null),new $APP.n(null,3,[$APP.T,xpa,$APP.xy,Qqa,$APP.ib,$APP.$f],null),new $APP.n(null,3,[$APP.T,Gna,$APP.xy,Gqa,$APP.ib,$APP.$f],null),new $APP.n(null,3,[$APP.T,jpa,$APP.xy,yqa,$APP.ib,$APP.$f],null),new $APP.n(null,3,[$APP.T,
moa,$APP.xy,Oqa,$APP.ib,$APP.$f],null),new $APP.n(null,3,[$APP.T,mna,$APP.xy,rqa,$APP.ib,$APP.$f],null),new $APP.n(null,3,[$APP.T,Zna,$APP.xy,sqa,$APP.ib,$APP.$f],null),new $APP.n(null,3,[$APP.T,npa,$APP.xy,Rpa,$APP.ib,$APP.$f],null),new $APP.n(null,3,[$APP.T,ypa,$APP.xy,Fqa,$APP.ib,$APP.$f],null),new $APP.n(null,3,[$APP.T,loa,$APP.xy,Nqa,$APP.ib,$APP.$f],null),new $APP.n(null,3,[$APP.T,foa,$APP.xy,Yqa,$APP.ib,$APP.$f],null)]),$APP.cr(P$,null));
$APP.Ny(new $APP.n(null,1,[$APP.Sr,new $APP.n(null,2,[S$,bra,P$,cra],null)],null));
}).call(this);</script></div><div><script type="text/javascript">!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports):"function"==typeof define&&define.amd?define(["exports"],e):e((t="undefined"!=typeof globalThis?globalThis:t||self).vega={})}(this,(function(t){"use strict";function e(t,e,n){return t.fields=e||[],t.fname=n,t}function n(t){return null==t?null:t.fname}function r(t){return null==t?null:t.fields}function i(t){return 1===t.length?o(t[0]):a(t)}const o=t=>function(e){return e[t]},a=t=>{const e=t.length;return function(n){for(let r=0;r<e;++r)n=n[t[r]];return n}};function u(t){throw Error(t)}function s(t){const e=[],n=t.length;let r,i,o,a=null,s=0,l="";function c(){e.push(l+t.substring(r,i)),l="",r=i+1}for(t+="",r=i=0;i<n;++i)if(o=t[i],"\\"===o)l+=t.substring(r,i),l+=t.substring(++i,++i),r=i;else if(o===a)c(),a=null,s=-1;else{if(a)continue;r===s&&'"'===o||r===s&&"'"===o?(r=i+1,a=o):"."!==o||s?"["===o?(i>r&&c(),s=r=i+1):"]"===o&&(s||u("Access path missing open bracket: "+t),s>0&&c(),s=0,r=i+1):i>r?c():r=i+1}return s&&u("Access path missing closing bracket: "+t),a&&u("Access path missing closing quote: "+t),i>r&&(i++,c()),e}function l(t,n,r){const o=s(t);return t=1===o.length?o[0]:t,e((r&&r.get||i)(o),[t],n||t)}const c=l("id"),f=e((t=>t),[],"identity"),h=e((()=>0),[],"zero"),d=e((()=>1),[],"one"),p=e((()=>!0),[],"true"),g=e((()=>!1),[],"false");function m(t,e,n){const r=[e].concat([].slice.call(n));console[t].apply(console,r)}function y(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:m,r=t||0;return{level(t){return arguments.length?(r=+t,this):r},error(){return r>=1&&n(e||"error","ERROR",arguments),this},warn(){return r>=2&&n(e||"warn","WARN",arguments),this},info(){return r>=3&&n(e||"log","INFO",arguments),this},debug(){return r>=4&&n(e||"log","DEBUG",arguments),this}}}var v=Array.isArray;function _(t){return t===Object(t)}const x=t=>"__proto__"!==t;function b(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return e.reduce(((t,e)=>{for(const n in e)if("signals"===n)t.signals=k(t.signals,e.signals);else{const r="legend"===n?{layout:1}:"style"===n||null;w(t,n,e[n],r)}return t}),{})}function w(t,e,n,r){if(!x(e))return;let i,o;if(_(n)&&!v(n))for(i in o=_(t[e])?t[e]:t[e]={},n)r&&(!0===r||r[i])?w(o,i,n[i]):x(i)&&(o[i]=n[i]);else t[e]=n}function k(t,e){if(null==t)return e;const n={},r=[];function i(t){n[t.name]||(n[t.name]=1,r.push(t))}return e.forEach(i),t.forEach(i),r}function A(t){return t[t.length-1]}function M(t){return null==t||""===t?null:+t}const E=t=>e=>t*Math.exp(e),D=t=>e=>Math.log(t*e),C=t=>e=>Math.sign(e)*Math.log1p(Math.abs(e/t)),F=t=>e=>Math.sign(e)*Math.expm1(Math.abs(e))*t,S=t=>e=>e<0?-Math.pow(-e,t):Math.pow(e,t);function B(t,e,n,r){const i=n(t[0]),o=n(A(t)),a=(o-i)*e;return[r(i-a),r(o-a)]}function T(t,e){return B(t,e,M,f)}function N(t,e){var n=Math.sign(t[0]);return B(t,e,D(n),E(n))}function z(t,e,n){return B(t,e,S(n),S(1/n))}function O(t,e,n){return B(t,e,C(n),F(n))}function R(t,e,n,r,i){const o=r(t[0]),a=r(A(t)),u=null!=e?r(e):(o+a)/2;return[i(u+(o-u)*n),i(u+(a-u)*n)]}function L(t,e,n){return R(t,e,n,M,f)}function U(t,e,n){const r=Math.sign(t[0]);return R(t,e,n,D(r),E(r))}function q(t,e,n,r){return R(t,e,n,S(r),S(1/r))}function P(t,e,n,r){return R(t,e,n,C(r),F(r))}function j(t){return 1+~~(new Date(t).getMonth()/3)}function I(t){return 1+~~(new Date(t).getUTCMonth()/3)}function $(t){return null!=t?v(t)?t:[t]:[]}function W(t,e,n){let r,i=t[0],o=t[1];return o<i&&(r=o,o=i,i=r),r=o-i,r>=n-e?[e,n]:[i=Math.min(Math.max(i,e),n-r),i+r]}function H(t){return"function"==typeof t}function Y(t,n,i){i=i||{},n=$(n)||[];const o=[],a=[],u={},s=i.comparator||V;return $(t).forEach(((t,e)=>{null!=t&&(o.push("descending"===n[e]?-1:1),a.push(t=H(t)?t:l(t,null,i)),(r(t)||[]).forEach((t=>u[t]=1)))})),0===a.length?null:e(s(a,o),Object.keys(u))}const G=(t,e)=>(t<e||null==t)&&null!=e?-1:(t>e||null==e)&&null!=t?1:(e=e instanceof Date?+e:e,(t=t instanceof Date?+t:t)!==t&&e==e?-1:e!=e&&t==t?1:0),V=(t,e)=>1===t.length?X(t[0],e[0]):J(t,e,t.length),X=(t,e)=>function(n,r){return G(t(n),t(r))*e},J=(t,e,n)=>(e.push(0),function(r,i){let o,a=0,u=-1;for(;0===a&&++u<n;)o=t[u],a=G(o(r),o(i));return a*e[u]});function Z(t){return H(t)?t:()=>t}function Q(t,e){let n;return r=>{n&&clearTimeout(n),n=setTimeout((()=>(e(r),n=null)),t)}}function K(t){for(let e,n,r=1,i=arguments.length;r<i;++r)for(n in e=arguments[r],e)t[n]=e[n];return t}function tt(t,e){let n,r,i,o,a=0;if(t&&(n=t.length))if(null==e){for(r=t[a];a<n&&(null==r||r!=r);r=t[++a]);for(i=o=r;a<n;++a)r=t[a],null!=r&&(r<i&&(i=r),r>o&&(o=r))}else{for(r=e(t[a]);a<n&&(null==r||r!=r);r=e(t[++a]));for(i=o=r;a<n;++a)r=e(t[a]),null!=r&&(r<i&&(i=r),r>o&&(o=r))}return[i,o]}function et(t,e){const n=t.length;let r,i,o,a,u,s=-1;if(null==e){for(;++s<n;)if(i=t[s],null!=i&&i>=i){r=o=i;break}if(s===n)return[-1,-1];for(a=u=s;++s<n;)i=t[s],null!=i&&(r>i&&(r=i,a=s),o<i&&(o=i,u=s))}else{for(;++s<n;)if(i=e(t[s],s,t),null!=i&&i>=i){r=o=i;break}if(s===n)return[-1,-1];for(a=u=s;++s<n;)i=e(t[s],s,t),null!=i&&(r>i&&(r=i,a=s),o<i&&(o=i,u=s))}return[a,u]}const nt=Object.prototype.hasOwnProperty;function rt(t,e){return nt.call(t,e)}const it={};function ot(t){let e,n={};function r(t){return rt(n,t)&&n[t]!==it}const i={size:0,empty:0,object:n,has:r,get:t=>r(t)?n[t]:void 0,set(t,e){return r(t)||(++i.size,n[t]===it&&--i.empty),n[t]=e,this},delete(t){return r(t)&&(--i.size,++i.empty,n[t]=it),this},clear(){i.size=i.empty=0,i.object=n={}},test(t){return arguments.length?(e=t,i):e},clean(){const t={};let r=0;for(const i in n){const o=n[i];o===it||e&&e(o)||(t[i]=o,++r)}i.size=r,i.empty=0,i.object=n=t}};return t&&Object.keys(t).forEach((e=>{i.set(e,t[e])})),i}function at(t,e,n,r,i,o){if(!n&&0!==n)return o;const a=+n;let u,s=t[0],l=A(t);l<s&&(u=s,s=l,l=u),u=Math.abs(e-s);const c=Math.abs(l-e);return u<c&&u<=a?r:c<=a?i:o}function ut(t,e,n){const r=t.prototype=Object.create(e.prototype);return Object.defineProperty(r,"constructor",{value:t,writable:!0,enumerable:!0,configurable:!0}),K(r,n)}function st(t,e,n,r){let i,o=e[0],a=e[e.length-1];return o>a&&(i=o,o=a,a=i),r=void 0===r||r,((n=void 0===n||n)?o<=t:o<t)&&(r?t<=a:t<a)}function lt(t){return"boolean"==typeof t}function ct(t){return"[object Date]"===Object.prototype.toString.call(t)}function ft(t){return t&&H(t[Symbol.iterator])}function ht(t){return"number"==typeof t}function dt(t){return"[object RegExp]"===Object.prototype.toString.call(t)}function pt(t){return"string"==typeof t}function gt(t,n,r){t&&(t=n?$(t).map((t=>t.replace(/\\(.)/g,"$1"))):$(t));const o=t&&t.length,a=r&&r.get||i,u=t=>a(n?[t]:s(t));let l;if(o)if(1===o){const e=u(t[0]);l=function(t){return""+e(t)}}else{const e=t.map(u);l=function(t){let n=""+e[0](t),r=0;for(;++r<o;)n+="|"+e[r](t);return n}}else l=function(){return""};return e(l,t,"key")}function mt(t,e){const n=t[0],r=A(t),i=+e;return i?1===i?r:n+i*(r-n):n}function yt(t){let e,n,r;t=+t||1e4;const i=()=>{e={},n={},r=0},o=(i,o)=>(++r>t&&(n=e,e={},r=1),e[i]=o);return i(),{clear:i,has:t=>rt(e,t)||rt(n,t),get:t=>rt(e,t)?e[t]:rt(n,t)?o(t,n[t]):void 0,set:(t,n)=>rt(e,t)?e[t]=n:o(t,n)}}function vt(t,e,n,r){const i=e.length,o=n.length;if(!o)return e;if(!i)return n;const a=r||new e.constructor(i+o);let u=0,s=0,l=0;for(;u<i&&s<o;++l)a[l]=t(e[u],n[s])>0?n[s++]:e[u++];for(;u<i;++u,++l)a[l]=e[u];for(;s<o;++s,++l)a[l]=n[s];return a}function _t(t,e){let n="";for(;--e>=0;)n+=t;return n}function xt(t,e,n,r){const i=n||" ",o=t+"",a=e-o.length;return a<=0?o:"left"===r?_t(i,a)+o:"center"===r?_t(i,~~(a/2))+o+_t(i,Math.ceil(a/2)):o+_t(i,a)}function bt(t){return t&&A(t)-t[0]||0}function wt(t){return v(t)?"["+t.map(wt)+"]":_(t)||pt(t)?JSON.stringify(t).replace("\u2028","\\u2028").replace("\u2029","\\u2029"):t}function kt(t){return null==t||""===t?null:!(!t||"false"===t||"0"===t)&&!!t}const At=t=>ht(t)||ct(t)?t:Date.parse(t);function Mt(t,e){return e=e||At,null==t||""===t?null:e(t)}function Et(t){return null==t||""===t?null:t+""}function Dt(t){const e={},n=t.length;for(let r=0;r<n;++r)e[t[r]]=!0;return e}function Ct(t,e,n,r){const i=null!=r?r:"",o=t+"",a=o.length,u=Math.max(0,e-i.length);return a<=e?o:"left"===n?i+o.slice(a-u):"center"===n?o.slice(0,Math.ceil(u/2))+i+o.slice(a-~~(u/2)):o.slice(0,u)+i}function Ft(t,e,n){if(t)if(e){const r=t.length;for(let i=0;i<r;++i){const r=e(t[i]);r&&n(r,i,t)}}else t.forEach(n)}var St={},Bt={};function Tt(t){return new Function("d","return {"+t.map((function(t,e){return JSON.stringify(t)+": d["+e+'] || ""'})).join(",")+"}")}function Nt(t){var e=Object.create(null),n=[];return t.forEach((function(t){for(var r in t)r in e||n.push(e[r]=r)})),n}function zt(t,e){var n=t+"",r=n.length;return r<e?new Array(e-r+1).join(0)+n:n}function Ot(t){var e=t.getUTCHours(),n=t.getUTCMinutes(),r=t.getUTCSeconds(),i=t.getUTCMilliseconds();return isNaN(t)?"Invalid Date":function(t){return t<0?"-"+zt(-t,6):t>9999?"+"+zt(t,6):zt(t,4)}(t.getUTCFullYear())+"-"+zt(t.getUTCMonth()+1,2)+"-"+zt(t.getUTCDate(),2)+(i?"T"+zt(e,2)+":"+zt(n,2)+":"+zt(r,2)+"."+zt(i,3)+"Z":r?"T"+zt(e,2)+":"+zt(n,2)+":"+zt(r,2)+"Z":n||e?"T"+zt(e,2)+":"+zt(n,2)+"Z":"")}function Rt(t){var e=new RegExp('["'+t+"\n\r]"),n=t.charCodeAt(0);function r(t,e){var r,i=[],o=t.length,a=0,u=0,s=o<=0,l=!1;function c(){if(s)return Bt;if(l)return l=!1,St;var e,r,i=a;if(34===t.charCodeAt(i)){for(;a++<o&&34!==t.charCodeAt(a)||34===t.charCodeAt(++a););return(e=a)>=o?s=!0:10===(r=t.charCodeAt(a++))?l=!0:13===r&&(l=!0,10===t.charCodeAt(a)&&++a),t.slice(i+1,e-1).replace(/""/g,'"')}for(;a<o;){if(10===(r=t.charCodeAt(e=a++)))l=!0;else if(13===r)l=!0,10===t.charCodeAt(a)&&++a;else if(r!==n)continue;return t.slice(i,e)}return s=!0,t.slice(i,o)}for(10===t.charCodeAt(o-1)&&--o,13===t.charCodeAt(o-1)&&--o;(r=c())!==Bt;){for(var f=[];r!==St&&r!==Bt;)f.push(r),r=c();e&&null==(f=e(f,u++))||i.push(f)}return i}function i(e,n){return e.map((function(e){return n.map((function(t){return a(e[t])})).join(t)}))}function o(e){return e.map(a).join(t)}function a(t){return null==t?"":t instanceof Date?Ot(t):e.test(t+="")?'"'+t.replace(/"/g,'""')+'"':t}return{parse:function(t,e){var n,i,o=r(t,(function(t,r){if(n)return n(t,r-1);i=t,n=e?function(t,e){var n=Tt(t);return function(r,i){return e(n(r),i,t)}}(t,e):Tt(t)}));return o.columns=i||[],o},parseRows:r,format:function(e,n){return null==n&&(n=Nt(e)),[n.map(a).join(t)].concat(i(e,n)).join("\n")},formatBody:function(t,e){return null==e&&(e=Nt(t)),i(t,e).join("\n")},formatRows:function(t){return t.map(o).join("\n")},formatRow:o,formatValue:a}}function Lt(t){return t}function Ut(t,e){return"string"==typeof e&&(e=t.objects[e]),"GeometryCollection"===e.type?{type:"FeatureCollection",features:e.geometries.map((function(e){return qt(t,e)}))}:qt(t,e)}function qt(t,e){var n=e.id,r=e.bbox,i=null==e.properties?{}:e.properties,o=Pt(t,e);return null==n&&null==r?{type:"Feature",properties:i,geometry:o}:null==r?{type:"Feature",id:n,properties:i,geometry:o}:{type:"Feature",id:n,bbox:r,properties:i,geometry:o}}function Pt(t,e){var n=function(t){if(null==t)return Lt;var e,n,r=t.scale[0],i=t.scale[1],o=t.translate[0],a=t.translate[1];return function(t,u){u||(e=n=0);var s=2,l=t.length,c=new Array(l);for(c[0]=(e+=t[0])*r+o,c[1]=(n+=t[1])*i+a;s<l;)c[s]=t[s],++s;return c}}(t.transform),r=t.arcs;function i(t,e){e.length&&e.pop();for(var i=r[t<0?~t:t],o=0,a=i.length;o<a;++o)e.push(n(i[o],o));t<0&&function(t,e){for(var n,r=t.length,i=r-e;i<--r;)n=t[i],t[i++]=t[r],t[r]=n}(e,a)}function o(t){return n(t)}function a(t){for(var e=[],n=0,r=t.length;n<r;++n)i(t[n],e);return e.length<2&&e.push(e[0]),e}function u(t){for(var e=a(t);e.length<4;)e.push(e[0]);return e}function s(t){return t.map(u)}return function t(e){var n,r=e.type;switch(r){case"GeometryCollection":return{type:r,geometries:e.geometries.map(t)};case"Point":n=o(e.coordinates);break;case"MultiPoint":n=e.coordinates.map(o);break;case"LineString":n=a(e.arcs);break;case"MultiLineString":n=e.arcs.map(a);break;case"Polygon":n=s(e.arcs);break;case"MultiPolygon":n=e.arcs.map(s);break;default:return null}return{type:r,coordinates:n}}(e)}function jt(t,e){var n={},r={},i={},o=[],a=-1;function u(t,e){for(var r in t){var i=t[r];delete e[i.start],delete i.start,delete i.end,i.forEach((function(t){n[t<0?~t:t]=1})),o.push(i)}}return e.forEach((function(n,r){var i,o=t.arcs[n<0?~n:n];o.length<3&&!o[1][0]&&!o[1][1]&&(i=e[++a],e[a]=n,e[r]=i)})),e.forEach((function(e){var n,o,a=function(e){var n,r=t.arcs[e<0?~e:e],i=r[0];t.transform?(n=[0,0],r.forEach((function(t){n[0]+=t[0],n[1]+=t[1]}))):n=r[r.length-1];return e<0?[n,i]:[i,n]}(e),u=a[0],s=a[1];if(n=i[u])if(delete i[n.end],n.push(e),n.end=s,o=r[s]){delete r[o.start];var l=o===n?n:n.concat(o);r[l.start=n.start]=i[l.end=o.end]=l}else r[n.start]=i[n.end]=n;else if(n=r[s])if(delete r[n.start],n.unshift(e),n.start=u,o=i[u]){delete i[o.end];var c=o===n?n:o.concat(n);r[c.start=o.start]=i[c.end=n.end]=c}else r[n.start]=i[n.end]=n;else r[(n=[e]).start=u]=i[n.end=s]=n})),u(i,r),u(r,i),e.forEach((function(t){n[t<0?~t:t]||o.push([t])})),o}function It(t){return Pt(t,$t.apply(this,arguments))}function $t(t,e,n){var r,i,o;if(arguments.length>1)r=Wt(t,e,n);else for(i=0,r=new Array(o=t.arcs.length);i<o;++i)r[i]=i;return{type:"MultiLineString",arcs:jt(t,r)}}function Wt(t,e,n){var r,i=[],o=[];function a(t){var e=t<0?~t:t;(o[e]||(o[e]=[])).push({i:t,g:r})}function u(t){t.forEach(a)}function s(t){t.forEach(u)}return function t(e){switch(r=e,e.type){case"GeometryCollection":e.geometries.forEach(t);break;case"LineString":u(e.arcs);break;case"MultiLineString":case"Polygon":s(e.arcs);break;case"MultiPolygon":!function(t){t.forEach(s)}(e.arcs)}}(e),o.forEach(null==n?function(t){i.push(t[0].i)}:function(t){n(t[0].g,t[t.length-1].g)&&i.push(t[0].i)}),i}function Ht(t,e){return null==t||null==e?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function Yt(t){let e=t,n=t,r=t;function i(t,e){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:t.length;if(i<o){if(0!==n(e,e))return o;do{const n=i+o>>>1;r(t[n],e)<0?i=n+1:o=n}while(i<o)}return i}return 2!==t.length&&(e=(e,n)=>t(e)-n,n=Ht,r=(e,n)=>Ht(t(e),n)),{left:i,center:function(t,n){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:t.length;const a=i(t,n,r,o-1);return a>r&&e(t[a-1],n)>-e(t[a],n)?a-1:a},right:function(t,e){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:t.length;if(i<o){if(0!==n(e,e))return o;do{const n=i+o>>>1;r(t[n],e)<=0?i=n+1:o=n}while(i<o)}return i}}}function Gt(t){return null===t?NaN:+t}const Vt=Yt(Ht),Xt=Vt.right,Jt=Vt.left;Yt(Gt).center;var Zt=Xt;class Qt{constructor(){this._partials=new Float64Array(32),this._n=0}add(t){const e=this._partials;let n=0;for(let r=0;r<this._n&&r<32;r++){const i=e[r],o=t+i,a=Math.abs(t)<Math.abs(i)?t-(o-i):i-(o-t);a&&(e[n++]=a),t=o}return e[n]=t,this._n=n+1,this}valueOf(){const t=this._partials;let e,n,r,i=this._n,o=0;if(i>0){for(o=t[--i];i>0&&(e=o,n=t[--i],o=e+n,r=n-(o-e),!r););i>0&&(r<0&&t[i-1]<0||r>0&&t[i-1]>0)&&(n=2*r,e=o+n,n==e-o&&(o=e))}return o}}class Kt extends Map{constructor(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ie;if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:e}}),null!=t)for(const[e,n]of t)this.set(e,n)}get(t){return super.get(ee(this,t))}has(t){return super.has(ee(this,t))}set(t,e){return super.set(ne(this,t),e)}delete(t){return super.delete(re(this,t))}}class te extends Set{constructor(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ie;if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:e}}),null!=t)for(const e of t)this.add(e)}has(t){return super.has(ee(this,t))}add(t){return super.add(ne(this,t))}delete(t){return super.delete(re(this,t))}}function ee(t,e){let{_intern:n,_key:r}=t;const i=r(e);return n.has(i)?n.get(i):e}function ne(t,e){let{_intern:n,_key:r}=t;const i=r(e);return n.has(i)?n.get(i):(n.set(i,e),e)}function re(t,e){let{_intern:n,_key:r}=t;const i=r(e);return n.has(i)&&(e=n.get(i),n.delete(i)),e}function ie(t){return null!==t&&"object"==typeof t?t.valueOf():t}function oe(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ht;if(t===Ht)return ae;if("function"!=typeof t)throw new TypeError("compare is not a function");return(e,n)=>{const r=t(e,n);return r||0===r?r:(0===t(n,n))-(0===t(e,e))}}function ae(t,e){return(null==t||!(t>=t))-(null==e||!(e>=e))||(t<e?-1:t>e?1:0)}var ue=Math.sqrt(50),se=Math.sqrt(10),le=Math.sqrt(2);function ce(t,e,n){var r,i,o,a,u=-1;if(n=+n,(t=+t)===(e=+e)&&n>0)return[t];if((r=e<t)&&(i=t,t=e,e=i),0===(a=fe(t,e,n))||!isFinite(a))return[];if(a>0){let n=Math.round(t/a),r=Math.round(e/a);for(n*a<t&&++n,r*a>e&&--r,o=new Array(i=r-n+1);++u<i;)o[u]=(n+u)*a}else{a=-a;let n=Math.round(t*a),r=Math.round(e*a);for(n/a<t&&++n,r/a>e&&--r,o=new Array(i=r-n+1);++u<i;)o[u]=(n+u)/a}return r&&o.reverse(),o}function fe(t,e,n){var r=(e-t)/Math.max(0,n),i=Math.floor(Math.log(r)/Math.LN10),o=r/Math.pow(10,i);return i>=0?(o>=ue?10:o>=se?5:o>=le?2:1)*Math.pow(10,i):-Math.pow(10,-i)/(o>=ue?10:o>=se?5:o>=le?2:1)}function he(t,e,n){var r=Math.abs(e-t)/Math.max(0,n),i=Math.pow(10,Math.floor(Math.log(r)/Math.LN10)),o=r/i;return o>=ue?i*=10:o>=se?i*=5:o>=le&&(i*=2),e<t?-i:i}function de(t,e){let n;if(void 0===e)for(const e of t)null!=e&&(n<e||void 0===n&&e>=e)&&(n=e);else{let r=-1;for(let i of t)null!=(i=e(i,++r,t))&&(n<i||void 0===n&&i>=i)&&(n=i)}return n}function pe(t,e){let n;if(void 0===e)for(const e of t)null!=e&&(n>e||void 0===n&&e>=e)&&(n=e);else{let r=-1;for(let i of t)null!=(i=e(i,++r,t))&&(n>i||void 0===n&&i>=i)&&(n=i)}return n}function ge(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:t.length-1,i=arguments.length>4?arguments[4]:void 0;for(i=void 0===i?ae:oe(i);r>n;){if(r-n>600){const o=r-n+1,a=e-n+1,u=Math.log(o),s=.5*Math.exp(2*u/3),l=.5*Math.sqrt(u*s*(o-s)/o)*(a-o/2<0?-1:1);ge(t,e,Math.max(n,Math.floor(e-a*s/o+l)),Math.min(r,Math.floor(e+(o-a)*s/o+l)),i)}const o=t[e];let a=n,u=r;for(me(t,n,e),i(t[r],o)>0&&me(t,n,r);a<u;){for(me(t,a,u),++a,--u;i(t[a],o)<0;)++a;for(;i(t[u],o)>0;)--u}0===i(t[n],o)?me(t,n,u):(++u,me(t,u,r)),u<=e&&(n=u+1),e<=u&&(r=u-1)}return t}function me(t,e,n){const r=t[e];t[e]=t[n],t[n]=r}function ye(t,e,n){if(t=Float64Array.from(function*(t,e){if(void 0===e)for(let e of t)null!=e&&(e=+e)>=e&&(yield e);else{let n=-1;for(let r of t)null!=(r=e(r,++n,t))&&(r=+r)>=r&&(yield r)}}(t,n)),r=t.length){if((e=+e)<=0||r<2)return pe(t);if(e>=1)return de(t);var r,i=(r-1)*e,o=Math.floor(i),a=de(ge(t,o).subarray(0,o+1));return a+(pe(t.subarray(o+1))-a)*(i-o)}}function ve(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Gt;if(r=t.length){if((e=+e)<=0||r<2)return+n(t[0],0,t);if(e>=1)return+n(t[r-1],r-1,t);var r,i=(r-1)*e,o=Math.floor(i),a=+n(t[o],o,t),u=+n(t[o+1],o+1,t);return a+(u-a)*(i-o)}}function _e(t,e){return ye(t,.5,e)}function xe(t){return Array.from(function*(t){for(const e of t)yield*e}(t))}function be(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;for(var r=-1,i=0|Math.max(0,Math.ceil((e-t)/n)),o=new Array(i);++r<i;)o[r]=t+r*n;return o}function we(t,e){let n=0;if(void 0===e)for(let e of t)(e=+e)&&(n+=e);else{let r=-1;for(let i of t)(i=+e(i,++r,t))&&(n+=i)}return n}function ke(t){return t instanceof te?t:new te(t)}function Ae(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function Me(t){return(t=Ae(Math.abs(t)))?t[1]:NaN}var Ee,De=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Ce(t){if(!(e=De.exec(t)))throw new Error("invalid format: "+t);var e;return new Fe({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}function Fe(t){this.fill=void 0===t.fill?" ":t.fill+"",this.align=void 0===t.align?">":t.align+"",this.sign=void 0===t.sign?"-":t.sign+"",this.symbol=void 0===t.symbol?"":t.symbol+"",this.zero=!!t.zero,this.width=void 0===t.width?void 0:+t.width,this.comma=!!t.comma,this.precision=void 0===t.precision?void 0:+t.precision,this.trim=!!t.trim,this.type=void 0===t.type?"":t.type+""}function Se(t,e){var n=Ae(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}Ce.prototype=Fe.prototype,Fe.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};var Be={"%":(t,e)=>(100*t).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:function(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)},e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>Se(100*t,e),r:Se,s:function(t,e){var n=Ae(t,e);if(!n)return t+"";var r=n[0],i=n[1],o=i-(Ee=3*Math.max(-8,Math.min(8,Math.floor(i/3))))+1,a=r.length;return o===a?r:o>a?r+new Array(o-a+1).join("0"):o>0?r.slice(0,o)+"."+r.slice(o):"0."+new Array(1-o).join("0")+Ae(t,Math.max(0,e+o-1))[0]},X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function Te(t){return t}var Ne,ze,Oe,Re=Array.prototype.map,Le=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function Ue(t){var e,n,r=void 0===t.grouping||void 0===t.thousands?Te:(e=Re.call(t.grouping,Number),n=t.thousands+"",function(t,r){for(var i=t.length,o=[],a=0,u=e[0],s=0;i>0&&u>0&&(s+u+1>r&&(u=Math.max(1,r-s)),o.push(t.substring(i-=u,i+u)),!((s+=u+1)>r));)u=e[a=(a+1)%e.length];return o.reverse().join(n)}),i=void 0===t.currency?"":t.currency[0]+"",o=void 0===t.currency?"":t.currency[1]+"",a=void 0===t.decimal?".":t.decimal+"",u=void 0===t.numerals?Te:function(t){return function(e){return e.replace(/[0-9]/g,(function(e){return t[+e]}))}}(Re.call(t.numerals,String)),s=void 0===t.percent?"%":t.percent+"",l=void 0===t.minus?"":t.minus+"",c=void 0===t.nan?"NaN":t.nan+"";function f(t){var e=(t=Ce(t)).fill,n=t.align,f=t.sign,h=t.symbol,d=t.zero,p=t.width,g=t.comma,m=t.precision,y=t.trim,v=t.type;"n"===v?(g=!0,v="g"):Be[v]||(void 0===m&&(m=12),y=!0,v="g"),(d||"0"===e&&"="===n)&&(d=!0,e="0",n="=");var _="$"===h?i:"#"===h&&/[boxX]/.test(v)?"0"+v.toLowerCase():"",x="$"===h?o:/[%p]/.test(v)?s:"",b=Be[v],w=/[defgprs%]/.test(v);function k(t){var i,o,s,h=_,k=x;if("c"===v)k=b(t)+k,t="";else{var A=(t=+t)<0||1/t<0;if(t=isNaN(t)?c:b(Math.abs(t),m),y&&(t=function(t){t:for(var e,n=t.length,r=1,i=-1;r<n;++r)switch(t[r]){case".":i=e=r;break;case"0":0===i&&(i=r),e=r;break;default:if(!+t[r])break t;i>0&&(i=0)}return i>0?t.slice(0,i)+t.slice(e+1):t}(t)),A&&0==+t&&"+"!==f&&(A=!1),h=(A?"("===f?f:l:"-"===f||"("===f?"":f)+h,k=("s"===v?Le[8+Ee/3]:"")+k+(A&&"("===f?")":""),w)for(i=-1,o=t.length;++i<o;)if(48>(s=t.charCodeAt(i))||s>57){k=(46===s?a+t.slice(i+1):t.slice(i))+k,t=t.slice(0,i);break}}g&&!d&&(t=r(t,1/0));var M=h.length+t.length+k.length,E=M<p?new Array(p-M+1).join(e):"";switch(g&&d&&(t=r(E+t,E.length?p-k.length:1/0),E=""),n){case"<":t=h+t+k+E;break;case"=":t=h+E+t+k;break;case"^":t=E.slice(0,M=E.length>>1)+h+t+k+E.slice(M);break;default:t=E+h+t+k}return u(t)}return m=void 0===m?6:/[gprs]/.test(v)?Math.max(1,Math.min(21,m)):Math.max(0,Math.min(20,m)),k.toString=function(){return t+""},k}return{format:f,formatPrefix:function(t,e){var n=f(((t=Ce(t)).type="f",t)),r=3*Math.max(-8,Math.min(8,Math.floor(Me(e)/3))),i=Math.pow(10,-r),o=Le[8+r/3];return function(t){return n(i*t)+o}}}}function qe(t){return Math.max(0,-Me(Math.abs(t)))}function Pe(t,e){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(Me(e)/3)))-Me(Math.abs(t)))}function je(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,Me(e)-Me(t))+1}!function(t){Ne=Ue(t),ze=Ne.format,Oe=Ne.formatPrefix}({thousands:",",grouping:[3],currency:["$",""]});var Ie=new Date,$e=new Date;function We(t,e,n,r){function i(e){return t(e=0===arguments.length?new Date:new Date(+e)),e}return i.floor=function(e){return t(e=new Date(+e)),e},i.ceil=function(n){return t(n=new Date(n-1)),e(n,1),t(n),n},i.round=function(t){var e=i(t),n=i.ceil(t);return t-e<n-t?e:n},i.offset=function(t,n){return e(t=new Date(+t),null==n?1:Math.floor(n)),t},i.range=function(n,r,o){var a,u=[];if(n=i.ceil(n),o=null==o?1:Math.floor(o),!(n<r&&o>0))return u;do{u.push(a=new Date(+n)),e(n,o),t(n)}while(a<n&&n<r);return u},i.filter=function(n){return We((function(e){if(e>=e)for(;t(e),!n(e);)e.setTime(e-1)}),(function(t,r){if(t>=t)if(r<0)for(;++r<=0;)for(;e(t,-1),!n(t););else for(;--r>=0;)for(;e(t,1),!n(t););}))},n&&(i.count=function(e,r){return Ie.setTime(+e),$e.setTime(+r),t(Ie),t($e),Math.floor(n(Ie,$e))},i.every=function(t){return t=Math.floor(t),isFinite(t)&&t>0?t>1?i.filter(r?function(e){return r(e)%t==0}:function(e){return i.count(0,e)%t==0}):i:null}),i}var He=We((function(){}),(function(t,e){t.setTime(+t+e)}),(function(t,e){return e-t}));He.every=function(t){return t=Math.floor(t),isFinite(t)&&t>0?t>1?We((function(e){e.setTime(Math.floor(e/t)*t)}),(function(e,n){e.setTime(+e+n*t)}),(function(e,n){return(n-e)/t})):He:null};var Ye=He;const Ge=1e3,Ve=6e4,Xe=36e5,Je=864e5,Ze=6048e5,Qe=2592e6,Ke=31536e6;var tn=We((function(t){t.setTime(t-t.getMilliseconds())}),(function(t,e){t.setTime(+t+e*Ge)}),(function(t,e){return(e-t)/Ge}),(function(t){return t.getUTCSeconds()})),en=tn,nn=We((function(t){t.setTime(t-t.getMilliseconds()-t.getSeconds()*Ge)}),(function(t,e){t.setTime(+t+e*Ve)}),(function(t,e){return(e-t)/Ve}),(function(t){return t.getMinutes()})),rn=nn,on=We((function(t){t.setTime(t-t.getMilliseconds()-t.getSeconds()*Ge-t.getMinutes()*Ve)}),(function(t,e){t.setTime(+t+e*Xe)}),(function(t,e){return(e-t)/Xe}),(function(t){return t.getHours()})),an=on,un=We((t=>t.setHours(0,0,0,0)),((t,e)=>t.setDate(t.getDate()+e)),((t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*Ve)/Je),(t=>t.getDate()-1)),sn=un;function ln(t){return We((function(e){e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)}),(function(t,e){t.setDate(t.getDate()+7*e)}),(function(t,e){return(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*Ve)/Ze}))}var cn=ln(0),fn=ln(1);ln(2),ln(3);var hn=ln(4);ln(5),ln(6);var dn=We((function(t){t.setDate(1),t.setHours(0,0,0,0)}),(function(t,e){t.setMonth(t.getMonth()+e)}),(function(t,e){return e.getMonth()-t.getMonth()+12*(e.getFullYear()-t.getFullYear())}),(function(t){return t.getMonth()})),pn=dn,gn=We((function(t){t.setMonth(0,1),t.setHours(0,0,0,0)}),(function(t,e){t.setFullYear(t.getFullYear()+e)}),(function(t,e){return e.getFullYear()-t.getFullYear()}),(function(t){return t.getFullYear()}));gn.every=function(t){return isFinite(t=Math.floor(t))&&t>0?We((function(e){e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)}),(function(e,n){e.setFullYear(e.getFullYear()+n*t)})):null};var mn=gn,yn=We((function(t){t.setUTCSeconds(0,0)}),(function(t,e){t.setTime(+t+e*Ve)}),(function(t,e){return(e-t)/Ve}),(function(t){return t.getUTCMinutes()})),vn=yn,_n=We((function(t){t.setUTCMinutes(0,0,0)}),(function(t,e){t.setTime(+t+e*Xe)}),(function(t,e){return(e-t)/Xe}),(function(t){return t.getUTCHours()})),xn=_n,bn=We((function(t){t.setUTCHours(0,0,0,0)}),(function(t,e){t.setUTCDate(t.getUTCDate()+e)}),(function(t,e){return(e-t)/Je}),(function(t){return t.getUTCDate()-1})),wn=bn;function kn(t){return We((function(e){e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)}),(function(t,e){t.setUTCDate(t.getUTCDate()+7*e)}),(function(t,e){return(e-t)/Ze}))}var An=kn(0),Mn=kn(1);kn(2),kn(3);var En=kn(4);kn(5),kn(6);var Dn=We((function(t){t.setUTCDate(1),t.setUTCHours(0,0,0,0)}),(function(t,e){t.setUTCMonth(t.getUTCMonth()+e)}),(function(t,e){return e.getUTCMonth()-t.getUTCMonth()+12*(e.getUTCFullYear()-t.getUTCFullYear())}),(function(t){return t.getUTCMonth()})),Cn=Dn,Fn=We((function(t){t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)}),(function(t,e){t.setUTCFullYear(t.getUTCFullYear()+e)}),(function(t,e){return e.getUTCFullYear()-t.getUTCFullYear()}),(function(t){return t.getUTCFullYear()}));Fn.every=function(t){return isFinite(t=Math.floor(t))&&t>0?We((function(e){e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)}),(function(e,n){e.setUTCFullYear(e.getUTCFullYear()+n*t)})):null};var Sn=Fn;function Bn(t,e,n,r,i,o){const a=[[en,1,Ge],[en,5,5e3],[en,15,15e3],[en,30,3e4],[o,1,Ve],[o,5,3e5],[o,15,9e5],[o,30,18e5],[i,1,Xe],[i,3,108e5],[i,6,216e5],[i,12,432e5],[r,1,Je],[r,2,1728e5],[n,1,Ze],[e,1,Qe],[e,3,7776e6],[t,1,Ke]];function u(e,n,r){const i=Math.abs(n-e)/r,o=Yt((t=>{let[,,e]=t;return e})).right(a,i);if(o===a.length)return t.every(he(e/Ke,n/Ke,r));if(0===o)return Ye.every(Math.max(he(e,n,r),1));const[u,s]=a[i/a[o-1][2]<a[o][2]/i?o-1:o];return u.every(s)}return[function(t,e,n){const r=e<t;r&&([t,e]=[e,t]);const i=n&&"function"==typeof n.range?n:u(t,e,n),o=i?i.range(t,+e+1):[];return r?o.reverse():o},u]}const[Tn,Nn]=Bn(Sn,Cn,An,wn,xn,vn),[zn,On]=Bn(mn,pn,cn,sn,an,rn),Rn="year",Ln="quarter",Un="month",qn="week",Pn="date",jn="day",In="dayofyear",$n="hours",Wn="minutes",Hn="seconds",Yn="milliseconds",Gn=[Rn,Ln,Un,qn,Pn,jn,In,$n,Wn,Hn,Yn],Vn=Gn.reduce(((t,e,n)=>(t[e]=1+n,t)),{});function Xn(t){const e=$(t).slice(),n={};e.length||u("Missing time unit."),e.forEach((t=>{rt(Vn,t)?n[t]=1:u("Invalid time unit: ".concat(t,"."))}));return(n.week||n.day?1:0)+(n.quarter||n.month||n.date?1:0)+(n.dayofyear?1:0)>1&&u("Incompatible time units: ".concat(t)),e.sort(((t,e)=>Vn[t]-Vn[e])),e}const Jn={[Rn]:"%Y ",[Ln]:"Q%q ",[Un]:"%b ",[Pn]:"%d ",[qn]:"W%U ",[jn]:"%a ",[In]:"%j ",[$n]:"%H:00",[Wn]:"00:%M",[Hn]:":%S",[Yn]:".%L",["".concat(Rn,"-").concat(Un)]:"%Y-%m ",["".concat(Rn,"-").concat(Un,"-").concat(Pn)]:"%Y-%m-%d ",["".concat($n,"-").concat(Wn)]:"%H:%M"};function Zn(t,e){const n=K({},Jn,e),r=Xn(t),i=r.length;let o,a,u="",s=0;for(s=0;s<i;)for(o=r.length;o>s;--o)if(a=r.slice(s,o).join("-"),null!=n[a]){u+=n[a],s=o;break}return u.trim()}const Qn=new Date;function Kn(t){return Qn.setFullYear(t),Qn.setMonth(0),Qn.setDate(1),Qn.setHours(0,0,0,0),Qn}function tr(t){return nr(new Date(t))}function er(t){return rr(new Date(t))}function nr(t){return sn.count(Kn(t.getFullYear())-1,t)}function rr(t){return cn.count(Kn(t.getFullYear())-1,t)}function ir(t){return Kn(t).getDay()}function or(t,e,n,r,i,o,a){if(0<=t&&t<100){const u=new Date(-1,e,n,r,i,o,a);return u.setFullYear(t),u}return new Date(t,e,n,r,i,o,a)}function ar(t){return sr(new Date(t))}function ur(t){return lr(new Date(t))}function sr(t){const e=Date.UTC(t.getUTCFullYear(),0,1);return wn.count(e-1,t)}function lr(t){const e=Date.UTC(t.getUTCFullYear(),0,1);return An.count(e-1,t)}function cr(t){return Qn.setTime(Date.UTC(t,0,1)),Qn.getUTCDay()}function fr(t,e,n,r,i,o,a){if(0<=t&&t<100){const t=new Date(Date.UTC(-1,e,n,r,i,o,a));return t.setUTCFullYear(n.y),t}return new Date(Date.UTC(t,e,n,r,i,o,a))}function hr(t,e,n,r,i){const o=e||1,a=A(t),u=(t,e,i)=>function(t,e,n,r){const i=n<=1?t:r?(e,i)=>r+n*Math.floor((t(e,i)-r)/n):(e,r)=>n*Math.floor(t(e,r)/n);return e?(t,n)=>e(i(t,n),n):i}(n[i=i||t],r[i],t===a&&o,e),s=new Date,l=Dt(t),c=l.year?u(Rn):Z(2012),f=l.month?u(Un):l.quarter?u(Ln):h,p=l.week&&l.day?u(jn,1,qn+jn):l.week?u(qn,1):l.day?u(jn,1):l.date?u(Pn,1):l.dayofyear?u(In,1):d,g=l.hours?u($n):h,m=l.minutes?u(Wn):h,y=l.seconds?u(Hn):h,v=l.milliseconds?u(Yn):h;return function(t){s.setTime(+t);const e=c(s);return i(e,f(s),p(s,e),g(s),m(s),y(s),v(s))}}function dr(t,e,n){return e+7*t-(n+6)%7}const pr={[Rn]:t=>t.getFullYear(),[Ln]:t=>Math.floor(t.getMonth()/3),[Un]:t=>t.getMonth(),[Pn]:t=>t.getDate(),[$n]:t=>t.getHours(),[Wn]:t=>t.getMinutes(),[Hn]:t=>t.getSeconds(),[Yn]:t=>t.getMilliseconds(),[In]:t=>nr(t),[qn]:t=>rr(t),[qn+jn]:(t,e)=>dr(rr(t),t.getDay(),ir(e)),[jn]:(t,e)=>dr(1,t.getDay(),ir(e))},gr={[Ln]:t=>3*t,[qn]:(t,e)=>dr(t,0,ir(e))};function mr(t,e){return hr(t,e||1,pr,gr,or)}const yr={[Rn]:t=>t.getUTCFullYear(),[Ln]:t=>Math.floor(t.getUTCMonth()/3),[Un]:t=>t.getUTCMonth(),[Pn]:t=>t.getUTCDate(),[$n]:t=>t.getUTCHours(),[Wn]:t=>t.getUTCMinutes(),[Hn]:t=>t.getUTCSeconds(),[Yn]:t=>t.getUTCMilliseconds(),[In]:t=>sr(t),[qn]:t=>lr(t),[jn]:(t,e)=>dr(1,t.getUTCDay(),cr(e)),[qn+jn]:(t,e)=>dr(lr(t),t.getUTCDay(),cr(e))},vr={[Ln]:t=>3*t,[qn]:(t,e)=>dr(t,0,cr(e))};function _r(t,e){return hr(t,e||1,yr,vr,fr)}const xr={[Rn]:mn,[Ln]:pn.every(3),[Un]:pn,[qn]:cn,[Pn]:sn,[jn]:sn,[In]:sn,[$n]:an,[Wn]:rn,[Hn]:en,[Yn]:Ye},br={[Rn]:Sn,[Ln]:Cn.every(3),[Un]:Cn,[qn]:An,[Pn]:wn,[jn]:wn,[In]:wn,[$n]:xn,[Wn]:vn,[Hn]:en,[Yn]:Ye};function wr(t){return xr[t]}function kr(t){return br[t]}function Ar(t,e,n){return t?t.offset(e,n):void 0}function Mr(t,e,n){return Ar(wr(t),e,n)}function Er(t,e,n){return Ar(kr(t),e,n)}function Dr(t,e,n,r){return t?t.range(e,n,r):void 0}function Cr(t,e,n,r){return Dr(wr(t),e,n,r)}function Fr(t,e,n,r){return Dr(kr(t),e,n,r)}const Sr=1e3,Br=6e4,Tr=36e5,Nr=864e5,zr=2592e6,Or=31536e6,Rr=[Rn,Un,Pn,$n,Wn,Hn,Yn],Lr=Rr.slice(0,-1),Ur=Lr.slice(0,-1),qr=Ur.slice(0,-1),Pr=qr.slice(0,-1),jr=[Rn,Un],Ir=[Rn],$r=[[Lr,1,Sr],[Lr,5,5e3],[Lr,15,15e3],[Lr,30,3e4],[Ur,1,Br],[Ur,5,3e5],[Ur,15,9e5],[Ur,30,18e5],[qr,1,Tr],[qr,3,108e5],[qr,6,216e5],[qr,12,432e5],[Pr,1,Nr],[[Rn,qn],1,6048e5],[jr,1,zr],[jr,3,7776e6],[Ir,1,Or]];function Wr(t){const e=t.extent,n=t.maxbins||40,r=Math.abs(bt(e))/n;let i,o,a=Yt((t=>t[2])).right($r,r);return a===$r.length?(i=Ir,o=he(e[0]/Or,e[1]/Or,n)):a?(a=$r[r/$r[a-1][2]<$r[a][2]/r?a-1:a],i=a[0],o=a[1]):(i=Rr,o=Math.max(he(e[0],e[1],n),1)),{units:i,step:o}}function Hr(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function Yr(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function Gr(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}function Vr(t){var e=t.dateTime,n=t.date,r=t.time,i=t.periods,o=t.days,a=t.shortDays,u=t.months,s=t.shortMonths,l=ai(i),c=ui(i),f=ai(o),h=ui(o),d=ai(a),p=ui(a),g=ai(u),m=ui(u),y=ai(s),v=ui(s),_={a:function(t){return a[t.getDay()]},A:function(t){return o[t.getDay()]},b:function(t){return s[t.getMonth()]},B:function(t){return u[t.getMonth()]},c:null,d:Ci,e:Ci,f:Ni,g:Wi,G:Yi,H:Fi,I:Si,j:Bi,L:Ti,m:zi,M:Oi,p:function(t){return i[+(t.getHours()>=12)]},q:function(t){return 1+~~(t.getMonth()/3)},Q:mo,s:yo,S:Ri,u:Li,U:Ui,V:Pi,w:ji,W:Ii,x:null,X:null,y:$i,Y:Hi,Z:Gi,"%":go},x={a:function(t){return a[t.getUTCDay()]},A:function(t){return o[t.getUTCDay()]},b:function(t){return s[t.getUTCMonth()]},B:function(t){return u[t.getUTCMonth()]},c:null,d:Vi,e:Vi,f:Ki,g:co,G:ho,H:Xi,I:Ji,j:Zi,L:Qi,m:to,M:eo,p:function(t){return i[+(t.getUTCHours()>=12)]},q:function(t){return 1+~~(t.getUTCMonth()/3)},Q:mo,s:yo,S:no,u:ro,U:io,V:ao,w:uo,W:so,x:null,X:null,y:lo,Y:fo,Z:po,"%":go},b={a:function(t,e,n){var r=d.exec(e.slice(n));return r?(t.w=p.get(r[0].toLowerCase()),n+r[0].length):-1},A:function(t,e,n){var r=f.exec(e.slice(n));return r?(t.w=h.get(r[0].toLowerCase()),n+r[0].length):-1},b:function(t,e,n){var r=y.exec(e.slice(n));return r?(t.m=v.get(r[0].toLowerCase()),n+r[0].length):-1},B:function(t,e,n){var r=g.exec(e.slice(n));return r?(t.m=m.get(r[0].toLowerCase()),n+r[0].length):-1},c:function(t,n,r){return A(t,e,n,r)},d:vi,e:vi,f:Ai,g:pi,G:di,H:xi,I:xi,j:_i,L:ki,m:yi,M:bi,p:function(t,e,n){var r=l.exec(e.slice(n));return r?(t.p=c.get(r[0].toLowerCase()),n+r[0].length):-1},q:mi,Q:Ei,s:Di,S:wi,u:li,U:ci,V:fi,w:si,W:hi,x:function(t,e,r){return A(t,n,e,r)},X:function(t,e,n){return A(t,r,e,n)},y:pi,Y:di,Z:gi,"%":Mi};function w(t,e){return function(n){var r,i,o,a=[],u=-1,s=0,l=t.length;for(n instanceof Date||(n=new Date(+n));++u<l;)37===t.charCodeAt(u)&&(a.push(t.slice(s,u)),null!=(i=ti[r=t.charAt(++u)])?r=t.charAt(++u):i="e"===r?" ":"0",(o=e[r])&&(r=o(n,i)),a.push(r),s=u+1);return a.push(t.slice(s,u)),a.join("")}}function k(t,e){return function(n){var r,i,o=Gr(1900,void 0,1);if(A(o,t,n+="",0)!=n.length)return null;if("Q"in o)return new Date(o.Q);if("s"in o)return new Date(1e3*o.s+("L"in o?o.L:0));if(e&&!("Z"in o)&&(o.Z=0),"p"in o&&(o.H=o.H%12+12*o.p),void 0===o.m&&(o.m="q"in o?o.q:0),"V"in o){if(o.V<1||o.V>53)return null;"w"in o||(o.w=1),"Z"in o?(i=(r=Yr(Gr(o.y,0,1))).getUTCDay(),r=i>4||0===i?Mn.ceil(r):Mn(r),r=wn.offset(r,7*(o.V-1)),o.y=r.getUTCFullYear(),o.m=r.getUTCMonth(),o.d=r.getUTCDate()+(o.w+6)%7):(i=(r=Hr(Gr(o.y,0,1))).getDay(),r=i>4||0===i?fn.ceil(r):fn(r),r=sn.offset(r,7*(o.V-1)),o.y=r.getFullYear(),o.m=r.getMonth(),o.d=r.getDate()+(o.w+6)%7)}else("W"in o||"U"in o)&&("w"in o||(o.w="u"in o?o.u%7:"W"in o?1:0),i="Z"in o?Yr(Gr(o.y,0,1)).getUTCDay():Hr(Gr(o.y,0,1)).getDay(),o.m=0,o.d="W"in o?(o.w+6)%7+7*o.W-(i+5)%7:o.w+7*o.U-(i+6)%7);return"Z"in o?(o.H+=o.Z/100|0,o.M+=o.Z%100,Yr(o)):Hr(o)}}function A(t,e,n,r){for(var i,o,a=0,u=e.length,s=n.length;a<u;){if(r>=s)return-1;if(37===(i=e.charCodeAt(a++))){if(i=e.charAt(a++),!(o=b[i in ti?e.charAt(a++):i])||(r=o(t,n,r))<0)return-1}else if(i!=n.charCodeAt(r++))return-1}return r}return _.x=w(n,_),_.X=w(r,_),_.c=w(e,_),x.x=w(n,x),x.X=w(r,x),x.c=w(e,x),{format:function(t){var e=w(t+="",_);return e.toString=function(){return t},e},parse:function(t){var e=k(t+="",!1);return e.toString=function(){return t},e},utcFormat:function(t){var e=w(t+="",x);return e.toString=function(){return t},e},utcParse:function(t){var e=k(t+="",!0);return e.toString=function(){return t},e}}}var Xr,Jr,Zr,Qr,Kr,ti={"-":"",_:" ",0:"0"},ei=/^\s*\d+/,ni=/^%/,ri=/[\\^$*+?|[\]().{}]/g;function ii(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",o=i.length;return r+(o<n?new Array(n-o+1).join(e)+i:i)}function oi(t){return t.replace(ri,"\\$&")}function ai(t){return new RegExp("^(?:"+t.map(oi).join("|")+")","i")}function ui(t){return new Map(t.map(((t,e)=>[t.toLowerCase(),e])))}function si(t,e,n){var r=ei.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function li(t,e,n){var r=ei.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function ci(t,e,n){var r=ei.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function fi(t,e,n){var r=ei.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function hi(t,e,n){var r=ei.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function di(t,e,n){var r=ei.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function pi(t,e,n){var r=ei.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function gi(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function mi(t,e,n){var r=ei.exec(e.slice(n,n+1));return r?(t.q=3*r[0]-3,n+r[0].length):-1}function yi(t,e,n){var r=ei.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function vi(t,e,n){var r=ei.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function _i(t,e,n){var r=ei.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function xi(t,e,n){var r=ei.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function bi(t,e,n){var r=ei.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function wi(t,e,n){var r=ei.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function ki(t,e,n){var r=ei.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function Ai(t,e,n){var r=ei.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function Mi(t,e,n){var r=ni.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function Ei(t,e,n){var r=ei.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function Di(t,e,n){var r=ei.exec(e.slice(n));return r?(t.s=+r[0],n+r[0].length):-1}function Ci(t,e){return ii(t.getDate(),e,2)}function Fi(t,e){return ii(t.getHours(),e,2)}function Si(t,e){return ii(t.getHours()%12||12,e,2)}function Bi(t,e){return ii(1+sn.count(mn(t),t),e,3)}function Ti(t,e){return ii(t.getMilliseconds(),e,3)}function Ni(t,e){return Ti(t,e)+"000"}function zi(t,e){return ii(t.getMonth()+1,e,2)}function Oi(t,e){return ii(t.getMinutes(),e,2)}function Ri(t,e){return ii(t.getSeconds(),e,2)}function Li(t){var e=t.getDay();return 0===e?7:e}function Ui(t,e){return ii(cn.count(mn(t)-1,t),e,2)}function qi(t){var e=t.getDay();return e>=4||0===e?hn(t):hn.ceil(t)}function Pi(t,e){return t=qi(t),ii(hn.count(mn(t),t)+(4===mn(t).getDay()),e,2)}function ji(t){return t.getDay()}function Ii(t,e){return ii(fn.count(mn(t)-1,t),e,2)}function $i(t,e){return ii(t.getFullYear()%100,e,2)}function Wi(t,e){return ii((t=qi(t)).getFullYear()%100,e,2)}function Hi(t,e){return ii(t.getFullYear()%1e4,e,4)}function Yi(t,e){var n=t.getDay();return ii((t=n>=4||0===n?hn(t):hn.ceil(t)).getFullYear()%1e4,e,4)}function Gi(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+ii(e/60|0,"0",2)+ii(e%60,"0",2)}function Vi(t,e){return ii(t.getUTCDate(),e,2)}function Xi(t,e){return ii(t.getUTCHours(),e,2)}function Ji(t,e){return ii(t.getUTCHours()%12||12,e,2)}function Zi(t,e){return ii(1+wn.count(Sn(t),t),e,3)}function Qi(t,e){return ii(t.getUTCMilliseconds(),e,3)}function Ki(t,e){return Qi(t,e)+"000"}function to(t,e){return ii(t.getUTCMonth()+1,e,2)}function eo(t,e){return ii(t.getUTCMinutes(),e,2)}function no(t,e){return ii(t.getUTCSeconds(),e,2)}function ro(t){var e=t.getUTCDay();return 0===e?7:e}function io(t,e){return ii(An.count(Sn(t)-1,t),e,2)}function oo(t){var e=t.getUTCDay();return e>=4||0===e?En(t):En.ceil(t)}function ao(t,e){return t=oo(t),ii(En.count(Sn(t),t)+(4===Sn(t).getUTCDay()),e,2)}function uo(t){return t.getUTCDay()}function so(t,e){return ii(Mn.count(Sn(t)-1,t),e,2)}function lo(t,e){return ii(t.getUTCFullYear()%100,e,2)}function co(t,e){return ii((t=oo(t)).getUTCFullYear()%100,e,2)}function fo(t,e){return ii(t.getUTCFullYear()%1e4,e,4)}function ho(t,e){var n=t.getUTCDay();return ii((t=n>=4||0===n?En(t):En.ceil(t)).getUTCFullYear()%1e4,e,4)}function po(){return"+0000"}function go(){return"%"}function mo(t){return+t}function yo(t){return Math.floor(+t/1e3)}function vo(t){const e={};return n=>e[n]||(e[n]=t(n))}function _o(t){const e=vo(t.format),n=t.formatPrefix;return{format:e,formatPrefix:n,formatFloat(t){const n=Ce(t||",");if(null==n.precision){switch(n.precision=12,n.type){case"%":n.precision-=2;break;case"e":n.precision-=1}return r=e(n),i=e(".1f")(1)[1],t=>{const e=r(t),n=e.indexOf(i);if(n<0)return e;let o=function(t,e){let n,r=t.lastIndexOf("e");if(r>0)return r;for(r=t.length;--r>e;)if(n=t.charCodeAt(r),n>=48&&n<=57)return r+1}(e,n);const a=o<e.length?e.slice(o):"";for(;--o>n;)if("0"!==e[o]){++o;break}return e.slice(0,o)+a}}return e(n);var r,i},formatSpan(t,r,i,o){o=Ce(null==o?",f":o);const a=he(t,r,i),u=Math.max(Math.abs(t),Math.abs(r));let s;if(null==o.precision)switch(o.type){case"s":return isNaN(s=Pe(a,u))||(o.precision=s),n(o,u);case"":case"e":case"g":case"p":case"r":isNaN(s=je(a,u))||(o.precision=s-("e"===o.type));break;case"f":case"%":isNaN(s=qe(a))||(o.precision=s-2*("%"===o.type))}return e(o)}}}let xo,bo;function wo(){return xo=_o({format:ze,formatPrefix:Oe})}function ko(t){return _o(Ue(t))}function Ao(t){return arguments.length?xo=ko(t):xo}function Mo(t,e,n){_(n=n||{})||u("Invalid time multi-format specifier: ".concat(n));const r=e(Hn),i=e(Wn),o=e($n),a=e(Pn),s=e(qn),l=e(Un),c=e(Ln),f=e(Rn),h=t(n.milliseconds||".%L"),d=t(n.seconds||":%S"),p=t(n.minutes||"%I:%M"),g=t(n.hours||"%I %p"),m=t(n.date||n.day||"%a %d"),y=t(n.week||"%b %d"),v=t(n.month||"%B"),x=t(n.quarter||"%B"),b=t(n.year||"%Y");return t=>(r(t)<t?h:i(t)<t?d:o(t)<t?p:a(t)<t?g:l(t)<t?s(t)<t?m:y:f(t)<t?c(t)<t?v:x:b)(t)}function Eo(t){const e=vo(t.format),n=vo(t.utcFormat);return{timeFormat:t=>pt(t)?e(t):Mo(e,wr,t),utcFormat:t=>pt(t)?n(t):Mo(n,kr,t),timeParse:vo(t.parse),utcParse:vo(t.utcParse)}}function Do(){return bo=Eo({format:Jr,parse:Zr,utcFormat:Qr,utcParse:Kr})}function Co(t){return Eo(Vr(t))}function Fo(t){return arguments.length?bo=Co(t):bo}!function(t){Xr=Vr(t),Jr=Xr.format,Zr=Xr.parse,Qr=Xr.utcFormat,Kr=Xr.utcParse}({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]}),wo(),Do();const So=(t,e)=>K({},t,e);function Bo(t,e){const n=t?ko(t):Ao(),r=e?Co(e):Fo();return So(n,r)}function To(t,e){const n=arguments.length;return n&&2!==n&&u("defaultLocale expects either zero or two arguments."),n?So(Ao(t),Fo(e)):So(Ao(),Fo())}const No=/^(data:|([A-Za-z]+:)?\/\/)/,zo=/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|cid|xmpp|file|data):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i,Oo=/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205f\u3000]/g,Ro="file://";async function Lo(t,e){const n=await this.sanitize(t,e),r=n.href;return n.localFile?this.file(r):this.http(r,e)}async function Uo(t,e){e=K({},this.options,e);const n=this.fileAccess,r={href:null};let i,o,a;const s=zo.test(t.replace(Oo,""));null!=t&&"string"==typeof t&&s||u("Sanitize failure, invalid URI: "+wt(t));const l=No.test(t);return(a=e.baseURL)&&!l&&(t.startsWith("/")||a.endsWith("/")||(t="/"+t),t=a+t),o=(i=t.startsWith(Ro))||"file"===e.mode||"http"!==e.mode&&!l&&n,i?t=t.slice(Ro.length):t.startsWith("//")&&("file"===e.defaultProtocol?(t=t.slice(2),o=!0):t=(e.defaultProtocol||"http")+":"+t),Object.defineProperty(r,"localFile",{value:!!o}),r.href=t,e.target&&(r.target=e.target+""),e.rel&&(r.rel=e.rel+""),"image"===e.context&&e.crossOrigin&&(r.crossOrigin=e.crossOrigin+""),r}function qo(t){return t?e=>new Promise(((n,r)=>{t.readFile(e,((t,e)=>{t?r(t):n(e)}))})):Po}async function Po(){u("No file system access.")}function jo(t){return t?async function(e,n){const r=K({},this.options.http,n),i=n&&n.response,o=await t(e,r);return o.ok?H(o[i])?o[i]():o.text():u(o.status+""+o.statusText)}:Io}async function Io(){u("No HTTP fetch method available.")}const $o=t=>!(Number.isNaN(+t)||t instanceof Date),Wo={boolean:kt,integer:M,number:M,date:Mt,string:Et,unknown:f},Ho=[t=>"true"===t||"false"===t||!0===t||!1===t,t=>$o(t)&&Number.isInteger(+t),$o,t=>!Number.isNaN(Date.parse(t))],Yo=["boolean","integer","number","date"];function Go(t,e){if(!t||!t.length)return"unknown";const n=t.length,r=Ho.length,i=Ho.map(((t,e)=>e+1));for(let a,u,s=0,l=0;s<n;++s)for(u=e?t[s][e]:t[s],a=0;a<r;++a)if(i[a]&&(null!=(o=u)&&o==o)&&!Ho[a](u)&&(i[a]=0,++l,l===Ho.length))return"string";var o;return Yo[i.reduce(((t,e)=>0===t?e:t),0)-1]}function Vo(t,e){return e.reduce(((e,n)=>(e[n]=Go(t,n),e)),{})}function Xo(t){const e=function(e,n){const r={delimiter:t};return Jo(e,n?K(n,r):r)};return e.responseType="text",e}function Jo(t,e){return e.header&&(t=e.header.map(wt).join(e.delimiter)+"\n"+t),Rt(e.delimiter).parse(t+"")}function Zo(t,e){const n=e&&e.property?l(e.property):f;return!_(t)||(r=t,"function"==typeof Buffer&&H(Buffer.isBuffer)&&Buffer.isBuffer(r))?n(JSON.parse(t)):function(t,e){!v(t)&&ft(t)&&(t=[...t]);return e&&e.copy?JSON.parse(JSON.stringify(t)):t}(n(t),e);var r}Jo.responseType="text",Zo.responseType="json";const Qo={interior:(t,e)=>t!==e,exterior:(t,e)=>t===e};function Ko(t,e){let n,r,i,o;return t=Zo(t,e),e&&e.feature?(n=Ut,i=e.feature):e&&e.mesh?(n=It,i=e.mesh,o=Qo[e.filter]):u("Missing TopoJSON feature or mesh parameter."),r=(r=t.objects[i])?n(t,r,o):u("Invalid TopoJSON object: "+i),r&&r.features||[r]}Ko.responseType="json";const ta={dsv:Jo,csv:Xo(","),tsv:Xo("\t"),json:Zo,topojson:Ko};function ea(t,e){return arguments.length>1?(ta[t]=e,this):rt(ta,t)?ta[t]:null}function na(t){const e=ea(t);return e&&e.responseType||"text"}function ra(t,e,n,r){const i=ea((e=e||{}).type||"json");return i||u("Unknown data format type: "+e.type),t=i(t,e),e.parse&&function(t,e,n,r){if(!t.length)return;const i=Fo();n=n||i.timeParse,r=r||i.utcParse;let o,a,u,s,l,c,f=t.columns||Object.keys(t[0]);"auto"===e&&(e=Vo(t,f));f=Object.keys(e);const h=f.map((t=>{const i=e[t];let o,a;if(i&&(i.startsWith("date:")||i.startsWith("utc:"))){o=i.split(/:(.+)?/,2),a=o[1],("'"===a[0]&&"'"===a[a.length-1]||'"'===a[0]&&'"'===a[a.length-1])&&(a=a.slice(1,-1));return("utc"===o[0]?r:n)(a)}if(!Wo[i])throw Error("Illegal format pattern: "+t+":"+i);return Wo[i]}));for(u=0,l=t.length,c=f.length;u<l;++u)for(o=t[u],s=0;s<c;++s)a=f[s],o[a]=h[s](o[a])}(t,e.parse,n,r),rt(t,"columns")&&delete t.columns,t}const ia=function(t,e){return n=>({options:n||{},sanitize:Uo,load:Lo,fileAccess:!!e,file:qo(e),http:jo(t)})}("undefined"!=typeof fetch&&fetch,null);function oa(t){const e=t||f,n=[],r={};return n.add=t=>{const i=e(t);return r[i]||(r[i]=1,n.push(t)),n},n.remove=t=>{const i=e(t);if(r[i]){r[i]=0;const e=n.indexOf(t);e>=0&&n.splice(e,1)}return n},n}async function aa(t,e){try{await e(t)}catch(e){t.error(e)}}const ua=Symbol("vega_id");let sa=1;function la(t){return!(!t||!ca(t))}function ca(t){return t[ua]}function fa(t,e){return t[ua]=e,t}function ha(t){const e=t===Object(t)?t:{data:t};return ca(e)?e:fa(e,sa++)}function da(t){return pa(t,ha({}))}function pa(t,e){for(const n in t)e[n]=t[n];return e}function ga(t,e){return fa(e,ca(t))}function ma(t,e){return t?e?(n,r)=>t(n,r)||ca(e(n))-ca(e(r)):(e,n)=>t(e,n)||ca(e)-ca(n):null}function ya(t){return t&&t.constructor===va}function va(){const t=[],e=[],n=[],r=[],i=[];let o=null,a=!1;return{constructor:va,insert(e){const n=$(e),r=n.length;for(let e=0;e<r;++e)t.push(n[e]);return this},remove(t){const n=H(t)?r:e,i=$(t),o=i.length;for(let t=0;t<o;++t)n.push(i[t]);return this},modify(t,e,r){const o={field:e,value:Z(r)};return H(t)?(o.filter=t,i.push(o)):(o.tuple=t,n.push(o)),this},encode(t,e){return H(t)?i.push({filter:t,field:e}):n.push({tuple:t,field:e}),this},clean(t){return o=t,this},reflow(){return a=!0,this},pulse(u,s){const l={},c={};let f,h,d,p,g,m;for(f=0,h=s.length;f<h;++f)l[ca(s[f])]=1;for(f=0,h=e.length;f<h;++f)g=e[f],l[ca(g)]=-1;for(f=0,h=r.length;f<h;++f)p=r[f],s.forEach((t=>{p(t)&&(l[ca(t)]=-1)}));for(f=0,h=t.length;f<h;++f)g=t[f],m=ca(g),l[m]?l[m]=1:u.add.push(ha(t[f]));for(f=0,h=s.length;f<h;++f)g=s[f],l[ca(g)]<0&&u.rem.push(g);function y(t,e,n){n?t[e]=n(t):u.encode=e,a||(c[ca(t)]=t)}for(f=0,h=n.length;f<h;++f)d=n[f],g=d.tuple,p=d.field,m=l[ca(g)],m>0&&(y(g,p,d.value),u.modifies(p));for(f=0,h=i.length;f<h;++f)d=i[f],p=d.filter,s.forEach((t=>{p(t)&&l[ca(t)]>0&&y(t,d.field,d.value)})),u.modifies(d.field);if(a)u.mod=e.length||r.length?s.filter((t=>l[ca(t)]>0)):s.slice();else for(m in c)u.mod.push(c[m]);return(o||null==o&&(e.length||r.length))&&u.clean(!0),u}}}const _a="_:mod:_";function xa(){Object.defineProperty(this,_a,{writable:!0,value:{}})}xa.prototype={set(t,e,n,r){const i=this,o=i[t],a=i[_a];return null!=e&&e>=0?(o[e]!==n||r)&&(o[e]=n,a[e+":"+t]=-1,a[t]=-1):(o!==n||r)&&(i[t]=n,a[t]=v(n)?1+n.length:-1),i},modified(t,e){const n=this[_a];if(!arguments.length){for(const t in n)if(n[t])return!0;return!1}if(v(t)){for(let e=0;e<t.length;++e)if(n[t[e]])return!0;return!1}return null!=e&&e>=0?e+1<n[t]||!!n[e+":"+t]:!!n[t]},clear(){return this[_a]={},this}};let ba=0;const wa=new xa;function ka(t,e,n,r){this.id=++ba,this.value=t,this.stamp=-1,this.rank=-1,this.qrank=-1,this.flags=0,e&&(this._update=e),n&&this.parameters(n,r)}function Aa(t){return function(e){const n=this.flags;return 0===arguments.length?!!(n&t):(this.flags=e?n|t:n&~t,this)}}ka.prototype={targets(){return this._targets||(this._targets=oa(c))},set(t){return this.value!==t?(this.value=t,1):0},skip:Aa(1),modified:Aa(2),parameters(t,e,n){e=!1!==e;const r=this._argval=this._argval||new xa,i=this._argops=this._argops||[],o=[];let a,s,l,c;const f=(t,n,a)=>{a instanceof ka?(a!==this&&(e&&a.targets().add(this),o.push(a)),i.push({op:a,name:t,index:n})):r.set(t,n,a)};for(a in t)if(s=t[a],"pulse"===a)$(s).forEach((t=>{t instanceof ka?t!==this&&(t.targets().add(this),o.push(t)):u("Pulse parameters must be operator instances.")})),this.source=s;else if(v(s))for(r.set(a,-1,Array(l=s.length)),c=0;c<l;++c)f(a,c,s[c]);else f(a,-1,s);return this.marshall().clear(),n&&(i.initonly=!0),o},marshall(t){const e=this._argval||wa,n=this._argops;let r,i,o,a;if(n){const u=n.length;for(i=0;i<u;++i)r=n[i],o=r.op,a=o.modified()&&o.stamp===t,e.set(r.name,r.index,o.value,a);if(n.initonly){for(i=0;i<u;++i)r=n[i],r.op.targets().remove(this);this._argops=null,this._update=null}}return e},detach(){const t=this._argops;let e,n,r,i;if(t)for(e=0,n=t.length;e<n;++e)r=t[e],i=r.op,i._targets&&i._targets.remove(this);this.pulse=null,this.source=null},evaluate(t){const e=this._update;if(e){const n=this.marshall(t.stamp),r=e.call(this,n,t);if(n.clear(),r!==this.value)this.value=r;else if(!this.modified())return t.StopPropagation}},run(t){if(t.stamp<this.stamp)return t.StopPropagation;let e;return this.skip()?(this.skip(!1),e=0):e=this.evaluate(t),this.pulse=e||t}};let Ma=0;function Ea(t,e,n){this.id=++Ma,this.value=null,n&&(this.receive=n),t&&(this._filter=t),e&&(this._apply=e)}function Da(t,e,n){return new Ea(t,e,n)}Ea.prototype={_filter:p,_apply:f,targets(){return this._targets||(this._targets=oa(c))},consume(t){return arguments.length?(this._consume=!!t,this):!!this._consume},receive(t){if(this._filter(t)){const e=this.value=this._apply(t),n=this._targets,r=n?n.length:0;for(let t=0;t<r;++t)n[t].receive(e);this._consume&&(t.preventDefault(),t.stopPropagation())}},filter(t){const e=Da(t);return this.targets().add(e),e},apply(t){const e=Da(null,t);return this.targets().add(e),e},merge(){const t=Da();this.targets().add(t);for(let e=0,n=arguments.length;e<n;++e)arguments[e].targets().add(t);return t},throttle(t){let e=-1;return this.filter((()=>{const n=Date.now();return n-e>t?(e=n,1):0}))},debounce(t){const e=Da();return this.targets().add(Da(null,null,Q(t,(t=>{const n=t.dataflow;e.receive(t),n&&n.run&&n.run()})))),e},between(t,e){let n=!1;return t.targets().add(Da(null,null,(()=>n=!0))),e.targets().add(Da(null,null,(()=>n=!1))),this.filter((()=>n))},detach(){this._filter=p,this._targets=null}};const Ca={skip:!0};function Fa(t,e,n,r,i,o){const a=K({},o,Ca);let u,s;H(n)||(n=Z(n)),void 0===r?u=e=>t.touch(n(e)):H(r)?(s=new ka(null,r,i,!1),u=e=>{s.evaluate(e);const r=n(e),i=s.value;ya(i)?t.pulse(r,i,o):t.update(r,i,a)}):u=e=>t.update(n(e),r,a),e.apply(u)}function Sa(t,e,n,r,i,o){if(void 0===r)e.targets().add(n);else{const a=o||{},u=new ka(null,function(t,e){return e=H(e)?e:Z(e),t?function(n,r){const i=e(n,r);return t.skip()||(t.skip(i!==this.value).value=i),i}:e}(n,r),i,!1);u.modified(a.force),u.rank=e.rank,e.targets().add(u),n&&(u.skip(!0),u.value=n.value,u.targets().add(n),t.connect(n,[u]))}}const Ba={};function Ta(t,e,n){this.dataflow=t,this.stamp=null==e?-1:e,this.add=[],this.rem=[],this.mod=[],this.fields=null,this.encode=n||null}function Na(t,e){const n=[];return Ft(t,e,(t=>n.push(t))),n}function za(t,e){const n={};return t.visit(e,(t=>{n[ca(t)]=1})),t=>n[ca(t)]?null:t}function Oa(t,e){return t?(n,r)=>t(n,r)&&e(n,r):e}function Ra(t,e,n,r){const i=this;let o=0;this.dataflow=t,this.stamp=e,this.fields=null,this.encode=r||null,this.pulses=n;for(const t of n)if(t.stamp===e){if(t.fields){const e=i.fields||(i.fields={});for(const n in t.fields)e[n]=1}t.changed(i.ADD)&&(o|=i.ADD),t.changed(i.REM)&&(o|=i.REM),t.changed(i.MOD)&&(o|=i.MOD)}this.changes=o}function La(t){return t.error("Dataflow already running. Use runAsync() to chain invocations."),t}Ta.prototype={StopPropagation:Ba,ADD:1,REM:2,MOD:4,ADD_REM:3,ADD_MOD:5,ALL:7,REFLOW:8,SOURCE:16,NO_SOURCE:32,NO_FIELDS:64,fork(t){return new Ta(this.dataflow).init(this,t)},clone(){const t=this.fork(7);return t.add=t.add.slice(),t.rem=t.rem.slice(),t.mod=t.mod.slice(),t.source&&(t.source=t.source.slice()),t.materialize(23)},addAll(){let t=this;return!t.source||t.add===t.rem||!t.rem.length&&t.source.length===t.add.length||(t=new Ta(this.dataflow).init(this),t.add=t.source,t.rem=[]),t},init(t,e){const n=this;return n.stamp=t.stamp,n.encode=t.encode,!t.fields||64&e||(n.fields=t.fields),1&e?(n.addF=t.addF,n.add=t.add):(n.addF=null,n.add=[]),2&e?(n.remF=t.remF,n.rem=t.rem):(n.remF=null,n.rem=[]),4&e?(n.modF=t.modF,n.mod=t.mod):(n.modF=null,n.mod=[]),32&e?(n.srcF=null,n.source=null):(n.srcF=t.srcF,n.source=t.source,t.cleans&&(n.cleans=t.cleans)),n},runAfter(t){this.dataflow.runAfter(t)},changed(t){const e=t||7;return 1&e&&this.add.length||2&e&&this.rem.length||4&e&&this.mod.length},reflow(t){if(t)return this.fork(7).reflow();const e=this.add.length,n=this.source&&this.source.length;return n&&n!==e&&(this.mod=this.source,e&&this.filter(4,za(this,1))),this},clean(t){return arguments.length?(this.cleans=!!t,this):this.cleans},modifies(t){const e=this.fields||(this.fields={});return v(t)?t.forEach((t=>e[t]=!0)):e[t]=!0,this},modified(t,e){const n=this.fields;return!(!e&&!this.mod.length||!n)&&(arguments.length?v(t)?t.some((t=>n[t])):n[t]:!!n)},filter(t,e){const n=this;return 1&t&&(n.addF=Oa(n.addF,e)),2&t&&(n.remF=Oa(n.remF,e)),4&t&&(n.modF=Oa(n.modF,e)),16&t&&(n.srcF=Oa(n.srcF,e)),n},materialize(t){const e=this;return 1&(t=t||7)&&e.addF&&(e.add=Na(e.add,e.addF),e.addF=null),2&t&&e.remF&&(e.rem=Na(e.rem,e.remF),e.remF=null),4&t&&e.modF&&(e.mod=Na(e.mod,e.modF),e.modF=null),16&t&&e.srcF&&(e.source=e.source.filter(e.srcF),e.srcF=null),e},visit(t,e){const n=this,r=e;if(16&t)return Ft(n.source,n.srcF,r),n;1&t&&Ft(n.add,n.addF,r),2&t&&Ft(n.rem,n.remF,r),4&t&&Ft(n.mod,n.modF,r);const i=n.source;if(8&t&&i){const t=n.add.length+n.mod.length;t===i.length||Ft(i,t?za(n,5):n.srcF,r)}return n}},ut(Ra,Ta,{fork(t){const e=new Ta(this.dataflow).init(this,t&this.NO_FIELDS);return void 0!==t&&(t&e.ADD&&this.visit(e.ADD,(t=>e.add.push(t))),t&e.REM&&this.visit(e.REM,(t=>e.rem.push(t))),t&e.MOD&&this.visit(e.MOD,(t=>e.mod.push(t)))),e},changed(t){return this.changes&t},modified(t){const e=this,n=e.fields;return n&&e.changes&e.MOD?v(t)?t.some((t=>n[t])):n[t]:0},filter(){u("MultiPulse does not support filtering.")},materialize(){u("MultiPulse does not support materialization.")},visit(t,e){const n=this,r=n.pulses,i=r.length;let o=0;if(t&n.SOURCE)for(;o<i;++o)r[o].visit(t,e);else for(;o<i;++o)r[o].stamp===n.stamp&&r[o].visit(t,e);return n}});const Ua={skip:!1,force:!1};function qa(t){let e=[];return{clear:()=>e=[],size:()=>e.length,peek:()=>e[0],push:n=>(e.push(n),Pa(e,0,e.length-1,t)),pop:()=>{const n=e.pop();let r;return e.length?(r=e[0],e[0]=n,function(t,e,n){const r=e,i=t.length,o=t[e];let a,u=1+(e<<1);for(;u<i;)a=u+1,a<i&&n(t[u],t[a])>=0&&(u=a),t[e]=t[u],u=1+((e=u)<<1);t[e]=o,Pa(t,r,e,n)}(e,0,t)):r=n,r}}}function Pa(t,e,n,r){let i,o;const a=t[n];for(;n>e&&(o=n-1>>1,i=t[o],r(a,i)<0);)t[n]=i,n=o;return t[n]=a}function ja(){this.logger(y()),this.logLevel(1),this._clock=0,this._rank=0,this._locale=To();try{this._loader=ia()}catch(t){}this._touched=oa(c),this._input={},this._pulse=null,this._heap=qa(((t,e)=>t.qrank-e.qrank)),this._postrun=[]}function Ia(t){return function(){return this._log[t].apply(this,arguments)}}function $a(t,e){ka.call(this,t,null,e)}ja.prototype={stamp(){return this._clock},loader(t){return arguments.length?(this._loader=t,this):this._loader},locale(t){return arguments.length?(this._locale=t,this):this._locale},logger(t){return arguments.length?(this._log=t,this):this._log},error:Ia("error"),warn:Ia("warn"),info:Ia("info"),debug:Ia("debug"),logLevel:Ia("level"),cleanThreshold:1e4,add:function(t,e,n,r){let i,o=1;return t instanceof ka?i=t:t&&t.prototype instanceof ka?i=new t:H(t)?i=new ka(null,t):(o=0,i=new ka(t,e)),this.rank(i),o&&(r=n,n=e),n&&this.connect(i,i.parameters(n,r)),this.touch(i),i},connect:function(t,e){const n=t.rank,r=e.length;for(let i=0;i<r;++i)if(n<e[i].rank)return void this.rerank(t)},rank:function(t){t.rank=++this._rank},rerank:function(t){const e=[t];let n,r,i;for(;e.length;)if(this.rank(n=e.pop()),r=n._targets)for(i=r.length;--i>=0;)e.push(n=r[i]),n===t&&u("Cycle detected in dataflow graph.")},pulse:function(t,e,n){this.touch(t,n||Ua);const r=new Ta(this,this._clock+(this._pulse?0:1)),i=t.pulse&&t.pulse.source||[];return r.target=t,this._input[t.id]=e.pulse(r,i),this},touch:function(t,e){const n=e||Ua;return this._pulse?this._enqueue(t):this._touched.add(t),n.skip&&t.skip(!0),this},update:function(t,e,n){const r=n||Ua;return(t.set(e)||r.force)&&this.touch(t,r),this},changeset:va,ingest:function(t,e,n){return e=this.parse(e,n),this.pulse(t,this.changeset().insert(e))},parse:function(t,e){const n=this.locale();return ra(t,e,n.timeParse,n.utcParse)},preload:async function(t,e,n){const r=this,i=r._pending||function(t){let e;const n=new Promise((t=>e=t));return n.requests=0,n.done=()=>{0==--n.requests&&(t._pending=null,e(t))},t._pending=n}(r);i.requests+=1;const o=await r.request(e,n);return r.pulse(t,r.changeset().remove(p).insert(o.data||[])),i.done(),o},request:async function(t,e){const n=this;let r,i=0;try{r=await n.loader().load(t,{context:"dataflow",response:na(e&&e.type)});try{r=n.parse(r,e)}catch(e){i=-2,n.warn("Data ingestion failed",t,e)}}catch(e){i=-1,n.warn("Loading failed",t,e)}return{data:r,status:i}},events:function(t,e,n,r){const i=this,o=Da(n,r),a=function(t){t.dataflow=i;try{o.receive(t)}catch(t){i.error(t)}finally{i.run()}};let u;u="string"==typeof t&&"undefined"!=typeof document?document.querySelectorAll(t):$(t);const s=u.length;for(let t=0;t<s;++t)u[t].addEventListener(e,a);return o},on:function(t,e,n,r,i){return(t instanceof ka?Sa:Fa)(this,t,e,n,r,i),this},evaluate:async function(t,e,n){const r=this,i=[];if(r._pulse)return La(r);if(r._pending&&await r._pending,e&&await aa(r,e),!r._touched.length)return r.debug("Dataflow invoked, but nothing to do."),r;const o=++r._clock;r._pulse=new Ta(r,o,t),r._touched.forEach((t=>r._enqueue(t,!0))),r._touched=oa(c);let a,u,s,l=0;try{for(;r._heap.size()>0;)a=r._heap.pop(),a.rank===a.qrank?(u=a.run(r._getPulse(a,t)),u.then?u=await u:u.async&&(i.push(u.async),u=Ba),u!==Ba&&a._targets&&a._targets.forEach((t=>r._enqueue(t))),++l):r._enqueue(a,!0)}catch(t){r._heap.clear(),s=t}if(r._input={},r._pulse=null,r.debug("Pulse ".concat(o,": ").concat(l," operators")),s&&(r._postrun=[],r.error(s)),r._postrun.length){const t=r._postrun.sort(((t,e)=>e.priority-t.priority));r._postrun=[];for(let e=0;e<t.length;++e)await aa(r,t[e].callback)}return n&&await aa(r,n),i.length&&Promise.all(i).then((t=>r.runAsync(null,(()=>{t.forEach((t=>{try{t(r)}catch(t){r.error(t)}}))})))),r},run:function(t,e,n){return this._pulse?La(this):(this.evaluate(t,e,n),this)},runAsync:async function(t,e,n){for(;this._running;)await this._running;const r=()=>this._running=null;return(this._running=this.evaluate(t,e,n)).then(r,r),this._running},runAfter:function(t,e,n){if(this._pulse||e)this._postrun.push({priority:n||0,callback:t});else try{t(this)}catch(t){this.error(t)}},_enqueue:function(t,e){const n=t.stamp<this._clock;n&&(t.stamp=this._clock),(n||e)&&(t.qrank=t.rank,this._heap.push(t))},_getPulse:function(t,e){const n=t.source,r=this._clock;return n&&v(n)?new Ra(this,r,n.map((t=>t.pulse)),e):this._input[t.id]||function(t,e){if(e&&e.stamp===t.stamp)return e;t=t.fork(),e&&e!==Ba&&(t.source=e.source);return t}(this._pulse,n&&n.pulse)}},ut($a,ka,{run(t){if(t.stamp<this.stamp)return t.StopPropagation;let e;return this.skip()?this.skip(!1):e=this.evaluate(t),e=e||t,e.then?e=e.then((t=>this.pulse=t)):e!==t.StopPropagation&&(this.pulse=e),e},evaluate(t){const e=this.marshall(t.stamp),n=this.transform(e,t);return e.clear(),n},transform(){}});const Wa={};function Ha(t){const e=Ya(t);return e&&e.Definition||null}function Ya(t){return t=t&&t.toLowerCase(),rt(Wa,t)?Wa[t]:null}function*Ga(t,e){if(null==e)for(let e of t)null!=e&&""!==e&&(e=+e)>=e&&(yield e);else{let n=-1;for(let r of t)r=e(r,++n,t),null!=r&&""!==r&&(r=+r)>=r&&(yield r)}}function Va(t,e,n){const r=Float64Array.from(Ga(t,n));return r.sort(Ht),e.map((t=>ve(r,t)))}function Xa(t,e){return Va(t,[.25,.5,.75],e)}function Ja(t,e){const n=t.length,r=function(t,e){const n=function(t,e){let n,r=0,i=0,o=0;if(void 0===e)for(let e of t)null!=e&&(e=+e)>=e&&(n=e-i,i+=n/++r,o+=n*(e-i));else{let a=-1;for(let u of t)null!=(u=e(u,++a,t))&&(u=+u)>=u&&(n=u-i,i+=n/++r,o+=n*(u-i))}if(r>1)return o/(r-1)}(t,e);return n?Math.sqrt(n):n}(t,e),i=Xa(t,e),o=(i[2]-i[0])/1.34;return 1.06*(Math.min(r,o)||r||Math.abs(i[0])||1)*Math.pow(n,-.2)}function Za(t){const e=t.maxbins||20,n=t.base||10,r=Math.log(n),i=t.divide||[5,2];let o,a,u,s,l,c,f=t.extent[0],h=t.extent[1];const d=t.span||h-f||Math.abs(f)||1;if(t.step)o=t.step;else if(t.steps){for(s=d/e,l=0,c=t.steps.length;l<c&&t.steps[l]<s;++l);o=t.steps[Math.max(0,l-1)]}else{for(a=Math.ceil(Math.log(e)/r),u=t.minstep||0,o=Math.max(u,Math.pow(n,Math.round(Math.log(d)/r)-a));Math.ceil(d/o)>e;)o*=n;for(l=0,c=i.length;l<c;++l)s=o/i[l],s>=u&&d/s<=e&&(o=s)}s=Math.log(o);const p=s>=0?0:1+~~(-s/r),g=Math.pow(n,-p-1);return(t.nice||void 0===t.nice)&&(s=Math.floor(f/o+g)*o,f=f<s?s-o:s,h=Math.ceil(h/o)*o),{start:f,stop:h===f?f+o:h,step:o}}function Qa(e,n,r,i){if(!e.length)return[void 0,void 0];const o=Float64Array.from(Ga(e,i)),a=o.length,u=n;let s,l,c,f;for(c=0,f=Array(u);c<u;++c){for(s=0,l=0;l<a;++l)s+=o[~~(t.random()*a)];f[c]=s/a}return f.sort(Ht),[ye(f,r/2),ye(f,1-r/2)]}function Ka(t,e,n,r){r=r||(t=>t);const i=t.length,o=new Float64Array(i);let a,u=0,s=1,l=r(t[0]),c=l,f=l+e;for(;s<i;++s){if(a=r(t[s]),a>=f){for(c=(l+c)/2;u<s;++u)o[u]=c;f=a+e,l=a}c=a}for(c=(l+c)/2;u<s;++u)o[u]=c;return n?function(t,e){const n=t.length;let r,i,o=0,a=1;for(;t[o]===t[a];)++a;for(;a<n;){for(r=a+1;t[a]===t[r];)++r;if(t[a]-t[a-1]<e){for(i=a+(o+r-a-a>>1);i<a;)t[i++]=t[a];for(;i>a;)t[i--]=t[o]}o=a,a=r}return t}(o,e+e/4):o}t.random=Math.random;const tu=Math.sqrt(2*Math.PI),eu=Math.SQRT2;let nu=NaN;function ru(e,n){e=e||0,n=null==n?1:n;let r,i,o=0,a=0;if(nu==nu)o=nu,nu=NaN;else{do{o=2*t.random()-1,a=2*t.random()-1,r=o*o+a*a}while(0===r||r>1);i=Math.sqrt(-2*Math.log(r)/r),o*=i,nu=a*i}return e+o*n}function iu(t,e,n){const r=(t-(e||0))/(n=null==n?1:n);return Math.exp(-.5*r*r)/(n*tu)}function ou(t,e,n){const r=(t-(e=e||0))/(n=null==n?1:n),i=Math.abs(r);let o;if(i>37)o=0;else{const t=Math.exp(-i*i/2);let e;i<7.07106781186547?(e=.0352624965998911*i+.700383064443688,e=e*i+6.37396220353165,e=e*i+33.912866078383,e=e*i+112.079291497871,e=e*i+221.213596169931,e=e*i+220.206867912376,o=t*e,e=.0883883476483184*i+1.75566716318264,e=e*i+16.064177579207,e=e*i+86.7807322029461,e=e*i+296.564248779674,e=e*i+637.333633378831,e=e*i+793.826512519948,e=e*i+440.413735824752,o/=e):(e=i+.65,e=i+4/e,e=i+3/e,e=i+2/e,e=i+1/e,o=t/e/2.506628274631)}return r>0?1-o:o}function au(t,e,n){return t<0||t>1?NaN:(e||0)+(null==n?1:n)*eu*function(t){let e,n=-Math.log((1-t)*(1+t));n<6.25?(n-=3.125,e=-364441206401782e-35,e=e*n-16850591381820166e-35,e=128584807152564e-32+e*n,e=11157877678025181e-33+e*n,e=e*n-1333171662854621e-31,e=20972767875968562e-33+e*n,e=6637638134358324e-30+e*n,e=e*n-4054566272975207e-29,e=e*n-8151934197605472e-29,e=26335093153082323e-28+e*n,e=e*n-12975133253453532e-27,e=e*n-5415412054294628e-26,e=1.0512122733215323e-9+e*n,e=e*n-4.112633980346984e-9,e=e*n-2.9070369957882005e-8,e=4.2347877827932404e-7+e*n,e=e*n-13654692000834679e-22,e=e*n-13882523362786469e-21,e=.00018673420803405714+e*n,e=e*n-.000740702534166267,e=e*n-.006033670871430149,e=.24015818242558962+e*n,e=1.6536545626831027+e*n):n<16?(n=Math.sqrt(n)-3.25,e=2.2137376921775787e-9,e=9.075656193888539e-8+e*n,e=e*n-2.7517406297064545e-7,e=1.8239629214389228e-8+e*n,e=15027403968909828e-22+e*n,e=e*n-4013867526981546e-21,e=29234449089955446e-22+e*n,e=12475304481671779e-21+e*n,e=e*n-47318229009055734e-21,e=6828485145957318e-20+e*n,e=24031110387097894e-21+e*n,e=e*n-.0003550375203628475,e=.0009532893797373805+e*n,e=e*n-.0016882755560235047,e=.002491442096107851+e*n,e=e*n-.003751208507569241,e=.005370914553590064+e*n,e=1.0052589676941592+e*n,e=3.0838856104922208+e*n):Number.isFinite(n)?(n=Math.sqrt(n)-5,e=-27109920616438573e-27,e=e*n-2.555641816996525e-10,e=1.5076572693500548e-9+e*n,e=e*n-3.789465440126737e-9,e=7.61570120807834e-9+e*n,e=e*n-1.496002662714924e-8,e=2.914795345090108e-8+e*n,e=e*n-6.771199775845234e-8,e=2.2900482228026655e-7+e*n,e=e*n-9.9298272942317e-7,e=4526062597223154e-21+e*n,e=e*n-1968177810553167e-20,e=7599527703001776e-20+e*n,e=e*n-.00021503011930044477,e=e*n-.00013871931833623122,e=1.0103004648645344+e*n,e=4.849906401408584+e*n):e=1/0;return e*t}(2*t-1)}function uu(t,e){let n,r;const i={mean(t){return arguments.length?(n=t||0,i):n},stdev(t){return arguments.length?(r=null==t?1:t,i):r},sample:()=>ru(n,r),pdf:t=>iu(t,n,r),cdf:t=>ou(t,n,r),icdf:t=>au(t,n,r)};return i.mean(t).stdev(e)}function su(e,n){const r=uu();let i=0;const o={data(t){return arguments.length?(e=t,i=t?t.length:0,o.bandwidth(n)):e},bandwidth(t){return arguments.length?(!(n=t)&&e&&(n=Ja(e)),o):n},sample:()=>e[~~(t.random()*i)]+n*r.sample(),pdf(t){let o=0,a=0;for(;a<i;++a)o+=r.pdf((t-e[a])/n);return o/n/i},cdf(t){let o=0,a=0;for(;a<i;++a)o+=r.cdf((t-e[a])/n);return o/i},icdf(){throw Error("KDE icdf not supported.")}};return o.data(e)}function lu(t,e){return t=t||0,e=null==e?1:e,Math.exp(t+ru()*e)}function cu(t,e,n){if(t<=0)return 0;e=e||0,n=null==n?1:n;const r=(Math.log(t)-e)/n;return Math.exp(-.5*r*r)/(n*tu*t)}function fu(t,e,n){return ou(Math.log(t),e,n)}function hu(t,e,n){return Math.exp(au(t,e,n))}function du(t,e){let n,r;const i={mean(t){return arguments.length?(n=t||0,i):n},stdev(t){return arguments.length?(r=null==t?1:t,i):r},sample:()=>lu(n,r),pdf:t=>cu(t,n,r),cdf:t=>fu(t,n,r),icdf:t=>hu(t,n,r)};return i.mean(t).stdev(e)}function pu(e,n){let r,i=0;const o={weights(t){return arguments.length?(r=function(t){const e=[];let n,r=0;for(n=0;n<i;++n)r+=e[n]=null==t[n]?1:+t[n];for(n=0;n<i;++n)e[n]/=r;return e}(n=t||[]),o):n},distributions(t){return arguments.length?(t?(i=t.length,e=t):(i=0,e=[]),o.weights(n)):e},sample(){const n=t.random();let o=e[i-1],a=r[0],u=0;for(;u<i-1;a+=r[++u])if(n<a){o=e[u];break}return o.sample()},pdf(t){let n=0,o=0;for(;o<i;++o)n+=r[o]*e[o].pdf(t);return n},cdf(t){let n=0,o=0;for(;o<i;++o)n+=r[o]*e[o].cdf(t);return n},icdf(){throw Error("Mixture icdf not supported.")}};return o.distributions(e).weights(n)}function gu(e,n){return null==n&&(n=null==e?1:e,e=0),e+(n-e)*t.random()}function mu(t,e,n){return null==n&&(n=null==e?1:e,e=0),t>=e&&t<=n?1/(n-e):0}function yu(t,e,n){return null==n&&(n=null==e?1:e,e=0),t<e?0:t>n?1:(t-e)/(n-e)}function vu(t,e,n){return null==n&&(n=null==e?1:e,e=0),t>=0&&t<=1?e+t*(n-e):NaN}function _u(t,e){let n,r;const i={min(t){return arguments.length?(n=t||0,i):n},max(t){return arguments.length?(r=null==t?1:t,i):r},sample:()=>gu(n,r),pdf:t=>mu(t,n,r),cdf:t=>yu(t,n,r),icdf:t=>vu(t,n,r)};return null==e&&(e=null==t?1:t,t=0),i.min(t).max(e)}function xu(t,e,n,r){const i=r-t*t,o=Math.abs(i)<1e-24?0:(n-t*e)/i;return[e-o*t,o]}function bu(t,e,n,r){t=t.filter((t=>{let r=e(t),i=n(t);return null!=r&&(r=+r)>=r&&null!=i&&(i=+i)>=i})),r&&t.sort(((t,n)=>e(t)-e(n)));const i=t.length,o=new Float64Array(i),a=new Float64Array(i);let u,s,l,c=0,f=0,h=0;for(l of t)o[c]=u=+e(l),a[c]=s=+n(l),++c,f+=(u-f)/c,h+=(s-h)/c;for(c=0;c<i;++c)o[c]-=f,a[c]-=h;return[o,a,f,h]}function wu(t,e,n,r){let i,o,a=-1;for(const u of t)i=e(u),o=n(u),null!=i&&(i=+i)>=i&&null!=o&&(o=+o)>=o&&r(i,o,++a)}function ku(t,e,n,r,i){let o=0,a=0;return wu(t,e,n,((t,e)=>{const n=e-i(t),u=e-r;o+=n*n,a+=u*u})),1-o/a}function Au(t,e,n){let r=0,i=0,o=0,a=0,u=0;wu(t,e,n,((t,e)=>{++u,r+=(t-r)/u,i+=(e-i)/u,o+=(t*e-o)/u,a+=(t*t-a)/u}));const s=xu(r,i,o,a),l=t=>s[0]+s[1]*t;return{coef:s,predict:l,rSquared:ku(t,e,n,i,l)}}function Mu(t,e,n){let r=0,i=0,o=0,a=0,u=0;wu(t,e,n,((t,e)=>{++u,t=Math.log(t),r+=(t-r)/u,i+=(e-i)/u,o+=(t*e-o)/u,a+=(t*t-a)/u}));const s=xu(r,i,o,a),l=t=>s[0]+s[1]*Math.log(t);return{coef:s,predict:l,rSquared:ku(t,e,n,i,l)}}function Eu(t,e,n){const[r,i,o,a]=bu(t,e,n);let u,s,l,c=0,f=0,h=0,d=0,p=0;wu(t,e,n,((t,e)=>{u=r[p++],s=Math.log(e),l=u*e,c+=(e*s-c)/p,f+=(l-f)/p,h+=(l*s-h)/p,d+=(u*l-d)/p}));const[g,m]=xu(f/a,c/a,h/a,d/a),y=t=>Math.exp(g+m*(t-o));return{coef:[Math.exp(g-m*o),m],predict:y,rSquared:ku(t,e,n,a,y)}}function Du(t,e,n){let r=0,i=0,o=0,a=0,u=0,s=0;wu(t,e,n,((t,e)=>{const n=Math.log(t),l=Math.log(e);++s,r+=(n-r)/s,i+=(l-i)/s,o+=(n*l-o)/s,a+=(n*n-a)/s,u+=(e-u)/s}));const l=xu(r,i,o,a),c=t=>l[0]*Math.pow(t,l[1]);return l[0]=Math.exp(l[0]),{coef:l,predict:c,rSquared:ku(t,e,n,u,c)}}function Cu(t,e,n){const[r,i,o,a]=bu(t,e,n),u=r.length;let s,l,c,f,h=0,d=0,p=0,g=0,m=0;for(s=0;s<u;)l=r[s],c=i[s++],f=l*l,h+=(f-h)/s,d+=(f*l-d)/s,p+=(f*f-p)/s,g+=(l*c-g)/s,m+=(f*c-m)/s;const y=p-h*h,v=h*y-d*d,_=(m*h-g*d)/v,x=(g*y-m*d)/v,b=-_*h,w=t=>_*(t-=o)*t+x*t+b+a;return{coef:[b-x*o+_*o*o+a,x-2*_*o,_],predict:w,rSquared:ku(t,e,n,a,w)}}function Fu(t,e,n,r){if(1===r)return Au(t,e,n);if(2===r)return Cu(t,e,n);const[i,o,a,u]=bu(t,e,n),s=i.length,l=[],c=[],f=r+1;let h,d,p,g,m;for(h=0;h<f;++h){for(p=0,g=0;p<s;++p)g+=Math.pow(i[p],h)*o[p];for(l.push(g),m=new Float64Array(f),d=0;d<f;++d){for(p=0,g=0;p<s;++p)g+=Math.pow(i[p],h+d);m[d]=g}c.push(m)}c.push(l);const y=function(t){const e=t.length-1,n=[];let r,i,o,a,u;for(r=0;r<e;++r){for(a=r,i=r+1;i<e;++i)Math.abs(t[r][i])>Math.abs(t[r][a])&&(a=i);for(o=r;o<e+1;++o)u=t[o][r],t[o][r]=t[o][a],t[o][a]=u;for(i=r+1;i<e;++i)for(o=e;o>=r;o--)t[o][i]-=t[o][r]*t[r][i]/t[r][r]}for(i=e-1;i>=0;--i){for(u=0,o=i+1;o<e;++o)u+=t[o][i]*n[o];n[i]=(t[e][i]-u)/t[i][i]}return n}(c),v=t=>{t-=a;let e=u+y[0]+y[1]*t+y[2]*t*t;for(h=3;h<f;++h)e+=y[h]*Math.pow(t,h);return e};return{coef:Su(f,y,-a,u),predict:v,rSquared:ku(t,e,n,u,v)}}function Su(t,e,n,r){const i=Array(t);let o,a,u,s;for(o=0;o<t;++o)i[o]=0;for(o=t-1;o>=0;--o)for(u=e[o],s=1,i[o]+=u,a=1;a<=o;++a)s*=(o+1-a)/a,i[o-a]+=u*Math.pow(n,a)*s;return i[0]+=r,i}function Bu(t,e,n,r){const[i,o,a,u]=bu(t,e,n,!0),s=i.length,l=Math.max(2,~~(r*s)),c=new Float64Array(s),f=new Float64Array(s),h=new Float64Array(s).fill(1);for(let t=-1;++t<=2;){const e=[0,l-1];for(let t=0;t<s;++t){const n=i[t],r=e[0],a=e[1],u=n-i[r]>i[a]-n?r:a;let s=0,l=0,d=0,p=0,g=0;const m=1/Math.abs(i[u]-n||1);for(let t=r;t<=a;++t){const e=i[t],r=o[t],a=Tu(Math.abs(n-e)*m)*h[t],u=e*a;s+=a,l+=u,d+=r*a,p+=r*u,g+=e*u}const[y,v]=xu(l/s,d/s,p/s,g/s);c[t]=y+v*n,f[t]=Math.abs(o[t]-c[t]),Nu(i,t+1,e)}if(2===t)break;const n=_e(f);if(Math.abs(n)<1e-12)break;for(let t,e,r=0;r<s;++r)t=f[r]/(6*n),h[r]=t>=1?1e-12:(e=1-t*t)*e}return function(t,e,n,r){const i=t.length,o=[];let a,u=0,s=0,l=[];for(;u<i;++u)a=t[u]+n,l[0]===a?l[1]+=(e[u]-l[1])/++s:(s=0,l[1]+=r,l=[a,e[u]],o.push(l));return l[1]+=r,o}(i,c,a,u)}function Tu(t){return(t=1-t*t*t)*t*t}function Nu(t,e,n){const r=t[e];let i=n[0],o=n[1]+1;if(!(o>=t.length))for(;e>i&&t[o]-r<=r-t[i];)n[0]=++i,n[1]=o,++o}const zu=.5*Math.PI/180;function Ou(t,e,n,r){n=n||25,r=Math.max(n,r||200);const i=e=>[e,t(e)],o=e[0],a=e[1],u=a-o,s=u/r,l=[i(o)],c=[];if(n===r){for(let t=1;t<r;++t)l.push(i(o+t/n*u));return l.push(i(a)),l}c.push(i(a));for(let t=n;--t>0;)c.push(i(o+t/n*u));let f=l[0],h=c[c.length-1];const d=1/u,p=function(t,e){let n=t,r=t;const i=e.length;for(let t=0;t<i;++t){const i=e[t][1];i<n&&(n=i),i>r&&(r=i)}return 1/(r-n)}(f[1],c);for(;h;){const t=i((f[0]+h[0])/2);t[0]-f[0]>=s&&Ru(f,t,h,d,p)>zu?c.push(t):(f=h,l.push(h),c.pop()),h=c[c.length-1]}return l}function Ru(t,e,n,r,i){const o=Math.atan2(i*(n[1]-t[1]),r*(n[0]-t[0])),a=Math.atan2(i*(e[1]-t[1]),r*(e[0]-t[0]));return Math.abs(o-a)}function Lu(t){return t&&t.length?1===t.length?t[0]:(e=t,t=>{const n=e.length;let r=1,i=String(e[0](t));for(;r<n;++r)i+="|"+e[r](t);return i}):function(){return""};var e}function Uu(t,e,n){return n||t+(e?"_"+e:"")}const qu=()=>{},Pu={init:qu,add:qu,rem:qu,idx:0},ju={values:{init:t=>t.cell.store=!0,value:t=>t.cell.data.values(),idx:-1},count:{value:t=>t.cell.num},__count__:{value:t=>t.missing+t.valid},missing:{value:t=>t.missing},valid:{value:t=>t.valid},sum:{init:t=>t.sum=0,value:t=>t.sum,add:(t,e)=>t.sum+=+e,rem:(t,e)=>t.sum-=e},product:{init:t=>t.product=1,value:t=>t.valid?t.product:void 0,add:(t,e)=>t.product*=e,rem:(t,e)=>t.product/=e},mean:{init:t=>t.mean=0,value:t=>t.valid?t.mean:void 0,add:(t,e)=>(t.mean_d=e-t.mean,t.mean+=t.mean_d/t.valid),rem:(t,e)=>(t.mean_d=e-t.mean,t.mean-=t.valid?t.mean_d/t.valid:t.mean)},average:{value:t=>t.valid?t.mean:void 0,req:["mean"],idx:1},variance:{init:t=>t.dev=0,value:t=>t.valid>1?t.dev/(t.valid-1):void 0,add:(t,e)=>t.dev+=t.mean_d*(e-t.mean),rem:(t,e)=>t.dev-=t.mean_d*(e-t.mean),req:["mean"],idx:1},variancep:{value:t=>t.valid>1?t.dev/t.valid:void 0,req:["variance"],idx:2},stdev:{value:t=>t.valid>1?Math.sqrt(t.dev/(t.valid-1)):void 0,req:["variance"],idx:2},stdevp:{value:t=>t.valid>1?Math.sqrt(t.dev/t.valid):void 0,req:["variance"],idx:2},stderr:{value:t=>t.valid>1?Math.sqrt(t.dev/(t.valid*(t.valid-1))):void 0,req:["variance"],idx:2},distinct:{value:t=>t.cell.data.distinct(t.get),req:["values"],idx:3},ci0:{value:t=>t.cell.data.ci0(t.get),req:["values"],idx:3},ci1:{value:t=>t.cell.data.ci1(t.get),req:["values"],idx:3},median:{value:t=>t.cell.data.q2(t.get),req:["values"],idx:3},q1:{value:t=>t.cell.data.q1(t.get),req:["values"],idx:3},q3:{value:t=>t.cell.data.q3(t.get),req:["values"],idx:3},min:{init:t=>t.min=void 0,value:t=>t.min=Number.isNaN(t.min)?t.cell.data.min(t.get):t.min,add:(t,e)=>{(e<t.min||void 0===t.min)&&(t.min=e)},rem:(t,e)=>{e<=t.min&&(t.min=NaN)},req:["values"],idx:4},max:{init:t=>t.max=void 0,value:t=>t.max=Number.isNaN(t.max)?t.cell.data.max(t.get):t.max,add:(t,e)=>{(e>t.max||void 0===t.max)&&(t.max=e)},rem:(t,e)=>{e>=t.max&&(t.max=NaN)},req:["values"],idx:4},argmin:{init:t=>t.argmin=void 0,value:t=>t.argmin||t.cell.data.argmin(t.get),add:(t,e,n)=>{e<t.min&&(t.argmin=n)},rem:(t,e)=>{e<=t.min&&(t.argmin=void 0)},req:["min","values"],idx:3},argmax:{init:t=>t.argmax=void 0,value:t=>t.argmax||t.cell.data.argmax(t.get),add:(t,e,n)=>{e>t.max&&(t.argmax=n)},rem:(t,e)=>{e>=t.max&&(t.argmax=void 0)},req:["max","values"],idx:3}},Iu=Object.keys(ju);function $u(t,e){return ju[t](e)}function Wu(t,e){return t.idx-e.idx}function Hu(){this.valid=0,this.missing=0,this._ops.forEach((t=>t.init(this)))}function Yu(t,e){null!=t&&""!==t?t==t&&(++this.valid,this._ops.forEach((n=>n.add(this,t,e)))):++this.missing}function Gu(t,e){null!=t&&""!==t?t==t&&(--this.valid,this._ops.forEach((n=>n.rem(this,t,e)))):--this.missing}function Vu(t){return this._out.forEach((e=>t[e.out]=e.value(this))),t}function Xu(t,e){const n=e||f,r=function(t){const e={};t.forEach((t=>e[t.name]=t));const n=t=>{t.req&&t.req.forEach((t=>{e[t]||n(e[t]=ju[t]())}))};return t.forEach(n),Object.values(e).sort(Wu)}(t),i=t.slice().sort(Wu);function o(t){this._ops=r,this._out=i,this.cell=t,this.init()}return o.prototype.init=Hu,o.prototype.add=Yu,o.prototype.rem=Gu,o.prototype.set=Vu,o.prototype.get=n,o.fields=t.map((t=>t.out)),o}function Ju(t){this._key=t?l(t):ca,this.reset()}Iu.forEach((t=>{ju[t]=function(t,e){return n=>K({name:t,out:n||t},Pu,e)}(t,ju[t])}));const Zu=Ju.prototype;function Qu(t){$a.call(this,null,t),this._adds=[],this._mods=[],this._alen=0,this._mlen=0,this._drop=!0,this._cross=!1,this._dims=[],this._dnames=[],this._measures=[],this._countOnly=!1,this._counts=null,this._prev=null,this._inputs=null,this._outputs=null}Zu.reset=function(){this._add=[],this._rem=[],this._ext=null,this._get=null,this._q=null},Zu.add=function(t){this._add.push(t)},Zu.rem=function(t){this._rem.push(t)},Zu.values=function(){if(this._get=null,0===this._rem.length)return this._add;const t=this._add,e=this._rem,n=this._key,r=t.length,i=e.length,o=Array(r-i),a={};let u,s,l;for(u=0;u<i;++u)a[n(e[u])]=1;for(u=0,s=0;u<r;++u)a[n(l=t[u])]?a[n(l)]=0:o[s++]=l;return this._rem=[],this._add=o},Zu.distinct=function(t){const e=this.values(),n={};let r,i=e.length,o=0;for(;--i>=0;)r=t(e[i])+"",rt(n,r)||(n[r]=1,++o);return o},Zu.extent=function(t){if(this._get!==t||!this._ext){const e=this.values(),n=et(e,t);this._ext=[e[n[0]],e[n[1]]],this._get=t}return this._ext},Zu.argmin=function(t){return this.extent(t)[0]||{}},Zu.argmax=function(t){return this.extent(t)[1]||{}},Zu.min=function(t){const e=this.extent(t)[0];return null!=e?t(e):void 0},Zu.max=function(t){const e=this.extent(t)[1];return null!=e?t(e):void 0},Zu.quartile=function(t){return this._get===t&&this._q||(this._q=Xa(this.values(),t),this._get=t),this._q},Zu.q1=function(t){return this.quartile(t)[0]},Zu.q2=function(t){return this.quartile(t)[1]},Zu.q3=function(t){return this.quartile(t)[2]},Zu.ci=function(t){return this._get===t&&this._ci||(this._ci=Qa(this.values(),1e3,.05,t),this._get=t),this._ci},Zu.ci0=function(t){return this.ci(t)[0]},Zu.ci1=function(t){return this.ci(t)[1]},Qu.Definition={type:"Aggregate",metadata:{generates:!0,changes:!0},params:[{name:"groupby",type:"field",array:!0},{name:"ops",type:"enum",array:!0,values:Iu},{name:"fields",type:"field",null:!0,array:!0},{name:"as",type:"string",null:!0,array:!0},{name:"drop",type:"boolean",default:!0},{name:"cross",type:"boolean",default:!1},{name:"key",type:"field"}]},ut(Qu,$a,{transform(t,e){const n=this,r=e.fork(e.NO_SOURCE|e.NO_FIELDS),i=t.modified();return n.stamp=r.stamp,n.value&&(i||e.modified(n._inputs,!0))?(n._prev=n.value,n.value=i?n.init(t):{},e.visit(e.SOURCE,(t=>n.add(t)))):(n.value=n.value||n.init(t),e.visit(e.REM,(t=>n.rem(t))),e.visit(e.ADD,(t=>n.add(t)))),r.modifies(n._outputs),n._drop=!1!==t.drop,t.cross&&n._dims.length>1&&(n._drop=!1,n.cross()),e.clean()&&n._drop&&r.clean(!0).runAfter((()=>this.clean())),n.changes(r)},cross(){const t=this,e=t.value,n=t._dnames,r=n.map((()=>({}))),i=n.length;function o(t){let e,o,a,u;for(e in t)for(a=t[e].tuple,o=0;o<i;++o)r[o][u=a[n[o]]]=u}o(t._prev),o(e),function o(a,u,s){const l=n[s],c=r[s++];for(const n in c){const r=a?a+"|"+n:n;u[l]=c[n],s<i?o(r,u,s):e[r]||t.cell(r,u)}}("",{},0)},init(t){const e=this._inputs=[],i=this._outputs=[],o={};function a(t){const n=$(r(t)),i=n.length;let a,u=0;for(;u<i;++u)o[a=n[u]]||(o[a]=1,e.push(a))}this._dims=$(t.groupby),this._dnames=this._dims.map((t=>{const e=n(t);return a(t),i.push(e),e})),this.cellkey=t.key?t.key:Lu(this._dims),this._countOnly=!0,this._counts=[],this._measures=[];const s=t.fields||[null],l=t.ops||["count"],c=t.as||[],f=s.length,h={};let d,p,g,m,y,v;for(f!==l.length&&u("Unmatched number of fields and aggregate ops."),v=0;v<f;++v)d=s[v],p=l[v],null==d&&"count"!==p&&u("Null aggregate field specified."),m=n(d),y=Uu(p,m,c[v]),i.push(y),"count"!==p?(g=h[m],g||(a(d),g=h[m]=[],g.field=d,this._measures.push(g)),"count"!==p&&(this._countOnly=!1),g.push($u(p,y))):this._counts.push(y);return this._measures=this._measures.map((t=>Xu(t,t.field))),{}},cellkey:Lu(),cell(t,e){let n=this.value[t];return n?0===n.num&&this._drop&&n.stamp<this.stamp?(n.stamp=this.stamp,this._adds[this._alen++]=n):n.stamp<this.stamp&&(n.stamp=this.stamp,this._mods[this._mlen++]=n):(n=this.value[t]=this.newcell(t,e),this._adds[this._alen++]=n),n},newcell(t,e){const n={key:t,num:0,agg:null,tuple:this.newtuple(e,this._prev&&this._prev[t]),stamp:this.stamp,store:!1};if(!this._countOnly){const t=this._measures,e=t.length;n.agg=Array(e);for(let r=0;r<e;++r)n.agg[r]=new t[r](n)}return n.store&&(n.data=new Ju),n},newtuple(t,e){const n=this._dnames,r=this._dims,i=r.length,o={};for(let e=0;e<i;++e)o[n[e]]=r[e](t);return e?ga(e.tuple,o):ha(o)},clean(){const t=this.value;for(const e in t)0===t[e].num&&delete t[e]},add(t){const e=this.cellkey(t),n=this.cell(e,t);if(n.num+=1,this._countOnly)return;n.store&&n.data.add(t);const r=n.agg;for(let e=0,n=r.length;e<n;++e)r[e].add(r[e].get(t),t)},rem(t){const e=this.cellkey(t),n=this.cell(e,t);if(n.num-=1,this._countOnly)return;n.store&&n.data.rem(t);const r=n.agg;for(let e=0,n=r.length;e<n;++e)r[e].rem(r[e].get(t),t)},celltuple(t){const e=t.tuple,n=this._counts;t.store&&t.data.values();for(let r=0,i=n.length;r<i;++r)e[n[r]]=t.num;if(!this._countOnly){const n=t.agg;for(let t=0,r=n.length;t<r;++t)n[t].set(e)}return e},changes(t){const e=this._adds,n=this._mods,r=this._prev,i=this._drop,o=t.add,a=t.rem,u=t.mod;let s,l,c,f;if(r)for(l in r)s=r[l],i&&!s.num||a.push(s.tuple);for(c=0,f=this._alen;c<f;++c)o.push(this.celltuple(e[c])),e[c]=null;for(c=0,f=this._mlen;c<f;++c)s=n[c],(0===s.num&&i?a:u).push(this.celltuple(s)),n[c]=null;return this._alen=this._mlen=0,this._prev=null,t}});function Ku(t){$a.call(this,null,t)}function ts(t,e,n){const r=t;let i=e||[],o=n||[],a={},u=0;return{add:t=>o.push(t),remove:t=>a[r(t)]=++u,size:()=>i.length,data:(t,e)=>(u&&(i=i.filter((t=>!a[r(t)])),a={},u=0),e&&t&&i.sort(t),o.length&&(i=t?vt(t,i,o.sort(t)):i.concat(o),o=[]),i)}}function es(t){$a.call(this,[],t)}function ns(t){ka.call(this,null,rs,t)}function rs(t){return this.value&&!t.modified()?this.value:Y(t.fields,t.orders)}function is(t){$a.call(this,null,t)}function os(t){$a.call(this,null,t)}Ku.Definition={type:"Bin",metadata:{modifies:!0},params:[{name:"field",type:"field",required:!0},{name:"interval",type:"boolean",default:!0},{name:"anchor",type:"number"},{name:"maxbins",type:"number",default:20},{name:"base",type:"number",default:10},{name:"divide",type:"number",array:!0,default:[5,2]},{name:"extent",type:"number",array:!0,length:2,required:!0},{name:"span",type:"number"},{name:"step",type:"number"},{name:"steps",type:"number",array:!0},{name:"minstep",type:"number",default:0},{name:"nice",type:"boolean",default:!0},{name:"name",type:"string"},{name:"as",type:"string",array:!0,length:2,default:["bin0","bin1"]}]},ut(Ku,$a,{transform(t,e){const n=!1!==t.interval,i=this._bins(t),o=i.start,a=i.step,u=t.as||["bin0","bin1"],s=u[0],l=u[1];let c;return c=t.modified()?(e=e.reflow(!0)).SOURCE:e.modified(r(t.field))?e.ADD_MOD:e.ADD,e.visit(c,n?t=>{const e=i(t);t[s]=e,t[l]=null==e?null:o+a*(1+(e-o)/a)}:t=>t[s]=i(t)),e.modifies(n?u:s)},_bins(t){if(this.value&&!t.modified())return this.value;const i=t.field,o=Za(t),a=o.step;let u,s,l=o.start,c=l+Math.ceil((o.stop-l)/a)*a;null!=(u=t.anchor)&&(s=u-(l+a*Math.floor((u-l)/a)),l+=s,c+=s);const f=function(t){let e=M(i(t));return null==e?null:e<l?-1/0:e>c?1/0:(e=Math.max(l,Math.min(e,c-a)),l+a*Math.floor(1e-14+(e-l)/a))};return f.start=l,f.stop=o.stop,f.step=a,this.value=e(f,r(i),t.name||"bin_"+n(i))}}),es.Definition={type:"Collect",metadata:{source:!0},params:[{name:"sort",type:"compare"}]},ut(es,$a,{transform(t,e){const n=e.fork(e.ALL),r=ts(ca,this.value,n.materialize(n.ADD).add),i=t.sort,o=e.changed()||i&&(t.modified("sort")||e.modified(i.fields));return n.visit(n.REM,r.remove),this.modified(o),this.value=n.source=r.data(ma(i),o),e.source&&e.source.root&&(this.value.root=e.source.root),n}}),ut(ns,ka),is.Definition={type:"CountPattern",metadata:{generates:!0,changes:!0},params:[{name:"field",type:"field",required:!0},{name:"case",type:"enum",values:["upper","lower","mixed"],default:"mixed"},{name:"pattern",type:"string",default:'[\\w"]+'},{name:"stopwords",type:"string",default:""},{name:"as",type:"string",array:!0,length:2,default:["text","count"]}]},ut(is,$a,{transform(t,e){const n=e=>n=>{for(var r,i=function(t,e,n){switch(e){case"upper":t=t.toUpperCase();break;case"lower":t=t.toLowerCase()}return t.match(n)}(u(n),t.case,o)||[],s=0,l=i.length;s<l;++s)a.test(r=i[s])||e(r)},r=this._parameterCheck(t,e),i=this._counts,o=this._match,a=this._stop,u=t.field,s=t.as||["text","count"],l=n((t=>i[t]=1+(i[t]||0))),c=n((t=>i[t]-=1));return r?e.visit(e.SOURCE,l):(e.visit(e.ADD,l),e.visit(e.REM,c)),this._finish(e,s)},_parameterCheck(t,e){let n=!1;return!t.modified("stopwords")&&this._stop||(this._stop=new RegExp("^"+(t.stopwords||"")+"$","i"),n=!0),!t.modified("pattern")&&this._match||(this._match=new RegExp(t.pattern||"[\\w']+","g"),n=!0),(t.modified("field")||e.modified(t.field.fields))&&(n=!0),n&&(this._counts={}),n},_finish(t,e){const n=this._counts,r=this._tuples||(this._tuples={}),i=e[0],o=e[1],a=t.fork(t.NO_SOURCE|t.NO_FIELDS);let u,s,l;for(u in n)s=r[u],l=n[u]||0,!s&&l?(r[u]=s=ha({}),s[i]=u,s[o]=l,a.add.push(s)):0===l?(s&&a.rem.push(s),n[u]=null,r[u]=null):s[o]!==l&&(s[o]=l,a.mod.push(s));return a.modifies(e)}}),os.Definition={type:"Cross",metadata:{generates:!0},params:[{name:"filter",type:"expr"},{name:"as",type:"string",array:!0,length:2,default:["a","b"]}]},ut(os,$a,{transform(t,e){const n=e.fork(e.NO_SOURCE),r=t.as||["a","b"],i=r[0],o=r[1],a=!this.value||e.changed(e.ADD_REM)||t.modified("as")||t.modified("filter");let u=this.value;return a?(u&&(n.rem=u),u=e.materialize(e.SOURCE).source,n.add=this.value=function(t,e,n,r){for(var i,o,a=[],u={},s=t.length,l=0;l<s;++l)for(u[e]=o=t[l],i=0;i<s;++i)u[n]=t[i],r(u)&&(a.push(ha(u)),(u={})[e]=o);return a}(u,i,o,t.filter||p)):n.mod=u,n.source=this.value,n.modifies(r)}});const as={kde:su,mixture:pu,normal:uu,lognormal:du,uniform:_u},us="function";function ss(t,e){const n=t.function;rt(as,n)||u("Unknown distribution function: "+n);const r=as[n]();for(const n in t)"field"===n?r.data((t.from||e()).map(t[n])):"distributions"===n?r[n](t[n].map((t=>ss(t,e)))):typeof r[n]===us&&r[n](t[n]);return r}function ls(t){$a.call(this,null,t)}const cs=[{key:{function:"normal"},params:[{name:"mean",type:"number",default:0},{name:"stdev",type:"number",default:1}]},{key:{function:"lognormal"},params:[{name:"mean",type:"number",default:0},{name:"stdev",type:"number",default:1}]},{key:{function:"uniform"},params:[{name:"min",type:"number",default:0},{name:"max",type:"number",default:1}]},{key:{function:"kde"},params:[{name:"field",type:"field",required:!0},{name:"from",type:"data"},{name:"bandwidth",type:"number",default:0}]}],fs={key:{function:"mixture"},params:[{name:"distributions",type:"param",array:!0,params:cs},{name:"weights",type:"number",array:!0}]};function hs(t,e){return t?t.map(((t,r)=>e[r]||n(t))):null}function ds(t,e,n){const r=[],i=t=>t(s);let o,a,u,s,l,c;if(null==e)r.push(t.map(n));else for(o={},a=0,u=t.length;a<u;++a)s=t[a],l=e.map(i),c=o[l],c||(o[l]=c=[],c.dims=l,r.push(c)),c.push(n(s));return r}ls.Definition={type:"Density",metadata:{generates:!0},params:[{name:"extent",type:"number",array:!0,length:2},{name:"steps",type:"number"},{name:"minsteps",type:"number",default:25},{name:"maxsteps",type:"number",default:200},{name:"method",type:"string",default:"pdf",values:["pdf","cdf"]},{name:"distribution",type:"param",params:cs.concat(fs)},{name:"as",type:"string",array:!0,default:["value","density"]}]},ut(ls,$a,{transform(t,e){const n=e.fork(e.NO_SOURCE|e.NO_FIELDS);if(!this.value||e.changed()||t.modified()){const r=ss(t.distribution,function(t){return()=>t.materialize(t.SOURCE).source}(e)),i=t.steps||t.minsteps||25,o=t.steps||t.maxsteps||200;let a=t.method||"pdf";"pdf"!==a&&"cdf"!==a&&u("Invalid density method: "+a),t.extent||r.data||u("Missing density extent parameter."),a=r[a];const s=t.as||["value","density"],l=Ou(a,t.extent||tt(r.data()),i,o).map((t=>{const e={};return e[s[0]]=t[0],e[s[1]]=t[1],ha(e)}));this.value&&(n.rem=this.value),this.value=n.add=n.source=l}return n}});function ps(t){$a.call(this,null,t)}ps.Definition={type:"DotBin",metadata:{modifies:!0},params:[{name:"field",type:"field",required:!0},{name:"groupby",type:"field",array:!0},{name:"step",type:"number"},{name:"smooth",type:"boolean",default:!1},{name:"as",type:"string",default:"bin"}]};function gs(t){ka.call(this,null,ms,t),this.modified(!0)}function ms(t){const i=t.expr;return this.value&&!t.modified("expr")?this.value:e((e=>i(e,t)),r(i),n(i))}function ys(t){$a.call(this,[void 0,void 0],t)}function vs(t,e){ka.call(this,t),this.parent=e,this.count=0}function _s(t){$a.call(this,{},t),this._keys=ot();const e=this._targets=[];e.active=0,e.forEach=t=>{for(let n=0,r=e.active;n<r;++n)t(e[n],n,e)}}function xs(t){ka.call(this,null,bs,t)}function bs(t){return this.value&&!t.modified()?this.value:v(t.name)?$(t.name).map((t=>l(t))):l(t.name,t.as)}function ws(t){$a.call(this,ot(),t)}function ks(t){$a.call(this,[],t)}function As(t){$a.call(this,[],t)}function Ms(t){$a.call(this,null,t)}function Es(t){$a.call(this,[],t)}ut(ps,$a,{transform(t,e){if(this.value&&!t.modified()&&!e.changed())return e;const n=e.materialize(e.SOURCE).source,r=ds(e.source,t.groupby,f),i=t.smooth||!1,o=t.field,a=t.step||((t,e)=>bt(tt(t,e))/30)(n,o),u=ma(((t,e)=>o(t)-o(e))),s=t.as||"bin",l=r.length;let c,h=1/0,d=-1/0,p=0;for(;p<l;++p){const t=r[p].sort(u);c=-1;for(const e of Ka(t,a,i,o))e<h&&(h=e),e>d&&(d=e),t[++c][s]=e}return this.value={start:h,stop:d,step:a},e.reflow(!0).modifies(s)}}),ut(gs,ka),ys.Definition={type:"Extent",metadata:{},params:[{name:"field",type:"field",required:!0}]},ut(ys,$a,{transform(t,e){const r=this.value,i=t.field,o=e.changed()||e.modified(i.fields)||t.modified("field");let a=r[0],u=r[1];if((o||null==a)&&(a=1/0,u=-1/0),e.visit(o?e.SOURCE:e.ADD,(t=>{const e=M(i(t));null!=e&&(e<a&&(a=e),e>u&&(u=e))})),!Number.isFinite(a)||!Number.isFinite(u)){let t=n(i);t&&(t=' for field "'.concat(t,'"')),e.dataflow.warn("Infinite extent".concat(t,": [").concat(a,", ").concat(u,"]")),a=u=void 0}this.value=[a,u]}}),ut(vs,ka,{connect(t){return this.detachSubflow=t.detachSubflow,this.targets().add(t),t.source=this},add(t){this.count+=1,this.value.add.push(t)},rem(t){this.count-=1,this.value.rem.push(t)},mod(t){this.value.mod.push(t)},init(t){this.value.init(t,t.NO_SOURCE)},evaluate(){return this.value}}),ut(_s,$a,{activate(t){this._targets[this._targets.active++]=t},subflow(t,e,n,r){const i=this.value;let o,a,u=rt(i,t)&&i[t];return u?u.value.stamp<n.stamp&&(u.init(n),this.activate(u)):(a=r||(a=this._group[t])&&a.tuple,o=n.dataflow,u=new vs(n.fork(n.NO_SOURCE),this),o.add(u).connect(e(o,t,a)),i[t]=u,this.activate(u)),u},clean(){const t=this.value;let e=0;for(const n in t)if(0===t[n].count){const r=t[n].detachSubflow;r&&r(),delete t[n],++e}if(e){const t=this._targets.filter((t=>t&&t.count>0));this.initTargets(t)}},initTargets(t){const e=this._targets,n=e.length,r=t?t.length:0;let i=0;for(;i<r;++i)e[i]=t[i];for(;i<n&&null!=e[i];++i)e[i]=null;e.active=r},transform(t,e){const n=e.dataflow,r=t.key,i=t.subflow,o=this._keys,a=t.modified("key"),u=t=>this.subflow(t,i,e);return this._group=t.group||{},this.initTargets(),e.visit(e.REM,(t=>{const e=ca(t),n=o.get(e);void 0!==n&&(o.delete(e),u(n).rem(t))})),e.visit(e.ADD,(t=>{const e=r(t);o.set(ca(t),e),u(e).add(t)})),a||e.modified(r.fields)?e.visit(e.MOD,(t=>{const e=ca(t),n=o.get(e),i=r(t);n===i?u(i).mod(t):(o.set(e,i),u(n).rem(t),u(i).add(t))})):e.changed(e.MOD)&&e.visit(e.MOD,(t=>{u(o.get(ca(t))).mod(t)})),a&&e.visit(e.REFLOW,(t=>{const e=ca(t),n=o.get(e),i=r(t);n!==i&&(o.set(e,i),u(n).rem(t),u(i).add(t))})),e.clean()?n.runAfter((()=>{this.clean(),o.clean()})):o.empty>n.cleanThreshold&&n.runAfter(o.clean),e}}),ut(xs,ka),ws.Definition={type:"Filter",metadata:{changes:!0},params:[{name:"expr",type:"expr",required:!0}]},ut(ws,$a,{transform(t,e){const n=e.dataflow,r=this.value,i=e.fork(),o=i.add,a=i.rem,u=i.mod,s=t.expr;let l=!0;function c(e){const n=ca(e),i=s(e,t),c=r.get(n);i&&c?(r.delete(n),o.push(e)):i||c?l&&i&&!c&&u.push(e):(r.set(n,1),a.push(e))}return e.visit(e.REM,(t=>{const e=ca(t);r.has(e)?r.delete(e):a.push(t)})),e.visit(e.ADD,(e=>{s(e,t)?o.push(e):r.set(ca(e),1)})),e.visit(e.MOD,c),t.modified()&&(l=!1,e.visit(e.REFLOW,c)),r.empty>n.cleanThreshold&&n.runAfter(r.clean),i}}),ks.Definition={type:"Flatten",metadata:{generates:!0},params:[{name:"fields",type:"field",array:!0,required:!0},{name:"index",type:"string"},{name:"as",type:"string",array:!0}]},ut(ks,$a,{transform(t,e){const n=e.fork(e.NO_SOURCE),r=t.fields,i=hs(r,t.as||[]),o=t.index||null,a=i.length;return n.rem=this.value,e.visit(e.SOURCE,(t=>{const e=r.map((e=>e(t))),u=e.reduce(((t,e)=>Math.max(t,e.length)),0);let s,l,c,f=0;for(;f<u;++f){for(l=da(t),s=0;s<a;++s)l[i[s]]=null==(c=e[s][f])?null:c;o&&(l[o]=f),n.add.push(l)}})),this.value=n.source=n.add,o&&n.modifies(o),n.modifies(i)}}),As.Definition={type:"Fold",metadata:{generates:!0},params:[{name:"fields",type:"field",array:!0,required:!0},{name:"as",type:"string",array:!0,length:2,default:["key","value"]}]},ut(As,$a,{transform(t,e){const r=e.fork(e.NO_SOURCE),i=t.fields,o=i.map(n),a=t.as||["key","value"],u=a[0],s=a[1],l=i.length;return r.rem=this.value,e.visit(e.SOURCE,(t=>{for(let e,n=0;n<l;++n)e=da(t),e[u]=o[n],e[s]=i[n](t),r.add.push(e)})),this.value=r.source=r.add,r.modifies(a)}}),Ms.Definition={type:"Formula",metadata:{modifies:!0},params:[{name:"expr",type:"expr",required:!0},{name:"as",type:"string",required:!0},{name:"initonly",type:"boolean"}]},ut(Ms,$a,{transform(t,e){const n=t.expr,r=t.as,i=t.modified(),o=t.initonly?e.ADD:i?e.SOURCE:e.modified(n.fields)||e.modified(r)?e.ADD_MOD:e.ADD;return i&&(e=e.materialize().reflow(!0)),t.initonly||e.modifies(r),e.visit(o,(e=>e[r]=n(e,t)))}}),ut(Es,$a,{transform(t,e){const n=e.fork(e.ALL),r=t.generator;let i,o,a,u=this.value,s=t.size-u.length;if(s>0){for(i=[];--s>=0;)i.push(a=ha(r(t))),u.push(a);n.add=n.add.length?n.materialize(n.ADD).add.concat(i):i}else o=u.slice(0,-s),n.rem=n.rem.length?n.materialize(n.REM).rem.concat(o):o,u=u.slice(-s);return n.source=this.value=u,n}});const Ds={value:"value",median:_e,mean:function(t,e){let n=0,r=0;if(void 0===e)for(let e of t)null!=e&&(e=+e)>=e&&(++n,r+=e);else{let i=-1;for(let o of t)null!=(o=e(o,++i,t))&&(o=+o)>=o&&(++n,r+=o)}if(n)return r/n},min:pe,max:de},Cs=[];function Fs(t){$a.call(this,[],t)}function Ss(t){Qu.call(this,t)}function Bs(t){$a.call(this,null,t)}function Ts(t){ka.call(this,null,Ns,t)}function Ns(t){return this.value&&!t.modified()?this.value:gt(t.fields,t.flat)}function zs(t){$a.call(this,[],t),this._pending=null}function Os(t,e,n){n.forEach(ha);const r=e.fork(e.NO_FIELDS&e.NO_SOURCE);return r.rem=t.value,t.value=r.source=r.add=n,t._pending=null,r.rem.length&&r.clean(!0),r}function Rs(t){$a.call(this,{},t)}function Ls(t){ka.call(this,null,Us,t)}function Us(t){if(this.value&&!t.modified())return this.value;const e=t.extents,n=e.length;let r,i,o=1/0,a=-1/0;for(r=0;r<n;++r)i=e[r],i[0]<o&&(o=i[0]),i[1]>a&&(a=i[1]);return[o,a]}function qs(t){ka.call(this,null,Ps,t)}function Ps(t){return this.value&&!t.modified()?this.value:t.values.reduce(((t,e)=>t.concat(e)),[])}function js(t){$a.call(this,null,t)}function Is(t){Qu.call(this,t)}function $s(t){_s.call(this,t)}function Ws(t){$a.call(this,null,t)}function Hs(t){$a.call(this,null,t)}function Ys(t){$a.call(this,null,t)}Fs.Definition={type:"Impute",metadata:{changes:!0},params:[{name:"field",type:"field",required:!0},{name:"key",type:"field",required:!0},{name:"keyvals",array:!0},{name:"groupby",type:"field",array:!0},{name:"method",type:"enum",default:"value",values:["value","mean","median","max","min"]},{name:"value",default:0}]},ut(Fs,$a,{transform(t,e){var r,i,o,a,s,l,c,f,h,d,p=e.fork(e.ALL),g=function(t){var e,n=t.method||Ds.value;if(null!=Ds[n])return n===Ds.value?(e=void 0!==t.value?t.value:0,()=>e):Ds[n];u("Unrecognized imputation method: "+n)}(t),m=function(t){const e=t.field;return t=>t?e(t):NaN}(t),y=n(t.field),v=n(t.key),_=(t.groupby||[]).map(n),x=function(t,e,n,r){var i,o,a,u,s,l,c,f,h=t=>t(f),d=[],p=r?r.slice():[],g={},m={};for(p.forEach(((t,e)=>g[t]=e+1)),u=0,c=t.length;u<c;++u)l=n(f=t[u]),s=g[l]||(g[l]=p.push(l)),(a=m[o=(i=e?e.map(h):Cs)+""])||(a=m[o]=[],d.push(a),a.values=i),a[s-1]=f;return d.domain=p,d}(e.source,t.groupby,t.key,t.keyvals),b=[],w=this.value,k=x.domain.length;for(s=0,f=x.length;s<f;++s)for(o=(r=x[s]).values,i=NaN,c=0;c<k;++c)if(null==r[c]){for(a=x.domain[c],d={_impute:!0},l=0,h=o.length;l<h;++l)d[_[l]]=o[l];d[v]=a,d[y]=Number.isNaN(i)?i=g(r,m):i,b.push(ha(d))}return b.length&&(p.add=p.materialize(p.ADD).add.concat(b)),w.length&&(p.rem=p.materialize(p.REM).rem.concat(w)),this.value=b,p}}),Ss.Definition={type:"JoinAggregate",metadata:{modifies:!0},params:[{name:"groupby",type:"field",array:!0},{name:"fields",type:"field",null:!0,array:!0},{name:"ops",type:"enum",array:!0,values:Iu},{name:"as",type:"string",null:!0,array:!0},{name:"key",type:"field"}]},ut(Ss,Qu,{transform(t,e){const n=this,r=t.modified();let i;return n.value&&(r||e.modified(n._inputs,!0))?(i=n.value=r?n.init(t):{},e.visit(e.SOURCE,(t=>n.add(t)))):(i=n.value=n.value||this.init(t),e.visit(e.REM,(t=>n.rem(t))),e.visit(e.ADD,(t=>n.add(t)))),n.changes(),e.visit(e.SOURCE,(t=>{K(t,i[n.cellkey(t)].tuple)})),e.reflow(r).modifies(this._outputs)},changes(){const t=this._adds,e=this._mods;let n,r;for(n=0,r=this._alen;n<r;++n)this.celltuple(t[n]),t[n]=null;for(n=0,r=this._mlen;n<r;++n)this.celltuple(e[n]),e[n]=null;this._alen=this._mlen=0}}),Bs.Definition={type:"KDE",metadata:{generates:!0},params:[{name:"groupby",type:"field",array:!0},{name:"field",type:"field",required:!0},{name:"cumulative",type:"boolean",default:!1},{name:"counts",type:"boolean",default:!1},{name:"bandwidth",type:"number",default:0},{name:"extent",type:"number",array:!0,length:2},{name:"resolve",type:"enum",values:["shared","independent"],default:"independent"},{name:"steps",type:"number"},{name:"minsteps",type:"number",default:25},{name:"maxsteps",type:"number",default:200},{name:"as",type:"string",array:!0,default:["value","density"]}]},ut(Bs,$a,{transform(t,e){const r=e.fork(e.NO_SOURCE|e.NO_FIELDS);if(!this.value||e.changed()||t.modified()){const i=e.materialize(e.SOURCE).source,o=ds(i,t.groupby,t.field),a=(t.groupby||[]).map(n),s=t.bandwidth,l=t.cumulative?"cdf":"pdf",c=t.as||["value","density"],f=[];let h=t.extent,d=t.steps||t.minsteps||25,p=t.steps||t.maxsteps||200;"pdf"!==l&&"cdf"!==l&&u("Invalid density method: "+l),"shared"===t.resolve&&(h||(h=tt(i,t.field)),d=p=t.steps||p),o.forEach((e=>{const n=su(e,s)[l],r=t.counts?e.length:1;Ou(n,h||tt(e),d,p).forEach((t=>{const n={};for(let t=0;t<a.length;++t)n[a[t]]=e.dims[t];n[c[0]]=t[0],n[c[1]]=t[1]*r,f.push(ha(n))}))})),this.value&&(r.rem=this.value),this.value=r.add=r.source=f}return r}}),ut(Ts,ka),ut(zs,$a,{transform(t,e){const n=e.dataflow;if(this._pending)return Os(this,e,this._pending);if(function(t){return t.modified("async")&&!(t.modified("values")||t.modified("url")||t.modified("format"))}(t))return e.StopPropagation;if(t.values)return Os(this,e,n.parse(t.values,t.format));if(t.async){const e=n.request(t.url,t.format).then((t=>(this._pending=$(t.data),t=>t.touch(this))));return{async:e}}return n.request(t.url,t.format).then((t=>Os(this,e,$(t.data))))}}),Rs.Definition={type:"Lookup",metadata:{modifies:!0},params:[{name:"index",type:"index",params:[{name:"from",type:"data",required:!0},{name:"key",type:"field",required:!0}]},{name:"values",type:"field",array:!0},{name:"fields",type:"field",array:!0,required:!0},{name:"as",type:"string",array:!0},{name:"default",default:null}]},ut(Rs,$a,{transform(t,e){const r=t.fields,i=t.index,o=t.values,a=null==t.default?null:t.default,s=t.modified(),l=r.length;let c,f,h,d=s?e.SOURCE:e.ADD,p=e,g=t.as;return o?(f=o.length,l>1&&!g&&u('Multi-field lookup requires explicit "as" parameter.'),g&&g.length!==l*f&&u('The "as" parameter has too few output field names.'),g=g||o.map(n),c=function(t){for(var e,n,u=0,s=0;u<l;++u)if(null==(n=i.get(r[u](t))))for(e=0;e<f;++e,++s)t[g[s]]=a;else for(e=0;e<f;++e,++s)t[g[s]]=o[e](n)}):(g||u("Missing output field names."),c=function(t){for(var e,n=0;n<l;++n)e=i.get(r[n](t)),t[g[n]]=null==e?a:e}),s?p=e.reflow(!0):(h=r.some((t=>e.modified(t.fields))),d|=h?e.MOD:0),e.visit(d,c),p.modifies(g)}}),ut(Ls,ka),ut(qs,ka),ut(js,$a,{transform(t,e){return this.modified(t.modified()),this.value=t,e.fork(e.NO_SOURCE|e.NO_FIELDS)}}),Is.Definition={type:"Pivot",metadata:{generates:!0,changes:!0},params:[{name:"groupby",type:"field",array:!0},{name:"field",type:"field",required:!0},{name:"value",type:"field",required:!0},{name:"op",type:"enum",values:Iu,default:"sum"},{name:"limit",type:"number",default:0},{name:"key",type:"field"}]},ut(Is,Qu,{_transform:Qu.prototype.transform,transform(t,n){return this._transform(function(t,n){const i=t.field,o=t.value,a=("count"===t.op?"__count__":t.op)||"sum",u=r(i).concat(r(o)),s=function(t,e,n){const r={},i=[];return n.visit(n.SOURCE,(e=>{const n=t(e);r[n]||(r[n]=1,i.push(n))})),i.sort(G),e?i.slice(0,e):i}(i,t.limit||0,n);n.changed()&&t.set("__pivot__",null,null,!0);return{key:t.key,groupby:t.groupby,ops:s.map((()=>a)),fields:s.map((t=>function(t,n,r,i){return e((e=>n(e)===t?r(e):NaN),i,t+"")}(t,i,o,u))),as:s.map((t=>t+"")),modified:t.modified.bind(t)}}(t,n),n)}}),ut($s,_s,{transform(t,e){const n=t.subflow,i=t.field,o=t=>this.subflow(ca(t),n,e,t);return(t.modified("field")||i&&e.modified(r(i)))&&u("PreFacet does not support field modification."),this.initTargets(),i?(e.visit(e.MOD,(t=>{const e=o(t);i(t).forEach((t=>e.mod(t)))})),e.visit(e.ADD,(t=>{const e=o(t);i(t).forEach((t=>e.add(ha(t))))})),e.visit(e.REM,(t=>{const e=o(t);i(t).forEach((t=>e.rem(t)))}))):(e.visit(e.MOD,(t=>o(t).mod(t))),e.visit(e.ADD,(t=>o(t).add(t))),e.visit(e.REM,(t=>o(t).rem(t)))),e.clean()&&e.runAfter((()=>this.clean())),e}}),Ws.Definition={type:"Project",metadata:{generates:!0,changes:!0},params:[{name:"fields",type:"field",array:!0},{name:"as",type:"string",null:!0,array:!0}]},ut(Ws,$a,{transform(t,e){const n=e.fork(e.NO_SOURCE),r=t.fields,i=hs(t.fields,t.as||[]),o=r?(t,e)=>function(t,e,n,r){for(let i=0,o=n.length;i<o;++i)e[r[i]]=n[i](t);return e}(t,e,r,i):pa;let a;return this.value?a=this.value:(e=e.addAll(),a=this.value={}),e.visit(e.REM,(t=>{const e=ca(t);n.rem.push(a[e]),a[e]=null})),e.visit(e.ADD,(t=>{const e=o(t,ha({}));a[ca(t)]=e,n.add.push(e)})),e.visit(e.MOD,(t=>{n.mod.push(o(t,a[ca(t)]))})),n}}),ut(Hs,$a,{transform(t,e){return this.value=t.value,t.modified("value")?e.fork(e.NO_SOURCE|e.NO_FIELDS):e.StopPropagation}}),Ys.Definition={type:"Quantile",metadata:{generates:!0,changes:!0},params:[{name:"groupby",type:"field",array:!0},{name:"field",type:"field",required:!0},{name:"probs",type:"number",array:!0},{name:"step",type:"number",default:.01},{name:"as",type:"string",array:!0,default:["prob","value"]}]};function Gs(t){$a.call(this,null,t)}function Vs(t){$a.call(this,[],t),this.count=0}function Xs(t){$a.call(this,null,t)}function Js(t){$a.call(this,null,t),this.modified(!0)}function Zs(t){$a.call(this,null,t)}ut(Ys,$a,{transform(t,e){const r=e.fork(e.NO_SOURCE|e.NO_FIELDS),i=t.as||["prob","value"];if(this.value&&!t.modified()&&!e.changed())return r.source=this.value,r;const o=ds(e.materialize(e.SOURCE).source,t.groupby,t.field),a=(t.groupby||[]).map(n),u=[],s=t.step||.01,l=t.probs||be(s/2,1-1e-14,s),c=l.length;return o.forEach((t=>{const e=Va(t,l);for(let n=0;n<c;++n){const r={};for(let e=0;e<a.length;++e)r[a[e]]=t.dims[e];r[i[0]]=l[n],r[i[1]]=e[n],u.push(ha(r))}})),this.value&&(r.rem=this.value),this.value=r.add=r.source=u,r}}),ut(Gs,$a,{transform(t,e){let n,r;return this.value?r=this.value:(n=e=e.addAll(),r=this.value={}),t.derive&&(n=e.fork(e.NO_SOURCE),e.visit(e.REM,(t=>{const e=ca(t);n.rem.push(r[e]),r[e]=null})),e.visit(e.ADD,(t=>{const e=da(t);r[ca(t)]=e,n.add.push(e)})),e.visit(e.MOD,(t=>{const e=r[ca(t)];for(const r in t)e[r]=t[r],n.modifies(r);n.mod.push(e)}))),n}}),Vs.Definition={type:"Sample",metadata:{},params:[{name:"size",type:"number",default:1e3}]},ut(Vs,$a,{transform(e,n){const r=n.fork(n.NO_SOURCE),i=e.modified("size"),o=e.size,a=this.value.reduce(((t,e)=>(t[ca(e)]=1,t)),{});let u=this.value,s=this.count,l=0;function c(e){let n,i;u.length<o?u.push(e):(i=~~((s+1)*t.random()),i<u.length&&i>=l&&(n=u[i],a[ca(n)]&&r.rem.push(n),u[i]=e)),++s}if(n.rem.length&&(n.visit(n.REM,(t=>{const e=ca(t);a[e]&&(a[e]=-1,r.rem.push(t)),--s})),u=u.filter((t=>-1!==a[ca(t)]))),(n.rem.length||i)&&u.length<o&&n.source&&(l=s=u.length,n.visit(n.SOURCE,(t=>{a[ca(t)]||c(t)})),l=-1),i&&u.length>o){const t=u.length-o;for(let e=0;e<t;++e)a[ca(u[e])]=-1,r.rem.push(u[e]);u=u.slice(t)}return n.mod.length&&n.visit(n.MOD,(t=>{a[ca(t)]&&r.mod.push(t)})),n.add.length&&n.visit(n.ADD,c),(n.add.length||l<0)&&(r.add=u.filter((t=>!a[ca(t)]))),this.count=s,this.value=r.source=u,r}}),Xs.Definition={type:"Sequence",metadata:{generates:!0,changes:!0},params:[{name:"start",type:"number",required:!0},{name:"stop",type:"number",required:!0},{name:"step",type:"number",default:1},{name:"as",type:"string",default:"data"}]},ut(Xs,$a,{transform(t,e){if(this.value&&!t.modified())return;const n=e.materialize().fork(e.MOD),r=t.as||"data";return n.rem=this.value?e.rem.concat(this.value):e.rem,this.value=be(t.start,t.stop,t.step||1).map((t=>{const e={};return e[r]=t,ha(e)})),n.add=e.add.concat(this.value),n}}),ut(Js,$a,{transform(t,e){return this.value=e.source,e.changed()?e.fork(e.NO_SOURCE|e.NO_FIELDS):e.StopPropagation}});const Qs=["unit0","unit1"];function Ks(t){$a.call(this,ot(),t)}function tl(t){$a.call(this,null,t)}Zs.Definition={type:"TimeUnit",metadata:{modifies:!0},params:[{name:"field",type:"field",required:!0},{name:"interval",type:"boolean",default:!0},{name:"units",type:"enum",values:Gn,array:!0},{name:"step",type:"number",default:1},{name:"maxbins",type:"number",default:40},{name:"extent",type:"date",array:!0},{name:"timezone",type:"enum",default:"local",values:["local","utc"]},{name:"as",type:"string",array:!0,length:2,default:Qs}]},ut(Zs,$a,{transform(t,e){const n=t.field,i=!1!==t.interval,o="utc"===t.timezone,a=this._floor(t,e),u=(o?kr:wr)(a.unit).offset,s=t.as||Qs,l=s[0],c=s[1],f=a.step;let h=a.start||1/0,d=a.stop||-1/0,p=e.ADD;return(t.modified()||e.changed(e.REM)||e.modified(r(n)))&&(p=(e=e.reflow(!0)).SOURCE,h=1/0,d=-1/0),e.visit(p,(t=>{const e=n(t);let r,o;null==e?(t[l]=null,i&&(t[c]=null)):(t[l]=r=o=a(e),i&&(t[c]=o=u(r,f)),r<h&&(h=r),o>d&&(d=o))})),a.start=h,a.stop=d,e.modifies(i?s:l)},_floor(t,e){const n="utc"===t.timezone,{units:r,step:i}=t.units?{units:t.units,step:t.step||1}:Wr({extent:t.extent||tt(e.materialize(e.SOURCE).source,t.field),maxbins:t.maxbins}),o=Xn(r),a=this.value||{},u=(n?_r:mr)(o,i);return u.unit=A(o),u.units=o,u.step=i,u.start=a.start,u.stop=a.stop,this.value=u}}),ut(Ks,$a,{transform(t,e){const n=e.dataflow,r=t.field,i=this.value,o=t=>i.set(r(t),t);let a=!0;return t.modified("field")||e.modified(r.fields)?(i.clear(),e.visit(e.SOURCE,o)):e.changed()?(e.visit(e.REM,(t=>i.delete(r(t)))),e.visit(e.ADD,o)):a=!1,this.modified(a),i.empty>n.cleanThreshold&&n.runAfter(i.clean),e.fork()}}),ut(tl,$a,{transform(t,e){(!this.value||t.modified("field")||t.modified("sort")||e.changed()||t.sort&&e.modified(t.sort.fields))&&(this.value=(t.sort?e.source.slice().sort(ma(t.sort)):e.source).map(t.field))}});const el={row_number:function(){return{next:t=>t.index+1}},rank:function(){let t;return{init:()=>t=1,next:e=>{const n=e.index,r=e.data;return n&&e.compare(r[n-1],r[n])?t=n+1:t}}},dense_rank:function(){let t;return{init:()=>t=1,next:e=>{const n=e.index,r=e.data;return n&&e.compare(r[n-1],r[n])?++t:t}}},percent_rank:function(){const t=el.rank(),e=t.next;return{init:t.init,next:t=>(e(t)-1)/(t.data.length-1)}},cume_dist:function(){let t;return{init:()=>t=0,next:e=>{const n=e.data,r=e.compare;let i=e.index;if(t<i){for(;i+1<n.length&&!r(n[i],n[i+1]);)++i;t=i}return(1+t)/n.length}}},ntile:function(t,e){(e=+e)>0||u("ntile num must be greater than zero.");const n=el.cume_dist(),r=n.next;return{init:n.init,next:t=>Math.ceil(e*r(t))}},lag:function(t,e){return e=+e||1,{next:n=>{const r=n.index-e;return r>=0?t(n.data[r]):null}}},lead:function(t,e){return e=+e||1,{next:n=>{const r=n.index+e,i=n.data;return r<i.length?t(i[r]):null}}},first_value:function(t){return{next:e=>t(e.data[e.i0])}},last_value:function(t){return{next:e=>t(e.data[e.i1-1])}},nth_value:function(t,e){return(e=+e)>0||u("nth_value nth must be greater than zero."),{next:n=>{const r=n.i0+(e-1);return r<n.i1?t(n.data[r]):null}}},prev_value:function(t){let e;return{init:()=>e=null,next:n=>{const r=t(n.data[n.index]);return null!=r?e=r:e}}},next_value:function(t){let e,n;return{init:()=>(e=null,n=-1),next:r=>{const i=r.data;return r.index<=n?e:(n=function(t,e,n){for(let r=e.length;n<r;++n){if(null!=t(e[n]))return n}return-1}(t,i,r.index))<0?(n=i.length,e=null):e=t(i[n])}}}};const nl=Object.keys(el);function rl(t){const e=$(t.ops),i=$(t.fields),o=$(t.params),a=$(t.as),s=this.outputs=[],l=this.windows=[],c={},f={},d=[],p=[];let g=!0;function m(t){$(r(t)).forEach((t=>c[t]=1))}m(t.sort),e.forEach(((t,e)=>{const r=i[e],c=n(r),y=Uu(t,c,a[e]);if(m(r),s.push(y),rt(el,t))l.push(function(t,e,n,r){const i=el[t](e,n);return{init:i.init||h,update:function(t,e){e[r]=i.next(t)}}}(t,i[e],o[e],y));else{if(null==r&&"count"!==t&&u("Null aggregate field specified."),"count"===t)return void d.push(y);g=!1;let e=f[c];e||(e=f[c]=[],e.field=r,p.push(e)),e.push($u(t,y))}})),(d.length||p.length)&&(this.cell=function(t,e,n){t=t.map((t=>Xu(t,t.field)));const r={num:0,agg:null,store:!1,count:e};if(!n)for(var i=t.length,o=r.agg=Array(i),a=0;a<i;++a)o[a]=new t[a](r);if(r.store)var u=r.data=new Ju;return r.add=function(t){if(r.num+=1,!n){u&&u.add(t);for(let e=0;e<i;++e)o[e].add(o[e].get(t),t)}},r.rem=function(t){if(r.num-=1,!n){u&&u.rem(t);for(let e=0;e<i;++e)o[e].rem(o[e].get(t),t)}},r.set=function(t){let i,a;for(u&&u.values(),i=0,a=e.length;i<a;++i)t[e[i]]=r.num;if(!n)for(i=0,a=o.length;i<a;++i)o[i].set(t)},r.init=function(){r.num=0,u&&u.reset();for(let t=0;t<i;++t)o[t].init()},r}(p,d,g)),this.inputs=Object.keys(c)}const il=rl.prototype;function ol(t){$a.call(this,{},t),this._mlen=0,this._mods=[]}function al(t,e,n,r){const i=r.sort,o=i&&!r.ignorePeers,a=r.frame||[null,0],u=t.data(n),s=u.length,l=o?Yt(i):null,c={i0:0,i1:0,p0:0,p1:0,index:0,data:u,compare:i||Z(-1)};e.init();for(let t=0;t<s;++t)ul(c,a,t,s),o&&sl(c,l),e.update(c,u[t])}function ul(t,e,n,r){t.p0=t.i0,t.p1=t.i1,t.i0=null==e[0]?0:Math.max(0,n-Math.abs(e[0])),t.i1=null==e[1]?r:Math.min(r,n+Math.abs(e[1])+1),t.index=n}function sl(t,e){const n=t.i0,r=t.i1-1,i=t.compare,o=t.data,a=o.length-1;n>0&&!i(o[n],o[n-1])&&(t.i0=e.left(o,o[n])),r<a&&!i(o[r],o[r+1])&&(t.i1=e.right(o,o[r]))}il.init=function(){this.windows.forEach((t=>t.init())),this.cell&&this.cell.init()},il.update=function(t,e){const n=this.cell,r=this.windows,i=t.data,o=r&&r.length;let a;if(n){for(a=t.p0;a<t.i0;++a)n.rem(i[a]);for(a=t.p1;a<t.i1;++a)n.add(i[a]);n.set(e)}for(a=0;a<o;++a)r[a].update(t,e)},ol.Definition={type:"Window",metadata:{modifies:!0},params:[{name:"sort",type:"compare"},{name:"groupby",type:"field",array:!0},{name:"ops",type:"enum",array:!0,values:nl.concat(Iu)},{name:"params",type:"number",null:!0,array:!0},{name:"fields",type:"field",null:!0,array:!0},{name:"as",type:"string",null:!0,array:!0},{name:"frame",type:"number",null:!0,array:!0,length:2,default:[null,0]},{name:"ignorePeers",type:"boolean",default:!1}]},ut(ol,$a,{transform(t,e){this.stamp=e.stamp;const n=t.modified(),r=ma(t.sort),i=Lu(t.groupby),o=t=>this.group(i(t));let a=this.state;a&&!n||(a=this.state=new rl(t)),n||e.modified(a.inputs)?(this.value={},e.visit(e.SOURCE,(t=>o(t).add(t)))):(e.visit(e.REM,(t=>o(t).remove(t))),e.visit(e.ADD,(t=>o(t).add(t))));for(let e=0,n=this._mlen;e<n;++e)al(this._mods[e],a,r,t);return this._mlen=0,this._mods=[],e.reflow(n).modifies(a.outputs)},group(t){let e=this.value[t];return e||(e=this.value[t]=ts(ca),e.stamp=-1),e.stamp<this.stamp&&(e.stamp=this.stamp,this._mods[this._mlen++]=e),e}});var ll=Object.freeze({__proto__:null,aggregate:Qu,bin:Ku,collect:es,compare:ns,countpattern:is,cross:os,density:ls,dotbin:ps,expression:gs,extent:ys,facet:_s,field:xs,filter:ws,flatten:ks,fold:As,formula:Ms,generate:Es,impute:Fs,joinaggregate:Ss,kde:Bs,key:Ts,load:zs,lookup:Rs,multiextent:Ls,multivalues:qs,params:js,pivot:Is,prefacet:$s,project:Ws,proxy:Hs,quantile:Ys,relay:Gs,sample:Vs,sequence:Xs,sieve:Js,subflow:vs,timeunit:Zs,tupleindex:Ks,values:tl,window:ol});const cl=Math.PI,fl=2*cl,hl=1e-6,dl=fl-hl;function pl(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function gl(){return new pl}function ml(t){return function(){return t}}pl.prototype=gl.prototype={constructor:pl,moveTo:function(t,e){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+e)},closePath:function(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(t,e){this._+="L"+(this._x1=+t)+","+(this._y1=+e)},quadraticCurveTo:function(t,e,n,r){this._+="Q"+ +t+","+ +e+","+(this._x1=+n)+","+(this._y1=+r)},bezierCurveTo:function(t,e,n,r,i,o){this._+="C"+ +t+","+ +e+","+ +n+","+ +r+","+(this._x1=+i)+","+(this._y1=+o)},arcTo:function(t,e,n,r,i){t=+t,e=+e,n=+n,r=+r,i=+i;var o=this._x1,a=this._y1,u=n-t,s=r-e,l=o-t,c=a-e,f=l*l+c*c;if(i<0)throw new Error("negative radius: "+i);if(null===this._x1)this._+="M"+(this._x1=t)+","+(this._y1=e);else if(f>hl)if(Math.abs(c*u-s*l)>hl&&i){var h=n-o,d=r-a,p=u*u+s*s,g=h*h+d*d,m=Math.sqrt(p),y=Math.sqrt(f),v=i*Math.tan((cl-Math.acos((p+f-g)/(2*m*y)))/2),_=v/y,x=v/m;Math.abs(_-1)>hl&&(this._+="L"+(t+_*l)+","+(e+_*c)),this._+="A"+i+","+i+",0,0,"+ +(c*h>l*d)+","+(this._x1=t+x*u)+","+(this._y1=e+x*s)}else this._+="L"+(this._x1=t)+","+(this._y1=e);else;},arc:function(t,e,n,r,i,o){t=+t,e=+e,o=!!o;var a=(n=+n)*Math.cos(r),u=n*Math.sin(r),s=t+a,l=e+u,c=1^o,f=o?r-i:i-r;if(n<0)throw new Error("negative radius: "+n);null===this._x1?this._+="M"+s+","+l:(Math.abs(this._x1-s)>hl||Math.abs(this._y1-l)>hl)&&(this._+="L"+s+","+l),n&&(f<0&&(f=f%fl+fl),f>dl?this._+="A"+n+","+n+",0,1,"+c+","+(t-a)+","+(e-u)+"A"+n+","+n+",0,1,"+c+","+(this._x1=s)+","+(this._y1=l):f>hl&&(this._+="A"+n+","+n+",0,"+ +(f>=cl)+","+c+","+(this._x1=t+n*Math.cos(i))+","+(this._y1=e+n*Math.sin(i))))},rect:function(t,e,n,r){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+e)+"h"+ +n+"v"+ +r+"h"+-n+"Z"},toString:function(){return this._}};const yl=Math.abs,vl=Math.atan2,_l=Math.cos,xl=Math.max,bl=Math.min,wl=Math.sin,kl=Math.sqrt,Al=1e-12,Ml=Math.PI,El=Ml/2,Dl=2*Ml;function Cl(t){return t>1?0:t<-1?Ml:Math.acos(t)}function Fl(t){return t>=1?El:t<=-1?-El:Math.asin(t)}function Sl(t){return t.innerRadius}function Bl(t){return t.outerRadius}function Tl(t){return t.startAngle}function Nl(t){return t.endAngle}function zl(t){return t&&t.padAngle}function Ol(t,e,n,r,i,o,a,u){var s=n-t,l=r-e,c=a-i,f=u-o,h=f*s-c*l;if(!(h*h<Al))return[t+(h=(c*(e-o)-f*(t-i))/h)*s,e+h*l]}function Rl(t,e,n,r,i,o,a){var u=t-n,s=e-r,l=(a?o:-o)/kl(u*u+s*s),c=l*s,f=-l*u,h=t+c,d=e+f,p=n+c,g=r+f,m=(h+p)/2,y=(d+g)/2,v=p-h,_=g-d,x=v*v+_*_,b=i-o,w=h*g-p*d,k=(_<0?-1:1)*kl(xl(0,b*b*x-w*w)),A=(w*_-v*k)/x,M=(-w*v-_*k)/x,E=(w*_+v*k)/x,D=(-w*v+_*k)/x,C=A-m,F=M-y,S=E-m,B=D-y;return C*C+F*F>S*S+B*B&&(A=E,M=D),{cx:A,cy:M,x01:-c,y01:-f,x11:A*(i/b-1),y11:M*(i/b-1)}}function Ll(t){return"object"==typeof t&&"length"in t?t:Array.from(t)}function Ul(t){this._context=t}function ql(t){return new Ul(t)}function Pl(t){return t[0]}function jl(t){return t[1]}function Il(t,e){var n=ml(!0),r=null,i=ql,o=null;function a(a){var u,s,l,c=(a=Ll(a)).length,f=!1;for(null==r&&(o=i(l=gl())),u=0;u<=c;++u)!(u<c&&n(s=a[u],u,a))===f&&((f=!f)?o.lineStart():o.lineEnd()),f&&o.point(+t(s,u,a),+e(s,u,a));if(l)return o=null,l+""||null}return t="function"==typeof t?t:void 0===t?Pl:ml(t),e="function"==typeof e?e:void 0===e?jl:ml(e),a.x=function(e){return arguments.length?(t="function"==typeof e?e:ml(+e),a):t},a.y=function(t){return arguments.length?(e="function"==typeof t?t:ml(+t),a):e},a.defined=function(t){return arguments.length?(n="function"==typeof t?t:ml(!!t),a):n},a.curve=function(t){return arguments.length?(i=t,null!=r&&(o=i(r)),a):i},a.context=function(t){return arguments.length?(null==t?r=o=null:o=i(r=t),a):r},a}function $l(t,e,n){var r=null,i=ml(!0),o=null,a=ql,u=null;function s(s){var l,c,f,h,d,p=(s=Ll(s)).length,g=!1,m=new Array(p),y=new Array(p);for(null==o&&(u=a(d=gl())),l=0;l<=p;++l){if(!(l<p&&i(h=s[l],l,s))===g)if(g=!g)c=l,u.areaStart(),u.lineStart();else{for(u.lineEnd(),u.lineStart(),f=l-1;f>=c;--f)u.point(m[f],y[f]);u.lineEnd(),u.areaEnd()}g&&(m[l]=+t(h,l,s),y[l]=+e(h,l,s),u.point(r?+r(h,l,s):m[l],n?+n(h,l,s):y[l]))}if(d)return u=null,d+""||null}function l(){return Il().defined(i).curve(a).context(o)}return t="function"==typeof t?t:void 0===t?Pl:ml(+t),e="function"==typeof e?e:ml(void 0===e?0:+e),n="function"==typeof n?n:void 0===n?jl:ml(+n),s.x=function(e){return arguments.length?(t="function"==typeof e?e:ml(+e),r=null,s):t},s.x0=function(e){return arguments.length?(t="function"==typeof e?e:ml(+e),s):t},s.x1=function(t){return arguments.length?(r=null==t?null:"function"==typeof t?t:ml(+t),s):r},s.y=function(t){return arguments.length?(e="function"==typeof t?t:ml(+t),n=null,s):e},s.y0=function(t){return arguments.length?(e="function"==typeof t?t:ml(+t),s):e},s.y1=function(t){return arguments.length?(n=null==t?null:"function"==typeof t?t:ml(+t),s):n},s.lineX0=s.lineY0=function(){return l().x(t).y(e)},s.lineY1=function(){return l().x(t).y(n)},s.lineX1=function(){return l().x(r).y(e)},s.defined=function(t){return arguments.length?(i="function"==typeof t?t:ml(!!t),s):i},s.curve=function(t){return arguments.length?(a=t,null!=o&&(u=a(o)),s):a},s.context=function(t){return arguments.length?(null==t?o=u=null:u=a(o=t),s):o},s}Ul.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e)}}};var Wl={draw(t,e){const n=kl(e/Ml);t.moveTo(n,0),t.arc(0,0,n,0,Dl)}};function Hl(){}function Yl(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function Gl(t){this._context=t}function Vl(t){this._context=t}function Xl(t){this._context=t}function Jl(t,e){this._basis=new Gl(t),this._beta=e}Gl.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Yl(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Yl(this,t,e)}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}},Vl.prototype={areaStart:Hl,areaEnd:Hl,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x2,this._y2),this._context.closePath();break;case 2:this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break;case 3:this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4)}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:Yl(this,t,e)}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}},Xl.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+t)/6,r=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:Yl(this,t,e)}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}},Jl.prototype={lineStart:function(){this._x=[],this._y=[],this._basis.lineStart()},lineEnd:function(){var t=this._x,e=this._y,n=t.length-1;if(n>0)for(var r,i=t[0],o=e[0],a=t[n]-i,u=e[n]-o,s=-1;++s<=n;)r=s/n,this._basis.point(this._beta*t[s]+(1-this._beta)*(i+r*a),this._beta*e[s]+(1-this._beta)*(o+r*u));this._x=this._y=null,this._basis.lineEnd()},point:function(t,e){this._x.push(+t),this._y.push(+e)}};var Zl=function t(e){function n(t){return 1===e?new Gl(t):new Jl(t,e)}return n.beta=function(e){return t(+e)},n}(.85);function Ql(t,e,n){t._context.bezierCurveTo(t._x1+t._k*(t._x2-t._x0),t._y1+t._k*(t._y2-t._y0),t._x2+t._k*(t._x1-e),t._y2+t._k*(t._y1-n),t._x2,t._y2)}function Kl(t,e){this._context=t,this._k=(1-e)/6}Kl.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:Ql(this,this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2,this._x1=t,this._y1=e;break;case 2:this._point=3;default:Ql(this,t,e)}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};var tc=function t(e){function n(t){return new Kl(t,e)}return n.tension=function(e){return t(+e)},n}(0);function ec(t,e){this._context=t,this._k=(1-e)/6}ec.prototype={areaStart:Hl,areaEnd:Hl,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3),this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3),this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5)}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x3=t,this._y3=e;break;case 1:this._point=2,this._context.moveTo(this._x4=t,this._y4=e);break;case 2:this._point=3,this._x5=t,this._y5=e;break;default:Ql(this,t,e)}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};var nc=function t(e){function n(t){return new ec(t,e)}return n.tension=function(e){return t(+e)},n}(0);function rc(t,e){this._context=t,this._k=(1-e)/6}rc.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:Ql(this,t,e)}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};var ic=function t(e){function n(t){return new rc(t,e)}return n.tension=function(e){return t(+e)},n}(0);function oc(t,e,n){var r=t._x1,i=t._y1,o=t._x2,a=t._y2;if(t._l01_a>Al){var u=2*t._l01_2a+3*t._l01_a*t._l12_a+t._l12_2a,s=3*t._l01_a*(t._l01_a+t._l12_a);r=(r*u-t._x0*t._l12_2a+t._x2*t._l01_2a)/s,i=(i*u-t._y0*t._l12_2a+t._y2*t._l01_2a)/s}if(t._l23_a>Al){var l=2*t._l23_2a+3*t._l23_a*t._l12_a+t._l12_2a,c=3*t._l23_a*(t._l23_a+t._l12_a);o=(o*l+t._x1*t._l23_2a-e*t._l12_2a)/c,a=(a*l+t._y1*t._l23_2a-n*t._l12_2a)/c}t._context.bezierCurveTo(r,i,o,a,t._x2,t._y2)}function ac(t,e){this._context=t,this._alpha=e}ac.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){if(t=+t,e=+e,this._point){var n=this._x2-t,r=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3;default:oc(this,t,e)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};var uc=function t(e){function n(t){return e?new ac(t,e):new Kl(t,0)}return n.alpha=function(e){return t(+e)},n}(.5);function sc(t,e){this._context=t,this._alpha=e}sc.prototype={areaStart:Hl,areaEnd:Hl,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3),this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3),this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5)}},point:function(t,e){if(t=+t,e=+e,this._point){var n=this._x2-t,r=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._x3=t,this._y3=e;break;case 1:this._point=2,this._context.moveTo(this._x4=t,this._y4=e);break;case 2:this._point=3,this._x5=t,this._y5=e;break;default:oc(this,t,e)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};var lc=function t(e){function n(t){return e?new sc(t,e):new ec(t,0)}return n.alpha=function(e){return t(+e)},n}(.5);function cc(t,e){this._context=t,this._alpha=e}cc.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){if(t=+t,e=+e,this._point){var n=this._x2-t,r=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:oc(this,t,e)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};var fc=function t(e){function n(t){return e?new cc(t,e):new rc(t,0)}return n.alpha=function(e){return t(+e)},n}(.5);function hc(t){this._context=t}function dc(t){return t<0?-1:1}function pc(t,e,n){var r=t._x1-t._x0,i=e-t._x1,o=(t._y1-t._y0)/(r||i<0&&-0),a=(n-t._y1)/(i||r<0&&-0),u=(o*i+a*r)/(r+i);return(dc(o)+dc(a))*Math.min(Math.abs(o),Math.abs(a),.5*Math.abs(u))||0}function gc(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function mc(t,e,n){var r=t._x0,i=t._y0,o=t._x1,a=t._y1,u=(o-r)/3;t._context.bezierCurveTo(r+u,i+u*e,o-u,a-u*n,o,a)}function yc(t){this._context=t}function vc(t){this._context=new _c(t)}function _c(t){this._context=t}function xc(t){this._context=t}function bc(t){var e,n,r=t.length-1,i=new Array(r),o=new Array(r),a=new Array(r);for(i[0]=0,o[0]=2,a[0]=t[0]+2*t[1],e=1;e<r-1;++e)i[e]=1,o[e]=4,a[e]=4*t[e]+2*t[e+1];for(i[r-1]=2,o[r-1]=7,a[r-1]=8*t[r-1]+t[r],e=1;e<r;++e)n=i[e]/o[e-1],o[e]-=n,a[e]-=n*a[e-1];for(i[r-1]=a[r-1]/o[r-1],e=r-2;e>=0;--e)i[e]=(a[e]-i[e+1])/o[e];for(o[r-1]=(t[r]+i[r-1])/2,e=0;e<r-1;++e)o[e]=2*t[e+1]-i[e+1];return[i,o]}function wc(t,e){this._context=t,this._t=e}function kc(t,e){if("undefined"!=typeof document&&document.createElement){const n=document.createElement("canvas");if(n&&n.getContext)return n.width=t,n.height=e,n}return null}hc.prototype={areaStart:Hl,areaEnd:Hl,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}},yc.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:mc(this,this._t0,gc(this,this._t0))}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(e=+e,(t=+t)!==this._x1||e!==this._y1){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,mc(this,gc(this,n=pc(this,t,e)),n);break;default:mc(this,this._t0,n=pc(this,t,e))}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}},(vc.prototype=Object.create(yc.prototype)).point=function(t,e){yc.prototype.point.call(this,e,t)},_c.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,r,i,o){this._context.bezierCurveTo(e,t,r,n,o,i)}},xc.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),2===n)this._context.lineTo(t[1],e[1]);else for(var r=bc(t),i=bc(e),o=0,a=1;a<n;++o,++a)this._context.bezierCurveTo(r[0][o],i[0][o],r[1][o],i[1][o],t[a],e[a]);(this._line||0!==this._line&&1===n)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}},wc.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&2===this._point&&this._context.lineTo(this._x,this._y),(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}}this._x=t,this._y=e}};const Ac=()=>"undefined"!=typeof Image?Image:null;function Mc(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t)}return this}function Ec(t,e){switch(arguments.length){case 0:break;case 1:"function"==typeof t?this.interpolator(t):this.range(t);break;default:this.domain(t),"function"==typeof e?this.interpolator(e):this.range(e)}return this}const Dc=Symbol("implicit");function Cc(){var t=new Kt,e=[],n=[],r=Dc;function i(i){let o=t.get(i);if(void 0===o){if(r!==Dc)return r;t.set(i,o=e.push(i)-1)}return n[o%n.length]}return i.domain=function(n){if(!arguments.length)return e.slice();e=[],t=new Kt;for(const r of n)t.has(r)||t.set(r,e.push(r)-1);return i},i.range=function(t){return arguments.length?(n=Array.from(t),i):n.slice()},i.unknown=function(t){return arguments.length?(r=t,i):r},i.copy=function(){return Cc(e,n).unknown(r)},Mc.apply(i,arguments),i}function Fc(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function Sc(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function Bc(){}var Tc=.7,Nc=1/Tc,zc="\\s*([+-]?\\d+)\\s*",Oc="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",Rc="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Lc=/^#([0-9a-f]{3,8})$/,Uc=new RegExp("^rgb\\("+[zc,zc,zc]+"\\)$"),qc=new RegExp("^rgb\\("+[Rc,Rc,Rc]+"\\)$"),Pc=new RegExp("^rgba\\("+[zc,zc,zc,Oc]+"\\)$"),jc=new RegExp("^rgba\\("+[Rc,Rc,Rc,Oc]+"\\)$"),Ic=new RegExp("^hsl\\("+[Oc,Rc,Rc]+"\\)$"),$c=new RegExp("^hsla\\("+[Oc,Rc,Rc,Oc]+"\\)$"),Wc={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function Hc(){return this.rgb().formatHex()}function Yc(){return this.rgb().formatRgb()}function Gc(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=Lc.exec(t))?(n=e[1].length,e=parseInt(e[1],16),6===n?Vc(e):3===n?new Qc(e>>8&15|e>>4&240,e>>4&15|240&e,(15&e)<<4|15&e,1):8===n?Xc(e>>24&255,e>>16&255,e>>8&255,(255&e)/255):4===n?Xc(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|240&e,((15&e)<<4|15&e)/255):null):(e=Uc.exec(t))?new Qc(e[1],e[2],e[3],1):(e=qc.exec(t))?new Qc(255*e[1]/100,255*e[2]/100,255*e[3]/100,1):(e=Pc.exec(t))?Xc(e[1],e[2],e[3],e[4]):(e=jc.exec(t))?Xc(255*e[1]/100,255*e[2]/100,255*e[3]/100,e[4]):(e=Ic.exec(t))?nf(e[1],e[2]/100,e[3]/100,1):(e=$c.exec(t))?nf(e[1],e[2]/100,e[3]/100,e[4]):Wc.hasOwnProperty(t)?Vc(Wc[t]):"transparent"===t?new Qc(NaN,NaN,NaN,0):null}function Vc(t){return new Qc(t>>16&255,t>>8&255,255&t,1)}function Xc(t,e,n,r){return r<=0&&(t=e=n=NaN),new Qc(t,e,n,r)}function Jc(t){return t instanceof Bc||(t=Gc(t)),t?new Qc((t=t.rgb()).r,t.g,t.b,t.opacity):new Qc}function Zc(t,e,n,r){return 1===arguments.length?Jc(t):new Qc(t,e,n,null==r?1:r)}function Qc(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}function Kc(){return"#"+ef(this.r)+ef(this.g)+ef(this.b)}function tf(){var t=this.opacity;return(1===(t=isNaN(t)?1:Math.max(0,Math.min(1,t)))?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===t?")":", "+t+")")}function ef(t){return((t=Math.max(0,Math.min(255,Math.round(t)||0)))<16?"0":"")+t.toString(16)}function nf(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new af(t,e,n,r)}function rf(t){if(t instanceof af)return new af(t.h,t.s,t.l,t.opacity);if(t instanceof Bc||(t=Gc(t)),!t)return new af;if(t instanceof af)return t;var e=(t=t.rgb()).r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),o=Math.max(e,n,r),a=NaN,u=o-i,s=(o+i)/2;return u?(a=e===o?(n-r)/u+6*(n<r):n===o?(r-e)/u+2:(e-n)/u+4,u/=s<.5?o+i:2-o-i,a*=60):u=s>0&&s<1?0:a,new af(a,u,s,t.opacity)}function of(t,e,n,r){return 1===arguments.length?rf(t):new af(t,e,n,null==r?1:r)}function af(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}function uf(t,e,n){return 255*(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)}Fc(Bc,Gc,{copy:function(t){return Object.assign(new this.constructor,this,t)},displayable:function(){return this.rgb().displayable()},hex:Hc,formatHex:Hc,formatHsl:function(){return rf(this).formatHsl()},formatRgb:Yc,toString:Yc}),Fc(Qc,Zc,Sc(Bc,{brighter:function(t){return t=null==t?Nc:Math.pow(Nc,t),new Qc(this.r*t,this.g*t,this.b*t,this.opacity)},darker:function(t){return t=null==t?Tc:Math.pow(Tc,t),new Qc(this.r*t,this.g*t,this.b*t,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Kc,formatHex:Kc,formatRgb:tf,toString:tf})),Fc(af,of,Sc(Bc,{brighter:function(t){return t=null==t?Nc:Math.pow(Nc,t),new af(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?Tc:Math.pow(Tc,t),new af(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=this.h%360+360*(this.h<0),e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new Qc(uf(t>=240?t-240:t+120,i,r),uf(t,i,r),uf(t<120?t+240:t-120,i,r),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var t=this.opacity;return(1===(t=isNaN(t)?1:Math.max(0,Math.min(1,t)))?"hsl(":"hsla(")+(this.h||0)+", "+100*(this.s||0)+"%, "+100*(this.l||0)+"%"+(1===t?")":", "+t+")")}}));const sf=Math.PI/180,lf=180/Math.PI,cf=.96422,ff=.82521,hf=4/29,df=6/29,pf=3*df*df;function gf(t){if(t instanceof yf)return new yf(t.l,t.a,t.b,t.opacity);if(t instanceof Af)return Mf(t);t instanceof Qc||(t=Jc(t));var e,n,r=bf(t.r),i=bf(t.g),o=bf(t.b),a=vf((.2225045*r+.7168786*i+.0606169*o)/1);return r===i&&i===o?e=n=a:(e=vf((.4360747*r+.3850649*i+.1430804*o)/cf),n=vf((.0139322*r+.0971045*i+.7141733*o)/ff)),new yf(116*a-16,500*(e-a),200*(a-n),t.opacity)}function mf(t,e,n,r){return 1===arguments.length?gf(t):new yf(t,e,n,null==r?1:r)}function yf(t,e,n,r){this.l=+t,this.a=+e,this.b=+n,this.opacity=+r}function vf(t){return t>.008856451679035631?Math.pow(t,1/3):t/pf+hf}function _f(t){return t>df?t*t*t:pf*(t-hf)}function xf(t){return 255*(t<=.0031308?12.92*t:1.055*Math.pow(t,1/2.4)-.055)}function bf(t){return(t/=255)<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)}function wf(t){if(t instanceof Af)return new Af(t.h,t.c,t.l,t.opacity);if(t instanceof yf||(t=gf(t)),0===t.a&&0===t.b)return new Af(NaN,0<t.l&&t.l<100?0:NaN,t.l,t.opacity);var e=Math.atan2(t.b,t.a)*lf;return new Af(e<0?e+360:e,Math.sqrt(t.a*t.a+t.b*t.b),t.l,t.opacity)}function kf(t,e,n,r){return 1===arguments.length?wf(t):new Af(t,e,n,null==r?1:r)}function Af(t,e,n,r){this.h=+t,this.c=+e,this.l=+n,this.opacity=+r}function Mf(t){if(isNaN(t.h))return new yf(t.l,0,0,t.opacity);var e=t.h*sf;return new yf(t.l,Math.cos(e)*t.c,Math.sin(e)*t.c,t.opacity)}Fc(yf,mf,Sc(Bc,{brighter:function(t){return new yf(this.l+18*(null==t?1:t),this.a,this.b,this.opacity)},darker:function(t){return new yf(this.l-18*(null==t?1:t),this.a,this.b,this.opacity)},rgb:function(){var t=(this.l+16)/116,e=isNaN(this.a)?t:t+this.a/500,n=isNaN(this.b)?t:t-this.b/200;return new Qc(xf(3.1338561*(e=cf*_f(e))-1.6168667*(t=1*_f(t))-.4906146*(n=ff*_f(n))),xf(-.9787684*e+1.9161415*t+.033454*n),xf(.0719453*e-.2289914*t+1.4052427*n),this.opacity)}})),Fc(Af,kf,Sc(Bc,{brighter:function(t){return new Af(this.h,this.c,this.l+18*(null==t?1:t),this.opacity)},darker:function(t){return new Af(this.h,this.c,this.l-18*(null==t?1:t),this.opacity)},rgb:function(){return Mf(this).rgb()}}));var Ef=-.14861,Df=1.78277,Cf=-.29227,Ff=-.90649,Sf=1.97294,Bf=Sf*Ff,Tf=Sf*Df,Nf=Df*Cf-Ff*Ef;function zf(t){if(t instanceof Rf)return new Rf(t.h,t.s,t.l,t.opacity);t instanceof Qc||(t=Jc(t));var e=t.r/255,n=t.g/255,r=t.b/255,i=(Nf*r+Bf*e-Tf*n)/(Nf+Bf-Tf),o=r-i,a=(Sf*(n-i)-Cf*o)/Ff,u=Math.sqrt(a*a+o*o)/(Sf*i*(1-i)),s=u?Math.atan2(a,o)*lf-120:NaN;return new Rf(s<0?s+360:s,u,i,t.opacity)}function Of(t,e,n,r){return 1===arguments.length?zf(t):new Rf(t,e,n,null==r?1:r)}function Rf(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}function Lf(t,e,n,r,i){var o=t*t,a=o*t;return((1-3*t+3*o-a)*e+(4-6*o+3*a)*n+(1+3*t+3*o-3*a)*r+a*i)/6}function Uf(t){var e=t.length-1;return function(n){var r=n<=0?n=0:n>=1?(n=1,e-1):Math.floor(n*e),i=t[r],o=t[r+1],a=r>0?t[r-1]:2*i-o,u=r<e-1?t[r+2]:2*o-i;return Lf((n-r/e)*e,a,i,o,u)}}function qf(t){var e=t.length;return function(n){var r=Math.floor(((n%=1)<0?++n:n)*e),i=t[(r+e-1)%e],o=t[r%e],a=t[(r+1)%e],u=t[(r+2)%e];return Lf((n-r/e)*e,i,o,a,u)}}Fc(Rf,Of,Sc(Bc,{brighter:function(t){return t=null==t?Nc:Math.pow(Nc,t),new Rf(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?Tc:Math.pow(Tc,t),new Rf(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=isNaN(this.h)?0:(this.h+120)*sf,e=+this.l,n=isNaN(this.s)?0:this.s*e*(1-e),r=Math.cos(t),i=Math.sin(t);return new Qc(255*(e+n*(Ef*r+Df*i)),255*(e+n*(Cf*r+Ff*i)),255*(e+n*(Sf*r)),this.opacity)}}));var Pf=t=>()=>t;function jf(t,e){return function(n){return t+n*e}}function If(t,e){var n=e-t;return n?jf(t,n>180||n<-180?n-360*Math.round(n/360):n):Pf(isNaN(t)?e:t)}function $f(t){return 1==(t=+t)?Wf:function(e,n){return n-e?function(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}(e,n,t):Pf(isNaN(e)?n:e)}}function Wf(t,e){var n=e-t;return n?jf(t,n):Pf(isNaN(t)?e:t)}var Hf=function t(e){var n=$f(e);function r(t,e){var r=n((t=Zc(t)).r,(e=Zc(e)).r),i=n(t.g,e.g),o=n(t.b,e.b),a=Wf(t.opacity,e.opacity);return function(e){return t.r=r(e),t.g=i(e),t.b=o(e),t.opacity=a(e),t+""}}return r.gamma=t,r}(1);function Yf(t){return function(e){var n,r,i=e.length,o=new Array(i),a=new Array(i),u=new Array(i);for(n=0;n<i;++n)r=Zc(e[n]),o[n]=r.r||0,a[n]=r.g||0,u[n]=r.b||0;return o=t(o),a=t(a),u=t(u),r.opacity=1,function(t){return r.r=o(t),r.g=a(t),r.b=u(t),r+""}}}var Gf=Yf(Uf),Vf=Yf(qf);function Xf(t,e){e||(e=[]);var n,r=t?Math.min(e.length,t.length):0,i=e.slice();return function(o){for(n=0;n<r;++n)i[n]=t[n]*(1-o)+e[n]*o;return i}}function Jf(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function Zf(t,e){var n,r=e?e.length:0,i=t?Math.min(r,t.length):0,o=new Array(i),a=new Array(r);for(n=0;n<i;++n)o[n]=ih(t[n],e[n]);for(;n<r;++n)a[n]=e[n];return function(t){for(n=0;n<i;++n)a[n]=o[n](t);return a}}function Qf(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function Kf(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function th(t,e){var n,r={},i={};for(n in null!==t&&"object"==typeof t||(t={}),null!==e&&"object"==typeof e||(e={}),e)n in t?r[n]=ih(t[n],e[n]):i[n]=e[n];return function(t){for(n in r)i[n]=r[n](t);return i}}var eh=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,nh=new RegExp(eh.source,"g");function rh(t,e){var n,r,i,o=eh.lastIndex=nh.lastIndex=0,a=-1,u=[],s=[];for(t+="",e+="";(n=eh.exec(t))&&(r=nh.exec(e));)(i=r.index)>o&&(i=e.slice(o,i),u[a]?u[a]+=i:u[++a]=i),(n=n[0])===(r=r[0])?u[a]?u[a]+=r:u[++a]=r:(u[++a]=null,s.push({i:a,x:Kf(n,r)})),o=nh.lastIndex;return o<e.length&&(i=e.slice(o),u[a]?u[a]+=i:u[++a]=i),u.length<2?s[0]?function(t){return function(e){return t(e)+""}}(s[0].x):function(t){return function(){return t}}(e):(e=s.length,function(t){for(var n,r=0;r<e;++r)u[(n=s[r]).i]=n.x(t);return u.join("")})}function ih(t,e){var n,r=typeof e;return null==e||"boolean"===r?Pf(e):("number"===r?Kf:"string"===r?(n=Gc(e))?(e=n,Hf):rh:e instanceof Gc?Hf:e instanceof Date?Qf:Jf(e)?Xf:Array.isArray(e)?Zf:"function"!=typeof e.valueOf&&"function"!=typeof e.toString||isNaN(e)?th:Kf)(t,e)}function oh(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}var ah,uh=180/Math.PI,sh={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function lh(t,e,n,r,i,o){var a,u,s;return(a=Math.sqrt(t*t+e*e))&&(t/=a,e/=a),(s=t*n+e*r)&&(n-=t*s,r-=e*s),(u=Math.sqrt(n*n+r*r))&&(n/=u,r/=u,s/=u),t*r<e*n&&(t=-t,e=-e,s=-s,a=-a),{translateX:i,translateY:o,rotate:Math.atan2(e,t)*uh,skewX:Math.atan(s)*uh,scaleX:a,scaleY:u}}function ch(t,e,n,r){function i(t){return t.length?t.pop()+" ":""}return function(o,a){var u=[],s=[];return o=t(o),a=t(a),function(t,r,i,o,a,u){if(t!==i||r!==o){var s=a.push("translate(",null,e,null,n);u.push({i:s-4,x:Kf(t,i)},{i:s-2,x:Kf(r,o)})}else(i||o)&&a.push("translate("+i+e+o+n)}(o.translateX,o.translateY,a.translateX,a.translateY,u,s),function(t,e,n,o){t!==e?(t-e>180?e+=360:e-t>180&&(t+=360),o.push({i:n.push(i(n)+"rotate(",null,r)-2,x:Kf(t,e)})):e&&n.push(i(n)+"rotate("+e+r)}(o.rotate,a.rotate,u,s),function(t,e,n,o){t!==e?o.push({i:n.push(i(n)+"skewX(",null,r)-2,x:Kf(t,e)}):e&&n.push(i(n)+"skewX("+e+r)}(o.skewX,a.skewX,u,s),function(t,e,n,r,o,a){if(t!==n||e!==r){var u=o.push(i(o)+"scale(",null,",",null,")");a.push({i:u-4,x:Kf(t,n)},{i:u-2,x:Kf(e,r)})}else 1===n&&1===r||o.push(i(o)+"scale("+n+","+r+")")}(o.scaleX,o.scaleY,a.scaleX,a.scaleY,u,s),o=a=null,function(t){for(var e,n=-1,r=s.length;++n<r;)u[(e=s[n]).i]=e.x(t);return u.join("")}}}var fh=ch((function(t){const e=new("function"==typeof DOMMatrix?DOMMatrix:WebKitCSSMatrix)(t+"");return e.isIdentity?sh:lh(e.a,e.b,e.c,e.d,e.e,e.f)}),"px, ","px)","deg)"),hh=ch((function(t){return null==t?sh:(ah||(ah=document.createElementNS("http://www.w3.org/2000/svg","g")),ah.setAttribute("transform",t),(t=ah.transform.baseVal.consolidate())?lh((t=t.matrix).a,t.b,t.c,t.d,t.e,t.f):sh)}),", ",")",")");function dh(t){return((t=Math.exp(t))+1/t)/2}var ph=function t(e,n,r){function i(t,i){var o,a,u=t[0],s=t[1],l=t[2],c=i[0],f=i[1],h=i[2],d=c-u,p=f-s,g=d*d+p*p;if(g<1e-12)a=Math.log(h/l)/e,o=function(t){return[u+t*d,s+t*p,l*Math.exp(e*t*a)]};else{var m=Math.sqrt(g),y=(h*h-l*l+r*g)/(2*l*n*m),v=(h*h-l*l-r*g)/(2*h*n*m),_=Math.log(Math.sqrt(y*y+1)-y),x=Math.log(Math.sqrt(v*v+1)-v);a=(x-_)/e,o=function(t){var r=t*a,i=dh(_),o=l/(n*m)*(i*function(t){return((t=Math.exp(2*t))-1)/(t+1)}(e*r+_)-function(t){return((t=Math.exp(t))-1/t)/2}(_));return[u+o*d,s+o*p,l*i/dh(e*r+_)]}}return o.duration=1e3*a*e/Math.SQRT2,o}return i.rho=function(e){var n=Math.max(.001,+e),r=n*n;return t(n,r,r*r)},i}(Math.SQRT2,2,4);function gh(t){return function(e,n){var r=t((e=of(e)).h,(n=of(n)).h),i=Wf(e.s,n.s),o=Wf(e.l,n.l),a=Wf(e.opacity,n.opacity);return function(t){return e.h=r(t),e.s=i(t),e.l=o(t),e.opacity=a(t),e+""}}}var mh=gh(If),yh=gh(Wf);function vh(t){return function(e,n){var r=t((e=kf(e)).h,(n=kf(n)).h),i=Wf(e.c,n.c),o=Wf(e.l,n.l),a=Wf(e.opacity,n.opacity);return function(t){return e.h=r(t),e.c=i(t),e.l=o(t),e.opacity=a(t),e+""}}}var _h=vh(If),xh=vh(Wf);function bh(t){return function e(n){function r(e,r){var i=t((e=Of(e)).h,(r=Of(r)).h),o=Wf(e.s,r.s),a=Wf(e.l,r.l),u=Wf(e.opacity,r.opacity);return function(t){return e.h=i(t),e.s=o(t),e.l=a(Math.pow(t,n)),e.opacity=u(t),e+""}}return n=+n,r.gamma=e,r}(1)}var wh=bh(If),kh=bh(Wf);function Ah(t,e){void 0===e&&(e=t,t=ih);for(var n=0,r=e.length-1,i=e[0],o=new Array(r<0?0:r);n<r;)o[n]=t(i,i=e[++n]);return function(t){var e=Math.max(0,Math.min(r-1,Math.floor(t*=r)));return o[e](t-e)}}var Mh=Object.freeze({__proto__:null,interpolate:ih,interpolateArray:function(t,e){return(Jf(e)?Xf:Zf)(t,e)},interpolateBasis:Uf,interpolateBasisClosed:qf,interpolateDate:Qf,interpolateDiscrete:function(t){var e=t.length;return function(n){return t[Math.max(0,Math.min(e-1,Math.floor(n*e)))]}},interpolateHue:function(t,e){var n=If(+t,+e);return function(t){var e=n(t);return e-360*Math.floor(e/360)}},interpolateNumber:Kf,interpolateNumberArray:Xf,interpolateObject:th,interpolateRound:oh,interpolateString:rh,interpolateTransformCss:fh,interpolateTransformSvg:hh,interpolateZoom:ph,interpolateRgb:Hf,interpolateRgbBasis:Gf,interpolateRgbBasisClosed:Vf,interpolateHsl:mh,interpolateHslLong:yh,interpolateLab:function(t,e){var n=Wf((t=mf(t)).l,(e=mf(e)).l),r=Wf(t.a,e.a),i=Wf(t.b,e.b),o=Wf(t.opacity,e.opacity);return function(e){return t.l=n(e),t.a=r(e),t.b=i(e),t.opacity=o(e),t+""}},interpolateHcl:_h,interpolateHclLong:xh,interpolateCubehelix:wh,interpolateCubehelixLong:kh,piecewise:Ah,quantize:function(t,e){for(var n=new Array(e),r=0;r<e;++r)n[r]=t(r/(e-1));return n}});function Eh(t){return+t}var Dh=[0,1];function Ch(t){return t}function Fh(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:function(t){return function(){return t}}(isNaN(e)?NaN:.5)}function Sh(t,e,n){var r=t[0],i=t[1],o=e[0],a=e[1];return i<r?(r=Fh(i,r),o=n(a,o)):(r=Fh(r,i),o=n(o,a)),function(t){return o(r(t))}}function Bh(t,e,n){var r=Math.min(t.length,e.length)-1,i=new Array(r),o=new Array(r),a=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++a<r;)i[a]=Fh(t[a],t[a+1]),o[a]=n(e[a],e[a+1]);return function(e){var n=Zt(t,e,1,r)-1;return o[n](i[n](e))}}function Th(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function Nh(){var t,e,n,r,i,o,a=Dh,u=Dh,s=ih,l=Ch;function c(){var t=Math.min(a.length,u.length);return l!==Ch&&(l=function(t,e){var n;return t>e&&(n=t,t=e,e=n),function(n){return Math.max(t,Math.min(e,n))}}(a[0],a[t-1])),r=t>2?Bh:Sh,i=o=null,f}function f(e){return null==e||isNaN(e=+e)?n:(i||(i=r(a.map(t),u,s)))(t(l(e)))}return f.invert=function(n){return l(e((o||(o=r(u,a.map(t),Kf)))(n)))},f.domain=function(t){return arguments.length?(a=Array.from(t,Eh),c()):a.slice()},f.range=function(t){return arguments.length?(u=Array.from(t),c()):u.slice()},f.rangeRound=function(t){return u=Array.from(t),s=oh,c()},f.clamp=function(t){return arguments.length?(l=!!t||Ch,c()):l!==Ch},f.interpolate=function(t){return arguments.length?(s=t,c()):s},f.unknown=function(t){return arguments.length?(n=t,f):n},function(n,r){return t=n,e=r,c()}}function zh(){return Nh()(Ch,Ch)}function Oh(t,e,n,r){var i,o=he(t,e,n);switch((r=Ce(null==r?",f":r)).type){case"s":var a=Math.max(Math.abs(t),Math.abs(e));return null!=r.precision||isNaN(i=Pe(o,a))||(r.precision=i),Oe(r,a);case"":case"e":case"g":case"p":case"r":null!=r.precision||isNaN(i=je(o,Math.max(Math.abs(t),Math.abs(e))))||(r.precision=i-("e"===r.type));break;case"f":case"%":null!=r.precision||isNaN(i=qe(o))||(r.precision=i-2*("%"===r.type))}return ze(r)}function Rh(t){var e=t.domain;return t.ticks=function(t){var n=e();return ce(n[0],n[n.length-1],null==t?10:t)},t.tickFormat=function(t,n){var r=e();return Oh(r[0],r[r.length-1],null==t?10:t,n)},t.nice=function(n){null==n&&(n=10);var r,i,o=e(),a=0,u=o.length-1,s=o[a],l=o[u],c=10;for(l<s&&(i=s,s=l,l=i,i=a,a=u,u=i);c-- >0;){if((i=fe(s,l,n))===r)return o[a]=s,o[u]=l,e(o);if(i>0)s=Math.floor(s/i)*i,l=Math.ceil(l/i)*i;else{if(!(i<0))break;s=Math.ceil(s*i)/i,l=Math.floor(l*i)/i}r=i}return t},t}function Lh(t,e){var n,r=0,i=(t=t.slice()).length-1,o=t[r],a=t[i];return a<o&&(n=r,r=i,i=n,n=o,o=a,a=n),t[r]=e.floor(o),t[i]=e.ceil(a),t}function Uh(t){return Math.log(t)}function qh(t){return Math.exp(t)}function Ph(t){return-Math.log(-t)}function jh(t){return-Math.exp(-t)}function Ih(t){return isFinite(t)?+("1e"+t):t<0?0:t}function $h(t){return(e,n)=>-t(-e,n)}function Wh(t){const e=t(Uh,qh),n=e.domain;let r,i,o=10;function a(){return r=function(t){return t===Math.E?Math.log:10===t&&Math.log10||2===t&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}(o),i=function(t){return 10===t?Ih:t===Math.E?Math.exp:e=>Math.pow(t,e)}(o),n()[0]<0?(r=$h(r),i=$h(i),t(Ph,jh)):t(Uh,qh),e}return e.base=function(t){return arguments.length?(o=+t,a()):o},e.domain=function(t){return arguments.length?(n(t),a()):n()},e.ticks=t=>{const e=n();let a=e[0],u=e[e.length-1];const s=u<a;s&&([a,u]=[u,a]);let l,c,f=r(a),h=r(u);const d=null==t?10:+t;let p=[];if(!(o%1)&&h-f<d){if(f=Math.floor(f),h=Math.ceil(h),a>0){for(;f<=h;++f)for(l=1;l<o;++l)if(c=f<0?l/i(-f):l*i(f),!(c<a)){if(c>u)break;p.push(c)}}else for(;f<=h;++f)for(l=o-1;l>=1;--l)if(c=f>0?l/i(-f):l*i(f),!(c<a)){if(c>u)break;p.push(c)}2*p.length<d&&(p=ce(a,u,d))}else p=ce(f,h,Math.min(h-f,d)).map(i);return s?p.reverse():p},e.tickFormat=(t,n)=>{if(null==t&&(t=10),null==n&&(n=10===o?"s":","),"function"!=typeof n&&(o%1||null!=(n=Ce(n)).precision||(n.trim=!0),n=ze(n)),t===1/0)return n;const a=Math.max(1,o*t/e.ticks().length);return t=>{let e=t/i(Math.round(r(t)));return e*o<o-.5&&(e*=o),e<=a?n(t):""}},e.nice=()=>n(Lh(n(),{floor:t=>i(Math.floor(r(t))),ceil:t=>i(Math.ceil(r(t)))})),e}function Hh(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function Yh(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function Gh(t){var e=1,n=t(Hh(e),Yh(e));return n.constant=function(n){return arguments.length?t(Hh(e=+n),Yh(e)):e},Rh(n)}function Vh(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function Xh(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function Jh(t){return t<0?-t*t:t*t}function Zh(t){var e=t(Ch,Ch),n=1;function r(){return 1===n?t(Ch,Ch):.5===n?t(Xh,Jh):t(Vh(n),Vh(1/n))}return e.exponent=function(t){return arguments.length?(n=+t,r()):n},Rh(e)}function Qh(){var t=Zh(Nh());return t.copy=function(){return Th(t,Qh()).exponent(t.exponent())},Mc.apply(t,arguments),t}function Kh(t){return new Date(t)}function td(t){return t instanceof Date?+t:+new Date(+t)}function ed(t,e,n,r,i,o,a,u,s,l){var c=zh(),f=c.invert,h=c.domain,d=l(".%L"),p=l(":%S"),g=l("%I:%M"),m=l("%I %p"),y=l("%a %d"),v=l("%b %d"),_=l("%B"),x=l("%Y");function b(t){return(s(t)<t?d:u(t)<t?p:a(t)<t?g:o(t)<t?m:r(t)<t?i(t)<t?y:v:n(t)<t?_:x)(t)}return c.invert=function(t){return new Date(f(t))},c.domain=function(t){return arguments.length?h(Array.from(t,td)):h().map(Kh)},c.ticks=function(e){var n=h();return t(n[0],n[n.length-1],null==e?10:e)},c.tickFormat=function(t,e){return null==e?b:l(e)},c.nice=function(t){var n=h();return t&&"function"==typeof t.range||(t=e(n[0],n[n.length-1],null==t?10:t)),t?h(Lh(n,t)):c},c.copy=function(){return Th(c,ed(t,e,n,r,i,o,a,u,s,l))},c}function nd(){var t,e,n,r,i,o=0,a=1,u=Ch,s=!1;function l(e){return null==e||isNaN(e=+e)?i:u(0===n?.5:(e=(r(e)-t)*n,s?Math.max(0,Math.min(1,e)):e))}function c(t){return function(e){var n,r;return arguments.length?([n,r]=e,u=t(n,r),l):[u(0),u(1)]}}return l.domain=function(i){return arguments.length?([o,a]=i,t=r(o=+o),e=r(a=+a),n=t===e?0:1/(e-t),l):[o,a]},l.clamp=function(t){return arguments.length?(s=!!t,l):s},l.interpolator=function(t){return arguments.length?(u=t,l):u},l.range=c(ih),l.rangeRound=c(oh),l.unknown=function(t){return arguments.length?(i=t,l):i},function(i){return r=i,t=i(o),e=i(a),n=t===e?0:1/(e-t),l}}function rd(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function id(){var t=Rh(nd()(Ch));return t.copy=function(){return rd(t,id())},Ec.apply(t,arguments)}function od(){var t=Zh(nd());return t.copy=function(){return rd(t,od()).exponent(t.exponent())},Ec.apply(t,arguments)}function ad(){var t,e,n,r,i,o,a,u=0,s=.5,l=1,c=1,f=Ch,h=!1;function d(t){return isNaN(t=+t)?a:(t=.5+((t=+o(t))-e)*(c*t<c*e?r:i),f(h?Math.max(0,Math.min(1,t)):t))}function p(t){return function(e){var n,r,i;return arguments.length?([n,r,i]=e,f=Ah(t,[n,r,i]),d):[f(0),f(.5),f(1)]}}return d.domain=function(a){return arguments.length?([u,s,l]=a,t=o(u=+u),e=o(s=+s),n=o(l=+l),r=t===e?0:.5/(e-t),i=e===n?0:.5/(n-e),c=e<t?-1:1,d):[u,s,l]},d.clamp=function(t){return arguments.length?(h=!!t,d):h},d.interpolator=function(t){return arguments.length?(f=t,d):f},d.range=p(ih),d.rangeRound=p(oh),d.unknown=function(t){return arguments.length?(a=t,d):a},function(a){return o=a,t=a(u),e=a(s),n=a(l),r=t===e?0:.5/(e-t),i=e===n?0:.5/(n-e),c=e<t?-1:1,d}}function ud(){var t=Zh(ad());return t.copy=function(){return rd(t,ud()).exponent(t.exponent())},Ec.apply(t,arguments)}function sd(t,e,n){const r=t-e+2*n;return t?r>0?r:1:0}const ld="linear",cd="log",fd="pow",hd="sqrt",dd="symlog",pd="time",gd="utc",md="sequential",yd="diverging",vd="quantile",_d="quantize",xd="threshold",bd="ordinal",wd="point",kd="band",Ad="bin-ordinal",Md="continuous",Ed="discrete",Dd="discretizing",Cd="interpolating",Fd="temporal";function Sd(){const t=Cc().unknown(void 0),e=t.domain,n=t.range;let r,i,o=[0,1],a=!1,u=0,s=0,l=.5;function c(){const t=e().length,c=o[1]<o[0],f=o[1-c],h=sd(t,u,s);let d=o[c-0];r=(f-d)/(h||1),a&&(r=Math.floor(r)),d+=(f-d-r*(t-u))*l,i=r*(1-u),a&&(d=Math.round(d),i=Math.round(i));const p=be(t).map((t=>d+r*t));return n(c?p.reverse():p)}return delete t.unknown,t.domain=function(t){return arguments.length?(e(t),c()):e()},t.range=function(t){return arguments.length?(o=[+t[0],+t[1]],c()):o.slice()},t.rangeRound=function(t){return o=[+t[0],+t[1]],a=!0,c()},t.bandwidth=function(){return i},t.step=function(){return r},t.round=function(t){return arguments.length?(a=!!t,c()):a},t.padding=function(t){return arguments.length?(s=Math.max(0,Math.min(1,t)),u=s,c()):u},t.paddingInner=function(t){return arguments.length?(u=Math.max(0,Math.min(1,t)),c()):u},t.paddingOuter=function(t){return arguments.length?(s=Math.max(0,Math.min(1,t)),c()):s},t.align=function(t){return arguments.length?(l=Math.max(0,Math.min(1,t)),c()):l},t.invertRange=function(t){if(null==t[0]||null==t[1])return;const r=o[1]<o[0],a=r?n().reverse():n(),u=a.length-1;let s,l,c,f=+t[0],h=+t[1];return f!=f||h!=h||(h<f&&(c=f,f=h,h=c),h<a[0]||f>o[1-r])?void 0:(s=Math.max(0,Xt(a,f)-1),l=f===h?s:Xt(a,h)-1,f-a[s]>i+1e-10&&++s,r&&(c=s,s=u-l,l=u-c),s>l?void 0:e().slice(s,l+1))},t.invert=function(e){const n=t.invertRange([e,e]);return n?n[0]:n},t.copy=function(){return Sd().domain(e()).range(o).round(a).paddingInner(u).paddingOuter(s).align(l)},c()}function Bd(t){const e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,t.copy=function(){return Bd(e())},t}var Td=Array.prototype.map;function Nd(t){return Td.call(t,M)}const zd=Array.prototype.slice;const Od={};function Rd(t,e,n){const r=function(){const n=e();return n.invertRange||(n.invertRange=n.invert?function(t){return function(e){let n,r=e[0],i=e[1];return i<r&&(n=r,r=i,i=n),[t.invert(r),t.invert(i)]}}(n):n.invertExtent?function(t){return function(e){const n=t.range();let r,i,o,a,u=e[0],s=e[1],l=-1;for(s<u&&(i=u,u=s,s=i),o=0,a=n.length;o<a;++o)n[o]>=u&&n[o]<=s&&(l<0&&(l=o),r=o);if(!(l<0))return u=t.invertExtent(n[l]),s=t.invertExtent(n[r]),[void 0===u[0]?u[1]:u[0],void 0===s[1]?s[0]:s[1]]}}(n):void 0),n.type=t,n};return r.metadata=Dt($(n)),r}function Ld(t,e,n){return arguments.length>1?(Od[t]=Rd(t,e,n),this):Ud(t)?Od[t]:void 0}function Ud(t){return rt(Od,t)}function qd(t,e){const n=Od[t];return n&&n.metadata[e]}function Pd(t){return qd(t,Md)}function jd(t){return qd(t,Ed)}function Id(t){return qd(t,Dd)}function $d(t){return qd(t,cd)}function Wd(t){return qd(t,Cd)}function Hd(t){return qd(t,vd)}Ld("identity",(function t(e){var n;function r(t){return null==t||isNaN(t=+t)?n:t}return r.invert=r,r.domain=r.range=function(t){return arguments.length?(e=Array.from(t,Eh),r):e.slice()},r.unknown=function(t){return arguments.length?(n=t,r):n},r.copy=function(){return t(e).unknown(n)},e=arguments.length?Array.from(e,Eh):[0,1],Rh(r)})),Ld(ld,(function t(){var e=zh();return e.copy=function(){return Th(e,t())},Mc.apply(e,arguments),Rh(e)}),Md),Ld(cd,(function t(){const e=Wh(Nh()).domain([1,10]);return e.copy=()=>Th(e,t()).base(e.base()),Mc.apply(e,arguments),e}),[Md,cd]),Ld(fd,Qh,Md),Ld(hd,(function(){return Qh.apply(null,arguments).exponent(.5)}),Md),Ld(dd,(function t(){var e=Gh(Nh());return e.copy=function(){return Th(e,t()).constant(e.constant())},Mc.apply(e,arguments)}),Md),Ld(pd,(function(){return Mc.apply(ed(zn,On,mn,pn,cn,sn,an,rn,en,Jr).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}),[Md,Fd]),Ld(gd,(function(){return Mc.apply(ed(Tn,Nn,Sn,Cn,An,wn,xn,vn,en,Qr).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}),[Md,Fd]),Ld(md,id,[Md,Cd]),Ld("".concat(md,"-").concat(ld),id,[Md,Cd]),Ld("".concat(md,"-").concat(cd),(function t(){var e=Wh(nd()).domain([1,10]);return e.copy=function(){return rd(e,t()).base(e.base())},Ec.apply(e,arguments)}),[Md,Cd,cd]),Ld("".concat(md,"-").concat(fd),od,[Md,Cd]),Ld("".concat(md,"-").concat(hd),(function(){return od.apply(null,arguments).exponent(.5)}),[Md,Cd]),Ld("".concat(md,"-").concat(dd),(function t(){var e=Gh(nd());return e.copy=function(){return rd(e,t()).constant(e.constant())},Ec.apply(e,arguments)}),[Md,Cd]),Ld("".concat(yd,"-").concat(ld),(function t(){var e=Rh(ad()(Ch));return e.copy=function(){return rd(e,t())},Ec.apply(e,arguments)}),[Md,Cd]),Ld("".concat(yd,"-").concat(cd),(function t(){var e=Wh(ad()).domain([.1,1,10]);return e.copy=function(){return rd(e,t()).base(e.base())},Ec.apply(e,arguments)}),[Md,Cd,cd]),Ld("".concat(yd,"-").concat(fd),ud,[Md,Cd]),Ld("".concat(yd,"-").concat(hd),(function(){return ud.apply(null,arguments).exponent(.5)}),[Md,Cd]),Ld("".concat(yd,"-").concat(dd),(function t(){var e=Gh(ad());return e.copy=function(){return rd(e,t()).constant(e.constant())},Ec.apply(e,arguments)}),[Md,Cd]),Ld(vd,(function t(){var e,n=[],r=[],i=[];function o(){var t=0,e=Math.max(1,r.length);for(i=new Array(e-1);++t<e;)i[t-1]=ve(n,t/e);return a}function a(t){return null==t||isNaN(t=+t)?e:r[Zt(i,t)]}return a.invertExtent=function(t){var e=r.indexOf(t);return e<0?[NaN,NaN]:[e>0?i[e-1]:n[0],e<i.length?i[e]:n[n.length-1]]},a.domain=function(t){if(!arguments.length)return n.slice();n=[];for(let e of t)null==e||isNaN(e=+e)||n.push(e);return n.sort(Ht),o()},a.range=function(t){return arguments.length?(r=Array.from(t),o()):r.slice()},a.unknown=function(t){return arguments.length?(e=t,a):e},a.quantiles=function(){return i.slice()},a.copy=function(){return t().domain(n).range(r).unknown(e)},Mc.apply(a,arguments)}),[Dd,vd]),Ld(_d,(function t(){var e,n=0,r=1,i=1,o=[.5],a=[0,1];function u(t){return null!=t&&t<=t?a[Zt(o,t,0,i)]:e}function s(){var t=-1;for(o=new Array(i);++t<i;)o[t]=((t+1)*r-(t-i)*n)/(i+1);return u}return u.domain=function(t){return arguments.length?([n,r]=t,n=+n,r=+r,s()):[n,r]},u.range=function(t){return arguments.length?(i=(a=Array.from(t)).length-1,s()):a.slice()},u.invertExtent=function(t){var e=a.indexOf(t);return e<0?[NaN,NaN]:e<1?[n,o[0]]:e>=i?[o[i-1],r]:[o[e-1],o[e]]},u.unknown=function(t){return arguments.length?(e=t,u):u},u.thresholds=function(){return o.slice()},u.copy=function(){return t().domain([n,r]).range(a).unknown(e)},Mc.apply(Rh(u),arguments)}),Dd),Ld(xd,(function t(){var e,n=[.5],r=[0,1],i=1;function o(t){return null!=t&&t<=t?r[Zt(n,t,0,i)]:e}return o.domain=function(t){return arguments.length?(n=Array.from(t),i=Math.min(n.length,r.length-1),o):n.slice()},o.range=function(t){return arguments.length?(r=Array.from(t),i=Math.min(n.length,r.length-1),o):r.slice()},o.invertExtent=function(t){var e=r.indexOf(t);return[n[e-1],n[e]]},o.unknown=function(t){return arguments.length?(e=t,o):e},o.copy=function(){return t().domain(n).range(r).unknown(e)},Mc.apply(o,arguments)}),Dd),Ld(Ad,(function t(){let e=[],n=[];function r(t){return null==t||t!=t?void 0:n[(Zt(e,t)-1)%n.length]}return r.domain=function(t){return arguments.length?(e=Nd(t),r):e.slice()},r.range=function(t){return arguments.length?(n=zd.call(t),r):n.slice()},r.tickFormat=function(t,n){return Oh(e[0],A(e),null==t?10:t,n)},r.copy=function(){return t().domain(r.domain()).range(r.range())},r}),[Ed,Dd]),Ld(bd,Cc,Ed),Ld(kd,Sd,Ed),Ld(wd,(function(){return Bd(Sd().paddingInner(1))}),Ed);const Yd=["clamp","base","constant","exponent"];function Gd(t,e){const n=e[0],r=A(e)-n;return function(e){return t(n+e*r)}}function Vd(t,e,n){return Ah(Zd(e||"rgb",n),t)}function Xd(t,e){const n=new Array(e),r=e+1;for(let i=0;i<e;)n[i]=t(++i/r);return n}function Jd(t,e,n){const r=n-e;let i,o,a;return r&&Number.isFinite(r)?(i=(o=t.type).indexOf("-"),o=i<0?o:o.slice(i+1),a=Ld(o)().domain([e,n]).range([0,1]),Yd.forEach((e=>t[e]?a[e](t[e]()):0)),a):Z(.5)}function Zd(t,e){const n=Mh[function(t){return"interpolate"+t.toLowerCase().split("-").map((t=>t[0].toUpperCase()+t.slice(1))).join("")}(t)];return null!=e&&n&&n.gamma?n.gamma(e):n}function Qd(t){const e=t.length/6|0,n=new Array(e);for(let r=0;r<e;)n[r]="#"+t.slice(6*r,6*++r);return n}function Kd(t,e){for(const n in t)ep(n,e(t[n]))}const tp={};function ep(t,e){return t=t&&t.toLowerCase(),arguments.length>1?(tp[t]=e,this):tp[t]}Kd({category10:"1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf",category20:"1f77b4aec7e8ff7f0effbb782ca02c98df8ad62728ff98969467bdc5b0d58c564bc49c94e377c2f7b6d27f7f7fc7c7c7bcbd22dbdb8d17becf9edae5",category20b:"393b795254a36b6ecf9c9ede6379398ca252b5cf6bcedb9c8c6d31bd9e39e7ba52e7cb94843c39ad494ad6616be7969c7b4173a55194ce6dbdde9ed6",category20c:"3182bd6baed69ecae1c6dbefe6550dfd8d3cfdae6bfdd0a231a35474c476a1d99bc7e9c0756bb19e9ac8bcbddcdadaeb636363969696bdbdbdd9d9d9",tableau10:"4c78a8f58518e4575672b7b254a24beeca3bb279a2ff9da69d755dbab0ac",tableau20:"4c78a89ecae9f58518ffbf7954a24b88d27ab79a20f2cf5b43989483bcb6e45756ff9d9879706ebab0acd67195fcbfd2b279a2d6a5c99e765fd8b5a5",accent:"7fc97fbeaed4fdc086ffff99386cb0f0027fbf5b17666666",dark2:"1b9e77d95f027570b3e7298a66a61ee6ab02a6761d666666",paired:"a6cee31f78b4b2df8a33a02cfb9a99e31a1cfdbf6fff7f00cab2d66a3d9affff99b15928",pastel1:"fbb4aeb3cde3ccebc5decbe4fed9a6ffffcce5d8bdfddaecf2f2f2",pastel2:"b3e2cdfdcdaccbd5e8f4cae4e6f5c9fff2aef1e2cccccccc",set1:"e41a1c377eb84daf4a984ea3ff7f00ffff33a65628f781bf999999",set2:"66c2a5fc8d628da0cbe78ac3a6d854ffd92fe5c494b3b3b3",set3:"8dd3c7ffffb3bebadafb807280b1d3fdb462b3de69fccde5d9d9d9bc80bdccebc5ffed6f"},Qd),Kd({blues:"cfe1f2bed8eca8cee58fc1de74b2d75ba3cf4592c63181bd206fb2125ca40a4a90",greens:"d3eecdc0e6baabdda594d3917bc77d60ba6c46ab5e329a512089430e7735036429",greys:"e2e2e2d4d4d4c4c4c4b1b1b19d9d9d8888887575756262624d4d4d3535351e1e1e",oranges:"fdd8b3fdc998fdb87bfda55efc9244f87f2cf06b18e4580bd14904b93d029f3303",purples:"e2e1efd4d4e8c4c5e0b4b3d6a3a0cc928ec3827cb97566ae684ea25c3696501f8c",reds:"fdc9b4fcb49afc9e80fc8767fa7051f6573fec3f2fdc2a25c81b1db21218970b13",blueGreen:"d5efedc1e8e0a7ddd18bd2be70c6a958ba9144ad77319c5d2089460e7736036429",bluePurple:"ccddecbad0e4a8c2dd9ab0d4919cc98d85be8b6db28a55a6873c99822287730f71",greenBlue:"d3eecec5e8c3b1e1bb9bd8bb82cec269c2ca51b2cd3c9fc7288abd1675b10b60a1",orangeRed:"fddcaffdcf9bfdc18afdad77fb9562f67d53ee6545e24932d32d1ebf130da70403",purpleBlue:"dbdaebc8cee4b1c3de97b7d87bacd15b9fc93a90c01e7fb70b70ab056199045281",purpleBlueGreen:"dbd8eac8cee4b0c3de93b7d872acd1549fc83892bb1c88a3097f8702736b016353",purpleRed:"dcc9e2d3b3d7ce9eccd186c0da6bb2e14da0e23189d91e6fc61159ab07498f023a",redPurple:"fccfccfcbec0faa9b8f98faff571a5ec539ddb3695c41b8aa908808d0179700174",yellowGreen:"e4f4acd1eca0b9e2949ed68880c97c62bb6e47aa5e3297502083440e723b036034",yellowOrangeBrown:"feeaa1fedd84fecc63feb746fca031f68921eb7215db5e0bc54c05ab3d038f3204",yellowOrangeRed:"fee087fed16ffebd59fea849fd903efc7335f9522bee3423de1b20ca0b22af0225",blueOrange:"134b852f78b35da2cb9dcae1d2e5eff2f0ebfce0bafbbf74e8932fc5690d994a07",brownBlueGreen:"704108a0651ac79548e3c78af3e6c6eef1eac9e9e48ed1c74da79e187a72025147",purpleGreen:"5b1667834792a67fb6c9aed3e6d6e8eff0efd9efd5aedda971bb75368e490e5e29",purpleOrange:"4114696647968f83b7b9b4d6dadbebf3eeeafce0bafbbf74e8932fc5690d994a07",redBlue:"8c0d25bf363adf745ef4ae91fbdbc9f2efeed2e5ef9dcae15da2cb2f78b3134b85",redGrey:"8c0d25bf363adf745ef4ae91fcdccbfaf4f1e2e2e2c0c0c0969696646464343434",yellowGreenBlue:"eff9bddbf1b4bde5b594d5b969c5be45b4c22c9ec02182b82163aa23479c1c3185",redYellowBlue:"a50026d4322cf16e43fcac64fedd90faf8c1dcf1ecabd6e875abd04a74b4313695",redYellowGreen:"a50026d4322cf16e43fcac63fedd8df9f7aed7ee8ea4d86e64bc6122964f006837",pinkYellowGreen:"8e0152c0267edd72adf0b3d6faddedf5f3efe1f2cab6de8780bb474f9125276419",spectral:"9e0142d13c4bf0704afcac63fedd8dfbf8b0e0f3a1a9dda269bda94288b55e4fa2",viridis:"440154470e61481a6c482575472f7d443a834144873d4e8a39568c35608d31688e2d708e2a788e27818e23888e21918d1f988b1fa08822a8842ab07f35b77943bf7154c56866cc5d7ad1518fd744a5db36bcdf27d2e21be9e51afde725",magma:"0000040404130b0924150e3720114b2c11603b0f704a107957157e651a80721f817f24828c29819a2e80a8327db6377ac43c75d1426fde4968e95462f1605df76f5cfa7f5efc8f65fe9f6dfeaf78febf84fece91fddea0fcedaffcfdbf",inferno:"0000040403130c0826170c3b240c4f330a5f420a68500d6c5d126e6b176e781c6d86216b932667a12b62ae305cbb3755c73e4cd24644dd513ae65c30ed6925f3771af8850ffb9506fca50afcb519fac62df6d645f2e661f3f484fcffa4",plasma:"0d088723069033059742039d5002a25d01a66a00a87801a88405a7900da49c179ea72198b12a90ba3488c33d80cb4779d35171da5a69e16462e76e5bed7953f2834cf68f44fa9a3dfca636fdb32ffec029fcce25f9dc24f5ea27f0f921",cividis:"00205100235800265d002961012b65042e670831690d346b11366c16396d1c3c6e213f6e26426e2c456e31476e374a6e3c4d6e42506e47536d4c566d51586e555b6e5a5e6e5e616e62646f66676f6a6a706e6d717270717573727976737c79747f7c75827f758682768985778c8877908b78938e789691789a94789e9778a19b78a59e77a9a177aea575b2a874b6ab73bbaf71c0b26fc5b66dc9b96acebd68d3c065d8c462ddc85fe2cb5ce7cf58ebd355f0d652f3da4ff7de4cfae249fce647",rainbow:"6e40aa883eb1a43db3bf3cafd83fa4ee4395fe4b83ff576eff6659ff7847ff8c38f3a130e2b72fcfcc36bee044aff05b8ff4576ff65b52f6673af27828ea8d1ddfa319d0b81cbecb23abd82f96e03d82e14c6edb5a5dd0664dbf6e40aa",sinebow:"ff4040fc582af47218e78d0bd5a703bfbf00a7d5038de70b72f41858fc2a40ff402afc5818f4720be78d03d5a700bfbf03a7d50b8de71872f42a58fc4040ff582afc7218f48d0be7a703d5bf00bfd503a7e70b8df41872fc2a58ff4040",turbo:"23171b32204a3e2a71453493493eae4b49c54a53d7485ee44569ee4074f53c7ff8378af93295f72e9ff42ba9ef28b3e926bce125c5d925cdcf27d5c629dcbc2de3b232e9a738ee9d3ff39347f68950f9805afc7765fd6e70fe667cfd5e88fc5795fb51a1f84badf545b9f140c5ec3cd0e637dae034e4d931ecd12ef4c92bfac029ffb626ffad24ffa223ff9821ff8d1fff821dff771cfd6c1af76118f05616e84b14df4111d5380fcb2f0dc0260ab61f07ac1805a313029b0f00950c00910b00",browns:"eedbbdecca96e9b97ae4a865dc9856d18954c7784cc0673fb85536ad44339f3632",tealBlues:"bce4d89dd3d181c3cb65b3c245a2b9368fae347da0306a932c5985",teals:"bbdfdfa2d4d58ac9c975bcbb61b0af4da5a43799982b8b8c1e7f7f127273006667",warmGreys:"dcd4d0cec5c1c0b8b4b3aaa7a59c9998908c8b827f7e7673726866665c5a59504e",goldGreen:"f4d166d5ca60b6c35c98bb597cb25760a6564b9c533f8f4f33834a257740146c36",goldOrange:"f4d166f8be5cf8aa4cf5983bf3852aef701be2621fd65322c54923b142239e3a26",goldRed:"f4d166f6be59f9aa51fc964ef6834bee734ae56249db5247cf4244c43141b71d3e",lightGreyRed:"efe9e6e1dad7d5cbc8c8bdb9bbaea9cd967ddc7b43e15f19df4011dc000b",lightGreyTeal:"e4eaead6dcddc8ced2b7c2c7a6b4bc64b0bf22a6c32295c11f85be1876bc",lightMulti:"e0f1f2c4e9d0b0de9fd0e181f6e072f6c053f3993ef77440ef4a3c",lightOrange:"f2e7daf7d5baf9c499fab184fa9c73f68967ef7860e8645bde515bd43d5b",lightTealBlue:"e3e9e0c0dccf9aceca7abfc859afc0389fb9328dad2f7ca0276b95255988",darkBlue:"3232322d46681a5c930074af008cbf05a7ce25c0dd38daed50f3faffffff",darkGold:"3c3c3c584b37725e348c7631ae8b2bcfa424ecc31ef9de30fff184ffffff",darkGreen:"3a3a3a215748006f4d048942489e4276b340a6c63dd2d836ffeb2cffffaa",darkMulti:"3737371f5287197d8c29a86995ce3fffe800ffffff",darkRed:"3434347036339e3c38cc4037e75d1eec8620eeab29f0ce32ffeb2c"},(t=>Vd(Qd(t))));const np="symbol",rp=t=>v(t)?t.map((t=>String(t))):String(t),ip=(t,e)=>t[1]-e[1],op=(t,e)=>e[1]-t[1];function ap(t,e,n){let r;return ht(e)&&(t.bins&&(e=Math.max(e,t.bins.length)),null!=n&&(e=Math.min(e,Math.floor(bt(t.domain())/n||1)))),_(e)&&(r=e.step,e=e.interval),pt(e)&&(e=t.type===pd?wr(e):t.type==gd?kr(e):u("Only time and utc scales accept interval strings."),r&&(e=e.every(r))),e}function up(t,e,n){let r=t.range(),i=r[0],o=A(r),a=ip;if(i>o&&(r=o,o=i,i=r,a=op),i=Math.floor(i),o=Math.ceil(o),e=e.map((e=>[e,t(e)])).filter((t=>i<=t[1]&&t[1]<=o)).sort(a).map((t=>t[0])),n>0&&e.length>1){const t=[e[0],A(e)];for(;e.length>n&&e.length>=3;)e=e.filter(((t,e)=>!(e%2)));e.length<3&&(e=t)}return e}function sp(t,e){return t.bins?up(t,t.bins):t.ticks?t.ticks(e):t.domain()}function lp(t,e,n,r,i,o){const a=e.type;let u=rp;if(a===pd||i===pd)u=t.timeFormat(r);else if(a===gd||i===gd)u=t.utcFormat(r);else if($d(a)){const i=t.formatFloat(r);if(o||e.bins)u=i;else{const t=cp(e,n,!1);u=e=>t(e)?i(e):""}}else if(e.tickFormat){const i=e.domain();u=t.formatSpan(i[0],i[i.length-1],n,r)}else r&&(u=t.format(r));return u}function cp(t,e,n){const r=sp(t,e),i=t.base(),o=Math.log(i),a=Math.max(1,i*e/r.length),u=t=>{let e=t/Math.pow(i,Math.round(Math.log(t)/o));return e*i<i-.5&&(e*=i),e<=a};return n?r.filter(u):u}const fp={[vd]:"quantiles",[_d]:"thresholds",[xd]:"domain"},hp={[vd]:"quantiles",[_d]:"domain"};function dp(t,e){return t.bins?function(t){const e=t.slice(0,-1);return e.max=A(t),e}(t.bins):t.type===cd?cp(t,e,!0):fp[t.type]?function(t){const e=[-1/0].concat(t);return e.max=1/0,e}(t[fp[t.type]]()):sp(t,e)}function pp(t,e,n,r,i,o,a){const u=hp[e.type]&&o!==pd&&o!==gd?function(t,e,n){const r=e[hp[e.type]](),i=r.length;let o,a=i>1?r[1]-r[0]:r[0];for(o=1;o<i;++o)a=Math.min(a,r[o]-r[o-1]);return t.formatSpan(0,a,30,n)}(t,e,i):lp(t,e,n,i,o,a);return r===np&&(t=>fp[t.type]||t.bins)(e)?gp(u):"discrete"===r?yp(u):vp(u)}const gp=t=>(e,n,r)=>{const i=mp(r[n+1],mp(r.max,1/0)),o=_p(e,t),a=_p(i,t);return o&&a?o+"  "+a:a?"< "+a:" "+o},mp=(t,e)=>null!=t?t:e,yp=t=>(e,n)=>n?t(e):null,vp=t=>e=>t(e),_p=(t,e)=>Number.isFinite(t)?e(t):null;function xp(t,e,n,r){const i=r||e.type;return pt(n)&&function(t){return qd(t,Fd)}(i)&&(n=n.replace(/%a/g,"%A").replace(/%b/g,"%B")),n||i!==pd?n||i!==gd?pp(t,e,5,null,n,r,!0):t.utcFormat("%A, %d %B %Y, %X UTC"):t.timeFormat("%A, %d %B %Y, %X")}function bp(t,e,n){n=n||{};const r=Math.max(3,n.maxlen||7),i=xp(t,e,n.format,n.formatType);if(Id(e.type)){const t=dp(e).slice(1).map(i),n=t.length;return"".concat(n," boundar").concat(1===n?"y":"ies",": ").concat(t.join(", "))}if(jd(e.type)){const t=e.domain(),n=t.length,o=n>r?t.slice(0,r-2).map(i).join(", ")+", ending with "+t.slice(-1).map(i):t.map(i).join(", ");return"".concat(n," value").concat(1===n?"":"s",": ").concat(o)}{const t=e.domain();return"values from ".concat(i(t[0])," to ").concat(i(A(t)))}}let wp=0;const kp="p_";function Ap(t){return t&&t.gradient}function Mp(t,e,n){const r=t.gradient;let i=t.id,o="radial"===r?kp:"";return i||(i=t.id="gradient_"+wp++,"radial"===r?(t.x1=Ep(t.x1,.5),t.y1=Ep(t.y1,.5),t.r1=Ep(t.r1,0),t.x2=Ep(t.x2,.5),t.y2=Ep(t.y2,.5),t.r2=Ep(t.r2,.5),o=kp):(t.x1=Ep(t.x1,0),t.y1=Ep(t.y1,0),t.x2=Ep(t.x2,1),t.y2=Ep(t.y2,0))),e[i]=t,"url("+(n||"")+"#"+o+i+")"}function Ep(t,e){return null!=t?t:e}function Dp(t,e){var n,r=[];return n={gradient:"linear",x1:t?t[0]:0,y1:t?t[1]:0,x2:e?e[0]:1,y2:e?e[1]:0,stops:r,stop:function(t,e){return r.push({offset:t,color:e}),n}}}const Cp={basis:{curve:function(t){return new Gl(t)}},"basis-closed":{curve:function(t){return new Vl(t)}},"basis-open":{curve:function(t){return new Xl(t)}},bundle:{curve:Zl,tension:"beta",value:.85},cardinal:{curve:tc,tension:"tension",value:0},"cardinal-open":{curve:ic,tension:"tension",value:0},"cardinal-closed":{curve:nc,tension:"tension",value:0},"catmull-rom":{curve:uc,tension:"alpha",value:.5},"catmull-rom-closed":{curve:lc,tension:"alpha",value:.5},"catmull-rom-open":{curve:fc,tension:"alpha",value:.5},linear:{curve:ql},"linear-closed":{curve:function(t){return new hc(t)}},monotone:{horizontal:function(t){return new vc(t)},vertical:function(t){return new yc(t)}},natural:{curve:function(t){return new xc(t)}},step:{curve:function(t){return new wc(t,.5)}},"step-after":{curve:function(t){return new wc(t,1)}},"step-before":{curve:function(t){return new wc(t,0)}}};function Fp(t,e,n){var r=rt(Cp,t)&&Cp[t],i=null;return r&&(i=r.curve||r[e||"vertical"],r.tension&&null!=n&&(i=i[r.tension](n))),i}const Sp={m:2,l:2,h:1,v:1,z:0,c:6,s:4,q:4,t:2,a:7},Bp=/[mlhvzcsqta]([^mlhvzcsqta]+|$)/gi,Tp=/^[+-]?(([0-9]*\.[0-9]+)|([0-9]+\.)|([0-9]+))([eE][+-]?[0-9]+)?/,Np=/^((\s+,?\s*)|(,\s*))/,zp=/^[01]/;function Op(t){const e=[];return(t.match(Bp)||[]).forEach((t=>{let n=t[0];const r=n.toLowerCase(),i=Sp[r],o=function(t,e,n){const r=[];for(let i=0;e&&i<n.length;)for(let o=0;o<e;++o){const e="a"!==t||3!==o&&4!==o?Tp:zp,a=n.slice(i).match(e);if(null===a)throw Error("Invalid SVG path, incorrect parameter type");i+=a[0].length,r.push(+a[0]);const u=n.slice(i).match(Np);null!==u&&(i+=u[0].length)}return r}(r,i,t.slice(1).trim()),a=o.length;if(a<i||a&&a%i!=0)throw Error("Invalid SVG path, incorrect parameter count");if(e.push([n,...o.slice(0,i)]),a!==i){"m"===r&&(n="M"===n?"L":"l");for(let t=i;t<a;t+=i)e.push([n,...o.slice(t,t+i)])}})),e}const Rp=Math.PI/180,Lp=Math.PI/2,Up=2*Math.PI,qp=Math.sqrt(3)/2;var Pp={},jp={},Ip=[].join;function $p(t){const e=Ip.call(t);if(jp[e])return jp[e];var n=t[0],r=t[1],i=t[2],o=t[3],a=t[4],u=t[5],s=t[6],l=t[7];const c=l*a,f=-s*u,h=s*a,d=l*u,p=Math.cos(i),g=Math.sin(i),m=Math.cos(o),y=Math.sin(o),v=.5*(o-i),_=Math.sin(.5*v),x=8/3*_*_/Math.sin(v),b=n+p-x*g,w=r+g+x*p,k=n+m,A=r+y,M=k+x*y,E=A-x*m;return jp[e]=[c*b+f*w,h*b+d*w,c*M+f*E,h*M+d*E,c*k+f*A,h*k+d*A]}const Wp=["l",0,0,0,0,0,0,0];function Hp(t,e,n){const r=Wp[0]=t[0];if("a"===r||"A"===r)Wp[1]=e*t[1],Wp[2]=n*t[2],Wp[3]=t[3],Wp[4]=t[4],Wp[5]=t[5],Wp[6]=e*t[6],Wp[7]=n*t[7];else if("h"===r||"H"===r)Wp[1]=e*t[1];else if("v"===r||"V"===r)Wp[1]=n*t[1];else for(var i=1,o=t.length;i<o;++i)Wp[i]=(i%2==1?e:n)*t[i];return Wp}function Yp(t,e,n,r,i,o){var a,u,s,l,c,f=null,h=0,d=0,p=0,g=0,m=0,y=0;null==n&&(n=0),null==r&&(r=0),null==i&&(i=1),null==o&&(o=i),t.beginPath&&t.beginPath();for(var v=0,_=e.length;v<_;++v){switch(a=e[v],1===i&&1===o||(a=Hp(a,i,o)),a[0]){case"l":h+=a[1],d+=a[2],t.lineTo(h+n,d+r);break;case"L":h=a[1],d=a[2],t.lineTo(h+n,d+r);break;case"h":h+=a[1],t.lineTo(h+n,d+r);break;case"H":h=a[1],t.lineTo(h+n,d+r);break;case"v":d+=a[1],t.lineTo(h+n,d+r);break;case"V":d=a[1],t.lineTo(h+n,d+r);break;case"m":m=h+=a[1],y=d+=a[2],t.moveTo(h+n,d+r);break;case"M":m=h=a[1],y=d=a[2],t.moveTo(h+n,d+r);break;case"c":u=h+a[5],s=d+a[6],p=h+a[3],g=d+a[4],t.bezierCurveTo(h+a[1]+n,d+a[2]+r,p+n,g+r,u+n,s+r),h=u,d=s;break;case"C":h=a[5],d=a[6],p=a[3],g=a[4],t.bezierCurveTo(a[1]+n,a[2]+r,p+n,g+r,h+n,d+r);break;case"s":u=h+a[3],s=d+a[4],p=2*h-p,g=2*d-g,t.bezierCurveTo(p+n,g+r,h+a[1]+n,d+a[2]+r,u+n,s+r),p=h+a[1],g=d+a[2],h=u,d=s;break;case"S":u=a[3],s=a[4],p=2*h-p,g=2*d-g,t.bezierCurveTo(p+n,g+r,a[1]+n,a[2]+r,u+n,s+r),h=u,d=s,p=a[1],g=a[2];break;case"q":u=h+a[3],s=d+a[4],p=h+a[1],g=d+a[2],t.quadraticCurveTo(p+n,g+r,u+n,s+r),h=u,d=s;break;case"Q":u=a[3],s=a[4],t.quadraticCurveTo(a[1]+n,a[2]+r,u+n,s+r),h=u,d=s,p=a[1],g=a[2];break;case"t":u=h+a[1],s=d+a[2],null===f[0].match(/[QqTt]/)?(p=h,g=d):"t"===f[0]?(p=2*h-l,g=2*d-c):"q"===f[0]&&(p=2*h-p,g=2*d-g),l=p,c=g,t.quadraticCurveTo(p+n,g+r,u+n,s+r),d=s,p=(h=u)+a[1],g=d+a[2];break;case"T":u=a[1],s=a[2],p=2*h-p,g=2*d-g,t.quadraticCurveTo(p+n,g+r,u+n,s+r),h=u,d=s;break;case"a":Gp(t,h+n,d+r,[a[1],a[2],a[3],a[4],a[5],a[6]+h+n,a[7]+d+r]),h+=a[6],d+=a[7];break;case"A":Gp(t,h+n,d+r,[a[1],a[2],a[3],a[4],a[5],a[6]+n,a[7]+r]),h=a[6],d=a[7];break;case"z":case"Z":h=m,d=y,t.closePath()}f=a}}function Gp(t,e,n,r){const i=function(t,e,n,r,i,o,a,u,s){const l=Ip.call(arguments);if(Pp[l])return Pp[l];const c=a*Rp,f=Math.sin(c),h=Math.cos(c),d=h*(u-t)*.5+f*(s-e)*.5,p=h*(s-e)*.5-f*(u-t)*.5;let g=d*d/((n=Math.abs(n))*n)+p*p/((r=Math.abs(r))*r);g>1&&(g=Math.sqrt(g),n*=g,r*=g);const m=h/n,y=f/n,v=-f/r,_=h/r,x=m*u+y*s,b=v*u+_*s,w=m*t+y*e,k=v*t+_*e;let A=1/((w-x)*(w-x)+(k-b)*(k-b))-.25;A<0&&(A=0);let M=Math.sqrt(A);o==i&&(M=-M);const E=.5*(x+w)-M*(k-b),D=.5*(b+k)+M*(w-x),C=Math.atan2(b-D,x-E);let F=Math.atan2(k-D,w-E)-C;F<0&&1===o?F+=Up:F>0&&0===o&&(F-=Up);const S=Math.ceil(Math.abs(F/(Lp+.001))),B=[];for(let t=0;t<S;++t){const e=C+t*F/S,i=C+(t+1)*F/S;B[t]=[E,D,e,i,n,r,f,h]}return Pp[l]=B}(r[5],r[6],r[0],r[1],r[3],r[4],r[2],e,n);for(let e=0;e<i.length;++e){const n=$p(i[e]);t.bezierCurveTo(n[0],n[1],n[2],n[3],n[4],n[5])}}const Vp=.5773502691896257,Xp={circle:{draw:function(t,e){const n=Math.sqrt(e)/2;t.moveTo(n,0),t.arc(0,0,n,0,Up)}},cross:{draw:function(t,e){var n=Math.sqrt(e)/2,r=n/2.5;t.moveTo(-n,-r),t.lineTo(-n,r),t.lineTo(-r,r),t.lineTo(-r,n),t.lineTo(r,n),t.lineTo(r,r),t.lineTo(n,r),t.lineTo(n,-r),t.lineTo(r,-r),t.lineTo(r,-n),t.lineTo(-r,-n),t.lineTo(-r,-r),t.closePath()}},diamond:{draw:function(t,e){const n=Math.sqrt(e)/2;t.moveTo(-n,0),t.lineTo(0,-n),t.lineTo(n,0),t.lineTo(0,n),t.closePath()}},square:{draw:function(t,e){var n=Math.sqrt(e),r=-n/2;t.rect(r,r,n,n)}},arrow:{draw:function(t,e){var n=Math.sqrt(e)/2,r=n/7,i=n/2.5,o=n/8;t.moveTo(-r,n),t.lineTo(r,n),t.lineTo(r,-o),t.lineTo(i,-o),t.lineTo(0,-n),t.lineTo(-i,-o),t.lineTo(-r,-o),t.closePath()}},wedge:{draw:function(t,e){var n=Math.sqrt(e)/2,r=qp*n,i=r-n*Vp,o=n/4;t.moveTo(0,-r-i),t.lineTo(-o,r-i),t.lineTo(o,r-i),t.closePath()}},triangle:{draw:function(t,e){var n=Math.sqrt(e)/2,r=qp*n,i=r-n*Vp;t.moveTo(0,-r-i),t.lineTo(-n,r-i),t.lineTo(n,r-i),t.closePath()}},"triangle-up":{draw:function(t,e){var n=Math.sqrt(e)/2,r=qp*n;t.moveTo(0,-r),t.lineTo(-n,r),t.lineTo(n,r),t.closePath()}},"triangle-down":{draw:function(t,e){var n=Math.sqrt(e)/2,r=qp*n;t.moveTo(0,r),t.lineTo(-n,-r),t.lineTo(n,-r),t.closePath()}},"triangle-right":{draw:function(t,e){var n=Math.sqrt(e)/2,r=qp*n;t.moveTo(r,0),t.lineTo(-r,-n),t.lineTo(-r,n),t.closePath()}},"triangle-left":{draw:function(t,e){var n=Math.sqrt(e)/2,r=qp*n;t.moveTo(-r,0),t.lineTo(r,-n),t.lineTo(r,n),t.closePath()}},stroke:{draw:function(t,e){const n=Math.sqrt(e)/2;t.moveTo(-n,0),t.lineTo(n,0)}}};function Jp(t){return rt(Xp,t)?Xp[t]:function(t){if(!rt(Zp,t)){const e=Op(t);Zp[t]={draw:function(t,n){Yp(t,e,0,0,Math.sqrt(n)/2)}}}return Zp[t]}(t)}var Zp={};const Qp=.448084975506;function Kp(t){return t.x}function tg(t){return t.y}function eg(t){return t.width}function ng(t){return t.height}function rg(t){return"function"==typeof t?t:()=>+t}function ig(t,e,n){return Math.max(e,Math.min(t,n))}function og(){var t=Kp,e=tg,n=eg,r=ng,i=rg(0),o=i,a=i,u=i,s=null;function l(l,c,f){var h,d=null!=c?c:+t.call(this,l),p=null!=f?f:+e.call(this,l),g=+n.call(this,l),m=+r.call(this,l),y=Math.min(g,m)/2,v=ig(+i.call(this,l),0,y),_=ig(+o.call(this,l),0,y),x=ig(+a.call(this,l),0,y),b=ig(+u.call(this,l),0,y);if(s||(s=h=gl()),v<=0&&_<=0&&x<=0&&b<=0)s.rect(d,p,g,m);else{var w=d+g,k=p+m;s.moveTo(d+v,p),s.lineTo(w-_,p),s.bezierCurveTo(w-Qp*_,p,w,p+Qp*_,w,p+_),s.lineTo(w,k-b),s.bezierCurveTo(w,k-Qp*b,w-Qp*b,k,w-b,k),s.lineTo(d+x,k),s.bezierCurveTo(d+Qp*x,k,d,k-Qp*x,d,k-x),s.lineTo(d,p+v),s.bezierCurveTo(d,p+Qp*v,d+Qp*v,p,d+v,p),s.closePath()}if(h)return s=null,h+""||null}return l.x=function(e){return arguments.length?(t=rg(e),l):t},l.y=function(t){return arguments.length?(e=rg(t),l):e},l.width=function(t){return arguments.length?(n=rg(t),l):n},l.height=function(t){return arguments.length?(r=rg(t),l):r},l.cornerRadius=function(t,e,n,r){return arguments.length?(i=rg(t),o=null!=e?rg(e):i,u=null!=n?rg(n):i,a=null!=r?rg(r):o,l):i},l.context=function(t){return arguments.length?(s=null==t?null:t,l):s},l}function ag(){var t,e,n,r,i,o,a,u,s=null;function l(t,e,n){const r=n/2;if(i){var l=a-e,c=t-o;if(l||c){var f=Math.sqrt(l*l+c*c),h=(l/=f)*u,d=(c/=f)*u,p=Math.atan2(c,l);s.moveTo(o-h,a-d),s.lineTo(t-l*r,e-c*r),s.arc(t,e,r,p-Math.PI,p),s.lineTo(o+h,a+d),s.arc(o,a,u,p,p+Math.PI)}else s.arc(t,e,r,0,Up);s.closePath()}else i=1;o=t,a=e,u=r}function c(o){var a,u,c,f=o.length,h=!1;for(null==s&&(s=c=gl()),a=0;a<=f;++a)!(a<f&&r(u=o[a],a,o))===h&&(h=!h)&&(i=0),h&&l(+t(u,a,o),+e(u,a,o),+n(u,a,o));if(c)return s=null,c+""||null}return c.x=function(e){return arguments.length?(t=e,c):t},c.y=function(t){return arguments.length?(e=t,c):e},c.size=function(t){return arguments.length?(n=t,c):n},c.defined=function(t){return arguments.length?(r=t,c):r},c.context=function(t){return arguments.length?(s=null==t?null:t,c):s},c}function ug(t,e){return null!=t?t:e}const sg=t=>t.x||0,lg=t=>t.y||0,cg=t=>!(!1===t.defined),fg=function(){var t=Sl,e=Bl,n=ml(0),r=null,i=Tl,o=Nl,a=zl,u=null;function s(){var s,l,c=+t.apply(this,arguments),f=+e.apply(this,arguments),h=i.apply(this,arguments)-El,d=o.apply(this,arguments)-El,p=yl(d-h),g=d>h;if(u||(u=s=gl()),f<c&&(l=f,f=c,c=l),f>Al)if(p>Dl-Al)u.moveTo(f*_l(h),f*wl(h)),u.arc(0,0,f,h,d,!g),c>Al&&(u.moveTo(c*_l(d),c*wl(d)),u.arc(0,0,c,d,h,g));else{var m,y,v=h,_=d,x=h,b=d,w=p,k=p,A=a.apply(this,arguments)/2,M=A>Al&&(r?+r.apply(this,arguments):kl(c*c+f*f)),E=bl(yl(f-c)/2,+n.apply(this,arguments)),D=E,C=E;if(M>Al){var F=Fl(M/c*wl(A)),S=Fl(M/f*wl(A));(w-=2*F)>Al?(x+=F*=g?1:-1,b-=F):(w=0,x=b=(h+d)/2),(k-=2*S)>Al?(v+=S*=g?1:-1,_-=S):(k=0,v=_=(h+d)/2)}var B=f*_l(v),T=f*wl(v),N=c*_l(b),z=c*wl(b);if(E>Al){var O,R=f*_l(_),L=f*wl(_),U=c*_l(x),q=c*wl(x);if(p<Ml&&(O=Ol(B,T,U,q,R,L,N,z))){var P=B-O[0],j=T-O[1],I=R-O[0],$=L-O[1],W=1/wl(Cl((P*I+j*$)/(kl(P*P+j*j)*kl(I*I+$*$)))/2),H=kl(O[0]*O[0]+O[1]*O[1]);D=bl(E,(c-H)/(W-1)),C=bl(E,(f-H)/(W+1))}}k>Al?C>Al?(m=Rl(U,q,B,T,f,C,g),y=Rl(R,L,N,z,f,C,g),u.moveTo(m.cx+m.x01,m.cy+m.y01),C<E?u.arc(m.cx,m.cy,C,vl(m.y01,m.x01),vl(y.y01,y.x01),!g):(u.arc(m.cx,m.cy,C,vl(m.y01,m.x01),vl(m.y11,m.x11),!g),u.arc(0,0,f,vl(m.cy+m.y11,m.cx+m.x11),vl(y.cy+y.y11,y.cx+y.x11),!g),u.arc(y.cx,y.cy,C,vl(y.y11,y.x11),vl(y.y01,y.x01),!g))):(u.moveTo(B,T),u.arc(0,0,f,v,_,!g)):u.moveTo(B,T),c>Al&&w>Al?D>Al?(m=Rl(N,z,R,L,c,-D,g),y=Rl(B,T,U,q,c,-D,g),u.lineTo(m.cx+m.x01,m.cy+m.y01),D<E?u.arc(m.cx,m.cy,D,vl(m.y01,m.x01),vl(y.y01,y.x01),!g):(u.arc(m.cx,m.cy,D,vl(m.y01,m.x01),vl(m.y11,m.x11),!g),u.arc(0,0,c,vl(m.cy+m.y11,m.cx+m.x11),vl(y.cy+y.y11,y.cx+y.x11),g),u.arc(y.cx,y.cy,D,vl(y.y11,y.x11),vl(y.y01,y.x01),!g))):u.arc(0,0,c,b,x,g):u.lineTo(N,z)}else u.moveTo(0,0);if(u.closePath(),s)return u=null,s+""||null}return s.centroid=function(){var n=(+t.apply(this,arguments)+ +e.apply(this,arguments))/2,r=(+i.apply(this,arguments)+ +o.apply(this,arguments))/2-Ml/2;return[_l(r)*n,wl(r)*n]},s.innerRadius=function(e){return arguments.length?(t="function"==typeof e?e:ml(+e),s):t},s.outerRadius=function(t){return arguments.length?(e="function"==typeof t?t:ml(+t),s):e},s.cornerRadius=function(t){return arguments.length?(n="function"==typeof t?t:ml(+t),s):n},s.padRadius=function(t){return arguments.length?(r=null==t?null:"function"==typeof t?t:ml(+t),s):r},s.startAngle=function(t){return arguments.length?(i="function"==typeof t?t:ml(+t),s):i},s.endAngle=function(t){return arguments.length?(o="function"==typeof t?t:ml(+t),s):o},s.padAngle=function(t){return arguments.length?(a="function"==typeof t?t:ml(+t),s):a},s.context=function(t){return arguments.length?(u=null==t?null:t,s):u},s}().startAngle((t=>t.startAngle||0)).endAngle((t=>t.endAngle||0)).padAngle((t=>t.padAngle||0)).innerRadius((t=>t.innerRadius||0)).outerRadius((t=>t.outerRadius||0)).cornerRadius((t=>t.cornerRadius||0)),hg=$l().x(sg).y1(lg).y0((t=>(t.y||0)+(t.height||0))).defined(cg),dg=$l().y(lg).x1(sg).x0((t=>(t.x||0)+(t.width||0))).defined(cg),pg=Il().x(sg).y(lg).defined(cg),gg=og().x(sg).y(lg).width((t=>t.width||0)).height((t=>t.height||0)).cornerRadius((t=>ug(t.cornerRadiusTopLeft,t.cornerRadius)||0),(t=>ug(t.cornerRadiusTopRight,t.cornerRadius)||0),(t=>ug(t.cornerRadiusBottomRight,t.cornerRadius)||0),(t=>ug(t.cornerRadiusBottomLeft,t.cornerRadius)||0)),mg=function(t,e){let n=null;function r(){let r;if(n||(n=r=gl()),t.apply(this,arguments).draw(n,+e.apply(this,arguments)),r)return n=null,r+""||null}return t="function"==typeof t?t:ml(t||Wl),e="function"==typeof e?e:ml(void 0===e?64:+e),r.type=function(e){return arguments.length?(t="function"==typeof e?e:ml(e),r):t},r.size=function(t){return arguments.length?(e="function"==typeof t?t:ml(+t),r):e},r.context=function(t){return arguments.length?(n=null==t?null:t,r):n},r}().type((t=>Jp(t.shape||"circle"))).size((t=>ug(t.size,64))),yg=ag().x(sg).y(lg).defined(cg).size((t=>t.size||1));function vg(t){return t.cornerRadius||t.cornerRadiusTopLeft||t.cornerRadiusTopRight||t.cornerRadiusBottomRight||t.cornerRadiusBottomLeft}function _g(t,e,n,r){return gg.context(t)(e,n,r)}var xg=1;function bg(){xg=1}function wg(t,e,n){var r=e.clip,i=t._defs,o=e.clip_id||(e.clip_id="clip"+xg++),a=i.clipping[o]||(i.clipping[o]={id:o});return H(r)?a.path=r(null):vg(n)?a.path=_g(null,n,0,0):(a.width=n.width||0,a.height=n.height||0),"url(#"+o+")"}function kg(t){this.clear(),t&&this.union(t)}function Ag(t){this.mark=t,this.bounds=this.bounds||new kg}function Mg(t){Ag.call(this,t),this.items=this.items||[]}function Eg(t){this._pending=0,this._loader=t||ia()}function Dg(t){t._pending+=1}function Cg(t){t._pending-=1}function Fg(t,e,n){if(e.stroke&&0!==e.opacity&&0!==e.strokeOpacity){const r=null!=e.strokeWidth?+e.strokeWidth:1;t.expand(r+(n?function(t,e){return t.strokeJoin&&"miter"!==t.strokeJoin?0:e}(e,r):0))}return t}kg.prototype={clone(){return new kg(this)},clear(){return this.x1=+Number.MAX_VALUE,this.y1=+Number.MAX_VALUE,this.x2=-Number.MAX_VALUE,this.y2=-Number.MAX_VALUE,this},empty(){return this.x1===+Number.MAX_VALUE&&this.y1===+Number.MAX_VALUE&&this.x2===-Number.MAX_VALUE&&this.y2===-Number.MAX_VALUE},equals(t){return this.x1===t.x1&&this.y1===t.y1&&this.x2===t.x2&&this.y2===t.y2},set(t,e,n,r){return n<t?(this.x2=t,this.x1=n):(this.x1=t,this.x2=n),r<e?(this.y2=e,this.y1=r):(this.y1=e,this.y2=r),this},add(t,e){return t<this.x1&&(this.x1=t),e<this.y1&&(this.y1=e),t>this.x2&&(this.x2=t),e>this.y2&&(this.y2=e),this},expand(t){return this.x1-=t,this.y1-=t,this.x2+=t,this.y2+=t,this},round(){return this.x1=Math.floor(this.x1),this.y1=Math.floor(this.y1),this.x2=Math.ceil(this.x2),this.y2=Math.ceil(this.y2),this},scale(t){return this.x1*=t,this.y1*=t,this.x2*=t,this.y2*=t,this},translate(t,e){return this.x1+=t,this.x2+=t,this.y1+=e,this.y2+=e,this},rotate(t,e,n){const r=this.rotatedPoints(t,e,n);return this.clear().add(r[0],r[1]).add(r[2],r[3]).add(r[4],r[5]).add(r[6],r[7])},rotatedPoints(t,e,n){var{x1:r,y1:i,x2:o,y2:a}=this,u=Math.cos(t),s=Math.sin(t),l=e-e*u+n*s,c=n-e*s-n*u;return[u*r-s*i+l,s*r+u*i+c,u*r-s*a+l,s*r+u*a+c,u*o-s*i+l,s*o+u*i+c,u*o-s*a+l,s*o+u*a+c]},union(t){return t.x1<this.x1&&(this.x1=t.x1),t.y1<this.y1&&(this.y1=t.y1),t.x2>this.x2&&(this.x2=t.x2),t.y2>this.y2&&(this.y2=t.y2),this},intersect(t){return t.x1>this.x1&&(this.x1=t.x1),t.y1>this.y1&&(this.y1=t.y1),t.x2<this.x2&&(this.x2=t.x2),t.y2<this.y2&&(this.y2=t.y2),this},encloses(t){return t&&this.x1<=t.x1&&this.x2>=t.x2&&this.y1<=t.y1&&this.y2>=t.y2},alignsWith(t){return t&&(this.x1==t.x1||this.x2==t.x2||this.y1==t.y1||this.y2==t.y2)},intersects(t){return t&&!(this.x2<t.x1||this.x1>t.x2||this.y2<t.y1||this.y1>t.y2)},contains(t,e){return!(t<this.x1||t>this.x2||e<this.y1||e>this.y2)},width(){return this.x2-this.x1},height(){return this.y2-this.y1}},ut(Mg,Ag),Eg.prototype={pending(){return this._pending},sanitizeURL(t){const e=this;return Dg(e),e._loader.sanitize(t,{context:"href"}).then((t=>(Cg(e),t))).catch((()=>(Cg(e),null)))},loadImage(t){const e=this,n=Ac();return Dg(e),e._loader.sanitize(t,{context:"image"}).then((t=>{const r=t.href;if(!r||!n)throw{url:r};const i=new n,o=rt(t,"crossOrigin")?t.crossOrigin:"anonymous";return null!=o&&(i.crossOrigin=o),i.onload=()=>Cg(e),i.onerror=()=>Cg(e),i.src=r,i})).catch((t=>(Cg(e),{complete:!1,width:0,height:0,src:t&&t.url||""})))},ready(){const t=this;return new Promise((e=>{!function n(r){t.pending()?setTimeout((()=>{n(!0)}),10):e(r)}(!1)}))}};const Sg=Up-1e-8;let Bg,Tg,Ng,zg,Og,Rg,Lg,Ug;const qg=(t,e)=>Bg.add(t,e),Pg=(t,e)=>qg(Tg=t,Ng=e),jg=t=>qg(t,Bg.y1),Ig=t=>qg(Bg.x1,t),$g=(t,e)=>Og*t+Lg*e,Wg=(t,e)=>Rg*t+Ug*e,Hg=(t,e)=>qg($g(t,e),Wg(t,e)),Yg=(t,e)=>Pg($g(t,e),Wg(t,e));function Gg(t,e){return Bg=t,e?(zg=e*Rp,Og=Ug=Math.cos(zg),Rg=Math.sin(zg),Lg=-Rg):(Og=Ug=1,zg=Rg=Lg=0),Vg}const Vg={beginPath(){},closePath(){},moveTo:Yg,lineTo:Yg,rect(t,e,n,r){zg?(Hg(t+n,e),Hg(t+n,e+r),Hg(t,e+r),Yg(t,e)):(qg(t+n,e+r),Pg(t,e))},quadraticCurveTo(t,e,n,r){const i=$g(t,e),o=Wg(t,e),a=$g(n,r),u=Wg(n,r);Xg(Tg,i,a,jg),Xg(Ng,o,u,Ig),Pg(a,u)},bezierCurveTo(t,e,n,r,i,o){const a=$g(t,e),u=Wg(t,e),s=$g(n,r),l=Wg(n,r),c=$g(i,o),f=Wg(i,o);Jg(Tg,a,s,c,jg),Jg(Ng,u,l,f,Ig),Pg(c,f)},arc(t,e,n,r,i,o){if(r+=zg,i+=zg,Tg=n*Math.cos(i)+t,Ng=n*Math.sin(i)+e,Math.abs(i-r)>Sg)qg(t-n,e-n),qg(t+n,e+n);else{const a=r=>qg(n*Math.cos(r)+t,n*Math.sin(r)+e);let u,s;if(a(r),a(i),i!==r)if((r%=Up)<0&&(r+=Up),(i%=Up)<0&&(i+=Up),i<r&&(o=!o,u=r,r=i,i=u),o)for(i-=Up,u=r-r%Lp,s=0;s<4&&u>i;++s,u-=Lp)a(u);else for(u=r-r%Lp+Lp,s=0;s<4&&u<i;++s,u+=Lp)a(u)}}};function Xg(t,e,n,r){const i=(t-e)/(t+n-2*e);0<i&&i<1&&r(t+(e-t)*i)}function Jg(t,e,n,r,i){const o=r-t+3*e-3*n,a=t+n-2*e,u=t-e;let s,l=0,c=0;Math.abs(o)>1e-14?(s=a*a+u*o,s>=0&&(s=Math.sqrt(s),l=(-a+s)/o,c=(-a-s)/o)):l=.5*u/a,0<l&&l<1&&i(Zg(l,t,e,n,r)),0<c&&c<1&&i(Zg(c,t,e,n,r))}function Zg(t,e,n,r,i){const o=1-t,a=o*o,u=t*t;return a*o*e+3*a*t*n+3*o*u*r+u*t*i}var Qg=(Qg=kc(1,1))?Qg.getContext("2d"):null;const Kg=new kg;function tm(t){return function(e,n){if(!Qg)return!0;t(Qg,e),Kg.clear().union(e.bounds).intersect(n).round();const{x1:r,y1:i,x2:o,y2:a}=Kg;for(let t=i;t<=a;++t)for(let e=r;e<=o;++e)if(Qg.isPointInPath(e,t))return!0;return!1}}function em(t,e){return e.contains(t.x||0,t.y||0)}function nm(t,e){const n=t.x||0,r=t.y||0,i=t.width||0,o=t.height||0;return e.intersects(Kg.set(n,r,n+i,r+o))}function rm(t,e){const n=t.x||0,r=t.y||0;return im(e,n,r,null!=t.x2?t.x2:n,null!=t.y2?t.y2:r)}function im(t,e,n,r,i){const{x1:o,y1:a,x2:u,y2:s}=t,l=r-e,c=i-n;let f,h,d,p,g=0,m=1;for(p=0;p<4;++p){if(0===p&&(f=-l,h=-(o-e)),1===p&&(f=l,h=u-e),2===p&&(f=-c,h=-(a-n)),3===p&&(f=c,h=s-n),Math.abs(f)<1e-10&&h<0)return!1;if(d=h/f,f<0){if(d>m)return!1;d>g&&(g=d)}else if(f>0){if(d<g)return!1;d<m&&(m=d)}}return!0}function om(t,e){t.globalCompositeOperation=e.blend||"source-over"}function am(t,e){return null==t?e:t}function um(t,e){const n=e.length;for(let r=0;r<n;++r)t.addColorStop(e[r].offset,e[r].color);return t}function sm(t,e,n){return Ap(n)?function(t,e,n){const r=n.width(),i=n.height();let o;if("radial"===e.gradient)o=t.createRadialGradient(n.x1+am(e.x1,.5)*r,n.y1+am(e.y1,.5)*i,Math.max(r,i)*am(e.r1,0),n.x1+am(e.x2,.5)*r,n.y1+am(e.y2,.5)*i,Math.max(r,i)*am(e.r2,.5));else{const a=am(e.x1,0),u=am(e.y1,0),s=am(e.x2,1),l=am(e.y2,0);if(a!==s&&u!==l&&r!==i){const n=kc(Math.ceil(r),Math.ceil(i)),o=n.getContext("2d");return o.scale(r,i),o.fillStyle=um(o.createLinearGradient(a,u,s,l),e.stops),o.fillRect(0,0,r,i),t.createPattern(n,"no-repeat")}o=t.createLinearGradient(n.x1+a*r,n.y1+u*i,n.x1+s*r,n.y1+l*i)}return um(o,e.stops)}(t,n,e.bounds):n}function lm(t,e,n){return(n*=null==e.fillOpacity?1:e.fillOpacity)>0&&(t.globalAlpha=n,t.fillStyle=sm(t,e,e.fill),!0)}var cm=[];function fm(t,e,n){var r=null!=(r=e.strokeWidth)?r:1;return!(r<=0)&&((n*=null==e.strokeOpacity?1:e.strokeOpacity)>0&&(t.globalAlpha=n,t.strokeStyle=sm(t,e,e.stroke),t.lineWidth=r,t.lineCap=e.strokeCap||"butt",t.lineJoin=e.strokeJoin||"miter",t.miterLimit=e.strokeMiterLimit||10,t.setLineDash&&(t.setLineDash(e.strokeDash||cm),t.lineDashOffset=e.strokeDashOffset||0),!0))}function hm(t,e){return t.zindex-e.zindex||t.index-e.index}function dm(t){if(!t.zdirty)return t.zitems;var e,n,r,i=t.items,o=[];for(n=0,r=i.length;n<r;++n)(e=i[n]).index=n,e.zindex&&o.push(e);return t.zdirty=!1,t.zitems=o.sort(hm)}function pm(t,e){var n,r,i=t.items;if(!i||!i.length)return;const o=dm(t);if(o&&o.length){for(n=0,r=i.length;n<r;++n)i[n].zindex||e(i[n]);i=o}for(n=0,r=i.length;n<r;++n)e(i[n])}function gm(t,e){var n,r,i=t.items;if(!i||!i.length)return null;const o=dm(t);for(o&&o.length&&(i=o),r=i.length;--r>=0;)if(n=e(i[r]))return n;if(i===o)for(r=(i=t.items).length;--r>=0;)if(!i[r].zindex&&(n=e(i[r])))return n;return null}function mm(t){return function(e,n,r){pm(n,(n=>{r&&!r.intersects(n.bounds)||vm(t,e,n,n)}))}}function ym(t){return function(e,n,r){!n.items.length||r&&!r.intersects(n.bounds)||vm(t,e,n.items[0],n.items)}}function vm(t,e,n,r){var i=null==n.opacity?1:n.opacity;0!==i&&(t(e,r)||(om(e,n),n.fill&&lm(e,n,i)&&e.fill(),n.stroke&&fm(e,n,i)&&e.stroke()))}function _m(t){return t=t||p,function(e,n,r,i,o,a){return r*=e.pixelRatio,i*=e.pixelRatio,gm(n,(n=>{const u=n.bounds;if((!u||u.contains(o,a))&&u)return t(e,n,r,i,o,a)?n:void 0}))}}function xm(t,e){return function(n,r,i,o){var a,u,s=Array.isArray(r)?r[0]:r,l=null==e?s.fill:e,c=s.stroke&&n.isPointInStroke;return c&&(a=s.strokeWidth,u=s.strokeCap,n.lineWidth=null!=a?a:1,n.lineCap=null!=u?u:"butt"),!t(n,r)&&(l&&n.isPointInPath(i,o)||c&&n.isPointInStroke(i,o))}}function bm(t){return _m(xm(t))}function wm(t,e){return"translate("+t+","+e+")"}function km(t){return"rotate("+t+")"}function Am(t){return wm(t.x||0,t.y||0)}function Mm(t,e,n){function r(t,n){var r=n.x||0,i=n.y||0,o=n.angle||0;t.translate(r,i),o&&t.rotate(o*=Rp),t.beginPath(),e(t,n),o&&t.rotate(-o),t.translate(-r,-i)}return{type:t,tag:"path",nested:!1,attr:function(t,n){t("transform",function(t){return wm(t.x||0,t.y||0)+(t.angle?" "+km(t.angle):"")}(n)),t("d",e(null,n))},bound:function(t,n){return e(Gg(t,n.angle),n),Fg(t,n).translate(n.x||0,n.y||0)},draw:mm(r),pick:bm(r),isect:n||tm(r)}}var Em=Mm("arc",(function(t,e){return fg.context(t)(e)}));function Dm(t,e,n){function r(t,n){t.beginPath(),e(t,n)}const i=xm(r);return{type:t,tag:"path",nested:!0,attr:function(t,n){var r=n.mark.items;r.length&&t("d",e(null,r))},bound:function(t,n){var r=n.items;return 0===r.length?t:(e(Gg(t),r),Fg(t,r[0]))},draw:ym(r),pick:function(t,e,n,r,o,a){var u=e.items,s=e.bounds;return!u||!u.length||s&&!s.contains(o,a)?null:(n*=t.pixelRatio,r*=t.pixelRatio,i(t,u,n,r)?u[0]:null)},isect:em,tip:n}}var Cm=Dm("area",(function(t,e){const n=e[0],r=n.interpolate||"linear";return("horizontal"===n.orient?dg:hg).curve(Fp(r,n.orient,n.tension)).context(t)(e)}),(function(t,e){for(var n,r,i="horizontal"===t[0].orient?e[1]:e[0],o="horizontal"===t[0].orient?"y":"x",a=t.length,u=1/0;--a>=0;)!1!==t[a].defined&&(r=Math.abs(t[a][o]-i))<u&&(u=r,n=t[a]);return n}));function Fm(t,e){t.beginPath(),vg(e)?_g(t,e,0,0):t.rect(0,0,e.width||0,e.height||0),t.clip()}function Sm(t){const e=am(t.strokeWidth,1);return null!=t.strokeOffset?t.strokeOffset:t.stroke&&e>.5&&e<1.5?.5-Math.abs(e-1):0}function Bm(t,e){const n=Sm(e);t("d",_g(null,e,n,n))}function Tm(t,e,n,r){const i=Sm(e);t.beginPath(),_g(t,e,(n||0)+i,(r||0)+i)}const Nm=xm(Tm),zm=xm(Tm,!1),Om=xm(Tm,!0);var Rm={type:"group",tag:"g",nested:!1,attr:function(t,e){t("transform",Am(e))},bound:function(t,e){if(!e.clip&&e.items){const n=e.items,r=n.length;for(let e=0;e<r;++e)t.union(n[e].bounds)}return(e.clip||e.width||e.height)&&!e.noBound&&t.add(0,0).add(e.width||0,e.height||0),Fg(t,e),t.translate(e.x||0,e.y||0)},draw:function(t,e,n){pm(e,(e=>{const r=e.x||0,i=e.y||0,o=e.strokeForeground,a=null==e.opacity?1:e.opacity;(e.stroke||e.fill)&&a&&(Tm(t,e,r,i),om(t,e),e.fill&&lm(t,e,a)&&t.fill(),e.stroke&&!o&&fm(t,e,a)&&t.stroke()),t.save(),t.translate(r,i),e.clip&&Fm(t,e),n&&n.translate(-r,-i),pm(e,(e=>{this.draw(t,e,n)})),n&&n.translate(r,i),t.restore(),o&&e.stroke&&a&&(Tm(t,e,r,i),om(t,e),fm(t,e,a)&&t.stroke())}))},pick:function(t,e,n,r,i,o){if(e.bounds&&!e.bounds.contains(i,o)||!e.items)return null;const a=n*t.pixelRatio,u=r*t.pixelRatio;return gm(e,(s=>{let l,c,f;const h=s.bounds;if(h&&!h.contains(i,o))return;c=s.x||0,f=s.y||0;const d=c+(s.width||0),p=f+(s.height||0),g=s.clip;if(g&&(i<c||i>d||o<f||o>p))return;if(t.save(),t.translate(c,f),c=i-c,f=o-f,g&&vg(s)&&!Om(t,s,a,u))return t.restore(),null;const m=s.strokeForeground,y=!1!==e.interactive;return y&&m&&s.stroke&&zm(t,s,a,u)?(t.restore(),s):(l=gm(s,(t=>function(t,e,n){return(!1!==t.interactive||"group"===t.marktype)&&t.bounds&&t.bounds.contains(e,n)}(t,c,f)?this.pick(t,n,r,c,f):null)),!l&&y&&(s.fill||!m&&s.stroke)&&Nm(t,s,a,u)&&(l=s),t.restore(),l||null)}))},isect:nm,content:function(t,e,n){t("clip-path",e.clip?wg(n,e,e):null)},background:function(t,e){t("class","background"),t("aria-hidden",!0),Bm(t,e)},foreground:function(t,e){t("class","foreground"),t("aria-hidden",!0),e.strokeForeground?Bm(t,e):t("d","")}},Lm={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",version:"1.1"};function Um(t,e){var n=t.image;return(!n||t.url&&t.url!==n.url)&&(n={complete:!1,width:0,height:0},e.loadImage(t.url).then((e=>{t.image=e,t.image.url=t.url}))),n}function qm(t,e){return null!=t.width?t.width:e&&e.width?!1!==t.aspect&&t.height?t.height*e.width/e.height:e.width:0}function Pm(t,e){return null!=t.height?t.height:e&&e.height?!1!==t.aspect&&t.width?t.width*e.height/e.width:e.height:0}function jm(t,e){return"center"===t?e/2:"right"===t?e:0}function Im(t,e){return"middle"===t?e/2:"bottom"===t?e:0}var $m={type:"image",tag:"image",nested:!1,attr:function(t,e,n){const r=Um(e,n),i=qm(e,r),o=Pm(e,r),a=(e.x||0)-jm(e.align,i),u=(e.y||0)-Im(e.baseline,o);t("href",!r.src&&r.toDataURL?r.toDataURL():r.src||"",Lm["xmlns:xlink"],"xlink:href"),t("transform",wm(a,u)),t("width",i),t("height",o),t("preserveAspectRatio",!1===e.aspect?"none":"xMidYMid")},bound:function(t,e){const n=e.image,r=qm(e,n),i=Pm(e,n),o=(e.x||0)-jm(e.align,r),a=(e.y||0)-Im(e.baseline,i);return t.set(o,a,o+r,a+i)},draw:function(t,e,n){pm(e,(e=>{if(n&&!n.intersects(e.bounds))return;const r=Um(e,this);let i=qm(e,r),o=Pm(e,r);if(0===i||0===o)return;let a,u,s,l,c=(e.x||0)-jm(e.align,i),f=(e.y||0)-Im(e.baseline,o);!1!==e.aspect&&(u=r.width/r.height,s=e.width/e.height,u==u&&s==s&&u!==s&&(s<u?(l=i/u,f+=(o-l)/2,o=l):(l=o*u,c+=(i-l)/2,i=l))),(r.complete||r.toDataURL)&&(om(t,e),t.globalAlpha=null!=(a=e.opacity)?a:1,t.imageSmoothingEnabled=!1!==e.smooth,t.drawImage(r,c,f,i,o))}))},pick:_m(),isect:p,get:Um,xOffset:jm,yOffset:Im},Wm=Dm("line",(function(t,e){const n=e[0],r=n.interpolate||"linear";return pg.curve(Fp(r,n.orient,n.tension)).context(t)(e)}),(function(t,e){for(var n,r,i=Math.pow(t[0].strokeWidth||1,2),o=t.length;--o>=0;)if(!1!==t[o].defined&&(n=t[o].x-e[0])*n+(r=t[o].y-e[1])*r<i)return t[o];return null}));function Hm(t,e){var n=e.path;if(null==n)return!0;var r=e.x||0,i=e.y||0,o=e.scaleX||1,a=e.scaleY||1,u=(e.angle||0)*Rp,s=e.pathCache;s&&s.path===n||((e.pathCache=s=Op(n)).path=n),u&&t.rotate&&t.translate?(t.translate(r,i),t.rotate(u),Yp(t,s,0,0,o,a),t.rotate(-u),t.translate(-r,-i)):Yp(t,s,r,i,o,a)}var Ym={type:"path",tag:"path",nested:!1,attr:function(t,e){var n=e.scaleX||1,r=e.scaleY||1;1===n&&1===r||t("vector-effect","non-scaling-stroke"),t("transform",function(t){return wm(t.x||0,t.y||0)+(t.angle?" "+km(t.angle):"")+(t.scaleX||t.scaleY?" "+function(t,e){return"scale("+t+","+e+")"}(t.scaleX||1,t.scaleY||1):"")}(e)),t("d",e.path)},bound:function(t,e){return Hm(Gg(t,e.angle),e)?t.set(0,0,0,0):Fg(t,e,!0)},draw:mm(Hm),pick:bm(Hm),isect:tm(Hm)};function Gm(t,e){t.beginPath(),_g(t,e)}var Vm={type:"rect",tag:"path",nested:!1,attr:function(t,e){t("d",_g(null,e))},bound:function(t,e){var n,r;return Fg(t.set(n=e.x||0,r=e.y||0,n+e.width||0,r+e.height||0),e)},draw:mm(Gm),pick:bm(Gm),isect:nm};function Xm(t,e,n){var r,i,o,a;return!(!e.stroke||!fm(t,e,n))&&(r=e.x||0,i=e.y||0,o=null!=e.x2?e.x2:r,a=null!=e.y2?e.y2:i,t.beginPath(),t.moveTo(r,i),t.lineTo(o,a),!0)}var Jm={type:"rule",tag:"line",nested:!1,attr:function(t,e){t("transform",Am(e)),t("x2",null!=e.x2?e.x2-(e.x||0):0),t("y2",null!=e.y2?e.y2-(e.y||0):0)},bound:function(t,e){var n,r;return Fg(t.set(n=e.x||0,r=e.y||0,null!=e.x2?e.x2:n,null!=e.y2?e.y2:r),e)},draw:function(t,e,n){pm(e,(e=>{if(!n||n.intersects(e.bounds)){var r=null==e.opacity?1:e.opacity;r&&Xm(t,e,r)&&(om(t,e),t.stroke())}}))},pick:_m((function(t,e,n,r){return!!t.isPointInStroke&&(Xm(t,e,1)&&t.isPointInStroke(n,r))})),isect:rm},Zm=Mm("shape",(function(t,e){return(e.mark.shape||e.shape).context(t)(e)})),Qm=Mm("symbol",(function(t,e){return mg.context(t)(e)}),em);const Km=yt();var ty={height:ay,measureWidth:iy,estimateWidth:ny,width:ny,canvas:ey};function ey(t){ty.width=t&&Qg?iy:ny}function ny(t,e){return ry(cy(t,e),ay(t))}function ry(t,e){return~~(.8*t.length*e)}function iy(t,e){return ay(t)<=0||!(e=cy(t,e))?0:oy(e,hy(t))}function oy(t,e){const n="(".concat(e,") ").concat(t);let r=Km.get(n);return void 0===r&&(Qg.font=e,r=Qg.measureText(t).width,Km.set(n,r)),r}function ay(t){return null!=t.fontSize?+t.fontSize||0:11}function uy(t){return null!=t.lineHeight?t.lineHeight:ay(t)+2}function sy(t){return e=t.lineBreak&&t.text&&!v(t.text)?t.text.split(t.lineBreak):t.text,v(e)?e.length>1?e:e[0]:e;var e}function ly(t){const e=sy(t);return(v(e)?e.length-1:0)*uy(t)}function cy(t,e){const n=null==e?"":(e+"").trim();return t.limit>0&&n.length?function(t,e){var n=+t.limit,r=function(t){if(ty.width===iy){const e=hy(t);return t=>oy(t,e)}{const e=ay(t);return t=>ry(t,e)}}(t);if(r(e)<n)return e;var i,o=t.ellipsis||"",a="rtl"===t.dir,u=0,s=e.length;if(n-=r(o),a){for(;u<s;)i=u+s>>>1,r(e.slice(i))>n?u=i+1:s=i;return o+e.slice(u)}for(;u<s;)i=1+(u+s>>>1),r(e.slice(0,i))<n?u=i:s=i-1;return e.slice(0,u)+o}(t,n):n}function fy(t,e){var n=t.font;return(e&&n?String(n).replace(/"/g,"'"):n)||"sans-serif"}function hy(t,e){return(t.fontStyle?t.fontStyle+" ":"")+(t.fontVariant?t.fontVariant+" ":"")+(t.fontWeight?t.fontWeight+" ":"")+ay(t)+"px "+fy(t,e)}function dy(t){var e=t.baseline,n=ay(t);return Math.round("top"===e?.79*n:"middle"===e?.3*n:"bottom"===e?-.21*n:"line-top"===e?.29*n+.5*uy(t):"line-bottom"===e?.29*n-.5*uy(t):0)}ey(!0);const py={left:"start",center:"middle",right:"end"},gy=new kg;function my(t){var e,n=t.x||0,r=t.y||0,i=t.radius||0;return i&&(e=(t.theta||0)-Lp,n+=i*Math.cos(e),r+=i*Math.sin(e)),gy.x1=n,gy.y1=r,gy}function yy(t,e,n){var r,i=ty.height(e),o=e.align,a=my(e),u=a.x1,s=a.y1,l=e.dx||0,c=(e.dy||0)+dy(e)-Math.round(.8*i),f=sy(e);if(v(f)?(i+=uy(e)*(f.length-1),r=f.reduce(((t,n)=>Math.max(t,ty.width(e,n))),0)):r=ty.width(e,f),"center"===o?l-=r/2:"right"===o&&(l-=r),t.set(l+=u,c+=s,l+r,c+i),e.angle&&!n)t.rotate(e.angle*Rp,u,s);else if(2===n)return t.rotatedPoints(e.angle*Rp,u,s);return t}var vy={type:"text",tag:"text",nested:!1,attr:function(t,e){var n,r=e.dx||0,i=(e.dy||0)+dy(e),o=my(e),a=o.x1,u=o.y1,s=e.angle||0;t("text-anchor",py[e.align]||"start"),s?(n=wm(a,u)+" "+km(s),(r||i)&&(n+=" "+wm(r,i))):n=wm(a+r,u+i),t("transform",n)},bound:yy,draw:function(t,e,n){pm(e,(e=>{var r,i,o,a,u,s,l,c=null==e.opacity?1:e.opacity;if(!(n&&!n.intersects(e.bounds)||0===c||e.fontSize<=0||null==e.text||0===e.text.length)){if(t.font=hy(e),t.textAlign=e.align||"left",i=(r=my(e)).x1,o=r.y1,e.angle&&(t.save(),t.translate(i,o),t.rotate(e.angle*Rp),i=o=0),i+=e.dx||0,o+=(e.dy||0)+dy(e),s=sy(e),om(t,e),v(s))for(u=uy(e),a=0;a<s.length;++a)l=cy(e,s[a]),e.fill&&lm(t,e,c)&&t.fillText(l,i,o),e.stroke&&fm(t,e,c)&&t.strokeText(l,i,o),o+=u;else l=cy(e,s),e.fill&&lm(t,e,c)&&t.fillText(l,i,o),e.stroke&&fm(t,e,c)&&t.strokeText(l,i,o);e.angle&&t.restore()}}))},pick:_m((function(t,e,n,r,i,o){if(e.fontSize<=0)return!1;if(!e.angle)return!0;var a=my(e),u=a.x1,s=a.y1,l=yy(gy,e,1),c=-e.angle*Rp,f=Math.cos(c),h=Math.sin(c),d=f*i-h*o+(u-f*u+h*s),p=h*i+f*o+(s-h*u-f*s);return l.contains(d,p)})),isect:function(t,e){const n=yy(gy,t,2);return im(e,n[0],n[1],n[2],n[3])||im(e,n[0],n[1],n[4],n[5])||im(e,n[4],n[5],n[6],n[7])||im(e,n[2],n[3],n[6],n[7])}},_y=Dm("trail",(function(t,e){return yg.context(t)(e)}),(function(t,e){for(var n,r,i=t.length;--i>=0;)if(!1!==t[i].defined&&(n=t[i].x-e[0])*n+(r=t[i].y-e[1])*r<(n=t[i].size||1)*n)return t[i];return null})),xy={arc:Em,area:Cm,group:Rm,image:$m,line:Wm,path:Ym,rect:Vm,rule:Jm,shape:Zm,symbol:Qm,text:vy,trail:_y};function by(t,e,n){var r=xy[t.mark.marktype],i=e||r.bound;return r.nested&&(t=t.mark),i(t.bounds||(t.bounds=new kg),t,n)}var wy={mark:null};function ky(t,e,n){var r,i,o,a,u=xy[t.marktype],s=u.bound,l=t.items,c=l&&l.length;if(u.nested)return c?o=l[0]:(wy.mark=t,o=wy),a=by(o,s,n),e=e&&e.union(a)||a;if(e=e||t.bounds&&t.bounds.clear()||new kg,c)for(r=0,i=l.length;r<i;++r)e.union(by(l[r],s,n));return t.bounds=e}const Ay=["marktype","name","role","interactive","clip","items","zindex","x","y","width","height","align","baseline","fill","fillOpacity","opacity","blend","stroke","strokeOpacity","strokeWidth","strokeCap","strokeDash","strokeDashOffset","strokeForeground","strokeOffset","startAngle","endAngle","innerRadius","outerRadius","cornerRadius","padAngle","cornerRadiusTopLeft","cornerRadiusTopRight","cornerRadiusBottomLeft","cornerRadiusBottomRight","interpolate","tension","orient","defined","url","aspect","smooth","path","scaleX","scaleY","x2","y2","size","shape","text","angle","theta","radius","dir","dx","dy","ellipsis","limit","lineBreak","lineHeight","font","fontSize","fontWeight","fontStyle","fontVariant","description","aria","ariaRole","ariaRoleDescription"];function My(t,e){return JSON.stringify(t,Ay,e)}function Ey(t){return Dy("string"==typeof t?JSON.parse(t):t)}function Dy(t){var e,n,r,i=t.marktype,o=t.items;if(o)for(n=0,r=o.length;n<r;++n)e=i?"mark":"group",o[n][e]=t,o[n].zindex&&(o[n][e].zdirty=!0),"group"===(i||e)&&Dy(o[n]);return i&&ky(t),t}function Cy(t){arguments.length?this.root=Ey(t):(this.root=Fy({marktype:"group",name:"root",role:"frame"}),this.root.items=[new Mg(this.root)])}function Fy(t,e){const n={bounds:new kg,clip:!!t.clip,group:e,interactive:!1!==t.interactive,items:[],marktype:t.marktype,name:t.name||void 0,role:t.role||void 0,zindex:t.zindex||0};return null!=t.aria&&(n.aria=t.aria),t.description&&(n.description=t.description),n}function Sy(t,e,n){return!t&&"undefined"!=typeof document&&document.createElement&&(t=document),t?n?t.createElementNS(n,e):t.createElement(e):null}function By(t,e){e=e.toLowerCase();for(var n=t.childNodes,r=0,i=n.length;r<i;++r)if(n[r].tagName.toLowerCase()===e)return n[r]}function Ty(t,e,n,r){var i,o=t.childNodes[e];return o&&o.tagName.toLowerCase()===n.toLowerCase()||(i=o||null,o=Sy(t.ownerDocument,n,r),t.insertBefore(o,i)),o}function Ny(t,e){for(var n=t.childNodes,r=n.length;r>e;)t.removeChild(n[--r]);return t}function zy(t){return"mark-"+t.marktype+(t.role?" role-"+t.role:"")+(t.name?" "+t.name:"")}function Oy(t,e){const n=e.getBoundingClientRect();return[t.clientX-n.left-(e.clientLeft||0),t.clientY-n.top-(e.clientTop||0)]}function Ry(t,e){this._active=null,this._handlers={},this._loader=t||ia(),this._tooltip=e||Ly}function Ly(t,e,n,r){t.element().setAttribute("title",r||"")}function Uy(t){this._el=null,this._bgcolor=null,this._loader=new Eg(t)}Cy.prototype={toJSON(t){return My(this.root,t||0)},mark(t,e,n){const r=Fy(t,e=e||this.root.items[0]);return e.items[n]=r,r.zindex&&(r.group.zdirty=!0),r}},Ry.prototype={initialize(t,e,n){return this._el=t,this._obj=n||null,this.origin(e)},element(){return this._el},canvas(){return this._el&&this._el.firstChild},origin(t){return arguments.length?(this._origin=t||[0,0],this):this._origin.slice()},scene(t){return arguments.length?(this._scene=t,this):this._scene},on(){},off(){},_handlerIndex(t,e,n){for(let r=t?t.length:0;--r>=0;)if(t[r].type===e&&(!n||t[r].handler===n))return r;return-1},handlers(t){const e=this._handlers,n=[];if(t)n.push(...e[this.eventName(t)]);else for(const t in e)n.push(...e[t]);return n},eventName(t){const e=t.indexOf(".");return e<0?t:t.slice(0,e)},handleHref(t,e,n){this._loader.sanitize(n,{context:"href"}).then((e=>{const n=new MouseEvent(t.type,t),r=Sy(null,"a");for(const t in e)r.setAttribute(t,e[t]);r.dispatchEvent(n)})).catch((()=>{}))},handleTooltip(t,e,n){if(e&&null!=e.tooltip){e=function(t,e,n,r){var i,o,a=t&&t.mark;if(a&&(i=xy[a.marktype]).tip){for((o=Oy(e,n))[0]-=r[0],o[1]-=r[1];t=t.mark.group;)o[0]-=t.x||0,o[1]-=t.y||0;t=i.tip(a.items,o)}return t}(e,t,this.canvas(),this._origin);const r=n&&e&&e.tooltip||null;this._tooltip.call(this._obj,this,t,e,r)}},getItemBoundingClientRect(t){const e=this.canvas();if(!e)return;const n=e.getBoundingClientRect(),r=this._origin,i=t.bounds,o=i.width(),a=i.height();let u=i.x1+r[0]+n.left,s=i.y1+r[1]+n.top;for(;t.mark&&(t=t.mark.group);)u+=t.x||0,s+=t.y||0;return{x:u,y:s,width:o,height:a,left:u,top:s,right:u+o,bottom:s+a}}},Uy.prototype={initialize(t,e,n,r,i){return this._el=t,this.resize(e,n,r,i)},element(){return this._el},canvas(){return this._el&&this._el.firstChild},background(t){return 0===arguments.length?this._bgcolor:(this._bgcolor=t,this)},resize(t,e,n,r){return this._width=t,this._height=e,this._origin=n||[0,0],this._scale=r||1,this},dirty(){},render(t){const e=this;return e._call=function(){e._render(t)},e._call(),e._call=null,e},_render(){},renderAsync(t){const e=this.render(t);return this._ready?this._ready.then((()=>e)):Promise.resolve(e)},_load(t,e){var n=this,r=n._loader[t](e);if(!n._ready){const t=n._call;n._ready=n._loader.ready().then((e=>{e&&t(),n._ready=null}))}return r},sanitizeURL(t){return this._load("sanitizeURL",t)},loadImage(t){return this._load("loadImage",t)}};const qy="dragenter",Py="dragleave",jy="dragover",Iy="mousedown",$y="mousemove",Wy="mouseout",Hy="mouseover",Yy="click",Gy="mousewheel",Vy="touchstart",Xy="touchmove",Jy="touchend",Zy=$y,Qy=Wy,Ky=Yy;function tv(t,e){Ry.call(this,t,e),this._down=null,this._touch=null,this._first=!0,this._events={}}function ev(t,e){(t=>t===Vy||t===Xy||t===Jy?[Vy,Xy,Jy]:[t])(e).forEach((e=>function(t,e){const n=t.canvas();n&&!t._events[e]&&(t._events[e]=1,n.addEventListener(e,t[e]?n=>t[e](n):n=>t.fire(e,n)))}(t,e)))}function nv(t,e,n){return function(r){const i=this._active,o=this.pickEvent(r);o===i||(i&&i.exit||this.fire(n,r),this._active=o,this.fire(e,r)),this.fire(t,r)}}function rv(t){return function(e){this.fire(t,e),this._active=null}}ut(tv,Ry,{initialize(t,e,n){return this._canvas=t&&By(t,"canvas"),[Yy,Iy,$y,Wy,Py].forEach((t=>ev(this,t))),Ry.prototype.initialize.call(this,t,e,n)},canvas(){return this._canvas},context(){return this._canvas.getContext("2d")},events:["keydown","keypress","keyup",qy,Py,jy,Iy,"mouseup",$y,Wy,Hy,Yy,"dblclick","wheel",Gy,Vy,Xy,Jy],DOMMouseScroll(t){this.fire(Gy,t)},mousemove:nv($y,Hy,Wy),dragover:nv(jy,qy,Py),mouseout:rv(Wy),dragleave:rv(Py),mousedown(t){this._down=this._active,this.fire(Iy,t)},click(t){this._down===this._active&&(this.fire(Yy,t),this._down=null)},touchstart(t){this._touch=this.pickEvent(t.changedTouches[0]),this._first&&(this._active=this._touch,this._first=!1),this.fire(Vy,t,!0)},touchmove(t){this.fire(Xy,t,!0)},touchend(t){this.fire(Jy,t,!0),this._touch=null},fire(t,e,n){const r=n?this._touch:this._active,i=this._handlers[t];if(e.vegaType=t,t===Ky&&r&&r.href?this.handleHref(e,r,r.href):t!==Zy&&t!==Qy||this.handleTooltip(e,r,t!==Qy),i)for(let t=0,n=i.length;t<n;++t)i[t].handler.call(this._obj,e,r)},on(t,e){const n=this.eventName(t),r=this._handlers;return this._handlerIndex(r[n],t,e)<0&&(ev(this,t),(r[n]||(r[n]=[])).push({type:t,handler:e})),this},off(t,e){const n=this.eventName(t),r=this._handlers[n],i=this._handlerIndex(r,t,e);return i>=0&&r.splice(i,1),this},pickEvent(t){const e=Oy(t,this._canvas),n=this._origin;return this.pick(this._scene,e[0],e[1],e[0]-n[0],e[1]-n[1])},pick(t,e,n,r,i){const o=this.context();return xy[t.marktype].pick.call(this,o,t,e,n,r,i)}});var iv="undefined"!=typeof window&&window.devicePixelRatio||1;function ov(t){Uy.call(this,t),this._options={},this._redraw=!1,this._dirty=new kg,this._tempb=new kg}const av=Uy.prototype;function uv(t,e){Ry.call(this,t,e);const n=this;n._hrefHandler=sv(n,((t,e)=>{e&&e.href&&n.handleHref(t,e,e.href)})),n._tooltipHandler=sv(n,((t,e)=>{n.handleTooltip(t,e,t.type!==Qy)}))}ut(ov,Uy,{initialize(t,e,n,r,i,o){return this._options=o||{},this._canvas=this._options.externalContext?null:kc(1,1,this._options.type),t&&this._canvas&&(Ny(t,0).appendChild(this._canvas),this._canvas.setAttribute("class","marks")),av.initialize.call(this,t,e,n,r,i)},resize(t,e,n,r){if(av.resize.call(this,t,e,n,r),this._canvas)!function(t,e,n,r,i,o){const a="undefined"!=typeof HTMLElement&&t instanceof HTMLElement&&null!=t.parentNode,u=t.getContext("2d"),s=a?iv:i;t.width=e*s,t.height=n*s;for(const t in o)u[t]=o[t];a&&1!==s&&(t.style.width=e+"px",t.style.height=n+"px"),u.pixelRatio=s,u.setTransform(s,0,0,s,s*r[0],s*r[1])}(this._canvas,this._width,this._height,this._origin,this._scale,this._options.context);else{const t=this._options.externalContext;t||u("CanvasRenderer is missing a valid canvas or context"),t.scale(this._scale,this._scale),t.translate(this._origin[0],this._origin[1])}return this._redraw=!0,this},canvas(){return this._canvas},context(){return this._options.externalContext||(this._canvas?this._canvas.getContext("2d"):null)},dirty(t){const e=this._tempb.clear().union(t.bounds);let n=t.mark.group;for(;n;)e.translate(n.x||0,n.y||0),n=n.mark.group;this._dirty.union(e)},_render(t){const e=this.context(),n=this._origin,r=this._width,i=this._height,o=this._dirty,a=((t,e,n)=>(new kg).set(0,0,e,n).translate(-t[0],-t[1]))(n,r,i);e.save();const u=this._redraw||o.empty()?(this._redraw=!1,a.expand(1)):function(t,e,n){return e.expand(1).round(),t.pixelRatio%1&&e.scale(t.pixelRatio).round().scale(1/t.pixelRatio),e.translate(-n[0]%1,-n[1]%1),t.beginPath(),t.rect(e.x1,e.y1,e.width(),e.height()),t.clip(),e}(e,a.intersect(o),n);return this.clear(-n[0],-n[1],r,i),this.draw(e,t,u),e.restore(),o.clear(),this},draw(t,e,n){const r=xy[e.marktype];e.clip&&function(t,e){var n=e.clip;t.save(),H(n)?(t.beginPath(),n(t),t.clip()):Fm(t,e.group)}(t,e),r.draw.call(this,t,e,n),e.clip&&t.restore()},clear(t,e,n,r){const i=this._options,o=this.context();"pdf"===i.type||i.externalContext||o.clearRect(t,e,n,r),null!=this._bgcolor&&(o.fillStyle=this._bgcolor,o.fillRect(t,e,n,r))}});const sv=(t,e)=>n=>{let r=n.target.__data__;r=Array.isArray(r)?r[0]:r,n.vegaType=n.type,e.call(t._obj,n,r)};ut(uv,Ry,{initialize(t,e,n){let r=this._svg;return r&&(r.removeEventListener(Ky,this._hrefHandler),r.removeEventListener(Zy,this._tooltipHandler),r.removeEventListener(Qy,this._tooltipHandler)),this._svg=r=t&&By(t,"svg"),r&&(r.addEventListener(Ky,this._hrefHandler),r.addEventListener(Zy,this._tooltipHandler),r.addEventListener(Qy,this._tooltipHandler)),Ry.prototype.initialize.call(this,t,e,n)},canvas(){return this._svg},on(t,e){const n=this.eventName(t),r=this._handlers;if(this._handlerIndex(r[n],t,e)<0){const i={type:t,handler:e,listener:sv(this,e)};(r[n]||(r[n]=[])).push(i),this._svg&&this._svg.addEventListener(n,i.listener)}return this},off(t,e){const n=this.eventName(t),r=this._handlers[n],i=this._handlerIndex(r,t,e);return i>=0&&(this._svg&&this._svg.removeEventListener(n,r[i].listener),r.splice(i,1)),this}});const lv="aria-hidden",cv="aria-label",fv="role",hv="aria-roledescription",dv="graphics-object",pv="graphics-symbol",gv=(t,e,n)=>({[fv]:t,[hv]:e,[cv]:n||void 0}),mv=Dt(["axis-domain","axis-grid","axis-label","axis-tick","axis-title","legend-band","legend-entry","legend-gradient","legend-label","legend-title","legend-symbol","title"]),yv={axis:{desc:"axis",caption:function(t){const e=t.datum,n=t.orient,r=e.title?wv(t):null,i=t.context,o=i.scales[e.scale].value,a=i.dataflow.locale(),u=o.type;return"".concat("left"===n||"right"===n?"Y":"X","-axis")+(r?" titled '".concat(r,"'"):"")+" for a ".concat(jd(u)?"discrete":u," scale")+" with ".concat(bp(a,o,t))}},legend:{desc:"legend",caption:function(t){const e=t.datum,n=e.title?wv(t):null,r="".concat(e.type||""," legend").trim(),i=e.scales,o=Object.keys(i),a=t.context,u=a.scales[i[o[0]]].value,s=a.dataflow.locale();return l=r,(l.length?l[0].toUpperCase()+l.slice(1):l)+(n?" titled '".concat(n,"'"):"")+" for ".concat(function(t){return(t=t.map((t=>t+("fill"===t||"stroke"===t?" color":"")))).length<2?t[0]:t.slice(0,-1).join(", ")+" and "+A(t)}(o))+" with ".concat(bp(s,u,t));var l}},"title-text":{desc:"title",caption:t=>"Title text '".concat(bv(t),"'")},"title-subtitle":{desc:"subtitle",caption:t=>"Subtitle text '".concat(bv(t),"'")}},vv={ariaRole:fv,ariaRoleDescription:hv,description:cv};function _v(t,e){const n=!1===e.aria;if(t(lv,n||void 0),n||null==e.description)for(const e in vv)t(vv[e],void 0);else{const n=e.mark.marktype;t(cv,e.description),t(fv,e.ariaRole||("group"===n?dv:pv)),t(hv,e.ariaRoleDescription||"".concat(n," mark"))}}function xv(t){return!1===t.aria?{[lv]:!0}:mv[t.role]?null:yv[t.role]?function(t,e){try{const n=t.items[0],r=e.caption||(()=>"");return gv(e.role||pv,e.desc,n.description||r(n))}catch(t){return null}}(t,yv[t.role]):function(t){const e=t.marktype,n="group"===e||"text"===e||t.items.some((t=>null!=t.description&&!1!==t.aria));return gv(n?dv:pv,"".concat(e," mark container"),t.description)}(t)}function bv(t){return $(t.text).join(" ")}function wv(t){try{return $(A(t.items).items[0].text).join(" ")}catch(t){return null}}const kv=t=>(t+"").replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;");function Av(){let t="",e="",n="";const r=[],i=()=>e=n="",o=(t,n)=>(null!=n&&(e+=" ".concat(t,'="').concat(kv(n).replace(/"/g,"&quot;").replace(/\t/g,"&#x9;").replace(/\n/g,"&#xA;").replace(/\r/g,"&#xD;"),'"')),a),a={open(u){(o=>{e&&(t+="".concat(e,">").concat(n),i()),r.push(o)})(u),e="<"+u;for(var s=arguments.length,l=new Array(s>1?s-1:0),c=1;c<s;c++)l[c-1]=arguments[c];for(const t of l)for(const e in t)o(e,t[e]);return a},close(){const o=r.pop();return t+=e?e+(n?">".concat(n,"</").concat(o,">"):"/>"):"</".concat(o,">"),i(),a},attr:o,text:t=>(n+=kv(t),a),toString:()=>t};return a}const Mv=t=>Ev(Av(),t)+"";function Ev(t,e){if(t.open(e.tagName),e.hasAttributes()){const n=e.attributes,r=n.length;for(let e=0;e<r;++e)t.attr(n[e].name,n[e].value)}if(e.hasChildNodes()){const n=e.childNodes;for(const e of n)3===e.nodeType?t.text(e.nodeValue):Ev(t,e)}return t.close()}const Dv={fill:"fill",fillOpacity:"fill-opacity",stroke:"stroke",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",strokeCap:"stroke-linecap",strokeJoin:"stroke-linejoin",strokeDash:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeMiterLimit:"stroke-miterlimit",opacity:"opacity"},Cv={blend:"mix-blend-mode"},Fv={fill:"none","stroke-miterlimit":10},Sv="http://www.w3.org/2000/xmlns/",Bv=Lm.xmlns;function Tv(t){Uy.call(this,t),this._dirtyID=0,this._dirty=[],this._svg=null,this._root=null,this._defs=null}const Nv=Uy.prototype;function zv(t,e){for(;t&&t.dirty!==e;t=t.mark.group){if(t.dirty=e,!t.mark||t.mark.dirty===e)return;t.mark.dirty=e}}function Ov(t,e,n){let r,i,o;if("radial"===e.gradient){let r=Ty(t,n++,"pattern",Bv);$v(r,{id:kp+e.id,viewBox:"0,0,1,1",width:"100%",height:"100%",preserveAspectRatio:"xMidYMid slice"}),r=Ty(r,0,"rect",Bv),$v(r,{width:1,height:1,fill:"url(".concat(Hv(),"#").concat(e.id,")")}),$v(t=Ty(t,n++,"radialGradient",Bv),{id:e.id,fx:e.x1,fy:e.y1,fr:e.r1,cx:e.x2,cy:e.y2,r:e.r2})}else $v(t=Ty(t,n++,"linearGradient",Bv),{id:e.id,x1:e.x1,x2:e.x2,y1:e.y1,y2:e.y2});for(r=0,i=e.stops.length;r<i;++r)o=Ty(t,r,"stop",Bv),o.setAttribute("offset",e.stops[r].offset),o.setAttribute("stop-color",e.stops[r].color);return Ny(t,r),n}function Rv(t,e,n){let r;return(t=Ty(t,n,"clipPath",Bv)).setAttribute("id",e.id),e.path?(r=Ty(t,0,"path",Bv),r.setAttribute("d",e.path)):(r=Ty(t,0,"rect",Bv),$v(r,{x:0,y:0,width:e.width,height:e.height})),Ny(t,1),n+1}function Lv(t,e,n,r,i){let o,a=t._svg;if(!a&&(o=e.ownerDocument,a=Sy(o,r,Bv),t._svg=a,t.mark&&(a.__data__=t,a.__values__={fill:"default"},"g"===r))){const e=Sy(o,"path",Bv);a.appendChild(e),e.__data__=t;const n=Sy(o,"g",Bv);a.appendChild(n),n.__data__=t;const r=Sy(o,"path",Bv);a.appendChild(r),r.__data__=t,r.__values__={fill:"default"}}return(a.ownerSVGElement!==i||function(t,e){return t.parentNode&&t.parentNode.childNodes.length>1&&t.previousSibling!=e}(a,n))&&e.insertBefore(a,n?n.nextSibling:e.firstChild),a}ut(Tv,Uy,{initialize(t,e,n,r,i){return this._defs={},this._clearDefs(),t&&(this._svg=Ty(t,0,"svg",Bv),this._svg.setAttributeNS(Sv,"xmlns",Bv),this._svg.setAttributeNS(Sv,"xmlns:xlink",Lm["xmlns:xlink"]),this._svg.setAttribute("version",Lm.version),this._svg.setAttribute("class","marks"),Ny(t,1),this._root=Ty(this._svg,0,"g",Bv),$v(this._root,Fv),Ny(this._svg,1)),this.background(this._bgcolor),Nv.initialize.call(this,t,e,n,r,i)},background(t){return arguments.length&&this._svg&&this._svg.style.setProperty("background-color",t),Nv.background.apply(this,arguments)},resize(t,e,n,r){return Nv.resize.call(this,t,e,n,r),this._svg&&($v(this._svg,{width:this._width*this._scale,height:this._height*this._scale,viewBox:"0 0 ".concat(this._width," ").concat(this._height)}),this._root.setAttribute("transform","translate(".concat(this._origin,")"))),this._dirty=[],this},canvas(){return this._svg},svg(){const t=this._svg,e=this._bgcolor;if(!t)return null;let n;e&&(t.removeAttribute("style"),n=Ty(t,0,"rect",Bv),$v(n,{width:this._width,height:this._height,fill:e}));const r=Mv(t);return e&&(t.removeChild(n),this._svg.style.setProperty("background-color",e)),r},_render(t){return this._dirtyCheck()&&(this._dirtyAll&&this._clearDefs(),this.mark(this._root,t),Ny(this._root,1)),this.defs(),this._dirty=[],++this._dirtyID,this},dirty(t){t.dirty!==this._dirtyID&&(t.dirty=this._dirtyID,this._dirty.push(t))},isDirty(t){return this._dirtyAll||!t._svg||!t._svg.ownerSVGElement||t.dirty===this._dirtyID},_dirtyCheck(){this._dirtyAll=!0;const t=this._dirty;if(!t.length||!this._dirtyID)return!0;const e=++this._dirtyID;let n,r,i,o,a,u,s;for(a=0,u=t.length;a<u;++a)n=t[a],r=n.mark,r.marktype!==i&&(i=r.marktype,o=xy[i]),r.zdirty&&r.dirty!==e&&(this._dirtyAll=!1,zv(n,e),r.items.forEach((t=>{t.dirty=e}))),r.zdirty||(n.exit?(o.nested&&r.items.length?(s=r.items[0],s._svg&&this._update(o,s._svg,s)):n._svg&&(s=n._svg.parentNode,s&&s.removeChild(n._svg)),n._svg=null):(n=o.nested?r.items[0]:n,n._update!==e&&(n._svg&&n._svg.ownerSVGElement?this._update(o,n._svg,n):(this._dirtyAll=!1,zv(n,e)),n._update=e)));return!this._dirtyAll},mark(t,e,n){if(!this.isDirty(e))return e._svg;const r=this._svg,i=xy[e.marktype],o=!1===e.interactive?"none":null,a="g"===i.tag,u=Lv(e,t,n,"g",r);u.setAttribute("class",zy(e));const s=xv(e);for(const t in s)Wv(u,t,s[t]);a||Wv(u,"pointer-events",o),Wv(u,"clip-path",e.clip?wg(this,e,e.group):null);let l=null,c=0;const f=t=>{const e=this.isDirty(t),n=Lv(t,u,l,i.tag,r);e&&(this._update(i,n,t),a&&function(t,e,n){e=e.lastChild.previousSibling;let r,i=0;pm(n,(n=>{r=t.mark(e,n,r),++i})),Ny(e,1+i)}(this,n,t)),l=n,++c};return i.nested?e.items.length&&f(e.items[0]):pm(e,f),Ny(u,c),u},_update(t,e,n){Uv=e,qv=e.__values__,_v(jv,n),t.attr(jv,n,this);const r=Pv[t.type];r&&r.call(this,t,e,n),Uv&&this.style(Uv,n)},style(t,e){if(null!=e){for(const n in Dv){let r="font"===n?fy(e):e[n];if(r===qv[n])continue;const i=Dv[n];null==r?t.removeAttribute(i):(Ap(r)&&(r=Mp(r,this._defs.gradient,Hv())),t.setAttribute(i,r+"")),qv[n]=r}for(const n in Cv)Iv(t,Cv[n],e[n])}},defs(){const t=this._svg,e=this._defs;let n=e.el,r=0;for(const i in e.gradient)n||(e.el=n=Ty(t,1,"defs",Bv)),r=Ov(n,e.gradient[i],r);for(const i in e.clipping)n||(e.el=n=Ty(t,1,"defs",Bv)),r=Rv(n,e.clipping[i],r);n&&(0===r?(t.removeChild(n),e.el=null):Ny(n,r))},_clearDefs(){const t=this._defs;t.gradient={},t.clipping={}}});let Uv=null,qv=null;const Pv={group(t,e,n){const r=Uv=e.childNodes[2];qv=r.__values__,t.foreground(jv,n,this),qv=e.__values__,Uv=e.childNodes[1],t.content(jv,n,this);const i=Uv=e.childNodes[0];t.background(jv,n,this);const o=!1===n.mark.interactive?"none":null;if(o!==qv.events&&(Wv(r,"pointer-events",o),Wv(i,"pointer-events",o),qv.events=o),n.strokeForeground&&n.stroke){const t=n.fill;Wv(r,"display",null),this.style(i,n),Wv(i,"stroke",null),t&&(n.fill=null),qv=r.__values__,this.style(r,n),t&&(n.fill=t),Uv=null}else Wv(r,"display","none")},image(t,e,n){!1===n.smooth?(Iv(e,"image-rendering","optimizeSpeed"),Iv(e,"image-rendering","pixelated")):Iv(e,"image-rendering",null)},text(t,e,n){const r=sy(n);let i,o,a,u;v(r)?(o=r.map((t=>cy(n,t))),i=o.join("\n"),i!==qv.text&&(Ny(e,0),a=e.ownerDocument,u=uy(n),o.forEach(((t,r)=>{const i=Sy(a,"tspan",Bv);i.__data__=n,i.textContent=t,r&&(i.setAttribute("x",0),i.setAttribute("dy",u)),e.appendChild(i)})),qv.text=i)):(o=cy(n,r),o!==qv.text&&(e.textContent=o,qv.text=o)),Wv(e,"font-family",fy(n)),Wv(e,"font-size",ay(n)+"px"),Wv(e,"font-style",n.fontStyle),Wv(e,"font-variant",n.fontVariant),Wv(e,"font-weight",n.fontWeight)}};function jv(t,e,n){e!==qv[t]&&(n?function(t,e,n,r){null!=n?t.setAttributeNS(r,e,n):t.removeAttributeNS(r,e)}(Uv,t,e,n):Wv(Uv,t,e),qv[t]=e)}function Iv(t,e,n){n!==qv[e]&&(null==n?t.style.removeProperty(e):t.style.setProperty(e,n+""),qv[e]=n)}function $v(t,e){for(const n in e)Wv(t,n,e[n])}function Wv(t,e,n){null!=n?t.setAttribute(e,n):t.removeAttribute(e)}function Hv(){let t;return"undefined"==typeof window?"":(t=window.location).hash?t.href.slice(0,-t.hash.length):t.href}function Yv(t){Uy.call(this,t),this._text=null,this._defs={gradient:{},clipping:{}}}ut(Yv,Uy,{svg(){return this._text},_render(t){const e=Av();e.open("svg",K({},Lm,{class:"marks",width:this._width*this._scale,height:this._height*this._scale,viewBox:"0 0 ".concat(this._width," ").concat(this._height)}));const n=this._bgcolor;return n&&"transparent"!==n&&"none"!==n&&e.open("rect",{width:this._width,height:this._height,fill:n}).close(),e.open("g",Fv,{transform:"translate("+this._origin+")"}),this.mark(e,t),e.close(),this.defs(e),this._text=e.close()+"",this},mark(t,e){const n=xy[e.marktype],r=n.tag,i=[_v,n.attr];t.open("g",{class:zy(e),"clip-path":e.clip?wg(this,e,e.group):null},xv(e),{"pointer-events":"g"!==r&&!1===e.interactive?"none":null});const o=o=>{const a=this.href(o);if(a&&t.open("a",a),t.open(r,this.attr(e,o,i,"g"!==r?r:null)),"text"===r){const e=sy(o);if(v(e)){const n={x:0,dy:uy(o)};for(let r=0;r<e.length;++r)t.open("tspan",r?n:null).text(cy(o,e[r])).close()}else t.text(cy(o,e))}else if("g"===r){const r=o.strokeForeground,i=o.fill,a=o.stroke;r&&a&&(o.stroke=null),t.open("path",this.attr(e,o,n.background,"bgrect")).close(),t.open("g",this.attr(e,o,n.content)),pm(o,(e=>this.mark(t,e))),t.close(),r&&a?(i&&(o.fill=null),o.stroke=a,t.open("path",this.attr(e,o,n.foreground,"bgrect")).close(),i&&(o.fill=i)):t.open("path",this.attr(e,o,n.foreground,"bgfore")).close()}t.close(),a&&t.close()};return n.nested?e.items&&e.items.length&&o(e.items[0]):pm(e,o),t.close()},href(t){const e=t.href;let n;if(e){if(n=this._hrefs&&this._hrefs[e])return n;this.sanitizeURL(e).then((t=>{t["xlink:href"]=t.href,t.href=null,(this._hrefs||(this._hrefs={}))[e]=t}))}return null},attr(t,e,n,r){const i={},o=(t,e,n,r)=>{i[r||t]=e};return Array.isArray(n)?n.forEach((t=>t(o,e,this))):n(o,e,this),r&&function(t,e,n,r,i){let o;if(null==e)return t;"bgrect"===r&&!1===n.interactive&&(t["pointer-events"]="none");if("bgfore"===r&&(!1===n.interactive&&(t["pointer-events"]="none"),t.display="none",null!==e.fill))return t;"image"===r&&!1===e.smooth&&(o=["image-rendering: optimizeSpeed;","image-rendering: pixelated;"]);"text"===r&&(t["font-family"]=fy(e),t["font-size"]=ay(e)+"px",t["font-style"]=e.fontStyle,t["font-variant"]=e.fontVariant,t["font-weight"]=e.fontWeight);for(const n in Dv){let r=e[n];const o=Dv[n];("transparent"!==r||"fill"!==o&&"stroke"!==o)&&null!=r&&(Ap(r)&&(r=Mp(r,i.gradient,"")),t[o]=r)}for(const t in Cv){const n=e[t];null!=n&&(o=o||[],o.push("".concat(Cv[t],": ").concat(n,";")))}o&&(t.style=o.join(" "))}(i,e,t,r,this._defs),i},defs(t){const e=this._defs.gradient,n=this._defs.clipping;if(0!==Object.keys(e).length+Object.keys(n).length){t.open("defs");for(const n in e){const r=e[n],i=r.stops;"radial"===r.gradient?(t.open("pattern",{id:kp+n,viewBox:"0,0,1,1",width:"100%",height:"100%",preserveAspectRatio:"xMidYMid slice"}),t.open("rect",{width:"1",height:"1",fill:"url(#"+n+")"}).close(),t.close(),t.open("radialGradient",{id:n,fx:r.x1,fy:r.y1,fr:r.r1,cx:r.x2,cy:r.y2,r:r.r2})):t.open("linearGradient",{id:n,x1:r.x1,x2:r.x2,y1:r.y1,y2:r.y2});for(let e=0;e<i.length;++e)t.open("stop",{offset:i[e].offset,"stop-color":i[e].color}).close();t.close()}for(const e in n){const r=n[e];t.open("clipPath",{id:e}),r.path?t.open("path",{d:r.path}).close():t.open("rect",{x:0,y:0,width:r.width,height:r.height}).close(),t.close()}t.close()}}});const Gv="canvas",Vv="none",Xv={Canvas:Gv,PNG:"png",SVG:"svg",None:Vv},Jv={};function Zv(t,e){return t=String(t||"").toLowerCase(),arguments.length>1?(Jv[t]=e,this):Jv[t]}function Qv(t,e,n){const r=[],i=(new kg).union(e),o=t.marktype;return o?Kv(t,i,n,r):"group"===o?t_(t,i,n,r):u("Intersect scene must be mark node or group item.")}function Kv(t,e,n,r){if(function(t,e,n){return t.bounds&&e.intersects(t.bounds)&&("group"===t.marktype||!1!==t.interactive&&(!n||n(t)))}(t,e,n)){const i=t.items,o=t.marktype,a=i.length;let u=0;if("group"===o)for(;u<a;++u)t_(i[u],e,n,r);else for(const t=xy[o].isect;u<a;++u){const n=i[u];e_(n,e,t)&&r.push(n)}}return r}function t_(t,e,n,r){n&&n(t.mark)&&e_(t,e,xy.group.isect)&&r.push(t);const i=t.items,o=i&&i.length;if(o){const a=t.x||0,u=t.y||0;e.translate(-a,-u);for(let t=0;t<o;++t)Kv(i[t],e,n,r);e.translate(a,u)}return r}function e_(t,e,n){const r=t.bounds;return e.encloses(r)||e.intersects(r)&&n(t,e)}Jv.canvas=Jv.png={renderer:ov,headless:ov,handler:tv},Jv.svg={renderer:Tv,headless:Yv,handler:uv},Jv.none={};const n_=new kg;function r_(t){const e=t.clip;if(H(e))e(Gg(n_.clear()));else{if(!e)return;n_.set(0,0,t.group.width,t.group.height)}t.bounds.intersect(n_)}function i_(t,e,n){return t===e||("path"===n?o_(t,e):t instanceof Date&&e instanceof Date?+t==+e:ht(t)&&ht(e)?Math.abs(t-e)<=1e-9:t&&e&&(_(t)||_(e))?function(t,e){var n,r,i=Object.keys(t),o=Object.keys(e);if(i.length!==o.length)return!1;for(i.sort(),o.sort(),r=i.length-1;r>=0;r--)if(i[r]!=o[r])return!1;for(r=i.length-1;r>=0;r--)if(!i_(t[n=i[r]],e[n],n))return!1;return typeof t==typeof e}(t,e):t==e)}function o_(t,e){return i_(Op(t),Op(e))}const a_="top",u_="left",s_="right",l_="bottom",c_="start",f_="middle",h_="end",d_="group",p_="axis",g_="title",m_="frame",y_="scope",v_="legend",__="row-header",x_="row-footer",b_="row-title",w_="column-header",k_="column-footer",A_="column-title",M_="padding",E_="fit",D_="fit-x",C_="fit-y",F_="none",S_="all",B_="each",T_="flush",N_="column",z_="row";function O_(t){$a.call(this,null,t)}function R_(t,e,n){return e(t.bounds.clear(),t,n)}ut(O_,$a,{transform(t,e){const n=e.dataflow,r=t.mark,i=r.marktype,o=xy[i],a=o.bound;let u,s=r.bounds;if(o.nested)r.items.length&&n.dirty(r.items[0]),s=R_(r,a),r.items.forEach((t=>{t.bounds.clear().union(s)}));else if(i===d_||t.modified())switch(e.visit(e.MOD,(t=>n.dirty(t))),s.clear(),r.items.forEach((t=>s.union(R_(t,a)))),r.role){case p_:case v_:case g_:e.reflow()}else u=e.changed(e.REM),e.visit(e.ADD,(t=>{s.union(R_(t,a))})),e.visit(e.MOD,(t=>{u=u||s.alignsWith(t.bounds),n.dirty(t),s.union(R_(t,a))})),u&&(s.clear(),r.items.forEach((t=>s.union(t.bounds))));return r_(r),e.modifies("bounds")}});const L_=":vega_identifier:";function U_(t){$a.call(this,0,t)}function q_(t){$a.call(this,null,t)}function P_(t){$a.call(this,null,t)}U_.Definition={type:"Identifier",metadata:{modifies:!0},params:[{name:"as",type:"string",required:!0}]},ut(U_,$a,{transform(t,e){const n=(i=e.dataflow)._signals[L_]||(i._signals[L_]=i.add(0)),r=t.as;var i;let o=n.value;return e.visit(e.ADD,(t=>t[r]=t[r]||++o)),n.set(this.value=o),e}}),ut(q_,$a,{transform(t,e){let n=this.value;n||(n=e.dataflow.scenegraph().mark(t.markdef,function(t){const e=t.groups,n=t.parent;return e&&1===e.size?e.get(Object.keys(e.object)[0]):e&&n?e.lookup(n):null}(t),t.index),n.group.context=t.context,t.context.group||(t.context.group=n.group),n.source=this.source,n.clip=t.clip,n.interactive=t.interactive,this.value=n);const r=n.marktype===d_?Mg:Ag;return e.visit(e.ADD,(t=>r.call(t,n))),(t.modified("clip")||t.modified("interactive"))&&(n.clip=t.clip,n.interactive=!!t.interactive,n.zdirty=!0,e.reflow()),n.items=e.source,e}});const j_={parity:t=>t.filter(((t,e)=>e%2?t.opacity=0:1)),greedy:(t,e)=>{let n;return t.filter(((t,r)=>r&&I_(n.bounds,t.bounds,e)?t.opacity=0:(n=t,1)))}},I_=(t,e,n)=>n>Math.max(e.x1-t.x2,t.x1-e.x2,e.y1-t.y2,t.y1-e.y2),$_=(t,e)=>{for(var n,r=1,i=t.length,o=t[0].bounds;r<i;o=n,++r)if(I_(o,n=t[r].bounds,e))return!0},W_=t=>{const e=t.bounds;return e.width()>1&&e.height()>1},H_=t=>(t.forEach((t=>t.opacity=1)),t),Y_=(t,e)=>t.reflow(e.modified()).modifies("opacity");function G_(t){$a.call(this,null,t)}ut(P_,$a,{transform(t,e){const n=j_[t.method]||j_.parity,r=t.separation||0;let i,o,a=e.materialize(e.SOURCE).source;if(!a||!a.length)return;if(!t.method)return t.modified("method")&&(H_(a),e=Y_(e,t)),e;if(a=a.filter(W_),!a.length)return;if(t.sort&&(a=a.slice().sort(t.sort)),i=H_(a),e=Y_(e,t),i.length>=3&&$_(i,r)){do{i=n(i,r)}while(i.length>=3&&$_(i,r));i.length<3&&!A(a).opacity&&(i.length>1&&(A(i).opacity=0),A(a).opacity=1)}t.boundScale&&t.boundTolerance>=0&&(o=((t,e,n)=>{var r=t.range(),i=new kg;return e===a_||e===l_?i.set(r[0],-1/0,r[1],1/0):i.set(-1/0,r[0],1/0,r[1]),i.expand(n||1),t=>i.encloses(t.bounds)})(t.boundScale,t.boundOrient,+t.boundTolerance),a.forEach((t=>{o(t)||(t.opacity=0)})));const u=i[0].mark.bounds.clear();return a.forEach((t=>{t.opacity&&u.union(t.bounds)})),e}}),ut(G_,$a,{transform(t,e){const n=e.dataflow;if(e.visit(e.ALL,(t=>n.dirty(t))),e.fields&&e.fields.zindex){const t=e.source&&e.source[0];t&&(t.mark.zdirty=!0)}}});const V_=new kg;function X_(t,e,n){return t[e]===n?0:(t[e]=n,1)}function J_(t){var e=t.items[0].orient;return e===u_||e===s_}function Z_(t,e,n,r){var i,o,a=e.items[0],u=a.datum,s=null!=a.translate?a.translate:.5,l=a.orient,c=function(t){let e=+t.grid;return[t.ticks?e++:-1,t.labels?e++:-1,e+ +t.domain]}(u),f=a.range,h=a.offset,d=a.position,p=a.minExtent,g=a.maxExtent,m=u.title&&a.items[c[2]].items[0],y=a.titlePadding,v=a.bounds,_=m&&ly(m),x=0,b=0;switch(V_.clear().union(v),v.clear(),(i=c[0])>-1&&v.union(a.items[i].bounds),(i=c[1])>-1&&v.union(a.items[i].bounds),l){case a_:x=d||0,b=-h,o=Math.max(p,Math.min(g,-v.y1)),v.add(0,-o).add(f,0),m&&Q_(t,m,o,y,_,0,-1,v);break;case u_:x=-h,b=d||0,o=Math.max(p,Math.min(g,-v.x1)),v.add(-o,0).add(0,f),m&&Q_(t,m,o,y,_,1,-1,v);break;case s_:x=n+h,b=d||0,o=Math.max(p,Math.min(g,v.x2)),v.add(0,0).add(o,f),m&&Q_(t,m,o,y,_,1,1,v);break;case l_:x=d||0,b=r+h,o=Math.max(p,Math.min(g,v.y2)),v.add(0,0).add(f,o),m&&Q_(t,m,o,y,0,0,1,v);break;default:x=a.x,b=a.y}return Fg(v.translate(x,b),a),X_(a,"x",x+s)|X_(a,"y",b+s)&&(a.bounds=V_,t.dirty(a),a.bounds=v,t.dirty(a)),a.mark.bounds.clear().union(v)}function Q_(t,e,n,r,i,o,a,u){const s=e.bounds;if(e.auto){const u=a*(n+i+r);let l=0,c=0;t.dirty(e),o?l=(e.x||0)-(e.x=u):c=(e.y||0)-(e.y=u),e.mark.bounds.clear().union(s.translate(-l,-c)),t.dirty(e)}u.union(s)}const K_=(t,e)=>Math.floor(Math.min(t,e)),tx=(t,e)=>Math.ceil(Math.max(t,e));function ex(t){return(new kg).set(0,0,t.width||0,t.height||0)}function nx(t){const e=t.bounds.clone();return e.empty()?e.set(0,0,0,0):e.translate(-(t.x||0),-(t.y||0))}function rx(t,e,n){const r=_(t)?t[e]:t;return null!=r?r:void 0!==n?n:0}function ix(t){return t<0?Math.ceil(-t):0}function ox(t,e,n){var r,i,o,a,u,s,l,c,f,h,d,p=!n.nodirty,g=n.bounds===T_?ex:nx,m=V_.set(0,0,0,0),y=rx(n.align,N_),v=rx(n.align,z_),_=rx(n.padding,N_),x=rx(n.padding,z_),b=n.columns||e.length,w=b<=0?1:Math.ceil(e.length/b),k=e.length,A=Array(k),M=Array(b),E=0,D=Array(k),C=Array(w),F=0,S=Array(k),B=Array(k),T=Array(k);for(i=0;i<b;++i)M[i]=0;for(i=0;i<w;++i)C[i]=0;for(i=0;i<k;++i)s=e[i],u=T[i]=g(s),s.x=s.x||0,S[i]=0,s.y=s.y||0,B[i]=0,o=i%b,a=~~(i/b),E=Math.max(E,l=Math.ceil(u.x2)),F=Math.max(F,c=Math.ceil(u.y2)),M[o]=Math.max(M[o],l),C[a]=Math.max(C[a],c),A[i]=_+ix(u.x1),D[i]=x+ix(u.y1),p&&t.dirty(e[i]);for(i=0;i<k;++i)i%b==0&&(A[i]=0),i<b&&(D[i]=0);if(y===B_)for(o=1;o<b;++o){for(d=0,i=o;i<k;i+=b)d<A[i]&&(d=A[i]);for(i=o;i<k;i+=b)A[i]=d+M[o-1]}else if(y===S_){for(d=0,i=0;i<k;++i)i%b&&d<A[i]&&(d=A[i]);for(i=0;i<k;++i)i%b&&(A[i]=d+E)}else for(y=!1,o=1;o<b;++o)for(i=o;i<k;i+=b)A[i]+=M[o-1];if(v===B_)for(a=1;a<w;++a){for(d=0,r=(i=a*b)+b;i<r;++i)d<D[i]&&(d=D[i]);for(i=a*b;i<r;++i)D[i]=d+C[a-1]}else if(v===S_){for(d=0,i=b;i<k;++i)d<D[i]&&(d=D[i]);for(i=b;i<k;++i)D[i]=d+F}else for(v=!1,a=1;a<w;++a)for(r=(i=a*b)+b;i<r;++i)D[i]+=C[a-1];for(f=0,i=0;i<k;++i)f=A[i]+(i%b?f:0),S[i]+=f-e[i].x;for(o=0;o<b;++o)for(h=0,i=o;i<k;i+=b)h+=D[i],B[i]+=h-e[i].y;if(y&&rx(n.center,N_)&&w>1)for(i=0;i<k;++i)(f=(u=y===S_?E:M[i%b])-T[i].x2-e[i].x-S[i])>0&&(S[i]+=f/2);if(v&&rx(n.center,z_)&&1!==b)for(i=0;i<k;++i)(h=(u=v===S_?F:C[~~(i/b)])-T[i].y2-e[i].y-B[i])>0&&(B[i]+=h/2);for(i=0;i<k;++i)m.union(T[i].translate(S[i],B[i]));switch(f=rx(n.anchor,"x"),h=rx(n.anchor,"y"),rx(n.anchor,N_)){case h_:f-=m.width();break;case f_:f-=m.width()/2}switch(rx(n.anchor,z_)){case h_:h-=m.height();break;case f_:h-=m.height()/2}for(f=Math.round(f),h=Math.round(h),m.clear(),i=0;i<k;++i)e[i].mark.bounds.clear();for(i=0;i<k;++i)(s=e[i]).x+=S[i]+=f,s.y+=B[i]+=h,m.union(s.mark.bounds.union(s.bounds.translate(S[i],B[i]))),p&&t.dirty(s);return m}function ax(t,e,n){var r,i,o,a,u,s,l,c=function(t){var e,n,r=t.items,i=r.length,o=0;const a={marks:[],rowheaders:[],rowfooters:[],colheaders:[],colfooters:[],rowtitle:null,coltitle:null};for(;o<i;++o)if(n=(e=r[o]).items,e.marktype===d_)switch(e.role){case p_:case v_:case g_:break;case __:a.rowheaders.push(...n);break;case x_:a.rowfooters.push(...n);break;case w_:a.colheaders.push(...n);break;case k_:a.colfooters.push(...n);break;case b_:a.rowtitle=n[0];break;case A_:a.coltitle=n[0];break;default:a.marks.push(...n)}return a}(e),f=c.marks,h=n.bounds===T_?ux:sx,d=n.offset,p=n.columns||f.length,g=p<=0?1:Math.ceil(f.length/p),m=g*p;const y=ox(t,f,n);y.empty()&&y.set(0,0,0,0),c.rowheaders&&(s=rx(n.headerBand,z_,null),r=lx(t,c.rowheaders,f,p,g,-rx(d,"rowHeader"),K_,0,h,"x1",0,p,1,s)),c.colheaders&&(s=rx(n.headerBand,N_,null),i=lx(t,c.colheaders,f,p,p,-rx(d,"columnHeader"),K_,1,h,"y1",0,1,p,s)),c.rowfooters&&(s=rx(n.footerBand,z_,null),o=lx(t,c.rowfooters,f,p,g,rx(d,"rowFooter"),tx,0,h,"x2",p-1,p,1,s)),c.colfooters&&(s=rx(n.footerBand,N_,null),a=lx(t,c.colfooters,f,p,p,rx(d,"columnFooter"),tx,1,h,"y2",m-p,1,p,s)),c.rowtitle&&(u=rx(n.titleAnchor,z_),l=rx(d,"rowTitle"),l=u===h_?o+l:r-l,s=rx(n.titleBand,z_,.5),cx(t,c.rowtitle,l,0,y,s)),c.coltitle&&(u=rx(n.titleAnchor,N_),l=rx(d,"columnTitle"),l=u===h_?a+l:i-l,s=rx(n.titleBand,N_,.5),cx(t,c.coltitle,l,1,y,s))}function ux(t,e){return"x1"===e?t.x||0:"y1"===e?t.y||0:"x2"===e?(t.x||0)+(t.width||0):"y2"===e?(t.y||0)+(t.height||0):void 0}function sx(t,e){return t.bounds[e]}function lx(t,e,n,r,i,o,a,u,s,l,c,f,h,d){var p,g,m,y,v,_,x,b,w,k=n.length,A=0,M=0;if(!k)return A;for(p=c;p<k;p+=f)n[p]&&(A=a(A,s(n[p],l)));if(!e.length)return A;for(e.length>i&&(t.warn("Grid headers exceed limit: "+i),e=e.slice(0,i)),A+=o,g=0,y=e.length;g<y;++g)t.dirty(e[g]),e[g].mark.bounds.clear();for(p=c,g=0,y=e.length;g<y;++g,p+=f){for(v=(_=e[g]).mark.bounds,m=p;m>=0&&null==(x=n[m]);m-=h);u?(b=null==d?x.x:Math.round(x.bounds.x1+d*x.bounds.width()),w=A):(b=A,w=null==d?x.y:Math.round(x.bounds.y1+d*x.bounds.height())),v.union(_.bounds.translate(b-(_.x||0),w-(_.y||0))),_.x=b,_.y=w,t.dirty(_),M=a(M,v[l])}return M}function cx(t,e,n,r,i,o){if(e){t.dirty(e);var a=n,u=n;r?a=Math.round(i.x1+o*i.width()):u=Math.round(i.y1+o*i.height()),e.bounds.translate(a-(e.x||0),u-(e.y||0)),e.mark.bounds.clear().union(e.bounds),e.x=a,e.y=u,t.dirty(e)}}function fx(t,e,n,r,i,o,a){const u=function(t,e){const n=t[e]||{};return(e,r)=>null!=n[e]?n[e]:null!=t[e]?t[e]:r}(n,e),s=function(t,e){let n=-1/0;return t.forEach((t=>{null!=t.offset&&(n=Math.max(n,t.offset))})),n>-1/0?n:e}(t,u("offset",0)),l=u("anchor",c_),c=l===h_?1:l===f_?.5:0,f={align:B_,bounds:u("bounds",T_),columns:"vertical"===u("direction")?1:t.length,padding:u("margin",8),center:u("center"),nodirty:!0};switch(e){case u_:f.anchor={x:Math.floor(r.x1)-s,column:h_,y:c*(a||r.height()+2*r.y1),row:l};break;case s_:f.anchor={x:Math.ceil(r.x2)+s,y:c*(a||r.height()+2*r.y1),row:l};break;case a_:f.anchor={y:Math.floor(i.y1)-s,row:h_,x:c*(o||i.width()+2*i.x1),column:l};break;case l_:f.anchor={y:Math.ceil(i.y2)+s,x:c*(o||i.width()+2*i.x1),column:l};break;case"top-left":f.anchor={x:s,y:s};break;case"top-right":f.anchor={x:o-s,y:s,column:h_};break;case"bottom-left":f.anchor={x:s,y:a-s,row:h_};break;case"bottom-right":f.anchor={x:o-s,y:a-s,column:h_,row:h_}}return f}function hx(t,e){var n,r,i=e.items[0],o=i.datum,a=i.orient,u=i.bounds,s=i.x,l=i.y;return i._bounds?i._bounds.clear().union(u):i._bounds=u.clone(),u.clear(),function(t,e,n){var r=e.padding,i=r-n.x,o=r-n.y;if(e.datum.title){var a=e.items[1].items[0],u=a.anchor,s=e.titlePadding||0,l=r-a.x,c=r-a.y;switch(a.orient){case u_:i+=Math.ceil(a.bounds.width())+s;break;case s_:case l_:break;default:o+=a.bounds.height()+s}switch((i||o)&&px(t,n,i,o),a.orient){case u_:c+=dx(e,n,a,u,1,1);break;case s_:l+=dx(e,n,a,h_,0,0)+s,c+=dx(e,n,a,u,1,1);break;case l_:l+=dx(e,n,a,u,0,0),c+=dx(e,n,a,h_,-1,0,1)+s;break;default:l+=dx(e,n,a,u,0,0)}(l||c)&&px(t,a,l,c),(l=Math.round(a.bounds.x1-r))<0&&(px(t,n,-l,0),px(t,a,-l,0))}else(i||o)&&px(t,n,i,o)}(t,i,i.items[0].items[0]),u=function(t,e){return t.items.forEach((t=>e.union(t.bounds))),e.x1=t.padding,e.y1=t.padding,e}(i,u),n=2*i.padding,r=2*i.padding,u.empty()||(n=Math.ceil(u.width()+n),r=Math.ceil(u.height()+r)),"symbol"===o.type&&function(t){const e=t.reduce(((t,e)=>(t[e.column]=Math.max(e.bounds.x2-e.x,t[e.column]||0),t)),{});t.forEach((t=>{t.width=e[t.column],t.height=t.bounds.y2-t.y}))}(i.items[0].items[0].items[0].items),a!==F_&&(i.x=s=0,i.y=l=0),i.width=n,i.height=r,Fg(u.set(s,l,s+n,l+r),i),i.mark.bounds.clear().union(u),i}function dx(t,e,n,r,i,o,a){const u="symbol"!==t.datum.type,s=n.datum.vgrad,l=(!u||!o&&s||a?e:e.items[0]).bounds[i?"y2":"x2"]-t.padding,c=s&&o?l:0,f=s&&o?0:l,h=i<=0?0:ly(n);return Math.round(r===c_?c:r===h_?f-h:.5*(l-h))}function px(t,e,n,r){e.x+=n,e.y+=r,e.bounds.translate(n,r),e.mark.bounds.translate(n,r),t.dirty(e)}function gx(t){$a.call(this,null,t)}ut(gx,$a,{transform(t,e){const n=e.dataflow;return t.mark.items.forEach((e=>{t.layout&&ax(n,e,t.layout),function(t,e,n){var r,i,o,a,u,s=e.items,l=Math.max(0,e.width||0),c=Math.max(0,e.height||0),f=(new kg).set(0,0,l,c),h=f.clone(),d=f.clone(),p=[];for(a=0,u=s.length;a<u;++a)switch((i=s[a]).role){case p_:(J_(i)?h:d).union(Z_(t,i,l,c));break;case g_:r=i;break;case v_:p.push(hx(t,i));break;case m_:case y_:case __:case x_:case b_:case w_:case k_:case A_:h.union(i.bounds),d.union(i.bounds);break;default:f.union(i.bounds)}if(p.length){const e={};p.forEach((t=>{(o=t.orient||s_)!==F_&&(e[o]||(e[o]=[])).push(t)}));for(const r in e){const i=e[r];ox(t,i,fx(i,r,n.legends,h,d,l,c))}p.forEach((e=>{const r=e.bounds;if(r.equals(e._bounds)||(e.bounds=e._bounds,t.dirty(e),e.bounds=r,t.dirty(e)),n.autosize&&n.autosize.type===E_)switch(e.orient){case u_:case s_:f.add(r.x1,0).add(r.x2,0);break;case a_:case l_:f.add(0,r.y1).add(0,r.y2)}else f.union(r)}))}f.union(h).union(d),r&&f.union(function(t,e,n,r,i){var o,a=e.items[0],u=a.frame,s=a.orient,l=a.anchor,c=a.offset,f=a.padding,h=a.items[0].items[0],d=a.items[1]&&a.items[1].items[0],p=s===u_||s===s_?r:n,g=0,m=0,y=0,v=0,_=0;if(u!==d_?s===u_?(g=i.y2,p=i.y1):s===s_?(g=i.y1,p=i.y2):(g=i.x1,p=i.x2):s===u_&&(g=r,p=0),o=l===c_?g:l===h_?p:(g+p)/2,d&&d.text){switch(s){case a_:case l_:_=h.bounds.height()+f;break;case u_:v=h.bounds.width()+f;break;case s_:v=-h.bounds.width()-f}V_.clear().union(d.bounds),V_.translate(v-(d.x||0),_-(d.y||0)),X_(d,"x",v)|X_(d,"y",_)&&(t.dirty(d),d.bounds.clear().union(V_),d.mark.bounds.clear().union(V_),t.dirty(d)),V_.clear().union(d.bounds)}else V_.clear();switch(V_.union(h.bounds),s){case a_:m=o,y=i.y1-V_.height()-c;break;case u_:m=i.x1-V_.width()-c,y=o;break;case s_:m=i.x2+V_.width()+c,y=o;break;case l_:m=o,y=i.y2+c;break;default:m=a.x,y=a.y}return X_(a,"x",m)|X_(a,"y",y)&&(V_.translate(m,y),t.dirty(a),a.bounds.clear().union(V_),e.bounds.clear().union(V_),t.dirty(a)),a.bounds}(t,r,l,c,f));e.clip&&f.set(0,0,e.width||0,e.height||0);!function(t,e,n,r){const i=r.autosize||{},o=i.type;if(t._autosize<1||!o)return;let a=t._width,u=t._height,s=Math.max(0,e.width||0),l=Math.max(0,Math.ceil(-n.x1)),c=Math.max(0,e.height||0),f=Math.max(0,Math.ceil(-n.y1));const h=Math.max(0,Math.ceil(n.x2-s)),d=Math.max(0,Math.ceil(n.y2-c));if(i.contains===M_){const e=t.padding();a-=e.left+e.right,u-=e.top+e.bottom}o===F_?(l=0,f=0,s=a,c=u):o===E_?(s=Math.max(0,a-l-h),c=Math.max(0,u-f-d)):o===D_?(s=Math.max(0,a-l-h),u=c+f+d):o===C_?(a=s+l+h,c=Math.max(0,u-f-d)):"pad"===o&&(a=s+l+h,u=c+f+d);t._resizeView(a,u,s,c,[l,f],i.resize)}(t,e,f,n)}(n,e,t)})),function(t){return t&&"legend-entry"!==t.mark.role}(t.mark.group)?e.reflow():e}});var mx=Object.freeze({__proto__:null,bound:O_,identifier:U_,mark:q_,overlap:P_,render:G_,viewlayout:gx});function yx(t){$a.call(this,null,t)}function vx(t){$a.call(this,null,t)}function _x(){return ha({})}function xx(t){$a.call(this,null,t)}function bx(t){$a.call(this,[],t)}ut(yx,$a,{transform(t,e){if(this.value&&!t.modified())return e.StopPropagation;var n=e.dataflow.locale(),r=e.fork(e.NO_SOURCE|e.NO_FIELDS),i=this.value,o=t.scale,a=ap(o,null==t.count?t.values?t.values.length:10:t.count,t.minstep),u=t.format||lp(n,o,a,t.formatSpecifier,t.formatType,!!t.values),s=t.values?up(o,t.values,a):sp(o,a);return i&&(r.rem=i),i=s.map(((t,e)=>ha({index:e/(s.length-1||1),value:t,label:u(t)}))),t.extra&&i.length&&i.push(ha({index:-1,extra:{value:i[0].value},label:""})),r.source=i,r.add=i,this.value=i,r}}),ut(vx,$a,{transform(t,e){var n=e.dataflow,r=e.fork(e.NO_SOURCE|e.NO_FIELDS),i=t.item||_x,o=t.key||ca,a=this.value;return v(r.encode)&&(r.encode=null),a&&(t.modified("key")||e.modified(o))&&u("DataJoin does not support modified key function or fields."),a||(e=e.addAll(),this.value=a=function(t){const e=ot().test((t=>t.exit));return e.lookup=n=>e.get(t(n)),e}(o)),e.visit(e.ADD,(t=>{const e=o(t);let n=a.get(e);n?n.exit?(a.empty--,r.add.push(n)):r.mod.push(n):(n=i(t),a.set(e,n),r.add.push(n)),n.datum=t,n.exit=!1})),e.visit(e.MOD,(t=>{const e=o(t),n=a.get(e);n&&(n.datum=t,r.mod.push(n))})),e.visit(e.REM,(t=>{const e=o(t),n=a.get(e);t!==n.datum||n.exit||(r.rem.push(n),n.exit=!0,++a.empty)})),e.changed(e.ADD_MOD)&&r.modifies("datum"),(e.clean()||t.clean&&a.empty>n.cleanThreshold)&&n.runAfter(a.clean),r}}),ut(xx,$a,{transform(t,e){var n=e.fork(e.ADD_REM),r=t.mod||!1,i=t.encoders,o=e.encode;if(v(o)){if(!n.changed()&&!o.every((t=>i[t])))return e.StopPropagation;o=o[0],n.encode=null}var a="enter"===o,u=i.update||g,s=i.enter||g,l=i.exit||g,c=(o&&!a?i[o]:u)||g;if(e.changed(e.ADD)&&(e.visit(e.ADD,(e=>{s(e,t),u(e,t)})),n.modifies(s.output),n.modifies(u.output),c!==g&&c!==u&&(e.visit(e.ADD,(e=>{c(e,t)})),n.modifies(c.output))),e.changed(e.REM)&&l!==g&&(e.visit(e.REM,(e=>{l(e,t)})),n.modifies(l.output)),a||c!==g){const i=e.MOD|(t.modified()?e.REFLOW:0);a?(e.visit(i,(e=>{const i=s(e,t)||r;(c(e,t)||i)&&n.mod.push(e)})),n.mod.length&&n.modifies(s.output)):e.visit(i,(e=>{(c(e,t)||r)&&n.mod.push(e)})),n.mod.length&&n.modifies(c.output)}return n.changed()?n:e.StopPropagation}}),ut(bx,$a,{transform(t,e){if(null!=this.value&&!t.modified())return e.StopPropagation;var n,r,i,o,a,u=e.dataflow.locale(),s=e.fork(e.NO_SOURCE|e.NO_FIELDS),l=this.value,c=t.type||np,f=t.scale,h=+t.limit,d=ap(f,null==t.count?5:t.count,t.minstep),p=!!t.values||c===np,g=t.format||pp(u,f,d,c,t.formatSpecifier,t.formatType,p),m=t.values||dp(f,d);return l&&(s.rem=l),c===np?(h&&m.length>h?(e.dataflow.warn("Symbol legend count exceeds limit, filtering items."),l=m.slice(0,h-1),a=!0):l=m,H(i=t.size)?(t.values||0!==f(l[0])||(l=l.slice(1)),o=l.reduce(((e,n)=>Math.max(e,i(n,t))),0)):i=Z(o=i||8),l=l.map(((e,n)=>ha({index:n,label:g(e,n,l),value:e,offset:o,size:i(e,t)}))),a&&(a=m[l.length],l.push(ha({index:l.length,label:"".concat(m.length-l.length," entries"),value:a,offset:o,size:i(a,t)})))):"gradient"===c?(n=f.domain(),r=Jd(f,n[0],A(n)),m.length<3&&!t.values&&n[0]!==A(n)&&(m=[n[0],A(n)]),l=m.map(((t,e)=>ha({index:e,label:g(t,e,m),value:t,perc:r(t)})))):(i=m.length-1,r=function(t){const e=t.domain(),n=e.length-1;let r=+e[0],i=+A(e),o=i-r;if(t.type===xd){const t=n?o/n:.1;r-=t,i+=t,o=i-r}return t=>(t-r)/o}(f),l=m.map(((t,e)=>ha({index:e,label:g(t,e,m),value:t,perc:e?r(t):0,perc2:e===i?1:r(m[e+1])})))),s.source=l,s.add=l,this.value=l,s}});const wx=t=>t.source.x,kx=t=>t.source.y,Ax=t=>t.target.x,Mx=t=>t.target.y;function Ex(t){$a.call(this,{},t)}Ex.Definition={type:"LinkPath",metadata:{modifies:!0},params:[{name:"sourceX",type:"field",default:"source.x"},{name:"sourceY",type:"field",default:"source.y"},{name:"targetX",type:"field",default:"target.x"},{name:"targetY",type:"field",default:"target.y"},{name:"orient",type:"enum",default:"vertical",values:["horizontal","vertical","radial"]},{name:"shape",type:"enum",default:"line",values:["line","arc","curve","diagonal","orthogonal"]},{name:"require",type:"signal"},{name:"as",type:"string",default:"path"}]},ut(Ex,$a,{transform(t,e){var n=t.sourceX||wx,r=t.sourceY||kx,i=t.targetX||Ax,o=t.targetY||Mx,a=t.as||"path",s=t.orient||"vertical",l=t.shape||"line",c=Sx.get(l+"-"+s)||Sx.get(l);return c||u("LinkPath unsupported type: "+t.shape+(t.orient?"-"+t.orient:"")),e.visit(e.SOURCE,(t=>{t[a]=c(n(t),r(t),i(t),o(t))})),e.reflow(t.modified()).modifies(a)}});const Dx=(t,e,n,r)=>"M"+t+","+e+"L"+n+","+r,Cx=(t,e,n,r)=>{var i=n-t,o=r-e,a=Math.sqrt(i*i+o*o)/2;return"M"+t+","+e+"A"+a+","+a+" "+180*Math.atan2(o,i)/Math.PI+" 0 1 "+n+","+r},Fx=(t,e,n,r)=>{const i=n-t,o=r-e,a=.2*(i+o),u=.2*(o-i);return"M"+t+","+e+"C"+(t+a)+","+(e+u)+" "+(n+u)+","+(r-a)+" "+n+","+r},Sx=ot({line:Dx,"line-radial":(t,e,n,r)=>Dx(e*Math.cos(t),e*Math.sin(t),r*Math.cos(n),r*Math.sin(n)),arc:Cx,"arc-radial":(t,e,n,r)=>Cx(e*Math.cos(t),e*Math.sin(t),r*Math.cos(n),r*Math.sin(n)),curve:Fx,"curve-radial":(t,e,n,r)=>Fx(e*Math.cos(t),e*Math.sin(t),r*Math.cos(n),r*Math.sin(n)),"orthogonal-horizontal":(t,e,n,r)=>"M"+t+","+e+"V"+r+"H"+n,"orthogonal-vertical":(t,e,n,r)=>"M"+t+","+e+"H"+n+"V"+r,"orthogonal-radial":(t,e,n,r)=>{const i=Math.cos(t),o=Math.sin(t),a=Math.cos(n),u=Math.sin(n);return"M"+e*i+","+e*o+"A"+e+","+e+" 0 0,"+((Math.abs(n-t)>Math.PI?n<=t:n>t)?1:0)+" "+e*a+","+e*u+"L"+r*a+","+r*u},"diagonal-horizontal":(t,e,n,r)=>{const i=(t+n)/2;return"M"+t+","+e+"C"+i+","+e+" "+i+","+r+" "+n+","+r},"diagonal-vertical":(t,e,n,r)=>{const i=(e+r)/2;return"M"+t+","+e+"C"+t+","+i+" "+n+","+i+" "+n+","+r},"diagonal-radial":(t,e,n,r)=>{const i=Math.cos(t),o=Math.sin(t),a=Math.cos(n),u=Math.sin(n),s=(e+r)/2;return"M"+e*i+","+e*o+"C"+s*i+","+s*o+" "+s*a+","+s*u+" "+r*a+","+r*u}});function Bx(t){$a.call(this,null,t)}Bx.Definition={type:"Pie",metadata:{modifies:!0},params:[{name:"field",type:"field"},{name:"startAngle",type:"number",default:0},{name:"endAngle",type:"number",default:6.283185307179586},{name:"sort",type:"boolean",default:!1},{name:"as",type:"string",array:!0,length:2,default:["startAngle","endAngle"]}]},ut(Bx,$a,{transform(t,e){var n,r,i,o=t.as||["startAngle","endAngle"],a=o[0],u=o[1],s=t.field||d,l=t.startAngle||0,c=null!=t.endAngle?t.endAngle:2*Math.PI,f=e.source,h=f.map(s),p=h.length,g=l,m=(c-l)/we(h),y=be(p);for(t.sort&&y.sort(((t,e)=>h[t]-h[e])),n=0;n<p;++n)i=h[y[n]],(r=f[y[n]])[a]=g,r[u]=g+=i*m;return this.value=h,e.reflow(t.modified()).modifies(o)}});function Tx(t){return Pd(t)&&t!==md}const Nx=Dt(["set","modified","clear","type","scheme","schemeExtent","schemeCount","domain","domainMin","domainMid","domainMax","domainRaw","domainImplicit","nice","zero","bins","range","rangeStep","round","reverse","interpolate","interpolateGamma"]);function zx(t){$a.call(this,null,t),this.modified(!0)}function Ox(t,e,n){$d(t)&&(Math.abs(e.reduce(((t,e)=>t+(e<0?-1:e>0?1:0)),0))!==e.length&&n.warn("Log scale domain includes zero: "+wt(e)));return e}function Rx(t,e,n){return H(t)&&(e||n)?Gd(t,Lx(e||[0,1],n)):t}function Lx(t,e){return e?t.slice().reverse():t}function Ux(t){$a.call(this,null,t)}ut(zx,$a,{transform(t,e){var n=e.dataflow,r=this.value,i=function(t){var e,n=t.type,r="";if(n===md)return"sequential-linear";(function(t){const e=t.type;return Pd(e)&&e!==pd&&e!==gd&&(t.scheme||t.range&&t.range.length&&t.range.every(pt))})(t)&&(r=2===(e=t.rawDomain?t.rawDomain.length:t.domain?t.domain.length+ +(null!=t.domainMid):0)?"sequential-":3===e?"diverging-":"");return(r+n||ld).toLowerCase()}(t);for(i in r&&i===r.type||(this.value=r=Ld(i)()),t)if(!Nx[i]){if("padding"===i&&Tx(r.type))continue;H(r[i])?r[i](t[i]):n.warn("Unsupported scale property: "+i)}return function(t,e,n){var r=t.type,i=e.round||!1,o=e.range;if(null!=e.rangeStep)o=function(t,e,n){t!==kd&&t!==wd&&u("Only band and point scales support rangeStep.");var r=(null!=e.paddingOuter?e.paddingOuter:e.padding)||0,i=t===wd?1:(null!=e.paddingInner?e.paddingInner:e.padding)||0;return[0,e.rangeStep*sd(n,i,r)]}(r,e,n);else if(e.scheme&&(o=function(t,e,n){var r,i=e.schemeExtent;v(e.scheme)?r=Vd(e.scheme,e.interpolate,e.interpolateGamma):(r=ep(e.scheme.toLowerCase()))||u("Unrecognized scheme name: ".concat(e.scheme));return n=t===xd?n+1:t===Ad?n-1:t===vd||t===_d?+e.schemeCount||5:n,Wd(t)?Rx(r,i,e.reverse):H(r)?Xd(Rx(r,i),n):t===bd?r:r.slice(0,n)}(r,e,n),H(o))){if(t.interpolator)return t.interpolator(o);u("Scale type ".concat(r," does not support interpolating color schemes."))}if(o&&Wd(r))return t.interpolator(Vd(Lx(o,e.reverse),e.interpolate,e.interpolateGamma));o&&e.interpolate&&t.interpolate?t.interpolate(Zd(e.interpolate,e.interpolateGamma)):H(t.round)?t.round(i):H(t.rangeRound)&&t.interpolate(i?oh:ih);o&&t.range(Lx(o,e.reverse))}(r,t,function(t,e,n){let r=e.bins;if(r&&!v(r)){const e=t.domain(),n=e[0],i=A(e),o=r.step;let a=null==r.start?n:r.start,s=null==r.stop?i:r.stop;o||u("Scale bins parameter missing step property."),a<n&&(a=o*Math.ceil(n/o)),s>i&&(s=o*Math.floor(i/o)),r=be(a,s+o/2,o)}r?t.bins=r:t.bins&&delete t.bins;t.type===Ad&&(r?e.domain||e.domainRaw||(t.domain(r),n=r.length):t.bins=t.domain());return n}(r,t,function(t,e,n){const r=function(t,e,n){return e?(t.domain(Ox(t.type,e,n)),e.length):-1}(t,e.domainRaw,n);if(r>-1)return r;var i,o,a=e.domain,u=t.type,s=e.zero||void 0===e.zero&&function(t){const e=t.type;return!t.bins&&(e===ld||e===fd||e===hd)}(t);if(!a)return 0;Tx(u)&&e.padding&&a[0]!==A(a)&&(a=function(t,e,n,r,i,o){var a=Math.abs(A(n)-n[0]),u=a/(a-2*r),s=t===cd?U(e,null,u):t===hd?q(e,null,u,.5):t===fd?q(e,null,u,i||1):t===dd?P(e,null,u,o||1):L(e,null,u);return(e=e.slice())[0]=s[0],e[e.length-1]=s[1],e}(u,a,e.range,e.padding,e.exponent,e.constant));if((s||null!=e.domainMin||null!=e.domainMax||null!=e.domainMid)&&(i=(a=a.slice()).length-1||1,s&&(a[0]>0&&(a[0]=0),a[i]<0&&(a[i]=0)),null!=e.domainMin&&(a[0]=e.domainMin),null!=e.domainMax&&(a[i]=e.domainMax),null!=e.domainMid)){const t=(o=e.domainMid)>a[i]?i+1:o<a[0]?0:i;t!==i&&n.warn("Scale domainMid exceeds domain min or max.",o),a.splice(t,0,o)}t.domain(Ox(u,a,n)),u===bd&&t.unknown(e.domainImplicit?Dc:void 0);e.nice&&t.nice&&t.nice(!0!==e.nice&&ap(t,e.nice)||null);return a.length}(r,t,n))),e.fork(e.NO_SOURCE|e.NO_FIELDS)}}),ut(Ux,$a,{transform(t,e){const n=t.modified("sort")||e.changed(e.ADD)||e.modified(t.sort.fields)||e.modified("datum");return n&&e.source.sort(ma(t.sort)),this.modified(n),e}});const qx="zero",Px="center",jx="normalize",Ix=["y0","y1"];function $x(t){$a.call(this,null,t)}function Wx(t,e,n,r,i){for(var o,a=(e-t.sum)/2,u=t.length,s=0;s<u;++s)(o=t[s])[r]=a,o[i]=a+=Math.abs(n(o))}function Hx(t,e,n,r,i){for(var o,a=1/t.sum,u=0,s=t.length,l=0,c=0;l<s;++l)(o=t[l])[r]=u,o[i]=u=a*(c+=Math.abs(n(o)))}function Yx(t,e,n,r,i){for(var o,a,u=0,s=0,l=t.length,c=0;c<l;++c)(o=+n(a=t[c]))<0?(a[r]=s,a[i]=s+=o):(a[r]=u,a[i]=u+=o)}$x.Definition={type:"Stack",metadata:{modifies:!0},params:[{name:"field",type:"field"},{name:"groupby",type:"field",array:!0},{name:"sort",type:"compare"},{name:"offset",type:"enum",default:qx,values:[qx,Px,jx]},{name:"as",type:"string",array:!0,length:2,default:Ix}]},ut($x,$a,{transform(t,e){var n,r,i,o,a=t.as||Ix,u=a[0],s=a[1],l=ma(t.sort),c=t.field||d,f=t.offset===Px?Wx:t.offset===jx?Hx:Yx;for(n=function(t,e,n,r){var i,o,a,u,s,l,c,f,h,d=[],p=t=>t(s);if(null==e)d.push(t.slice());else for(i={},o=0,a=t.length;o<a;++o)s=t[o],(c=i[l=e.map(p)])||(i[l]=c=[],d.push(c)),c.push(s);for(l=0,h=0,u=d.length;l<u;++l){for(o=0,f=0,a=(c=d[l]).length;o<a;++o)f+=Math.abs(r(c[o]));c.sum=f,f>h&&(h=f),n&&c.sort(n)}return d.max=h,d}(e.source,t.groupby,l,c),r=0,i=n.length,o=n.max;r<i;++r)f(n[r],o,c,u,s);return e.reflow(t.modified()).modifies(a)}});var Gx=Object.freeze({__proto__:null,axisticks:yx,datajoin:vx,encode:xx,legendentries:bx,linkpath:Ex,pie:Bx,scale:zx,sortitems:Ux,stack:$x}),Vx=1e-6,Xx=1e-12,Jx=Math.PI,Zx=Jx/2,Qx=Jx/4,Kx=2*Jx,tb=180/Jx,eb=Jx/180,nb=Math.abs,rb=Math.atan,ib=Math.atan2,ob=Math.cos,ab=Math.ceil,ub=Math.exp,sb=Math.hypot,lb=Math.log,cb=Math.pow,fb=Math.sin,hb=Math.sign||function(t){return t>0?1:t<0?-1:0},db=Math.sqrt,pb=Math.tan;function gb(t){return t>1?0:t<-1?Jx:Math.acos(t)}function mb(t){return t>1?Zx:t<-1?-Zx:Math.asin(t)}function yb(){}function vb(t,e){t&&xb.hasOwnProperty(t.type)&&xb[t.type](t,e)}var _b={Feature:function(t,e){vb(t.geometry,e)},FeatureCollection:function(t,e){for(var n=t.features,r=-1,i=n.length;++r<i;)vb(n[r].geometry,e)}},xb={Sphere:function(t,e){e.sphere()},Point:function(t,e){t=t.coordinates,e.point(t[0],t[1],t[2])},MultiPoint:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)t=n[r],e.point(t[0],t[1],t[2])},LineString:function(t,e){bb(t.coordinates,e,0)},MultiLineString:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)bb(n[r],e,0)},Polygon:function(t,e){wb(t.coordinates,e)},MultiPolygon:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)wb(n[r],e)},GeometryCollection:function(t,e){for(var n=t.geometries,r=-1,i=n.length;++r<i;)vb(n[r],e)}};function bb(t,e,n){var r,i=-1,o=t.length-n;for(e.lineStart();++i<o;)r=t[i],e.point(r[0],r[1],r[2]);e.lineEnd()}function wb(t,e){var n=-1,r=t.length;for(e.polygonStart();++n<r;)bb(t[n],e,1);e.polygonEnd()}function kb(t,e){t&&_b.hasOwnProperty(t.type)?_b[t.type](t,e):vb(t,e)}var Ab,Mb,Eb,Db,Cb,Fb,Sb,Bb,Tb,Nb,zb,Ob,Rb,Lb,Ub,qb,Pb=new Qt,jb=new Qt,Ib={point:yb,lineStart:yb,lineEnd:yb,polygonStart:function(){Pb=new Qt,Ib.lineStart=$b,Ib.lineEnd=Wb},polygonEnd:function(){var t=+Pb;jb.add(t<0?Kx+t:t),this.lineStart=this.lineEnd=this.point=yb},sphere:function(){jb.add(Kx)}};function $b(){Ib.point=Hb}function Wb(){Yb(Ab,Mb)}function Hb(t,e){Ib.point=Yb,Ab=t,Mb=e,Eb=t*=eb,Db=ob(e=(e*=eb)/2+Qx),Cb=fb(e)}function Yb(t,e){var n=(t*=eb)-Eb,r=n>=0?1:-1,i=r*n,o=ob(e=(e*=eb)/2+Qx),a=fb(e),u=Cb*a,s=Db*o+u*ob(i),l=u*r*fb(i);Pb.add(ib(l,s)),Eb=t,Db=o,Cb=a}function Gb(t){return[ib(t[1],t[0]),mb(t[2])]}function Vb(t){var e=t[0],n=t[1],r=ob(n);return[r*ob(e),r*fb(e),fb(n)]}function Xb(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]}function Jb(t,e){return[t[1]*e[2]-t[2]*e[1],t[2]*e[0]-t[0]*e[2],t[0]*e[1]-t[1]*e[0]]}function Zb(t,e){t[0]+=e[0],t[1]+=e[1],t[2]+=e[2]}function Qb(t,e){return[t[0]*e,t[1]*e,t[2]*e]}function Kb(t){var e=db(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]);t[0]/=e,t[1]/=e,t[2]/=e}var tw,ew,nw,rw,iw,ow,aw,uw,sw,lw,cw,fw,hw,dw,pw,gw,mw={point:yw,lineStart:_w,lineEnd:xw,polygonStart:function(){mw.point=bw,mw.lineStart=ww,mw.lineEnd=kw,Lb=new Qt,Ib.polygonStart()},polygonEnd:function(){Ib.polygonEnd(),mw.point=yw,mw.lineStart=_w,mw.lineEnd=xw,Pb<0?(Fb=-(Bb=180),Sb=-(Tb=90)):Lb>Vx?Tb=90:Lb<-1e-6&&(Sb=-90),qb[0]=Fb,qb[1]=Bb},sphere:function(){Fb=-(Bb=180),Sb=-(Tb=90)}};function yw(t,e){Ub.push(qb=[Fb=t,Bb=t]),e<Sb&&(Sb=e),e>Tb&&(Tb=e)}function vw(t,e){var n=Vb([t*eb,e*eb]);if(Rb){var r=Jb(Rb,n),i=Jb([r[1],-r[0],0],r);Kb(i),i=Gb(i);var o,a=t-Nb,u=a>0?1:-1,s=i[0]*tb*u,l=nb(a)>180;l^(u*Nb<s&&s<u*t)?(o=i[1]*tb)>Tb&&(Tb=o):l^(u*Nb<(s=(s+360)%360-180)&&s<u*t)?(o=-i[1]*tb)<Sb&&(Sb=o):(e<Sb&&(Sb=e),e>Tb&&(Tb=e)),l?t<Nb?Aw(Fb,t)>Aw(Fb,Bb)&&(Bb=t):Aw(t,Bb)>Aw(Fb,Bb)&&(Fb=t):Bb>=Fb?(t<Fb&&(Fb=t),t>Bb&&(Bb=t)):t>Nb?Aw(Fb,t)>Aw(Fb,Bb)&&(Bb=t):Aw(t,Bb)>Aw(Fb,Bb)&&(Fb=t)}else Ub.push(qb=[Fb=t,Bb=t]);e<Sb&&(Sb=e),e>Tb&&(Tb=e),Rb=n,Nb=t}function _w(){mw.point=vw}function xw(){qb[0]=Fb,qb[1]=Bb,mw.point=yw,Rb=null}function bw(t,e){if(Rb){var n=t-Nb;Lb.add(nb(n)>180?n+(n>0?360:-360):n)}else zb=t,Ob=e;Ib.point(t,e),vw(t,e)}function ww(){Ib.lineStart()}function kw(){bw(zb,Ob),Ib.lineEnd(),nb(Lb)>Vx&&(Fb=-(Bb=180)),qb[0]=Fb,qb[1]=Bb,Rb=null}function Aw(t,e){return(e-=t)<0?e+360:e}function Mw(t,e){return t[0]-e[0]}function Ew(t,e){return t[0]<=t[1]?t[0]<=e&&e<=t[1]:e<t[0]||t[1]<e}var Dw={sphere:yb,point:Cw,lineStart:Sw,lineEnd:Nw,polygonStart:function(){Dw.lineStart=zw,Dw.lineEnd=Ow},polygonEnd:function(){Dw.lineStart=Sw,Dw.lineEnd=Nw}};function Cw(t,e){t*=eb;var n=ob(e*=eb);Fw(n*ob(t),n*fb(t),fb(e))}function Fw(t,e,n){++tw,nw+=(t-nw)/tw,rw+=(e-rw)/tw,iw+=(n-iw)/tw}function Sw(){Dw.point=Bw}function Bw(t,e){t*=eb;var n=ob(e*=eb);dw=n*ob(t),pw=n*fb(t),gw=fb(e),Dw.point=Tw,Fw(dw,pw,gw)}function Tw(t,e){t*=eb;var n=ob(e*=eb),r=n*ob(t),i=n*fb(t),o=fb(e),a=ib(db((a=pw*o-gw*i)*a+(a=gw*r-dw*o)*a+(a=dw*i-pw*r)*a),dw*r+pw*i+gw*o);ew+=a,ow+=a*(dw+(dw=r)),aw+=a*(pw+(pw=i)),uw+=a*(gw+(gw=o)),Fw(dw,pw,gw)}function Nw(){Dw.point=Cw}function zw(){Dw.point=Rw}function Ow(){Lw(fw,hw),Dw.point=Cw}function Rw(t,e){fw=t,hw=e,t*=eb,e*=eb,Dw.point=Lw;var n=ob(e);dw=n*ob(t),pw=n*fb(t),gw=fb(e),Fw(dw,pw,gw)}function Lw(t,e){t*=eb;var n=ob(e*=eb),r=n*ob(t),i=n*fb(t),o=fb(e),a=pw*o-gw*i,u=gw*r-dw*o,s=dw*i-pw*r,l=sb(a,u,s),c=mb(l),f=l&&-c/l;sw.add(f*a),lw.add(f*u),cw.add(f*s),ew+=c,ow+=c*(dw+(dw=r)),aw+=c*(pw+(pw=i)),uw+=c*(gw+(gw=o)),Fw(dw,pw,gw)}function Uw(t,e){function n(n,r){return n=t(n,r),e(n[0],n[1])}return t.invert&&e.invert&&(n.invert=function(n,r){return(n=e.invert(n,r))&&t.invert(n[0],n[1])}),n}function qw(t,e){return[nb(t)>Jx?t+Math.round(-t/Kx)*Kx:t,e]}function Pw(t,e,n){return(t%=Kx)?e||n?Uw(Iw(t),$w(e,n)):Iw(t):e||n?$w(e,n):qw}function jw(t){return function(e,n){return[(e+=t)>Jx?e-Kx:e<-Jx?e+Kx:e,n]}}function Iw(t){var e=jw(t);return e.invert=jw(-t),e}function $w(t,e){var n=ob(t),r=fb(t),i=ob(e),o=fb(e);function a(t,e){var a=ob(e),u=ob(t)*a,s=fb(t)*a,l=fb(e),c=l*n+u*r;return[ib(s*i-c*o,u*n-l*r),mb(c*i+s*o)]}return a.invert=function(t,e){var a=ob(e),u=ob(t)*a,s=fb(t)*a,l=fb(e),c=l*i-s*o;return[ib(s*i+l*o,u*n+c*r),mb(c*n-u*r)]},a}function Ww(t,e){(e=Vb(e))[0]-=t,Kb(e);var n=gb(-e[1]);return((-e[2]<0?-n:n)+Kx-Vx)%Kx}function Hw(){var t,e=[];return{point:function(e,n,r){t.push([e,n,r])},lineStart:function(){e.push(t=[])},lineEnd:yb,rejoin:function(){e.length>1&&e.push(e.pop().concat(e.shift()))},result:function(){var n=e;return e=[],t=null,n}}}function Yw(t,e){return nb(t[0]-e[0])<Vx&&nb(t[1]-e[1])<Vx}function Gw(t,e,n,r){this.x=t,this.z=e,this.o=n,this.e=r,this.v=!1,this.n=this.p=null}function Vw(t,e,n,r,i){var o,a,u=[],s=[];if(t.forEach((function(t){if(!((e=t.length-1)<=0)){var e,n,r=t[0],a=t[e];if(Yw(r,a)){if(!r[2]&&!a[2]){for(i.lineStart(),o=0;o<e;++o)i.point((r=t[o])[0],r[1]);return void i.lineEnd()}a[0]+=2e-6}u.push(n=new Gw(r,t,null,!0)),s.push(n.o=new Gw(r,null,n,!1)),u.push(n=new Gw(a,t,null,!1)),s.push(n.o=new Gw(a,null,n,!0))}})),u.length){for(s.sort(e),Xw(u),Xw(s),o=0,a=s.length;o<a;++o)s[o].e=n=!n;for(var l,c,f=u[0];;){for(var h=f,d=!0;h.v;)if((h=h.n)===f)return;l=h.z,i.lineStart();do{if(h.v=h.o.v=!0,h.e){if(d)for(o=0,a=l.length;o<a;++o)i.point((c=l[o])[0],c[1]);else r(h.x,h.n.x,1,i);h=h.n}else{if(d)for(l=h.p.z,o=l.length-1;o>=0;--o)i.point((c=l[o])[0],c[1]);else r(h.x,h.p.x,-1,i);h=h.p}l=(h=h.o).z,d=!d}while(!h.v);i.lineEnd()}}}function Xw(t){if(e=t.length){for(var e,n,r=0,i=t[0];++r<e;)i.n=n=t[r],n.p=i,i=n;i.n=n=t[0],n.p=i}}function Jw(t){return nb(t[0])<=Jx?t[0]:hb(t[0])*((nb(t[0])+Jx)%Kx-Jx)}function Zw(t,e,n,r){return function(i){var o,a,u,s=e(i),l=Hw(),c=e(l),f=!1,h={point:d,lineStart:g,lineEnd:m,polygonStart:function(){h.point=y,h.lineStart=v,h.lineEnd=_,a=[],o=[]},polygonEnd:function(){h.point=d,h.lineStart=g,h.lineEnd=m,a=xe(a);var t=function(t,e){var n=Jw(e),r=e[1],i=fb(r),o=[fb(n),-ob(n),0],a=0,u=0,s=new Qt;1===i?r=Zx+Vx:-1===i&&(r=-Zx-Vx);for(var l=0,c=t.length;l<c;++l)if(h=(f=t[l]).length)for(var f,h,d=f[h-1],p=Jw(d),g=d[1]/2+Qx,m=fb(g),y=ob(g),v=0;v<h;++v,p=x,m=w,y=k,d=_){var _=f[v],x=Jw(_),b=_[1]/2+Qx,w=fb(b),k=ob(b),A=x-p,M=A>=0?1:-1,E=M*A,D=E>Jx,C=m*w;if(s.add(ib(C*M*fb(E),y*k+C*ob(E))),a+=D?A+M*Kx:A,D^p>=n^x>=n){var F=Jb(Vb(d),Vb(_));Kb(F);var S=Jb(o,F);Kb(S);var B=(D^A>=0?-1:1)*mb(S[2]);(r>B||r===B&&(F[0]||F[1]))&&(u+=D^A>=0?1:-1)}}return(a<-1e-6||a<Vx&&s<-1e-12)^1&u}(o,r);a.length?(f||(i.polygonStart(),f=!0),Vw(a,Kw,t,n,i)):t&&(f||(i.polygonStart(),f=!0),i.lineStart(),n(null,null,1,i),i.lineEnd()),f&&(i.polygonEnd(),f=!1),a=o=null},sphere:function(){i.polygonStart(),i.lineStart(),n(null,null,1,i),i.lineEnd(),i.polygonEnd()}};function d(e,n){t(e,n)&&i.point(e,n)}function p(t,e){s.point(t,e)}function g(){h.point=p,s.lineStart()}function m(){h.point=d,s.lineEnd()}function y(t,e){u.push([t,e]),c.point(t,e)}function v(){c.lineStart(),u=[]}function _(){y(u[0][0],u[0][1]),c.lineEnd();var t,e,n,r,s=c.clean(),h=l.result(),d=h.length;if(u.pop(),o.push(u),u=null,d)if(1&s){if((e=(n=h[0]).length-1)>0){for(f||(i.polygonStart(),f=!0),i.lineStart(),t=0;t<e;++t)i.point((r=n[t])[0],r[1]);i.lineEnd()}}else d>1&&2&s&&h.push(h.pop().concat(h.shift())),a.push(h.filter(Qw))}return h}}function Qw(t){return t.length>1}function Kw(t,e){return((t=t.x)[0]<0?t[1]-Zx-Vx:Zx-t[1])-((e=e.x)[0]<0?e[1]-Zx-Vx:Zx-e[1])}qw.invert=qw;var tk=Zw((function(){return!0}),(function(t){var e,n=NaN,r=NaN,i=NaN;return{lineStart:function(){t.lineStart(),e=1},point:function(o,a){var u=o>0?Jx:-Jx,s=nb(o-n);nb(s-Jx)<Vx?(t.point(n,r=(r+a)/2>0?Zx:-Zx),t.point(i,r),t.lineEnd(),t.lineStart(),t.point(u,r),t.point(o,r),e=0):i!==u&&s>=Jx&&(nb(n-i)<Vx&&(n-=i*Vx),nb(o-u)<Vx&&(o-=u*Vx),r=function(t,e,n,r){var i,o,a=fb(t-n);return nb(a)>Vx?rb((fb(e)*(o=ob(r))*fb(n)-fb(r)*(i=ob(e))*fb(t))/(i*o*a)):(e+r)/2}(n,r,o,a),t.point(i,r),t.lineEnd(),t.lineStart(),t.point(u,r),e=0),t.point(n=o,r=a),i=u},lineEnd:function(){t.lineEnd(),n=r=NaN},clean:function(){return 2-e}}}),(function(t,e,n,r){var i;if(null==t)i=n*Zx,r.point(-Jx,i),r.point(0,i),r.point(Jx,i),r.point(Jx,0),r.point(Jx,-i),r.point(0,-i),r.point(-Jx,-i),r.point(-Jx,0),r.point(-Jx,i);else if(nb(t[0]-e[0])>Vx){var o=t[0]<e[0]?Jx:-Jx;i=n*o/2,r.point(-o,i),r.point(0,i),r.point(o,i)}else r.point(e[0],e[1])}),[-Jx,-Zx]);function ek(t){var e=ob(t),n=6*eb,r=e>0,i=nb(e)>Vx;function o(t,n){return ob(t)*ob(n)>e}function a(t,n,r){var i=[1,0,0],o=Jb(Vb(t),Vb(n)),a=Xb(o,o),u=o[0],s=a-u*u;if(!s)return!r&&t;var l=e*a/s,c=-e*u/s,f=Jb(i,o),h=Qb(i,l);Zb(h,Qb(o,c));var d=f,p=Xb(h,d),g=Xb(d,d),m=p*p-g*(Xb(h,h)-1);if(!(m<0)){var y=db(m),v=Qb(d,(-p-y)/g);if(Zb(v,h),v=Gb(v),!r)return v;var _,x=t[0],b=n[0],w=t[1],k=n[1];b<x&&(_=x,x=b,b=_);var A=b-x,M=nb(A-Jx)<Vx;if(!M&&k<w&&(_=w,w=k,k=_),M||A<Vx?M?w+k>0^v[1]<(nb(v[0]-x)<Vx?w:k):w<=v[1]&&v[1]<=k:A>Jx^(x<=v[0]&&v[0]<=b)){var E=Qb(d,(-p+y)/g);return Zb(E,h),[v,Gb(E)]}}}function u(e,n){var i=r?t:Jx-t,o=0;return e<-i?o|=1:e>i&&(o|=2),n<-i?o|=4:n>i&&(o|=8),o}return Zw(o,(function(t){var e,n,s,l,c;return{lineStart:function(){l=s=!1,c=1},point:function(f,h){var d,p=[f,h],g=o(f,h),m=r?g?0:u(f,h):g?u(f+(f<0?Jx:-Jx),h):0;if(!e&&(l=s=g)&&t.lineStart(),g!==s&&(!(d=a(e,p))||Yw(e,d)||Yw(p,d))&&(p[2]=1),g!==s)c=0,g?(t.lineStart(),d=a(p,e),t.point(d[0],d[1])):(d=a(e,p),t.point(d[0],d[1],2),t.lineEnd()),e=d;else if(i&&e&&r^g){var y;m&n||!(y=a(p,e,!0))||(c=0,r?(t.lineStart(),t.point(y[0][0],y[0][1]),t.point(y[1][0],y[1][1]),t.lineEnd()):(t.point(y[1][0],y[1][1]),t.lineEnd(),t.lineStart(),t.point(y[0][0],y[0][1],3)))}!g||e&&Yw(e,p)||t.point(p[0],p[1]),e=p,s=g,n=m},lineEnd:function(){s&&t.lineEnd(),e=null},clean:function(){return c|(l&&s)<<1}}}),(function(e,r,i,o){!function(t,e,n,r,i,o){if(n){var a=ob(e),u=fb(e),s=r*n;null==i?(i=e+r*Kx,o=e-s/2):(i=Ww(a,i),o=Ww(a,o),(r>0?i<o:i>o)&&(i+=r*Kx));for(var l,c=i;r>0?c>o:c<o;c-=s)l=Gb([a,-u*ob(c),-u*fb(c)]),t.point(l[0],l[1])}}(o,t,n,i,e,r)}),r?[0,-t]:[-Jx,t-Jx])}var nk=1e9,rk=-nk;function ik(t,e,n,r){function i(i,o){return t<=i&&i<=n&&e<=o&&o<=r}function o(i,o,u,l){var c=0,f=0;if(null==i||(c=a(i,u))!==(f=a(o,u))||s(i,o)<0^u>0)do{l.point(0===c||3===c?t:n,c>1?r:e)}while((c=(c+u+4)%4)!==f);else l.point(o[0],o[1])}function a(r,i){return nb(r[0]-t)<Vx?i>0?0:3:nb(r[0]-n)<Vx?i>0?2:1:nb(r[1]-e)<Vx?i>0?1:0:i>0?3:2}function u(t,e){return s(t.x,e.x)}function s(t,e){var n=a(t,1),r=a(e,1);return n!==r?n-r:0===n?e[1]-t[1]:1===n?t[0]-e[0]:2===n?t[1]-e[1]:e[0]-t[0]}return function(a){var s,l,c,f,h,d,p,g,m,y,v,_=a,x=Hw(),b={point:w,lineStart:function(){b.point=k,l&&l.push(c=[]);y=!0,m=!1,p=g=NaN},lineEnd:function(){s&&(k(f,h),d&&m&&x.rejoin(),s.push(x.result()));b.point=w,m&&_.lineEnd()},polygonStart:function(){_=x,s=[],l=[],v=!0},polygonEnd:function(){var e=function(){for(var e=0,n=0,i=l.length;n<i;++n)for(var o,a,u=l[n],s=1,c=u.length,f=u[0],h=f[0],d=f[1];s<c;++s)o=h,a=d,h=(f=u[s])[0],d=f[1],a<=r?d>r&&(h-o)*(r-a)>(d-a)*(t-o)&&++e:d<=r&&(h-o)*(r-a)<(d-a)*(t-o)&&--e;return e}(),n=v&&e,i=(s=xe(s)).length;(n||i)&&(a.polygonStart(),n&&(a.lineStart(),o(null,null,1,a),a.lineEnd()),i&&Vw(s,u,e,o,a),a.polygonEnd());_=a,s=l=c=null}};function w(t,e){i(t,e)&&_.point(t,e)}function k(o,a){var u=i(o,a);if(l&&c.push([o,a]),y)f=o,h=a,d=u,y=!1,u&&(_.lineStart(),_.point(o,a));else if(u&&m)_.point(o,a);else{var s=[p=Math.max(rk,Math.min(nk,p)),g=Math.max(rk,Math.min(nk,g))],x=[o=Math.max(rk,Math.min(nk,o)),a=Math.max(rk,Math.min(nk,a))];!function(t,e,n,r,i,o){var a,u=t[0],s=t[1],l=0,c=1,f=e[0]-u,h=e[1]-s;if(a=n-u,f||!(a>0)){if(a/=f,f<0){if(a<l)return;a<c&&(c=a)}else if(f>0){if(a>c)return;a>l&&(l=a)}if(a=i-u,f||!(a<0)){if(a/=f,f<0){if(a>c)return;a>l&&(l=a)}else if(f>0){if(a<l)return;a<c&&(c=a)}if(a=r-s,h||!(a>0)){if(a/=h,h<0){if(a<l)return;a<c&&(c=a)}else if(h>0){if(a>c)return;a>l&&(l=a)}if(a=o-s,h||!(a<0)){if(a/=h,h<0){if(a>c)return;a>l&&(l=a)}else if(h>0){if(a<l)return;a<c&&(c=a)}return l>0&&(t[0]=u+l*f,t[1]=s+l*h),c<1&&(e[0]=u+c*f,e[1]=s+c*h),!0}}}}}(s,x,t,e,n,r)?u&&(_.lineStart(),_.point(o,a),v=!1):(m||(_.lineStart(),_.point(s[0],s[1])),_.point(x[0],x[1]),u||_.lineEnd(),v=!1)}p=o,g=a,m=u}return b}}function ok(t,e,n){var r=be(t,e-Vx,n).concat(e);return function(t){return r.map((function(e){return[t,e]}))}}function ak(t,e,n){var r=be(t,e-Vx,n).concat(e);return function(t){return r.map((function(e){return[e,t]}))}}var uk,sk,lk,ck,fk=t=>t,hk=new Qt,dk=new Qt,pk={point:yb,lineStart:yb,lineEnd:yb,polygonStart:function(){pk.lineStart=gk,pk.lineEnd=vk},polygonEnd:function(){pk.lineStart=pk.lineEnd=pk.point=yb,hk.add(nb(dk)),dk=new Qt},result:function(){var t=hk/2;return hk=new Qt,t}};function gk(){pk.point=mk}function mk(t,e){pk.point=yk,uk=lk=t,sk=ck=e}function yk(t,e){dk.add(ck*t-lk*e),lk=t,ck=e}function vk(){yk(uk,sk)}var _k=pk,xk=1/0,bk=xk,wk=-xk,kk=wk,Ak={point:function(t,e){t<xk&&(xk=t);t>wk&&(wk=t);e<bk&&(bk=e);e>kk&&(kk=e)},lineStart:yb,lineEnd:yb,polygonStart:yb,polygonEnd:yb,result:function(){var t=[[xk,bk],[wk,kk]];return wk=kk=-(bk=xk=1/0),t}};var Mk,Ek,Dk,Ck,Fk=Ak,Sk=0,Bk=0,Tk=0,Nk=0,zk=0,Ok=0,Rk=0,Lk=0,Uk=0,qk={point:Pk,lineStart:jk,lineEnd:Wk,polygonStart:function(){qk.lineStart=Hk,qk.lineEnd=Yk},polygonEnd:function(){qk.point=Pk,qk.lineStart=jk,qk.lineEnd=Wk},result:function(){var t=Uk?[Rk/Uk,Lk/Uk]:Ok?[Nk/Ok,zk/Ok]:Tk?[Sk/Tk,Bk/Tk]:[NaN,NaN];return Sk=Bk=Tk=Nk=zk=Ok=Rk=Lk=Uk=0,t}};function Pk(t,e){Sk+=t,Bk+=e,++Tk}function jk(){qk.point=Ik}function Ik(t,e){qk.point=$k,Pk(Dk=t,Ck=e)}function $k(t,e){var n=t-Dk,r=e-Ck,i=db(n*n+r*r);Nk+=i*(Dk+t)/2,zk+=i*(Ck+e)/2,Ok+=i,Pk(Dk=t,Ck=e)}function Wk(){qk.point=Pk}function Hk(){qk.point=Gk}function Yk(){Vk(Mk,Ek)}function Gk(t,e){qk.point=Vk,Pk(Mk=Dk=t,Ek=Ck=e)}function Vk(t,e){var n=t-Dk,r=e-Ck,i=db(n*n+r*r);Nk+=i*(Dk+t)/2,zk+=i*(Ck+e)/2,Ok+=i,Rk+=(i=Ck*t-Dk*e)*(Dk+t),Lk+=i*(Ck+e),Uk+=3*i,Pk(Dk=t,Ck=e)}var Xk=qk;function Jk(t){this._context=t}Jk.prototype={_radius:4.5,pointRadius:function(t){return this._radius=t,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._context.closePath(),this._point=NaN},point:function(t,e){switch(this._point){case 0:this._context.moveTo(t,e),this._point=1;break;case 1:this._context.lineTo(t,e);break;default:this._context.moveTo(t+this._radius,e),this._context.arc(t,e,this._radius,0,Kx)}},result:yb};var Zk,Qk,Kk,tA,eA,nA=new Qt,rA={point:yb,lineStart:function(){rA.point=iA},lineEnd:function(){Zk&&oA(Qk,Kk),rA.point=yb},polygonStart:function(){Zk=!0},polygonEnd:function(){Zk=null},result:function(){var t=+nA;return nA=new Qt,t}};function iA(t,e){rA.point=oA,Qk=tA=t,Kk=eA=e}function oA(t,e){tA-=t,eA-=e,nA.add(db(tA*tA+eA*eA)),tA=t,eA=e}var aA=rA;function uA(){this._string=[]}function sA(t){return"m0,"+t+"a"+t+","+t+" 0 1,1 0,"+-2*t+"a"+t+","+t+" 0 1,1 0,"+2*t+"z"}function lA(t,e){var n,r,i=4.5;function o(t){return t&&("function"==typeof i&&r.pointRadius(+i.apply(this,arguments)),kb(t,n(r))),r.result()}return o.area=function(t){return kb(t,n(_k)),_k.result()},o.measure=function(t){return kb(t,n(aA)),aA.result()},o.bounds=function(t){return kb(t,n(Fk)),Fk.result()},o.centroid=function(t){return kb(t,n(Xk)),Xk.result()},o.projection=function(e){return arguments.length?(n=null==e?(t=null,fk):(t=e).stream,o):t},o.context=function(t){return arguments.length?(r=null==t?(e=null,new uA):new Jk(e=t),"function"!=typeof i&&r.pointRadius(i),o):e},o.pointRadius=function(t){return arguments.length?(i="function"==typeof t?t:(r.pointRadius(+t),+t),o):i},o.projection(t).context(e)}function cA(t){return function(e){var n=new fA;for(var r in t)n[r]=t[r];return n.stream=e,n}}function fA(){}function hA(t,e,n){var r=t.clipExtent&&t.clipExtent();return t.scale(150).translate([0,0]),null!=r&&t.clipExtent(null),kb(n,t.stream(Fk)),e(Fk.result()),null!=r&&t.clipExtent(r),t}function dA(t,e,n){return hA(t,(function(n){var r=e[1][0]-e[0][0],i=e[1][1]-e[0][1],o=Math.min(r/(n[1][0]-n[0][0]),i/(n[1][1]-n[0][1])),a=+e[0][0]+(r-o*(n[1][0]+n[0][0]))/2,u=+e[0][1]+(i-o*(n[1][1]+n[0][1]))/2;t.scale(150*o).translate([a,u])}),n)}function pA(t,e,n){return dA(t,[[0,0],e],n)}function gA(t,e,n){return hA(t,(function(n){var r=+e,i=r/(n[1][0]-n[0][0]),o=(r-i*(n[1][0]+n[0][0]))/2,a=-i*n[0][1];t.scale(150*i).translate([o,a])}),n)}function mA(t,e,n){return hA(t,(function(n){var r=+e,i=r/(n[1][1]-n[0][1]),o=-i*n[0][0],a=(r-i*(n[1][1]+n[0][1]))/2;t.scale(150*i).translate([o,a])}),n)}uA.prototype={_radius:4.5,_circle:sA(4.5),pointRadius:function(t){return(t=+t)!==this._radius&&(this._radius=t,this._circle=null),this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._string.push("Z"),this._point=NaN},point:function(t,e){switch(this._point){case 0:this._string.push("M",t,",",e),this._point=1;break;case 1:this._string.push("L",t,",",e);break;default:null==this._circle&&(this._circle=sA(this._radius)),this._string.push("M",t,",",e,this._circle)}},result:function(){if(this._string.length){var t=this._string.join("");return this._string=[],t}return null}},fA.prototype={constructor:fA,point:function(t,e){this.stream.point(t,e)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};var yA=ob(30*eb);function vA(t,e){return+e?function(t,e){function n(r,i,o,a,u,s,l,c,f,h,d,p,g,m){var y=l-r,v=c-i,_=y*y+v*v;if(_>4*e&&g--){var x=a+h,b=u+d,w=s+p,k=db(x*x+b*b+w*w),A=mb(w/=k),M=nb(nb(w)-1)<Vx||nb(o-f)<Vx?(o+f)/2:ib(b,x),E=t(M,A),D=E[0],C=E[1],F=D-r,S=C-i,B=v*F-y*S;(B*B/_>e||nb((y*F+v*S)/_-.5)>.3||a*h+u*d+s*p<yA)&&(n(r,i,o,a,u,s,D,C,M,x/=k,b/=k,w,g,m),m.point(D,C),n(D,C,M,x,b,w,l,c,f,h,d,p,g,m))}}return function(e){var r,i,o,a,u,s,l,c,f,h,d,p,g={point:m,lineStart:y,lineEnd:_,polygonStart:function(){e.polygonStart(),g.lineStart=x},polygonEnd:function(){e.polygonEnd(),g.lineStart=y}};function m(n,r){n=t(n,r),e.point(n[0],n[1])}function y(){c=NaN,g.point=v,e.lineStart()}function v(r,i){var o=Vb([r,i]),a=t(r,i);n(c,f,l,h,d,p,c=a[0],f=a[1],l=r,h=o[0],d=o[1],p=o[2],16,e),e.point(c,f)}function _(){g.point=m,e.lineEnd()}function x(){y(),g.point=b,g.lineEnd=w}function b(t,e){v(r=t,e),i=c,o=f,a=h,u=d,s=p,g.point=v}function w(){n(c,f,l,h,d,p,i,o,r,a,u,s,16,e),g.lineEnd=_,_()}return g}}(t,e):function(t){return cA({point:function(e,n){e=t(e,n),this.stream.point(e[0],e[1])}})}(t)}var _A=cA({point:function(t,e){this.stream.point(t*eb,e*eb)}});function xA(t,e,n,r,i,o){if(!o)return function(t,e,n,r,i){function o(o,a){return[e+t*(o*=r),n-t*(a*=i)]}return o.invert=function(o,a){return[(o-e)/t*r,(n-a)/t*i]},o}(t,e,n,r,i);var a=ob(o),u=fb(o),s=a*t,l=u*t,c=a/t,f=u/t,h=(u*n-a*e)/t,d=(u*e+a*n)/t;function p(t,o){return[s*(t*=r)-l*(o*=i)+e,n-l*t-s*o]}return p.invert=function(t,e){return[r*(c*t-f*e+h),i*(d-f*t-c*e)]},p}function bA(t){return wA((function(){return t}))()}function wA(t){var e,n,r,i,o,a,u,s,l,c,f=150,h=480,d=250,p=0,g=0,m=0,y=0,v=0,_=0,x=1,b=1,w=null,k=tk,A=null,M=fk,E=.5;function D(t){return s(t[0]*eb,t[1]*eb)}function C(t){return(t=s.invert(t[0],t[1]))&&[t[0]*tb,t[1]*tb]}function F(){var t=xA(f,0,0,x,b,_).apply(null,e(p,g)),r=xA(f,h-t[0],d-t[1],x,b,_);return n=Pw(m,y,v),u=Uw(e,r),s=Uw(n,u),a=vA(u,E),S()}function S(){return l=c=null,D}return D.stream=function(t){return l&&c===t?l:l=_A(function(t){return cA({point:function(e,n){var r=t(e,n);return this.stream.point(r[0],r[1])}})}(n)(k(a(M(c=t)))))},D.preclip=function(t){return arguments.length?(k=t,w=void 0,S()):k},D.postclip=function(t){return arguments.length?(M=t,A=r=i=o=null,S()):M},D.clipAngle=function(t){return arguments.length?(k=+t?ek(w=t*eb):(w=null,tk),S()):w*tb},D.clipExtent=function(t){return arguments.length?(M=null==t?(A=r=i=o=null,fk):ik(A=+t[0][0],r=+t[0][1],i=+t[1][0],o=+t[1][1]),S()):null==A?null:[[A,r],[i,o]]},D.scale=function(t){return arguments.length?(f=+t,F()):f},D.translate=function(t){return arguments.length?(h=+t[0],d=+t[1],F()):[h,d]},D.center=function(t){return arguments.length?(p=t[0]%360*eb,g=t[1]%360*eb,F()):[p*tb,g*tb]},D.rotate=function(t){return arguments.length?(m=t[0]%360*eb,y=t[1]%360*eb,v=t.length>2?t[2]%360*eb:0,F()):[m*tb,y*tb,v*tb]},D.angle=function(t){return arguments.length?(_=t%360*eb,F()):_*tb},D.reflectX=function(t){return arguments.length?(x=t?-1:1,F()):x<0},D.reflectY=function(t){return arguments.length?(b=t?-1:1,F()):b<0},D.precision=function(t){return arguments.length?(a=vA(u,E=t*t),S()):db(E)},D.fitExtent=function(t,e){return dA(D,t,e)},D.fitSize=function(t,e){return pA(D,t,e)},D.fitWidth=function(t,e){return gA(D,t,e)},D.fitHeight=function(t,e){return mA(D,t,e)},function(){return e=t.apply(this,arguments),D.invert=e.invert&&C,F()}}function kA(t){var e=0,n=Jx/3,r=wA(t),i=r(e,n);return i.parallels=function(t){return arguments.length?r(e=t[0]*eb,n=t[1]*eb):[e*tb,n*tb]},i}function AA(t,e){var n=fb(t),r=(n+fb(e))/2;if(nb(r)<Vx)return function(t){var e=ob(t);function n(t,n){return[t*e,fb(n)/e]}return n.invert=function(t,n){return[t/e,mb(n*e)]},n}(t);var i=1+n*(2*r-n),o=db(i)/r;function a(t,e){var n=db(i-2*r*fb(e))/r;return[n*fb(t*=r),o-n*ob(t)]}return a.invert=function(t,e){var n=o-e,a=ib(t,nb(n))*hb(n);return n*r<0&&(a-=Jx*hb(t)*hb(n)),[a/r,mb((i-(t*t+n*n)*r*r)/(2*r))]},a}function MA(){return kA(AA).scale(155.424).center([0,33.6442])}function EA(){return MA().parallels([29.5,45.5]).scale(1070).translate([480,250]).rotate([96,0]).center([-.6,38.7])}function DA(t){return function(e,n){var r=ob(e),i=ob(n),o=t(r*i);return o===1/0?[2,0]:[o*i*fb(e),o*fb(n)]}}function CA(t){return function(e,n){var r=db(e*e+n*n),i=t(r),o=fb(i),a=ob(i);return[ib(e*o,r*a),mb(r&&n*o/r)]}}var FA=DA((function(t){return db(2/(1+t))}));FA.invert=CA((function(t){return 2*mb(t/2)}));var SA=DA((function(t){return(t=gb(t))&&t/fb(t)}));function BA(t,e){return[t,lb(pb((Zx+e)/2))]}function TA(t){var e,n,r,i=bA(t),o=i.center,a=i.scale,u=i.translate,s=i.clipExtent,l=null;function c(){var o=Jx*a(),u=i(function(t){function e(e){return(e=t(e[0]*eb,e[1]*eb))[0]*=tb,e[1]*=tb,e}return t=Pw(t[0]*eb,t[1]*eb,t.length>2?t[2]*eb:0),e.invert=function(e){return(e=t.invert(e[0]*eb,e[1]*eb))[0]*=tb,e[1]*=tb,e},e}(i.rotate()).invert([0,0]));return s(null==l?[[u[0]-o,u[1]-o],[u[0]+o,u[1]+o]]:t===BA?[[Math.max(u[0]-o,l),e],[Math.min(u[0]+o,n),r]]:[[l,Math.max(u[1]-o,e)],[n,Math.min(u[1]+o,r)]])}return i.scale=function(t){return arguments.length?(a(t),c()):a()},i.translate=function(t){return arguments.length?(u(t),c()):u()},i.center=function(t){return arguments.length?(o(t),c()):o()},i.clipExtent=function(t){return arguments.length?(null==t?l=e=n=r=null:(l=+t[0][0],e=+t[0][1],n=+t[1][0],r=+t[1][1]),c()):null==l?null:[[l,e],[n,r]]},c()}function NA(t){return pb((Zx+t)/2)}function zA(t,e){var n=ob(t),r=t===e?fb(t):lb(n/ob(e))/lb(NA(e)/NA(t)),i=n*cb(NA(t),r)/r;if(!r)return BA;function o(t,e){i>0?e<-Zx+Vx&&(e=-Zx+Vx):e>Zx-Vx&&(e=Zx-Vx);var n=i/cb(NA(e),r);return[n*fb(r*t),i-n*ob(r*t)]}return o.invert=function(t,e){var n=i-e,o=hb(r)*db(t*t+n*n),a=ib(t,nb(n))*hb(n);return n*r<0&&(a-=Jx*hb(t)*hb(n)),[a/r,2*rb(cb(i/o,1/r))-Zx]},o}function OA(t,e){return[t,e]}function RA(t,e){var n=ob(t),r=t===e?fb(t):(n-ob(e))/(e-t),i=n/r+t;if(nb(r)<Vx)return OA;function o(t,e){var n=i-e,o=r*t;return[n*fb(o),i-n*ob(o)]}return o.invert=function(t,e){var n=i-e,o=ib(t,nb(n))*hb(n);return n*r<0&&(o-=Jx*hb(t)*hb(n)),[o/r,i-hb(r)*db(t*t+n*n)]},o}SA.invert=CA((function(t){return t})),BA.invert=function(t,e){return[t,2*rb(ub(e))-Zx]},OA.invert=OA;var LA=1.340264,UA=-.081106,qA=893e-6,PA=.003796,jA=db(3)/2;function IA(t,e){var n=mb(jA*fb(e)),r=n*n,i=r*r*r;return[t*ob(n)/(jA*(LA+3*UA*r+i*(7*qA+9*PA*r))),n*(LA+UA*r+i*(qA+PA*r))]}function $A(t,e){var n=ob(e),r=ob(t)*n;return[n*fb(t)/r,fb(e)/r]}function WA(t,e){var n=e*e,r=n*n;return[t*(.8707-.131979*n+r*(r*(.003971*n-.001529*r)-.013791)),e*(1.007226+n*(.015085+r*(.028874*n-.044475-.005916*r)))]}function HA(t,e){return[ob(e)*fb(t),fb(e)]}function YA(t,e){var n=ob(e),r=1+ob(t)*n;return[n*fb(t)/r,fb(e)/r]}function GA(t,e){return[lb(pb((Zx+e)/2)),-t]}IA.invert=function(t,e){for(var n,r=e,i=r*r,o=i*i*i,a=0;a<12&&(o=(i=(r-=n=(r*(LA+UA*i+o*(qA+PA*i))-e)/(LA+3*UA*i+o*(7*qA+9*PA*i)))*r)*i*i,!(nb(n)<Xx));++a);return[jA*t*(LA+3*UA*i+o*(7*qA+9*PA*i))/ob(r),mb(fb(r)/jA)]},$A.invert=CA(rb),WA.invert=function(t,e){var n,r=e,i=25;do{var o=r*r,a=o*o;r-=n=(r*(1.007226+o*(.015085+a*(.028874*o-.044475-.005916*a)))-e)/(1.007226+o*(.045255+a*(.259866*o-.311325-.005916*11*a)))}while(nb(n)>Vx&&--i>0);return[t/(.8707+(o=r*r)*(o*(o*o*o*(.003971-.001529*o)-.013791)-.131979)),r]},HA.invert=CA(mb),YA.invert=CA((function(t){return 2*rb(t)})),GA.invert=function(t,e){return[-e,2*rb(ub(t))-Zx]};var VA=Math.abs,XA=Math.cos,JA=Math.sin,ZA=Math.PI,QA=ZA/2,KA=function(t){return t>0?Math.sqrt(t):0}(2);function tM(t){return t>1?QA:t<-1?-QA:Math.asin(t)}function eM(t,e){var n,r=t*JA(e),i=30;do{e-=n=(e+JA(e)-r)/(1+XA(e))}while(VA(n)>1e-6&&--i>0);return e/2}var nM=function(t,e,n){function r(r,i){return[t*r*XA(i=eM(n,i)),e*JA(i)]}return r.invert=function(r,i){return i=tM(i/e),[r/(t*XA(i)),tM((2*i+JA(2*i))/n)]},r}(KA/QA,KA,ZA);const rM=lA(),iM=["clipAngle","clipExtent","scale","translate","center","rotate","parallels","precision","reflectX","reflectY","coefficient","distance","fraction","lobes","parallel","radius","ratio","spacing","tilt"];function oM(t,e){return function n(){const r=e();return r.type=t,r.path=lA().projection(r),r.copy=r.copy||function(){const t=n();return iM.forEach((e=>{r[e]&&t[e](r[e]())})),t.path.pointRadius(r.path.pointRadius()),t},r}}function aM(t,e){if(!t||"string"!=typeof t)throw new Error("Projection type must be a name string.");return t=t.toLowerCase(),arguments.length>1?(sM[t]=oM(t,e),this):sM[t]||null}function uM(t){return t&&t.path||rM}const sM={albers:EA,albersusa:function(){var t,e,n,r,i,o,a=EA(),u=MA().rotate([154,0]).center([-2,58.5]).parallels([55,65]),s=MA().rotate([157,0]).center([-3,19.9]).parallels([8,18]),l={point:function(t,e){o=[t,e]}};function c(t){var e=t[0],a=t[1];return o=null,n.point(e,a),o||(r.point(e,a),o)||(i.point(e,a),o)}function f(){return t=e=null,c}return c.invert=function(t){var e=a.scale(),n=a.translate(),r=(t[0]-n[0])/e,i=(t[1]-n[1])/e;return(i>=.12&&i<.234&&r>=-.425&&r<-.214?u:i>=.166&&i<.234&&r>=-.214&&r<-.115?s:a).invert(t)},c.stream=function(n){return t&&e===n?t:(r=[a.stream(e=n),u.stream(n),s.stream(n)],i=r.length,t={point:function(t,e){for(var n=-1;++n<i;)r[n].point(t,e)},sphere:function(){for(var t=-1;++t<i;)r[t].sphere()},lineStart:function(){for(var t=-1;++t<i;)r[t].lineStart()},lineEnd:function(){for(var t=-1;++t<i;)r[t].lineEnd()},polygonStart:function(){for(var t=-1;++t<i;)r[t].polygonStart()},polygonEnd:function(){for(var t=-1;++t<i;)r[t].polygonEnd()}});var r,i},c.precision=function(t){return arguments.length?(a.precision(t),u.precision(t),s.precision(t),f()):a.precision()},c.scale=function(t){return arguments.length?(a.scale(t),u.scale(.35*t),s.scale(t),c.translate(a.translate())):a.scale()},c.translate=function(t){if(!arguments.length)return a.translate();var e=a.scale(),o=+t[0],c=+t[1];return n=a.translate(t).clipExtent([[o-.455*e,c-.238*e],[o+.455*e,c+.238*e]]).stream(l),r=u.translate([o-.307*e,c+.201*e]).clipExtent([[o-.425*e+Vx,c+.12*e+Vx],[o-.214*e-Vx,c+.234*e-Vx]]).stream(l),i=s.translate([o-.205*e,c+.212*e]).clipExtent([[o-.214*e+Vx,c+.166*e+Vx],[o-.115*e-Vx,c+.234*e-Vx]]).stream(l),f()},c.fitExtent=function(t,e){return dA(c,t,e)},c.fitSize=function(t,e){return pA(c,t,e)},c.fitWidth=function(t,e){return gA(c,t,e)},c.fitHeight=function(t,e){return mA(c,t,e)},c.scale(1070)},azimuthalequalarea:function(){return bA(FA).scale(124.75).clipAngle(179.999)},azimuthalequidistant:function(){return bA(SA).scale(79.4188).clipAngle(179.999)},conicconformal:function(){return kA(zA).scale(109.5).parallels([30,30])},conicequalarea:MA,conicequidistant:function(){return kA(RA).scale(131.154).center([0,13.9389])},equalEarth:function(){return bA(IA).scale(177.158)},equirectangular:function(){return bA(OA).scale(152.63)},gnomonic:function(){return bA($A).scale(144.049).clipAngle(60)},identity:function(){var t,e,n,r,i,o,a,u=1,s=0,l=0,c=1,f=1,h=0,d=null,p=1,g=1,m=cA({point:function(t,e){var n=_([t,e]);this.stream.point(n[0],n[1])}}),y=fk;function v(){return p=u*c,g=u*f,o=a=null,_}function _(n){var r=n[0]*p,i=n[1]*g;if(h){var o=i*t-r*e;r=r*t+i*e,i=o}return[r+s,i+l]}return _.invert=function(n){var r=n[0]-s,i=n[1]-l;if(h){var o=i*t+r*e;r=r*t-i*e,i=o}return[r/p,i/g]},_.stream=function(t){return o&&a===t?o:o=m(y(a=t))},_.postclip=function(t){return arguments.length?(y=t,d=n=r=i=null,v()):y},_.clipExtent=function(t){return arguments.length?(y=null==t?(d=n=r=i=null,fk):ik(d=+t[0][0],n=+t[0][1],r=+t[1][0],i=+t[1][1]),v()):null==d?null:[[d,n],[r,i]]},_.scale=function(t){return arguments.length?(u=+t,v()):u},_.translate=function(t){return arguments.length?(s=+t[0],l=+t[1],v()):[s,l]},_.angle=function(n){return arguments.length?(e=fb(h=n%360*eb),t=ob(h),v()):h*tb},_.reflectX=function(t){return arguments.length?(c=t?-1:1,v()):c<0},_.reflectY=function(t){return arguments.length?(f=t?-1:1,v()):f<0},_.fitExtent=function(t,e){return dA(_,t,e)},_.fitSize=function(t,e){return pA(_,t,e)},_.fitWidth=function(t,e){return gA(_,t,e)},_.fitHeight=function(t,e){return mA(_,t,e)},_},mercator:function(){return TA(BA).scale(961/Kx)},mollweide:function(){return bA(nM).scale(169.529)},naturalEarth1:function(){return bA(WA).scale(175.295)},orthographic:function(){return bA(HA).scale(249.5).clipAngle(90.000001)},stereographic:function(){return bA(YA).scale(250).clipAngle(142)},transversemercator:function(){var t=TA(GA),e=t.center,n=t.rotate;return t.center=function(t){return arguments.length?e([-t[1],t[0]]):[(t=e())[1],-t[0]]},t.rotate=function(t){return arguments.length?n([t[0],t[1],t.length>2?t[2]+90:90]):[(t=n())[0],t[1],t[2]-90]},n([0,0,90]).scale(159.155)}};for(const t in sM)aM(t,sM[t]);function lM(){}const cM=[[],[[[1,1.5],[.5,1]]],[[[1.5,1],[1,1.5]]],[[[1.5,1],[.5,1]]],[[[1,.5],[1.5,1]]],[[[1,1.5],[.5,1]],[[1,.5],[1.5,1]]],[[[1,.5],[1,1.5]]],[[[1,.5],[.5,1]]],[[[.5,1],[1,.5]]],[[[1,1.5],[1,.5]]],[[[.5,1],[1,.5]],[[1.5,1],[1,1.5]]],[[[1.5,1],[1,.5]]],[[[.5,1],[1.5,1]]],[[[1,1.5],[1.5,1]]],[[[.5,1],[1,1.5]]],[]];function fM(){var t=1,e=1,n=a;function r(t,e){return e.map((e=>i(t,e)))}function i(r,i){var a=[],u=[];return function(n,r,i){var a,u,s,l,c,f,h=new Array,d=new Array;a=u=-1,l=n[0]>=r,cM[l<<1].forEach(p);for(;++a<t-1;)s=l,l=n[a+1]>=r,cM[s|l<<1].forEach(p);cM[l<<0].forEach(p);for(;++u<e-1;){for(a=-1,l=n[u*t+t]>=r,c=n[u*t]>=r,cM[l<<1|c<<2].forEach(p);++a<t-1;)s=l,l=n[u*t+t+a+1]>=r,f=c,c=n[u*t+a+1]>=r,cM[s|l<<1|c<<2|f<<3].forEach(p);cM[l|c<<3].forEach(p)}a=-1,c=n[u*t]>=r,cM[c<<2].forEach(p);for(;++a<t-1;)f=c,c=n[u*t+a+1]>=r,cM[c<<2|f<<3].forEach(p);function p(t){var e,n,r=[t[0][0]+a,t[0][1]+u],s=[t[1][0]+a,t[1][1]+u],l=o(r),c=o(s);(e=d[l])?(n=h[c])?(delete d[e.end],delete h[n.start],e===n?(e.ring.push(s),i(e.ring)):h[e.start]=d[n.end]={start:e.start,end:n.end,ring:e.ring.concat(n.ring)}):(delete d[e.end],e.ring.push(s),d[e.end=c]=e):(e=h[c])?(n=d[l])?(delete h[e.start],delete d[n.end],e===n?(e.ring.push(s),i(e.ring)):h[n.start]=d[e.end]={start:n.start,end:e.end,ring:n.ring.concat(e.ring)}):(delete h[e.start],e.ring.unshift(r),h[e.start=l]=e):h[l]=d[c]={start:l,end:c,ring:[r,s]}}cM[c<<3].forEach(p)}(r,i,(t=>{n(t,r,i),function(t){var e=0,n=t.length,r=t[n-1][1]*t[0][0]-t[n-1][0]*t[0][1];for(;++e<n;)r+=t[e-1][1]*t[e][0]-t[e-1][0]*t[e][1];return r}(t)>0?a.push([t]):u.push(t)})),u.forEach((t=>{for(var e,n=0,r=a.length;n<r;++n)if(-1!==hM((e=a[n])[0],t))return void e.push(t)})),{type:"MultiPolygon",value:i,coordinates:a}}function o(e){return 2*e[0]+e[1]*(t+1)*4}function a(n,r,i){n.forEach((n=>{var o,a=n[0],u=n[1],s=0|a,l=0|u,c=r[l*t+s];a>0&&a<t&&s===a&&(o=r[l*t+s-1],n[0]=a+(i-o)/(c-o)-.5),u>0&&u<e&&l===u&&(o=r[(l-1)*t+s],n[1]=u+(i-o)/(c-o)-.5)}))}return r.contour=i,r.size=function(n){if(!arguments.length)return[t,e];var i=Math.floor(n[0]),o=Math.floor(n[1]);return i>=0&&o>=0||u("invalid size"),t=i,e=o,r},r.smooth=function(t){return arguments.length?(n=t?a:lM,r):n===a},r}function hM(t,e){for(var n,r=-1,i=e.length;++r<i;)if(n=dM(t,e[r]))return n;return 0}function dM(t,e){for(var n=e[0],r=e[1],i=-1,o=0,a=t.length,u=a-1;o<a;u=o++){var s=t[o],l=s[0],c=s[1],f=t[u],h=f[0],d=f[1];if(pM(s,f,e))return 0;c>r!=d>r&&n<(h-l)*(r-c)/(d-c)+l&&(i=-i)}return i}function pM(t,e,n){var r,i,o,a;return function(t,e,n){return(e[0]-t[0])*(n[1]-t[1])==(n[0]-t[0])*(e[1]-t[1])}(t,e,n)&&(i=t[r=+(t[0]===e[0])],o=n[r],a=e[r],i<=o&&o<=a||a<=o&&o<=i)}function gM(t,e,n){return function(r){var i=tt(r),o=n?Math.min(i[0],0):i[0],a=i[1],u=a-o,s=e?he(o,a,t):u/(t+1);return be(o+s,a,s)}}function mM(t){$a.call(this,null,t)}function yM(t,e,n,r,i){const o=t.x1||0,a=t.y1||0,u=e*n<0;function s(t){t.forEach(l)}function l(t){u&&t.reverse(),t.forEach(c)}function c(t){t[0]=(t[0]-o)*e+r,t[1]=(t[1]-a)*n+i}return function(t){return t.coordinates.forEach(s),t}}function vM(t,e,n){const r=t>=0?t:Ja(e,n);return Math.round((Math.sqrt(4*r*r+1)-1)/2)}function _M(t){return H(t)?t:Z(+t)}function xM(){var t=t=>t[0],e=t=>t[1],n=d,r=[-1,-1],i=960,o=500,a=2;function s(u,s){const l=vM(r[0],u,t)>>a,c=vM(r[1],u,e)>>a,f=l?l+2:0,h=c?c+2:0,d=2*f+(i>>a),p=2*h+(o>>a),g=new Float32Array(d*p),m=new Float32Array(d*p);let y=g;u.forEach((r=>{const i=f+(+t(r)>>a),o=h+(+e(r)>>a);i>=0&&i<d&&o>=0&&o<p&&(g[i+o*d]+=+n(r))})),l>0&&c>0?(bM(d,p,g,m,l),wM(d,p,m,g,c),bM(d,p,g,m,l),wM(d,p,m,g,c),bM(d,p,g,m,l),wM(d,p,m,g,c)):l>0?(bM(d,p,g,m,l),bM(d,p,m,g,l),bM(d,p,g,m,l),y=m):c>0&&(wM(d,p,g,m,c),wM(d,p,m,g,c),wM(d,p,g,m,c),y=m);const v=s?Math.pow(2,-2*a):1/we(y);for(let t=0,e=d*p;t<e;++t)y[t]*=v;return{values:y,scale:1<<a,width:d,height:p,x1:f,y1:h,x2:f+(i>>a),y2:h+(o>>a)}}return s.x=function(e){return arguments.length?(t=_M(e),s):t},s.y=function(t){return arguments.length?(e=_M(t),s):e},s.weight=function(t){return arguments.length?(n=_M(t),s):n},s.size=function(t){if(!arguments.length)return[i,o];var e=+t[0],n=+t[1];return e>=0&&n>=0||u("invalid size"),i=e,o=n,s},s.cellSize=function(t){return arguments.length?((t=+t)>=1||u("invalid cell size"),a=Math.floor(Math.log(t)/Math.LN2),s):1<<a},s.bandwidth=function(t){return arguments.length?(1===(t=$(t)).length&&(t=[+t[0],+t[0]]),2!==t.length&&u("invalid bandwidth"),r=t,s):r},s}function bM(t,e,n,r,i){const o=1+(i<<1);for(let a=0;a<e;++a)for(let e=0,u=0;e<t+i;++e)e<t&&(u+=n[e+a*t]),e>=i&&(e>=o&&(u-=n[e-o+a*t]),r[e-i+a*t]=u/Math.min(e+1,t-1+o-e,o))}function wM(t,e,n,r,i){const o=1+(i<<1);for(let a=0;a<t;++a)for(let u=0,s=0;u<e+i;++u)u<e&&(s+=n[a+u*t]),u>=i&&(u>=o&&(s-=n[a+(u-o)*t]),r[a+(u-i)*t]=s/Math.min(u+1,e-1+o-u,o))}function kM(t){$a.call(this,null,t)}mM.Definition={type:"Isocontour",metadata:{generates:!0},params:[{name:"field",type:"field"},{name:"thresholds",type:"number",array:!0},{name:"levels",type:"number"},{name:"nice",type:"boolean",default:!1},{name:"resolve",type:"enum",values:["shared","independent"],default:"independent"},{name:"zero",type:"boolean",default:!0},{name:"smooth",type:"boolean",default:!0},{name:"scale",type:"number",expr:!0},{name:"translate",type:"number",array:!0,expr:!0},{name:"as",type:"string",null:!0,default:"contour"}]},ut(mM,$a,{transform(t,e){if(this.value&&!e.changed()&&!t.modified())return e.StopPropagation;var n=e.fork(e.NO_SOURCE|e.NO_FIELDS),r=e.materialize(e.SOURCE).source,i=t.field||f,o=fM().smooth(!1!==t.smooth),a=t.thresholds||function(t,e,n){const r=gM(n.levels||10,n.nice,!1!==n.zero);return"shared"!==n.resolve?r:r(t.map((t=>de(e(t).values))))}(r,i,t),u=null===t.as?null:t.as||"contour",s=[];return r.forEach((e=>{const n=i(e),r=o.size([n.width,n.height])(n.values,v(a)?a:a(n.values));!function(t,e,n,r){let i=r.scale||e.scale,o=r.translate||e.translate;H(i)&&(i=i(n,r));H(o)&&(o=o(n,r));if((1===i||null==i)&&!o)return;const a=(ht(i)?i:i[0])||1,u=(ht(i)?i:i[1])||1,s=o&&o[0]||0,l=o&&o[1]||0;t.forEach(yM(e,a,u,s,l))}(r,n,e,t),r.forEach((t=>{s.push(pa(e,ha(null!=u?{[u]:t}:t)))}))})),this.value&&(n.rem=this.value),this.value=n.source=n.add=s,n}}),kM.Definition={type:"KDE2D",metadata:{generates:!0},params:[{name:"size",type:"number",array:!0,length:2,required:!0},{name:"x",type:"field",required:!0},{name:"y",type:"field",required:!0},{name:"weight",type:"field"},{name:"groupby",type:"field",array:!0},{name:"cellSize",type:"number"},{name:"bandwidth",type:"number",array:!0,length:2},{name:"counts",type:"boolean",default:!1},{name:"as",type:"string",default:"grid"}]};const AM=["x","y","weight","size","cellSize","bandwidth"];function MM(t,e){return AM.forEach((n=>null!=e[n]?t[n](e[n]):0)),t}function EM(t){$a.call(this,null,t)}ut(kM,$a,{transform(t,e){if(this.value&&!e.changed()&&!t.modified())return e.StopPropagation;var r,i=e.fork(e.NO_SOURCE|e.NO_FIELDS),o=function(t,e){var n,r,i,o,a,u,s=[],l=t=>t(o);if(null==e)s.push(t);else for(n={},r=0,i=t.length;r<i;++r)o=t[r],(u=n[a=e.map(l)])||(n[a]=u=[],u.dims=a,s.push(u)),u.push(o);return s}(e.materialize(e.SOURCE).source,t.groupby),a=(t.groupby||[]).map(n),u=MM(xM(),t),s=t.as||"grid";return r=o.map((e=>ha(function(t,e){for(let n=0;n<a.length;++n)t[a[n]]=e[n];return t}({[s]:u(e,t.counts)},e.dims)))),this.value&&(i.rem=this.value),this.value=i.source=i.add=r,i}}),EM.Definition={type:"Contour",metadata:{generates:!0},params:[{name:"size",type:"number",array:!0,length:2,required:!0},{name:"values",type:"number",array:!0},{name:"x",type:"field"},{name:"y",type:"field"},{name:"weight",type:"field"},{name:"cellSize",type:"number"},{name:"bandwidth",type:"number"},{name:"count",type:"number"},{name:"nice",type:"boolean",default:!1},{name:"thresholds",type:"number",array:!0},{name:"smooth",type:"boolean",default:!0}]},ut(EM,$a,{transform(t,e){if(this.value&&!e.changed()&&!t.modified())return e.StopPropagation;var n,r,i=e.fork(e.NO_SOURCE|e.NO_FIELDS),o=fM().smooth(!1!==t.smooth),a=t.values,u=t.thresholds||gM(t.count||10,t.nice,!!a),s=t.size;return a||(a=e.materialize(e.SOURCE).source,r=yM(n=MM(xM(),t)(a,!0),n.scale||1,n.scale||1,0,0),s=[n.width,n.height],a=n.values),u=v(u)?u:u(a),a=o.size(s)(a,u),r&&a.forEach(r),this.value&&(i.rem=this.value),this.value=i.source=i.add=(a||[]).map(ha),i}});const DM="Feature",CM="FeatureCollection";function FM(t){$a.call(this,null,t)}function SM(t){$a.call(this,null,t)}function BM(t){$a.call(this,null,t)}function TM(t){$a.call(this,null,t)}function NM(t){$a.call(this,[],t),this.generator=function(){var t,e,n,r,i,o,a,u,s,l,c,f,h=10,d=h,p=90,g=360,m=2.5;function y(){return{type:"MultiLineString",coordinates:v()}}function v(){return be(ab(r/p)*p,n,p).map(c).concat(be(ab(u/g)*g,a,g).map(f)).concat(be(ab(e/h)*h,t,h).filter((function(t){return nb(t%p)>Vx})).map(s)).concat(be(ab(o/d)*d,i,d).filter((function(t){return nb(t%g)>Vx})).map(l))}return y.lines=function(){return v().map((function(t){return{type:"LineString",coordinates:t}}))},y.outline=function(){return{type:"Polygon",coordinates:[c(r).concat(f(a).slice(1),c(n).reverse().slice(1),f(u).reverse().slice(1))]}},y.extent=function(t){return arguments.length?y.extentMajor(t).extentMinor(t):y.extentMinor()},y.extentMajor=function(t){return arguments.length?(r=+t[0][0],n=+t[1][0],u=+t[0][1],a=+t[1][1],r>n&&(t=r,r=n,n=t),u>a&&(t=u,u=a,a=t),y.precision(m)):[[r,u],[n,a]]},y.extentMinor=function(n){return arguments.length?(e=+n[0][0],t=+n[1][0],o=+n[0][1],i=+n[1][1],e>t&&(n=e,e=t,t=n),o>i&&(n=o,o=i,i=n),y.precision(m)):[[e,o],[t,i]]},y.step=function(t){return arguments.length?y.stepMajor(t).stepMinor(t):y.stepMinor()},y.stepMajor=function(t){return arguments.length?(p=+t[0],g=+t[1],y):[p,g]},y.stepMinor=function(t){return arguments.length?(h=+t[0],d=+t[1],y):[h,d]},y.precision=function(h){return arguments.length?(m=+h,s=ok(o,i,90),l=ak(e,t,m),c=ok(u,a,90),f=ak(r,n,m),y):m},y.extentMajor([[-180,-89.999999],[180,89.999999]]).extentMinor([[-180,-80.000001],[180,80.000001]])}()}function zM(t){$a.call(this,null,t)}function OM(t){if(!H(t))return!1;const e=Dt(r(t));return e.$x||e.$y||e.$value||e.$max}function RM(t){$a.call(this,null,t),this.modified(!0)}function LM(t,e,n){H(t[e])&&t[e](n)}FM.Definition={type:"GeoJSON",metadata:{},params:[{name:"fields",type:"field",array:!0,length:2},{name:"geojson",type:"field"}]},ut(FM,$a,{transform(t,e){var n,i=this._features,o=this._points,a=t.fields,u=a&&a[0],s=a&&a[1],l=t.geojson||!a&&f,c=e.ADD;n=t.modified()||e.changed(e.REM)||e.modified(r(l))||u&&e.modified(r(u))||s&&e.modified(r(s)),this.value&&!n||(c=e.SOURCE,this._features=i=[],this._points=o=[]),l&&e.visit(c,(t=>i.push(l(t)))),u&&s&&(e.visit(c,(t=>{var e=u(t),n=s(t);null!=e&&null!=n&&(e=+e)===e&&(n=+n)===n&&o.push([e,n])})),i=i.concat({type:DM,geometry:{type:"MultiPoint",coordinates:o}})),this.value={type:CM,features:i}}}),SM.Definition={type:"GeoPath",metadata:{modifies:!0},params:[{name:"projection",type:"projection"},{name:"field",type:"field"},{name:"pointRadius",type:"number",expr:!0},{name:"as",type:"string",default:"path"}]},ut(SM,$a,{transform(t,e){var n=e.fork(e.ALL),r=this.value,i=t.field||f,o=t.as||"path",a=n.SOURCE;!r||t.modified()?(this.value=r=uM(t.projection),n.materialize().reflow()):a=i===f||e.modified(i.fields)?n.ADD_MOD:n.ADD;const u=function(t,e){const n=t.pointRadius();t.context(null),null!=e&&t.pointRadius(e);return n}(r,t.pointRadius);return n.visit(a,(t=>t[o]=r(i(t)))),r.pointRadius(u),n.modifies(o)}}),BM.Definition={type:"GeoPoint",metadata:{modifies:!0},params:[{name:"projection",type:"projection",required:!0},{name:"fields",type:"field",array:!0,required:!0,length:2},{name:"as",type:"string",array:!0,length:2,default:["x","y"]}]},ut(BM,$a,{transform(t,e){var n,r=t.projection,i=t.fields[0],o=t.fields[1],a=t.as||["x","y"],u=a[0],s=a[1];function l(t){const e=r([i(t),o(t)]);e?(t[u]=e[0],t[s]=e[1]):(t[u]=void 0,t[s]=void 0)}return t.modified()?e=e.materialize().reflow(!0).visit(e.SOURCE,l):(n=e.modified(i.fields)||e.modified(o.fields),e.visit(n?e.ADD_MOD:e.ADD,l)),e.modifies(a)}}),TM.Definition={type:"GeoShape",metadata:{modifies:!0,nomod:!0},params:[{name:"projection",type:"projection"},{name:"field",type:"field",default:"datum"},{name:"pointRadius",type:"number",expr:!0},{name:"as",type:"string",default:"shape"}]},ut(TM,$a,{transform(t,e){var n=e.fork(e.ALL),r=this.value,i=t.as||"shape",o=n.ADD;return r&&!t.modified()||(this.value=r=function(t,e,n){const r=null==n?n=>t(e(n)):r=>{var i=t.pointRadius(),o=t.pointRadius(n)(e(r));return t.pointRadius(i),o};return r.context=e=>(t.context(e),r),r}(uM(t.projection),t.field||l("datum"),t.pointRadius),n.materialize().reflow(),o=n.SOURCE),n.visit(o,(t=>t[i]=r)),n.modifies(i)}}),NM.Definition={type:"Graticule",metadata:{changes:!0,generates:!0},params:[{name:"extent",type:"array",array:!0,length:2,content:{type:"number",array:!0,length:2}},{name:"extentMajor",type:"array",array:!0,length:2,content:{type:"number",array:!0,length:2}},{name:"extentMinor",type:"array",array:!0,length:2,content:{type:"number",array:!0,length:2}},{name:"step",type:"number",array:!0,length:2},{name:"stepMajor",type:"number",array:!0,length:2,default:[90,360]},{name:"stepMinor",type:"number",array:!0,length:2,default:[10,10]},{name:"precision",type:"number",default:2.5}]},ut(NM,$a,{transform(t,e){var n,r=this.value,i=this.generator;if(!r.length||t.modified())for(const e in t)H(i[e])&&i[e](t[e]);return n=i(),r.length?e.mod.push(ga(r[0],n)):e.add.push(ha(n)),r[0]=n,e}}),zM.Definition={type:"heatmap",metadata:{modifies:!0},params:[{name:"field",type:"field"},{name:"color",type:"string",expr:!0},{name:"opacity",type:"number",expr:!0},{name:"resolve",type:"enum",values:["shared","independent"],default:"independent"},{name:"as",type:"string",default:"image"}]},ut(zM,$a,{transform(t,e){if(!e.changed()&&!t.modified())return e.StopPropagation;var n=e.materialize(e.SOURCE).source,r="shared"===t.resolve,i=t.field||f,o=function(t,e){let n;H(t)?(n=n=>t(n,e),n.dep=OM(t)):t?n=Z(t):(n=t=>t.$value/t.$max||0,n.dep=!0);return n}(t.opacity,t),a=function(t,e){let n;H(t)?(n=n=>Zc(t(n,e)),n.dep=OM(t)):n=Z(Zc(t||"#888"));return n}(t.color,t),u=t.as||"image",s={$x:0,$y:0,$value:0,$max:r?de(n.map((t=>de(i(t).values)))):0};return n.forEach((t=>{const e=i(t),n=K({},t,s);r||(n.$max=de(e.values||[])),t[u]=function(t,e,n,r){const i=t.width,o=t.height,a=t.x1||0,u=t.y1||0,s=t.x2||i,l=t.y2||o,c=t.values,f=c?t=>c[t]:h,d=kc(s-a,l-u),p=d.getContext("2d"),g=p.getImageData(0,0,s-a,l-u),m=g.data;for(let t=u,o=0;t<l;++t){e.$y=t-u;for(let u=a,l=t*i;u<s;++u,o+=4){e.$x=u-a,e.$value=f(u+l);const t=n(e);m[o+0]=t.r,m[o+1]=t.g,m[o+2]=t.b,m[o+3]=~~(255*r(e))}}return p.putImageData(g,0,0),d}(e,n,a.dep?a:Z(a(n)),o.dep?o:Z(o(n)))})),e.reflow(!0).modifies(u)}}),ut(RM,$a,{transform(t,e){let n=this.value;return!n||t.modified("type")?(this.value=n=function(t){const e=aM((t||"mercator").toLowerCase());e||u("Unrecognized projection type: "+t);return e()}(t.type),iM.forEach((e=>{null!=t[e]&&LM(n,e,t[e])}))):iM.forEach((e=>{t.modified(e)&&LM(n,e,t[e])})),null!=t.pointRadius&&n.path.pointRadius(t.pointRadius),t.fit&&function(t,e){const n=function(t){return 1===(t=$(t)).length?t[0]:{type:CM,features:t.reduce(((t,e)=>t.concat(function(t){return t.type===CM?t.features:$(t).filter((t=>null!=t)).map((t=>t.type===DM?t:{type:DM,geometry:t}))}(e))),[])}}(e.fit);e.extent?t.fitExtent(e.extent,n):e.size&&t.fitSize(e.size,n)}(n,t),e.fork(e.NO_SOURCE|e.NO_FIELDS)}});var UM=Object.freeze({__proto__:null,contour:EM,geojson:FM,geopath:SM,geopoint:BM,geoshape:TM,graticule:NM,heatmap:zM,isocontour:mM,kde2d:kM,projection:RM});function qM(t,e,n,r){if(isNaN(e)||isNaN(n))return t;var i,o,a,u,s,l,c,f,h,d=t._root,p={data:r},g=t._x0,m=t._y0,y=t._x1,v=t._y1;if(!d)return t._root=p,t;for(;d.length;)if((l=e>=(o=(g+y)/2))?g=o:y=o,(c=n>=(a=(m+v)/2))?m=a:v=a,i=d,!(d=d[f=c<<1|l]))return i[f]=p,t;if(u=+t._x.call(null,d.data),s=+t._y.call(null,d.data),e===u&&n===s)return p.next=d,i?i[f]=p:t._root=p,t;do{i=i?i[f]=new Array(4):t._root=new Array(4),(l=e>=(o=(g+y)/2))?g=o:y=o,(c=n>=(a=(m+v)/2))?m=a:v=a}while((f=c<<1|l)==(h=(s>=a)<<1|u>=o));return i[h]=d,i[f]=p,t}function PM(t,e,n,r,i){this.node=t,this.x0=e,this.y0=n,this.x1=r,this.y1=i}function jM(t){return t[0]}function IM(t){return t[1]}function $M(t,e,n){var r=new WM(null==e?jM:e,null==n?IM:n,NaN,NaN,NaN,NaN);return null==t?r:r.addAll(t)}function WM(t,e,n,r,i,o){this._x=t,this._y=e,this._x0=n,this._y0=r,this._x1=i,this._y1=o,this._root=void 0}function HM(t){for(var e={data:t.data},n=e;t=t.next;)n=n.next={data:t.data};return e}var YM=$M.prototype=WM.prototype;function GM(t){return function(){return t}}function VM(t){return 1e-6*(t()-.5)}function XM(t){return t.x+t.vx}function JM(t){return t.y+t.vy}function ZM(t){return t.index}function QM(t,e){var n=t.get(e);if(!n)throw new Error("node not found: "+e);return n}YM.copy=function(){var t,e,n=new WM(this._x,this._y,this._x0,this._y0,this._x1,this._y1),r=this._root;if(!r)return n;if(!r.length)return n._root=HM(r),n;for(t=[{source:r,target:n._root=new Array(4)}];r=t.pop();)for(var i=0;i<4;++i)(e=r.source[i])&&(e.length?t.push({source:e,target:r.target[i]=new Array(4)}):r.target[i]=HM(e));return n},YM.add=function(t){const e=+this._x.call(null,t),n=+this._y.call(null,t);return qM(this.cover(e,n),e,n,t)},YM.addAll=function(t){var e,n,r,i,o=t.length,a=new Array(o),u=new Array(o),s=1/0,l=1/0,c=-1/0,f=-1/0;for(n=0;n<o;++n)isNaN(r=+this._x.call(null,e=t[n]))||isNaN(i=+this._y.call(null,e))||(a[n]=r,u[n]=i,r<s&&(s=r),r>c&&(c=r),i<l&&(l=i),i>f&&(f=i));if(s>c||l>f)return this;for(this.cover(s,l).cover(c,f),n=0;n<o;++n)qM(this,a[n],u[n],t[n]);return this},YM.cover=function(t,e){if(isNaN(t=+t)||isNaN(e=+e))return this;var n=this._x0,r=this._y0,i=this._x1,o=this._y1;if(isNaN(n))i=(n=Math.floor(t))+1,o=(r=Math.floor(e))+1;else{for(var a,u,s=i-n||1,l=this._root;n>t||t>=i||r>e||e>=o;)switch(u=(e<r)<<1|t<n,(a=new Array(4))[u]=l,l=a,s*=2,u){case 0:i=n+s,o=r+s;break;case 1:n=i-s,o=r+s;break;case 2:i=n+s,r=o-s;break;case 3:n=i-s,r=o-s}this._root&&this._root.length&&(this._root=l)}return this._x0=n,this._y0=r,this._x1=i,this._y1=o,this},YM.data=function(){var t=[];return this.visit((function(e){if(!e.length)do{t.push(e.data)}while(e=e.next)})),t},YM.extent=function(t){return arguments.length?this.cover(+t[0][0],+t[0][1]).cover(+t[1][0],+t[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]},YM.find=function(t,e,n){var r,i,o,a,u,s,l,c=this._x0,f=this._y0,h=this._x1,d=this._y1,p=[],g=this._root;for(g&&p.push(new PM(g,c,f,h,d)),null==n?n=1/0:(c=t-n,f=e-n,h=t+n,d=e+n,n*=n);s=p.pop();)if(!(!(g=s.node)||(i=s.x0)>h||(o=s.y0)>d||(a=s.x1)<c||(u=s.y1)<f))if(g.length){var m=(i+a)/2,y=(o+u)/2;p.push(new PM(g[3],m,y,a,u),new PM(g[2],i,y,m,u),new PM(g[1],m,o,a,y),new PM(g[0],i,o,m,y)),(l=(e>=y)<<1|t>=m)&&(s=p[p.length-1],p[p.length-1]=p[p.length-1-l],p[p.length-1-l]=s)}else{var v=t-+this._x.call(null,g.data),_=e-+this._y.call(null,g.data),x=v*v+_*_;if(x<n){var b=Math.sqrt(n=x);c=t-b,f=e-b,h=t+b,d=e+b,r=g.data}}return r},YM.remove=function(t){if(isNaN(o=+this._x.call(null,t))||isNaN(a=+this._y.call(null,t)))return this;var e,n,r,i,o,a,u,s,l,c,f,h,d=this._root,p=this._x0,g=this._y0,m=this._x1,y=this._y1;if(!d)return this;if(d.length)for(;;){if((l=o>=(u=(p+m)/2))?p=u:m=u,(c=a>=(s=(g+y)/2))?g=s:y=s,e=d,!(d=d[f=c<<1|l]))return this;if(!d.length)break;(e[f+1&3]||e[f+2&3]||e[f+3&3])&&(n=e,h=f)}for(;d.data!==t;)if(r=d,!(d=d.next))return this;return(i=d.next)&&delete d.next,r?(i?r.next=i:delete r.next,this):e?(i?e[f]=i:delete e[f],(d=e[0]||e[1]||e[2]||e[3])&&d===(e[3]||e[2]||e[1]||e[0])&&!d.length&&(n?n[h]=d:this._root=d),this):(this._root=i,this)},YM.removeAll=function(t){for(var e=0,n=t.length;e<n;++e)this.remove(t[e]);return this},YM.root=function(){return this._root},YM.size=function(){var t=0;return this.visit((function(e){if(!e.length)do{++t}while(e=e.next)})),t},YM.visit=function(t){var e,n,r,i,o,a,u=[],s=this._root;for(s&&u.push(new PM(s,this._x0,this._y0,this._x1,this._y1));e=u.pop();)if(!t(s=e.node,r=e.x0,i=e.y0,o=e.x1,a=e.y1)&&s.length){var l=(r+o)/2,c=(i+a)/2;(n=s[3])&&u.push(new PM(n,l,c,o,a)),(n=s[2])&&u.push(new PM(n,r,c,l,a)),(n=s[1])&&u.push(new PM(n,l,i,o,c)),(n=s[0])&&u.push(new PM(n,r,i,l,c))}return this},YM.visitAfter=function(t){var e,n=[],r=[];for(this._root&&n.push(new PM(this._root,this._x0,this._y0,this._x1,this._y1));e=n.pop();){var i=e.node;if(i.length){var o,a=e.x0,u=e.y0,s=e.x1,l=e.y1,c=(a+s)/2,f=(u+l)/2;(o=i[0])&&n.push(new PM(o,a,u,c,f)),(o=i[1])&&n.push(new PM(o,c,u,s,f)),(o=i[2])&&n.push(new PM(o,a,f,c,l)),(o=i[3])&&n.push(new PM(o,c,f,s,l))}r.push(e)}for(;e=r.pop();)t(e.node,e.x0,e.y0,e.x1,e.y1);return this},YM.x=function(t){return arguments.length?(this._x=t,this):this._x},YM.y=function(t){return arguments.length?(this._y=t,this):this._y};var KM={value:()=>{}};function tE(){for(var t,e=0,n=arguments.length,r={};e<n;++e){if(!(t=arguments[e]+"")||t in r||/[\s.]/.test(t))throw new Error("illegal type: "+t);r[t]=[]}return new eE(r)}function eE(t){this._=t}function nE(t,e){return t.trim().split(/^|\s+/).map((function(t){var n="",r=t.indexOf(".");if(r>=0&&(n=t.slice(r+1),t=t.slice(0,r)),t&&!e.hasOwnProperty(t))throw new Error("unknown type: "+t);return{type:t,name:n}}))}function rE(t,e){for(var n,r=0,i=t.length;r<i;++r)if((n=t[r]).name===e)return n.value}function iE(t,e,n){for(var r=0,i=t.length;r<i;++r)if(t[r].name===e){t[r]=KM,t=t.slice(0,r).concat(t.slice(r+1));break}return null!=n&&t.push({name:e,value:n}),t}eE.prototype=tE.prototype={constructor:eE,on:function(t,e){var n,r=this._,i=nE(t+"",r),o=-1,a=i.length;if(!(arguments.length<2)){if(null!=e&&"function"!=typeof e)throw new Error("invalid callback: "+e);for(;++o<a;)if(n=(t=i[o]).type)r[n]=iE(r[n],t.name,e);else if(null==e)for(n in r)r[n]=iE(r[n],t.name,null);return this}for(;++o<a;)if((n=(t=i[o]).type)&&(n=rE(r[n],t.name)))return n},copy:function(){var t={},e=this._;for(var n in e)t[n]=e[n].slice();return new eE(t)},call:function(t,e){if((n=arguments.length-2)>0)for(var n,r,i=new Array(n),o=0;o<n;++o)i[o]=arguments[o+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(o=0,n=(r=this._[t]).length;o<n;++o)r[o].value.apply(e,i)},apply:function(t,e,n){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var r=this._[t],i=0,o=r.length;i<o;++i)r[i].value.apply(e,n)}};var oE,aE,uE=0,sE=0,lE=0,cE=0,fE=0,hE=0,dE="object"==typeof performance&&performance.now?performance:Date,pE="object"==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function gE(){return fE||(pE(mE),fE=dE.now()+hE)}function mE(){fE=0}function yE(){this._call=this._time=this._next=null}function vE(t,e,n){var r=new yE;return r.restart(t,e,n),r}function _E(){fE=(cE=dE.now())+hE,uE=sE=0;try{!function(){gE(),++uE;for(var t,e=oE;e;)(t=fE-e._time)>=0&&e._call.call(void 0,t),e=e._next;--uE}()}finally{uE=0,function(){var t,e,n=oE,r=1/0;for(;n;)n._call?(r>n._time&&(r=n._time),t=n,n=n._next):(e=n._next,n._next=null,n=t?t._next=e:oE=e);aE=t,bE(r)}(),fE=0}}function xE(){var t=dE.now(),e=t-cE;e>1e3&&(hE-=e,cE=t)}function bE(t){uE||(sE&&(sE=clearTimeout(sE)),t-fE>24?(t<1/0&&(sE=setTimeout(_E,t-dE.now()-hE)),lE&&(lE=clearInterval(lE))):(lE||(cE=dE.now(),lE=setInterval(xE,1e3)),uE=1,pE(_E)))}yE.prototype=vE.prototype={constructor:yE,restart:function(t,e,n){if("function"!=typeof t)throw new TypeError("callback is not a function");n=(null==n?gE():+n)+(null==e?0:+e),this._next||aE===this||(aE?aE._next=this:oE=this,aE=this),this._call=t,this._time=n,bE()},stop:function(){this._call&&(this._call=null,this._time=1/0,bE())}};const wE=4294967296;function kE(t){return t.x}function AE(t){return t.y}var ME=Math.PI*(3-Math.sqrt(5));function EE(t){var e,n=1,r=.001,i=1-Math.pow(r,1/300),o=0,a=.6,u=new Map,s=vE(f),l=tE("tick","end"),c=function(){let t=1;return()=>(t=(1664525*t+1013904223)%wE)/wE}();function f(){h(),l.call("tick",e),n<r&&(s.stop(),l.call("end",e))}function h(r){var s,l,c=t.length;void 0===r&&(r=1);for(var f=0;f<r;++f)for(n+=(o-n)*i,u.forEach((function(t){t(n)})),s=0;s<c;++s)null==(l=t[s]).fx?l.x+=l.vx*=a:(l.x=l.fx,l.vx=0),null==l.fy?l.y+=l.vy*=a:(l.y=l.fy,l.vy=0);return e}function d(){for(var e,n=0,r=t.length;n<r;++n){if((e=t[n]).index=n,null!=e.fx&&(e.x=e.fx),null!=e.fy&&(e.y=e.fy),isNaN(e.x)||isNaN(e.y)){var i=10*Math.sqrt(.5+n),o=n*ME;e.x=i*Math.cos(o),e.y=i*Math.sin(o)}(isNaN(e.vx)||isNaN(e.vy))&&(e.vx=e.vy=0)}}function p(e){return e.initialize&&e.initialize(t,c),e}return null==t&&(t=[]),d(),e={tick:h,restart:function(){return s.restart(f),e},stop:function(){return s.stop(),e},nodes:function(n){return arguments.length?(t=n,d(),u.forEach(p),e):t},alpha:function(t){return arguments.length?(n=+t,e):n},alphaMin:function(t){return arguments.length?(r=+t,e):r},alphaDecay:function(t){return arguments.length?(i=+t,e):+i},alphaTarget:function(t){return arguments.length?(o=+t,e):o},velocityDecay:function(t){return arguments.length?(a=1-t,e):1-a},randomSource:function(t){return arguments.length?(c=t,u.forEach(p),e):c},force:function(t,n){return arguments.length>1?(null==n?u.delete(t):u.set(t,p(n)),e):u.get(t)},find:function(e,n,r){var i,o,a,u,s,l=0,c=t.length;for(null==r?r=1/0:r*=r,l=0;l<c;++l)(a=(i=e-(u=t[l]).x)*i+(o=n-u.y)*o)<r&&(s=u,r=a);return s},on:function(t,n){return arguments.length>1?(l.on(t,n),e):l.on(t)}}}const DE={center:function(t,e){var n,r=1;function i(){var i,o,a=n.length,u=0,s=0;for(i=0;i<a;++i)u+=(o=n[i]).x,s+=o.y;for(u=(u/a-t)*r,s=(s/a-e)*r,i=0;i<a;++i)(o=n[i]).x-=u,o.y-=s}return null==t&&(t=0),null==e&&(e=0),i.initialize=function(t){n=t},i.x=function(e){return arguments.length?(t=+e,i):t},i.y=function(t){return arguments.length?(e=+t,i):e},i.strength=function(t){return arguments.length?(r=+t,i):r},i},collide:function(t){var e,n,r,i=1,o=1;function a(){for(var t,a,s,l,c,f,h,d=e.length,p=0;p<o;++p)for(a=$M(e,XM,JM).visitAfter(u),t=0;t<d;++t)s=e[t],f=n[s.index],h=f*f,l=s.x+s.vx,c=s.y+s.vy,a.visit(g);function g(t,e,n,o,a){var u=t.data,d=t.r,p=f+d;if(!u)return e>l+p||o<l-p||n>c+p||a<c-p;if(u.index>s.index){var g=l-u.x-u.vx,m=c-u.y-u.vy,y=g*g+m*m;y<p*p&&(0===g&&(y+=(g=VM(r))*g),0===m&&(y+=(m=VM(r))*m),y=(p-(y=Math.sqrt(y)))/y*i,s.vx+=(g*=y)*(p=(d*=d)/(h+d)),s.vy+=(m*=y)*p,u.vx-=g*(p=1-p),u.vy-=m*p)}}}function u(t){if(t.data)return t.r=n[t.data.index];for(var e=t.r=0;e<4;++e)t[e]&&t[e].r>t.r&&(t.r=t[e].r)}function s(){if(e){var r,i,o=e.length;for(n=new Array(o),r=0;r<o;++r)i=e[r],n[i.index]=+t(i,r,e)}}return"function"!=typeof t&&(t=GM(null==t?1:+t)),a.initialize=function(t,n){e=t,r=n,s()},a.iterations=function(t){return arguments.length?(o=+t,a):o},a.strength=function(t){return arguments.length?(i=+t,a):i},a.radius=function(e){return arguments.length?(t="function"==typeof e?e:GM(+e),s(),a):t},a},nbody:function(){var t,e,n,r,i,o=GM(-30),a=1,u=1/0,s=.81;function l(n){var i,o=t.length,a=$M(t,kE,AE).visitAfter(f);for(r=n,i=0;i<o;++i)e=t[i],a.visit(h)}function c(){if(t){var e,n,r=t.length;for(i=new Array(r),e=0;e<r;++e)n=t[e],i[n.index]=+o(n,e,t)}}function f(t){var e,n,r,o,a,u=0,s=0;if(t.length){for(r=o=a=0;a<4;++a)(e=t[a])&&(n=Math.abs(e.value))&&(u+=e.value,s+=n,r+=n*e.x,o+=n*e.y);t.x=r/s,t.y=o/s}else{(e=t).x=e.data.x,e.y=e.data.y;do{u+=i[e.data.index]}while(e=e.next)}t.value=u}function h(t,o,l,c){if(!t.value)return!0;var f=t.x-e.x,h=t.y-e.y,d=c-o,p=f*f+h*h;if(d*d/s<p)return p<u&&(0===f&&(p+=(f=VM(n))*f),0===h&&(p+=(h=VM(n))*h),p<a&&(p=Math.sqrt(a*p)),e.vx+=f*t.value*r/p,e.vy+=h*t.value*r/p),!0;if(!(t.length||p>=u)){(t.data!==e||t.next)&&(0===f&&(p+=(f=VM(n))*f),0===h&&(p+=(h=VM(n))*h),p<a&&(p=Math.sqrt(a*p)));do{t.data!==e&&(d=i[t.data.index]*r/p,e.vx+=f*d,e.vy+=h*d)}while(t=t.next)}}return l.initialize=function(e,r){t=e,n=r,c()},l.strength=function(t){return arguments.length?(o="function"==typeof t?t:GM(+t),c(),l):o},l.distanceMin=function(t){return arguments.length?(a=t*t,l):Math.sqrt(a)},l.distanceMax=function(t){return arguments.length?(u=t*t,l):Math.sqrt(u)},l.theta=function(t){return arguments.length?(s=t*t,l):Math.sqrt(s)},l},link:function(t){var e,n,r,i,o,a,u=ZM,s=function(t){return 1/Math.min(i[t.source.index],i[t.target.index])},l=GM(30),c=1;function f(r){for(var i=0,u=t.length;i<c;++i)for(var s,l,f,h,d,p,g,m=0;m<u;++m)l=(s=t[m]).source,h=(f=s.target).x+f.vx-l.x-l.vx||VM(a),d=f.y+f.vy-l.y-l.vy||VM(a),h*=p=((p=Math.sqrt(h*h+d*d))-n[m])/p*r*e[m],d*=p,f.vx-=h*(g=o[m]),f.vy-=d*g,l.vx+=h*(g=1-g),l.vy+=d*g}function h(){if(r){var a,s,l=r.length,c=t.length,f=new Map(r.map(((t,e)=>[u(t,e,r),t])));for(a=0,i=new Array(l);a<c;++a)(s=t[a]).index=a,"object"!=typeof s.source&&(s.source=QM(f,s.source)),"object"!=typeof s.target&&(s.target=QM(f,s.target)),i[s.source.index]=(i[s.source.index]||0)+1,i[s.target.index]=(i[s.target.index]||0)+1;for(a=0,o=new Array(c);a<c;++a)s=t[a],o[a]=i[s.source.index]/(i[s.source.index]+i[s.target.index]);e=new Array(c),d(),n=new Array(c),p()}}function d(){if(r)for(var n=0,i=t.length;n<i;++n)e[n]=+s(t[n],n,t)}function p(){if(r)for(var e=0,i=t.length;e<i;++e)n[e]=+l(t[e],e,t)}return null==t&&(t=[]),f.initialize=function(t,e){r=t,a=e,h()},f.links=function(e){return arguments.length?(t=e,h(),f):t},f.id=function(t){return arguments.length?(u=t,f):u},f.iterations=function(t){return arguments.length?(c=+t,f):c},f.strength=function(t){return arguments.length?(s="function"==typeof t?t:GM(+t),d(),f):s},f.distance=function(t){return arguments.length?(l="function"==typeof t?t:GM(+t),p(),f):l},f},x:function(t){var e,n,r,i=GM(.1);function o(t){for(var i,o=0,a=e.length;o<a;++o)(i=e[o]).vx+=(r[o]-i.x)*n[o]*t}function a(){if(e){var o,a=e.length;for(n=new Array(a),r=new Array(a),o=0;o<a;++o)n[o]=isNaN(r[o]=+t(e[o],o,e))?0:+i(e[o],o,e)}}return"function"!=typeof t&&(t=GM(null==t?0:+t)),o.initialize=function(t){e=t,a()},o.strength=function(t){return arguments.length?(i="function"==typeof t?t:GM(+t),a(),o):i},o.x=function(e){return arguments.length?(t="function"==typeof e?e:GM(+e),a(),o):t},o},y:function(t){var e,n,r,i=GM(.1);function o(t){for(var i,o=0,a=e.length;o<a;++o)(i=e[o]).vy+=(r[o]-i.y)*n[o]*t}function a(){if(e){var o,a=e.length;for(n=new Array(a),r=new Array(a),o=0;o<a;++o)n[o]=isNaN(r[o]=+t(e[o],o,e))?0:+i(e[o],o,e)}}return"function"!=typeof t&&(t=GM(null==t?0:+t)),o.initialize=function(t){e=t,a()},o.strength=function(t){return arguments.length?(i="function"==typeof t?t:GM(+t),a(),o):i},o.y=function(e){return arguments.length?(t="function"==typeof e?e:GM(+e),a(),o):t},o}},CE="forces",FE=["alpha","alphaMin","alphaTarget","velocityDecay","forces"],SE=["static","iterations"],BE=["x","y","vx","vy"];function TE(t){$a.call(this,null,t)}function NE(t,e,n,r){var i,o,a,u,s=$(e.forces);for(i=0,o=FE.length;i<o;++i)(a=FE[i])!==CE&&e.modified(a)&&t[a](e[a]);for(i=0,o=s.length;i<o;++i)u=CE+i,(a=n||e.modified(CE,i)?OE(s[i]):r&&zE(s[i],r)?t.force(u):null)&&t.force(u,a);for(o=t.numForces||0;i<o;++i)t.force(CE+i,null);return t.numForces=s.length,t}function zE(t,e){var n,i;for(n in t)if(H(i=t[n])&&e.modified(r(i)))return 1;return 0}function OE(t){var e,n;for(n in rt(DE,t.force)||u("Unrecognized force: "+t.force),e=DE[t.force](),t)H(e[n])&&RE(e[n],t[n],t);return e}function RE(t,e,n){t(H(e)?t=>e(t,n):e)}TE.Definition={type:"Force",metadata:{modifies:!0},params:[{name:"static",type:"boolean",default:!1},{name:"restart",type:"boolean",default:!1},{name:"iterations",type:"number",default:300},{name:"alpha",type:"number",default:1},{name:"alphaMin",type:"number",default:.001},{name:"alphaTarget",type:"number",default:0},{name:"velocityDecay",type:"number",default:.4},{name:"forces",type:"param",array:!0,params:[{key:{force:"center"},params:[{name:"x",type:"number",default:0},{name:"y",type:"number",default:0}]},{key:{force:"collide"},params:[{name:"radius",type:"number",expr:!0},{name:"strength",type:"number",default:.7},{name:"iterations",type:"number",default:1}]},{key:{force:"nbody"},params:[{name:"strength",type:"number",default:-30},{name:"theta",type:"number",default:.9},{name:"distanceMin",type:"number",default:1},{name:"distanceMax",type:"number"}]},{key:{force:"link"},params:[{name:"links",type:"data"},{name:"id",type:"field"},{name:"distance",type:"number",default:30,expr:!0},{name:"strength",type:"number",expr:!0},{name:"iterations",type:"number",default:1}]},{key:{force:"x"},params:[{name:"strength",type:"number",default:.1},{name:"x",type:"field"}]},{key:{force:"y"},params:[{name:"strength",type:"number",default:.1},{name:"y",type:"field"}]}]},{name:"as",type:"string",array:!0,modify:!1,default:BE}]},ut(TE,$a,{transform(t,e){var n,r,i=this.value,o=e.changed(e.ADD_REM),a=t.modified(FE),u=t.iterations||300;if(i?(o&&(e.modifies("index"),i.nodes(e.source)),(a||e.changed(e.MOD))&&NE(i,t,0,e)):(this.value=i=function(t,e){const n=EE(t),r=n.stop,i=n.restart;let o=!1;return n.stopped=()=>o,n.restart=()=>(o=!1,i()),n.stop=()=>(o=!0,r()),NE(n,e,!0).on("end",(()=>o=!0))}(e.source,t),i.on("tick",(n=e.dataflow,r=this,()=>n.touch(r).run())),t.static||(o=!0,i.tick()),e.modifies("index")),a||o||t.modified(SE)||e.changed()&&t.restart)if(i.alpha(Math.max(i.alpha(),t.alpha||1)).alphaDecay(1-Math.pow(i.alphaMin(),1/u)),t.static)for(i.stop();--u>=0;)i.tick();else if(i.stopped()&&i.restart(),!o)return e.StopPropagation;return this.finish(t,e)},finish(t,e){const n=e.dataflow;for(let t,e=this._argops,u=0,s=e.length;u<s;++u)if(t=e[u],t.name===CE&&"link"===t.op._argval.force)for(var r,i=t.op._argops,o=0,a=i.length;o<a;++o)if("links"===i[o].name&&(r=i[o].op.source)){n.pulse(r,n.changeset().reflow());break}return e.reflow(t.modified()).modifies(BE)}});var LE=Object.freeze({__proto__:null,force:TE});function UE(t,e){return t.parent===e.parent?1:2}function qE(t,e){return t+e.x}function PE(t,e){return Math.max(t,e.y)}function jE(t){var e=0,n=t.children,r=n&&n.length;if(r)for(;--r>=0;)e+=n[r].value;else e=1;t.value=e}function IE(t,e){t instanceof Map?(t=[void 0,t],void 0===e&&(e=WE)):void 0===e&&(e=$E);for(var n,r,i,o,a,u=new GE(t),s=[u];n=s.pop();)if((i=e(n.data))&&(a=(i=Array.from(i)).length))for(n.children=i,o=a-1;o>=0;--o)s.push(r=i[o]=new GE(i[o])),r.parent=n,r.depth=n.depth+1;return u.eachBefore(YE)}function $E(t){return t.children}function WE(t){return Array.isArray(t)?t[1]:null}function HE(t){void 0!==t.data.value&&(t.value=t.data.value),t.data=t.data.data}function YE(t){var e=0;do{t.height=e}while((t=t.parent)&&t.height<++e)}function GE(t){this.data=t,this.depth=this.height=0,this.parent=null}function VE(t){for(var e,n,r=0,i=(t=function(t){for(var e,n,r=t.length;r;)n=Math.random()*r--|0,e=t[r],t[r]=t[n],t[n]=e;return t}(Array.from(t))).length,o=[];r<i;)e=t[r],n&&ZE(n,e)?++r:(n=KE(o=XE(o,e)),r=0);return n}function XE(t,e){var n,r;if(QE(e,t))return[e];for(n=0;n<t.length;++n)if(JE(e,t[n])&&QE(tD(t[n],e),t))return[t[n],e];for(n=0;n<t.length-1;++n)for(r=n+1;r<t.length;++r)if(JE(tD(t[n],t[r]),e)&&JE(tD(t[n],e),t[r])&&JE(tD(t[r],e),t[n])&&QE(eD(t[n],t[r],e),t))return[t[n],t[r],e];throw new Error}function JE(t,e){var n=t.r-e.r,r=e.x-t.x,i=e.y-t.y;return n<0||n*n<r*r+i*i}function ZE(t,e){var n=t.r-e.r+1e-9*Math.max(t.r,e.r,1),r=e.x-t.x,i=e.y-t.y;return n>0&&n*n>r*r+i*i}function QE(t,e){for(var n=0;n<e.length;++n)if(!ZE(t,e[n]))return!1;return!0}function KE(t){switch(t.length){case 1:return function(t){return{x:t.x,y:t.y,r:t.r}}(t[0]);case 2:return tD(t[0],t[1]);case 3:return eD(t[0],t[1],t[2])}}function tD(t,e){var n=t.x,r=t.y,i=t.r,o=e.x,a=e.y,u=e.r,s=o-n,l=a-r,c=u-i,f=Math.sqrt(s*s+l*l);return{x:(n+o+s/f*c)/2,y:(r+a+l/f*c)/2,r:(f+i+u)/2}}function eD(t,e,n){var r=t.x,i=t.y,o=t.r,a=e.x,u=e.y,s=e.r,l=n.x,c=n.y,f=n.r,h=r-a,d=r-l,p=i-u,g=i-c,m=s-o,y=f-o,v=r*r+i*i-o*o,_=v-a*a-u*u+s*s,x=v-l*l-c*c+f*f,b=d*p-h*g,w=(p*x-g*_)/(2*b)-r,k=(g*m-p*y)/b,A=(d*_-h*x)/(2*b)-i,M=(h*y-d*m)/b,E=k*k+M*M-1,D=2*(o+w*k+A*M),C=w*w+A*A-o*o,F=-(E?(D+Math.sqrt(D*D-4*E*C))/(2*E):C/D);return{x:r+w+k*F,y:i+A+M*F,r:F}}function nD(t,e,n){var r,i,o,a,u=t.x-e.x,s=t.y-e.y,l=u*u+s*s;l?(i=e.r+n.r,i*=i,a=t.r+n.r,i>(a*=a)?(r=(l+a-i)/(2*l),o=Math.sqrt(Math.max(0,a/l-r*r)),n.x=t.x-r*u-o*s,n.y=t.y-r*s+o*u):(r=(l+i-a)/(2*l),o=Math.sqrt(Math.max(0,i/l-r*r)),n.x=e.x+r*u-o*s,n.y=e.y+r*s+o*u)):(n.x=e.x+n.r,n.y=e.y)}function rD(t,e){var n=t.r+e.r-1e-6,r=e.x-t.x,i=e.y-t.y;return n>0&&n*n>r*r+i*i}function iD(t){var e=t._,n=t.next._,r=e.r+n.r,i=(e.x*n.r+n.x*e.r)/r,o=(e.y*n.r+n.y*e.r)/r;return i*i+o*o}function oD(t){this._=t,this.next=null,this.previous=null}function aD(t){if(!(i=(t=function(t){return"object"==typeof t&&"length"in t?t:Array.from(t)}(t)).length))return 0;var e,n,r,i,o,a,u,s,l,c,f;if((e=t[0]).x=0,e.y=0,!(i>1))return e.r;if(n=t[1],e.x=-n.r,n.x=e.r,n.y=0,!(i>2))return e.r+n.r;nD(n,e,r=t[2]),e=new oD(e),n=new oD(n),r=new oD(r),e.next=r.previous=n,n.next=e.previous=r,r.next=n.previous=e;t:for(u=3;u<i;++u){nD(e._,n._,r=t[u]),r=new oD(r),s=n.next,l=e.previous,c=n._.r,f=e._.r;do{if(c<=f){if(rD(s._,r._)){n=s,e.next=n,n.previous=e,--u;continue t}c+=s._.r,s=s.next}else{if(rD(l._,r._)){(e=l).next=n,n.previous=e,--u;continue t}f+=l._.r,l=l.previous}}while(s!==l.next);for(r.previous=e,r.next=n,e.next=n.previous=n=r,o=iD(e);(r=r.next)!==n;)(a=iD(r))<o&&(e=r,o=a);n=e.next}for(e=[n._],r=n;(r=r.next)!==n;)e.push(r._);for(r=VE(e),u=0;u<i;++u)(e=t[u]).x-=r.x,e.y-=r.y;return r.r}function uD(t){return null==t?null:sD(t)}function sD(t){if("function"!=typeof t)throw new Error;return t}function lD(){return 0}function cD(t){return function(){return t}}function fD(t){return Math.sqrt(t.value)}function hD(t){return function(e){e.children||(e.r=Math.max(0,+t(e)||0))}}function dD(t,e){return function(n){if(r=n.children){var r,i,o,a=r.length,u=t(n)*e||0;if(u)for(i=0;i<a;++i)r[i].r+=u;if(o=aD(r),u)for(i=0;i<a;++i)r[i].r-=u;n.r=o+u}}}function pD(t){return function(e){var n=e.parent;e.r*=t,n&&(e.x=n.x+t*e.x,e.y=n.y+t*e.y)}}function gD(t){t.x0=Math.round(t.x0),t.y0=Math.round(t.y0),t.x1=Math.round(t.x1),t.y1=Math.round(t.y1)}function mD(t,e,n,r,i){for(var o,a=t.children,u=-1,s=a.length,l=t.value&&(r-e)/t.value;++u<s;)(o=a[u]).y0=n,o.y1=i,o.x0=e,o.x1=e+=o.value*l}GE.prototype=IE.prototype={constructor:GE,count:function(){return this.eachAfter(jE)},each:function(t,e){let n=-1;for(const r of this)t.call(e,r,++n,this);return this},eachAfter:function(t,e){for(var n,r,i,o=this,a=[o],u=[],s=-1;o=a.pop();)if(u.push(o),n=o.children)for(r=0,i=n.length;r<i;++r)a.push(n[r]);for(;o=u.pop();)t.call(e,o,++s,this);return this},eachBefore:function(t,e){for(var n,r,i=this,o=[i],a=-1;i=o.pop();)if(t.call(e,i,++a,this),n=i.children)for(r=n.length-1;r>=0;--r)o.push(n[r]);return this},find:function(t,e){let n=-1;for(const r of this)if(t.call(e,r,++n,this))return r},sum:function(t){return this.eachAfter((function(e){for(var n=+t(e.data)||0,r=e.children,i=r&&r.length;--i>=0;)n+=r[i].value;e.value=n}))},sort:function(t){return this.eachBefore((function(e){e.children&&e.children.sort(t)}))},path:function(t){for(var e=this,n=function(t,e){if(t===e)return t;var n=t.ancestors(),r=e.ancestors(),i=null;t=n.pop(),e=r.pop();for(;t===e;)i=t,t=n.pop(),e=r.pop();return i}(e,t),r=[e];e!==n;)e=e.parent,r.push(e);for(var i=r.length;t!==n;)r.splice(i,0,t),t=t.parent;return r},ancestors:function(){for(var t=this,e=[t];t=t.parent;)e.push(t);return e},descendants:function(){return Array.from(this)},leaves:function(){var t=[];return this.eachBefore((function(e){e.children||t.push(e)})),t},links:function(){var t=this,e=[];return t.each((function(n){n!==t&&e.push({source:n.parent,target:n})})),e},copy:function(){return IE(this).eachBefore(HE)},[Symbol.iterator]:function*(){var t,e,n,r,i=this,o=[i];do{for(t=o.reverse(),o=[];i=t.pop();)if(yield i,e=i.children)for(n=0,r=e.length;n<r;++n)o.push(e[n])}while(o.length)}};var yD={depth:-1},vD={},_D={};function xD(t){return t.id}function bD(t){return t.parentId}function wD(){var t,e=xD,n=bD;function r(r){var i,o,a,u,s,l,c,f,h=Array.from(r),d=e,p=n,g=new Map;if(null!=t){const e=h.map(((e,n)=>function(t){let e=(t="".concat(t)).length;AD(t,e-1)&&!AD(t,e-2)&&(t=t.slice(0,-1));return"/"===t[0]?t:"/".concat(t)}(t(e,n,r)))),n=e.map(kD),i=new Set(e).add("");for(const t of n)i.has(t)||(i.add(t),e.push(t),n.push(kD(t)),h.push(_D));d=(t,n)=>e[n],p=(t,e)=>n[e]}for(a=0,i=h.length;a<i;++a)o=h[a],l=h[a]=new GE(o),null!=(c=d(o,a,r))&&(c+="")&&(f=l.id=c,g.set(f,g.has(f)?vD:l)),null!=(c=p(o,a,r))&&(c+="")&&(l.parent=c);for(a=0;a<i;++a)if(c=(l=h[a]).parent){if(!(s=g.get(c)))throw new Error("missing: "+c);if(s===vD)throw new Error("ambiguous: "+c);s.children?s.children.push(l):s.children=[l],l.parent=s}else{if(u)throw new Error("multiple roots");u=l}if(!u)throw new Error("no root");if(null!=t){for(;u.data===_D&&1===u.children.length;)u=u.children[0],--i;for(let t=h.length-1;t>=0&&(l=h[t],l.data===_D);--t)l.data=null}if(u.parent=yD,u.eachBefore((function(t){t.depth=t.parent.depth+1,--i})).eachBefore(YE),u.parent=null,i>0)throw new Error("cycle");return u}return r.id=function(t){return arguments.length?(e=uD(t),r):e},r.parentId=function(t){return arguments.length?(n=uD(t),r):n},r.path=function(e){return arguments.length?(t=uD(e),r):t},r}function kD(t){let e=t.length;if(e<2)return"";for(;--e>1&&!AD(t,e););return t.slice(0,e)}function AD(t,e){if("/"===t[e]){let n=0;for(;e>0&&"\\"===t[--e];)++n;if(0==(1&n))return!0}return!1}function MD(t,e){return t.parent===e.parent?1:2}function ED(t){var e=t.children;return e?e[0]:t.t}function DD(t){var e=t.children;return e?e[e.length-1]:t.t}function CD(t,e,n){var r=n/(e.i-t.i);e.c-=r,e.s+=n,t.c+=r,e.z+=n,e.m+=n}function FD(t,e,n){return t.a.parent===e.parent?t.a:n}function SD(t,e){this._=t,this.parent=null,this.children=null,this.A=null,this.a=this,this.z=0,this.m=0,this.c=0,this.s=0,this.t=null,this.i=e}function BD(t,e,n,r,i){for(var o,a=t.children,u=-1,s=a.length,l=t.value&&(i-n)/t.value;++u<s;)(o=a[u]).x0=e,o.x1=r,o.y0=n,o.y1=n+=o.value*l}SD.prototype=Object.create(GE.prototype);var TD=(1+Math.sqrt(5))/2;function ND(t,e,n,r,i,o){for(var a,u,s,l,c,f,h,d,p,g,m,y=[],v=e.children,_=0,x=0,b=v.length,w=e.value;_<b;){s=i-n,l=o-r;do{c=v[x++].value}while(!c&&x<b);for(f=h=c,m=c*c*(g=Math.max(l/s,s/l)/(w*t)),p=Math.max(h/m,m/f);x<b;++x){if(c+=u=v[x].value,u<f&&(f=u),u>h&&(h=u),m=c*c*g,(d=Math.max(h/m,m/f))>p){c-=u;break}p=d}y.push(a={value:c,dice:s<l,children:v.slice(_,x)}),a.dice?mD(a,n,r,i,w?r+=l*c/w:o):BD(a,n,r,w?n+=s*c/w:i,o),w-=c,_=x}return y}var zD=function t(e){function n(t,n,r,i,o){ND(e,t,n,r,i,o)}return n.ratio=function(e){return t((e=+e)>1?e:1)},n}(TD);var OD=function t(e){function n(t,n,r,i,o){if((a=t._squarify)&&a.ratio===e)for(var a,u,s,l,c,f=-1,h=a.length,d=t.value;++f<h;){for(s=(u=a[f]).children,l=u.value=0,c=s.length;l<c;++l)u.value+=s[l].value;u.dice?mD(u,n,r,i,d?r+=(o-r)*u.value/d:o):BD(u,n,r,d?n+=(i-n)*u.value/d:i,o),d-=u.value}else t._squarify=a=ND(e,t,n,r,i,o),a.ratio=e}return n.ratio=function(e){return t((e=+e)>1?e:1)},n}(TD);function RD(t,e,n){const r={};return t.each((t=>{const i=t.data;n(i)&&(r[e(i)]=t)})),t.lookup=r,t}function LD(t){$a.call(this,null,t)}LD.Definition={type:"Nest",metadata:{treesource:!0,changes:!0},params:[{name:"keys",type:"field",array:!0},{name:"generate",type:"boolean"}]};const UD=t=>t.values;function qD(){const t=[],e={entries:t=>r(n(t,0),0),key:n=>(t.push(n),e)};function n(e,r){if(r>=t.length)return e;const i=e.length,o=t[r++],a={},u={};let s,l,c,f=-1;for(;++f<i;)s=o(l=e[f])+"",(c=a[s])?c.push(l):a[s]=[l];for(s in a)u[s]=n(a[s],r);return u}function r(e,n){if(++n>t.length)return e;const i=[];for(const t in e)i.push({key:t,values:r(e[t],n)});return i}return e}function PD(t){$a.call(this,null,t)}ut(LD,$a,{transform(t,e){e.source||u("Nest transform requires an upstream data source.");var n=t.generate,r=t.modified(),i=e.clone(),o=this.value;return(!o||r||e.changed())&&(o&&o.each((t=>{t.children&&la(t.data)&&i.rem.push(t.data)})),this.value=o=IE({values:$(t.keys).reduce(((t,e)=>(t.key(e),t)),qD()).entries(i.source)},UD),n&&o.each((t=>{t.children&&(t=ha(t.data),i.add.push(t),i.source.push(t))})),RD(o,ca,ca)),i.source.root=o,i}});const jD=(t,e)=>t.parent===e.parent?1:2;ut(PD,$a,{transform(t,e){e.source&&e.source.root||u(this.constructor.name+" transform requires a backing tree data source.");const n=this.layout(t.method),r=this.fields,i=e.source.root,o=t.as||r;t.field?i.sum(t.field):i.count(),t.sort&&i.sort(ma(t.sort,(t=>t.data))),function(t,e,n){for(let r,i=0,o=e.length;i<o;++i)r=e[i],r in n&&t[r](n[r])}(n,this.params,t),n.separation&&n.separation(!1!==t.separation?jD:d);try{this.value=n(i)}catch(t){u(t)}return i.each((t=>function(t,e,n){const r=t.data,i=e.length-1;for(let o=0;o<i;++o)r[n[o]]=t[e[o]];r[n[i]]=t.children?t.children.length:0}(t,r,o))),e.reflow(t.modified()).modifies(o).modifies("leaf")}});const ID=["x","y","r","depth","children"];function $D(t){PD.call(this,t)}$D.Definition={type:"Pack",metadata:{tree:!0,modifies:!0},params:[{name:"field",type:"field"},{name:"sort",type:"compare"},{name:"padding",type:"number",default:0},{name:"radius",type:"field",default:null},{name:"size",type:"number",array:!0,length:2},{name:"as",type:"string",array:!0,length:ID.length,default:ID}]},ut($D,PD,{layout:function(){var t=null,e=1,n=1,r=lD;function i(i){return i.x=e/2,i.y=n/2,t?i.eachBefore(hD(t)).eachAfter(dD(r,.5)).eachBefore(pD(1)):i.eachBefore(hD(fD)).eachAfter(dD(lD,1)).eachAfter(dD(r,i.r/Math.min(e,n))).eachBefore(pD(Math.min(e,n)/(2*i.r))),i}return i.radius=function(e){return arguments.length?(t=uD(e),i):t},i.size=function(t){return arguments.length?(e=+t[0],n=+t[1],i):[e,n]},i.padding=function(t){return arguments.length?(r="function"==typeof t?t:cD(+t),i):r},i},params:["radius","size","padding"],fields:ID});const WD=["x0","y0","x1","y1","depth","children"];function HD(t){PD.call(this,t)}function YD(t){$a.call(this,null,t)}HD.Definition={type:"Partition",metadata:{tree:!0,modifies:!0},params:[{name:"field",type:"field"},{name:"sort",type:"compare"},{name:"padding",type:"number",default:0},{name:"round",type:"boolean",default:!1},{name:"size",type:"number",array:!0,length:2},{name:"as",type:"string",array:!0,length:WD.length,default:WD}]},ut(HD,PD,{layout:function(){var t=1,e=1,n=0,r=!1;function i(i){var o=i.height+1;return i.x0=i.y0=n,i.x1=t,i.y1=e/o,i.eachBefore(function(t,e){return function(r){r.children&&mD(r,r.x0,t*(r.depth+1)/e,r.x1,t*(r.depth+2)/e);var i=r.x0,o=r.y0,a=r.x1-n,u=r.y1-n;a<i&&(i=a=(i+a)/2),u<o&&(o=u=(o+u)/2),r.x0=i,r.y0=o,r.x1=a,r.y1=u}}(e,o)),r&&i.eachBefore(gD),i}return i.round=function(t){return arguments.length?(r=!!t,i):r},i.size=function(n){return arguments.length?(t=+n[0],e=+n[1],i):[t,e]},i.padding=function(t){return arguments.length?(n=+t,i):n},i},params:["size","round","padding"],fields:WD}),YD.Definition={type:"Stratify",metadata:{treesource:!0},params:[{name:"key",type:"field",required:!0},{name:"parentKey",type:"field",required:!0}]},ut(YD,$a,{transform(t,e){e.source||u("Stratify transform requires an upstream data source.");let n=this.value;const r=t.modified(),i=e.fork(e.ALL).materialize(e.SOURCE),o=!n||r||e.changed(e.ADD_REM)||e.modified(t.key.fields)||e.modified(t.parentKey.fields);return i.source=i.source.slice(),o&&(n=i.source.length?RD(wD().id(t.key).parentId(t.parentKey)(i.source),t.key,p):RD(wD()([{}]),t.key,t.key)),i.source.root=this.value=n,i}});const GD={tidy:function(){var t=MD,e=1,n=1,r=null;function i(i){var s=function(t){for(var e,n,r,i,o,a=new SD(t,0),u=[a];e=u.pop();)if(r=e._.children)for(e.children=new Array(o=r.length),i=o-1;i>=0;--i)u.push(n=e.children[i]=new SD(r[i],i)),n.parent=e;return(a.parent=new SD(null,0)).children=[a],a}(i);if(s.eachAfter(o),s.parent.m=-s.z,s.eachBefore(a),r)i.eachBefore(u);else{var l=i,c=i,f=i;i.eachBefore((function(t){t.x<l.x&&(l=t),t.x>c.x&&(c=t),t.depth>f.depth&&(f=t)}));var h=l===c?1:t(l,c)/2,d=h-l.x,p=e/(c.x+h+d),g=n/(f.depth||1);i.eachBefore((function(t){t.x=(t.x+d)*p,t.y=t.depth*g}))}return i}function o(e){var n=e.children,r=e.parent.children,i=e.i?r[e.i-1]:null;if(n){!function(t){for(var e,n=0,r=0,i=t.children,o=i.length;--o>=0;)(e=i[o]).z+=n,e.m+=n,n+=e.s+(r+=e.c)}(e);var o=(n[0].z+n[n.length-1].z)/2;i?(e.z=i.z+t(e._,i._),e.m=e.z-o):e.z=o}else i&&(e.z=i.z+t(e._,i._));e.parent.A=function(e,n,r){if(n){for(var i,o=e,a=e,u=n,s=o.parent.children[0],l=o.m,c=a.m,f=u.m,h=s.m;u=DD(u),o=ED(o),u&&o;)s=ED(s),(a=DD(a)).a=e,(i=u.z+f-o.z-l+t(u._,o._))>0&&(CD(FD(u,e,r),e,i),l+=i,c+=i),f+=u.m,l+=o.m,h+=s.m,c+=a.m;u&&!DD(a)&&(a.t=u,a.m+=f-c),o&&!ED(s)&&(s.t=o,s.m+=l-h,r=e)}return r}(e,i,e.parent.A||r[0])}function a(t){t._.x=t.z+t.parent.m,t.m+=t.parent.m}function u(t){t.x*=e,t.y=t.depth*n}return i.separation=function(e){return arguments.length?(t=e,i):t},i.size=function(t){return arguments.length?(r=!1,e=+t[0],n=+t[1],i):r?null:[e,n]},i.nodeSize=function(t){return arguments.length?(r=!0,e=+t[0],n=+t[1],i):r?[e,n]:null},i},cluster:function(){var t=UE,e=1,n=1,r=!1;function i(i){var o,a=0;i.eachAfter((function(e){var n=e.children;n?(e.x=function(t){return t.reduce(qE,0)/t.length}(n),e.y=function(t){return 1+t.reduce(PE,0)}(n)):(e.x=o?a+=t(e,o):0,e.y=0,o=e)}));var u=function(t){for(var e;e=t.children;)t=e[0];return t}(i),s=function(t){for(var e;e=t.children;)t=e[e.length-1];return t}(i),l=u.x-t(u,s)/2,c=s.x+t(s,u)/2;return i.eachAfter(r?function(t){t.x=(t.x-i.x)*e,t.y=(i.y-t.y)*n}:function(t){t.x=(t.x-l)/(c-l)*e,t.y=(1-(i.y?t.y/i.y:1))*n})}return i.separation=function(e){return arguments.length?(t=e,i):t},i.size=function(t){return arguments.length?(r=!1,e=+t[0],n=+t[1],i):r?null:[e,n]},i.nodeSize=function(t){return arguments.length?(r=!0,e=+t[0],n=+t[1],i):r?[e,n]:null},i}},VD=["x","y","depth","children"];function XD(t){PD.call(this,t)}function JD(t){$a.call(this,[],t)}XD.Definition={type:"Tree",metadata:{tree:!0,modifies:!0},params:[{name:"field",type:"field"},{name:"sort",type:"compare"},{name:"method",type:"enum",default:"tidy",values:["tidy","cluster"]},{name:"size",type:"number",array:!0,length:2},{name:"nodeSize",type:"number",array:!0,length:2},{name:"separation",type:"boolean",default:!0},{name:"as",type:"string",array:!0,length:VD.length,default:VD}]},ut(XD,PD,{layout(t){const e=t||"tidy";if(rt(GD,e))return GD[e]();u("Unrecognized Tree layout method: "+e)},params:["size","nodeSize"],fields:VD}),JD.Definition={type:"TreeLinks",metadata:{tree:!0,generates:!0,changes:!0},params:[]},ut(JD,$a,{transform(t,e){const n=this.value,r=e.source&&e.source.root,i=e.fork(e.NO_SOURCE),o={};return r||u("TreeLinks transform requires a tree data source."),e.changed(e.ADD_REM)?(i.rem=n,e.visit(e.SOURCE,(t=>o[ca(t)]=1)),r.each((t=>{const e=t.data,n=t.parent&&t.parent.data;n&&o[ca(e)]&&o[ca(n)]&&i.add.push(ha({source:n,target:e}))})),this.value=i.add):e.changed(e.MOD)&&(e.visit(e.MOD,(t=>o[ca(t)]=1)),n.forEach((t=>{(o[ca(t.source)]||o[ca(t.target)])&&i.mod.push(t)}))),i}});const ZD={binary:function(t,e,n,r,i){var o,a,u=t.children,s=u.length,l=new Array(s+1);for(l[0]=a=o=0;o<s;++o)l[o+1]=a+=u[o].value;!function t(e,n,r,i,o,a,s){if(e>=n-1){var c=u[e];return c.x0=i,c.y0=o,c.x1=a,void(c.y1=s)}var f=l[e],h=r/2+f,d=e+1,p=n-1;for(;d<p;){var g=d+p>>>1;l[g]<h?d=g+1:p=g}h-l[d-1]<l[d]-h&&e+1<d&&--d;var m=l[d]-f,y=r-m;if(a-i>s-o){var v=r?(i*y+a*m)/r:a;t(e,d,m,i,o,v,s),t(d,n,y,v,o,a,s)}else{var _=r?(o*y+s*m)/r:s;t(e,d,m,i,o,a,_),t(d,n,y,i,_,a,s)}}(0,s,t.value,e,n,r,i)},dice:mD,slice:BD,slicedice:function(t,e,n,r,i){(1&t.depth?BD:mD)(t,e,n,r,i)},squarify:zD,resquarify:OD},QD=["x0","y0","x1","y1","depth","children"];function KD(t){PD.call(this,t)}KD.Definition={type:"Treemap",metadata:{tree:!0,modifies:!0},params:[{name:"field",type:"field"},{name:"sort",type:"compare"},{name:"method",type:"enum",default:"squarify",values:["squarify","resquarify","binary","dice","slice","slicedice"]},{name:"padding",type:"number",default:0},{name:"paddingInner",type:"number",default:0},{name:"paddingOuter",type:"number",default:0},{name:"paddingTop",type:"number",default:0},{name:"paddingRight",type:"number",default:0},{name:"paddingBottom",type:"number",default:0},{name:"paddingLeft",type:"number",default:0},{name:"ratio",type:"number",default:1.618033988749895},{name:"round",type:"boolean",default:!1},{name:"size",type:"number",array:!0,length:2},{name:"as",type:"string",array:!0,length:QD.length,default:QD}]},ut(KD,PD,{layout(){const t=function(){var t=zD,e=!1,n=1,r=1,i=[0],o=lD,a=lD,u=lD,s=lD,l=lD;function c(t){return t.x0=t.y0=0,t.x1=n,t.y1=r,t.eachBefore(f),i=[0],e&&t.eachBefore(gD),t}function f(e){var n=i[e.depth],r=e.x0+n,c=e.y0+n,f=e.x1-n,h=e.y1-n;f<r&&(r=f=(r+f)/2),h<c&&(c=h=(c+h)/2),e.x0=r,e.y0=c,e.x1=f,e.y1=h,e.children&&(n=i[e.depth+1]=o(e)/2,r+=l(e)-n,c+=a(e)-n,(f-=u(e)-n)<r&&(r=f=(r+f)/2),(h-=s(e)-n)<c&&(c=h=(c+h)/2),t(e,r,c,f,h))}return c.round=function(t){return arguments.length?(e=!!t,c):e},c.size=function(t){return arguments.length?(n=+t[0],r=+t[1],c):[n,r]},c.tile=function(e){return arguments.length?(t=sD(e),c):t},c.padding=function(t){return arguments.length?c.paddingInner(t).paddingOuter(t):c.paddingInner()},c.paddingInner=function(t){return arguments.length?(o="function"==typeof t?t:cD(+t),c):o},c.paddingOuter=function(t){return arguments.length?c.paddingTop(t).paddingRight(t).paddingBottom(t).paddingLeft(t):c.paddingTop()},c.paddingTop=function(t){return arguments.length?(a="function"==typeof t?t:cD(+t),c):a},c.paddingRight=function(t){return arguments.length?(u="function"==typeof t?t:cD(+t),c):u},c.paddingBottom=function(t){return arguments.length?(s="function"==typeof t?t:cD(+t),c):s},c.paddingLeft=function(t){return arguments.length?(l="function"==typeof t?t:cD(+t),c):l},c}();return t.ratio=e=>{const n=t.tile();n.ratio&&t.tile(n.ratio(e))},t.method=e=>{rt(ZD,e)?t.tile(ZD[e]):u("Unrecognized Treemap layout method: "+e)},t},params:["method","ratio","size","round","padding","paddingInner","paddingOuter","paddingTop","paddingRight","paddingBottom","paddingLeft"],fields:QD});var tC=Object.freeze({__proto__:null,nest:LD,pack:$D,partition:HD,stratify:YD,tree:XD,treelinks:JD,treemap:KD});const eC=4278190080;function nC(t,e,n){return new Uint32Array(t.getImageData(0,0,e,n).data.buffer)}function rC(t,e,n){if(!e.length)return;const r=e[0].mark.marktype;"group"===r?e.forEach((e=>{e.items.forEach((e=>rC(t,e.items,n)))})):xy[r].draw(t,{items:n?e.map(iC):e})}function iC(t){const e=pa(t,{});return e.stroke&&0!==e.strokeOpacity||e.fill&&0!==e.fillOpacity?{...e,strokeOpacity:1,stroke:"#000",fillOpacity:0}:e}const oC=31,aC=new Uint32Array(33),uC=new Uint32Array(33);uC[0]=0,aC[0]=~uC[0];for(let t=1;t<=32;++t)uC[t]=uC[t-1]<<1|1,aC[t]=~uC[t];function sC(t,e,n){const r=Math.max(1,Math.sqrt(t*e/1e6)),i=~~((t+2*n+r)/r),o=~~((e+2*n+r)/r),a=t=>~~((t+n)/r);return a.invert=t=>t*r-n,a.bitmap=()=>function(t,e){const n=new Uint32Array(~~((t*e+32)/32));function r(t,e){n[t]|=e}function i(t,e){n[t]&=e}return{array:n,get:(e,r)=>{const i=r*t+e;return n[i>>>5]&1<<(i&oC)},set:(e,n)=>{const i=n*t+e;r(i>>>5,1<<(i&oC))},clear:(e,n)=>{const r=n*t+e;i(r>>>5,~(1<<(r&oC)))},getRange:(e,r,i,o)=>{let a,u,s,l,c=o;for(;c>=r;--c)if(a=c*t+e,u=c*t+i,s=a>>>5,l=u>>>5,s===l){if(n[s]&aC[a&oC]&uC[1+(u&oC)])return!0}else{if(n[s]&aC[a&oC])return!0;if(n[l]&uC[1+(u&oC)])return!0;for(let t=s+1;t<l;++t)if(n[t])return!0}return!1},setRange:(e,n,i,o)=>{let a,u,s,l,c;for(;n<=o;++n)if(a=n*t+e,u=n*t+i,s=a>>>5,l=u>>>5,s===l)r(s,aC[a&oC]&uC[1+(u&oC)]);else for(r(s,aC[a&oC]),r(l,uC[1+(u&oC)]),c=s+1;c<l;++c)r(c,4294967295)},clearRange:(e,n,r,o)=>{let a,u,s,l,c;for(;n<=o;++n)if(a=n*t+e,u=n*t+r,s=a>>>5,l=u>>>5,s===l)i(s,uC[a&oC]|aC[1+(u&oC)]);else for(i(s,uC[a&oC]),i(l,aC[1+(u&oC)]),c=s+1;c<l;++c)i(c,0)},outOfBounds:(n,r,i,o)=>n<0||r<0||o>=e||i>=t}}(i,o),a.ratio=r,a.padding=n,a.width=t,a.height=e,a}function lC(t,e,n,r,i,o){let a=n/2;return t-a<0||t+a>i||e-(a=r/2)<0||e+a>o}function cC(t,e,n,r,i,o,a,u){const s=i*o/(2*r),l=t(e-s),c=t(e+s),f=t(n-(o/=2)),h=t(n+o);return a.outOfBounds(l,f,c,h)||a.getRange(l,f,c,h)||u&&u.getRange(l,f,c,h)}const fC=[-1,-1,1,1],hC=[-1,1,-1,1];const dC=["right","center","left"],pC=["bottom","middle","top"];function gC(t,e,n,r,i,o,a,u,s,l,c,f){return!(i.outOfBounds(t,n,e,r)||(f&&o||i).getRange(t,n,e,r))}const mC={"top-left":0,top:1,"top-right":2,left:4,middle:5,right:6,"bottom-left":8,bottom:9,"bottom-right":10},yC={naive:function(t,e,n,r){const i=t.width,o=t.height;return function(t){const e=t.datum.datum.items[r].items,n=e.length,a=t.datum.fontSize,u=ty.width(t.datum,t.datum.text);let s,l,c,f,h,d,p,g=0;for(let r=0;r<n;++r)s=e[r].x,c=e[r].y,l=void 0===e[r].x2?s:e[r].x2,f=void 0===e[r].y2?c:e[r].y2,h=(s+l)/2,d=(c+f)/2,p=Math.abs(l-s+f-c),p>=g&&(g=p,t.x=h,t.y=d);return h=u/2,d=a/2,s=t.x-h,l=t.x+h,c=t.y-d,f=t.y+d,t.align="center",s<0&&l<=i?t.align="left":0<=s&&i<l&&(t.align="right"),t.baseline="middle",c<0&&f<=o?t.baseline="top":0<=c&&o<f&&(t.baseline="bottom"),!0}},"reduced-search":function(t,e,n,r){const i=t.width,o=t.height,a=e[0],u=e[1];function s(e,n,r,s,l){const c=t.invert(e),f=t.invert(n);let h,d=r,p=o;if(!lC(c,f,s,l,i,o)&&!cC(t,c,f,l,s,d,a,u)&&!cC(t,c,f,l,s,l,a,null)){for(;p-d>=1;)h=(d+p)/2,cC(t,c,f,l,s,h,a,u)?p=h:d=h;if(d>r)return[c,f,d,!0]}}return function(e){const u=e.datum.datum.items[r].items,l=u.length,c=e.datum.fontSize,f=ty.width(e.datum,e.datum.text);let h,d,p,g,m,y,v,_,x,b,w,k,A,M,E,D,C,F=n?c:0,S=!1,B=!1,T=0;for(let r=0;r<l;++r){for(h=u[r].x,p=u[r].y,d=void 0===u[r].x2?h:u[r].x2,g=void 0===u[r].y2?p:u[r].y2,h>d&&(C=h,h=d,d=C),p>g&&(C=p,p=g,g=C),x=t(h),w=t(d),b=~~((x+w)/2),k=t(p),M=t(g),A=~~((k+M)/2),v=b;v>=x;--v)for(_=A;_>=k;--_)D=s(v,_,F,f,c),D&&([e.x,e.y,F,S]=D);for(v=b;v<=w;++v)for(_=A;_<=M;++_)D=s(v,_,F,f,c),D&&([e.x,e.y,F,S]=D);S||n||(E=Math.abs(d-h+g-p),m=(h+d)/2,y=(p+g)/2,E>=T&&!lC(m,y,f,c,i,o)&&!cC(t,m,y,c,f,c,a,null)&&(T=E,e.x=m,e.y=y,B=!0))}return!(!S&&!B)&&(m=f/2,y=c/2,a.setRange(t(e.x-m),t(e.y-y),t(e.x+m),t(e.y+y)),e.align="center",e.baseline="middle",!0)}},floodfill:function(t,e,n,r){const i=t.width,o=t.height,a=e[0],u=e[1],s=t.bitmap();return function(e){const l=e.datum.datum.items[r].items,c=l.length,f=e.datum.fontSize,h=ty.width(e.datum,e.datum.text),d=[];let p,g,m,y,v,_,x,b,w,k,A,M,E=n?f:0,D=!1,C=!1,F=0;for(let r=0;r<c;++r){for(p=l[r].x,m=l[r].y,g=void 0===l[r].x2?p:l[r].x2,y=void 0===l[r].y2?m:l[r].y2,d.push([t((p+g)/2),t((m+y)/2)]);d.length;)if([x,b]=d.pop(),!(a.get(x,b)||u.get(x,b)||s.get(x,b))){s.set(x,b);for(let t=0;t<4;++t)v=x+fC[t],_=b+hC[t],s.outOfBounds(v,_,v,_)||d.push([v,_]);if(v=t.invert(x),_=t.invert(b),w=E,k=o,!lC(v,_,h,f,i,o)&&!cC(t,v,_,f,h,w,a,u)&&!cC(t,v,_,f,h,f,a,null)){for(;k-w>=1;)A=(w+k)/2,cC(t,v,_,f,h,A,a,u)?k=A:w=A;w>E&&(e.x=v,e.y=_,E=w,D=!0)}}D||n||(M=Math.abs(g-p+y-m),v=(p+g)/2,_=(m+y)/2,M>=F&&!lC(v,_,h,f,i,o)&&!cC(t,v,_,f,h,f,a,null)&&(F=M,e.x=v,e.y=_,C=!0))}return!(!D&&!C)&&(v=h/2,_=f/2,a.setRange(t(e.x-v),t(e.y-_),t(e.x+v),t(e.y+_)),e.align="center",e.baseline="middle",!0)}}};function vC(t,e,n,r,i,o,a,u,s,l,c){if(!t.length)return t;const f=Math.max(r.length,i.length),h=function(t,e){const n=new Float64Array(e),r=t.length;for(let e=0;e<r;++e)n[e]=t[e]||0;for(let t=r;t<e;++t)n[t]=n[r-1];return n}(r,f),d=function(t,e){const n=new Int8Array(e),r=t.length;for(let e=0;e<r;++e)n[e]|=mC[t[e]];for(let t=r;t<e;++t)n[t]=n[r-1];return n}(i,f),p=(x=t[0].datum)&&x.mark&&x.mark.marktype,g="group"===p&&t[0].datum.items[s].marktype,m="area"===g,y=function(t,e,n,r){const i=t=>[t.x,t.x,t.x,t.y,t.y,t.y];return t?"line"===t||"area"===t?t=>i(t.datum):"line"===e?t=>{const e=t.datum.items[r].items;return i(e.length?e["start"===n?0:e.length-1]:{x:NaN,y:NaN})}:t=>{const e=t.datum.bounds;return[e.x1,(e.x1+e.x2)/2,e.x2,e.y1,(e.y1+e.y2)/2,e.y2]}:i}(p,g,u,s),v=null===l||l===1/0,_=m&&"naive"===c;var x;let b=-1,w=-1;const k=t.map((t=>{const e=v?ty.width(t,t.text):void 0;return b=Math.max(b,e),w=Math.max(w,t.fontSize),{datum:t,opacity:0,x:void 0,y:void 0,align:void 0,baseline:void 0,boundary:y(t),textWidth:e}}));l=null===l||l===1/0?Math.max(b,w)+Math.max(...r):l;const A=sC(e[0],e[1],l);let M;if(!_){n&&k.sort(((t,e)=>n(t.datum,e.datum)));let e=!1;for(let t=0;t<d.length&&!e;++t)e=5===d[t]||h[t]<0;const r=(p&&a||m)&&t.map((t=>t.datum));M=o.length||r?function(t,e,n,r,i){const o=t.width,a=t.height,u=r||i,s=kc(o,a).getContext("2d"),l=kc(o,a).getContext("2d"),c=u&&kc(o,a).getContext("2d");n.forEach((t=>rC(s,t,!1))),rC(l,e,!1),u&&rC(c,e,!0);const f=nC(s,o,a),h=nC(l,o,a),d=u&&nC(c,o,a),p=t.bitmap(),g=u&&t.bitmap();let m,y,v,_,x,b,w,k;for(y=0;y<a;++y)for(m=0;m<o;++m)x=y*o+m,b=f[x]&eC,k=h[x]&eC,w=u&&d[x]&eC,(b||w||k)&&(v=t(m),_=t(y),i||!b&&!k||p.set(v,_),u&&(b||w)&&g.set(v,_));return[p,g]}(A,r||[],o,e,m):function(t,e){const n=t.bitmap();return(e||[]).forEach((e=>n.set(t(e.boundary[0]),t(e.boundary[3])))),[n,void 0]}(A,a&&k)}const E=m?yC[c](A,M,a,s):function(t,e,n,r){const i=t.width,o=t.height,a=e[0],u=e[1],s=r.length;return function(e){var l;const c=e.boundary,f=e.datum.fontSize;if(c[2]<0||c[5]<0||c[0]>i||c[3]>o)return!1;let h,d,p,g,m,y,v,_,x,b,w,k,A,M,E,D=null!==(l=e.textWidth)&&void 0!==l?l:0;for(let i=0;i<s;++i){if(h=(3&n[i])-1,d=(n[i]>>>2&3)-1,p=0===h&&0===d||r[i]<0,g=h&&d?Math.SQRT1_2:1,m=r[i]<0?-1:1,y=c[1+h]+r[i]*h*g,w=c[4+d]+m*f*d/2+r[i]*d*g,_=w-f/2,x=w+f/2,k=t(y),M=t(_),E=t(x),!D){if(!gC(k,k,M,E,a,u,0,0,0,0,0,p))continue;D=ty.width(e.datum,e.datum.text)}if(b=y+m*D*h/2,y=b-D/2,v=b+D/2,k=t(y),A=t(v),gC(k,A,M,E,a,u,0,0,0,0,0,p))return e.x=h?h*m<0?v:y:b,e.y=d?d*m<0?x:_:w,e.align=dC[h*m+1],e.baseline=pC[d*m+1],a.setRange(k,M,A,E),!0}return!1}}(A,M,d,h);return k.forEach((t=>t.opacity=+E(t))),k}const _C=["x","y","opacity","align","baseline"],xC=["top-left","left","bottom-left","top","bottom","top-right","right","bottom-right"];function bC(t){$a.call(this,null,t)}bC.Definition={type:"Label",metadata:{modifies:!0},params:[{name:"size",type:"number",array:!0,length:2,required:!0},{name:"sort",type:"compare"},{name:"anchor",type:"string",array:!0,default:xC},{name:"offset",type:"number",array:!0,default:[1]},{name:"padding",type:"number",default:0,null:!0},{name:"lineAnchor",type:"string",values:["start","end"],default:"end"},{name:"markIndex",type:"number",default:0},{name:"avoidBaseMark",type:"boolean",default:!0},{name:"avoidMarks",type:"data",array:!0},{name:"method",type:"string",default:"naive"},{name:"as",type:"string",array:!0,length:_C.length,default:_C}]},ut(bC,$a,{transform(t,e){const n=t.modified();if(!(n||e.changed(e.ADD_REM)||function(n){const r=t[n];return H(r)&&e.modified(r.fields)}("sort")))return;t.size&&2===t.size.length||u("Size parameter should be specified as a [width, height] array.");const r=t.as||_C;return vC(e.materialize(e.SOURCE).source||[],t.size,t.sort,$(null==t.offset?1:t.offset),$(t.anchor||xC),t.avoidMarks||[],!1!==t.avoidBaseMark,t.lineAnchor||"end",t.markIndex||0,void 0===t.padding?0:t.padding,t.method||"naive").forEach((t=>{const e=t.datum;e[r[0]]=t.x,e[r[1]]=t.y,e[r[2]]=t.opacity,e[r[3]]=t.align,e[r[4]]=t.baseline})),e.reflow(n).modifies(r)}});var wC=Object.freeze({__proto__:null,label:bC});function kC(t,e){var n,r,i,o,a,u,s=[],l=function(t){return t(o)};if(null==e)s.push(t);else for(n={},r=0,i=t.length;r<i;++r)o=t[r],(u=n[a=e.map(l)])||(n[a]=u=[],u.dims=a,s.push(u)),u.push(o);return s}function AC(t){$a.call(this,null,t)}AC.Definition={type:"Loess",metadata:{generates:!0},params:[{name:"x",type:"field",required:!0},{name:"y",type:"field",required:!0},{name:"groupby",type:"field",array:!0},{name:"bandwidth",type:"number",default:.3},{name:"as",type:"string",array:!0}]},ut(AC,$a,{transform(t,e){const r=e.fork(e.NO_SOURCE|e.NO_FIELDS);if(!this.value||e.changed()||t.modified()){const i=kC(e.materialize(e.SOURCE).source,t.groupby),o=(t.groupby||[]).map(n),a=o.length,u=t.as||[n(t.x),n(t.y)],s=[];i.forEach((e=>{Bu(e,t.x,t.y,t.bandwidth||.3).forEach((t=>{const n={};for(let t=0;t<a;++t)n[o[t]]=e.dims[t];n[u[0]]=t[0],n[u[1]]=t[1],s.push(ha(n))}))})),this.value&&(r.rem=this.value),this.value=r.add=r.source=s}return r}});const MC={linear:Au,log:Mu,exp:Eu,pow:Du,quad:Cu,poly:Fu};function EC(t){$a.call(this,null,t)}EC.Definition={type:"Regression",metadata:{generates:!0},params:[{name:"x",type:"field",required:!0},{name:"y",type:"field",required:!0},{name:"groupby",type:"field",array:!0},{name:"method",type:"string",default:"linear",values:Object.keys(MC)},{name:"order",type:"number",default:3},{name:"extent",type:"number",array:!0,length:2},{name:"params",type:"boolean",default:!1},{name:"as",type:"string",array:!0}]},ut(EC,$a,{transform(t,e){const r=e.fork(e.NO_SOURCE|e.NO_FIELDS);if(!this.value||e.changed()||t.modified()){const i=kC(e.materialize(e.SOURCE).source,t.groupby),o=(t.groupby||[]).map(n),a=t.method||"linear",s=t.order||3,l=((t,e)=>"poly"===t?e:"quad"===t?2:1)(a,s),c=t.as||[n(t.x),n(t.y)],f=MC[a],h=[];let d=t.extent;rt(MC,a)||u("Invalid regression method: "+a),null!=d&&"log"===a&&d[0]<=0&&(e.dataflow.warn("Ignoring extent with values <= 0 for log regression."),d=null),i.forEach((n=>{if(n.length<=l)return void e.dataflow.warn("Skipping regression with more parameters than data points.");const r=f(n,t.x,t.y,s);if(t.params)return void h.push(ha({keys:n.dims,coef:r.coef,rSquared:r.rSquared}));const i=d||tt(n,t.x),u=t=>{const e={};for(let t=0;t<o.length;++t)e[o[t]]=n.dims[t];e[c[0]]=t[0],e[c[1]]=t[1],h.push(ha(e))};"linear"===a?i.forEach((t=>u([t,r.predict(t)]))):Ou(r.predict,i,25,200).forEach(u)})),this.value&&(r.rem=this.value),this.value=r.add=r.source=h}return r}});var DC=Object.freeze({__proto__:null,loess:AC,regression:EC});const CC=134217729;function FC(t,e,n,r,i){let o,a,u,s,l=e[0],c=r[0],f=0,h=0;c>l==c>-l?(o=l,l=e[++f]):(o=c,c=r[++h]);let d=0;if(f<t&&h<n)for(c>l==c>-l?(a=l+o,u=o-(a-l),l=e[++f]):(a=c+o,u=o-(a-c),c=r[++h]),o=a,0!==u&&(i[d++]=u);f<t&&h<n;)c>l==c>-l?(a=o+l,s=a-o,u=o-(a-s)+(l-s),l=e[++f]):(a=o+c,s=a-o,u=o-(a-s)+(c-s),c=r[++h]),o=a,0!==u&&(i[d++]=u);for(;f<t;)a=o+l,s=a-o,u=o-(a-s)+(l-s),l=e[++f],o=a,0!==u&&(i[d++]=u);for(;h<n;)a=o+c,s=a-o,u=o-(a-s)+(c-s),c=r[++h],o=a,0!==u&&(i[d++]=u);return 0===o&&0!==d||(i[d++]=o),d}function SC(t){return new Float64Array(t)}const BC=SC(4),TC=SC(8),NC=SC(12),zC=SC(16),OC=SC(4);function RC(t,e,n,r,i,o){const a=(e-o)*(n-i),u=(t-i)*(r-o),s=a-u;if(0===a||0===u||a>0!=u>0)return s;const l=Math.abs(a+u);return Math.abs(s)>=33306690738754716e-32*l?s:-function(t,e,n,r,i,o,a){let u,s,l,c,f,h,d,p,g,m,y,v,_,x,b,w,k,A;const M=t-i,E=n-i,D=e-o,C=r-o;x=M*C,h=CC*M,d=h-(h-M),p=M-d,h=CC*C,g=h-(h-C),m=C-g,b=p*m-(x-d*g-p*g-d*m),w=D*E,h=CC*D,d=h-(h-D),p=D-d,h=CC*E,g=h-(h-E),m=E-g,k=p*m-(w-d*g-p*g-d*m),y=b-k,f=b-y,BC[0]=b-(y+f)+(f-k),v=x+y,f=v-x,_=x-(v-f)+(y-f),y=_-w,f=_-y,BC[1]=_-(y+f)+(f-w),A=v+y,f=A-v,BC[2]=v-(A-f)+(y-f),BC[3]=A;let F=function(t,e){let n=e[0];for(let r=1;r<t;r++)n+=e[r];return n}(4,BC),S=22204460492503146e-32*a;if(F>=S||-F>=S)return F;if(f=t-M,u=t-(M+f)+(f-i),f=n-E,l=n-(E+f)+(f-i),f=e-D,s=e-(D+f)+(f-o),f=r-C,c=r-(C+f)+(f-o),0===u&&0===s&&0===l&&0===c)return F;if(S=11093356479670487e-47*a+33306690738754706e-32*Math.abs(F),F+=M*c+C*u-(D*l+E*s),F>=S||-F>=S)return F;x=u*C,h=CC*u,d=h-(h-u),p=u-d,h=CC*C,g=h-(h-C),m=C-g,b=p*m-(x-d*g-p*g-d*m),w=s*E,h=CC*s,d=h-(h-s),p=s-d,h=CC*E,g=h-(h-E),m=E-g,k=p*m-(w-d*g-p*g-d*m),y=b-k,f=b-y,OC[0]=b-(y+f)+(f-k),v=x+y,f=v-x,_=x-(v-f)+(y-f),y=_-w,f=_-y,OC[1]=_-(y+f)+(f-w),A=v+y,f=A-v,OC[2]=v-(A-f)+(y-f),OC[3]=A;const B=FC(4,BC,4,OC,TC);x=M*c,h=CC*M,d=h-(h-M),p=M-d,h=CC*c,g=h-(h-c),m=c-g,b=p*m-(x-d*g-p*g-d*m),w=D*l,h=CC*D,d=h-(h-D),p=D-d,h=CC*l,g=h-(h-l),m=l-g,k=p*m-(w-d*g-p*g-d*m),y=b-k,f=b-y,OC[0]=b-(y+f)+(f-k),v=x+y,f=v-x,_=x-(v-f)+(y-f),y=_-w,f=_-y,OC[1]=_-(y+f)+(f-w),A=v+y,f=A-v,OC[2]=v-(A-f)+(y-f),OC[3]=A;const T=FC(B,TC,4,OC,NC);x=u*c,h=CC*u,d=h-(h-u),p=u-d,h=CC*c,g=h-(h-c),m=c-g,b=p*m-(x-d*g-p*g-d*m),w=s*l,h=CC*s,d=h-(h-s),p=s-d,h=CC*l,g=h-(h-l),m=l-g,k=p*m-(w-d*g-p*g-d*m),y=b-k,f=b-y,OC[0]=b-(y+f)+(f-k),v=x+y,f=v-x,_=x-(v-f)+(y-f),y=_-w,f=_-y,OC[1]=_-(y+f)+(f-w),A=v+y,f=A-v,OC[2]=v-(A-f)+(y-f),OC[3]=A;const N=FC(T,NC,4,OC,zC);return zC[N-1]}(t,e,n,r,i,o,l)}const LC=Math.pow(2,-52),UC=new Uint32Array(512);class qC{static from(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:HC,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:YC;const r=t.length,i=new Float64Array(2*r);for(let o=0;o<r;o++){const r=t[o];i[2*o]=e(r),i[2*o+1]=n(r)}return new qC(i)}constructor(t){const e=t.length>>1;if(e>0&&"number"!=typeof t[0])throw new Error("Expected coords to contain numbers.");this.coords=t;const n=Math.max(2*e-5,0);this._triangles=new Uint32Array(3*n),this._halfedges=new Int32Array(3*n),this._hashSize=Math.ceil(Math.sqrt(e)),this._hullPrev=new Uint32Array(e),this._hullNext=new Uint32Array(e),this._hullTri=new Uint32Array(e),this._hullHash=new Int32Array(this._hashSize).fill(-1),this._ids=new Uint32Array(e),this._dists=new Float64Array(e),this.update()}update(){const{coords:t,_hullPrev:e,_hullNext:n,_hullTri:r,_hullHash:i}=this,o=t.length>>1;let a=1/0,u=1/0,s=-1/0,l=-1/0;for(let e=0;e<o;e++){const n=t[2*e],r=t[2*e+1];n<a&&(a=n),r<u&&(u=r),n>s&&(s=n),r>l&&(l=r),this._ids[e]=e}const c=(a+s)/2,f=(u+l)/2;let h,d,p,g=1/0;for(let e=0;e<o;e++){const n=PC(c,f,t[2*e],t[2*e+1]);n<g&&(h=e,g=n)}const m=t[2*h],y=t[2*h+1];g=1/0;for(let e=0;e<o;e++){if(e===h)continue;const n=PC(m,y,t[2*e],t[2*e+1]);n<g&&n>0&&(d=e,g=n)}let v=t[2*d],_=t[2*d+1],x=1/0;for(let e=0;e<o;e++){if(e===h||e===d)continue;const n=IC(m,y,v,_,t[2*e],t[2*e+1]);n<x&&(p=e,x=n)}let b=t[2*p],w=t[2*p+1];if(x===1/0){for(let e=0;e<o;e++)this._dists[e]=t[2*e]-t[0]||t[2*e+1]-t[1];$C(this._ids,this._dists,0,o-1);const e=new Uint32Array(o);let n=0;for(let t=0,r=-1/0;t<o;t++){const i=this._ids[t];this._dists[i]>r&&(e[n++]=i,r=this._dists[i])}return this.hull=e.subarray(0,n),this.triangles=new Uint32Array(0),void(this.halfedges=new Uint32Array(0))}if(RC(m,y,v,_,b,w)<0){const t=d,e=v,n=_;d=p,v=b,_=w,p=t,b=e,w=n}const k=function(t,e,n,r,i,o){const a=n-t,u=r-e,s=i-t,l=o-e,c=a*a+u*u,f=s*s+l*l,h=.5/(a*l-u*s);return{x:t+(l*c-u*f)*h,y:e+(a*f-s*c)*h}}(m,y,v,_,b,w);this._cx=k.x,this._cy=k.y;for(let e=0;e<o;e++)this._dists[e]=PC(t[2*e],t[2*e+1],k.x,k.y);$C(this._ids,this._dists,0,o-1),this._hullStart=h;let A=3;n[h]=e[p]=d,n[d]=e[h]=p,n[p]=e[d]=h,r[h]=0,r[d]=1,r[p]=2,i.fill(-1),i[this._hashKey(m,y)]=h,i[this._hashKey(v,_)]=d,i[this._hashKey(b,w)]=p,this.trianglesLen=0,this._addTriangle(h,d,p,-1,-1,-1);for(let o,a,u=0;u<this._ids.length;u++){const s=this._ids[u],l=t[2*s],c=t[2*s+1];if(u>0&&Math.abs(l-o)<=LC&&Math.abs(c-a)<=LC)continue;if(o=l,a=c,s===h||s===d||s===p)continue;let f=0;for(let t=0,e=this._hashKey(l,c);t<this._hashSize&&(f=i[(e+t)%this._hashSize],-1===f||f===n[f]);t++);f=e[f];let g,m=f;for(;g=n[m],RC(l,c,t[2*m],t[2*m+1],t[2*g],t[2*g+1])>=0;)if(m=g,m===f){m=-1;break}if(-1===m)continue;let y=this._addTriangle(m,s,n[m],-1,-1,r[m]);r[s]=this._legalize(y+2),r[m]=y,A++;let v=n[m];for(;g=n[v],RC(l,c,t[2*v],t[2*v+1],t[2*g],t[2*g+1])<0;)y=this._addTriangle(v,s,g,r[s],-1,r[v]),r[s]=this._legalize(y+2),n[v]=v,A--,v=g;if(m===f)for(;g=e[m],RC(l,c,t[2*g],t[2*g+1],t[2*m],t[2*m+1])<0;)y=this._addTriangle(g,s,m,-1,r[m],r[g]),this._legalize(y+2),r[g]=y,n[m]=m,A--,m=g;this._hullStart=e[s]=m,n[m]=e[v]=s,n[s]=v,i[this._hashKey(l,c)]=s,i[this._hashKey(t[2*m],t[2*m+1])]=m}this.hull=new Uint32Array(A);for(let t=0,e=this._hullStart;t<A;t++)this.hull[t]=e,e=n[e];this.triangles=this._triangles.subarray(0,this.trianglesLen),this.halfedges=this._halfedges.subarray(0,this.trianglesLen)}_hashKey(t,e){return Math.floor(function(t,e){const n=t/(Math.abs(t)+Math.abs(e));return(e>0?3-n:1+n)/4}(t-this._cx,e-this._cy)*this._hashSize)%this._hashSize}_legalize(t){const{_triangles:e,_halfedges:n,coords:r}=this;let i=0,o=0;for(;;){const a=n[t],u=t-t%3;if(o=u+(t+2)%3,-1===a){if(0===i)break;t=UC[--i];continue}const s=a-a%3,l=u+(t+1)%3,c=s+(a+2)%3,f=e[o],h=e[t],d=e[l],p=e[c];if(jC(r[2*f],r[2*f+1],r[2*h],r[2*h+1],r[2*d],r[2*d+1],r[2*p],r[2*p+1])){e[t]=p,e[a]=f;const r=n[c];if(-1===r){let e=this._hullStart;do{if(this._hullTri[e]===c){this._hullTri[e]=t;break}e=this._hullPrev[e]}while(e!==this._hullStart)}this._link(t,r),this._link(a,n[o]),this._link(o,c);const u=s+(a+1)%3;i<UC.length&&(UC[i++]=u)}else{if(0===i)break;t=UC[--i]}}return o}_link(t,e){this._halfedges[t]=e,-1!==e&&(this._halfedges[e]=t)}_addTriangle(t,e,n,r,i,o){const a=this.trianglesLen;return this._triangles[a]=t,this._triangles[a+1]=e,this._triangles[a+2]=n,this._link(a,r),this._link(a+1,i),this._link(a+2,o),this.trianglesLen+=3,a}}function PC(t,e,n,r){const i=t-n,o=e-r;return i*i+o*o}function jC(t,e,n,r,i,o,a,u){const s=t-a,l=e-u,c=n-a,f=r-u,h=i-a,d=o-u,p=c*c+f*f,g=h*h+d*d;return s*(f*g-p*d)-l*(c*g-p*h)+(s*s+l*l)*(c*d-f*h)<0}function IC(t,e,n,r,i,o){const a=n-t,u=r-e,s=i-t,l=o-e,c=a*a+u*u,f=s*s+l*l,h=.5/(a*l-u*s),d=(l*c-u*f)*h,p=(a*f-s*c)*h;return d*d+p*p}function $C(t,e,n,r){if(r-n<=20)for(let i=n+1;i<=r;i++){const r=t[i],o=e[r];let a=i-1;for(;a>=n&&e[t[a]]>o;)t[a+1]=t[a--];t[a+1]=r}else{let i=n+1,o=r;WC(t,n+r>>1,i),e[t[n]]>e[t[r]]&&WC(t,n,r),e[t[i]]>e[t[r]]&&WC(t,i,r),e[t[n]]>e[t[i]]&&WC(t,n,i);const a=t[i],u=e[a];for(;;){do{i++}while(e[t[i]]<u);do{o--}while(e[t[o]]>u);if(o<i)break;WC(t,i,o)}t[n+1]=t[o],t[o]=a,r-i+1>=o-n?($C(t,e,i,r),$C(t,e,n,o-1)):($C(t,e,n,o-1),$C(t,e,i,r))}}function WC(t,e,n){const r=t[e];t[e]=t[n],t[n]=r}function HC(t){return t[0]}function YC(t){return t[1]}const GC=1e-6;class VC{constructor(){this._x0=this._y0=this._x1=this._y1=null,this._=""}moveTo(t,e){this._+="M".concat(this._x0=this._x1=+t,",").concat(this._y0=this._y1=+e)}closePath(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")}lineTo(t,e){this._+="L".concat(this._x1=+t,",").concat(this._y1=+e)}arc(t,e,n){const r=(t=+t)+(n=+n),i=e=+e;if(n<0)throw new Error("negative radius");null===this._x1?this._+="M".concat(r,",").concat(i):(Math.abs(this._x1-r)>GC||Math.abs(this._y1-i)>GC)&&(this._+="L"+r+","+i),n&&(this._+="A".concat(n,",").concat(n,",0,1,1,").concat(t-n,",").concat(e,"A").concat(n,",").concat(n,",0,1,1,").concat(this._x1=r,",").concat(this._y1=i))}rect(t,e,n,r){this._+="M".concat(this._x0=this._x1=+t,",").concat(this._y0=this._y1=+e,"h").concat(+n,"v").concat(+r,"h").concat(-n,"Z")}value(){return this._||null}}class XC{constructor(){this._=[]}moveTo(t,e){this._.push([t,e])}closePath(){this._.push(this._[0].slice())}lineTo(t,e){this._.push([t,e])}value(){return this._.length?this._:null}}class JC{constructor(t){let[e,n,r,i]=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[0,0,960,500];if(!((r=+r)>=(e=+e)&&(i=+i)>=(n=+n)))throw new Error("invalid bounds");this.delaunay=t,this._circumcenters=new Float64Array(2*t.points.length),this.vectors=new Float64Array(2*t.points.length),this.xmax=r,this.xmin=e,this.ymax=i,this.ymin=n,this._init()}update(){return this.delaunay.update(),this._init(),this}_init(){const{delaunay:{points:t,hull:e,triangles:n},vectors:r}=this,i=this.circumcenters=this._circumcenters.subarray(0,n.length/3*2);for(let e,r,o=0,a=0,u=n.length;o<u;o+=3,a+=2){const u=2*n[o],s=2*n[o+1],l=2*n[o+2],c=t[u],f=t[u+1],h=t[s],d=t[s+1],p=t[l],g=t[l+1],m=h-c,y=d-f,v=p-c,_=g-f,x=2*(m*_-y*v);if(Math.abs(x)<1e-9){let i=1e9;const o=2*n[0];i*=Math.sign((t[o]-c)*_-(t[o+1]-f)*v),e=(c+p)/2-i*_,r=(f+g)/2+i*v}else{const t=1/x,n=m*m+y*y,i=v*v+_*_;e=c+(_*n-y*i)*t,r=f+(m*i-v*n)*t}i[a]=e,i[a+1]=r}let o,a,u,s=e[e.length-1],l=4*s,c=t[2*s],f=t[2*s+1];r.fill(0);for(let n=0;n<e.length;++n)s=e[n],o=l,a=c,u=f,l=4*s,c=t[2*s],f=t[2*s+1],r[o+2]=r[l]=u-f,r[o+3]=r[l+1]=c-a}render(t){const e=null==t?t=new VC:void 0,{delaunay:{halfedges:n,inedges:r,hull:i},circumcenters:o,vectors:a}=this;if(i.length<=1)return null;for(let e=0,r=n.length;e<r;++e){const r=n[e];if(r<e)continue;const i=2*Math.floor(e/3),a=2*Math.floor(r/3),u=o[i],s=o[i+1],l=o[a],c=o[a+1];this._renderSegment(u,s,l,c,t)}let u,s=i[i.length-1];for(let e=0;e<i.length;++e){u=s,s=i[e];const n=2*Math.floor(r[s]/3),l=o[n],c=o[n+1],f=4*u,h=this._project(l,c,a[f+2],a[f+3]);h&&this._renderSegment(l,c,h[0],h[1],t)}return e&&e.value()}renderBounds(t){const e=null==t?t=new VC:void 0;return t.rect(this.xmin,this.ymin,this.xmax-this.xmin,this.ymax-this.ymin),e&&e.value()}renderCell(t,e){const n=null==e?e=new VC:void 0,r=this._clip(t);if(null===r||!r.length)return;e.moveTo(r[0],r[1]);let i=r.length;for(;r[0]===r[i-2]&&r[1]===r[i-1]&&i>1;)i-=2;for(let t=2;t<i;t+=2)r[t]===r[t-2]&&r[t+1]===r[t-1]||e.lineTo(r[t],r[t+1]);return e.closePath(),n&&n.value()}*cellPolygons(){const{delaunay:{points:t}}=this;for(let e=0,n=t.length/2;e<n;++e){const t=this.cellPolygon(e);t&&(t.index=e,yield t)}}cellPolygon(t){const e=new XC;return this.renderCell(t,e),e.value()}_renderSegment(t,e,n,r,i){let o;const a=this._regioncode(t,e),u=this._regioncode(n,r);0===a&&0===u?(i.moveTo(t,e),i.lineTo(n,r)):(o=this._clipSegment(t,e,n,r,a,u))&&(i.moveTo(o[0],o[1]),i.lineTo(o[2],o[3]))}contains(t,e,n){return(e=+e)==e&&(n=+n)==n&&this.delaunay._step(t,e,n)===t}*neighbors(t){const e=this._clip(t);if(e)for(const n of this.delaunay.neighbors(t)){const t=this._clip(n);if(t)t:for(let r=0,i=e.length;r<i;r+=2)for(let o=0,a=t.length;o<a;o+=2)if(e[r]==t[o]&&e[r+1]==t[o+1]&&e[(r+2)%i]==t[(o+a-2)%a]&&e[(r+3)%i]==t[(o+a-1)%a]){yield n;break t}}}_cell(t){const{circumcenters:e,delaunay:{inedges:n,halfedges:r,triangles:i}}=this,o=n[t];if(-1===o)return null;const a=[];let u=o;do{const n=Math.floor(u/3);if(a.push(e[2*n],e[2*n+1]),u=u%3==2?u-2:u+1,i[u]!==t)break;u=r[u]}while(u!==o&&-1!==u);return a}_clip(t){if(0===t&&1===this.delaunay.hull.length)return[this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax,this.xmin,this.ymin];const e=this._cell(t);if(null===e)return null;const{vectors:n}=this,r=4*t;return n[r]||n[r+1]?this._clipInfinite(t,e,n[r],n[r+1],n[r+2],n[r+3]):this._clipFinite(t,e)}_clipFinite(t,e){const n=e.length;let r,i,o,a,u=null,s=e[n-2],l=e[n-1],c=this._regioncode(s,l),f=0;for(let h=0;h<n;h+=2)if(r=s,i=l,s=e[h],l=e[h+1],o=c,c=this._regioncode(s,l),0===o&&0===c)a=f,f=0,u?u.push(s,l):u=[s,l];else{let e,n,h,d,p;if(0===o){if(null===(e=this._clipSegment(r,i,s,l,o,c)))continue;[n,h,d,p]=e}else{if(null===(e=this._clipSegment(s,l,r,i,c,o)))continue;[d,p,n,h]=e,a=f,f=this._edgecode(n,h),a&&f&&this._edge(t,a,f,u,u.length),u?u.push(n,h):u=[n,h]}a=f,f=this._edgecode(d,p),a&&f&&this._edge(t,a,f,u,u.length),u?u.push(d,p):u=[d,p]}if(u)a=f,f=this._edgecode(u[0],u[1]),a&&f&&this._edge(t,a,f,u,u.length);else if(this.contains(t,(this.xmin+this.xmax)/2,(this.ymin+this.ymax)/2))return[this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax,this.xmin,this.ymin];return u}_clipSegment(t,e,n,r,i,o){for(;;){if(0===i&&0===o)return[t,e,n,r];if(i&o)return null;let a,u,s=i||o;8&s?(a=t+(n-t)*(this.ymax-e)/(r-e),u=this.ymax):4&s?(a=t+(n-t)*(this.ymin-e)/(r-e),u=this.ymin):2&s?(u=e+(r-e)*(this.xmax-t)/(n-t),a=this.xmax):(u=e+(r-e)*(this.xmin-t)/(n-t),a=this.xmin),i?(t=a,e=u,i=this._regioncode(t,e)):(n=a,r=u,o=this._regioncode(n,r))}}_clipInfinite(t,e,n,r,i,o){let a,u=Array.from(e);if((a=this._project(u[0],u[1],n,r))&&u.unshift(a[0],a[1]),(a=this._project(u[u.length-2],u[u.length-1],i,o))&&u.push(a[0],a[1]),u=this._clipFinite(t,u))for(let e,n=0,r=u.length,i=this._edgecode(u[r-2],u[r-1]);n<r;n+=2)e=i,i=this._edgecode(u[n],u[n+1]),e&&i&&(n=this._edge(t,e,i,u,n),r=u.length);else this.contains(t,(this.xmin+this.xmax)/2,(this.ymin+this.ymax)/2)&&(u=[this.xmin,this.ymin,this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax]);return u}_edge(t,e,n,r,i){for(;e!==n;){let n,o;switch(e){case 5:e=4;continue;case 4:e=6,n=this.xmax,o=this.ymin;break;case 6:e=2;continue;case 2:e=10,n=this.xmax,o=this.ymax;break;case 10:e=8;continue;case 8:e=9,n=this.xmin,o=this.ymax;break;case 9:e=1;continue;case 1:e=5,n=this.xmin,o=this.ymin}r[i]===n&&r[i+1]===o||!this.contains(t,n,o)||(r.splice(i,0,n,o),i+=2)}if(r.length>4)for(let t=0;t<r.length;t+=2){const e=(t+2)%r.length,n=(t+4)%r.length;(r[t]===r[e]&&r[e]===r[n]||r[t+1]===r[e+1]&&r[e+1]===r[n+1])&&(r.splice(e,2),t-=2)}return i}_project(t,e,n,r){let i,o,a,u=1/0;if(r<0){if(e<=this.ymin)return null;(i=(this.ymin-e)/r)<u&&(a=this.ymin,o=t+(u=i)*n)}else if(r>0){if(e>=this.ymax)return null;(i=(this.ymax-e)/r)<u&&(a=this.ymax,o=t+(u=i)*n)}if(n>0){if(t>=this.xmax)return null;(i=(this.xmax-t)/n)<u&&(o=this.xmax,a=e+(u=i)*r)}else if(n<0){if(t<=this.xmin)return null;(i=(this.xmin-t)/n)<u&&(o=this.xmin,a=e+(u=i)*r)}return[o,a]}_edgecode(t,e){return(t===this.xmin?1:t===this.xmax?2:0)|(e===this.ymin?4:e===this.ymax?8:0)}_regioncode(t,e){return(t<this.xmin?1:t>this.xmax?2:0)|(e<this.ymin?4:e>this.ymax?8:0)}}const ZC=2*Math.PI,QC=Math.pow;function KC(t){return t[0]}function tF(t){return t[1]}function eF(t,e,n){return[t+Math.sin(t+e)*n,e+Math.cos(t-e)*n]}class nF{static from(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:KC,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:tF,r=arguments.length>3?arguments[3]:void 0;return new nF("length"in t?function(t,e,n,r){const i=t.length,o=new Float64Array(2*i);for(let a=0;a<i;++a){const i=t[a];o[2*a]=e.call(r,i,a,t),o[2*a+1]=n.call(r,i,a,t)}return o}(t,e,n,r):Float64Array.from(function*(t,e,n,r){let i=0;for(const o of t)yield e.call(r,o,i,t),yield n.call(r,o,i,t),++i}(t,e,n,r)))}constructor(t){this._delaunator=new qC(t),this.inedges=new Int32Array(t.length/2),this._hullIndex=new Int32Array(t.length/2),this.points=this._delaunator.coords,this._init()}update(){return this._delaunator.update(),this._init(),this}_init(){const t=this._delaunator,e=this.points;if(t.hull&&t.hull.length>2&&function(t){const{triangles:e,coords:n}=t;for(let t=0;t<e.length;t+=3){const r=2*e[t],i=2*e[t+1],o=2*e[t+2];if((n[o]-n[r])*(n[i+1]-n[r+1])-(n[i]-n[r])*(n[o+1]-n[r+1])>1e-10)return!1}return!0}(t)){this.collinear=Int32Array.from({length:e.length/2},((t,e)=>e)).sort(((t,n)=>e[2*t]-e[2*n]||e[2*t+1]-e[2*n+1]));const t=this.collinear[0],n=this.collinear[this.collinear.length-1],r=[e[2*t],e[2*t+1],e[2*n],e[2*n+1]],i=1e-8*Math.hypot(r[3]-r[1],r[2]-r[0]);for(let t=0,n=e.length/2;t<n;++t){const n=eF(e[2*t],e[2*t+1],i);e[2*t]=n[0],e[2*t+1]=n[1]}this._delaunator=new qC(e)}else delete this.collinear;const n=this.halfedges=this._delaunator.halfedges,r=this.hull=this._delaunator.hull,i=this.triangles=this._delaunator.triangles,o=this.inedges.fill(-1),a=this._hullIndex.fill(-1);for(let t=0,e=n.length;t<e;++t){const e=i[t%3==2?t-2:t+1];-1!==n[t]&&-1!==o[e]||(o[e]=t)}for(let t=0,e=r.length;t<e;++t)a[r[t]]=t;r.length<=2&&r.length>0&&(this.triangles=new Int32Array(3).fill(-1),this.halfedges=new Int32Array(3).fill(-1),this.triangles[0]=r[0],o[r[0]]=1,2===r.length&&(o[r[1]]=0,this.triangles[1]=r[1],this.triangles[2]=r[1]))}voronoi(t){return new JC(this,t)}*neighbors(t){const{inedges:e,hull:n,_hullIndex:r,halfedges:i,triangles:o,collinear:a}=this;if(a){const e=a.indexOf(t);return e>0&&(yield a[e-1]),void(e<a.length-1&&(yield a[e+1]))}const u=e[t];if(-1===u)return;let s=u,l=-1;do{if(yield l=o[s],s=s%3==2?s-2:s+1,o[s]!==t)return;if(s=i[s],-1===s){const e=n[(r[t]+1)%n.length];return void(e!==l&&(yield e))}}while(s!==u)}find(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if((t=+t)!=t||(e=+e)!=e)return-1;const r=n;let i;for(;(i=this._step(n,t,e))>=0&&i!==n&&i!==r;)n=i;return i}_step(t,e,n){const{inedges:r,hull:i,_hullIndex:o,halfedges:a,triangles:u,points:s}=this;if(-1===r[t]||!s.length)return(t+1)%(s.length>>1);let l=t,c=QC(e-s[2*t],2)+QC(n-s[2*t+1],2);const f=r[t];let h=f;do{let r=u[h];const f=QC(e-s[2*r],2)+QC(n-s[2*r+1],2);if(f<c&&(c=f,l=r),h=h%3==2?h-2:h+1,u[h]!==t)break;if(h=a[h],-1===h){if(h=i[(o[t]+1)%i.length],h!==r&&QC(e-s[2*h],2)+QC(n-s[2*h+1],2)<c)return h;break}}while(h!==f);return l}render(t){const e=null==t?t=new VC:void 0,{points:n,halfedges:r,triangles:i}=this;for(let e=0,o=r.length;e<o;++e){const o=r[e];if(o<e)continue;const a=2*i[e],u=2*i[o];t.moveTo(n[a],n[a+1]),t.lineTo(n[u],n[u+1])}return this.renderHull(t),e&&e.value()}renderPoints(t,e){void 0!==e||t&&"function"==typeof t.moveTo||(e=t,t=null),e=null==e?2:+e;const n=null==t?t=new VC:void 0,{points:r}=this;for(let n=0,i=r.length;n<i;n+=2){const i=r[n],o=r[n+1];t.moveTo(i+e,o),t.arc(i,o,e,0,ZC)}return n&&n.value()}renderHull(t){const e=null==t?t=new VC:void 0,{hull:n,points:r}=this,i=2*n[0],o=n.length;t.moveTo(r[i],r[i+1]);for(let e=1;e<o;++e){const i=2*n[e];t.lineTo(r[i],r[i+1])}return t.closePath(),e&&e.value()}hullPolygon(){const t=new XC;return this.renderHull(t),t.value()}renderTriangle(t,e){const n=null==e?e=new VC:void 0,{points:r,triangles:i}=this,o=2*i[t*=3],a=2*i[t+1],u=2*i[t+2];return e.moveTo(r[o],r[o+1]),e.lineTo(r[a],r[a+1]),e.lineTo(r[u],r[u+1]),e.closePath(),n&&n.value()}*trianglePolygons(){const{triangles:t}=this;for(let e=0,n=t.length/3;e<n;++e)yield this.trianglePolygon(e)}trianglePolygon(t){const e=new XC;return this.renderTriangle(t,e),e.value()}}function rF(t){$a.call(this,null,t)}rF.Definition={type:"Voronoi",metadata:{modifies:!0},params:[{name:"x",type:"field",required:!0},{name:"y",type:"field",required:!0},{name:"size",type:"number",array:!0,length:2},{name:"extent",type:"array",array:!0,length:2,default:[[-1e5,-1e5],[1e5,1e5]],content:{type:"number",array:!0,length:2}},{name:"as",type:"string",default:"path"}]};const iF=[-1e5,-1e5,1e5,1e5];function oF(t){const e=t[0][0],n=t[0][1];let r=t.length-1;for(;t[r][0]===e&&t[r][1]===n;--r);return"M"+t.slice(0,r+1).join("L")+"Z"}ut(rF,$a,{transform(t,e){const n=t.as||"path",r=e.source;if(!r||!r.length)return e;let i=t.size;i=i?[0,0,i[0],i[1]]:(i=t.extent)?[i[0][0],i[0][1],i[1][0],i[1][1]]:iF;const o=this.value=nF.from(r,t.x,t.y).voronoi(i);for(let t=0,e=r.length;t<e;++t){const e=o.cellPolygon(t);r[t][n]=e?oF(e):null}return e.reflow(t.modified()).modifies(n)}});var aF=Object.freeze({__proto__:null,voronoi:rF}),uF=Math.PI/180,sF=2048;function lF(){var t,e,n,r,i,o,a,u=[256,256],s=pF,l=[],c=Math.random,f={};function h(t,e,n){for(var r,i,o,a=e.x,l=e.y,f=Math.sqrt(u[0]*u[0]+u[1]*u[1]),h=s(u),d=c()<.5?1:-1,p=-d;(r=h(p+=d))&&(i=~~r[0],o=~~r[1],!(Math.min(Math.abs(i),Math.abs(o))>=f));)if(e.x=a+i,e.y=l+o,!(e.x+e.x0<0||e.y+e.y0<0||e.x+e.x1>u[0]||e.y+e.y1>u[1])&&(!n||!fF(e,t,u[0]))&&(!n||dF(e,n))){for(var g,m=e.sprite,y=e.width>>5,v=u[0]>>5,_=e.x-(y<<4),x=127&_,b=32-x,w=e.y1-e.y0,k=(e.y+e.y0)*v+(_>>5),A=0;A<w;A++){g=0;for(var M=0;M<=y;M++)t[k+M]|=g<<b|(M<y?(g=m[A*y+M])>>>x:0);k+=v}return e.sprite=null,!0}return!1}return f.layout=function(){for(var s=function(t){t.width=t.height=1;var e=Math.sqrt(t.getContext("2d").getImageData(0,0,1,1).data.length>>2);t.width=2048/e,t.height=sF/e;var n=t.getContext("2d");return n.fillStyle=n.strokeStyle="red",n.textAlign="center",{context:n,ratio:e}}(kc()),f=function(t){var e=[],n=-1;for(;++n<t;)e[n]=0;return e}((u[0]>>5)*u[1]),d=null,p=l.length,g=-1,m=[],y=l.map((u=>({text:t(u),font:e(u),style:r(u),weight:i(u),rotate:o(u),size:~~(n(u)+1e-14),padding:a(u),xoff:0,yoff:0,x1:0,y1:0,x0:0,y0:0,hasText:!1,sprite:null,datum:u}))).sort(((t,e)=>e.size-t.size));++g<p;){var v=y[g];v.x=u[0]*(c()+.5)>>1,v.y=u[1]*(c()+.5)>>1,cF(s,v,y,g),v.hasText&&h(f,v,d)&&(m.push(v),d?hF(d,v):d=[{x:v.x+v.x0,y:v.y+v.y0},{x:v.x+v.x1,y:v.y+v.y1}],v.x-=u[0]>>1,v.y-=u[1]>>1)}return m},f.words=function(t){return arguments.length?(l=t,f):l},f.size=function(t){return arguments.length?(u=[+t[0],+t[1]],f):u},f.font=function(t){return arguments.length?(e=gF(t),f):e},f.fontStyle=function(t){return arguments.length?(r=gF(t),f):r},f.fontWeight=function(t){return arguments.length?(i=gF(t),f):i},f.rotate=function(t){return arguments.length?(o=gF(t),f):o},f.text=function(e){return arguments.length?(t=gF(e),f):t},f.spiral=function(t){return arguments.length?(s=mF[t]||t,f):s},f.fontSize=function(t){return arguments.length?(n=gF(t),f):n},f.padding=function(t){return arguments.length?(a=gF(t),f):a},f.random=function(t){return arguments.length?(c=t,f):c},f}function cF(t,e,n,r){if(!e.sprite){var i=t.context,o=t.ratio;i.clearRect(0,0,2048/o,sF/o);var a,u,s,l,c,f=0,h=0,d=0,p=n.length;for(--r;++r<p;){if(e=n[r],i.save(),i.font=e.style+" "+e.weight+" "+~~((e.size+1)/o)+"px "+e.font,a=i.measureText(e.text+"m").width*o,s=e.size<<1,e.rotate){var g=Math.sin(e.rotate*uF),m=Math.cos(e.rotate*uF),y=a*m,v=a*g,_=s*m,x=s*g;a=Math.max(Math.abs(y+x),Math.abs(y-x))+31>>5<<5,s=~~Math.max(Math.abs(v+_),Math.abs(v-_))}else a=a+31>>5<<5;if(s>d&&(d=s),f+a>=2048&&(f=0,h+=d,d=0),h+s>=sF)break;i.translate((f+(a>>1))/o,(h+(s>>1))/o),e.rotate&&i.rotate(e.rotate*uF),i.fillText(e.text,0,0),e.padding&&(i.lineWidth=2*e.padding,i.strokeText(e.text,0,0)),i.restore(),e.width=a,e.height=s,e.xoff=f,e.yoff=h,e.x1=a>>1,e.y1=s>>1,e.x0=-e.x1,e.y0=-e.y1,e.hasText=!0,f+=a}for(var b=i.getImageData(0,0,2048/o,sF/o).data,w=[];--r>=0;)if((e=n[r]).hasText){for(u=(a=e.width)>>5,s=e.y1-e.y0,l=0;l<s*u;l++)w[l]=0;if(null==(f=e.xoff))return;h=e.yoff;var k=0,A=-1;for(c=0;c<s;c++){for(l=0;l<a;l++){var M=u*c+(l>>5),E=b[2048*(h+c)+(f+l)<<2]?1<<31-l%32:0;w[M]|=E,k|=E}k?A=c:(e.y0++,s--,c--,h++)}e.y1=e.y0+A,e.sprite=w.slice(0,(e.y1-e.y0)*u)}}}function fF(t,e,n){n>>=5;for(var r,i=t.sprite,o=t.width>>5,a=t.x-(o<<4),u=127&a,s=32-u,l=t.y1-t.y0,c=(t.y+t.y0)*n+(a>>5),f=0;f<l;f++){r=0;for(var h=0;h<=o;h++)if((r<<s|(h<o?(r=i[f*o+h])>>>u:0))&e[c+h])return!0;c+=n}return!1}function hF(t,e){var n=t[0],r=t[1];e.x+e.x0<n.x&&(n.x=e.x+e.x0),e.y+e.y0<n.y&&(n.y=e.y+e.y0),e.x+e.x1>r.x&&(r.x=e.x+e.x1),e.y+e.y1>r.y&&(r.y=e.y+e.y1)}function dF(t,e){return t.x+t.x1>e[0].x&&t.x+t.x0<e[1].x&&t.y+t.y1>e[0].y&&t.y+t.y0<e[1].y}function pF(t){var e=t[0]/t[1];return function(t){return[e*(t*=.1)*Math.cos(t),t*Math.sin(t)]}}function gF(t){return"function"==typeof t?t:function(){return t}}var mF={archimedean:pF,rectangular:function(t){var e=4*t[0]/t[1],n=0,r=0;return function(t){var i=t<0?-1:1;switch(Math.sqrt(1+4*i*t)-i&3){case 0:n+=e;break;case 1:r+=4;break;case 2:n-=e;break;default:r-=4}return[n,r]}}};const yF=["x","y","font","fontSize","fontStyle","fontWeight","angle"],vF=["text","font","rotate","fontSize","fontStyle","fontWeight"];function _F(t){$a.call(this,lF(),t)}_F.Definition={type:"Wordcloud",metadata:{modifies:!0},params:[{name:"size",type:"number",array:!0,length:2},{name:"font",type:"string",expr:!0,default:"sans-serif"},{name:"fontStyle",type:"string",expr:!0,default:"normal"},{name:"fontWeight",type:"string",expr:!0,default:"normal"},{name:"fontSize",type:"number",expr:!0,default:14},{name:"fontSizeRange",type:"number",array:"nullable",default:[10,50]},{name:"rotate",type:"number",expr:!0,default:0},{name:"text",type:"field"},{name:"spiral",type:"string",values:["archimedean","rectangular"]},{name:"padding",type:"number",expr:!0},{name:"as",type:"string",array:!0,length:7,default:yF}]},ut(_F,$a,{transform(e,n){!e.size||e.size[0]&&e.size[1]||u("Wordcloud size dimensions must be non-zero.");const r=e.modified();if(!(r||n.changed(n.ADD_REM)||vF.some((function(t){const r=e[t];return H(r)&&n.modified(r.fields)}))))return;const i=n.materialize(n.SOURCE).source,o=this.value,a=e.as||yF;let s,l=e.fontSize||14;if(H(l)?s=e.fontSizeRange:l=Z(l),s){const t=l,e=Ld("sqrt")().domain(tt(i,t)).range(s);l=n=>e(t(n))}i.forEach((t=>{t[a[0]]=NaN,t[a[1]]=NaN,t[a[3]]=0}));const c=o.words(i).text(e.text).size(e.size||[500,500]).padding(e.padding||1).spiral(e.spiral||"archimedean").rotate(e.rotate||0).font(e.font||"sans-serif").fontStyle(e.fontStyle||"normal").fontWeight(e.fontWeight||"normal").fontSize(l).random(t.random).layout(),f=o.size(),h=f[0]>>1,d=f[1]>>1,p=c.length;for(let t,e,n=0;n<p;++n)t=c[n],e=t.datum,e[a[0]]=t.x+h,e[a[1]]=t.y+d,e[a[2]]=t.font,e[a[3]]=t.size,e[a[4]]=t.style,e[a[5]]=t.weight,e[a[6]]=t.rotate;return n.reflow(r).modifies(a)}});var xF=Object.freeze({__proto__:null,wordcloud:_F});const bF=t=>new Uint8Array(t),wF=t=>new Uint16Array(t),kF=t=>new Uint32Array(t);function AF(t,e,n){const r=(e<257?bF:e<65537?wF:kF)(t);return n&&r.set(n),r}function MF(t,e,n){const r=1<<e;return{one:r,zero:~r,range:n.slice(),bisect:t.bisect,index:t.index,size:t.size,onAdd(t,e){const n=this,i=n.bisect(n.range,t.value),o=t.index,a=i[0],u=i[1],s=o.length;let l;for(l=0;l<a;++l)e[o[l]]|=r;for(l=u;l<s;++l)e[o[l]]|=r;return n}}}function EF(){let t=kF(0),e=[],n=0;return{insert:function(r,i,o){if(!i.length)return[];const a=n,u=i.length,s=kF(u);let l,c,f,h=Array(u);for(f=0;f<u;++f)h[f]=r(i[f]),s[f]=f;if(h=function(t,e){return t.sort.call(e,((e,n)=>{const r=t[e],i=t[n];return r<i?-1:r>i?1:0})),function(t,e){return Array.from(e,(e=>t[e]))}(t,e)}(h,s),a)l=e,c=t,e=Array(a+u),t=kF(a+u),function(t,e,n,r,i,o,a,u,s){let l,c=0,f=0;for(l=0;c<r&&f<a;++l)e[c]<i[f]?(u[l]=e[c],s[l]=n[c++]):(u[l]=i[f],s[l]=o[f++]+t);for(;c<r;++c,++l)u[l]=e[c],s[l]=n[c];for(;f<a;++f,++l)u[l]=i[f],s[l]=o[f]+t}(o,l,c,a,h,s,u,e,t);else{if(o>0)for(f=0;f<u;++f)s[f]+=o;e=h,t=s}return n=a+u,{index:s,value:h}},remove:function(r,i){const o=n;let a,u,s;for(u=0;!i[t[u]]&&u<o;++u);for(s=u;u<o;++u)i[a=t[u]]||(t[s]=a,e[s]=e[u],++s);n=o-r},bisect:function(t,r){let i;return r?i=r.length:(r=e,i=n),[Jt(r,t[0],0,i),Xt(r,t[1],0,i)]},reindex:function(e){for(let r=0,i=n;r<i;++r)t[r]=e[t[r]]},index:()=>t,size:()=>n}}function DF(t){$a.call(this,function(){let t=8,e=[],n=kF(0),r=AF(0,t),i=AF(0,t);return{data:()=>e,seen:()=>n=function(t,e,n){return t.length>=e?t:((n=n||new t.constructor(e)).set(t),n)}(n,e.length),add(t){for(let n,r=0,i=e.length,o=t.length;r<o;++r)n=t[r],n._index=i++,e.push(n)},remove(t,n){const o=e.length,a=Array(o-t),u=e;let s,l,c;for(l=0;!n[l]&&l<o;++l)a[l]=e[l],u[l]=l;for(c=l;l<o;++l)s=e[l],n[l]?u[l]=-1:(u[l]=c,r[c]=r[l],i[c]=i[l],a[c]=s,s._index=c++),r[l]=0;return e=a,u},size:()=>e.length,curr:()=>r,prev:()=>i,reset:t=>i[t]=r[t],all:()=>t<257?255:t<65537?65535:4294967295,set(t,e){r[t]|=e},clear(t,e){r[t]&=~e},resize(e,n){(e>r.length||n>t)&&(t=Math.max(n,t),r=AF(e,t,r),i=AF(e,t))}}}(),t),this._indices=null,this._dims=null}function CF(t){$a.call(this,null,t)}DF.Definition={type:"CrossFilter",metadata:{},params:[{name:"fields",type:"field",array:!0,required:!0},{name:"query",type:"array",array:!0,required:!0,content:{type:"number",array:!0,length:2}}]},ut(DF,$a,{transform(t,e){return this._dims?t.modified("fields")||t.fields.some((t=>e.modified(t.fields)))?this.reinit(t,e):this.eval(t,e):this.init(t,e)},init(t,e){const n=t.fields,r=t.query,i=this._indices={},o=this._dims=[],a=r.length;let u,s,l=0;for(;l<a;++l)u=n[l].fname,s=i[u]||(i[u]=EF()),o.push(MF(s,l,r[l]));return this.eval(t,e)},reinit(t,e){const n=e.materialize().fork(),r=t.fields,i=t.query,o=this._indices,a=this._dims,u=this.value,s=u.curr(),l=u.prev(),c=u.all(),f=n.rem=n.add,h=n.mod,d=i.length,p={};let g,m,y,v,_,x,b,w,k;if(l.set(s),e.rem.length&&(_=this.remove(t,e,n)),e.add.length&&u.add(e.add),e.mod.length)for(x={},v=e.mod,b=0,w=v.length;b<w;++b)x[v[b]._index]=1;for(b=0;b<d;++b)k=r[b],(!a[b]||t.modified("fields",b)||e.modified(k.fields))&&(y=k.fname,(g=p[y])||(o[y]=m=EF(),p[y]=g=m.insert(k,e.source,0)),a[b]=MF(m,b,i[b]).onAdd(g,s));for(b=0,w=u.data().length;b<w;++b)_[b]||(l[b]!==s[b]?f.push(b):x[b]&&s[b]!==c&&h.push(b));return u.mask=(1<<d)-1,n},eval(t,e){const n=e.materialize().fork(),r=this._dims.length;let i=0;return e.rem.length&&(this.remove(t,e,n),i|=(1<<r)-1),t.modified("query")&&!t.modified("fields")&&(i|=this.update(t,e,n)),e.add.length&&(this.insert(t,e,n),i|=(1<<r)-1),e.mod.length&&(this.modify(e,n),i|=(1<<r)-1),this.value.mask=i,n},insert(t,e,n){const r=e.add,i=this.value,o=this._dims,a=this._indices,u=t.fields,s={},l=n.add,c=i.size()+r.length,f=o.length;let h,d,p,g=i.size();i.resize(c,f),i.add(r);const m=i.curr(),y=i.prev(),v=i.all();for(h=0;h<f;++h)d=u[h].fname,p=s[d]||(s[d]=a[d].insert(u[h],r,g)),o[h].onAdd(p,m);for(;g<c;++g)y[g]=v,m[g]!==v&&l.push(g)},modify(t,e){const n=e.mod,r=this.value,i=r.curr(),o=r.all(),a=t.mod;let u,s,l;for(u=0,s=a.length;u<s;++u)l=a[u]._index,i[l]!==o&&n.push(l)},remove(t,e,n){const r=this._indices,i=this.value,o=i.curr(),a=i.prev(),u=i.all(),s={},l=n.rem,c=e.rem;let f,h,d,p;for(f=0,h=c.length;f<h;++f)d=c[f]._index,s[d]=1,a[d]=p=o[d],o[d]=u,p!==u&&l.push(d);for(d in r)r[d].remove(h,s);return this.reindex(e,h,s),s},reindex(t,e,n){const r=this._indices,i=this.value;t.runAfter((()=>{const t=i.remove(e,n);for(const e in r)r[e].reindex(t)}))},update(t,e,n){const r=this._dims,i=t.query,o=e.stamp,a=r.length;let u,s,l=0;for(n.filters=0,s=0;s<a;++s)t.modified("query",s)&&(u=s,++l);if(1===l)l=r[u].one,this.incrementOne(r[u],i[u],n.add,n.rem);else for(s=0,l=0;s<a;++s)t.modified("query",s)&&(l|=r[s].one,this.incrementAll(r[s],i[s],o,n.add),n.rem=n.add);return l},incrementAll(t,e,n,r){const i=this.value,o=i.seen(),a=i.curr(),u=i.prev(),s=t.index(),l=t.bisect(t.range),c=t.bisect(e),f=c[0],h=c[1],d=l[0],p=l[1],g=t.one;let m,y,v;if(f<d)for(m=f,y=Math.min(d,h);m<y;++m)v=s[m],o[v]!==n&&(u[v]=a[v],o[v]=n,r.push(v)),a[v]^=g;else if(f>d)for(m=d,y=Math.min(f,p);m<y;++m)v=s[m],o[v]!==n&&(u[v]=a[v],o[v]=n,r.push(v)),a[v]^=g;if(h>p)for(m=Math.max(f,p),y=h;m<y;++m)v=s[m],o[v]!==n&&(u[v]=a[v],o[v]=n,r.push(v)),a[v]^=g;else if(h<p)for(m=Math.max(d,h),y=p;m<y;++m)v=s[m],o[v]!==n&&(u[v]=a[v],o[v]=n,r.push(v)),a[v]^=g;t.range=e.slice()},incrementOne(t,e,n,r){const i=this.value.curr(),o=t.index(),a=t.bisect(t.range),u=t.bisect(e),s=u[0],l=u[1],c=a[0],f=a[1],h=t.one;let d,p,g;if(s<c)for(d=s,p=Math.min(c,l);d<p;++d)g=o[d],i[g]^=h,n.push(g);else if(s>c)for(d=c,p=Math.min(s,f);d<p;++d)g=o[d],i[g]^=h,r.push(g);if(l>f)for(d=Math.max(s,f),p=l;d<p;++d)g=o[d],i[g]^=h,n.push(g);else if(l<f)for(d=Math.max(c,l),p=f;d<p;++d)g=o[d],i[g]^=h,r.push(g);t.range=e.slice()}}),CF.Definition={type:"ResolveFilter",metadata:{},params:[{name:"ignore",type:"number",required:!0,description:"A bit mask indicating which filters to ignore."},{name:"filter",type:"object",required:!0,description:"Per-tuple filter bitmaps from a CrossFilter transform."}]},ut(CF,$a,{transform(t,e){const n=~(t.ignore||0),r=t.filter,i=r.mask;if(0==(i&n))return e.StopPropagation;const o=e.fork(e.ALL),a=r.data(),u=r.curr(),s=r.prev(),l=t=>u[t]&n?null:a[t];return o.filter(o.MOD,l),i&i-1?(o.filter(o.ADD,(t=>{const e=u[t]&n;return!e&&e^s[t]&n?a[t]:null})),o.filter(o.REM,(t=>{const e=u[t]&n;return e&&!(e^e^s[t]&n)?a[t]:null}))):(o.filter(o.ADD,l),o.filter(o.REM,(t=>(u[t]&n)===i?a[t]:null))),o.filter(o.SOURCE,(t=>l(t._index)))}});var FF=Object.freeze({__proto__:null,crossfilter:DF,resolvefilter:CF});const SF="Literal",BF="Property",TF="ArrayExpression",NF="BinaryExpression",zF="CallExpression",OF="ConditionalExpression",RF="LogicalExpression",LF="MemberExpression",UF="ObjectExpression",qF="UnaryExpression";function PF(t){this.type=t}var jF,IF,$F,WF,HF;PF.prototype.visit=function(t){let e,n,r;if(t(this))return 1;for(e=function(t){switch(t.type){case TF:return t.elements;case NF:case RF:return[t.left,t.right];case zF:return[t.callee].concat(t.arguments);case OF:return[t.test,t.consequent,t.alternate];case LF:return[t.object,t.property];case UF:return t.properties;case BF:return[t.key,t.value];case qF:return[t.argument];default:return[]}}(this),n=0,r=e.length;n<r;++n)if(e[n].visit(t))return 1};(jF={})[1]="Boolean",jF[2]="<end>",jF[3]="Identifier",jF[4]="Keyword",jF[5]="Null",jF[6]="Numeric",jF[7]="Punctuator",jF[8]="String",jF[9]="RegularExpression";var YF="Identifier",GF="Unexpected token %0",VF="Invalid regular expression",XF="Invalid regular expression: missing /",JF="Octal literals are not allowed in strict mode.",ZF="ILLEGAL",QF="Disabled.",KF=new RegExp("[\\xAA\\xB5\\xBA\\xC0-\\xD6\\xD8-\\xF6\\xF8-\\u02C1\\u02C6-\\u02D1\\u02E0-\\u02E4\\u02EC\\u02EE\\u0370-\\u0374\\u0376\\u0377\\u037A-\\u037D\\u037F\\u0386\\u0388-\\u038A\\u038C\\u038E-\\u03A1\\u03A3-\\u03F5\\u03F7-\\u0481\\u048A-\\u052F\\u0531-\\u0556\\u0559\\u0561-\\u0587\\u05D0-\\u05EA\\u05F0-\\u05F2\\u0620-\\u064A\\u066E\\u066F\\u0671-\\u06D3\\u06D5\\u06E5\\u06E6\\u06EE\\u06EF\\u06FA-\\u06FC\\u06FF\\u0710\\u0712-\\u072F\\u074D-\\u07A5\\u07B1\\u07CA-\\u07EA\\u07F4\\u07F5\\u07FA\\u0800-\\u0815\\u081A\\u0824\\u0828\\u0840-\\u0858\\u08A0-\\u08B2\\u0904-\\u0939\\u093D\\u0950\\u0958-\\u0961\\u0971-\\u0980\\u0985-\\u098C\\u098F\\u0990\\u0993-\\u09A8\\u09AA-\\u09B0\\u09B2\\u09B6-\\u09B9\\u09BD\\u09CE\\u09DC\\u09DD\\u09DF-\\u09E1\\u09F0\\u09F1\\u0A05-\\u0A0A\\u0A0F\\u0A10\\u0A13-\\u0A28\\u0A2A-\\u0A30\\u0A32\\u0A33\\u0A35\\u0A36\\u0A38\\u0A39\\u0A59-\\u0A5C\\u0A5E\\u0A72-\\u0A74\\u0A85-\\u0A8D\\u0A8F-\\u0A91\\u0A93-\\u0AA8\\u0AAA-\\u0AB0\\u0AB2\\u0AB3\\u0AB5-\\u0AB9\\u0ABD\\u0AD0\\u0AE0\\u0AE1\\u0B05-\\u0B0C\\u0B0F\\u0B10\\u0B13-\\u0B28\\u0B2A-\\u0B30\\u0B32\\u0B33\\u0B35-\\u0B39\\u0B3D\\u0B5C\\u0B5D\\u0B5F-\\u0B61\\u0B71\\u0B83\\u0B85-\\u0B8A\\u0B8E-\\u0B90\\u0B92-\\u0B95\\u0B99\\u0B9A\\u0B9C\\u0B9E\\u0B9F\\u0BA3\\u0BA4\\u0BA8-\\u0BAA\\u0BAE-\\u0BB9\\u0BD0\\u0C05-\\u0C0C\\u0C0E-\\u0C10\\u0C12-\\u0C28\\u0C2A-\\u0C39\\u0C3D\\u0C58\\u0C59\\u0C60\\u0C61\\u0C85-\\u0C8C\\u0C8E-\\u0C90\\u0C92-\\u0CA8\\u0CAA-\\u0CB3\\u0CB5-\\u0CB9\\u0CBD\\u0CDE\\u0CE0\\u0CE1\\u0CF1\\u0CF2\\u0D05-\\u0D0C\\u0D0E-\\u0D10\\u0D12-\\u0D3A\\u0D3D\\u0D4E\\u0D60\\u0D61\\u0D7A-\\u0D7F\\u0D85-\\u0D96\\u0D9A-\\u0DB1\\u0DB3-\\u0DBB\\u0DBD\\u0DC0-\\u0DC6\\u0E01-\\u0E30\\u0E32\\u0E33\\u0E40-\\u0E46\\u0E81\\u0E82\\u0E84\\u0E87\\u0E88\\u0E8A\\u0E8D\\u0E94-\\u0E97\\u0E99-\\u0E9F\\u0EA1-\\u0EA3\\u0EA5\\u0EA7\\u0EAA\\u0EAB\\u0EAD-\\u0EB0\\u0EB2\\u0EB3\\u0EBD\\u0EC0-\\u0EC4\\u0EC6\\u0EDC-\\u0EDF\\u0F00\\u0F40-\\u0F47\\u0F49-\\u0F6C\\u0F88-\\u0F8C\\u1000-\\u102A\\u103F\\u1050-\\u1055\\u105A-\\u105D\\u1061\\u1065\\u1066\\u106E-\\u1070\\u1075-\\u1081\\u108E\\u10A0-\\u10C5\\u10C7\\u10CD\\u10D0-\\u10FA\\u10FC-\\u1248\\u124A-\\u124D\\u1250-\\u1256\\u1258\\u125A-\\u125D\\u1260-\\u1288\\u128A-\\u128D\\u1290-\\u12B0\\u12B2-\\u12B5\\u12B8-\\u12BE\\u12C0\\u12C2-\\u12C5\\u12C8-\\u12D6\\u12D8-\\u1310\\u1312-\\u1315\\u1318-\\u135A\\u1380-\\u138F\\u13A0-\\u13F4\\u1401-\\u166C\\u166F-\\u167F\\u1681-\\u169A\\u16A0-\\u16EA\\u16EE-\\u16F8\\u1700-\\u170C\\u170E-\\u1711\\u1720-\\u1731\\u1740-\\u1751\\u1760-\\u176C\\u176E-\\u1770\\u1780-\\u17B3\\u17D7\\u17DC\\u1820-\\u1877\\u1880-\\u18A8\\u18AA\\u18B0-\\u18F5\\u1900-\\u191E\\u1950-\\u196D\\u1970-\\u1974\\u1980-\\u19AB\\u19C1-\\u19C7\\u1A00-\\u1A16\\u1A20-\\u1A54\\u1AA7\\u1B05-\\u1B33\\u1B45-\\u1B4B\\u1B83-\\u1BA0\\u1BAE\\u1BAF\\u1BBA-\\u1BE5\\u1C00-\\u1C23\\u1C4D-\\u1C4F\\u1C5A-\\u1C7D\\u1CE9-\\u1CEC\\u1CEE-\\u1CF1\\u1CF5\\u1CF6\\u1D00-\\u1DBF\\u1E00-\\u1F15\\u1F18-\\u1F1D\\u1F20-\\u1F45\\u1F48-\\u1F4D\\u1F50-\\u1F57\\u1F59\\u1F5B\\u1F5D\\u1F5F-\\u1F7D\\u1F80-\\u1FB4\\u1FB6-\\u1FBC\\u1FBE\\u1FC2-\\u1FC4\\u1FC6-\\u1FCC\\u1FD0-\\u1FD3\\u1FD6-\\u1FDB\\u1FE0-\\u1FEC\\u1FF2-\\u1FF4\\u1FF6-\\u1FFC\\u2071\\u207F\\u2090-\\u209C\\u2102\\u2107\\u210A-\\u2113\\u2115\\u2119-\\u211D\\u2124\\u2126\\u2128\\u212A-\\u212D\\u212F-\\u2139\\u213C-\\u213F\\u2145-\\u2149\\u214E\\u2160-\\u2188\\u2C00-\\u2C2E\\u2C30-\\u2C5E\\u2C60-\\u2CE4\\u2CEB-\\u2CEE\\u2CF2\\u2CF3\\u2D00-\\u2D25\\u2D27\\u2D2D\\u2D30-\\u2D67\\u2D6F\\u2D80-\\u2D96\\u2DA0-\\u2DA6\\u2DA8-\\u2DAE\\u2DB0-\\u2DB6\\u2DB8-\\u2DBE\\u2DC0-\\u2DC6\\u2DC8-\\u2DCE\\u2DD0-\\u2DD6\\u2DD8-\\u2DDE\\u2E2F\\u3005-\\u3007\\u3021-\\u3029\\u3031-\\u3035\\u3038-\\u303C\\u3041-\\u3096\\u309D-\\u309F\\u30A1-\\u30FA\\u30FC-\\u30FF\\u3105-\\u312D\\u3131-\\u318E\\u31A0-\\u31BA\\u31F0-\\u31FF\\u3400-\\u4DB5\\u4E00-\\u9FCC\\uA000-\\uA48C\\uA4D0-\\uA4FD\\uA500-\\uA60C\\uA610-\\uA61F\\uA62A\\uA62B\\uA640-\\uA66E\\uA67F-\\uA69D\\uA6A0-\\uA6EF\\uA717-\\uA71F\\uA722-\\uA788\\uA78B-\\uA78E\\uA790-\\uA7AD\\uA7B0\\uA7B1\\uA7F7-\\uA801\\uA803-\\uA805\\uA807-\\uA80A\\uA80C-\\uA822\\uA840-\\uA873\\uA882-\\uA8B3\\uA8F2-\\uA8F7\\uA8FB\\uA90A-\\uA925\\uA930-\\uA946\\uA960-\\uA97C\\uA984-\\uA9B2\\uA9CF\\uA9E0-\\uA9E4\\uA9E6-\\uA9EF\\uA9FA-\\uA9FE\\uAA00-\\uAA28\\uAA40-\\uAA42\\uAA44-\\uAA4B\\uAA60-\\uAA76\\uAA7A\\uAA7E-\\uAAAF\\uAAB1\\uAAB5\\uAAB6\\uAAB9-\\uAABD\\uAAC0\\uAAC2\\uAADB-\\uAADD\\uAAE0-\\uAAEA\\uAAF2-\\uAAF4\\uAB01-\\uAB06\\uAB09-\\uAB0E\\uAB11-\\uAB16\\uAB20-\\uAB26\\uAB28-\\uAB2E\\uAB30-\\uAB5A\\uAB5C-\\uAB5F\\uAB64\\uAB65\\uABC0-\\uABE2\\uAC00-\\uD7A3\\uD7B0-\\uD7C6\\uD7CB-\\uD7FB\\uF900-\\uFA6D\\uFA70-\\uFAD9\\uFB00-\\uFB06\\uFB13-\\uFB17\\uFB1D\\uFB1F-\\uFB28\\uFB2A-\\uFB36\\uFB38-\\uFB3C\\uFB3E\\uFB40\\uFB41\\uFB43\\uFB44\\uFB46-\\uFBB1\\uFBD3-\\uFD3D\\uFD50-\\uFD8F\\uFD92-\\uFDC7\\uFDF0-\\uFDFB\\uFE70-\\uFE74\\uFE76-\\uFEFC\\uFF21-\\uFF3A\\uFF41-\\uFF5A\\uFF66-\\uFFBE\\uFFC2-\\uFFC7\\uFFCA-\\uFFCF\\uFFD2-\\uFFD7\\uFFDA-\\uFFDC]"),tS=new RegExp("[\\xAA\\xB5\\xBA\\xC0-\\xD6\\xD8-\\xF6\\xF8-\\u02C1\\u02C6-\\u02D1\\u02E0-\\u02E4\\u02EC\\u02EE\\u0300-\\u0374\\u0376\\u0377\\u037A-\\u037D\\u037F\\u0386\\u0388-\\u038A\\u038C\\u038E-\\u03A1\\u03A3-\\u03F5\\u03F7-\\u0481\\u0483-\\u0487\\u048A-\\u052F\\u0531-\\u0556\\u0559\\u0561-\\u0587\\u0591-\\u05BD\\u05BF\\u05C1\\u05C2\\u05C4\\u05C5\\u05C7\\u05D0-\\u05EA\\u05F0-\\u05F2\\u0610-\\u061A\\u0620-\\u0669\\u066E-\\u06D3\\u06D5-\\u06DC\\u06DF-\\u06E8\\u06EA-\\u06FC\\u06FF\\u0710-\\u074A\\u074D-\\u07B1\\u07C0-\\u07F5\\u07FA\\u0800-\\u082D\\u0840-\\u085B\\u08A0-\\u08B2\\u08E4-\\u0963\\u0966-\\u096F\\u0971-\\u0983\\u0985-\\u098C\\u098F\\u0990\\u0993-\\u09A8\\u09AA-\\u09B0\\u09B2\\u09B6-\\u09B9\\u09BC-\\u09C4\\u09C7\\u09C8\\u09CB-\\u09CE\\u09D7\\u09DC\\u09DD\\u09DF-\\u09E3\\u09E6-\\u09F1\\u0A01-\\u0A03\\u0A05-\\u0A0A\\u0A0F\\u0A10\\u0A13-\\u0A28\\u0A2A-\\u0A30\\u0A32\\u0A33\\u0A35\\u0A36\\u0A38\\u0A39\\u0A3C\\u0A3E-\\u0A42\\u0A47\\u0A48\\u0A4B-\\u0A4D\\u0A51\\u0A59-\\u0A5C\\u0A5E\\u0A66-\\u0A75\\u0A81-\\u0A83\\u0A85-\\u0A8D\\u0A8F-\\u0A91\\u0A93-\\u0AA8\\u0AAA-\\u0AB0\\u0AB2\\u0AB3\\u0AB5-\\u0AB9\\u0ABC-\\u0AC5\\u0AC7-\\u0AC9\\u0ACB-\\u0ACD\\u0AD0\\u0AE0-\\u0AE3\\u0AE6-\\u0AEF\\u0B01-\\u0B03\\u0B05-\\u0B0C\\u0B0F\\u0B10\\u0B13-\\u0B28\\u0B2A-\\u0B30\\u0B32\\u0B33\\u0B35-\\u0B39\\u0B3C-\\u0B44\\u0B47\\u0B48\\u0B4B-\\u0B4D\\u0B56\\u0B57\\u0B5C\\u0B5D\\u0B5F-\\u0B63\\u0B66-\\u0B6F\\u0B71\\u0B82\\u0B83\\u0B85-\\u0B8A\\u0B8E-\\u0B90\\u0B92-\\u0B95\\u0B99\\u0B9A\\u0B9C\\u0B9E\\u0B9F\\u0BA3\\u0BA4\\u0BA8-\\u0BAA\\u0BAE-\\u0BB9\\u0BBE-\\u0BC2\\u0BC6-\\u0BC8\\u0BCA-\\u0BCD\\u0BD0\\u0BD7\\u0BE6-\\u0BEF\\u0C00-\\u0C03\\u0C05-\\u0C0C\\u0C0E-\\u0C10\\u0C12-\\u0C28\\u0C2A-\\u0C39\\u0C3D-\\u0C44\\u0C46-\\u0C48\\u0C4A-\\u0C4D\\u0C55\\u0C56\\u0C58\\u0C59\\u0C60-\\u0C63\\u0C66-\\u0C6F\\u0C81-\\u0C83\\u0C85-\\u0C8C\\u0C8E-\\u0C90\\u0C92-\\u0CA8\\u0CAA-\\u0CB3\\u0CB5-\\u0CB9\\u0CBC-\\u0CC4\\u0CC6-\\u0CC8\\u0CCA-\\u0CCD\\u0CD5\\u0CD6\\u0CDE\\u0CE0-\\u0CE3\\u0CE6-\\u0CEF\\u0CF1\\u0CF2\\u0D01-\\u0D03\\u0D05-\\u0D0C\\u0D0E-\\u0D10\\u0D12-\\u0D3A\\u0D3D-\\u0D44\\u0D46-\\u0D48\\u0D4A-\\u0D4E\\u0D57\\u0D60-\\u0D63\\u0D66-\\u0D6F\\u0D7A-\\u0D7F\\u0D82\\u0D83\\u0D85-\\u0D96\\u0D9A-\\u0DB1\\u0DB3-\\u0DBB\\u0DBD\\u0DC0-\\u0DC6\\u0DCA\\u0DCF-\\u0DD4\\u0DD6\\u0DD8-\\u0DDF\\u0DE6-\\u0DEF\\u0DF2\\u0DF3\\u0E01-\\u0E3A\\u0E40-\\u0E4E\\u0E50-\\u0E59\\u0E81\\u0E82\\u0E84\\u0E87\\u0E88\\u0E8A\\u0E8D\\u0E94-\\u0E97\\u0E99-\\u0E9F\\u0EA1-\\u0EA3\\u0EA5\\u0EA7\\u0EAA\\u0EAB\\u0EAD-\\u0EB9\\u0EBB-\\u0EBD\\u0EC0-\\u0EC4\\u0EC6\\u0EC8-\\u0ECD\\u0ED0-\\u0ED9\\u0EDC-\\u0EDF\\u0F00\\u0F18\\u0F19\\u0F20-\\u0F29\\u0F35\\u0F37\\u0F39\\u0F3E-\\u0F47\\u0F49-\\u0F6C\\u0F71-\\u0F84\\u0F86-\\u0F97\\u0F99-\\u0FBC\\u0FC6\\u1000-\\u1049\\u1050-\\u109D\\u10A0-\\u10C5\\u10C7\\u10CD\\u10D0-\\u10FA\\u10FC-\\u1248\\u124A-\\u124D\\u1250-\\u1256\\u1258\\u125A-\\u125D\\u1260-\\u1288\\u128A-\\u128D\\u1290-\\u12B0\\u12B2-\\u12B5\\u12B8-\\u12BE\\u12C0\\u12C2-\\u12C5\\u12C8-\\u12D6\\u12D8-\\u1310\\u1312-\\u1315\\u1318-\\u135A\\u135D-\\u135F\\u1380-\\u138F\\u13A0-\\u13F4\\u1401-\\u166C\\u166F-\\u167F\\u1681-\\u169A\\u16A0-\\u16EA\\u16EE-\\u16F8\\u1700-\\u170C\\u170E-\\u1714\\u1720-\\u1734\\u1740-\\u1753\\u1760-\\u176C\\u176E-\\u1770\\u1772\\u1773\\u1780-\\u17D3\\u17D7\\u17DC\\u17DD\\u17E0-\\u17E9\\u180B-\\u180D\\u1810-\\u1819\\u1820-\\u1877\\u1880-\\u18AA\\u18B0-\\u18F5\\u1900-\\u191E\\u1920-\\u192B\\u1930-\\u193B\\u1946-\\u196D\\u1970-\\u1974\\u1980-\\u19AB\\u19B0-\\u19C9\\u19D0-\\u19D9\\u1A00-\\u1A1B\\u1A20-\\u1A5E\\u1A60-\\u1A7C\\u1A7F-\\u1A89\\u1A90-\\u1A99\\u1AA7\\u1AB0-\\u1ABD\\u1B00-\\u1B4B\\u1B50-\\u1B59\\u1B6B-\\u1B73\\u1B80-\\u1BF3\\u1C00-\\u1C37\\u1C40-\\u1C49\\u1C4D-\\u1C7D\\u1CD0-\\u1CD2\\u1CD4-\\u1CF6\\u1CF8\\u1CF9\\u1D00-\\u1DF5\\u1DFC-\\u1F15\\u1F18-\\u1F1D\\u1F20-\\u1F45\\u1F48-\\u1F4D\\u1F50-\\u1F57\\u1F59\\u1F5B\\u1F5D\\u1F5F-\\u1F7D\\u1F80-\\u1FB4\\u1FB6-\\u1FBC\\u1FBE\\u1FC2-\\u1FC4\\u1FC6-\\u1FCC\\u1FD0-\\u1FD3\\u1FD6-\\u1FDB\\u1FE0-\\u1FEC\\u1FF2-\\u1FF4\\u1FF6-\\u1FFC\\u200C\\u200D\\u203F\\u2040\\u2054\\u2071\\u207F\\u2090-\\u209C\\u20D0-\\u20DC\\u20E1\\u20E5-\\u20F0\\u2102\\u2107\\u210A-\\u2113\\u2115\\u2119-\\u211D\\u2124\\u2126\\u2128\\u212A-\\u212D\\u212F-\\u2139\\u213C-\\u213F\\u2145-\\u2149\\u214E\\u2160-\\u2188\\u2C00-\\u2C2E\\u2C30-\\u2C5E\\u2C60-\\u2CE4\\u2CEB-\\u2CF3\\u2D00-\\u2D25\\u2D27\\u2D2D\\u2D30-\\u2D67\\u2D6F\\u2D7F-\\u2D96\\u2DA0-\\u2DA6\\u2DA8-\\u2DAE\\u2DB0-\\u2DB6\\u2DB8-\\u2DBE\\u2DC0-\\u2DC6\\u2DC8-\\u2DCE\\u2DD0-\\u2DD6\\u2DD8-\\u2DDE\\u2DE0-\\u2DFF\\u2E2F\\u3005-\\u3007\\u3021-\\u302F\\u3031-\\u3035\\u3038-\\u303C\\u3041-\\u3096\\u3099\\u309A\\u309D-\\u309F\\u30A1-\\u30FA\\u30FC-\\u30FF\\u3105-\\u312D\\u3131-\\u318E\\u31A0-\\u31BA\\u31F0-\\u31FF\\u3400-\\u4DB5\\u4E00-\\u9FCC\\uA000-\\uA48C\\uA4D0-\\uA4FD\\uA500-\\uA60C\\uA610-\\uA62B\\uA640-\\uA66F\\uA674-\\uA67D\\uA67F-\\uA69D\\uA69F-\\uA6F1\\uA717-\\uA71F\\uA722-\\uA788\\uA78B-\\uA78E\\uA790-\\uA7AD\\uA7B0\\uA7B1\\uA7F7-\\uA827\\uA840-\\uA873\\uA880-\\uA8C4\\uA8D0-\\uA8D9\\uA8E0-\\uA8F7\\uA8FB\\uA900-\\uA92D\\uA930-\\uA953\\uA960-\\uA97C\\uA980-\\uA9C0\\uA9CF-\\uA9D9\\uA9E0-\\uA9FE\\uAA00-\\uAA36\\uAA40-\\uAA4D\\uAA50-\\uAA59\\uAA60-\\uAA76\\uAA7A-\\uAAC2\\uAADB-\\uAADD\\uAAE0-\\uAAEF\\uAAF2-\\uAAF6\\uAB01-\\uAB06\\uAB09-\\uAB0E\\uAB11-\\uAB16\\uAB20-\\uAB26\\uAB28-\\uAB2E\\uAB30-\\uAB5A\\uAB5C-\\uAB5F\\uAB64\\uAB65\\uABC0-\\uABEA\\uABEC\\uABED\\uABF0-\\uABF9\\uAC00-\\uD7A3\\uD7B0-\\uD7C6\\uD7CB-\\uD7FB\\uF900-\\uFA6D\\uFA70-\\uFAD9\\uFB00-\\uFB06\\uFB13-\\uFB17\\uFB1D-\\uFB28\\uFB2A-\\uFB36\\uFB38-\\uFB3C\\uFB3E\\uFB40\\uFB41\\uFB43\\uFB44\\uFB46-\\uFBB1\\uFBD3-\\uFD3D\\uFD50-\\uFD8F\\uFD92-\\uFDC7\\uFDF0-\\uFDFB\\uFE00-\\uFE0F\\uFE20-\\uFE2D\\uFE33\\uFE34\\uFE4D-\\uFE4F\\uFE70-\\uFE74\\uFE76-\\uFEFC\\uFF10-\\uFF19\\uFF21-\\uFF3A\\uFF3F\\uFF41-\\uFF5A\\uFF66-\\uFFBE\\uFFC2-\\uFFC7\\uFFCA-\\uFFCF\\uFFD2-\\uFFD7\\uFFDA-\\uFFDC]");function eS(t,e){if(!t)throw new Error("ASSERT: "+e)}function nS(t){return t>=48&&t<=57}function rS(t){return"0123456789abcdefABCDEF".indexOf(t)>=0}function iS(t){return"01234567".indexOf(t)>=0}function oS(t){return 32===t||9===t||11===t||12===t||160===t||t>=5760&&[5760,6158,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8239,8287,12288,65279].indexOf(t)>=0}function aS(t){return 10===t||13===t||8232===t||8233===t}function uS(t){return 36===t||95===t||t>=65&&t<=90||t>=97&&t<=122||92===t||t>=128&&KF.test(String.fromCharCode(t))}function sS(t){return 36===t||95===t||t>=65&&t<=90||t>=97&&t<=122||t>=48&&t<=57||92===t||t>=128&&tS.test(String.fromCharCode(t))}const lS={if:1,in:1,do:1,var:1,for:1,new:1,try:1,let:1,this:1,else:1,case:1,void:1,with:1,enum:1,while:1,break:1,catch:1,throw:1,const:1,yield:1,class:1,super:1,return:1,typeof:1,delete:1,switch:1,export:1,import:1,public:1,static:1,default:1,finally:1,extends:1,package:1,private:1,function:1,continue:1,debugger:1,interface:1,protected:1,instanceof:1,implements:1};function cS(){for(;$F<WF;){const t=IF.charCodeAt($F);if(!oS(t)&&!aS(t))break;++$F}}function fS(t){var e,n,r,i=0;for(n="u"===t?4:2,e=0;e<n;++e)$F<WF&&rS(IF[$F])?(r=IF[$F++],i=16*i+"0123456789abcdef".indexOf(r.toLowerCase())):DS({},GF,ZF);return String.fromCharCode(i)}function hS(){var t,e,n,r;for(e=0,"}"===(t=IF[$F])&&DS({},GF,ZF);$F<WF&&rS(t=IF[$F++]);)e=16*e+"0123456789abcdef".indexOf(t.toLowerCase());return(e>1114111||"}"!==t)&&DS({},GF,ZF),e<=65535?String.fromCharCode(e):(n=55296+(e-65536>>10),r=56320+(e-65536&1023),String.fromCharCode(n,r))}function dS(){var t,e;for(t=IF.charCodeAt($F++),e=String.fromCharCode(t),92===t&&(117!==IF.charCodeAt($F)&&DS({},GF,ZF),++$F,(t=fS("u"))&&"\\"!==t&&uS(t.charCodeAt(0))||DS({},GF,ZF),e=t);$F<WF&&sS(t=IF.charCodeAt($F));)++$F,e+=String.fromCharCode(t),92===t&&(e=e.substr(0,e.length-1),117!==IF.charCodeAt($F)&&DS({},GF,ZF),++$F,(t=fS("u"))&&"\\"!==t&&sS(t.charCodeAt(0))||DS({},GF,ZF),e+=t);return e}function pS(){var t,e;return t=$F,e=92===IF.charCodeAt($F)?dS():function(){var t,e;for(t=$F++;$F<WF;){if(92===(e=IF.charCodeAt($F)))return $F=t,dS();if(!sS(e))break;++$F}return IF.slice(t,$F)}(),{type:1===e.length?3:lS.hasOwnProperty(e)?4:"null"===e?5:"true"===e||"false"===e?1:3,value:e,start:t,end:$F}}function gS(){var t,e,n,r,i=$F,o=IF.charCodeAt($F),a=IF[$F];switch(o){case 46:case 40:case 41:case 59:case 44:case 123:case 125:case 91:case 93:case 58:case 63:case 126:return++$F,{type:7,value:String.fromCharCode(o),start:i,end:$F};default:if(61===(t=IF.charCodeAt($F+1)))switch(o){case 43:case 45:case 47:case 60:case 62:case 94:case 124:case 37:case 38:case 42:return $F+=2,{type:7,value:String.fromCharCode(o)+String.fromCharCode(t),start:i,end:$F};case 33:case 61:return $F+=2,61===IF.charCodeAt($F)&&++$F,{type:7,value:IF.slice(i,$F),start:i,end:$F}}}return">>>="===(r=IF.substr($F,4))?{type:7,value:r,start:i,end:$F+=4}:">>>"===(n=r.substr(0,3))||"<<="===n||">>="===n?{type:7,value:n,start:i,end:$F+=3}:a===(e=n.substr(0,2))[1]&&"+-<>&|".indexOf(a)>=0||"=>"===e?{type:7,value:e,start:i,end:$F+=2}:("//"===e&&DS({},GF,ZF),"<>=!+-*%&|^/".indexOf(a)>=0?{type:7,value:a,start:i,end:++$F}:void DS({},GF,ZF))}function mS(){var t,e,n;if(eS(nS((n=IF[$F]).charCodeAt(0))||"."===n,"Numeric literal must start with a decimal digit or a decimal point"),e=$F,t="","."!==n){if(t=IF[$F++],n=IF[$F],"0"===t){if("x"===n||"X"===n)return++$F,function(t){let e="";for(;$F<WF&&rS(IF[$F]);)e+=IF[$F++];return 0===e.length&&DS({},GF,ZF),uS(IF.charCodeAt($F))&&DS({},GF,ZF),{type:6,value:parseInt("0x"+e,16),start:t,end:$F}}(e);if(iS(n))return function(t){let e="0"+IF[$F++];for(;$F<WF&&iS(IF[$F]);)e+=IF[$F++];return(uS(IF.charCodeAt($F))||nS(IF.charCodeAt($F)))&&DS({},GF,ZF),{type:6,value:parseInt(e,8),octal:!0,start:t,end:$F}}(e);n&&nS(n.charCodeAt(0))&&DS({},GF,ZF)}for(;nS(IF.charCodeAt($F));)t+=IF[$F++];n=IF[$F]}if("."===n){for(t+=IF[$F++];nS(IF.charCodeAt($F));)t+=IF[$F++];n=IF[$F]}if("e"===n||"E"===n)if(t+=IF[$F++],"+"!==(n=IF[$F])&&"-"!==n||(t+=IF[$F++]),nS(IF.charCodeAt($F)))for(;nS(IF.charCodeAt($F));)t+=IF[$F++];else DS({},GF,ZF);return uS(IF.charCodeAt($F))&&DS({},GF,ZF),{type:6,value:parseFloat(t),start:e,end:$F}}function yS(){var t,e,n,r;return HF=null,cS(),t=$F,e=function(){var t,e,n,r;for(eS("/"===(t=IF[$F]),"Regular expression literal must start with a slash"),e=IF[$F++],n=!1,r=!1;$F<WF;)if(e+=t=IF[$F++],"\\"===t)aS((t=IF[$F++]).charCodeAt(0))&&DS({},XF),e+=t;else if(aS(t.charCodeAt(0)))DS({},XF);else if(n)"]"===t&&(n=!1);else{if("/"===t){r=!0;break}"["===t&&(n=!0)}return r||DS({},XF),{value:e.substr(1,e.length-2),literal:e}}(),n=function(){var t,e,n;for(e="",n="";$F<WF&&sS((t=IF[$F]).charCodeAt(0));)++$F,"\\"===t&&$F<WF?DS({},GF,ZF):(n+=t,e+=t);return n.search(/[^gimuy]/g)>=0&&DS({},VF,n),{value:n,literal:e}}(),r=function(t,e){let n=t;e.indexOf("u")>=0&&(n=n.replace(/\\u\{([0-9a-fA-F]+)\}/g,((t,e)=>{if(parseInt(e,16)<=1114111)return"x";DS({},VF)})).replace(/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,"x"));try{new RegExp(n)}catch(t){DS({},VF)}try{return new RegExp(t,e)}catch(t){return null}}(e.value,n.value),{literal:e.literal+n.literal,value:r,regex:{pattern:e.value,flags:n.value},start:t,end:$F}}function vS(){if(cS(),$F>=WF)return{type:2,start:$F,end:$F};const t=IF.charCodeAt($F);return uS(t)?pS():40===t||41===t||59===t?gS():39===t||34===t?function(){var t,e,n,r,i="",o=!1;for(eS("'"===(t=IF[$F])||'"'===t,"String literal must starts with a quote"),e=$F,++$F;$F<WF;){if((n=IF[$F++])===t){t="";break}if("\\"===n)if((n=IF[$F++])&&aS(n.charCodeAt(0)))"\r"===n&&"\n"===IF[$F]&&++$F;else switch(n){case"u":case"x":"{"===IF[$F]?(++$F,i+=hS()):i+=fS(n);break;case"n":i+="\n";break;case"r":i+="\r";break;case"t":i+="\t";break;case"b":i+="\b";break;case"f":i+="\f";break;case"v":i+="\v";break;default:iS(n)?(0!==(r="01234567".indexOf(n))&&(o=!0),$F<WF&&iS(IF[$F])&&(o=!0,r=8*r+"01234567".indexOf(IF[$F++]),"0123".indexOf(n)>=0&&$F<WF&&iS(IF[$F])&&(r=8*r+"01234567".indexOf(IF[$F++]))),i+=String.fromCharCode(r)):i+=n}else{if(aS(n.charCodeAt(0)))break;i+=n}}return""!==t&&DS({},GF,ZF),{type:8,value:i,octal:o,start:e,end:$F}}():46===t?nS(IF.charCodeAt($F+1))?mS():gS():nS(t)?mS():gS()}function _S(){const t=HF;return $F=t.end,HF=vS(),$F=t.end,t}function xS(){const t=$F;HF=vS(),$F=t}function bS(t,e,n){const r=new PF("||"===t||"&&"===t?"LogicalExpression":"BinaryExpression");return r.operator=t,r.left=e,r.right=n,r}function wS(t,e){const n=new PF("CallExpression");return n.callee=t,n.arguments=e,n}function kS(t){const e=new PF(YF);return e.name=t,e}function AS(t){const e=new PF("Literal");return e.value=t.value,e.raw=IF.slice(t.start,t.end),t.regex&&("//"===e.raw&&(e.raw="/(?:)/"),e.regex=t.regex),e}function MS(t,e,n){const r=new PF("MemberExpression");return r.computed="["===t,r.object=e,r.property=n,r.computed||(n.member=!0),r}function ES(t,e,n){const r=new PF("Property");return r.key=e,r.value=n,r.kind=t,r}function DS(t,e){var n,r=Array.prototype.slice.call(arguments,2),i=e.replace(/%(\d)/g,((t,e)=>(eS(e<r.length,"Message reference must be in range"),r[e])));throw(n=new Error(i)).index=$F,n.description=i,n}function CS(t){2===t.type&&DS(t,"Unexpected end of input"),6===t.type&&DS(t,"Unexpected number"),8===t.type&&DS(t,"Unexpected string"),3===t.type&&DS(t,"Unexpected identifier"),4===t.type&&DS(t,"Unexpected reserved word"),DS(t,GF,t.value)}function FS(t){const e=_S();7===e.type&&e.value===t||CS(e)}function SS(t){return 7===HF.type&&HF.value===t}function BS(t){return 4===HF.type&&HF.value===t}function TS(){const t=[];for($F=HF.start,FS("[");!SS("]");)SS(",")?(_S(),t.push(null)):(t.push(WS()),SS("]")||FS(","));return _S(),function(t){const e=new PF("ArrayExpression");return e.elements=t,e}(t)}function NS(){$F=HF.start;const t=_S();return 8===t.type||6===t.type?(t.octal&&DS(t,JF),AS(t)):kS(t.value)}function zS(){var t,e,n;return $F=HF.start,3===(t=HF).type?(n=NS(),FS(":"),ES("init",n,WS())):2!==t.type&&7!==t.type?(e=NS(),FS(":"),ES("init",e,WS())):void CS(t)}function OS(){var t,e,n=[],r={},i=String;for($F=HF.start,FS("{");!SS("}");)e="$"+((t=zS()).key.type===YF?t.key.name:i(t.key.value)),Object.prototype.hasOwnProperty.call(r,e)?DS({},"Duplicate data property in object literal not allowed in strict mode"):r[e]=!0,n.push(t),SS("}")||FS(",");return FS("}"),function(t){const e=new PF("ObjectExpression");return e.properties=t,e}(n)}const RS={if:1};function LS(){var t,e,n;if(SS("("))return function(){FS("(");const t=HS();return FS(")"),t}();if(SS("["))return TS();if(SS("{"))return OS();if(t=HF.type,$F=HF.start,3===t||RS[HF.value])n=kS(_S().value);else if(8===t||6===t)HF.octal&&DS(HF,JF),n=AS(_S());else{if(4===t)throw new Error(QF);1===t?((e=_S()).value="true"===e.value,n=AS(e)):5===t?((e=_S()).value=null,n=AS(e)):SS("/")||SS("/=")?(n=AS(yS()),xS()):CS(_S())}return n}function US(){const t=[];if(FS("("),!SS(")"))for(;$F<WF&&(t.push(WS()),!SS(")"));)FS(",");return FS(")"),t}function qS(){return FS("."),function(){$F=HF.start;const t=_S();return function(t){return 3===t.type||4===t.type||1===t.type||5===t.type}(t)||CS(t),kS(t.value)}()}function PS(){FS("[");const t=HS();return FS("]"),t}function jS(){const t=function(){var t;for(t=LS();;)if(SS("."))t=MS(".",t,qS());else if(SS("("))t=wS(t,US());else{if(!SS("["))break;t=MS("[",t,PS())}return t}();if(7===HF.type&&(SS("++")||SS("--")))throw new Error(QF);return t}function IS(){var t,e;if(7!==HF.type&&4!==HF.type)e=jS();else{if(SS("++")||SS("--"))throw new Error(QF);if(SS("+")||SS("-")||SS("~")||SS("!"))t=_S(),e=IS(),e=function(t,e){const n=new PF("UnaryExpression");return n.operator=t,n.argument=e,n.prefix=!0,n}(t.value,e);else{if(BS("delete")||BS("void")||BS("typeof"))throw new Error(QF);e=jS()}}return e}function $S(t){let e=0;if(7!==t.type&&4!==t.type)return 0;switch(t.value){case"||":e=1;break;case"&&":e=2;break;case"|":e=3;break;case"^":e=4;break;case"&":e=5;break;case"==":case"!=":case"===":case"!==":e=6;break;case"<":case">":case"<=":case">=":case"instanceof":case"in":e=7;break;case"<<":case">>":case">>>":e=8;break;case"+":case"-":e=9;break;case"*":case"/":case"%":e=11}return e}function WS(){var t,e;return t=function(){var t,e,n,r,i,o,a,u,s,l;if(t=HF,s=IS(),0===(i=$S(r=HF)))return s;for(r.prec=i,_S(),e=[t,HF],o=[s,r,a=IS()];(i=$S(HF))>0;){for(;o.length>2&&i<=o[o.length-2].prec;)a=o.pop(),u=o.pop().value,s=o.pop(),e.pop(),n=bS(u,s,a),o.push(n);(r=_S()).prec=i,o.push(r),e.push(HF),n=IS(),o.push(n)}for(n=o[l=o.length-1],e.pop();l>1;)e.pop(),n=bS(o[l-1].value,o[l-2],n),l-=2;return n}(),SS("?")&&(_S(),e=WS(),FS(":"),t=function(t,e,n){const r=new PF("ConditionalExpression");return r.test=t,r.consequent=e,r.alternate=n,r}(t,e,WS())),t}function HS(){const t=WS();if(SS(","))throw new Error(QF);return t}function YS(t){$F=0,WF=(IF=t).length,HF=null,xS();const e=HS();if(2!==HF.type)throw new Error("Unexpect token after expression.");return e}var GS={NaN:"NaN",E:"Math.E",LN2:"Math.LN2",LN10:"Math.LN10",LOG2E:"Math.LOG2E",LOG10E:"Math.LOG10E",PI:"Math.PI",SQRT1_2:"Math.SQRT1_2",SQRT2:"Math.SQRT2",MIN_VALUE:"Number.MIN_VALUE",MAX_VALUE:"Number.MAX_VALUE"};function VS(t){function e(e,n,r){return i=>function(e,n,r,i){let o=t(n[0]);return r&&(o=r+"("+o+")",0===r.lastIndexOf("new ",0)&&(o="("+o+")")),o+"."+e+(i<0?"":0===i?"()":"("+n.slice(1).map(t).join(",")+")")}(e,i,n,r)}const n="new Date",r="String",i="RegExp";return{isNaN:"Number.isNaN",isFinite:"Number.isFinite",abs:"Math.abs",acos:"Math.acos",asin:"Math.asin",atan:"Math.atan",atan2:"Math.atan2",ceil:"Math.ceil",cos:"Math.cos",exp:"Math.exp",floor:"Math.floor",log:"Math.log",max:"Math.max",min:"Math.min",pow:"Math.pow",random:"Math.random",round:"Math.round",sin:"Math.sin",sqrt:"Math.sqrt",tan:"Math.tan",clamp:function(e){e.length<3&&u("Missing arguments to clamp function."),e.length>3&&u("Too many arguments to clamp function.");const n=e.map(t);return"Math.max("+n[1]+", Math.min("+n[2]+","+n[0]+"))"},now:"Date.now",utc:"Date.UTC",datetime:n,date:e("getDate",n,0),day:e("getDay",n,0),year:e("getFullYear",n,0),month:e("getMonth",n,0),hours:e("getHours",n,0),minutes:e("getMinutes",n,0),seconds:e("getSeconds",n,0),milliseconds:e("getMilliseconds",n,0),time:e("getTime",n,0),timezoneoffset:e("getTimezoneOffset",n,0),utcdate:e("getUTCDate",n,0),utcday:e("getUTCDay",n,0),utcyear:e("getUTCFullYear",n,0),utcmonth:e("getUTCMonth",n,0),utchours:e("getUTCHours",n,0),utcminutes:e("getUTCMinutes",n,0),utcseconds:e("getUTCSeconds",n,0),utcmilliseconds:e("getUTCMilliseconds",n,0),length:e("length",null,-1),parseFloat:"parseFloat",parseInt:"parseInt",upper:e("toUpperCase",r,0),lower:e("toLowerCase",r,0),substring:e("substring",r),split:e("split",r),trim:e("trim",r,0),regexp:i,test:e("test",i),if:function(e){e.length<3&&u("Missing arguments to if function."),e.length>3&&u("Too many arguments to if function.");const n=e.map(t);return"("+n[0]+"?"+n[1]+":"+n[2]+")"}}}function XS(t){const e=(t=t||{}).allowed?Dt(t.allowed):{},n=t.forbidden?Dt(t.forbidden):{},r=t.constants||GS,i=(t.functions||VS)(h),o=t.globalvar,a=t.fieldvar,s=H(o)?o:t=>"".concat(o,'["').concat(t,'"]');let l={},c={},f=0;function h(t){if(pt(t))return t;const e=d[t.type];return null==e&&u("Unsupported type: "+t.type),e(t)}const d={Literal:t=>t.raw,Identifier:t=>{const i=t.name;return f>0?i:rt(n,i)?u("Illegal identifier: "+i):rt(r,i)?r[i]:rt(e,i)?i:(l[i]=1,s(i))},MemberExpression:t=>{const e=!t.computed,n=h(t.object);e&&(f+=1);const r=h(t.property);return n===a&&(c[function(t){const e=t&&t.length-1;return e&&('"'===t[0]&&'"'===t[e]||"'"===t[0]&&"'"===t[e])?t.slice(1,-1):t}(r)]=1),e&&(f-=1),n+(e?"."+r:"["+r+"]")},CallExpression:t=>{"Identifier"!==t.callee.type&&u("Illegal callee type: "+t.callee.type);const e=t.callee.name,n=t.arguments,r=rt(i,e)&&i[e];return r||u("Unrecognized function: "+e),H(r)?r(n):r+"("+n.map(h).join(",")+")"},ArrayExpression:t=>"["+t.elements.map(h).join(",")+"]",BinaryExpression:t=>"("+h(t.left)+" "+t.operator+" "+h(t.right)+")",UnaryExpression:t=>"("+t.operator+h(t.argument)+")",ConditionalExpression:t=>"("+h(t.test)+"?"+h(t.consequent)+":"+h(t.alternate)+")",LogicalExpression:t=>"("+h(t.left)+t.operator+h(t.right)+")",ObjectExpression:t=>"{"+t.properties.map(h).join(",")+"}",Property:t=>{f+=1;const e=h(t.key);return f-=1,e+":"+h(t.value)}};function p(t){const e={code:h(t),globals:Object.keys(l),fields:Object.keys(c)};return l={},c={},e}return p.functions=i,p.constants=r,p}const JS="intersect",ZS="union",QS="_vgsid_",KS=l(QS),tB="index:unit";function eB(t,e){for(var n,r,i=e.fields,o=e.values,a=i.length,u=0;u<a;++u)if((r=i[u]).getter=l.getter||l(r.field),ct(n=r.getter(t))&&(n=M(n)),ct(o[u])&&(o[u]=M(o[u])),ct(o[u][0])&&(o[u]=o[u].map(M)),"E"===r.type){if(v(o[u])?o[u].indexOf(n)<0:n!==o[u])return!1}else if("R"===r.type){if(!st(n,o[u]))return!1}else if("R-RE"===r.type){if(!st(n,o[u],!0,!1))return!1}else if("R-E"===r.type){if(!st(n,o[u],!1,!1))return!1}else if("R-LE"===r.type&&!st(n,o[u],!1,!0))return!1;return!0}const nB=Yt(KS),rB=nB.left,iB=nB.right;var oB={["".concat(QS,"_union")]:function(){const t=new te;for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];for(const e of n)for(const n of e)t.add(n);return t},["".concat(QS,"_intersect")]:function(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];t=new te(t),n=n.map(ke);t:for(const e of t)for(const r of n)if(!r.has(e)){t.delete(e);continue t}return t},E_union:function(t,e){if(!t.length)return e;for(var n=0,r=e.length;n<r;++n)t.indexOf(e[n])<0&&t.push(e[n]);return t},E_intersect:function(t,e){return t.length?t.filter((t=>e.indexOf(t)>=0)):e},R_union:function(t,e){var n=M(e[0]),r=M(e[1]);return n>r&&(n=e[1],r=e[0]),t.length?(t[0]>n&&(t[0]=n),t[1]<r&&(t[1]=r),t):[n,r]},R_intersect:function(t,e){var n=M(e[0]),r=M(e[1]);return n>r&&(n=e[1],r=e[0]),t.length?r<t[0]||t[1]<n?[]:(t[0]<n&&(t[0]=n),t[1]>r&&(t[1]=r),t):[n,r]}};function aB(t,e,n,r){e[0].type!==SF&&u("First argument to selection functions must be a string literal.");const i=e[0].value,o="unit",a="@unit",s=":"+i;(e.length>=2&&A(e).value)!==JS||rt(r,a)||(r["@unit"]=n.getData(i).indataRef(n,o)),rt(r,s)||(r[s]=n.getData(i).tuplesRef())}function uB(t){const e=this.context.data[t];return e?e.values.value:[]}const sB=t=>function(e,n){return this.context.dataflow.locale()[t](n)(e)},lB=sB("format"),cB=sB("timeFormat"),fB=sB("utcFormat"),hB=sB("timeParse"),dB=sB("utcParse"),pB=new Date(2e3,0,1);function gB(t,e,n){return Number.isInteger(t)&&Number.isInteger(e)?(pB.setYear(2e3),pB.setMonth(t),pB.setDate(e),cB.call(this,pB,n)):""}function mB(t,e,n,r){e[0].type!==SF&&u("First argument to data functions must be a string literal.");const i=e[0].value,o=":"+i;if(!rt(o,r))try{r[o]=n.getData(i).tuplesRef()}catch(t){}}function yB(t,e,n,r){if(e[0].type===SF)vB(n,r,e[0].value);else for(t in n.scales)vB(n,r,t)}function vB(t,e,n){const r="%"+n;if(!rt(e,r))try{e[r]=t.scaleRef(n)}catch(t){}}function _B(t,e){let n;return H(t)?t:pt(t)?(n=e.scales[t])&&n.value:void 0}function xB(t,e,n){e.__bandwidth=t=>t&&t.bandwidth?t.bandwidth():0,n._bandwidth=yB,n._range=yB,n._scale=yB;const r=e=>"_["+(e.type===SF?wt("%"+e.value):wt("%")+"+"+t(e))+"]";return{_bandwidth:t=>"this.__bandwidth(".concat(r(t[0]),")"),_range:t=>"".concat(r(t[0]),".range()"),_scale:e=>"".concat(r(e[0]),"(").concat(t(e[1]),")")}}function bB(t,e){return function(n,r,i){if(n){const e=_B(n,(i||this).context);return e&&e.path[t](r)}return e(r)}}const wB=bB("area",(function(t){return jb=new Qt,kb(t,Ib),2*jb})),kB=bB("bounds",(function(t){var e,n,r,i,o,a,u;if(Tb=Bb=-(Fb=Sb=1/0),Ub=[],kb(t,mw),n=Ub.length){for(Ub.sort(Mw),e=1,o=[r=Ub[0]];e<n;++e)Ew(r,(i=Ub[e])[0])||Ew(r,i[1])?(Aw(r[0],i[1])>Aw(r[0],r[1])&&(r[1]=i[1]),Aw(i[0],r[1])>Aw(r[0],r[1])&&(r[0]=i[0])):o.push(r=i);for(a=-1/0,e=0,r=o[n=o.length-1];e<=n;r=i,++e)i=o[e],(u=Aw(r[1],i[0]))>a&&(a=u,Fb=i[0],Bb=r[1])}return Ub=qb=null,Fb===1/0||Sb===1/0?[[NaN,NaN],[NaN,NaN]]:[[Fb,Sb],[Bb,Tb]]})),AB=bB("centroid",(function(t){tw=ew=nw=rw=iw=ow=aw=uw=0,sw=new Qt,lw=new Qt,cw=new Qt,kb(t,Dw);var e=+sw,n=+lw,r=+cw,i=sb(e,n,r);return i<Xx&&(e=ow,n=aw,r=uw,ew<Vx&&(e=nw,n=rw,r=iw),(i=sb(e,n,r))<Xx)?[NaN,NaN]:[ib(n,e)*tb,mb(r/i)*tb]}));function MB(t,e,n){try{t[e].apply(t,["EXPRESSION"].concat([].slice.call(n)))}catch(e){t.warn(e)}return n[n.length-1]}function EB(t){const e=t/255;return e<=.03928?e/12.92:Math.pow((e+.055)/1.055,2.4)}function DB(t){const e=Zc(t);return.2126*EB(e.r)+.7152*EB(e.g)+.0722*EB(e.b)}function CB(t,e){return t===e||t!=t&&e!=e||(v(t)?!(!v(e)||t.length!==e.length)&&function(t,e){for(let n=0,r=t.length;n<r;++n)if(!CB(t[n],e[n]))return!1;return!0}(t,e):!(!_(t)||!_(e))&&FB(t,e))}function FB(t,e){for(const n in t)if(!CB(t[n],e[n]))return!1;return!0}function SB(t){return e=>FB(t,e)}const BB={};function TB(t){return v(t)||ArrayBuffer.isView(t)?t:null}function NB(t){return TB(t)||(pt(t)?t:null)}const zB=t=>t.data;function OB(t,e){const n=uB.call(e,t);return n.root&&n.root.lookup||{}}const RB=()=>"undefined"!=typeof window&&window||null;function LB(t,e,n){if(!t)return[];const[r,i]=t,o=(new kg).set(r[0],r[1],i[0],i[1]);return Qv(n||this.context.dataflow.scenegraph().root,o,function(t){let e=null;if(t){const n=$(t.marktype),r=$(t.markname);e=t=>(!n.length||n.some((e=>t.marktype===e)))&&(!r.length||r.some((e=>t.name===e)))}return e}(e))}const UB={random:()=>t.random(),cumulativeNormal:ou,cumulativeLogNormal:fu,cumulativeUniform:yu,densityNormal:iu,densityLogNormal:cu,densityUniform:mu,quantileNormal:au,quantileLogNormal:hu,quantileUniform:vu,sampleNormal:ru,sampleLogNormal:lu,sampleUniform:gu,isArray:v,isBoolean:lt,isDate:ct,isDefined:t=>void 0!==t,isNumber:ht,isObject:_,isRegExp:dt,isString:pt,isTuple:la,isValid:t=>null!=t&&t==t,toBoolean:kt,toDate:t=>Mt(t),toNumber:M,toString:Et,indexof:function(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return NB(t).indexOf(...n)},join:function(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return TB(t).join(...n)},lastindexof:function(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return NB(t).lastIndexOf(...n)},replace:function(t,e,n){return H(n)&&u("Function argument passed to replace."),String(t).replace(e,n)},reverse:function(t){return TB(t).slice().reverse()},slice:function(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return NB(t).slice(...n)},flush:at,lerp:mt,merge:function(){const t=[].slice.call(arguments);return t.unshift({}),K(...t)},pad:xt,peek:A,pluck:function(t,e){const n=BB[e]||(BB[e]=l(e));return v(t)?t.map(n):n(t)},span:bt,inrange:st,truncate:Ct,rgb:Zc,lab:mf,hcl:kf,hsl:of,luminance:DB,contrast:function(t,e){const n=DB(t),r=DB(e);return(Math.max(n,r)+.05)/(Math.min(n,r)+.05)},sequence:be,format:lB,utcFormat:fB,utcParse:dB,utcOffset:Er,utcSequence:Fr,timeFormat:cB,timeParse:hB,timeOffset:Mr,timeSequence:Cr,timeUnitSpecifier:Zn,monthFormat:function(t){return gB.call(this,t,1,"%B")},monthAbbrevFormat:function(t){return gB.call(this,t,1,"%b")},dayFormat:function(t){return gB.call(this,0,2+t,"%A")},dayAbbrevFormat:function(t){return gB.call(this,0,2+t,"%a")},quarter:j,utcquarter:I,week:er,utcweek:ur,dayofyear:tr,utcdayofyear:ar,warn:function(){return MB(this.context.dataflow,"warn",arguments)},info:function(){return MB(this.context.dataflow,"info",arguments)},debug:function(){return MB(this.context.dataflow,"debug",arguments)},extent:t=>tt(t),inScope:function(t){const e=this.context.group;let n=!1;if(e)for(;t;){if(t===e){n=!0;break}t=t.mark.group}return n},intersect:LB,clampRange:W,pinchDistance:function(t){const e=t.touches,n=e[0].clientX-e[1].clientX,r=e[0].clientY-e[1].clientY;return Math.sqrt(n*n+r*r)},pinchAngle:function(t){const e=t.touches;return Math.atan2(e[0].clientY-e[1].clientY,e[0].clientX-e[1].clientX)},screen:function(){const t=RB();return t?t.screen:{}},containerSize:function(){const t=this.context.dataflow,e=t.container&&t.container();return e?[e.clientWidth,e.clientHeight]:[void 0,void 0]},windowSize:function(){const t=RB();return t?[t.innerWidth,t.innerHeight]:[void 0,void 0]},bandspace:function(t,e,n){return sd(t||0,e||0,n||0)},setdata:function(t,e){const n=this.context.dataflow,r=this.context.data[t].input;return n.pulse(r,n.changeset().remove(p).insert(e)),1},pathShape:function(t){let e=null;return function(n){return n?Yp(n,e=e||Op(t)):t}},panLinear:T,panLog:N,panPow:z,panSymlog:O,zoomLinear:L,zoomLog:U,zoomPow:q,zoomSymlog:P,encode:function(t,e,n){if(t){const n=this.context.dataflow,r=t.mark.source;n.pulse(r,n.changeset().encode(t,e))}return void 0!==n?n:t},modify:function(t,e,n,r,i,o){const a=this.context.dataflow,u=this.context.data[t],s=u.input,l=a.stamp();let c,f,h=u.changes;if(!1===a._trigger||!(s.value.length||e||r))return 0;if((!h||h.stamp<l)&&(u.changes=h=a.changeset(),h.stamp=l,a.runAfter((()=>{u.modified=!0,a.pulse(s,h).run()}),!0,1)),n&&(c=!0===n?p:v(n)||la(n)?n:SB(n),h.remove(c)),e&&h.insert(e),r&&(c=SB(r),s.value.some(c)?h.remove(c):h.insert(r)),i)for(f in o)h.modify(i,f,o[f]);return 1},lassoAppend:function(t,e,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:5;const i=t[t.length-1];return void 0===i||Math.sqrt((i[0]-e)**2+(i[1]-n)**2)>r?(t.push([e,n]),[...t]):t},lassoPath:function(t){return(null!=t?t:[]).reduce(((e,n,r)=>{let[i,o]=n;return e+(0==r?"M ".concat(i,",").concat(o," "):r===t.length-1?" Z":"L ".concat(i,",").concat(o," "))}),"")},intersectLasso:function(t,e,n){const{x:r,y:i,mark:o}=n,a=(new kg).set(Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER,Number.MIN_SAFE_INTEGER,Number.MIN_SAFE_INTEGER);for(const[t,n]of e)t<a.x1&&(a.x1=t),t>a.x2&&(a.x2=t),n<a.y1&&(a.y1=n),n>a.y2&&(a.y2=n);return a.translate(r,i),LB([[a.x1,a.y1],[a.x2,a.y2]],t,o).filter((t=>function(t,e,n){let r=0;for(let i=0,o=n.length-1;i<n.length;o=i++){const[a,u]=n[o],[s,l]=n[i];l>e!=u>e&&t<(a-s)*(e-l)/(u-l)+s&&r++}return 1&r}(t.x,t.y,e)))}},qB=["view","item","group","xy","x","y"],PB="this.",jB={},IB={forbidden:["_"],allowed:["datum","event","item"],fieldvar:"datum",globalvar:t=>"_[".concat(wt("$"+t),"]"),functions:function(t){const e=VS(t);qB.forEach((t=>e[t]="event.vega."+t));for(const t in UB)e[t]=PB+t;return K(e,xB(t,UB,jB)),e},constants:GS,visitors:jB},$B=XS(IB);function WB(t,e,n){return 1===arguments.length?UB[t]:(UB[t]=e,n&&(jB[t]=n),$B&&($B.functions[t]=PB+t),this)}function HB(t,e){const n={};let r;try{r=YS(t=pt(t)?t:wt(t)+"")}catch(e){u("Expression parse error: "+t)}r.visit((t=>{if(t.type!==zF)return;const r=t.callee.name,i=IB.visitors[r];i&&i(r,t.arguments,e,n)}));const i=$B(r);return i.globals.forEach((t=>{const r="$"+t;!rt(n,r)&&e.getSignal(t)&&(n[r]=e.signalRef(t))})),{$expr:K({code:i.code},e.options.ast?{ast:r}:null),$fields:i.fields,$params:n}}WB("bandwidth",(function(t,e){const n=_B(t,(e||this).context);return n&&n.bandwidth?n.bandwidth():0}),yB),WB("copy",(function(t,e){const n=_B(t,(e||this).context);return n?n.copy():void 0}),yB),WB("domain",(function(t,e){const n=_B(t,(e||this).context);return n?n.domain():[]}),yB),WB("range",(function(t,e){const n=_B(t,(e||this).context);return n&&n.range?n.range():[]}),yB),WB("invert",(function(t,e,n){const r=_B(t,(n||this).context);return r?v(e)?(r.invertRange||r.invert)(e):(r.invert||r.invertExtent)(e):void 0}),yB),WB("scale",(function(t,e,n){const r=_B(t,(n||this).context);return r?r(e):void 0}),yB),WB("gradient",(function(t,e,n,r,i){t=_B(t,(i||this).context);const o=Dp(e,n);let a=t.domain(),u=a[0],s=A(a),l=f;return s-u?l=Jd(t,u,s):t=(t.interpolator?Ld("sequential")().interpolator(t.interpolator()):Ld("linear")().interpolate(t.interpolate()).range(t.range())).domain([u=0,s=1]),t.ticks&&(a=t.ticks(+r||15),u!==a[0]&&a.unshift(u),s!==A(a)&&a.push(s)),a.forEach((e=>o.stop(l(e),t(e)))),o}),yB),WB("geoArea",wB,yB),WB("geoBounds",kB,yB),WB("geoCentroid",AB,yB),WB("geoShape",(function(t,e,n){const r=_B(t,(n||this).context);return function(t){return r?r.path.context(t)(e):""}}),yB),WB("indata",(function(t,e,n){const r=this.context.data[t]["index:"+e],i=r?r.value.get(n):void 0;return i?i.count:i}),(function(t,e,n,r){e[0].type!==SF&&u("First argument to indata must be a string literal."),e[1].type!==SF&&u("Second argument to indata must be a string literal.");const i=e[0].value,o=e[1].value,a="@"+o;rt(a,r)||(r[a]=n.getData(i).indataRef(n,o))})),WB("data",uB,mB),WB("treePath",(function(t,e,n){const r=OB(t,this),i=r[e],o=r[n];return i&&o?i.path(o).map(zB):void 0}),mB),WB("treeAncestors",(function(t,e){const n=OB(t,this)[e];return n?n.ancestors().map(zB):void 0}),mB),WB("vlSelectionTest",(function(t,e,n){for(var r,i,o,a,u,s=this.context.data[t],l=s?s.values.value:[],c=s?s[tB]&&s[tB].value:void 0,f=n===JS,h=l.length,d=0;d<h;++d)if(r=l[d],c&&f){if(-1===(o=(i=i||{})[a=r.unit]||0))continue;if(u=eB(e,r),i[a]=u?-1:++o,u&&1===c.size)return!0;if(!u&&o===c.get(a).count)return!1}else if(f^(u=eB(e,r)))return u;return h&&f}),aB),WB("vlSelectionIdTest",(function(t,e,n){const r=this.context.data[t],i=r?r.values.value:[],o=r?r[tB]&&r[tB].value:void 0,a=n===JS,u=KS(e),s=rB(i,u);if(s===i.length)return!1;if(KS(i[s])!==u)return!1;if(o&&a){if(1===o.size)return!0;if(iB(i,u)-s<o.size)return!1}return!0}),aB),WB("vlSelectionResolve",(function(t,e,n,r){for(var i,o,a,u,s,l,c,f,h,d,p,g,m=this.context.data[t],y=m?m.values.value:[],v={},_={},x={},b=y.length,w=0;w<b;++w)if(u=(i=y[w]).unit,o=i.fields,a=i.values,o&&a){for(p=0,g=o.length;p<g;++p)s=o[p],f=(c=v[s.field]||(v[s.field]={}))[u]||(c[u]=[]),x[s.field]=h=s.type.charAt(0),d=oB["".concat(h,"_union")],c[u]=d(f,$(a[p]));n&&(f=_[u]||(_[u]=[])).push($(a).reduce(((t,e,n)=>(t[o[n].field]=e,t)),{}))}else s=QS,l=KS(i),(f=(c=v[s]||(v[s]={}))[u]||(c[u]=[])).push(l),n&&(f=_[u]||(_[u]=[])).push({[QS]:l});if(e=e||ZS,v._vgsid_?v._vgsid_=oB["".concat(QS,"_").concat(e)](...Object.values(v._vgsid_)):Object.keys(v).forEach((t=>{v[t]=Object.keys(v[t]).map((e=>v[t][e])).reduce(((n,r)=>void 0===n?r:oB["".concat(x[t],"_").concat(e)](n,r)))})),y=Object.keys(_),n&&y.length){v[r?"vlPoint":"vlMulti"]=e===ZS?{or:y.reduce(((t,e)=>(t.push(..._[e]),t)),[])}:{and:y.map((t=>({or:_[t]})))}}return v}),aB),WB("vlSelectionTuples",(function(t,e){return t.map((t=>K(e.fields?{values:e.fields.map((e=>(e.getter||(e.getter=l(e.field)))(t.datum)))}:{[QS]:KS(t.datum)},e)))}));const YB=Dt(["rule"]),GB=Dt(["group","image","rect"]);function VB(t){return(t+"").toLowerCase()}function XB(t,e,n){n.endsWith(";")||(n="return("+n+");");const r=Function(...e.concat(n));return t&&t.functions?r.bind(t.functions):r}var JB={operator:(t,e)=>XB(t,["_"],e.code),parameter:(t,e)=>XB(t,["datum","_"],e.code),event:(t,e)=>XB(t,["event"],e.code),handler:(t,e)=>XB(t,["_","event"],"var datum=event.item&&event.item.datum;return ".concat(e.code,";")),encode:(t,e)=>{const{marktype:n,channels:r}=e;let i="var o=item,datum=o.datum,m=0,$;";for(const t in r){const e="o["+wt(t)+"]";i+="$=".concat(r[t].code,";if(").concat(e,"!==$)").concat(e,"=$,m=1;")}return i+=function(t,e){let n="";return YB[e]||(t.x2&&(t.x?(GB[e]&&(n+="if(o.x>o.x2)$=o.x,o.x=o.x2,o.x2=$;"),n+="o.width=o.x2-o.x;"):n+="o.x=o.x2-(o.width||0);"),t.xc&&(n+="o.x=o.xc-(o.width||0)/2;"),t.y2&&(t.y?(GB[e]&&(n+="if(o.y>o.y2)$=o.y,o.y=o.y2,o.y2=$;"),n+="o.height=o.y2-o.y;"):n+="o.y=o.y2-(o.height||0);"),t.yc&&(n+="o.y=o.yc-(o.height||0)/2;")),n}(r,n),i+="return m;",XB(t,["item","_"],i)},codegen:{get(t){const e="[".concat(t.map(wt).join("]["),"]"),n=Function("_","return _".concat(e,";"));return n.path=e,n},comparator(t,e){let n;const r=Function("a","b","var u, v; return "+t.map(((t,r)=>{const i=e[r];let o,a;return t.path?(o="a".concat(t.path),a="b".concat(t.path)):((n=n||{})["f"+r]=t,o="this.f".concat(r,"(a)"),a="this.f".concat(r,"(b)")),function(t,e,n,r){return"((u = ".concat(t,") < (v = ").concat(e,") || u == null) && v != null ? ").concat(n,"\n  : (u > v || v == null) && u != null ? ").concat(r,"\n  : ((v = v instanceof Date ? +v : v), (u = u instanceof Date ? +u : u)) !== u && v === v ? ").concat(n,"\n  : v !== v && u === u ? ").concat(r," : ")}(o,a,-i,i)})).join("")+"0;");return n?r.bind(n):r}}};function ZB(t,e,n){if(!t||!_(t))return t;for(let r,i=0,o=QB.length;i<o;++i)if(r=QB[i],rt(t,r.key))return r.parse(t,e,n);return t}var QB=[{key:"$ref",parse:function(t,e){return e.get(t.$ref)||u("Operator not defined: "+t.$ref)}},{key:"$key",parse:function(t,e){const n="k:"+t.$key+"_"+!!t.$flat;return e.fn[n]||(e.fn[n]=gt(t.$key,t.$flat,e.expr.codegen))}},{key:"$expr",parse:function(t,n,r){t.$params&&n.parseParameters(t.$params,r);const i="e:"+t.$expr.code;return n.fn[i]||(n.fn[i]=e(n.parameterExpression(t.$expr),t.$fields))}},{key:"$field",parse:function(t,e){if(!t.$field)return null;const n="f:"+t.$field+"_"+t.$name;return e.fn[n]||(e.fn[n]=l(t.$field,t.$name,e.expr.codegen))}},{key:"$encode",parse:function(t,n){const r=t.$encode,i={};for(const t in r){const o=r[t];i[t]=e(n.encodeExpression(o.$expr),o.$fields),i[t].output=o.$output}return i}},{key:"$compare",parse:function(t,e){const n="c:"+t.$compare+"_"+t.$order,r=$(t.$compare).map((t=>t&&t.$tupleid?ca:t));return e.fn[n]||(e.fn[n]=Y(r,t.$order,e.expr.codegen))}},{key:"$context",parse:function(t,e){return e}},{key:"$subflow",parse:function(t,e){const n=t.$subflow;return function(t,r,i){const o=e.fork().parse(n),a=o.get(n.operators[0].id),u=o.signals.parent;return u&&u.set(i),a.detachSubflow=()=>e.detach(o),a}}},{key:"$tupleid",parse:function(){return ca}}];const KB={skip:!0};function tT(t,e,n,r){return new eT(t,e,n,r)}function eT(t,e,n,r){this.dataflow=t,this.transforms=e,this.events=t.events.bind(t),this.expr=r||JB,this.signals={},this.scales={},this.nodes={},this.data={},this.fn={},n&&(this.functions=Object.create(n),this.functions.context=this)}function nT(t){this.dataflow=t.dataflow,this.transforms=t.transforms,this.events=t.events,this.expr=t.expr,this.signals=Object.create(t.signals),this.scales=Object.create(t.scales),this.nodes=Object.create(t.nodes),this.data=Object.create(t.data),this.fn=Object.create(t.fn),t.functions&&(this.functions=Object.create(t.functions),this.functions.context=this)}function rT(t,e){t&&(null==e?t.removeAttribute("aria-label"):t.setAttribute("aria-label",e))}eT.prototype=nT.prototype={fork(){const t=new nT(this);return(this.subcontext||(this.subcontext=[])).push(t),t},detach(t){this.subcontext=this.subcontext.filter((e=>e!==t));const e=Object.keys(t.nodes);for(const n of e)t.nodes[n]._targets=null;for(const n of e)t.nodes[n].detach();t.nodes=null},get(t){return this.nodes[t]},set(t,e){return this.nodes[t]=e},add(t,e){const n=this,r=n.dataflow,i=t.value;if(n.set(t.id,e),function(t){return"collect"===VB(t)}(t.type)&&i&&(i.$ingest?r.ingest(e,i.$ingest,i.$format):i.$request?r.preload(e,i.$request,i.$format):r.pulse(e,r.changeset().insert(i))),t.root&&(n.root=e),t.parent){let i=n.get(t.parent.$ref);i?(r.connect(i,[e]),e.targets().add(i)):(n.unresolved=n.unresolved||[]).push((()=>{i=n.get(t.parent.$ref),r.connect(i,[e]),e.targets().add(i)}))}if(t.signal&&(n.signals[t.signal]=e),t.scale&&(n.scales[t.scale]=e),t.data)for(const r in t.data){const i=n.data[r]||(n.data[r]={});t.data[r].forEach((t=>i[t]=e))}},resolve(){return(this.unresolved||[]).forEach((t=>t())),delete this.unresolved,this},operator(t,e){this.add(t,this.dataflow.add(t.value,e))},transform(t,e){this.add(t,this.dataflow.add(this.transforms[VB(e)]))},stream(t,e){this.set(t.id,e)},update(t,e,n,r,i){this.dataflow.on(e,n,r,i,t.options)},operatorExpression(t){return this.expr.operator(this,t)},parameterExpression(t){return this.expr.parameter(this,t)},eventExpression(t){return this.expr.event(this,t)},handlerExpression(t){return this.expr.handler(this,t)},encodeExpression(t){return this.expr.encode(this,t)},parse:function(t){const e=this,n=t.operators||[];return t.background&&(e.background=t.background),t.eventConfig&&(e.eventConfig=t.eventConfig),t.locale&&(e.locale=t.locale),n.forEach((t=>e.parseOperator(t))),n.forEach((t=>e.parseOperatorParameters(t))),(t.streams||[]).forEach((t=>e.parseStream(t))),(t.updates||[]).forEach((t=>e.parseUpdate(t))),e.resolve()},parseOperator:function(t){const e=this;!function(t){return"operator"===VB(t)}(t.type)&&t.type?e.transform(t,t.type):e.operator(t,t.update?e.operatorExpression(t.update):null)},parseOperatorParameters:function(t){const e=this;if(t.params){const n=e.get(t.id);n||u("Invalid operator id: "+t.id),e.dataflow.connect(n,n.parameters(e.parseParameters(t.params),t.react,t.initonly))}},parseParameters:function(t,e){e=e||{};const n=this;for(const r in t){const i=t[r];e[r]=v(i)?i.map((t=>ZB(t,n,e))):ZB(i,n,e)}return e},parseStream:function(t){var e,n=this,r=null!=t.filter?n.eventExpression(t.filter):void 0,i=null!=t.stream?n.get(t.stream):void 0;t.source?i=n.events(t.source,t.type,r):t.merge&&(i=(e=t.merge.map((t=>n.get(t))))[0].merge.apply(e[0],e.slice(1))),t.between&&(e=t.between.map((t=>n.get(t))),i=i.between(e[0],e[1])),t.filter&&(i=i.filter(r)),null!=t.throttle&&(i=i.throttle(+t.throttle)),null!=t.debounce&&(i=i.debounce(+t.debounce)),null==i&&u("Invalid stream definition: "+JSON.stringify(t)),t.consume&&i.consume(!0),n.stream(t,i)},parseUpdate:function(t){var e,n=this,r=_(r=t.source)?r.$ref:r,i=n.get(r),o=t.update,a=void 0;i||u("Source not defined: "+t.source),e=t.target&&t.target.$expr?n.eventExpression(t.target.$expr):n.get(t.target),o&&o.$expr&&(o.$params&&(a=n.parseParameters(o.$params)),o=n.handlerExpression(o.$expr)),n.update(t,i,e,o,a)},getState:function(t){var e=this,n={};if(t.signals){var r=n.signals={};Object.keys(e.signals).forEach((n=>{const i=e.signals[n];t.signals(n,i)&&(r[n]=i.value)}))}if(t.data){var i=n.data={};Object.keys(e.data).forEach((n=>{const r=e.data[n];t.data(n,r)&&(i[n]=r.input.value)}))}return e.subcontext&&!1!==t.recurse&&(n.subcontext=e.subcontext.map((e=>e.getState(t)))),n},setState:function(t){var e=this,n=e.dataflow,r=t.data,i=t.signals;Object.keys(i||{}).forEach((t=>{n.update(e.signals[t],i[t],KB)})),Object.keys(r||{}).forEach((t=>{n.pulse(e.data[t].input,n.changeset().remove(p).insert(r[t]))})),(t.subcontext||[]).forEach(((t,n)=>{const r=e.subcontext[n];r&&r.setState(t)}))}};const iT="default";function oT(t,e){const n=t.globalCursor()?"undefined"!=typeof document&&document.body:t.container();if(n)return null==e?n.style.removeProperty("cursor"):n.style.cursor=e}function aT(t,e){var n=t._runtime.data;return rt(n,e)||u("Unrecognized data set: "+e),n[e]}function uT(t,e){ya(e)||u("Second argument to changes must be a changeset.");const n=aT(this,t);return n.modified=!0,this.pulse(n.input,e)}function sT(t){var e=t.padding();return Math.max(0,t._viewWidth+e.left+e.right)}function lT(t){var e=t.padding();return Math.max(0,t._viewHeight+e.top+e.bottom)}function cT(t){var e=t.padding(),n=t._origin;return[e.left+n[0],e.top+n[1]]}function fT(t,e,n){var r,i,o=t._renderer,a=o&&o.canvas();return a&&(i=cT(t),(r=Oy(e.changedTouches?e.changedTouches[0]:e,a))[0]-=i[0],r[1]-=i[1]),e.dataflow=t,e.item=n,e.vega=function(t,e,n){const r=e?"group"===e.mark.marktype?e:e.mark.group:null;function i(t){var n,i=r;if(t)for(n=e;n;n=n.mark.group)if(n.mark.name===t){i=n;break}return i&&i.mark&&i.mark.interactive?i:{}}function o(t){if(!t)return n;pt(t)&&(t=i(t));const e=n.slice();for(;t;)e[0]-=t.x||0,e[1]-=t.y||0,t=t.mark&&t.mark.group;return e}return{view:Z(t),item:Z(e||{}),group:i,xy:o,x:t=>o(t)[0],y:t=>o(t)[1]}}(t,n,r),e}const hT="view",dT={trap:!1};function pT(t,e,n,r){t._eventListeners.push({type:n,sources:$(e),handler:r})}function gT(t,e,n){const r=t._eventConfig&&t._eventConfig[e];return!(!1===r||_(r)&&!r[n])||(t.warn("Blocked ".concat(e," ").concat(n," event listener.")),!1)}function mT(t){return t.item}function yT(t){return t.item.mark.source}function vT(t){return function(e,n){return n.vega.view().changeset().encode(n.item,t)}}function _T(t,e,n){const r=document.createElement(t);for(const t in e)r.setAttribute(t,e[t]);return null!=n&&(r.textContent=n),r}function xT(t,e,n,r){const i=n.event||"input",o=()=>t.update(e.value);r.signal(n.signal,e.value),e.addEventListener(i,o),pT(r,e,i,o),t.set=t=>{e.value=t,e.dispatchEvent(function(t){return"undefined"!=typeof Event?new Event(t):{type:t}}(i))}}function bT(t,e,n,r){const i=r.signal(n.signal),o=_T("div",{class:"vega-bind"}),a="radio"===n.input?o:o.appendChild(_T("label"));a.appendChild(_T("span",{class:"vega-bind-name"},n.name||n.signal)),e.appendChild(o);let u=wT;switch(n.input){case"checkbox":u=kT;break;case"select":u=AT;break;case"radio":u=MT;break;case"range":u=ET}u(t,a,n,i)}function wT(t,e,n,r){const i=_T("input");for(const t in n)"signal"!==t&&"element"!==t&&i.setAttribute("input"===t?"type":t,n[t]);i.setAttribute("name",n.signal),i.value=r,e.appendChild(i),i.addEventListener("input",(()=>t.update(i.value))),t.elements=[i],t.set=t=>i.value=t}function kT(t,e,n,r){const i={type:"checkbox",name:n.signal};r&&(i.checked=!0);const o=_T("input",i);e.appendChild(o),o.addEventListener("change",(()=>t.update(o.checked))),t.elements=[o],t.set=t=>o.checked=!!t||null}function AT(t,e,n,r){const i=_T("select",{name:n.signal}),o=n.labels||[];n.options.forEach(((t,e)=>{const n={value:t};DT(t,r)&&(n.selected=!0),i.appendChild(_T("option",n,(o[e]||t)+""))})),e.appendChild(i),i.addEventListener("change",(()=>{t.update(n.options[i.selectedIndex])})),t.elements=[i],t.set=t=>{for(let e=0,r=n.options.length;e<r;++e)if(DT(n.options[e],t))return void(i.selectedIndex=e)}}function MT(t,e,n,r){const i=_T("span",{class:"vega-bind-radio"}),o=n.labels||[];e.appendChild(i),t.elements=n.options.map(((e,a)=>{const u={type:"radio",name:n.signal,value:e};DT(e,r)&&(u.checked=!0);const s=_T("input",u);s.addEventListener("change",(()=>t.update(e)));const l=_T("label",{},(o[a]||e)+"");return l.prepend(s),i.appendChild(l),s})),t.set=e=>{const n=t.elements,r=n.length;for(let t=0;t<r;++t)DT(n[t].value,e)&&(n[t].checked=!0)}}function ET(t,e,n,r){r=void 0!==r?r:(+n.max+ +n.min)/2;const i=null!=n.max?n.max:Math.max(100,+r)||100,o=n.min||Math.min(0,i,+r)||0,a=n.step||he(o,i,100),u=_T("input",{type:"range",name:n.signal,min:o,max:i,step:a});u.value=r;const s=_T("span",{},+r);e.appendChild(u),e.appendChild(s);const l=()=>{s.textContent=u.value,t.update(+u.value)};u.addEventListener("input",l),u.addEventListener("change",l),t.elements=[u],t.set=t=>{u.value=t,s.textContent=t}}function DT(t,e){return t===e||t+""==e+""}function CT(t,e,n,r,i,o){return(e=e||new r(t.loader())).initialize(n,sT(t),lT(t),cT(t),i,o).background(t.background())}function FT(t,e){return e?function(){try{e.apply(this,arguments)}catch(e){t.error(e)}}:null}function ST(t,e,n){if("string"==typeof e){if("undefined"==typeof document)return t.error("DOM document instance not found."),null;if(!(e=document.querySelector(e)))return t.error("Signal bind element not found: "+e),null}if(e&&n)try{e.textContent=""}catch(n){e=null,t.error(n)}return e}const BT=t=>+t||0;function TT(t){return _(t)?{top:BT(t.top),bottom:BT(t.bottom),left:BT(t.left),right:BT(t.right)}:(t=>({top:t,bottom:t,left:t,right:t}))(BT(t))}async function NT(t,e,n,r){const i=Zv(e),o=i&&i.headless;return o||u("Unrecognized renderer type: "+e),await t.runAsync(),CT(t,null,null,o,n,r).renderAsync(t._scenegraph.root)}var zT="width",OT="height",RT="padding",LT={skip:!0};function UT(t,e){var n=t.autosize(),r=t.padding();return e-(n&&n.contains===RT?r.left+r.right:0)}function qT(t,e){var n=t.autosize(),r=t.padding();return e-(n&&n.contains===RT?r.top+r.bottom:0)}function PT(t,e){return e.modified&&v(e.input.value)&&t.indexOf("_:vega:_")}function jT(t,e){return!("parent"===t||e instanceof Wa.proxy)}function IT(t,e,n,r){const i=t.element();i&&i.setAttribute("title",function(t){return null==t?"":v(t)?$T(t):_(t)&&!ct(t)?(e=t,Object.keys(e).map((t=>{const n=e[t];return t+": "+(v(n)?$T(n):WT(n))})).join("\n")):t+"";var e}(r))}function $T(t){return"["+t.map(WT).join(", ")+"]"}function WT(t){return v(t)?"[]":_(t)&&!ct(t)?"{}":t}function HT(t,e){const n=this;if(e=e||{},ja.call(n),e.loader&&n.loader(e.loader),e.logger&&n.logger(e.logger),null!=e.logLevel&&n.logLevel(e.logLevel),e.locale||t.locale){const r=K({},t.locale,e.locale);n.locale(Bo(r.number,r.time))}n._el=null,n._elBind=null,n._renderType=e.renderer||Xv.Canvas,n._scenegraph=new Cy;const r=n._scenegraph.root;n._renderer=null,n._tooltip=e.tooltip||IT,n._redraw=!0,n._handler=(new tv).scene(r),n._globalCursor=!1,n._preventDefault=!1,n._timers=[],n._eventListeners=[],n._resizeListeners=[],n._eventConfig=function(t){const e=K({defaults:{}},t),n=(t,e)=>{e.forEach((e=>{v(t[e])&&(t[e]=Dt(t[e]))}))};return n(e.defaults,["prevent","allow"]),n(e,["view","window","selector"]),e}(t.eventConfig),n.globalCursor(n._eventConfig.globalCursor);const i=function(t,e,n){return tT(t,Wa,UB,n).parse(e)}(n,t,e.expr);n._runtime=i,n._signals=i.signals,n._bind=(t.bindings||[]).map((t=>({state:null,param:K({},t)}))),i.root&&i.root.set(r),r.source=i.data.root.input,n.pulse(i.data.root.input,n.changeset().insert(r.items)),n._width=n.width(),n._height=n.height(),n._viewWidth=UT(n,n._width),n._viewHeight=qT(n,n._height),n._origin=[0,0],n._resize=0,n._autosize=1,function(t){var e=t._signals,n=e.width,r=e.height,i=e.padding;function o(){t._autosize=t._resize=1}t._resizeWidth=t.add(null,(e=>{t._width=e.size,t._viewWidth=UT(t,e.size),o()}),{size:n}),t._resizeHeight=t.add(null,(e=>{t._height=e.size,t._viewHeight=qT(t,e.size),o()}),{size:r});const a=t.add(null,o,{pad:i});t._resizeWidth.rank=n.rank+1,t._resizeHeight.rank=r.rank+1,a.rank=i.rank+1}(n),function(t){t.add(null,(e=>(t._background=e.bg,t._resize=1,e.bg)),{bg:t._signals.background})}(n),function(t){const e=t._signals.cursor||(t._signals.cursor=t.add({user:iT,item:null}));t.on(t.events("view","mousemove"),e,((t,n)=>{const r=e.value,i=r?pt(r)?r:r.user:iT,o=n.item&&n.item.cursor||null;return r&&i===r.user&&o==r.item?r:{user:i,item:o}})),t.add(null,(function(e){let n=e.cursor,r=this.value;return pt(n)||(r=n.item,n=n.user),oT(t,n&&n!==iT?n:r||n),r}),{cursor:e})}(n),n.description(t.description),e.hover&&n.hover(),e.container&&n.initialize(e.container,e.bind)}function YT(t,e){return rt(t._signals,e)?t._signals[e]:u("Unrecognized signal name: "+wt(e))}function GT(t,e){const n=(t._targets||[]).filter((t=>t._update&&t._update.handler===e));return n.length?n[0]:null}function VT(t,e,n,r){let i=GT(n,r);return i||(i=FT(t,(()=>r(e,n.value))),i.handler=r,t.on(n,null,i)),t}function XT(t,e,n){const r=GT(e,n);return r&&e._targets.remove(r),t}ut(HT,ja,{async evaluate(t,e,n){if(await ja.prototype.evaluate.call(this,t,e),this._redraw||this._resize)try{this._renderer&&(this._resize&&(this._resize=0,function(t){var e=cT(t),n=sT(t),r=lT(t);t._renderer.background(t.background()),t._renderer.resize(n,r,e),t._handler.origin(e),t._resizeListeners.forEach((e=>{try{e(n,r)}catch(e){t.error(e)}}))}(this)),await this._renderer.renderAsync(this._scenegraph.root)),this._redraw=!1}catch(t){this.error(t)}return n&&aa(this,n),this},dirty(t){this._redraw=!0,this._renderer&&this._renderer.dirty(t)},description(t){if(arguments.length){const e=null!=t?t+"":null;return e!==this._desc&&rT(this._el,this._desc=e),this}return this._desc},container(){return this._el},scenegraph(){return this._scenegraph},origin(){return this._origin.slice()},signal(t,e,n){const r=YT(this,t);return 1===arguments.length?r.value:this.update(r,e,n)},width(t){return arguments.length?this.signal("width",t):this.signal("width")},height(t){return arguments.length?this.signal("height",t):this.signal("height")},padding(t){return arguments.length?this.signal("padding",TT(t)):TT(this.signal("padding"))},autosize(t){return arguments.length?this.signal("autosize",t):this.signal("autosize")},background(t){return arguments.length?this.signal("background",t):this.signal("background")},renderer(t){return arguments.length?(Zv(t)||u("Unrecognized renderer type: "+t),t!==this._renderType&&(this._renderType=t,this._resetRenderer()),this):this._renderType},tooltip(t){return arguments.length?(t!==this._tooltip&&(this._tooltip=t,this._resetRenderer()),this):this._tooltip},loader(t){return arguments.length?(t!==this._loader&&(ja.prototype.loader.call(this,t),this._resetRenderer()),this):this._loader},resize(){return this._autosize=1,this.touch(YT(this,"autosize"))},_resetRenderer(){this._renderer&&(this._renderer=null,this.initialize(this._el,this._elBind))},_resizeView:function(t,e,n,r,i,o){this.runAfter((a=>{let u=0;a._autosize=0,a.width()!==n&&(u=1,a.signal(zT,n,LT),a._resizeWidth.skip(!0)),a.height()!==r&&(u=1,a.signal(OT,r,LT),a._resizeHeight.skip(!0)),a._viewWidth!==t&&(a._resize=1,a._viewWidth=t),a._viewHeight!==e&&(a._resize=1,a._viewHeight=e),a._origin[0]===i[0]&&a._origin[1]===i[1]||(a._resize=1,a._origin=i),u&&a.run("enter"),o&&a.runAfter((t=>t.resize()))}),!1,1)},addEventListener(t,e,n){let r=e;return n&&!1===n.trap||(r=FT(this,e),r.raw=e),this._handler.on(t,r),this},removeEventListener(t,e){for(var n,r,i=this._handler.handlers(t),o=i.length;--o>=0;)if(r=i[o].type,n=i[o].handler,t===r&&(e===n||e===n.raw)){this._handler.off(r,n);break}return this},addResizeListener(t){const e=this._resizeListeners;return e.indexOf(t)<0&&e.push(t),this},removeResizeListener(t){var e=this._resizeListeners,n=e.indexOf(t);return n>=0&&e.splice(n,1),this},addSignalListener(t,e){return VT(this,t,YT(this,t),e)},removeSignalListener(t,e){return XT(this,YT(this,t),e)},addDataListener(t,e){return VT(this,t,aT(this,t).values,e)},removeDataListener(t,e){return XT(this,aT(this,t).values,e)},globalCursor(t){if(arguments.length){if(this._globalCursor!==!!t){const e=oT(this,null);this._globalCursor=!!t,e&&oT(this,e)}return this}return this._globalCursor},preventDefault(t){return arguments.length?(this._preventDefault=t,this):this._preventDefault},timer:function(t,e){this._timers.push(function(t,e,n){var r=new yE,i=e;return null==e?(r.restart(t,e,n),r):(r._restart=r.restart,r.restart=function(t,e,n){e=+e,n=null==n?gE():+n,r._restart((function o(a){a+=i,r._restart(o,i+=e,n),t(a)}),e,n)},r.restart(t,e,n),r)}((function(e){t({timestamp:Date.now(),elapsed:e})}),e))},events:function(t,e,n){var r,i=this,o=new Ea(n),a=function(n,r){i.runAsync(null,(()=>{t===hT&&function(t,e){var n=t._eventConfig.defaults,r=n.prevent,i=n.allow;return!1!==r&&!0!==i&&(!0===r||!1===i||(r?r[e]:i?!i[e]:t.preventDefault()))}(i,e)&&n.preventDefault(),o.receive(fT(i,n,r))}))};if("timer"===t)gT(i,"timer",e)&&i.timer(a,e);else if(t===hT)gT(i,"view",e)&&i.addEventListener(e,a,dT);else if("window"===t?gT(i,"window",e)&&"undefined"!=typeof window&&(r=[window]):"undefined"!=typeof document&&gT(i,"selector",e)&&(r=document.querySelectorAll(t)),r){for(var u=0,s=r.length;u<s;++u)r[u].addEventListener(e,a);pT(i,r,e,a)}else i.warn("Can not resolve event source: "+t);return o},finalize:function(){var t,e,n,r=this._tooltip,i=this._timers,o=this._eventListeners;for(t=i.length;--t>=0;)i[t].stop();for(t=o.length;--t>=0;)for(e=(n=o[t]).sources.length;--e>=0;)n.sources[e].removeEventListener(n.type,n.handler);return r&&r.call(this,this._handler,null,null,null),this},hover:function(t,e){return e=[e||"update",(t=[t||"hover"])[0]],this.on(this.events("view","mouseover",mT),yT,vT(t)),this.on(this.events("view","mouseout",mT),yT,vT(e)),this},data:function(t,e){return arguments.length<2?aT(this,t).values.value:uT.call(this,t,va().remove(p).insert(e))},change:uT,insert:function(t,e){return uT.call(this,t,va().insert(e))},remove:function(t,e){return uT.call(this,t,va().remove(e))},scale:function(t){var e=this._runtime.scales;return rt(e,t)||u("Unrecognized scale or projection: "+t),e[t].value},initialize:function(t,e){const n=this,r=n._renderType,i=n._eventConfig.bind,o=Zv(r);t=n._el=t?ST(n,t,!0):null,function(t){const e=t.container();e&&(e.setAttribute("role","graphics-document"),e.setAttribute("aria-roleDescription","visualization"),rT(e,t.description()))}(n),o||n.error("Unrecognized renderer type: "+r);const a=o.handler||tv,u=t?o.renderer:o.headless;return n._renderer=u?CT(n,n._renderer,t,u):null,n._handler=function(t,e,n,r){const i=new r(t.loader(),FT(t,t.tooltip())).scene(t.scenegraph().root).initialize(n,cT(t),t);return e&&e.handlers().forEach((t=>{i.on(t.type,t.handler)})),i}(n,n._handler,t,a),n._redraw=!0,t&&"none"!==i&&(e=e?n._elBind=ST(n,e,!0):t.appendChild(_T("form",{class:"vega-bindings"})),n._bind.forEach((t=>{t.param.element&&"container"!==i&&(t.element=ST(n,t.param.element,!!t.param.input))})),n._bind.forEach((t=>{!function(t,e,n){if(!e)return;const r=n.param;let i=n.state;i||(i=n.state={elements:null,active:!1,set:null,update:e=>{e!=t.signal(r.signal)&&t.runAsync(null,(()=>{i.source=!0,t.signal(r.signal,e)}))}},r.debounce&&(i.update=Q(r.debounce,i.update))),(null==r.input&&r.element?xT:bT)(i,e,r,t),i.active||(t.on(t._signals[r.signal],null,(()=>{i.source?i.source=!1:i.set(t.signal(r.signal))})),i.active=!0)}(n,t.element||e,t)}))),n},toImageURL:async function(t,e){t!==Xv.Canvas&&t!==Xv.SVG&&t!==Xv.PNG&&u("Unrecognized image type: "+t);const n=await NT(this,t,e);return t===Xv.SVG?function(t,e){const n=new Blob([t],{type:e});return window.URL.createObjectURL(n)}(n.svg(),"image/svg+xml"):n.canvas().toDataURL("image/png")},toCanvas:async function(t,e){return(await NT(this,Xv.Canvas,t,e)).canvas()},toSVG:async function(t){return(await NT(this,Xv.SVG,t)).svg()},getState:function(t){return this._runtime.getState(t||{data:PT,signals:jT,recurse:!0})},setState:function(t){return this.runAsync(null,(e=>{e._trigger=!1,e._runtime.setState(t)}),(t=>{t._trigger=!0})),this}});const JT="[",ZT="]",QT=/[[\]{}]/,KT={"*":1,arc:1,area:1,group:1,image:1,line:1,path:1,rect:1,rule:1,shape:1,symbol:1,text:1,trail:1};let tN,eN;function nN(t,e,n){return tN=e||"view",eN=n||KT,iN(t.trim()).map(oN)}function rN(t,e,n,r,i){const o=t.length;let a,u=0;for(;e<o;++e){if(a=t[e],!u&&a===n)return e;i&&i.indexOf(a)>=0?--u:r&&r.indexOf(a)>=0&&++u}return e}function iN(t){const e=[],n=t.length;let r=0,i=0;for(;i<n;)i=rN(t,i,",","[{","]}"),e.push(t.substring(r,i).trim()),r=++i;if(0===e.length)throw"Empty event selector: "+t;return e}function oN(t){return"["===t[0]?function(t){const e=t.length;let n,r=1;if(r=rN(t,r,ZT,JT,ZT),r===e)throw"Empty between selector: "+t;if(n=iN(t.substring(1,r)),2!==n.length)throw"Between selector must have two elements: "+t;if(">"!==(t=t.slice(r+1).trim())[0])throw"Expected '>' after between selector: "+t;n=n.map(oN);const i=oN(t.slice(1).trim());if(i.between)return{between:n,stream:i};i.between=n;return i}(t):function(t){const e={source:tN},n=[];let r,i,o=[0,0],a=0,u=0,s=t.length,l=0;if("}"===t[s-1]){if(l=t.lastIndexOf("{"),!(l>=0))throw"Unmatched right brace: "+t;try{o=function(t){const e=t.split(",");if(!t.length||e.length>2)throw t;return e.map((e=>{const n=+e;if(n!=n)throw t;return n}))}(t.substring(l+1,s-1))}catch(e){throw"Invalid throttle specification: "+t}s=(t=t.slice(0,l).trim()).length,l=0}if(!s)throw t;"@"===t[0]&&(a=++l);r=rN(t,l,":"),r<s&&(n.push(t.substring(u,r).trim()),u=l=++r);if(l=rN(t,l,JT),l===s)n.push(t.substring(u,s).trim());else if(n.push(t.substring(u,l).trim()),i=[],u=++l,u===s)throw"Unmatched left bracket: "+t;for(;l<s;){if(l=rN(t,l,ZT),l===s)throw"Unmatched left bracket: "+t;if(i.push(t.substring(u,l).trim()),l<s-1&&t[++l]!==JT)throw"Expected left bracket: "+t;u=++l}if(!(s=n.length)||QT.test(n[s-1]))throw"Invalid event selector: "+t;s>1?(e.type=n[1],a?e.markname=n[0].slice(1):!function(t){return eN[t]}(n[0])?e.source=n[0]:e.marktype=n[0]):e.type=n[0];"!"===e.type.slice(-1)&&(e.consume=!0,e.type=e.type.slice(0,-1));null!=i&&(e.filter=i);o[0]&&(e.throttle=o[0]);o[1]&&(e.debounce=o[1]);return e}(t)}function aN(t){return _(t)?t:{type:t||"pad"}}const uN=t=>+t||0;function sN(t){return _(t)?t.signal?t:{top:uN(t.top),bottom:uN(t.bottom),left:uN(t.left),right:uN(t.right)}:{top:e=uN(t),bottom:e,left:e,right:e};var e}const lN=t=>_(t)&&!v(t)?K({},t):{value:t};function cN(t,e,n,r){if(null!=n){return _(n)&&!v(n)||v(n)&&n.length&&_(n[0])?t.update[e]=n:t[r||"enter"][e]={value:n},1}return 0}function fN(t,e,n){for(const n in e)cN(t,n,e[n]);for(const e in n)cN(t,e,n[e],"update")}function hN(t,e,n){for(const r in e)n&&rt(n,r)||(t[r]=K(t[r]||{},e[r]));return t}function dN(t,e){return e&&(e.enter&&e.enter[t]||e.update&&e.update[t])}const pN="mark",gN="frame",mN="scope",yN="legend-label",vN="title-text",_N="title-subtitle";function xN(t,e,n){t[e]=n&&n.signal?{signal:n.signal}:{value:n}}const bN=t=>pt(t)?wt(t):t.signal?"(".concat(t.signal,")"):MN(t);function wN(t){if(null!=t.gradient)return function(t){const e=[t.start,t.stop,t.count].map((t=>null==t?null:wt(t)));for(;e.length&&null==A(e);)e.pop();return e.unshift(bN(t.gradient)),"gradient(".concat(e.join(","),")")}(t);let e=t.signal?"(".concat(t.signal,")"):t.color?function(t){return t.c?kN("hcl",t.h,t.c,t.l):t.h||t.s?kN("hsl",t.h,t.s,t.l):t.l||t.a?kN("lab",t.l,t.a,t.b):t.r||t.g||t.b?kN("rgb",t.r,t.g,t.b):null}(t.color):null!=t.field?MN(t.field):void 0!==t.value?wt(t.value):void 0;return null!=t.scale&&(e=function(t,e){const n=bN(t.scale);null!=t.range?e="lerp(_range(".concat(n,"), ").concat(+t.range,")"):(void 0!==e&&(e="_scale(".concat(n,", ").concat(e,")")),t.band&&(e=(e?e+"+":"")+"_bandwidth(".concat(n,")")+(1==+t.band?"":"*"+AN(t.band)),t.extra&&(e="(datum.extra ? _scale(".concat(n,", datum.extra.value) : ").concat(e,")"))),null==e&&(e="0"));return e}(t,e)),void 0===e&&(e=null),null!=t.exponent&&(e="pow(".concat(e,",").concat(AN(t.exponent),")")),null!=t.mult&&(e+="*".concat(AN(t.mult))),null!=t.offset&&(e+="+".concat(AN(t.offset))),t.round&&(e="round(".concat(e,")")),e}const kN=(t,e,n,r)=>"(".concat(t,"(").concat([e,n,r].map(wN).join(","),")+'')");function AN(t){return _(t)?"("+wN(t)+")":t}function MN(t){return EN(_(t)?t:{datum:t})}function EN(t){let e,n,r;if(t.signal)e="datum",r=t.signal;else if(t.group||t.parent){for(n=Math.max(1,t.level||1),e="item";n-- >0;)e+=".mark.group";t.parent?(r=t.parent,e+=".datum"):r=t.group}else t.datum?(e="datum",r=t.datum):u("Invalid field reference: "+wt(t));return t.signal||(r=pt(r)?s(r).map(wt).join("]["):EN(r)),e+"["+r+"]"}function DN(t,e,n,r,i,o){const a={};(o=o||{}).encoders={$encode:a},t=function(t,e,n,r,i){const o={},a={};let u,s,l,c;for(s in s="lineBreak","text"!==e||null==i[s]||dN(s,t)||xN(o,s,i[s]),("legend"==n||String(n).startsWith("axis"))&&(n=null),c=n===gN?i.group:n===pN?K({},i.mark,i[e]):null,c)l=dN(s,t)||("fill"===s||"stroke"===s)&&(dN("fill",t)||dN("stroke",t)),l||xN(o,s,c[s]);for(s in $(r).forEach((e=>{const n=i.style&&i.style[e];for(const e in n)dN(e,t)||xN(o,e,n[e])})),t=K({},t),o)c=o[s],c.signal?(u=u||{})[s]=c:a[s]=c;return t.enter=K(a,t.enter),u&&(t.update=K(u,t.update)),t}(t,e,n,r,i.config);for(const n in t)a[n]=CN(t[n],e,o,i);return o}function CN(t,e,n,r){const i={},o={};for(const e in t)null!=t[e]&&(i[e]=FN((a=t[e],v(a)?function(t){let e="";return t.forEach((t=>{const n=wN(t);e+=t.test?"(".concat(t.test,")?").concat(n,":"):n})),":"===A(e)&&(e+="null"),e}(a):wN(a)),r,n,o));var a;return{$expr:{marktype:e,channels:i},$fields:Object.keys(o),$output:Object.keys(t)}}function FN(t,e,n,r){const i=HB(t,e);return i.$fields.forEach((t=>r[t]=1)),K(n,i.$params),i.$expr}const SN=["value","update","init","react","bind"];function BN(t,e){u(t+' for "outer" push: '+wt(e))}function TN(t,e){const n=t.name;if("outer"===t.push)e.signals[n]||BN("No prior signal definition",n),SN.forEach((e=>{void 0!==t[e]&&BN("Invalid property ",e)}));else{const r=e.addSignal(n,t.value);!1===t.react&&(r.react=!1),t.bind&&e.addBinding(n,t.bind)}}function NN(t,e,n,r){this.id=-1,this.type=t,this.value=e,this.params=n,r&&(this.parent=r)}function zN(t,e,n,r){return new NN(t,e,n,r)}function ON(t,e){return zN("operator",t,e)}function RN(t){const e={$ref:t.id};return t.id<0&&(t.refs=t.refs||[]).push(e),e}function LN(t,e){return e?{$field:t,$name:e}:{$field:t}}const UN=LN("key");function qN(t,e){return{$compare:t,$order:e}}function PN(t,e){return(t&&t.signal?"$"+t.signal:t||"")+(t&&e?"_":"")+(e&&e.signal?"$"+e.signal:e||"")}const jN="scope",IN="view";function $N(t){return t&&t.signal}function WN(t){if($N(t))return!0;if(_(t))for(const e in t)if(WN(t[e]))return!0;return!1}function HN(t,e){return null!=t?t:e}function YN(t){return t&&t.signal||t}const GN="timer";function VN(t,e){return(t.merge?XN:t.stream?JN:t.type?ZN:u("Invalid stream specification: "+wt(t)))(t,e)}function XN(t,e){const n=QN({merge:t.merge.map((t=>VN(t,e)))},t,e);return e.addStream(n).id}function JN(t,e){const n=QN({stream:VN(t.stream,e)},t,e);return e.addStream(n).id}function ZN(t,e){let n;t.type===GN?(n=e.event(GN,t.throttle),t={between:t.between,filter:t.filter}):n=e.event(function(t){return t===jN?IN:t||IN}(t.source),t.type);const r=QN({stream:n},t,e);return 1===Object.keys(r).length?n:e.addStream(r).id}function QN(t,e,n){let r=e.between;return r&&(2!==r.length&&u('Stream "between" parameter must have 2 entries: '+wt(e)),t.between=[VN(r[0],n),VN(r[1],n)]),r=e.filter?[].concat(e.filter):[],(e.marktype||e.markname||e.markrole)&&r.push(function(t,e,n){const r="event.item";return r+(t&&"*"!==t?"&&"+r+".mark.marktype==='"+t+"'":"")+(n?"&&"+r+".mark.role==='"+n+"'":"")+(e?"&&"+r+".mark.name==='"+e+"'":"")}(e.marktype,e.markname,e.markrole)),e.source===jN&&r.push("inScope(event.item)"),r.length&&(t.filter=HB("("+r.join(")&&(")+")",n).$expr),null!=(r=e.throttle)&&(t.throttle=+r),null!=(r=e.debounce)&&(t.debounce=+r),e.consume&&(t.consume=!0),t}const KN={code:"_.$value",ast:{type:"Identifier",value:"value"}};function tz(t,e,n){const r=t.encode,i={target:n};let o=t.events,a=t.update,s=[];o||u("Signal update missing events specification."),pt(o)&&(o=nN(o,e.isSubscope()?jN:IN)),o=$(o).filter((t=>t.signal||t.scale?(s.push(t),0):1)),s.length>1&&(s=[ez(s)]),o.length&&s.push(o.length>1?{merge:o}:o[0]),null!=r&&(a&&u("Signal encode and update are mutually exclusive."),a="encode(item(),"+wt(r)+")"),i.update=pt(a)?HB(a,e):null!=a.expr?HB(a.expr,e):null!=a.value?a.value:null!=a.signal?{$expr:KN,$params:{$value:e.signalRef(a.signal)}}:u("Invalid signal update specification."),t.force&&(i.options={force:!0}),s.forEach((t=>e.addUpdate(K(function(t,e){return{source:t.signal?e.signalRef(t.signal):t.scale?e.scaleRef(t.scale):VN(t,e)}}(t,e),i))))}function ez(t){return{signal:"["+t.map((t=>t.scale?'scale("'+t.scale+'")':t.signal))+"]"}}const nz=t=>(e,n,r)=>zN(t,n,e||void 0,r),rz=nz("aggregate"),iz=nz("axisticks"),oz=nz("bound"),az=nz("collect"),uz=nz("compare"),sz=nz("datajoin"),lz=nz("encode"),cz=nz("expression"),fz=nz("facet"),hz=nz("field"),dz=nz("key"),pz=nz("legendentries"),gz=nz("load"),mz=nz("mark"),yz=nz("multiextent"),vz=nz("multivalues"),_z=nz("overlap"),xz=nz("params"),bz=nz("prefacet"),wz=nz("projection"),kz=nz("proxy"),Az=nz("relay"),Mz=nz("render"),Ez=nz("scale"),Dz=nz("sieve"),Cz=nz("sortitems"),Fz=nz("viewlayout"),Sz=nz("values");let Bz=0;const Tz={min:"min",max:"max",count:"sum"};function Nz(t,e){const n=e.getScale(t.name).params;let r;for(r in n.domain=Lz(t.domain,t,e),null!=t.range&&(n.range=Hz(t,e,n)),null!=t.interpolate&&function(t,e){e.interpolate=zz(t.type||t),null!=t.gamma&&(e.interpolateGamma=zz(t.gamma))}(t.interpolate,n),null!=t.nice&&(n.nice=function(t){return _(t)?{interval:zz(t.interval),step:zz(t.step)}:zz(t)}(t.nice)),null!=t.bins&&(n.bins=function(t,e){return t.signal||v(t)?Oz(t,e):e.objectProperty(t)}(t.bins,e)),t)rt(n,r)||"name"===r||(n[r]=zz(t[r],e))}function zz(t,e){return _(t)?t.signal?e.signalRef(t.signal):u("Unsupported object: "+wt(t)):t}function Oz(t,e){return t.signal?e.signalRef(t.signal):t.map((t=>zz(t,e)))}function Rz(t){u("Can not find data set: "+wt(t))}function Lz(t,e,n){if(t)return t.signal?n.signalRef(t.signal):(v(t)?Uz:t.fields?Pz:qz)(t,e,n);null==e.domainMin&&null==e.domainMax||u("No scale domain defined for domainMin/domainMax to override.")}function Uz(t,e,n){return t.map((t=>zz(t,n)))}function qz(t,e,n){const r=n.getData(t.data);return r||Rz(t.data),jd(e.type)?r.valuesRef(n,t.field,Iz(t.sort,!1)):Hd(e.type)?r.domainRef(n,t.field):r.extentRef(n,t.field)}function Pz(t,e,n){const r=t.data,i=t.fields.reduce(((t,e)=>(e=pt(e)?{data:r,field:e}:v(e)||e.signal?function(t,e){const n="_:vega:_"+Bz++,r=az({});if(v(t))r.value={$ingest:t};else if(t.signal){const i="setdata("+wt(n)+","+t.signal+")";r.params.input=e.signalRef(i)}return e.addDataPipeline(n,[r,Dz({})]),{data:n,field:"data"}}(e,n):e,t.push(e),t)),[]);return(jd(e.type)?jz:Hd(e.type)?$z:Wz)(t,n,i)}function jz(t,e,n){const r=Iz(t.sort,!0);let i,o;const a=n.map((t=>{const n=e.getData(t.data);return n||Rz(t.data),n.countsRef(e,t.field,r)})),u={groupby:UN,pulse:a};r&&(i=r.op||"count",o=r.field?PN(i,r.field):"count",u.ops=[Tz[i]],u.fields=[e.fieldRef(o)],u.as=[o]),i=e.add(rz(u));const s=e.add(az({pulse:RN(i)}));return o=e.add(Sz({field:UN,sort:e.sortRef(r),pulse:RN(s)})),RN(o)}function Iz(t,e){return t&&(t.field||t.op?t.field||"count"===t.op?e&&t.field&&t.op&&!Tz[t.op]&&u("Multiple domain scales can not be sorted using "+t.op):u("No field provided for sort aggregate op: "+t.op):_(t)?t.field="key":t={field:"key"}),t}function $z(t,e,n){const r=n.map((t=>{const n=e.getData(t.data);return n||Rz(t.data),n.domainRef(e,t.field)}));return RN(e.add(vz({values:r})))}function Wz(t,e,n){const r=n.map((t=>{const n=e.getData(t.data);return n||Rz(t.data),n.extentRef(e,t.field)}));return RN(e.add(yz({extents:r})))}function Hz(t,e,n){const r=e.config.range;let i=t.range;if(i.signal)return e.signalRef(i.signal);if(pt(i)){if(r&&rt(r,i))return Hz(t=K({},t,{range:r[i]}),e,n);"width"===i?i=[0,{signal:"width"}]:"height"===i?i=jd(t.type)?[0,{signal:"height"}]:[{signal:"height"},0]:u("Unrecognized scale range value: "+wt(i))}else{if(i.scheme)return n.scheme=v(i.scheme)?Oz(i.scheme,e):zz(i.scheme,e),i.extent&&(n.schemeExtent=Oz(i.extent,e)),void(i.count&&(n.schemeCount=zz(i.count,e)));if(i.step)return void(n.rangeStep=zz(i.step,e));if(jd(t.type)&&!v(i))return Lz(i,t,e);v(i)||u("Unsupported range type: "+wt(i))}return i.map((t=>(v(t)?Oz:zz)(t,e)))}function Yz(t,e,n){return v(t)?t.map((t=>Yz(t,e,n))):_(t)?t.signal?n.signalRef(t.signal):"fit"===e?t:u("Unsupported parameter object: "+wt(t)):t}const Gz="top",Vz="left",Xz="right",Jz="bottom",Zz="center",Qz="index",Kz="label",tO="perc",eO="value",nO="guide-label",rO="guide-title",iO="group-title",oO="group-subtitle",aO="symbol",uO="gradient",sO="discrete",lO="size",cO=[lO,"shape","fill","stroke","strokeWidth","strokeDash","opacity"],fO={name:1,style:1,interactive:1},hO={value:0},dO={value:1},pO="group",gO="rect",mO="rule",yO="text";function vO(t){return t.type=pO,t.interactive=t.interactive||!1,t}function _O(t,e){const n=(n,r)=>HN(t[n],HN(e[n],r));return n.isVertical=n=>"vertical"===HN(t.direction,e.direction||(n?e.symbolDirection:e.gradientDirection)),n.gradientLength=()=>HN(t.gradientLength,e.gradientLength||e.gradientWidth),n.gradientThickness=()=>HN(t.gradientThickness,e.gradientThickness||e.gradientHeight),n.entryColumns=()=>HN(t.columns,HN(e.columns,+n.isVertical(!0))),n}function xO(t,e){const n=e&&(e.update&&e.update[t]||e.enter&&e.enter[t]);return n&&n.signal?n:n?n.value:null}function bO(t,e,n){return"item.anchor === '".concat("start","' ? ").concat(t," : item.anchor === '").concat("end","' ? ").concat(e," : ").concat(n)}const wO=bO(wt(Vz),wt(Xz),wt(Zz));function kO(t,e){return e?t?_(t)?Object.assign({},t,{offset:kO(t.offset,e)}):{value:t,offset:e}:e:t}function AO(t,e){return e?(t.name=e.name,t.style=e.style||t.style,t.interactive=!!e.interactive,t.encode=hN(t.encode,e,fO)):t.interactive=!1,t}function MO(t,e,n,r){const i=_O(t,n),o=i.isVertical(),a=i.gradientThickness(),u=i.gradientLength();let s,l,c,f,h;o?(l=[0,1],c=[0,0],f=a,h=u):(l=[0,0],c=[1,0],f=u,h=a);const d={enter:s={opacity:hO,x:hO,y:hO,width:lN(f),height:lN(h)},update:K({},s,{opacity:dO,fill:{gradient:e,start:l,stop:c}}),exit:{opacity:hO}};return fN(d,{stroke:i("gradientStrokeColor"),strokeWidth:i("gradientStrokeWidth")},{opacity:i("gradientOpacity")}),AO({type:gO,role:"legend-gradient",encode:d},r)}function EO(t,e,n,r,i){const o=_O(t,n),a=o.isVertical(),u=o.gradientThickness(),s=o.gradientLength();let l,c,f,h,d="";a?(l="y",f="y2",c="x",h="width",d="1-"):(l="x",f="x2",c="y",h="height");const p={opacity:hO,fill:{scale:e,field:eO}};p[l]={signal:d+"datum."+tO,mult:s},p[c]=hO,p[f]={signal:d+"datum.perc2",mult:s},p[h]=lN(u);const g={enter:p,update:K({},p,{opacity:dO}),exit:{opacity:hO}};return fN(g,{stroke:o("gradientStrokeColor"),strokeWidth:o("gradientStrokeWidth")},{opacity:o("gradientOpacity")}),AO({type:gO,role:"legend-band",key:eO,from:i,encode:g},r)}const DO="datum.".concat(tO,'<=0?"').concat(Vz,'":datum.').concat(tO,'>=1?"').concat(Xz,'":"').concat(Zz,'"'),CO="datum.".concat(tO,'<=0?"').concat(Jz,'":datum.').concat(tO,'>=1?"').concat(Gz,'":"').concat("middle",'"');function FO(t,e,n,r){const i=_O(t,e),o=i.isVertical(),a=lN(i.gradientThickness()),u=i.gradientLength();let s,l,c,f,h=i("labelOverlap"),d="";const p={enter:s={opacity:hO},update:l={opacity:dO,text:{field:Kz}},exit:{opacity:hO}};return fN(p,{fill:i("labelColor"),fillOpacity:i("labelOpacity"),font:i("labelFont"),fontSize:i("labelFontSize"),fontStyle:i("labelFontStyle"),fontWeight:i("labelFontWeight"),limit:HN(t.labelLimit,e.gradientLabelLimit)}),o?(s.align={value:"left"},s.baseline=l.baseline={signal:CO},c="y",f="x",d="1-"):(s.align=l.align={signal:DO},s.baseline={value:"top"},c="x",f="y"),s[c]=l[c]={signal:d+"datum."+tO,mult:u},s[f]=l[f]=a,a.offset=HN(t.labelOffset,e.gradientLabelOffset)||0,h=h?{separation:i("labelSeparation"),method:h,order:"datum.index"}:void 0,AO({type:yO,role:yN,style:nO,key:eO,from:r,encode:p,overlap:h},n)}function SO(t,e,n,r,i){const o=_O(t,e),a=n.entries,u=!(!a||!a.interactive),s=a?a.name:void 0,l=o("clipHeight"),c=o("symbolOffset"),f={data:"value"},h="(".concat(i,") ? datum.").concat("offset"," : datum.").concat(lO),d=l?lN(l):{field:lO},p="datum.".concat(Qz),g="max(1, ".concat(i,")");let m,y,v,_,x;d.mult=.5,m={enter:y={opacity:hO,x:{signal:h,mult:.5,offset:c},y:d},update:v={opacity:dO,x:y.x,y:y.y},exit:{opacity:hO}};let b=null,w=null;t.fill||(b=e.symbolBaseFillColor,w=e.symbolBaseStrokeColor),fN(m,{fill:o("symbolFillColor",b),shape:o("symbolType"),size:o("symbolSize"),stroke:o("symbolStrokeColor",w),strokeDash:o("symbolDash"),strokeDashOffset:o("symbolDashOffset"),strokeWidth:o("symbolStrokeWidth")},{opacity:o("symbolOpacity")}),cO.forEach((e=>{t[e]&&(v[e]=y[e]={scale:t[e],field:eO})}));const k=AO({type:"symbol",role:"legend-symbol",key:eO,from:f,clip:!!l||void 0,encode:m},n.symbols),A=lN(c);A.offset=o("labelOffset"),m={enter:y={opacity:hO,x:{signal:h,offset:A},y:d},update:v={opacity:dO,text:{field:Kz},x:y.x,y:y.y},exit:{opacity:hO}},fN(m,{align:o("labelAlign"),baseline:o("labelBaseline"),fill:o("labelColor"),fillOpacity:o("labelOpacity"),font:o("labelFont"),fontSize:o("labelFontSize"),fontStyle:o("labelFontStyle"),fontWeight:o("labelFontWeight"),limit:o("labelLimit")});const M=AO({type:yO,role:yN,style:nO,key:eO,from:f,encode:m},n.labels);return m={enter:{noBound:{value:!l},width:hO,height:l?lN(l):hO,opacity:hO},exit:{opacity:hO},update:v={opacity:dO,row:{signal:null},column:{signal:null}}},o.isVertical(!0)?(_="ceil(item.mark.items.length / ".concat(g,")"),v.row.signal="".concat(p,"%").concat(_),v.column.signal="floor(".concat(p," / ").concat(_,")"),x={field:["row",p]}):(v.row.signal="floor(".concat(p," / ").concat(g,")"),v.column.signal="".concat(p," % ").concat(g),x={field:p}),v.column.signal="(".concat(i,")?").concat(v.column.signal,":").concat(p),vO({role:mN,from:r={facet:{data:r,name:"value",groupby:Qz}},encode:hN(m,a,fO),marks:[k,M],name:s,interactive:u,sort:x})}const BO='item.orient === "left"',TO='item.orient === "right"',NO="(".concat(BO," || ").concat(TO,")"),zO="datum.vgrad && ".concat(NO),OO=bO('"top"','"bottom"','"middle"'),RO=bO('"right"','"left"','"center"'),LO="datum.vgrad && ".concat(TO," ? (").concat(RO,") : (").concat(NO," && !(datum.vgrad && ").concat(BO,')) ? "left" : ').concat(wO),UO="item._anchor || (".concat(NO,' ? "middle" : "start")'),qO="".concat(zO," ? (").concat(BO," ? -90 : 90) : 0"),PO="".concat(NO," ? (datum.vgrad ? (").concat(TO,' ? "bottom" : "top") : ').concat(OO,') : "top"');function jO(t,e){let n;return _(t)&&(t.signal?n=t.signal:t.path?n="pathShape("+IO(t.path)+")":t.sphere&&(n="geoShape("+IO(t.sphere)+', {type: "Sphere"})')),n?e.signalRef(n):!!t}function IO(t){return _(t)&&t.signal?t.signal:wt(t)}function $O(t){const e=t.role||"";return e.indexOf("axis")&&e.indexOf("legend")&&e.indexOf("title")?t.type===pO?mN:e||pN:e}function WO(t){return{marktype:t.type,name:t.name||void 0,role:t.role||$O(t),zindex:+t.zindex||void 0,aria:t.aria,description:t.description}}function HO(t,e){return t&&t.signal?e.signalRef(t.signal):!1!==t}function YO(t,e){const n=Ha(t.type);n||u("Unrecognized transform type: "+wt(t.type));const r=zN(n.type.toLowerCase(),null,GO(n,t,e));return t.signal&&e.addSignal(t.signal,e.proxy(r)),r.metadata=n.metadata||{},r}function GO(t,e,n){const r={},i=t.params.length;for(let o=0;o<i;++o){const i=t.params[o];r[i.name]=VO(i,e,n)}return r}function VO(t,e,n){const r=t.type,i=e[t.name];return"index"===r?function(t,e,n){pt(e.from)||u('Lookup "from" parameter must be a string literal.');return n.getData(e.from).lookupRef(n,e.key)}(0,e,n):void 0!==i?"param"===r?function(t,e,n){const r=e[t.name];return t.array?(v(r)||u("Expected an array of sub-parameters. Instead: "+wt(r)),r.map((e=>JO(t,e,n)))):JO(t,r,n)}(t,e,n):"projection"===r?n.projectionRef(e[t.name]):t.array&&!$N(i)?i.map((e=>XO(t,e,n))):XO(t,i,n):void(t.required&&u("Missing required "+wt(e.type)+" parameter: "+wt(t.name)))}function XO(t,e,n){const r=t.type;if($N(e))return tR(r)?u("Expression references can not be signals."):eR(r)?n.fieldRef(e):nR(r)?n.compareRef(e):n.signalRef(e.signal);{const i=t.expr||eR(r);return i&&ZO(e)?n.exprRef(e.expr,e.as):i&&QO(e)?LN(e.field,e.as):tR(r)?HB(e,n):KO(r)?RN(n.getData(e).values):eR(r)?LN(e):nR(r)?n.compareRef(e):e}}function JO(t,e,n){const r=t.params.length;let i;for(let n=0;n<r;++n){i=t.params[n];for(const t in i.key)if(i.key[t]!==e[t]){i=null;break}if(i)break}i||u("Unsupported parameter: "+wt(e));const o=K(GO(i,e,n),i.key);return RN(n.add(xz(o)))}const ZO=t=>t&&t.expr,QO=t=>t&&t.field,KO=t=>"data"===t,tR=t=>"expr"===t,eR=t=>"field"===t,nR=t=>"compare"===t;function rR(t,e){return t.$ref?t:t.data&&t.data.$ref?t.data:RN(e.getData(t.data).output)}function iR(t,e,n,r,i){this.scope=t,this.input=e,this.output=n,this.values=r,this.aggregate=i,this.index={}}function oR(t){return pt(t)?t:null}function aR(t,e,n){const r=PN(n.op,n.field);let i;if(e.ops){for(let t=0,n=e.as.length;t<n;++t)if(e.as[t]===r)return}else e.ops=["count"],e.fields=[null],e.as=["count"];n.op&&(e.ops.push((i=n.op.signal)?t.signalRef(i):n.op),e.fields.push(t.fieldRef(n.field)),e.as.push(r))}function uR(t,e,n,r,i,o,a){const u=e[n]||(e[n]={}),s=function(t){return _(t)?("descending"===t.order?"-":"+")+PN(t.op,t.field):""}(o);let l,c,f=oR(i);if(null!=f&&(t=e.scope,f+=s?"|"+s:"",l=u[f]),!l){const n=o?{field:UN,pulse:e.countsRef(t,i,o)}:{field:t.fieldRef(i),pulse:RN(e.output)};s&&(n.sort=t.sortRef(o)),c=t.add(zN(r,void 0,n)),a&&(e.index[i]=c),l=RN(c),null!=f&&(u[f]=l)}return l}function sR(t,e,n){const r=t.remove,i=t.insert,o=t.toggle,a=t.modify,u=t.values,s=e.add(ON()),l=HB("if("+t.trigger+',modify("'+n+'",'+[i,r,o,a,u].map((t=>null==t?"null":t)).join(",")+"),0)",e);s.update=l.$expr,s.params=l.$params}function lR(t,e){const n=$O(t),r=t.type===pO,i=t.from&&t.from.facet,o=t.overlap;let a,s,l,c,f,h,d,p=t.layout||n===mN||n===gN;const g=n===pN||p||i,m=function(t,e,n){let r,i,o,a,s;return t?(r=t.facet)&&(e||u("Only group marks can be faceted."),null!=r.field?a=s=rR(r,n):(t.data?s=RN(n.getData(t.data).aggregate):(o=YO(K({type:"aggregate",groupby:$(r.groupby)},r.aggregate),n),o.params.key=n.keyRef(r.groupby),o.params.pulse=rR(r,n),a=s=RN(n.add(o))),i=n.keyRef(r.groupby,!0))):a=RN(n.add(az(null,[{}]))),a||(a=rR(t,n)),{key:i,pulse:a,parent:s}}(t.from,r,e);s=e.add(sz({key:m.key||(t.key?LN(t.key):void 0),pulse:m.pulse,clean:!r}));const y=RN(s);s=l=e.add(az({pulse:y})),s=e.add(mz({markdef:WO(t),interactive:HO(t.interactive,e),clip:jO(t.clip,e),context:{$context:!0},groups:e.lookup(),parent:e.signals.parent?e.signalRef("parent"):null,index:e.markpath(),pulse:RN(s)}));const v=RN(s);s=c=e.add(lz(DN(t.encode,t.type,n,t.style,e,{mod:!1,pulse:v}))),s.params.parent=e.encode(),t.transform&&t.transform.forEach((t=>{const n=YO(t,e),r=n.metadata;(r.generates||r.changes)&&u("Mark transforms should not generate new data."),r.nomod||(c.params.mod=!0),n.params.pulse=RN(s),e.add(s=n)})),t.sort&&(s=e.add(Cz({sort:e.compareRef(t.sort),pulse:RN(s)})));const _=RN(s);(i||p)&&(p=e.add(Fz({layout:e.objectProperty(t.layout),legends:e.legends,mark:v,pulse:_})),h=RN(p));const x=e.add(oz({mark:v,pulse:h||_}));d=RN(x),r&&(g&&(a=e.operators,a.pop(),p&&a.pop()),e.pushState(_,h||d,y),i?function(t,e,n){const r=t.from.facet,i=r.name,o=rR(r,e);let a;r.name||u("Facet must have a name: "+wt(r)),r.data||u("Facet must reference a data set: "+wt(r)),r.field?a=e.add(bz({field:e.fieldRef(r.field),pulse:o})):r.groupby?a=e.add(fz({key:e.keyRef(r.groupby),group:RN(e.proxy(n.parent)),pulse:o})):u("Facet must specify groupby or field: "+wt(r));const s=e.fork(),l=s.add(az()),c=s.add(Dz({pulse:RN(l)}));s.addData(i,new iR(s,l,l,c)),s.addSignal("parent",null),a.params.subflow={$subflow:s.parse(t).toRuntime()}}(t,e,m):g?function(t,e,n){const r=e.add(bz({pulse:n.pulse})),i=e.fork();i.add(Dz()),i.addSignal("parent",null),r.params.subflow={$subflow:i.parse(t).toRuntime()}}(t,e,m):e.parse(t),e.popState(),g&&(p&&a.push(p),a.push(x))),o&&(d=function(t,e,n){const r=t.method,i=t.bound,o=t.separation,a={separation:$N(o)?n.signalRef(o.signal):o,method:$N(r)?n.signalRef(r.signal):r,pulse:e};t.order&&(a.sort=n.compareRef({field:t.order}));if(i){const t=i.tolerance;a.boundTolerance=$N(t)?n.signalRef(t.signal):+t,a.boundScale=n.scaleRef(i.scale),a.boundOrient=i.orient}return RN(n.add(_z(a)))}(o,d,e));const b=e.add(Mz({pulse:d})),w=e.add(Dz({pulse:RN(b)},void 0,e.parent()));null!=t.name&&(f=t.name,e.addData(f,new iR(e,l,b,w)),t.on&&t.on.forEach((t=>{(t.insert||t.remove||t.toggle)&&u("Marks only support modify triggers."),sR(t,e,f)})))}function cR(t,e){const n=e.config.legend,r=t.encode||{},i=_O(t,n),o=r.legend||{},a=o.name||void 0,s=o.interactive,l=o.style,c={};let f,h,d,p=0;cO.forEach((e=>t[e]?(c[e]=t[e],p=p||t[e]):0)),p||u("Missing valid scale for legend.");const g=function(t,e){let n=t.type||aO;t.type||1!==function(t){return cO.reduce(((e,n)=>e+(t[n]?1:0)),0)}(t)||!t.fill&&!t.stroke||(n=Pd(e)?uO:Id(e)?sO:aO);return n!==uO?n:Id(e)?sO:uO}(t,e.scaleType(p)),m={title:null!=t.title,scales:c,type:g,vgrad:"symbol"!==g&&i.isVertical()},y=RN(e.add(az(null,[m]))),v=RN(e.add(pz(h={type:g,scale:e.scaleRef(p),count:e.objectProperty(i("tickCount")),limit:e.property(i("symbolLimit")),values:e.objectProperty(t.values),minstep:e.property(t.tickMinStep),formatType:e.property(t.formatType),formatSpecifier:e.property(t.format)})));return g===uO?(d=[MO(t,p,n,r.gradient),FO(t,n,r.labels,v)],h.count=h.count||e.signalRef("max(2,2*floor((".concat(YN(i.gradientLength()),")/100))"))):g===sO?d=[EO(t,p,n,r.gradient,v),FO(t,n,r.labels,v)]:(f=function(t,e){const n=_O(t,e);return{align:n("gridAlign"),columns:n.entryColumns(),center:{row:!0,column:!1},padding:{row:n("rowPadding"),column:n("columnPadding")}}}(t,n),d=[SO(t,n,r,v,YN(f.columns))],h.size=function(t,e,n){const r=YN(hR("size",t,n)),i=YN(hR("strokeWidth",t,n)),o=YN(function(t,e,n){return xO("fontSize",t)||function(t,e,n){const r=e.config.style[n];return r&&r[t]}("fontSize",e,n)}(n[1].encode,e,nO));return HB("max(ceil(sqrt(".concat(r,")+").concat(i,"),").concat(o,")"),e)}(t,e,d[0].marks)),d=[vO({role:"legend-entry",from:y,encode:{enter:{x:{value:0},y:{value:0}}},marks:d,layout:f,interactive:s})],m.title&&d.push(function(t,e,n,r){const i=_O(t,e),o={enter:{opacity:hO},update:{opacity:dO,x:{field:{group:"padding"}},y:{field:{group:"padding"}}},exit:{opacity:hO}};return fN(o,{orient:i("titleOrient"),_anchor:i("titleAnchor"),anchor:{signal:UO},angle:{signal:qO},align:{signal:LO},baseline:{signal:PO},text:t.title,fill:i("titleColor"),fillOpacity:i("titleOpacity"),font:i("titleFont"),fontSize:i("titleFontSize"),fontStyle:i("titleFontStyle"),fontWeight:i("titleFontWeight"),limit:i("titleLimit"),lineHeight:i("titleLineHeight")},{align:i("titleAlign"),baseline:i("titleBaseline")}),AO({type:yO,role:"legend-title",style:rO,from:r,encode:o},n)}(t,n,r.title,y)),lR(vO({role:"legend",from:y,encode:hN(fR(i,t,n),o,fO),marks:d,aria:i("aria"),description:i("description"),zindex:i("zindex"),name:a,interactive:s,style:l}),e)}function fR(t,e,n){const r={enter:{},update:{}};return fN(r,{orient:t("orient"),offset:t("offset"),padding:t("padding"),titlePadding:t("titlePadding"),cornerRadius:t("cornerRadius"),fill:t("fillColor"),stroke:t("strokeColor"),strokeWidth:n.strokeWidth,strokeDash:n.strokeDash,x:t("legendX"),y:t("legendY"),format:e.format,formatType:e.formatType}),r}function hR(t,e,n){return e[t]?'scale("'.concat(e[t],'",datum)'):xO(t,n[0].encode)}iR.fromEntries=function(t,e){const n=e.length,r=e[n-1],i=e[n-2];let o=e[0],a=null,u=1;for(o&&"load"===o.type&&(o=e[1]),t.add(e[0]);u<n;++u)e[u].params.pulse=RN(e[u-1]),t.add(e[u]),"aggregate"===e[u].type&&(a=e[u]);return new iR(t,o,i,r,a)},iR.prototype={countsRef(t,e,n){const r=this,i=r.counts||(r.counts={}),o=oR(e);let a,u,s;return null!=o&&(t=r.scope,a=i[o]),a?n&&n.field&&aR(t,a.agg.params,n):(s={groupby:t.fieldRef(e,"key"),pulse:RN(r.output)},n&&n.field&&aR(t,s,n),u=t.add(rz(s)),a=t.add(az({pulse:RN(u)})),a={agg:u,ref:RN(a)},null!=o&&(i[o]=a)),a.ref},tuplesRef(){return RN(this.values)},extentRef(t,e){return uR(t,this,"extent","extent",e,!1)},domainRef(t,e){return uR(t,this,"domain","values",e,!1)},valuesRef(t,e,n){return uR(t,this,"vals","values",e,n||!0)},lookupRef(t,e){return uR(t,this,"lookup","tupleindex",e,!1)},indataRef(t,e){return uR(t,this,"indata","tupleindex",e,!0,!0)}};const dR='item.orient==="'.concat(Vz,'"?-90:item.orient==="').concat(Xz,'"?90:0');function pR(t,e){const n=_O(t=pt(t)?{text:t}:t,e.config.title),r=t.encode||{},i=r.group||{},o=i.name||void 0,a=i.interactive,u=i.style,s=[],l=RN(e.add(az(null,[{}])));return s.push(function(t,e,n,r){const i={value:0},o=t.text,a={enter:{opacity:i},update:{opacity:{value:1}},exit:{opacity:i}};return fN(a,{text:o,align:{signal:"item.mark.group.align"},angle:{signal:"item.mark.group.angle"},limit:{signal:"item.mark.group.limit"},baseline:"top",dx:e("dx"),dy:e("dy"),fill:e("color"),font:e("font"),fontSize:e("fontSize"),fontStyle:e("fontStyle"),fontWeight:e("fontWeight"),lineHeight:e("lineHeight")},{align:e("align"),angle:e("angle"),baseline:e("baseline")}),AO({type:yO,role:vN,style:iO,from:r,encode:a},n)}(t,n,function(t){const e=t.encode;return e&&e.title||K({name:t.name,interactive:t.interactive,style:t.style},e)}(t),l)),t.subtitle&&s.push(function(t,e,n,r){const i={value:0},o=t.subtitle,a={enter:{opacity:i},update:{opacity:{value:1}},exit:{opacity:i}};return fN(a,{text:o,align:{signal:"item.mark.group.align"},angle:{signal:"item.mark.group.angle"},limit:{signal:"item.mark.group.limit"},baseline:"top",dx:e("dx"),dy:e("dy"),fill:e("subtitleColor"),font:e("subtitleFont"),fontSize:e("subtitleFontSize"),fontStyle:e("subtitleFontStyle"),fontWeight:e("subtitleFontWeight"),lineHeight:e("subtitleLineHeight")},{align:e("align"),angle:e("angle"),baseline:e("baseline")}),AO({type:yO,role:_N,style:oO,from:r,encode:a},n)}(t,n,r.subtitle,l)),lR(vO({role:"title",from:l,encode:gR(n,i),marks:s,aria:n("aria"),description:n("description"),zindex:n("zindex"),name:o,interactive:a,style:u}),e)}function gR(t,e){const n={enter:{},update:{}};return fN(n,{orient:t("orient"),anchor:t("anchor"),align:{signal:wO},angle:{signal:dR},limit:t("limit"),frame:t("frame"),offset:t("offset")||0,padding:t("subtitlePadding")}),hN(n,e,fO)}function mR(t,e){const n=[];t.transform&&t.transform.forEach((t=>{n.push(YO(t,e))})),t.on&&t.on.forEach((n=>{sR(n,e,t.name)})),e.addDataPipeline(t.name,function(t,e,n){const r=[];let i,o,a,u,s,l=null,c=!1,f=!1;t.values?$N(t.values)||WN(t.format)?(r.push(vR(e,t)),r.push(l=yR())):r.push(l=yR({$ingest:t.values,$format:t.format})):t.url?WN(t.url)||WN(t.format)?(r.push(vR(e,t)),r.push(l=yR())):r.push(l=yR({$request:t.url,$format:t.format})):t.source&&(l=i=$(t.source).map((t=>RN(e.getData(t).output))),r.push(null));for(o=0,a=n.length;o<a;++o)u=n[o],s=u.metadata,l||s.source||r.push(l=yR()),r.push(u),s.generates&&(f=!0),s.modifies&&!f&&(c=!0),s.source?l=u:s.changes&&(l=null);i&&(a=i.length-1,r[0]=Az({derive:c,pulse:a?i:i[0]}),(c||a)&&r.splice(1,0,yR()));l||r.push(yR());return r.push(Dz({})),r}(t,e,n))}function yR(t){const e=az({},t);return e.metadata={source:!0},e}function vR(t,e){return gz({url:e.url?t.property(e.url):void 0,async:e.async?t.property(e.async):void 0,values:e.values?t.property(e.values):void 0,format:t.objectProperty(e.format)})}const _R=t=>t===Jz||t===Gz,xR=(t,e,n)=>$N(t)?ER(t.signal,e,n):t===Vz||t===Gz?e:n,bR=(t,e,n)=>$N(t)?AR(t.signal,e,n):_R(t)?e:n,wR=(t,e,n)=>$N(t)?MR(t.signal,e,n):_R(t)?n:e,kR=(t,e,n)=>$N(t)?DR(t.signal,e,n):t===Gz?{value:e}:{value:n},AR=(t,e,n)=>FR("".concat(t," === '").concat(Gz,"' || ").concat(t," === '").concat(Jz,"'"),e,n),MR=(t,e,n)=>FR("".concat(t," !== '").concat(Gz,"' && ").concat(t," !== '").concat(Jz,"'"),e,n),ER=(t,e,n)=>BR("".concat(t," === '").concat(Vz,"' || ").concat(t," === '").concat(Gz,"'"),e,n),DR=(t,e,n)=>BR("".concat(t," === '").concat(Gz,"'"),e,n),CR=(t,e,n)=>BR("".concat(t," === '").concat(Xz,"'"),e,n),FR=(t,e,n)=>(e=null!=e?lN(e):e,n=null!=n?lN(n):n,SR(e)&&SR(n)?(e=e?e.signal||wt(e.value):null,n=n?n.signal||wt(n.value):null,{signal:"".concat(t," ? (").concat(e,") : (").concat(n,")")}):[K({test:t},e)].concat(n||[])),SR=t=>null==t||1===Object.keys(t).length,BR=(t,e,n)=>({signal:"".concat(t," ? (").concat(NR(e),") : (").concat(NR(n),")")}),TR=(t,e,n,r,i)=>({signal:(null!=r?"".concat(t," === '").concat(Vz,"' ? (").concat(NR(r),") : "):"")+(null!=n?"".concat(t," === '").concat(Jz,"' ? (").concat(NR(n),") : "):"")+(null!=i?"".concat(t," === '").concat(Xz,"' ? (").concat(NR(i),") : "):"")+(null!=e?"".concat(t," === '").concat(Gz,"' ? (").concat(NR(e),") : "):"")+"(null)"}),NR=t=>$N(t)?t.signal:null==t?null:wt(t),zR=(t,e)=>{const n=t.signal;return n&&n.endsWith("(null)")?{signal:n.slice(0,-6)+e.signal}:t};function OR(t,e,n,r){let i;if(e&&rt(e,t))return e[t];if(rt(n,t))return n[t];if(t.startsWith("title")){switch(t){case"titleColor":i="fill";break;case"titleFont":case"titleFontSize":case"titleFontWeight":i=t[5].toLowerCase()+t.slice(6)}return r["guide-title"][i]}if(t.startsWith("label")){switch(t){case"labelColor":i="fill";break;case"labelFont":case"labelFontSize":i=t[5].toLowerCase()+t.slice(6)}return r["guide-label"][i]}return null}function RR(t){const e={};for(const n of t)if(n)for(const t in n)e[t]=1;return Object.keys(e)}function LR(t,e){return{scale:t.scale,range:e}}function UR(t,e,n,r,i){const o=_O(t,e),a=t.orient,u=t.gridScale,s=xR(a,1,-1),l=function(t,e){if(1===e);else if(_(t)){let n=t=K({},t);for(;null!=n.mult;){if(!_(n.mult))return n.mult=$N(e)?{signal:"(".concat(n.mult,") * (").concat(e.signal,")")}:n.mult*e,t;n=n.mult=K({},n.mult)}n.mult=e}else t=$N(e)?{signal:"(".concat(e.signal,") * (").concat(t||0,")")}:e*(t||0);return t}(t.offset,s);let c,f,h;const d={enter:c={opacity:hO},update:h={opacity:dO},exit:f={opacity:hO}};fN(d,{stroke:o("gridColor"),strokeCap:o("gridCap"),strokeDash:o("gridDash"),strokeDashOffset:o("gridDashOffset"),strokeOpacity:o("gridOpacity"),strokeWidth:o("gridWidth")});const p={scale:t.scale,field:eO,band:i.band,extra:i.extra,offset:i.offset,round:o("tickRound")},g=bR(a,{signal:"height"},{signal:"width"}),m=u?{scale:u,range:0,mult:s,offset:l}:{value:0,offset:l},y=u?{scale:u,range:1,mult:s,offset:l}:K(g,{mult:s,offset:l});return c.x=h.x=bR(a,p,m),c.y=h.y=wR(a,p,m),c.x2=h.x2=wR(a,y),c.y2=h.y2=bR(a,y),f.x=bR(a,p),f.y=wR(a,p),AO({type:mO,role:"axis-grid",key:eO,from:r,encode:d},n)}function qR(t,e,n,r,i){return{signal:'flush(range("'+t+'"), scale("'+t+'", datum.value), '+e+","+n+","+r+","+i+")"}}function PR(t,e,n,r,i,o){const a=_O(t,e),u=t.orient,s=t.scale,l=xR(u,-1,1),c=YN(a("labelFlush")),f=YN(a("labelFlushOffset")),h=a("labelAlign"),d=a("labelBaseline");let p,g=0===c||!!c;const m=lN(i);m.mult=l,m.offset=lN(a("labelPadding")||0),m.offset.mult=l;const y={scale:s,field:eO,band:.5,offset:kO(o.offset,a("labelOffset"))},v=bR(u,g?qR(s,c,'"left"','"right"','"center"'):{value:"center"},((t,e,n)=>$N(t)?CR(t.signal,e,n):t===Xz?{value:e}:{value:n})(u,"left","right")),_=bR(u,kR(u,"bottom","top"),g?qR(s,c,'"top"','"bottom"','"middle"'):{value:"middle"}),x=qR(s,c,"-(".concat(f,")"),f,0);g=g&&f;const b={opacity:hO,x:bR(u,y,m),y:wR(u,y,m)},w={enter:b,update:p={opacity:dO,text:{field:Kz},x:b.x,y:b.y,align:v,baseline:_},exit:{opacity:hO,x:b.x,y:b.y}};fN(w,{dx:!h&&g?bR(u,x):null,dy:!d&&g?wR(u,x):null}),fN(w,{angle:a("labelAngle"),fill:a("labelColor"),fillOpacity:a("labelOpacity"),font:a("labelFont"),fontSize:a("labelFontSize"),fontWeight:a("labelFontWeight"),fontStyle:a("labelFontStyle"),limit:a("labelLimit"),lineHeight:a("labelLineHeight")},{align:h,baseline:d});const k=a("labelBound");let A=a("labelOverlap");return A=A||k?{separation:a("labelSeparation"),method:A,order:"datum.index",bound:k?{scale:s,orient:u,tolerance:k}:null}:void 0,p.align!==v&&(p.align=zR(p.align,v)),p.baseline!==_&&(p.baseline=zR(p.baseline,_)),AO({type:yO,role:"axis-label",style:nO,key:eO,from:r,encode:w,overlap:A},n)}function jR(t,e,n,r){const i=_O(t,e),o=t.orient,a=xR(o,-1,1);let u,s;const l={enter:u={opacity:hO,anchor:lN(i("titleAnchor",null)),align:{signal:wO}},update:s=K({},u,{opacity:dO,text:lN(t.title)}),exit:{opacity:hO}},c={signal:'lerp(range("'.concat(t.scale,'"), ').concat(bO(0,1,.5),")")};return s.x=bR(o,c),s.y=wR(o,c),u.angle=bR(o,hO,((t,e)=>0===e?0:$N(t)?{signal:"(".concat(t.signal,") * ").concat(e)}:{value:t*e})(a,90)),u.baseline=bR(o,kR(o,Jz,Gz),{value:Jz}),s.angle=u.angle,s.baseline=u.baseline,fN(l,{fill:i("titleColor"),fillOpacity:i("titleOpacity"),font:i("titleFont"),fontSize:i("titleFontSize"),fontStyle:i("titleFontStyle"),fontWeight:i("titleFontWeight"),limit:i("titleLimit"),lineHeight:i("titleLineHeight")},{align:i("titleAlign"),angle:i("titleAngle"),baseline:i("titleBaseline")}),function(t,e,n,r){const i=(t,e)=>null!=t?(n.update[e]=zR(lN(t),n.update[e]),!1):!dN(e,r),o=i(t("titleX"),"x"),a=i(t("titleY"),"y");n.enter.auto=a===o?lN(a):bR(e,lN(a),lN(o))}(i,o,l,n),l.update.align=zR(l.update.align,u.align),l.update.angle=zR(l.update.angle,u.angle),l.update.baseline=zR(l.update.baseline,u.baseline),AO({type:yO,role:"axis-title",style:rO,from:r,encode:l},n)}function IR(t,e){const n=function(t,e){var n,r,i,o=e.config,a=o.style,u=o.axis,s="band"===e.scaleType(t.scale)&&o.axisBand,l=t.orient;if($N(l)){const t=RR([o.axisX,o.axisY]),e=RR([o.axisTop,o.axisBottom,o.axisLeft,o.axisRight]);for(i of(n={},t))n[i]=bR(l,OR(i,o.axisX,u,a),OR(i,o.axisY,u,a));for(i of(r={},e))r[i]=TR(l.signal,OR(i,o.axisTop,u,a),OR(i,o.axisBottom,u,a),OR(i,o.axisLeft,u,a),OR(i,o.axisRight,u,a))}else n=l===Gz||l===Jz?o.axisX:o.axisY,r=o["axis"+l[0].toUpperCase()+l.slice(1)];return n||r||s?K({},u,n,r,s):u}(t,e),r=t.encode||{},i=r.axis||{},o=i.name||void 0,a=i.interactive,u=i.style,s=_O(t,n),l=function(t){const e=t("tickBand");let n,r,i=t("tickOffset");return e?e.signal?(n={signal:"(".concat(e.signal,") === 'extent' ? 1 : 0.5")},r={signal:"(".concat(e.signal,") === 'extent'")},_(i)||(i={signal:"(".concat(e.signal,") === 'extent' ? 0 : ").concat(i)})):"extent"===e?(n=1,r=!0,i=0):(n=.5,r=!1):(n=t("bandPosition"),r=t("tickExtra")),{extra:r,band:n,offset:i}}(s),c={scale:t.scale,ticks:!!s("ticks"),labels:!!s("labels"),grid:!!s("grid"),domain:!!s("domain"),title:null!=t.title},f=RN(e.add(az({},[c]))),h=RN(e.add(iz({scale:e.scaleRef(t.scale),extra:e.property(l.extra),count:e.objectProperty(t.tickCount),values:e.objectProperty(t.values),minstep:e.property(t.tickMinStep),formatType:e.property(t.formatType),formatSpecifier:e.property(t.format)}))),d=[];let p;return c.grid&&d.push(UR(t,n,r.grid,h,l)),c.ticks&&(p=s("tickSize"),d.push(function(t,e,n,r,i,o){const a=_O(t,e),u=t.orient,s=xR(u,-1,1);let l,c,f;const h={enter:l={opacity:hO},update:f={opacity:dO},exit:c={opacity:hO}};fN(h,{stroke:a("tickColor"),strokeCap:a("tickCap"),strokeDash:a("tickDash"),strokeDashOffset:a("tickDashOffset"),strokeOpacity:a("tickOpacity"),strokeWidth:a("tickWidth")});const d=lN(i);d.mult=s;const p={scale:t.scale,field:eO,band:o.band,extra:o.extra,offset:o.offset,round:a("tickRound")};return f.y=l.y=bR(u,hO,p),f.y2=l.y2=bR(u,d),c.x=bR(u,p),f.x=l.x=wR(u,hO,p),f.x2=l.x2=wR(u,d),c.y=wR(u,p),AO({type:mO,role:"axis-tick",key:eO,from:r,encode:h},n)}(t,n,r.ticks,h,p,l))),c.labels&&(p=c.ticks?p:0,d.push(PR(t,n,r.labels,h,p,l))),c.domain&&d.push(function(t,e,n,r){const i=_O(t,e),o=t.orient;let a,u;const s={enter:a={opacity:hO},update:u={opacity:dO},exit:{opacity:hO}};fN(s,{stroke:i("domainColor"),strokeCap:i("domainCap"),strokeDash:i("domainDash"),strokeDashOffset:i("domainDashOffset"),strokeWidth:i("domainWidth"),strokeOpacity:i("domainOpacity")});const l=LR(t,0),c=LR(t,1);return a.x=u.x=bR(o,l,hO),a.x2=u.x2=bR(o,c),a.y=u.y=wR(o,l,hO),a.y2=u.y2=wR(o,c),AO({type:mO,role:"axis-domain",from:r,encode:s},n)}(t,n,r.domain,f)),c.title&&d.push(jR(t,n,r.title,f)),lR(vO({role:"axis",from:f,encode:hN($R(s,t),i,fO),marks:d,aria:s("aria"),description:s("description"),zindex:s("zindex"),name:o,interactive:a,style:u}),e)}function $R(t,e){const n={enter:{},update:{}};return fN(n,{orient:t("orient"),offset:t("offset")||0,position:HN(e.position,0),titlePadding:t("titlePadding"),minExtent:t("minExtent"),maxExtent:t("maxExtent"),range:{signal:'abs(span(range("'.concat(e.scale,'")))')},translate:t("translate"),format:e.format,formatType:e.formatType}),n}function WR(t,e,n){const r=$(t.signals),i=$(t.scales);return n||r.forEach((t=>TN(t,e))),$(t.projections).forEach((t=>function(t,e){const n=e.config.projection||{},r={};for(const n in t)"name"!==n&&(r[n]=Yz(t[n],n,e));for(const t in n)null==r[t]&&(r[t]=Yz(n[t],t,e));e.addProjection(t.name,r)}(t,e))),i.forEach((t=>function(t,e){const n=t.type||"linear";Ud(n)||u("Unrecognized scale type: "+wt(n)),e.addScale(t.name,{type:n,domain:void 0})}(t,e))),$(t.data).forEach((t=>mR(t,e))),i.forEach((t=>Nz(t,e))),(n||r).forEach((t=>function(t,e){const n=e.getSignal(t.name);let r=t.update;t.init&&(r?u("Signals can not include both init and update expressions."):(r=t.init,n.initonly=!0)),r&&(r=HB(r,e),n.update=r.$expr,n.params=r.$params),t.on&&t.on.forEach((t=>tz(t,e,n.id)))}(t,e))),$(t.axes).forEach((t=>IR(t,e))),$(t.marks).forEach((t=>lR(t,e))),$(t.legends).forEach((t=>cR(t,e))),t.title&&pR(t.title,e),e.parseLambdas(),e}function HR(t,e){const n=e.config,r=RN(e.root=e.add(ON())),i=function(t,e){const n=n=>HN(t[n],e[n]),r=[YR("background",n("background")),YR("autosize",aN(n("autosize"))),YR("padding",sN(n("padding"))),YR("width",n("width")||0),YR("height",n("height")||0)],i=r.reduce(((t,e)=>(t[e.name]=e,t)),{}),o={};return $(t.signals).forEach((t=>{rt(i,t.name)?t=K(i[t.name],t):r.push(t),o[t.name]=t})),$(e.signals).forEach((t=>{rt(o,t.name)||rt(i,t.name)||r.push(t)})),r}(t,n);i.forEach((t=>TN(t,e))),e.description=t.description||n.description,e.eventConfig=n.events,e.legends=e.objectProperty(n.legend&&n.legend.layout),e.locale=n.locale;const o=e.add(az()),a=e.add(lz(DN((t=>hN({enter:{x:{value:0},y:{value:0}},update:{width:{signal:"width"},height:{signal:"height"}}},t))(t.encode),pO,gN,t.style,e,{pulse:RN(o)}))),u=e.add(Fz({layout:e.objectProperty(t.layout),legends:e.legends,autosize:e.signalRef("autosize"),mark:r,pulse:RN(a)}));e.operators.pop(),e.pushState(RN(a),RN(u),null),WR(t,e,i),e.operators.push(u);let s=e.add(oz({mark:r,pulse:RN(u)}));return s=e.add(Mz({pulse:RN(s)})),s=e.add(Dz({pulse:RN(s)})),e.addData("root",new iR(e,o,o,s)),e}function YR(t,e){return e&&e.signal?{name:t,update:e.signal}:{name:t,value:e}}function GR(t,e){this.config=t||{},this.options=e||{},this.bindings=[],this.field={},this.signals={},this.lambdas={},this.scales={},this.events={},this.data={},this.streams=[],this.updates=[],this.operators=[],this.eventConfig=null,this.locale=null,this._id=0,this._subid=0,this._nextsub=[0],this._parent=[],this._encode=[],this._lookup=[],this._markpath=[]}function VR(t){this.config=t.config,this.options=t.options,this.legends=t.legends,this.field=Object.create(t.field),this.signals=Object.create(t.signals),this.lambdas=Object.create(t.lambdas),this.scales=Object.create(t.scales),this.events=Object.create(t.events),this.data=Object.create(t.data),this.streams=[],this.updates=[],this.operators=[],this._id=0,this._subid=++t._nextsub[0],this._nextsub=t._nextsub,this._parent=t._parent.slice(),this._encode=t._encode.slice(),this._lookup=t._lookup.slice(),this._markpath=t._markpath}function XR(t){return(v(t)?JR:ZR)(t)}function JR(t){const e=t.length;let n="[";for(let r=0;r<e;++r){const e=t[r];n+=(r>0?",":"")+(_(e)?e.signal||XR(e):wt(e))}return n+"]"}function ZR(t){let e,n,r="{",i=0;for(e in t)n=t[e],r+=(++i>1?",":"")+wt(e)+":"+(_(n)?n.signal||XR(n):wt(n));return r+"}"}GR.prototype=VR.prototype={parse(t){return WR(t,this)},fork(){return new VR(this)},isSubscope(){return this._subid>0},toRuntime(){return this.finish(),{description:this.description,operators:this.operators,streams:this.streams,updates:this.updates,bindings:this.bindings,eventConfig:this.eventConfig,locale:this.locale}},id(){return(this._subid?this._subid+":":0)+this._id++},add(t){return this.operators.push(t),t.id=this.id(),t.refs&&(t.refs.forEach((e=>{e.$ref=t.id})),t.refs=null),t},proxy(t){const e=t instanceof NN?RN(t):t;return this.add(kz({value:e}))},addStream(t){return this.streams.push(t),t.id=this.id(),t},addUpdate(t){return this.updates.push(t),t},finish(){let t,e;for(t in this.root&&(this.root.root=!0),this.signals)this.signals[t].signal=t;for(t in this.scales)this.scales[t].scale=t;function n(t,e,n){let r,i;t&&(r=t.data||(t.data={}),i=r[e]||(r[e]=[]),i.push(n))}for(t in this.data){e=this.data[t],n(e.input,t,"input"),n(e.output,t,"output"),n(e.values,t,"values");for(const r in e.index)n(e.index[r],t,"index:"+r)}return this},pushState(t,e,n){this._encode.push(RN(this.add(Dz({pulse:t})))),this._parent.push(e),this._lookup.push(n?RN(this.proxy(n)):null),this._markpath.push(-1)},popState(){this._encode.pop(),this._parent.pop(),this._lookup.pop(),this._markpath.pop()},parent(){return A(this._parent)},encode(){return A(this._encode)},lookup(){return A(this._lookup)},markpath(){const t=this._markpath;return++t[t.length-1]},fieldRef(t,e){if(pt(t))return LN(t,e);t.signal||u("Unsupported field reference: "+wt(t));const n=t.signal;let r=this.field[n];if(!r){const t={name:this.signalRef(n)};e&&(t.as=e),this.field[n]=r=RN(this.add(hz(t)))}return r},compareRef(t){let e=!1;const n=t=>$N(t)?(e=!0,this.signalRef(t.signal)):function(t){return t&&t.expr}(t)?(e=!0,this.exprRef(t.expr)):t,r=$(t.field).map(n),i=$(t.order).map(n);return e?RN(this.add(uz({fields:r,orders:i}))):qN(r,i)},keyRef(t,e){let n=!1;const r=this.signals;return t=$(t).map((t=>$N(t)?(n=!0,RN(r[t.signal])):t)),n?RN(this.add(dz({fields:t,flat:e}))):function(t,e){const n={$key:t};return e&&(n.$flat=!0),n}(t,e)},sortRef(t){if(!t)return t;const e=PN(t.op,t.field),n=t.order||"ascending";return n.signal?RN(this.add(uz({fields:e,orders:this.signalRef(n.signal)}))):qN(e,n)},event(t,e){const n=t+":"+e;if(!this.events[n]){const r=this.id();this.streams.push({id:r,source:t,type:e}),this.events[n]=r}return this.events[n]},hasOwnSignal(t){return rt(this.signals,t)},addSignal(t,e){this.hasOwnSignal(t)&&u("Duplicate signal name: "+wt(t));const n=e instanceof NN?e:this.add(ON(e));return this.signals[t]=n},getSignal(t){return this.signals[t]||u("Unrecognized signal name: "+wt(t)),this.signals[t]},signalRef(t){return this.signals[t]?RN(this.signals[t]):(rt(this.lambdas,t)||(this.lambdas[t]=this.add(ON(null))),RN(this.lambdas[t]))},parseLambdas(){const t=Object.keys(this.lambdas);for(let e=0,n=t.length;e<n;++e){const n=t[e],r=HB(n,this),i=this.lambdas[n];i.params=r.$params,i.update=r.$expr}},property(t){return t&&t.signal?this.signalRef(t.signal):t},objectProperty(t){return t&&_(t)?this.signalRef(t.signal||XR(t)):t},exprRef(t,e){const n={expr:HB(t,this)};return e&&(n.expr.$name=e),RN(this.add(cz(n)))},addBinding(t,e){this.bindings||u("Nested signals do not support binding: "+wt(t)),this.bindings.push(K({signal:t},e))},addScaleProj(t,e){rt(this.scales,t)&&u("Duplicate scale or projection name: "+wt(t)),this.scales[t]=this.add(e)},addScale(t,e){this.addScaleProj(t,Ez(e))},addProjection(t,e){this.addScaleProj(t,wz(e))},getScale(t){return this.scales[t]||u("Unrecognized scale name: "+wt(t)),this.scales[t]},scaleRef(t){return RN(this.getScale(t))},scaleType(t){return this.getScale(t).params.type},projectionRef(t){return this.scaleRef(t)},projectionType(t){return this.scaleType(t)},addData(t,e){return rt(this.data,t)&&u("Duplicate data set name: "+wt(t)),this.data[t]=e},getData(t){return this.data[t]||u("Undefined data set name: "+wt(t)),this.data[t]},addDataPipeline(t,e){return rt(this.data,t)&&u("Duplicate data set name: "+wt(t)),this.addData(t,iR.fromEntries(this,e))}},K(Wa,ll,mx,Gx,UM,LE,wC,tC,DC,aF,xF,FF),t.Bounds=kg,t.CanvasHandler=tv,t.CanvasRenderer=ov,t.DATE=Pn,t.DAY=jn,t.DAYOFYEAR=In,t.Dataflow=ja,t.Debug=4,t.Error=1,t.EventStream=Ea,t.Gradient=Dp,t.GroupItem=Mg,t.HOURS=$n,t.Handler=Ry,t.Info=3,t.Item=Ag,t.MILLISECONDS=Yn,t.MINUTES=Wn,t.MONTH=Un,t.Marks=xy,t.MultiPulse=Ra,t.None=0,t.Operator=ka,t.Parameters=xa,t.Pulse=Ta,t.QUARTER=Ln,t.RenderType=Xv,t.Renderer=Uy,t.ResourceLoader=Eg,t.SECONDS=Hn,t.SVGHandler=uv,t.SVGRenderer=Tv,t.SVGStringRenderer=Yv,t.Scenegraph=Cy,t.TIME_UNITS=Gn,t.Transform=$a,t.View=HT,t.WEEK=qn,t.Warn=2,t.YEAR=Rn,t.accessor=e,t.accessorFields=r,t.accessorName=n,t.array=$,t.ascending=G,t.bandwidthNRD=Ja,t.bin=Za,t.bootstrapCI=Qa,t.boundClip=r_,t.boundContext=Gg,t.boundItem=by,t.boundMark=ky,t.boundStroke=Fg,t.changeset=va,t.clampRange=W,t.codegenExpression=XS,t.compare=Y,t.constant=Z,t.cumulativeLogNormal=fu,t.cumulativeNormal=ou,t.cumulativeUniform=yu,t.dayofyear=tr,t.debounce=Q,t.defaultLocale=To,t.definition=Ha,t.densityLogNormal=cu,t.densityNormal=iu,t.densityUniform=mu,t.domChild=Ty,t.domClear=Ny,t.domCreate=Sy,t.domFind=By,t.dotbin=Ka,t.error=u,t.expressionFunction=WB,t.extend=K,t.extent=tt,t.extentIndex=et,t.falsy=g,t.fastmap=ot,t.field=l,t.flush=at,t.font=hy,t.fontFamily=fy,t.fontSize=ay,t.format=ta,t.formatLocale=Ao,t.formats=ea,t.hasOwnProperty=rt,t.id=c,t.identity=f,t.inferType=Go,t.inferTypes=Vo,t.ingest=ha,t.inherits=ut,t.inrange=st,t.interpolate=Zd,t.interpolateColors=Vd,t.interpolateRange=Gd,t.intersect=Qv,t.intersectBoxLine=im,t.intersectPath=tm,t.intersectPoint=em,t.intersectRule=rm,t.isArray=v,t.isBoolean=lt,t.isDate=ct,t.isFunction=H,t.isIterable=ft,t.isNumber=ht,t.isObject=_,t.isRegExp=dt,t.isString=pt,t.isTuple=la,t.key=gt,t.lerp=mt,t.lineHeight=uy,t.loader=ia,t.locale=Bo,t.logger=y,t.lruCache=yt,t.markup=Av,t.merge=vt,t.mergeConfig=b,t.multiLineOffset=ly,t.one=d,t.pad=xt,t.panLinear=T,t.panLog=N,t.panPow=z,t.panSymlog=O,t.parse=function(t,e,n){return _(t)||u("Input Vega specification must be an object."),HR(t,new GR(e=b(function(){const t="sans-serif",e="#4c78a8",n="#000",r="#888",i="#ddd";return{description:"Vega visualization",padding:0,autosize:"pad",background:null,events:{defaults:{allow:["wheel"]}},group:null,mark:null,arc:{fill:e},area:{fill:e},image:null,line:{stroke:e,strokeWidth:2},path:{stroke:e},rect:{fill:e},rule:{stroke:n},shape:{stroke:e},symbol:{fill:e,size:64},text:{fill:n,font:t,fontSize:11},trail:{fill:e,size:2},style:{"guide-label":{fill:n,font:t,fontSize:10},"guide-title":{fill:n,font:t,fontSize:11,fontWeight:"bold"},"group-title":{fill:n,font:t,fontSize:13,fontWeight:"bold"},"group-subtitle":{fill:n,font:t,fontSize:12},point:{size:30,strokeWidth:2,shape:"circle"},circle:{size:30,strokeWidth:2},square:{size:30,strokeWidth:2,shape:"square"},cell:{fill:"transparent",stroke:i}},title:{orient:"top",anchor:"middle",offset:4,subtitlePadding:3},axis:{minExtent:0,maxExtent:200,bandPosition:.5,domain:!0,domainWidth:1,domainColor:r,grid:!1,gridWidth:1,gridColor:i,labels:!0,labelAngle:0,labelLimit:180,labelOffset:0,labelPadding:2,ticks:!0,tickColor:r,tickOffset:0,tickRound:!0,tickSize:5,tickWidth:1,titlePadding:4},axisBand:{tickOffset:-.5},projection:{type:"mercator"},legend:{orient:"right",padding:0,gridAlign:"each",columnPadding:10,rowPadding:2,symbolDirection:"vertical",gradientDirection:"vertical",gradientLength:200,gradientThickness:16,gradientStrokeColor:i,gradientStrokeWidth:0,gradientLabelOffset:2,labelAlign:"left",labelBaseline:"middle",labelLimit:160,labelOffset:4,labelOverlap:!0,symbolLimit:30,symbolType:"circle",symbolSize:100,symbolOffset:0,symbolStrokeWidth:1.5,symbolBaseFillColor:"transparent",symbolBaseStrokeColor:r,titleLimit:180,titleOrient:"top",titlePadding:5,layout:{offset:18,direction:"horizontal",left:{direction:"vertical"},right:{direction:"vertical"}}},range:{category:{scheme:"tableau10"},ordinal:{scheme:"blues"},heatmap:{scheme:"yellowgreenblue"},ramp:{scheme:"blues"},diverging:{scheme:"blueorange",extent:[1,0]},symbol:["circle","square","triangle-up","cross","diamond","triangle-right","triangle-down","triangle-left"]}}}(),e,t.config),n)).toRuntime()},t.parseExpression=YS,t.parseSelector=nN,t.path=gl,t.pathCurves=Fp,t.pathEqual=o_,t.pathParse=Op,t.pathRectangle=og,t.pathRender=Yp,t.pathSymbols=Jp,t.pathTrail=ag,t.peek=A,t.point=Oy,t.projection=aM,t.quantileLogNormal=hu,t.quantileNormal=au,t.quantileUniform=vu,t.quantiles=Va,t.quantizeInterpolator=Xd,t.quarter=j,t.quartiles=Xa,t.randomInteger=function(e,n){let r,i,o;null==n&&(n=e,e=0);const a={min(t){return arguments.length?(r=t||0,o=i-r,a):r},max(t){return arguments.length?(i=t||0,o=i-r,a):i},sample:()=>r+Math.floor(o*t.random()),pdf:t=>t===Math.floor(t)&&t>=r&&t<i?1/o:0,cdf(t){const e=Math.floor(t);return e<r?0:e>=i?1:(e-r+1)/o},icdf:t=>t>=0&&t<=1?r-1+Math.floor(t*o):NaN};return a.min(e).max(n)},t.randomKDE=su,t.randomLCG=function(t){return function(){return(t=(1103515245*t+12345)%2147483647)/2147483647}},t.randomLogNormal=du,t.randomMixture=pu,t.randomNormal=uu,t.randomUniform=_u,t.read=ra,t.regressionExp=Eu,t.regressionLinear=Au,t.regressionLoess=Bu,t.regressionLog=Mu,t.regressionPoly=Fu,t.regressionPow=Du,t.regressionQuad=Cu,t.renderModule=Zv,t.repeat=_t,t.resetDefaultLocale=function(){return wo(),Do(),To()},t.resetSVGClipId=bg,t.resetSVGDefIds=function(){bg(),wp=0},t.responseType=na,t.runtimeContext=tT,t.sampleCurve=Ou,t.sampleLogNormal=lu,t.sampleNormal=ru,t.sampleUniform=gu,t.scale=Ld,t.sceneEqual=i_,t.sceneFromJSON=Ey,t.scenePickVisit=gm,t.sceneToJSON=My,t.sceneVisit=pm,t.sceneZOrder=dm,t.scheme=ep,t.serializeXML=Mv,t.setRandom=function(e){t.random=e},t.span=bt,t.splitAccessPath=s,t.stringValue=wt,t.textMetrics=ty,t.timeBin=Wr,t.timeFloor=mr,t.timeFormatLocale=Fo,t.timeInterval=wr,t.timeOffset=Mr,t.timeSequence=Cr,t.timeUnitSpecifier=Zn,t.timeUnits=Xn,t.toBoolean=kt,t.toDate=Mt,t.toNumber=M,t.toSet=Dt,t.toString=Et,t.transform=Ya,t.transforms=Wa,t.truncate=Ct,t.truthy=p,t.tupleid=ca,t.typeParsers=Wo,t.utcFloor=_r,t.utcInterval=kr,t.utcOffset=Er,t.utcSequence=Fr,t.utcdayofyear=ar,t.utcquarter=I,t.utcweek=ur,t.version="5.22.1",t.visitArray=Ft,t.week=er,t.writeConfig=w,t.zero=h,t.zoomLinear=L,t.zoomLog=U,t.zoomPow=q,t.zoomSymlog=P,Object.defineProperty(t,"__esModule",{value:!0})}));
//# sourceMappingURL=vega.min.js.map
</script><script type="text/javascript">!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("vega")):"function"==typeof define&&define.amd?define(["exports","vega"],t):t((e="undefined"!=typeof globalThis?globalThis:e||self).vegaLite={},e.vega)}(this,(function(e,t){"use strict";var n="5.5.0",i={exports:{}};!function(e){var t=function(){function e(e,t){return null!=t&&e instanceof t}var t,n,i;try{t=Map}catch(e){t=function(){}}try{n=Set}catch(e){n=function(){}}try{i=Promise}catch(e){i=function(){}}function r(o,s,l,c,u){"object"==typeof s&&(l=s.depth,c=s.prototype,u=s.includeNonEnumerable,s=s.circular);var f=[],d=[],p="undefined"!=typeof Buffer;return void 0===s&&(s=!0),void 0===l&&(l=1/0),function o(l,m){if(null===l)return null;if(0===m)return l;var g,h;if("object"!=typeof l)return l;if(e(l,t))g=new t;else if(e(l,n))g=new n;else if(e(l,i))g=new i((function(e,t){l.then((function(t){e(o(t,m-1))}),(function(e){t(o(e,m-1))}))}));else if(r.__isArray(l))g=[];else if(r.__isRegExp(l))g=new RegExp(l.source,a(l)),l.lastIndex&&(g.lastIndex=l.lastIndex);else if(r.__isDate(l))g=new Date(l.getTime());else{if(p&&Buffer.isBuffer(l))return g=Buffer.allocUnsafe?Buffer.allocUnsafe(l.length):new Buffer(l.length),l.copy(g),g;e(l,Error)?g=Object.create(l):void 0===c?(h=Object.getPrototypeOf(l),g=Object.create(h)):(g=Object.create(c),h=c)}if(s){var y=f.indexOf(l);if(-1!=y)return d[y];f.push(l),d.push(g)}for(var v in e(l,t)&&l.forEach((function(e,t){var n=o(t,m-1),i=o(e,m-1);g.set(n,i)})),e(l,n)&&l.forEach((function(e){var t=o(e,m-1);g.add(t)})),l){var b;h&&(b=Object.getOwnPropertyDescriptor(h,v)),b&&null==b.set||(g[v]=o(l[v],m-1))}if(Object.getOwnPropertySymbols){var x=Object.getOwnPropertySymbols(l);for(v=0;v<x.length;v++){var w=x[v];(!(k=Object.getOwnPropertyDescriptor(l,w))||k.enumerable||u)&&(g[w]=o(l[w],m-1),k.enumerable||Object.defineProperty(g,w,{enumerable:!1}))}}if(u){var $=Object.getOwnPropertyNames(l);for(v=0;v<$.length;v++){var k,S=$[v];(k=Object.getOwnPropertyDescriptor(l,S))&&k.enumerable||(g[S]=o(l[S],m-1),Object.defineProperty(g,S,{enumerable:!1}))}}return g}(o,l)}function o(e){return Object.prototype.toString.call(e)}function a(e){var t="";return e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),t}return r.clonePrototype=function(e){if(null===e)return null;var t=function(){};return t.prototype=e,new t},r.__objToStr=o,r.__isDate=function(e){return"object"==typeof e&&"[object Date]"===o(e)},r.__isArray=function(e){return"object"==typeof e&&"[object Array]"===o(e)},r.__isRegExp=function(e){return"object"==typeof e&&"[object RegExp]"===o(e)},r.__getRegExpFlags=a,r}();e.exports&&(e.exports=t)}(i);var r=function(e,t){t||(t={}),"function"==typeof t&&(t={cmp:t});var n,i="boolean"==typeof t.cycles&&t.cycles,r=t.cmp&&(n=t.cmp,function(e){return function(t,i){var r={key:t,value:e[t]},o={key:i,value:e[i]};return n(r,o)}}),o=[];return function e(t){if(t&&t.toJSON&&"function"==typeof t.toJSON&&(t=t.toJSON()),void 0!==t){if("number"==typeof t)return isFinite(t)?""+t:"null";if("object"!=typeof t)return JSON.stringify(t);var n,a;if(Array.isArray(t)){for(a="[",n=0;n<t.length;n++)n&&(a+=","),a+=e(t[n])||"null";return a+"]"}if(null===t)return"null";if(-1!==o.indexOf(t)){if(i)return JSON.stringify("__cycle__");throw new TypeError("Converting circular structure to JSON")}var s=o.push(t)-1,l=Object.keys(t).sort(r&&r(t));for(a="",n=0;n<l.length;n++){var c=l[n],u=e(t[c]);u&&(a&&(a+=","),a+=JSON.stringify(c)+":"+u)}return o.splice(s,1),"{"+a+"}"}}(e)};function o(e){return!!e.or}function a(e){return!!e.and}function s(e){return!!e.not}function l(e,t){if(s(e))l(e.not,t);else if(a(e))for(const n of e.and)l(n,t);else if(o(e))for(const n of e.or)l(n,t);else t(e)}function c(e,t){return s(e)?{not:c(e.not,t)}:a(e)?{and:e.and.map((e=>c(e,t)))}:o(e)?{or:e.or.map((e=>c(e,t)))}:t(e)}const u=function e(t,n){if(t===n)return!0;if(t&&n&&"object"==typeof t&&"object"==typeof n){if(t.constructor!==n.constructor)return!1;var i,r,o;if(Array.isArray(t)){if((i=t.length)!=n.length)return!1;for(r=i;0!=r--;)if(!e(t[r],n[r]))return!1;return!0}if(t.constructor===RegExp)return t.source===n.source&&t.flags===n.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===n.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===n.toString();if((i=(o=Object.keys(t)).length)!==Object.keys(n).length)return!1;for(r=i;0!=r--;)if(!Object.prototype.hasOwnProperty.call(n,o[r]))return!1;for(r=i;0!=r--;){var a=o[r];if(!e(t[a],n[a]))return!1}return!0}return t!=t&&n!=n},f=i.exports;function d(e){throw new Error(e)}function p(e,n){const i={};for(const r of n)t.hasOwnProperty(e,r)&&(i[r]=e[r]);return i}function m(e,t){const n={...e};for(const e of t)delete n[e];return n}Set.prototype.toJSON=function(){return`Set(${[...this].map((e=>r(e))).join(",")})`};const g=r;function h(e){if(t.isNumber(e))return e;const n=t.isString(e)?e:r(e);if(n.length<250)return n;let i=0;for(let e=0;e<n.length;e++){i=(i<<5)-i+n.charCodeAt(e),i&=i}return i}function y(e){return!1===e||null===e}function v(e,t){return e.includes(t)}function b(e,t){let n=0;for(const[i,r]of e.entries())if(t(r,i,n++))return!0;return!1}function x(e,t){let n=0;for(const[i,r]of e.entries())if(!t(r,i,n++))return!1;return!0}function w(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];for(const t of n)$(e,t??{});return e}function $(e,n){for(const i of _(n))t.writeConfig(e,i,n[i],!0)}function k(e,t){const n=[],i={};let r;for(const o of e)r=t(o),r in i||(i[r]=1,n.push(o));return n}function S(e,t){if(e.size!==t.size)return!1;for(const n of e)if(!t.has(n))return!1;return!0}function D(e,t){for(const n of e)if(t.has(n))return!0;return!1}function F(e){const n=new Set;for(const i of e){const e=t.splitAccessPath(i).map(((e,t)=>0===t?e:`[${e}]`)),r=e.map(((t,n)=>e.slice(0,n+1).join("")));for(const e of r)n.add(e)}return n}function z(e,t){return void 0===e||void 0===t||D(F(e),F(t))}function O(e){return 0===_(e).length}const _=Object.keys,C=Object.values,N=Object.entries;function P(e){return!0===e||!1===e}function j(e){const t=e.replace(/\W/g,"_");return(e.match(/^\d+/)?"_":"")+t}function A(e,t){return s(e)?`!(${A(e.not,t)})`:a(e)?`(${e.and.map((e=>A(e,t))).join(") && (")})`:o(e)?`(${e.or.map((e=>A(e,t))).join(") || (")})`:t(e)}function E(e,t){if(0===t.length)return!0;const n=t.shift();return n in e&&E(e[n],t)&&delete e[n],O(e)}function T(e){return e.charAt(0).toUpperCase()+e.substr(1)}function M(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"datum";const i=t.splitAccessPath(e),r=[];for(let e=1;e<=i.length;e++){const o=`[${i.slice(0,e).map(t.stringValue).join("][")}]`;r.push(`${n}${o}`)}return r.join(" && ")}function L(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"datum";return`${n}[${t.stringValue(t.splitAccessPath(e).join("."))}]`}function q(e){return e.replace(/(\[|\]|\.|'|")/g,"\\$1")}function W(e){return`${t.splitAccessPath(e).map(q).join("\\.")}`}function R(e,t,n){return e.replace(new RegExp(t.replace(/[-/\\^$*+?.()|[\]{}]/g,"\\$&"),"g"),n)}function U(e){return`${t.splitAccessPath(e).join(".")}`}function B(e){return e?t.splitAccessPath(e).length:0}function I(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];for(const e of t)if(void 0!==e)return e}let H=42;function V(e){const t=++H;return e?String(e)+t:t}function G(e){return Y(e)?e:`__${e}`}function Y(e){return e.startsWith("__")}function X(e){if(void 0!==e)return(e%360+360)%360}function J(e){return!!t.isNumber(e)||!isNaN(e)&&!isNaN(parseFloat(e))}const Q="row",K="column",Z="facet",ee="x",te="y",ne="x2",ie="y2",re="xOffset",oe="yOffset",ae="radius",se="radius2",le="theta",ce="theta2",ue="latitude",fe="longitude",de="latitude2",pe="longitude2",me="color",ge="fill",he="stroke",ye="shape",ve="size",be="angle",xe="opacity",we="fillOpacity",$e="strokeOpacity",ke="strokeWidth",Se="strokeDash",De="text",Fe="order",ze="detail",Oe="key",_e="tooltip",Ce="href",Ne="url",Pe="description",je={theta:1,theta2:1,radius:1,radius2:1};function Ae(e){return e in je}const Ee={longitude:1,longitude2:1,latitude:1,latitude2:1};const Te=_(Ee),Me={x:1,y:1,x2:1,y2:1,...je,...Ee,xOffset:1,yOffset:1,color:1,fill:1,stroke:1,opacity:1,fillOpacity:1,strokeOpacity:1,strokeWidth:1,strokeDash:1,size:1,angle:1,shape:1,order:1,text:1,detail:1,key:1,tooltip:1,href:1,url:1,description:1};function Le(e){return e===me||e===ge||e===he}const qe={row:1,column:1,facet:1},We=_(qe),Re={...Me,...qe},Ue=_(Re),{order:Be,detail:Ie,tooltip:He,...Ve}=Re,{row:Ge,column:Ye,facet:Xe,...Je}=Ve;function Qe(e){return!!Re[e]}const Ke=[ne,ie,de,pe,ce,se];function Ze(e){return et(e)!==e}function et(e){switch(e){case ne:return ee;case ie:return te;case de:return ue;case pe:return fe;case ce:return le;case se:return ae}return e}function tt(e){if(Ae(e))switch(e){case le:return"startAngle";case ce:return"endAngle";case ae:return"outerRadius";case se:return"innerRadius"}return e}function nt(e){switch(e){case ee:return ne;case te:return ie;case ue:return de;case fe:return pe;case le:return ce;case ae:return se}}function it(e){switch(e){case ee:case ne:return"width";case te:case ie:return"height"}}function rt(e){switch(e){case ee:return"xOffset";case te:return"yOffset"}}function ot(e){switch(e){case"xOffset":return"x";case"yOffset":return"y"}}const at=_(Me),{x:st,y:lt,x2:ct,y2:ut,xOffset:ft,yOffset:dt,latitude:pt,longitude:mt,latitude2:gt,longitude2:ht,theta:yt,theta2:vt,radius:bt,radius2:xt,...wt}=Me,$t=_(wt),kt={x:1,y:1},St=_(kt);function Dt(e){return e in kt}const Ft={theta:1,radius:1},zt=_(Ft);function Ot(e){return"width"===e?ee:te}const _t={xOffset:1,yOffset:1};function Ct(e){return e in _t}const{text:Nt,tooltip:Pt,href:jt,url:At,description:Et,detail:Tt,key:Mt,order:Lt,...qt}=wt,Wt=_(qt);const Rt={...kt,...Ft,..._t,...qt},Ut=_(Rt);function Bt(e){return!!Rt[e]}function It(e,t){return function(e){switch(e){case me:case ge:case he:case Pe:case ze:case Oe:case _e:case Ce:case Fe:case xe:case we:case $e:case ke:case Z:case Q:case K:return Ht;case ee:case te:case re:case oe:case ue:case fe:return Gt;case ne:case ie:case de:case pe:return{area:"always",bar:"always",image:"always",rect:"always",rule:"always",circle:"binned",point:"binned",square:"binned",tick:"binned",line:"binned",trail:"binned"};case ve:return{point:"always",tick:"always",rule:"always",circle:"always",square:"always",bar:"always",text:"always",line:"always",trail:"always"};case Se:return{line:"always",point:"always",tick:"always",rule:"always",circle:"always",square:"always",bar:"always",geoshape:"always"};case ye:return{point:"always",geoshape:"always"};case De:return{text:"always"};case be:return{point:"always",square:"always",text:"always"};case Ne:return{image:"always"};case le:case ae:return{text:"always",arc:"always"};case ce:case se:return{arc:"always"}}}(e)[t]}const Ht={arc:"always",area:"always",bar:"always",circle:"always",geoshape:"always",image:"always",line:"always",rule:"always",point:"always",rect:"always",square:"always",trail:"always",text:"always",tick:"always"},{geoshape:Vt,...Gt}=Ht;function Yt(e){switch(e){case ee:case te:case le:case ae:case re:case oe:case ve:case be:case ke:case xe:case we:case $e:case ne:case ie:case ce:case se:return;case Z:case Q:case K:case ye:case Se:case De:case _e:case Ce:case Ne:case Pe:return"discrete";case me:case ge:case he:return"flexible";case ue:case fe:case de:case pe:case ze:case Oe:case Fe:return}}const Xt={argmax:1,argmin:1,average:1,count:1,distinct:1,product:1,max:1,mean:1,median:1,min:1,missing:1,q1:1,q3:1,ci0:1,ci1:1,stderr:1,stdev:1,stdevp:1,sum:1,valid:1,values:1,variance:1,variancep:1},Jt={count:1,min:1,max:1};function Qt(e){return!!e&&!!e.argmin}function Kt(e){return!!e&&!!e.argmax}function Zt(e){return t.isString(e)&&!!Xt[e]}const en=new Set(["count","valid","missing","distinct"]);function tn(e){return t.isString(e)&&en.has(e)}const nn=new Set(["count","sum","distinct","valid","missing"]),rn=new Set(["mean","average","median","q1","q3","min","max"]);function on(e){return t.isBoolean(e)&&(e=Ta(e,void 0)),"bin"+_(e).map((t=>cn(e[t])?j(`_${t}_${N(e[t])}`):j(`_${t}_${e[t]}`))).join("")}function an(e){return!0===e||ln(e)&&!e.binned}function sn(e){return"binned"===e||ln(e)&&!0===e.binned}function ln(e){return t.isObject(e)}function cn(e){return null==e?void 0:e.param}function un(e){switch(e){case Q:case K:case ve:case me:case ge:case he:case ke:case xe:case we:case $e:case ye:return 6;case Se:return 4;default:return 10}}function fn(e){return!(null==e||!e.expr)}function dn(e){const t=_(e||{}),n={};for(const i of t)n[i]=$n(e[i]);return n}function pn(e){const{anchor:t,frame:n,offset:i,orient:r,angle:o,limit:a,color:s,subtitleColor:l,subtitleFont:c,subtitleFontSize:u,subtitleFontStyle:f,subtitleFontWeight:d,subtitleLineHeight:m,subtitlePadding:g,...h}=e,y={...t?{anchor:t}:{},...n?{frame:n}:{},...i?{offset:i}:{},...r?{orient:r}:{},...void 0!==o?{angle:o}:{},...void 0!==a?{limit:a}:{}},v={...l?{subtitleColor:l}:{},...c?{subtitleFont:c}:{},...u?{subtitleFontSize:u}:{},...f?{subtitleFontStyle:f}:{},...d?{subtitleFontWeight:d}:{},...m?{subtitleLineHeight:m}:{},...g?{subtitlePadding:g}:{}};return{titleMarkConfig:{...h,...s?{fill:s}:{}},subtitleMarkConfig:p(e,["align","baseline","dx","dy","limit"]),nonMarkTitleProperties:y,subtitle:v}}function mn(e){return t.isString(e)||t.isArray(e)&&t.isString(e[0])}function gn(e){return!(null==e||!e.signal)}function hn(e){return!!e.step}function yn(e){return!t.isArray(e)&&("field"in e&&"data"in e)}const vn=_({aria:1,description:1,ariaRole:1,ariaRoleDescription:1,blend:1,opacity:1,fill:1,fillOpacity:1,stroke:1,strokeCap:1,strokeWidth:1,strokeOpacity:1,strokeDash:1,strokeDashOffset:1,strokeJoin:1,strokeOffset:1,strokeMiterLimit:1,startAngle:1,endAngle:1,padAngle:1,innerRadius:1,outerRadius:1,size:1,shape:1,interpolate:1,tension:1,orient:1,align:1,baseline:1,text:1,dir:1,dx:1,dy:1,ellipsis:1,limit:1,radius:1,theta:1,angle:1,font:1,fontSize:1,fontWeight:1,fontStyle:1,lineBreak:1,lineHeight:1,cursor:1,href:1,tooltip:1,cornerRadius:1,cornerRadiusTopLeft:1,cornerRadiusTopRight:1,cornerRadiusBottomLeft:1,cornerRadiusBottomRight:1,aspect:1,width:1,height:1,url:1,smooth:1}),bn={arc:1,area:1,group:1,image:1,line:1,path:1,rect:1,rule:1,shape:1,symbol:1,text:1,trail:1},xn=["cornerRadius","cornerRadiusTopLeft","cornerRadiusTopRight","cornerRadiusBottomLeft","cornerRadiusBottomRight"];function wn(e){const n=t.isArray(e.condition)?e.condition.map(kn):kn(e.condition);return{...$n(e),condition:n}}function $n(e){if(fn(e)){const{expr:t,...n}=e;return{signal:t,...n}}return e}function kn(e){if(fn(e)){const{expr:t,...n}=e;return{signal:t,...n}}return e}function Sn(e){if(fn(e)){const{expr:t,...n}=e;return{signal:t,...n}}return gn(e)?e:void 0!==e?{value:e}:void 0}function Dn(e){return gn(e)?e.signal:t.stringValue(e.value)}function Fn(e){return gn(e)?e.signal:null==e?null:t.stringValue(e)}function zn(e,t,n){for(const i of n){const n=Cn(i,t.markDef,t.config);void 0!==n&&(e[i]=Sn(n))}return e}function On(e){return[].concat(e.type,e.style??[])}function _n(e,t,n){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};const{vgChannel:r,ignoreVgConfig:o}=i;return r&&void 0!==t[r]?t[r]:void 0!==t[e]?t[e]:!o||r&&r!==e?Cn(e,t,n,i):void 0}function Cn(e,t,n){let{vgChannel:i}=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return I(i?Nn(e,t,n.style):void 0,Nn(e,t,n.style),i?n[t.type][i]:void 0,n[t.type][e],i?n.mark[i]:n.mark[e])}function Nn(e,t,n){return Pn(e,On(t),n)}function Pn(e,n,i){let r;n=t.array(n);for(const t of n){const n=i[t];n&&void 0!==n[e]&&(r=n[e])}return r}function jn(e,n){return t.array(e).reduce(((e,t)=>(e.field.push(ba(t,n)),e.order.push(t.sort??"ascending"),e)),{field:[],order:[]})}function An(e,t){const n=[...e];return t.forEach((e=>{for(const t of n)if(u(t,e))return;n.push(e)})),n}function En(e,n){return u(e,n)||!n?e:e?[...t.array(e),...t.array(n)].join(", "):n}function Tn(e,t){const n=e.value,i=t.value;if(null==n||null===i)return{explicit:e.explicit,value:null};if((mn(n)||gn(n))&&(mn(i)||gn(i)))return{explicit:e.explicit,value:En(n,i)};if(mn(n)||gn(n))return{explicit:e.explicit,value:n};if(mn(i)||gn(i))return{explicit:e.explicit,value:i};if(!(mn(n)||gn(n)||mn(i)||gn(i)))return{explicit:e.explicit,value:An(n,i)};throw new Error("It should never reach here")}function Mn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ln(e,t,n){return function(e,t,n){if(t.set)t.set.call(e,n);else{if(!t.writable)throw new TypeError("attempted to set read only private field");t.value=n}}(e,qn(e,t,"set"),n),n}function qn(e,t,n){if(!t.has(e))throw new TypeError("attempted to "+n+" private field on non-instance");return t.get(e)}function Wn(e,t,n){!function(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}(e,t),t.set(e,n)}function Rn(e){return`Invalid specification ${g(e)}. Make sure the specification includes at least one of the following properties: "mark", "layer", "facet", "hconcat", "vconcat", "concat", or "repeat".`}const Un='Autosize "fit" only works for single views and layered views.';function Bn(e){return`${"width"==e?"Width":"Height"} "container" only works for single views and layered views.`}function In(e){return`${"width"==e?"Width":"Height"} "container" only works well with autosize "fit" or "fit-${"width"==e?"x":"y"}".`}function Hn(e){return e?`Dropping "fit-${e}" because spec has discrete ${it(e)}.`:'Dropping "fit" because spec has discrete size.'}function Vn(e){return`Unknown field for ${e}. Cannot calculate view size.`}function Gn(e){return`Cannot project a selection on encoding channel "${e}", which has no field.`}function Yn(e,t){return`Cannot project a selection on encoding channel "${e}" as it uses an aggregate function ("${t}").`}function Xn(e){return`Selection not supported for ${e} yet.`}const Jn="The same selection must be used to override scale domains in a layered view.";function Qn(e){return`The "columns" property cannot be used when "${e}" has nested row/column.`}function Kn(e,t,n){return`An ancestor parsed field "${e}" as ${n} but a child wants to parse the field as ${t}.`}function Zn(e){return`Config.customFormatTypes is not true, thus custom format type and format for channel ${e} are dropped.`}function ei(e){return`${e}Offset dropped because ${e} is continuous`}function ti(e){return`There is no ${e} encoding. Replacing ${e}Offset encoding as ${e}.`}function ni(e,t,n){return`Channel ${e} is a ${t}. Converted to {value: ${g(n)}}.`}function ii(e){return`Invalid field type "${e}".`}function ri(e,t){return`Invalid field type "${e}" for aggregate: "${t}", using "quantitative" instead.`}function oi(e){return`Invalid aggregation operator "${e}".`}function ai(e,t){const{fill:n,stroke:i}=t;return`Dropping color ${e} as the plot also has ${n&&i?"fill and stroke":n?"fill":"stroke"}.`}function si(e,t){return`Dropping ${g(e)} from channel "${t}" since it does not contain any data field, datum, value, or signal.`}function li(e,t,n){return`${e} dropped as it is incompatible with "${t}"${n?` when ${n}`:""}.`}function ci(e){return`${e} encoding has no scale, so specified scale is ignored.`}function ui(e){return`${e} encoding should be discrete (ordinal / nominal / binned).`}function fi(e){return`${e} encoding should be discrete (ordinal / nominal / binned) or use a discretizing scale (e.g. threshold).`}function di(e,t){return`Using discrete channel "${e}" to encode "${t}" field can be misleading as it does not encode ${"ordinal"===t?"order":"magnitude"}.`}function pi(e){return`The ${e} for range marks cannot be an expression`}function mi(e){return`Using unaggregated domain with raw field has no effect (${g(e)}).`}function gi(e){return`Unaggregated domain not applicable for "${e}" since it produces values outside the origin domain of the source data.`}function hi(e){return`Unaggregated domain is currently unsupported for log scale (${g(e)}).`}function yi(e,t,n){return`Channel "${e}" does not work with "${t}" scale. We are using "${n}" scale instead.`}function vi(e,t){return`FieldDef does not work with "${e}" scale. We are using "${t}" scale instead.`}function bi(e,t,n){return`${n}-scale's "${t}" is dropped as it does not work with ${e} scale.`}function xi(e){return`The step for "${e}" is dropped because the ${"width"===e?"x":"y"} is continuous.`}const wi="Domains that should be unioned has conflicting sort properties. Sort will be set to true.";function $i(e,t){return`Invalid ${e}: ${g(t)}.`}function ki(e){return`1D error band does not support ${e}.`}function Si(e){return`Channel ${e} is required for "binned" bin.`}function Di(e){return`Channel ${e} should not be used with "binned" bin.`}const Fi=t.logger(t.Warn);let zi=Fi;function Oi(e){return zi=e,zi}function _i(){return zi=Fi,zi}function Ci(){zi.warn(...arguments)}function Ni(e){if(e&&t.isObject(e))for(const t of Ri)if(t in e)return!0;return!1}const Pi=["january","february","march","april","may","june","july","august","september","october","november","december"],ji=Pi.map((e=>e.substr(0,3))),Ai=["sunday","monday","tuesday","wednesday","thursday","friday","saturday"],Ei=Ai.map((e=>e.substr(0,3)));function Ti(e,n){const i=[];if(n&&void 0!==e.day&&_(e).length>1&&(Ci(function(e){return`Dropping day from datetime ${g(e)} as day cannot be combined with other units.`}(e)),delete(e=f(e)).day),void 0!==e.year?i.push(e.year):i.push(2012),void 0!==e.month){const r=n?function(e){if(J(e)&&(e=+e),t.isNumber(e))return e-1;{const t=e.toLowerCase(),n=Pi.indexOf(t);if(-1!==n)return n;const i=t.substr(0,3),r=ji.indexOf(i);if(-1!==r)return r;throw new Error($i("month",e))}}(e.month):e.month;i.push(r)}else if(void 0!==e.quarter){const r=n?function(e){if(J(e)&&(e=+e),t.isNumber(e))return e>4&&Ci($i("quarter",e)),e-1;throw new Error($i("quarter",e))}(e.quarter):e.quarter;i.push(t.isNumber(r)?3*r:`${r}*3`)}else i.push(0);if(void 0!==e.date)i.push(e.date);else if(void 0!==e.day){const r=n?function(e){if(J(e)&&(e=+e),t.isNumber(e))return e%7;{const t=e.toLowerCase(),n=Ai.indexOf(t);if(-1!==n)return n;const i=t.substr(0,3),r=Ei.indexOf(i);if(-1!==r)return r;throw new Error($i("day",e))}}(e.day):e.day;i.push(t.isNumber(r)?r+1:`${r}+1`)}else i.push(1);for(const t of["hours","minutes","seconds","milliseconds"]){const n=e[t];i.push(void 0===n?0:n)}return i}function Mi(e){const t=Ti(e,!0).join(", ");return e.utc?`utc(${t})`:`datetime(${t})`}function Li(e){const t=Ti(e,!1).join(", ");return e.utc?`utc(${t})`:`datetime(${t})`}function qi(e){const t=Ti(e,!0);return e.utc?+new Date(Date.UTC(...t)):+new Date(...t)}const Wi={year:1,quarter:1,month:1,week:1,day:1,dayofyear:1,date:1,hours:1,minutes:1,seconds:1,milliseconds:1},Ri=_(Wi);function Ui(e){return e.startsWith("utc")}const Bi={"year-month":"%b %Y ","year-month-date":"%b %d, %Y "};function Ii(e){return Ri.filter((t=>Hi(e,t)))}function Hi(e,t){const n=e.indexOf(t);return!(n<0)&&(!(n>0&&"seconds"===t&&"i"===e.charAt(n-1))&&(!(e.length>n+3&&"day"===t&&"o"===e.charAt(n+3))&&!(n>0&&"year"===t&&"f"===e.charAt(n-1))))}function Vi(e,t){let{end:n}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{end:!1};const i=M(t),r=Ui(e)?"utc":"";function o(e){return"quarter"===e?`(${r}quarter(${i})-1)`:`${r}${e}(${i})`}let a;const s={};for(const t of Ri)Hi(e,t)&&(s[t]=o(t),a=t);return n&&(s[a]+="+1"),Li(s)}function Gi(e){if(!e)return;const t=Ii(e);return`timeUnitSpecifier(${g(t)}, ${g(Bi)})`}function Yi(e){if(!e)return;let n;return t.isString(e)?n={unit:e}:t.isObject(e)&&(n={...e,...e.unit?{unit:e.unit}:{}}),Ui(n.unit)&&(n.utc=!0,n.unit=n.unit.substr(3)),n}function Xi(e){const{utc:t,...n}=Yi(e);return n.unit?(t?"utc":"")+_(n).map((e=>j(`${"unit"===e?"":`_${e}_`}${n[e]}`))).join(""):(t?"utc":"")+"timeunit"+_(n).map((e=>j(`_${e}_${n[e]}`))).join("")}function Ji(e){return!(null==e||!e.field)&&void 0!==e.equal}function Qi(e){return!(null==e||!e.field)&&void 0!==e.lt}function Ki(e){return!(null==e||!e.field)&&void 0!==e.lte}function Zi(e){return!(null==e||!e.field)&&void 0!==e.gt}function er(e){return!(null==e||!e.field)&&void 0!==e.gte}function tr(e){if(null!=e&&e.field){if(t.isArray(e.range)&&2===e.range.length)return!0;if(gn(e.range))return!0}return!1}function nr(e){return!(null==e||!e.field)&&(t.isArray(e.oneOf)||t.isArray(e.in))}function ir(e){return!(null==e||!e.field)&&void 0!==e.valid}function rr(e){return nr(e)||Ji(e)||tr(e)||Qi(e)||Zi(e)||Ki(e)||er(e)}function or(e,t){return Wa(e,{timeUnit:t,wrapTime:!0})}function ar(e,t){return e.map((e=>or(e,t)))}function sr(e){var t;let n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];const{field:i}=e,r=null===(t=Yi(e.timeUnit))||void 0===t?void 0:t.unit,o=r?`time(${Vi(r,i)})`:ba(e,{expr:"datum"});if(Ji(e))return`${o}===${or(e.equal,r)}`;if(Qi(e)){return`${o}<${or(e.lt,r)}`}if(Zi(e)){return`${o}>${or(e.gt,r)}`}if(Ki(e)){return`${o}<=${or(e.lte,r)}`}if(er(e)){return`${o}>=${or(e.gte,r)}`}if(nr(e))return`indexof([${ar(e.oneOf,r).join(",")}], ${o}) !== -1`;if(ir(e))return lr(o,e.valid);if(tr(e)){const{range:t}=e,i=gn(t)?{signal:`${t.signal}[0]`}:t[0],a=gn(t)?{signal:`${t.signal}[1]`}:t[1];if(null!==i&&null!==a&&n)return"inrange("+o+", ["+or(i,r)+", "+or(a,r)+"])";const s=[];return null!==i&&s.push(`${o} >= ${or(i,r)}`),null!==a&&s.push(`${o} <= ${or(a,r)}`),s.length>0?s.join(" && "):"true"}throw new Error(`Invalid field predicate: ${g(e)}`)}function lr(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return t?`isValid(${e}) && isFinite(+${e})`:`!isValid(${e}) || !isFinite(+${e})`}function cr(e){var t;return rr(e)&&e.timeUnit?{...e,timeUnit:null===(t=Yi(e.timeUnit))||void 0===t?void 0:t.unit}:e}function ur(e){return"quantitative"===e||"temporal"===e}function fr(e){return"ordinal"===e||"nominal"===e}const dr="quantitative",pr="ordinal",mr="temporal",gr="nominal",hr="geojson";function yr(e){if(e)switch(e=e.toLowerCase()){case"q":case dr:return"quantitative";case"t":case mr:return"temporal";case"o":case pr:return"ordinal";case"n":case gr:return"nominal";case hr:return"geojson"}}const vr="linear",br="log",xr="time",wr="utc",$r="point",kr="band",Sr={linear:"numeric",log:"numeric",pow:"numeric",sqrt:"numeric",symlog:"numeric",identity:"numeric",sequential:"numeric",time:"time",utc:"time",ordinal:"ordinal","bin-ordinal":"bin-ordinal",point:"ordinal-position",band:"ordinal-position",quantile:"discretizing",quantize:"discretizing",threshold:"discretizing"};function Dr(e,t){const n=Sr[e],i=Sr[t];return n===i||"ordinal-position"===n&&"time"===i||"ordinal-position"===i&&"time"===n}const Fr={linear:0,log:1,pow:1,sqrt:1,symlog:1,identity:1,sequential:1,time:0,utc:0,point:10,band:11,ordinal:0,"bin-ordinal":0,quantile:0,quantize:0,threshold:0};function zr(e){return Fr[e]}const Or=new Set(["linear","log","pow","sqrt","symlog"]),_r=new Set([...Or,"time","utc"]);function Cr(e){return Or.has(e)}const Nr=new Set(["quantile","quantize","threshold"]),Pr=new Set([..._r,...Nr,"sequential","identity"]),jr=new Set(["ordinal","bin-ordinal","point","band"]);function Ar(e){return jr.has(e)}function Er(e){return Pr.has(e)}function Tr(e){return _r.has(e)}function Mr(e){return Nr.has(e)}function Lr(e){return null==e?void 0:e.param}const{type:qr,domain:Wr,range:Rr,rangeMax:Ur,rangeMin:Br,scheme:Ir,...Hr}={type:1,domain:1,domainMax:1,domainMin:1,domainMid:1,align:1,range:1,rangeMax:1,rangeMin:1,scheme:1,bins:1,reverse:1,round:1,clamp:1,nice:1,base:1,exponent:1,constant:1,interpolate:1,zero:1,padding:1,paddingInner:1,paddingOuter:1},Vr=_(Hr);function Gr(e,t){switch(t){case"type":case"domain":case"reverse":case"range":return!0;case"scheme":case"interpolate":return!["point","band","identity"].includes(e);case"bins":return!["point","band","identity","ordinal"].includes(e);case"round":return Tr(e)||"band"===e||"point"===e;case"padding":case"rangeMin":case"rangeMax":return Tr(e)||["point","band"].includes(e);case"paddingOuter":case"align":return["point","band"].includes(e);case"paddingInner":return"band"===e;case"domainMax":case"domainMid":case"domainMin":case"clamp":return Tr(e);case"nice":return Tr(e)||"quantize"===e||"threshold"===e;case"exponent":return"pow"===e;case"base":return"log"===e;case"constant":return"symlog"===e;case"zero":return Er(e)&&!v(["log","time","utc","threshold","quantile"],e)}}function Yr(e,t){switch(t){case"interpolate":case"scheme":case"domainMid":return Le(e)?void 0:`Cannot use the scale property "${t}" with non-color channel.`;case"align":case"type":case"bins":case"domain":case"domainMax":case"domainMin":case"range":case"base":case"exponent":case"constant":case"nice":case"padding":case"paddingInner":case"paddingOuter":case"rangeMax":case"rangeMin":case"reverse":case"round":case"clamp":case"zero":return}}function Xr(e,t){return v([pr,gr],t)?void 0===e||Ar(e):t===mr?v([xr,wr,void 0],e):t!==dr||(Cr(e)||Mr(e)||void 0===e)}function Jr(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(!Bt(e))return!1;switch(e){case ee:case te:case re:case oe:case le:case ae:return!!Tr(t)||("band"===t||"point"===t&&!n);case ve:case ke:case xe:case we:case $e:case be:return Tr(t)||Mr(t)||v(["band","point","ordinal"],t);case me:case ge:case he:return"band"!==t;case Se:case ye:return"ordinal"===t||Mr(t)}}const Qr={arc:"arc",area:"area",bar:"bar",image:"image",line:"line",point:"point",rect:"rect",rule:"rule",text:"text",tick:"tick",trail:"trail",circle:"circle",square:"square",geoshape:"geoshape"},Kr=Qr.arc,Zr=Qr.area,eo=Qr.bar,to=Qr.image,no=Qr.line,io=Qr.point,ro=Qr.rect,oo=Qr.rule,ao=Qr.text,so=Qr.tick,lo=Qr.trail,co=Qr.circle,uo=Qr.square,fo=Qr.geoshape;function po(e){return["line","area","trail"].includes(e)}function mo(e){return["rect","bar","image","arc"].includes(e)}const go=new Set(_(Qr));function ho(e){return e.type}const yo=["stroke","strokeWidth","strokeDash","strokeDashOffset","strokeOpacity","strokeJoin","strokeMiterLimit","fill","fillOpacity"],vo=_({color:1,filled:1,invalid:1,order:1,radius2:1,theta2:1,timeUnitBandSize:1,timeUnitBandPosition:1}),bo=_({mark:1,arc:1,area:1,bar:1,circle:1,image:1,line:1,point:1,rect:1,rule:1,square:1,text:1,tick:1,trail:1,geoshape:1});function xo(e){return e&&null!=e.band}const wo={horizontal:["cornerRadiusTopRight","cornerRadiusBottomRight"],vertical:["cornerRadiusTopLeft","cornerRadiusTopRight"]},$o={binSpacing:1,continuousBandSize:5,timeUnitBandPosition:.5},ko={binSpacing:0,continuousBandSize:5,timeUnitBandPosition:.5};function So(e){const{channel:t,channelDef:n,markDef:i,scale:r,config:o}=e,a=_o(e);return oa(n)&&!tn(n.aggregate)&&r&&Tr(r.get("type"))?function(e){let{fieldDef:t,channel:n,markDef:i,ref:r,config:o}=e;if(po(i.type))return r;if(null===_n("invalid",i,o))return[Do(t,n),r];return r}({fieldDef:n,channel:t,markDef:i,ref:a,config:o}):a}function Do(e,t){return{test:Fo(e,!0),..."y"===et(t)?{field:{group:"height"}}:{value:0}}}function Fo(e){let n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return lr(t.isString(e)?e:ba(e,{expr:"datum"}),!n)}function zo(e,t,n,i){const r={};if(t&&(r.scale=t),sa(e)){const{datum:t}=e;Ni(t)?r.signal=Mi(t):gn(t)?r.signal=t.signal:fn(t)?r.signal=t.expr:r.value=t}else r.field=ba(e,n);if(i){const{offset:e,band:t}=i;e&&(r.offset=e),t&&(r.band=t)}return r}function Oo(e){let{scaleName:t,fieldOrDatumDef:n,fieldOrDatumDef2:i,offset:r,startSuffix:o,bandPosition:a=.5}=e;const s=0<a&&a<1?"datum":void 0,l=ba(n,{expr:s,suffix:o}),c=void 0!==i?ba(i,{expr:s}):ba(n,{suffix:"end",expr:s}),u={};if(0===a||1===a){u.scale=t;const e=0===a?l:c;u.field=e}else{const e=gn(a)?`${a.signal} * ${l} + (1-${a.signal}) * ${c}`:`${a} * ${l} + ${1-a} * ${c}`;u.signal=`scale("${t}", ${e})`}return r&&(u.offset=r),u}function _o(e){let{channel:n,channelDef:i,channel2Def:r,markDef:o,config:a,scaleName:s,scale:l,stack:c,offset:u,defaultRef:f,bandPosition:d}=e;if(i){if(ua(i)){const e=null==l?void 0:l.get("type");if(fa(i)){d??=Zo({fieldDef:i,fieldDef2:r,markDef:o,config:a});const{bin:t,timeUnit:l,type:f}=i;if(an(t)||d&&l&&f===mr)return null!=c&&c.impute?zo(i,s,{binSuffix:"mid"},{offset:u}):d&&!Ar(e)?Oo({scaleName:s,fieldOrDatumDef:i,bandPosition:d,offset:u}):zo(i,s,Ua(i,n)?{binSuffix:"range"}:{},{offset:u});if(sn(t)){if(oa(r))return Oo({scaleName:s,fieldOrDatumDef:i,fieldOrDatumDef2:r,bandPosition:d,offset:u});Ci(Si(n===ee?ne:ie))}}return zo(i,s,Ar(e)?{binSuffix:"range"}:{},{offset:u,band:"band"===e?d??i.bandPosition??.5:void 0})}if(da(i)){const e=u?{offset:u}:{};return{...Co(n,i.value),...e}}}return t.isFunction(f)&&(f=f()),f?{...f,...u?{offset:u}:{}}:f}function Co(e,t){return v(["x","x2"],e)&&"width"===t?{field:{group:"width"}}:v(["y","y2"],e)&&"height"===t?{field:{group:"height"}}:Sn(t)}function No(e){return e&&"number"!==e&&"time"!==e}function Po(e,t,n){return`${e}(${t}${n?`, ${g(n)}`:""})`}function jo(e){let{fieldOrDatumDef:n,format:i,formatType:r,expr:o,normalizeStack:a,config:s}=e;if(No(r))return Eo({fieldOrDatumDef:n,format:i,formatType:r,expr:o,config:s});const l=Ao(n,o,a),c=aa(n);if(void 0===i&&void 0===r&&s.customFormatTypes){if("quantitative"===c){if(a&&s.normalizedNumberFormatType)return Eo({fieldOrDatumDef:n,format:s.normalizedNumberFormat,formatType:s.normalizedNumberFormatType,expr:o,config:s});if(s.numberFormatType)return Eo({fieldOrDatumDef:n,format:s.numberFormat,formatType:s.numberFormatType,expr:o,config:s})}if("temporal"===c&&s.timeFormatType&&oa(n)&&void 0===n.timeUnit)return Eo({fieldOrDatumDef:n,format:s.timeFormat,formatType:s.timeFormatType,expr:o,config:s})}if(qa(n)){var u,f;const e=function(e){let{field:n,timeUnit:i,format:r,formatType:o,rawTimeFormat:a,isUTCScale:s}=e;return!i||r?!i&&o?`${o}(${n}, '${r}')`:(r=t.isString(r)?r:a,`${s?"utc":"time"}Format(${n}, '${r}')`):function(e,t,n){if(!e)return;const i=Gi(e);return`${n||Ui(e)?"utc":"time"}Format(${t}, ${i})`}(i,n,s)}({field:l,timeUnit:oa(n)?null===(u=Yi(n.timeUnit))||void 0===u?void 0:u.unit:void 0,format:i,formatType:s.timeFormatType,rawTimeFormat:s.timeFormat,isUTCScale:pa(n)&&(null===(f=n.scale)||void 0===f?void 0:f.type)===wr});return e?{signal:e}:void 0}if(i=Lo({type:c,specifiedFormat:i,config:s,normalizeStack:a}),oa(n)&&an(n.bin)){return{signal:Ro(l,ba(n,{expr:o,binSuffix:"end"}),i,r,s)}}return i||"quantitative"===aa(n)?{signal:`${qo(l,i)}`}:{signal:`isValid(${l}) ? ${l} : ""+${l}`}}function Ao(e,t,n){return oa(e)?n?`${ba(e,{expr:t,suffix:"end"})}-${ba(e,{expr:t,suffix:"start"})}`:ba(e,{expr:t}):function(e){const{datum:t}=e;return Ni(t)?Mi(t):`${g(t)}`}(e)}function Eo(e){let{fieldOrDatumDef:t,format:n,formatType:i,expr:r,normalizeStack:o,config:a,field:s}=e;if(s??=Ao(t,r,o),"datum.value"!==s&&oa(t)&&an(t.bin)){return{signal:Ro(s,ba(t,{expr:r,binSuffix:"end"}),n,i,a)}}return{signal:Po(i,s,n)}}function To(e,t,n,i,r,o){if(!No(i)){if(void 0===n&&void 0===i&&r.customFormatTypes&&"quantitative"===aa(e)){if(r.normalizedNumberFormatType&&ma(e)&&"normalize"===e.stack)return;if(r.numberFormatType)return}if(ma(e)&&"normalize"===e.stack&&r.normalizedNumberFormat)return Lo({type:"quantitative",config:r,normalizeStack:!0});if(qa(e)){var a;const t=oa(e)?null===(a=Yi(e.timeUnit))||void 0===a?void 0:a.unit:void 0;if(void 0===t&&r.customFormatTypes&&r.timeFormatType)return;return function(e){let{specifiedFormat:t,timeUnit:n,config:i,omitTimeFormatConfig:r}=e;if(t)return t;if(n)return{signal:Gi(n)};return r?void 0:i.timeFormat}({specifiedFormat:n,timeUnit:t,config:r,omitTimeFormatConfig:o})}return Lo({type:t,specifiedFormat:n,config:r})}}function Mo(e,t,n){return e&&(gn(e)||"number"===e||"time"===e)?e:qa(t)&&"time"!==n&&"utc"!==n?oa(t)&&null!==(i=Yi(null==t?void 0:t.timeUnit))&&void 0!==i&&i.utc?"utc":"time":void 0;var i}function Lo(e){let{type:n,specifiedFormat:i,config:r,normalizeStack:o}=e;return t.isString(i)?i:n===dr?o?r.normalizedNumberFormat:r.numberFormat:void 0}function qo(e,t){return`format(${e}, "${t||""}")`}function Wo(e,n,i,r){return No(i)?Po(i,e,n):qo(e,(t.isString(n)?n:void 0)??r.numberFormat)}function Ro(e,t,n,i,r){if(void 0===n&&void 0===i&&r.customFormatTypes&&r.numberFormatType)return Ro(e,t,r.numberFormat,r.numberFormatType,r);const o=Wo(e,n,i,r),a=Wo(t,n,i,r);return`${lr(e,!1)} ? "null" : ${o} + "  " + ${a}`}const Uo="min",Bo={x:1,y:1,color:1,fill:1,stroke:1,strokeWidth:1,size:1,shape:1,fillOpacity:1,strokeOpacity:1,opacity:1,text:1};function Io(e){return e in Bo}function Ho(e){return!(null==e||!e.encoding)}function Vo(e){return e&&("count"===e.op||!!e.field)}function Go(e){return e&&t.isArray(e)}function Yo(e){return"row"in e||"column"in e}function Xo(e){return!!e&&"header"in e}function Jo(e){return"facet"in e}function Qo(e){const{field:t,timeUnit:n,bin:i,aggregate:r}=e;return{...n?{timeUnit:n}:{},...i?{bin:i}:{},...r?{aggregate:r}:{},field:t}}function Ko(e){return"sort"in e}function Zo(e){let{fieldDef:t,fieldDef2:n,markDef:i,config:r}=e;if(ua(t)&&void 0!==t.bandPosition)return t.bandPosition;if(oa(t)){const{timeUnit:e,bin:o}=t;if(e&&!n)return mo(i.type)?0:Cn("timeUnitBandPosition",i,r);if(an(o))return.5}}function ea(e){let{channel:t,fieldDef:n,fieldDef2:i,markDef:r,config:o,scaleType:a,useVlSizeChannel:s}=e;const l=it(t),c=_n(s?"size":l,r,o,{vgChannel:l});if(void 0!==c)return c;if(oa(n)){const{timeUnit:e,bin:t}=n;if(e&&!i)return{band:Cn("timeUnitBandSize",r,o)};if(an(t)&&!Ar(a))return{band:1}}var u,f,d;return mo(r.type)?a?Ar(a)?(null===(f=o[r.type])||void 0===f?void 0:f.discreteBandSize)||{band:1}:null===(d=o[r.type])||void 0===d?void 0:d.continuousBandSize:null===(u=o[r.type])||void 0===u?void 0:u.discreteBandSize:void 0}function ta(e,t,n,i){return!!(an(e.bin)||e.timeUnit&&fa(e)&&"temporal"===e.type)&&void 0!==Zo({fieldDef:e,fieldDef2:t,markDef:n,config:i})}function na(e){return e&&"condition"in e}function ia(e){const n=null==e?void 0:e.condition;return!!n&&!t.isArray(n)&&oa(n)}function ra(e){const n=null==e?void 0:e.condition;return!!n&&!t.isArray(n)&&ua(n)}function oa(e){return e&&(!!e.field||"count"===e.aggregate)}function aa(e){return null==e?void 0:e.type}function sa(e){return e&&"datum"in e}function la(e){return fa(e)&&!xa(e)||ca(e)}function ca(e){return sa(e)&&t.isNumber(e.datum)}function ua(e){return oa(e)||sa(e)}function fa(e){return e&&("field"in e||"count"===e.aggregate)&&"type"in e}function da(e){return e&&"value"in e&&"value"in e}function pa(e){return e&&("scale"in e||"sort"in e)}function ma(e){return e&&("axis"in e||"stack"in e||"impute"in e)}function ga(e){return e&&"legend"in e}function ha(e){return e&&("format"in e||"formatType"in e)}function ya(e){return m(e,["legend","axis","header","scale"])}function va(e){return"op"in e}function ba(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.field;const i=t.prefix;let r=t.suffix,o="";if(wa(e))n=G("count");else{let i;if(!t.nofn)if(va(e))i=e.op;else{const{bin:a,aggregate:s,timeUnit:l}=e;an(a)?(i=on(a),r=(t.binSuffix??"")+(t.suffix??"")):s?Kt(s)?(o=`["${n}"]`,n=`argmax_${s.argmax}`):Qt(s)?(o=`["${n}"]`,n=`argmin_${s.argmin}`):i=String(s):l&&(i=Xi(l),r=(!["range","mid"].includes(t.binSuffix)&&t.binSuffix||"")+(t.suffix??""))}i&&(n=n?`${i}_${n}`:i)}return r&&(n=`${n}_${r}`),i&&(n=`${i}_${n}`),t.forAs?U(n):t.expr?L(n,t.expr)+o:W(n)+o}function xa(e){switch(e.type){case"nominal":case"ordinal":case"geojson":return!0;case"quantitative":return oa(e)&&!!e.bin;case"temporal":return!1}throw new Error(ii(e.type))}function wa(e){return"count"===e.aggregate}const $a=(e,t)=>{switch(t.fieldTitle){case"plain":return e.field;case"functional":return function(e){const{aggregate:t,bin:n,timeUnit:i,field:r}=e;if(Kt(t))return`${r} for argmax(${t.argmax})`;if(Qt(t))return`${r} for argmin(${t.argmin})`;const o=Yi(i),a=t||(null==o?void 0:o.unit)||(null==o?void 0:o.maxbins)&&"timeunit"||an(n)&&"bin";return a?`${a.toUpperCase()}(${r})`:r}(e);default:return function(e,t){const{field:n,bin:i,timeUnit:r,aggregate:o}=e;if("count"===o)return t.countTitle;if(an(i))return`${n} (binned)`;if(r){var a;const e=null===(a=Yi(r))||void 0===a?void 0:a.unit;if(e)return`${n} (${Ii(e).join("-")})`}else if(o)return Kt(o)?`${n} for max ${o.argmax}`:Qt(o)?`${n} for min ${o.argmin}`:`${T(o)} of ${n}`;return n}(e,t)}};let ka=$a;function Sa(e){ka=e}function Da(){Sa($a)}function Fa(e,t,n){var i;let{allowDisabling:r,includeDefault:o=!0}=n;const a=null===(i=za(e))||void 0===i?void 0:i.title;if(!oa(e))return a??e.title;const s=e,l=o?Oa(s,t):void 0;return r?I(a,s.title,l):a??s.title??l}function za(e){return ma(e)&&e.axis?e.axis:ga(e)&&e.legend?e.legend:Xo(e)&&e.header?e.header:void 0}function Oa(e,t){return ka(e,t)}function _a(e){if(ha(e)){const{format:t,formatType:n}=e;return{format:t,formatType:n}}{const t=za(e)??{},{format:n,formatType:i}=t;return{format:n,formatType:i}}}function Ca(e,n){var i;switch(n){case"latitude":case"longitude":return"quantitative";case"row":case"column":case"facet":case"shape":case"strokeDash":return"nominal";case"order":return"ordinal"}if(Ko(e)&&t.isArray(e.sort))return"ordinal";const{aggregate:r,bin:o,timeUnit:a}=e;if(a)return"temporal";if(o||r&&!Kt(r)&&!Qt(r))return"quantitative";if(pa(e)&&null!==(i=e.scale)&&void 0!==i&&i.type)switch(Sr[e.scale.type]){case"numeric":case"discretizing":return"quantitative";case"time":return"temporal"}return"nominal"}function Na(e){return oa(e)?e:ia(e)?e.condition:void 0}function Pa(e){return ua(e)?e:ra(e)?e.condition:void 0}function ja(e,n,i){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};if(t.isString(e)||t.isNumber(e)||t.isBoolean(e)){return Ci(ni(n,t.isString(e)?"string":t.isNumber(e)?"number":"boolean",e)),{value:e}}return ua(e)?Aa(e,n,i,r):ra(e)?{...e,condition:Aa(e.condition,n,i,r)}:e}function Aa(e,n,i,r){if(ha(e)){const{format:t,formatType:o,...a}=e;if(No(o)&&!i.customFormatTypes)return Ci(Zn(n)),Aa(a,n,i,r)}else{const t=ma(e)?"axis":ga(e)?"legend":Xo(e)?"header":null;if(t&&e[t]){const{format:o,formatType:a,...s}=e[t];if(No(a)&&!i.customFormatTypes)return Ci(Zn(n)),Aa({...e,[t]:s},n,i,r)}}return oa(e)?Ea(e,n,r):function(e){let n=e.type;if(n)return e;const{datum:i}=e;return n=t.isNumber(i)?"quantitative":t.isString(i)?"nominal":Ni(i)?"temporal":void 0,{...e,type:n}}(e)}function Ea(e,n){let{compositeMark:i=!1}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const{aggregate:r,timeUnit:o,bin:a,field:s}=e,l={...e};if(i||!r||Zt(r)||Kt(r)||Qt(r)||(Ci(oi(r)),delete l.aggregate),o&&(l.timeUnit=Yi(o)),s&&(l.field=`${s}`),an(a)&&(l.bin=Ta(a,n)),sn(a)&&!Dt(n)&&Ci(Di(n)),fa(l)){const{type:e}=l,t=yr(e);e!==t&&(l.type=t),"quantitative"!==e&&tn(r)&&(Ci(ri(e,r)),l.type="quantitative")}else if(!Ze(n)){const e=Ca(l,n);l.type=e}if(fa(l)){const{compatible:e,warning:t}=La(l,n)||{};!1===e&&Ci(t)}if(Ko(l)&&t.isString(l.sort)){const{sort:e}=l;if(Io(e))return{...l,sort:{encoding:e}};const t=e.substr(1);if("-"===e.charAt(0)&&Io(t))return{...l,sort:{encoding:t,order:"descending"}}}if(Xo(l)){const{header:e}=l;if(e){const{orient:t,...n}=e;if(t)return{...l,header:{...n,labelOrient:e.labelOrient||t,titleOrient:e.titleOrient||t}}}}return l}function Ta(e,n){return t.isBoolean(e)?{maxbins:un(n)}:"binned"===e?{binned:!0}:e.maxbins||e.step?e:{...e,maxbins:un(n)}}const Ma={compatible:!0};function La(e,t){const n=e.type;if("geojson"===n&&"shape"!==t)return{compatible:!1,warning:`Channel ${t} should not be used with a geojson data.`};switch(t){case Q:case K:case Z:return xa(e)?Ma:{compatible:!1,warning:ui(t)};case ee:case te:case re:case oe:case me:case ge:case he:case De:case ze:case Oe:case _e:case Ce:case Ne:case be:case le:case ae:case Pe:return Ma;case fe:case pe:case ue:case de:return n!==dr?{compatible:!1,warning:`Channel ${t} should be used with a quantitative field only, not ${e.type} field.`}:Ma;case xe:case we:case $e:case ke:case ve:case ce:case se:case ne:case ie:return"nominal"!==n||e.sort?Ma:{compatible:!1,warning:`Channel ${t} should not be used with an unsorted discrete field.`};case ye:case Se:return xa(e)||pa(i=e)&&Mr(null===(r=i.scale)||void 0===r?void 0:r.type)?Ma:{compatible:!1,warning:fi(t)};case Fe:return"nominal"!==e.type||"sort"in e?Ma:{compatible:!1,warning:"Channel order is inappropriate for nominal field, which has no inherent order."}}var i,r}function qa(e){const{formatType:t}=_a(e);return"time"===t||!t&&((n=e)&&("temporal"===n.type||oa(n)&&!!n.timeUnit));var n}function Wa(e,n){var i;let{timeUnit:r,type:o,wrapTime:a,undefinedIfExprNotRequired:s}=n;const l=r&&(null===(i=Yi(r))||void 0===i?void 0:i.unit);let c,u=l||"temporal"===o;return fn(e)?c=e.expr:gn(e)?c=e.signal:Ni(e)?(u=!0,c=Mi(e)):(t.isString(e)||t.isNumber(e))&&u&&(c=`datetime(${g(e)})`,function(e){return!!Wi[e]}(l)&&(t.isNumber(e)&&e<1e4||t.isString(e)&&isNaN(Date.parse(e)))&&(c=Mi({[l]:e}))),c?a&&u?`time(${c})`:c:s?void 0:g(e)}function Ra(e,t){const{type:n}=e;return t.map((t=>{const i=Wa(t,{timeUnit:oa(e)?e.timeUnit:void 0,type:n,undefinedIfExprNotRequired:!0});return void 0!==i?{signal:i}:t}))}function Ua(e,t){return an(e.bin)?Bt(t)&&["ordinal","nominal"].includes(e.type):(console.warn("Only call this method for binned field defs."),!1)}const Ba={labelAlign:{part:"labels",vgProp:"align"},labelBaseline:{part:"labels",vgProp:"baseline"},labelColor:{part:"labels",vgProp:"fill"},labelFont:{part:"labels",vgProp:"font"},labelFontSize:{part:"labels",vgProp:"fontSize"},labelFontStyle:{part:"labels",vgProp:"fontStyle"},labelFontWeight:{part:"labels",vgProp:"fontWeight"},labelOpacity:{part:"labels",vgProp:"opacity"},labelOffset:null,labelPadding:null,gridColor:{part:"grid",vgProp:"stroke"},gridDash:{part:"grid",vgProp:"strokeDash"},gridDashOffset:{part:"grid",vgProp:"strokeDashOffset"},gridOpacity:{part:"grid",vgProp:"opacity"},gridWidth:{part:"grid",vgProp:"strokeWidth"},tickColor:{part:"ticks",vgProp:"stroke"},tickDash:{part:"ticks",vgProp:"strokeDash"},tickDashOffset:{part:"ticks",vgProp:"strokeDashOffset"},tickOpacity:{part:"ticks",vgProp:"opacity"},tickSize:null,tickWidth:{part:"ticks",vgProp:"strokeWidth"}};function Ia(e){return null==e?void 0:e.condition}const Ha=["domain","grid","labels","ticks","title"],Va={grid:"grid",gridCap:"grid",gridColor:"grid",gridDash:"grid",gridDashOffset:"grid",gridOpacity:"grid",gridScale:"grid",gridWidth:"grid",orient:"main",bandPosition:"both",aria:"main",description:"main",domain:"main",domainCap:"main",domainColor:"main",domainDash:"main",domainDashOffset:"main",domainOpacity:"main",domainWidth:"main",format:"main",formatType:"main",labelAlign:"main",labelAngle:"main",labelBaseline:"main",labelBound:"main",labelColor:"main",labelFlush:"main",labelFlushOffset:"main",labelFont:"main",labelFontSize:"main",labelFontStyle:"main",labelFontWeight:"main",labelLimit:"main",labelLineHeight:"main",labelOffset:"main",labelOpacity:"main",labelOverlap:"main",labelPadding:"main",labels:"main",labelSeparation:"main",maxExtent:"main",minExtent:"main",offset:"both",position:"main",tickCap:"main",tickColor:"main",tickDash:"main",tickDashOffset:"main",tickMinStep:"both",tickOffset:"both",tickOpacity:"main",tickRound:"both",ticks:"main",tickSize:"main",tickWidth:"both",title:"main",titleAlign:"main",titleAnchor:"main",titleAngle:"main",titleBaseline:"main",titleColor:"main",titleFont:"main",titleFontSize:"main",titleFontStyle:"main",titleFontWeight:"main",titleLimit:"main",titleLineHeight:"main",titleOpacity:"main",titlePadding:"main",titleX:"main",titleY:"main",encode:"both",scale:"both",tickBand:"both",tickCount:"both",tickExtra:"both",translate:"both",values:"both",zindex:"both"},Ga={orient:1,aria:1,bandPosition:1,description:1,domain:1,domainCap:1,domainColor:1,domainDash:1,domainDashOffset:1,domainOpacity:1,domainWidth:1,format:1,formatType:1,grid:1,gridCap:1,gridColor:1,gridDash:1,gridDashOffset:1,gridOpacity:1,gridWidth:1,labelAlign:1,labelAngle:1,labelBaseline:1,labelBound:1,labelColor:1,labelFlush:1,labelFlushOffset:1,labelFont:1,labelFontSize:1,labelFontStyle:1,labelFontWeight:1,labelLimit:1,labelLineHeight:1,labelOffset:1,labelOpacity:1,labelOverlap:1,labelPadding:1,labels:1,labelSeparation:1,maxExtent:1,minExtent:1,offset:1,position:1,tickBand:1,tickCap:1,tickColor:1,tickCount:1,tickDash:1,tickDashOffset:1,tickExtra:1,tickMinStep:1,tickOffset:1,tickOpacity:1,tickRound:1,ticks:1,tickSize:1,tickWidth:1,title:1,titleAlign:1,titleAnchor:1,titleAngle:1,titleBaseline:1,titleColor:1,titleFont:1,titleFontSize:1,titleFontStyle:1,titleFontWeight:1,titleLimit:1,titleLineHeight:1,titleOpacity:1,titlePadding:1,titleX:1,titleY:1,translate:1,values:1,zindex:1},Ya={...Ga,style:1,labelExpr:1,encoding:1};function Xa(e){return!!Ya[e]}const Ja=_({axis:1,axisBand:1,axisBottom:1,axisDiscrete:1,axisLeft:1,axisPoint:1,axisQuantitative:1,axisRight:1,axisTemporal:1,axisTop:1,axisX:1,axisXBand:1,axisXDiscrete:1,axisXPoint:1,axisXQuantitative:1,axisXTemporal:1,axisY:1,axisYBand:1,axisYDiscrete:1,axisYPoint:1,axisYQuantitative:1,axisYTemporal:1});function Qa(e){return"mark"in e}class Ka{constructor(e,t){this.name=e,this.run=t}hasMatchingType(e){return!!Qa(e)&&(ho(t=e.mark)?t.type:t)===this.name;var t}}function Za(e,n){const i=e&&e[n];return!!i&&(t.isArray(i)?b(i,(e=>!!e.field)):oa(i)||ia(i))}function es(e,n){const i=e&&e[n];return!!i&&(t.isArray(i)?b(i,(e=>!!e.field)):oa(i)||sa(i)||ra(i))}function ts(e,t){if(Dt(t)){const n=e[t];if((oa(n)||sa(n))&&fr(n.type)){return es(e,rt(t))}}return!1}function ns(e){return b(Ue,(n=>{if(Za(e,n)){const i=e[n];if(t.isArray(i))return b(i,(e=>!!e.aggregate));{const e=Na(i);return e&&!!e.aggregate}}return!1}))}function is(e,t){const n=[],i=[],r=[],o=[],a={};return ss(e,((s,l)=>{if(oa(s)){const{field:c,aggregate:u,bin:f,timeUnit:d,...p}=s;if(u||d||f){const e=za(s),m=null==e?void 0:e.title;let g=ba(s,{forAs:!0});const h={...m?[]:{title:Fa(s,t,{allowDisabling:!0})},...p,field:g};if(u){let e;if(Kt(u)?(e="argmax",g=ba({op:"argmax",field:u.argmax},{forAs:!0}),h.field=`${g}.${c}`):Qt(u)?(e="argmin",g=ba({op:"argmin",field:u.argmin},{forAs:!0}),h.field=`${g}.${c}`):"boxplot"!==u&&"errorbar"!==u&&"errorband"!==u&&(e=u),e){const t={op:e,as:g};c&&(t.field=c),o.push(t)}}else if(n.push(g),fa(s)&&an(f)){if(i.push({bin:f,field:c,as:g}),n.push(ba(s,{binSuffix:"end"})),Ua(s,l)&&n.push(ba(s,{binSuffix:"range"})),Dt(l)){const e={field:`${g}_end`};a[`${l}2`]=e}h.bin="binned",Ze(l)||(h.type=dr)}else if(d){r.push({timeUnit:d,field:c,as:g});const e=fa(s)&&s.type!==mr&&"time";e&&(l===De||l===_e?h.formatType=e:!function(e){return!!wt[e]}(l)?Dt(l)&&(h.axis={formatType:e,...h.axis}):h.legend={formatType:e,...h.legend})}a[l]=h}else n.push(c),a[l]=e[l]}else a[l]=e[l]})),{bins:i,timeUnits:r,aggregate:o,groupby:n,encoding:a}}function rs(e,t,n){const i=It(t,n);if(!i)return!1;if("binned"===i){const n=e[t===ne?ee:te];return!!(oa(n)&&oa(e[t])&&sn(n.bin))}return!0}function os(e,t){const n={};for(const i of _(e)){const r=ja(e[i],i,t,{compositeMark:!0});n[i]=r}return n}function as(e){const n=[];for(const i of _(e))if(Za(e,i)){const r=e[i],o=t.array(r);for(const e of o)oa(e)?n.push(e):ia(e)&&n.push(e.condition)}return n}function ss(e,n,i){if(e)for(const r of _(e)){const o=e[r];if(t.isArray(o))for(const e of o)n.call(i,e,r);else n.call(i,o,r)}}function ls(e,n){return _(n).reduce(((i,r)=>{switch(r){case ee:case te:case Ce:case Pe:case Ne:case ne:case ie:case re:case oe:case le:case ce:case ae:case se:case ue:case fe:case de:case pe:case De:case ye:case be:case _e:return i;case Fe:if("line"===e||"trail"===e)return i;case ze:case Oe:{const e=n[r];if(t.isArray(e)||oa(e))for(const n of t.array(e))n.aggregate||i.push(ba(n,{}));return i}case ve:if("trail"===e)return i;case me:case ge:case he:case xe:case we:case $e:case Se:case ke:{const e=Na(n[r]);return e&&!e.aggregate&&i.push(ba(e,{})),i}}}),[])}function cs(e,t,n){let i=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];if("tooltip"in n)return{tooltip:n.tooltip};const r=e.map((e=>{let{fieldPrefix:n,titlePrefix:r}=e;const o=i?` of ${us(t)}`:"";return{field:n+t.field,type:t.type,title:gn(r)?{signal:`${r}"${escape(o)}"`}:r+o}})),o=as(n).map(ya);return{tooltip:[...r,...k(o,h)]}}function us(e){const{title:t,field:n}=e;return I(t,n)}function fs(e,n,i,r,o){const{scale:a,axis:s}=i;return l=>{let{partName:c,mark:u,positionPrefix:f,endPositionPrefix:d,extraEncoding:p={}}=l;const m=us(i);return ds(e,c,o,{mark:u,encoding:{[n]:{field:`${f}_${i.field}`,type:i.type,...void 0!==m?{title:m}:{},...void 0!==a?{scale:a}:{},...void 0!==s?{axis:s}:{}},...t.isString(d)?{[`${n}2`]:{field:`${d}_${i.field}`}}:{},...r,...p}})}}function ds(e,n,i,r){const{clip:o,color:a,opacity:s}=e,l=e.type;return e[n]||void 0===e[n]&&i[n]?[{...r,mark:{...i[n],...o?{clip:o}:{},...a?{color:a}:{},...s?{opacity:s}:{},...ho(r.mark)?r.mark:{type:r.mark},style:`${l}-${String(n)}`,...t.isBoolean(e[n])?{}:e[n]}}]:[]}function ps(e,t,n){const{encoding:i}=e,r="vertical"===t?"y":"x",o=i[r],a=i[`${r}2`],s=i[`${r}Error`],l=i[`${r}Error2`];return{continuousAxisChannelDef:ms(o,n),continuousAxisChannelDef2:ms(a,n),continuousAxisChannelDefError:ms(s,n),continuousAxisChannelDefError2:ms(l,n),continuousAxis:r}}function ms(e,t){if(null!=e&&e.aggregate){const{aggregate:n,...i}=e;return n!==t&&Ci(function(e,t){return`Continuous axis should not have customized aggregation function ${e}; ${t} already agregates the axis.`}(n,t)),i}return e}function gs(e,t){const{mark:n,encoding:i}=e,{x:r,y:o}=i;if(ho(n)&&n.orient)return n.orient;if(la(r)){if(la(o)){const e=oa(r)&&r.aggregate,n=oa(o)&&o.aggregate;if(e||n!==t){if(n||e!==t){if(e===t&&n===t)throw new Error("Both x and y cannot have aggregate");return qa(o)&&!qa(r)?"horizontal":"vertical"}return"horizontal"}return"vertical"}return"horizontal"}if(la(o))return"vertical";throw new Error(`Need a valid continuous axis for ${t}s`)}const hs="boxplot",ys=new Ka(hs,bs);function vs(e){return t.isNumber(e)?"tukey":e}function bs(e,n){let{config:i}=n;e={...e,encoding:os(e.encoding,i)};const{mark:r,encoding:o,params:a,projection:s,...l}=e,c=ho(r)?r:{type:r};a&&Ci(Xn("boxplot"));const u=c.extent??i.boxplot.extent,f=_n("size",c,i),d=c.invalid,p=vs(u),{bins:g,timeUnits:h,transform:y,continuousAxisChannelDef:v,continuousAxis:b,groupby:x,aggregate:w,encodingWithoutContinuousAxis:$,ticksOrient:k,boxOrient:S,customTooltipWithoutAggregatedField:D}=function(e,n,i){const r=gs(e,hs),{continuousAxisChannelDef:o,continuousAxis:a}=ps(e,r,hs),s=o.field,l=vs(n),c=[...xs(s),{op:"median",field:s,as:`mid_box_${s}`},{op:"min",field:s,as:("min-max"===l?"lower_whisker_":"min_")+s},{op:"max",field:s,as:("min-max"===l?"upper_whisker_":"max_")+s}],u="min-max"===l||"tukey"===l?[]:[{calculate:`datum["upper_box_${s}"] - datum["lower_box_${s}"]`,as:`iqr_${s}`},{calculate:`min(datum["upper_box_${s}"] + datum["iqr_${s}"] * ${n}, datum["max_${s}"])`,as:`upper_whisker_${s}`},{calculate:`max(datum["lower_box_${s}"] - datum["iqr_${s}"] * ${n}, datum["min_${s}"])`,as:`lower_whisker_${s}`}],{[a]:f,...d}=e.encoding,{customTooltipWithoutAggregatedField:p,filteredEncoding:m}=function(e){const{tooltip:n,...i}=e;if(!n)return{filteredEncoding:i};let r,o;if(t.isArray(n)){for(const e of n)e.aggregate?(r||(r=[]),r.push(e)):(o||(o=[]),o.push(e));r&&(i.tooltip=r)}else n.aggregate?i.tooltip=n:o=n;return t.isArray(o)&&1===o.length&&(o=o[0]),{customTooltipWithoutAggregatedField:o,filteredEncoding:i}}(d),{bins:g,timeUnits:h,aggregate:y,groupby:v,encoding:b}=is(m,i),x="vertical"===r?"horizontal":"vertical",w=r,$=[...g,...h,{aggregate:[...y,...c],groupby:v},...u];return{bins:g,timeUnits:h,transform:$,groupby:v,aggregate:y,continuousAxisChannelDef:o,continuousAxis:a,encodingWithoutContinuousAxis:b,ticksOrient:x,boxOrient:w,customTooltipWithoutAggregatedField:p}}(e,u,i),{color:F,size:z,..._}=$,C=e=>fs(c,b,v,e,i.boxplot),N=C(_),P=C($),j=C({..._,...z?{size:z}:{}}),A=cs([{fieldPrefix:"min-max"===p?"upper_whisker_":"max_",titlePrefix:"Max"},{fieldPrefix:"upper_box_",titlePrefix:"Q3"},{fieldPrefix:"mid_box_",titlePrefix:"Median"},{fieldPrefix:"lower_box_",titlePrefix:"Q1"},{fieldPrefix:"min-max"===p?"lower_whisker_":"min_",titlePrefix:"Min"}],v,$),E={type:"tick",color:"black",opacity:1,orient:k,invalid:d,aria:!1},T="min-max"===p?A:cs([{fieldPrefix:"upper_whisker_",titlePrefix:"Upper Whisker"},{fieldPrefix:"lower_whisker_",titlePrefix:"Lower Whisker"}],v,$),M=[...N({partName:"rule",mark:{type:"rule",invalid:d,aria:!1},positionPrefix:"lower_whisker",endPositionPrefix:"lower_box",extraEncoding:T}),...N({partName:"rule",mark:{type:"rule",invalid:d,aria:!1},positionPrefix:"upper_box",endPositionPrefix:"upper_whisker",extraEncoding:T}),...N({partName:"ticks",mark:E,positionPrefix:"lower_whisker",extraEncoding:T}),...N({partName:"ticks",mark:E,positionPrefix:"upper_whisker",extraEncoding:T})],L=[..."tukey"!==p?M:[],...P({partName:"box",mark:{type:"bar",...f?{size:f}:{},orient:S,invalid:d,ariaRoleDescription:"box"},positionPrefix:"lower_box",endPositionPrefix:"upper_box",extraEncoding:A}),...j({partName:"median",mark:{type:"tick",invalid:d,...t.isObject(i.boxplot.median)&&i.boxplot.median.color?{color:i.boxplot.median.color}:{},...f?{size:f}:{},orient:k,aria:!1},positionPrefix:"mid_box",extraEncoding:A})];if("min-max"===p)return{...l,transform:(l.transform??[]).concat(y),layer:L};const q=`datum["lower_box_${v.field}"]`,W=`datum["upper_box_${v.field}"]`,R=`(${W} - ${q})`,U=`${q} - ${u} * ${R}`,B=`${W} + ${u} * ${R}`,I=`datum["${v.field}"]`,H={joinaggregate:xs(v.field),groupby:x},V={transform:[{filter:`(${U} <= ${I}) && (${I} <= ${B})`},{aggregate:[{op:"min",field:v.field,as:`lower_whisker_${v.field}`},{op:"max",field:v.field,as:`upper_whisker_${v.field}`},{op:"min",field:`lower_box_${v.field}`,as:`lower_box_${v.field}`},{op:"max",field:`upper_box_${v.field}`,as:`upper_box_${v.field}`},...w],groupby:x}],layer:M},{tooltip:G,...Y}=_,{scale:X,axis:J}=v,Q=us(v),K=m(J,["title"]),Z=ds(c,"outliers",i.boxplot,{transform:[{filter:`(${I} < ${U}) || (${I} > ${B})`}],mark:"point",encoding:{[b]:{field:v.field,type:v.type,...void 0!==Q?{title:Q}:{},...void 0!==X?{scale:X}:{},...O(K)?{}:{axis:K}},...Y,...F?{color:F}:{},...D?{tooltip:D}:{}}})[0];let ee;const te=[...g,...h,H];return Z?ee={transform:te,layer:[Z,V]}:(ee=V,ee.transform.unshift(...te)),{...l,layer:[ee,{transform:y,layer:L}]}}function xs(e){return[{op:"q1",field:e,as:`lower_box_${e}`},{op:"q3",field:e,as:`upper_box_${e}`}]}const ws="errorbar",$s=new Ka(ws,ks);function ks(e,t){let{config:n}=t;e={...e,encoding:os(e.encoding,n)};const{transform:i,continuousAxisChannelDef:r,continuousAxis:o,encodingWithoutContinuousAxis:a,ticksOrient:s,markDef:l,outerSpec:c,tooltipEncoding:u}=Ds(e,ws,n);delete a.size;const f=fs(l,o,r,a,n.errorbar),d=l.thickness,p=l.size,m={type:"tick",orient:s,aria:!1,...void 0!==d?{thickness:d}:{},...void 0!==p?{size:p}:{}},g=[...f({partName:"ticks",mark:m,positionPrefix:"lower",extraEncoding:u}),...f({partName:"ticks",mark:m,positionPrefix:"upper",extraEncoding:u}),...f({partName:"rule",mark:{type:"rule",ariaRoleDescription:"errorbar",...void 0!==d?{size:d}:{}},positionPrefix:"lower",endPositionPrefix:"upper",extraEncoding:u})];return{...c,transform:i,...g.length>1?{layer:g}:{...g[0]}}}function Ss(e,t){const{encoding:n}=e;if(function(e){return(ua(e.x)||ua(e.y))&&!ua(e.x2)&&!ua(e.y2)&&!ua(e.xError)&&!ua(e.xError2)&&!ua(e.yError)&&!ua(e.yError2)}(n))return{orient:gs(e,t),inputType:"raw"};const i=function(e){return ua(e.x2)||ua(e.y2)}(n),r=function(e){return ua(e.xError)||ua(e.xError2)||ua(e.yError)||ua(e.yError2)}(n),o=n.x,a=n.y;if(i){if(r)throw new Error(`${t} cannot be both type aggregated-upper-lower and aggregated-error`);const e=n.x2,i=n.y2;if(ua(e)&&ua(i))throw new Error(`${t} cannot have both x2 and y2`);if(ua(e)){if(la(o))return{orient:"horizontal",inputType:"aggregated-upper-lower"};throw new Error(`Both x and x2 have to be quantitative in ${t}`)}if(ua(i)){if(la(a))return{orient:"vertical",inputType:"aggregated-upper-lower"};throw new Error(`Both y and y2 have to be quantitative in ${t}`)}throw new Error("No ranged axis")}{const e=n.xError,i=n.xError2,r=n.yError,s=n.yError2;if(ua(i)&&!ua(e))throw new Error(`${t} cannot have xError2 without xError`);if(ua(s)&&!ua(r))throw new Error(`${t} cannot have yError2 without yError`);if(ua(e)&&ua(r))throw new Error(`${t} cannot have both xError and yError with both are quantiative`);if(ua(e)){if(la(o))return{orient:"horizontal",inputType:"aggregated-error"};throw new Error("All x, xError, and xError2 (if exist) have to be quantitative")}if(ua(r)){if(la(a))return{orient:"vertical",inputType:"aggregated-error"};throw new Error("All y, yError, and yError2 (if exist) have to be quantitative")}throw new Error("No ranged axis")}}function Ds(e,t,n){const{mark:i,encoding:r,params:o,projection:a,...s}=e,l=ho(i)?i:{type:i};o&&Ci(Xn(t));const{orient:c,inputType:u}=Ss(e,t),{continuousAxisChannelDef:f,continuousAxisChannelDef2:d,continuousAxisChannelDefError:p,continuousAxisChannelDefError2:m,continuousAxis:g}=ps(e,c,t),{errorBarSpecificAggregate:h,postAggregateCalculates:y,tooltipSummary:v,tooltipTitleWithFieldName:b}=function(e,t,n,i,r,o,a,s){let l=[],c=[];const u=t.field;let f,d=!1;if("raw"===o){const t=e.center?e.center:e.extent?"iqr"===e.extent?"median":"mean":s.errorbar.center,n=e.extent?e.extent:"mean"===t?"stderr":"iqr";if("median"===t!=("iqr"===n)&&Ci(function(e,t,n){return`${e} is not usually used with ${t} for ${n}.`}(t,n,a)),"stderr"===n||"stdev"===n)l=[{op:n,field:u,as:`extent_${u}`},{op:t,field:u,as:`center_${u}`}],c=[{calculate:`datum["center_${u}"] + datum["extent_${u}"]`,as:`upper_${u}`},{calculate:`datum["center_${u}"] - datum["extent_${u}"]`,as:`lower_${u}`}],f=[{fieldPrefix:"center_",titlePrefix:T(t)},{fieldPrefix:"upper_",titlePrefix:Fs(t,n,"+")},{fieldPrefix:"lower_",titlePrefix:Fs(t,n,"-")}],d=!0;else{let e,t,i;"ci"===n?(e="mean",t="ci0",i="ci1"):(e="median",t="q1",i="q3"),l=[{op:t,field:u,as:`lower_${u}`},{op:i,field:u,as:`upper_${u}`},{op:e,field:u,as:`center_${u}`}],f=[{fieldPrefix:"upper_",titlePrefix:Fa({field:u,aggregate:i,type:"quantitative"},s,{allowDisabling:!1})},{fieldPrefix:"lower_",titlePrefix:Fa({field:u,aggregate:t,type:"quantitative"},s,{allowDisabling:!1})},{fieldPrefix:"center_",titlePrefix:Fa({field:u,aggregate:e,type:"quantitative"},s,{allowDisabling:!1})}]}}else{(e.center||e.extent)&&Ci((p=e.center,`${(m=e.extent)?"extent ":""}${m&&p?"and ":""}${p?"center ":""}${m&&p?"are ":"is "}not needed when data are aggregated.`)),"aggregated-upper-lower"===o?(f=[],c=[{calculate:`datum["${n.field}"]`,as:`upper_${u}`},{calculate:`datum["${u}"]`,as:`lower_${u}`}]):"aggregated-error"===o&&(f=[{fieldPrefix:"",titlePrefix:u}],c=[{calculate:`datum["${u}"] + datum["${i.field}"]`,as:`upper_${u}`}],r?c.push({calculate:`datum["${u}"] + datum["${r.field}"]`,as:`lower_${u}`}):c.push({calculate:`datum["${u}"] - datum["${i.field}"]`,as:`lower_${u}`}));for(const e of c)f.push({fieldPrefix:e.as.substring(0,6),titlePrefix:R(R(e.calculate,'datum["',""),'"]',"")})}var p,m;return{postAggregateCalculates:c,errorBarSpecificAggregate:l,tooltipSummary:f,tooltipTitleWithFieldName:d}}(l,f,d,p,m,u,t,n),{[g]:x,["x"===g?"x2":"y2"]:w,["x"===g?"xError":"yError"]:$,["x"===g?"xError2":"yError2"]:k,...S}=r,{bins:D,timeUnits:F,aggregate:z,groupby:O,encoding:_}=is(S,n),C=[...z,...h],N="raw"!==u?[]:O,P=cs(v,f,_,b);return{transform:[...s.transform??[],...D,...F,...0===C.length?[]:[{aggregate:C,groupby:N}],...y],groupby:N,continuousAxisChannelDef:f,continuousAxis:g,encodingWithoutContinuousAxis:_,ticksOrient:"vertical"===c?"horizontal":"vertical",markDef:l,outerSpec:s,tooltipEncoding:P}}function Fs(e,t,n){return`${T(e)} ${n} ${t}`}const zs="errorband",Os=new Ka(zs,_s);function _s(e,t){let{config:n}=t;e={...e,encoding:os(e.encoding,n)};const{transform:i,continuousAxisChannelDef:r,continuousAxis:o,encodingWithoutContinuousAxis:a,markDef:s,outerSpec:l,tooltipEncoding:c}=Ds(e,zs,n),u=s,f=fs(u,o,r,a,n.errorband),d=void 0!==e.encoding.x&&void 0!==e.encoding.y;let p={type:d?"area":"rect"},m={type:d?"line":"rule"};const g={...u.interpolate?{interpolate:u.interpolate}:{},...u.tension&&u.interpolate?{tension:u.tension}:{}};return d?(p={...p,...g,ariaRoleDescription:"errorband"},m={...m,...g,aria:!1}):u.interpolate?Ci(ki("interpolate")):u.tension&&Ci(ki("tension")),{...l,transform:i,layer:[...f({partName:"band",mark:p,positionPrefix:"lower",endPositionPrefix:"upper",extraEncoding:c}),...f({partName:"borders",mark:m,positionPrefix:"lower",extraEncoding:c}),...f({partName:"borders",mark:m,positionPrefix:"upper",extraEncoding:c})]}}const Cs={};function Ns(e,t,n){const i=new Ka(e,t);Cs[e]={normalizer:i,parts:n}}Ns(hs,bs,["box","median","outliers","rule","ticks"]),Ns(ws,ks,["ticks","rule"]),Ns(zs,_s,["band","borders"]);const Ps=["gradientHorizontalMaxLength","gradientHorizontalMinLength","gradientVerticalMaxLength","gradientVerticalMinLength","unselectedOpacity"],js={titleAlign:"align",titleAnchor:"anchor",titleAngle:"angle",titleBaseline:"baseline",titleColor:"color",titleFont:"font",titleFontSize:"fontSize",titleFontStyle:"fontStyle",titleFontWeight:"fontWeight",titleLimit:"limit",titleLineHeight:"lineHeight",titleOrient:"orient",titlePadding:"offset"},As={labelAlign:"align",labelAnchor:"anchor",labelAngle:"angle",labelBaseline:"baseline",labelColor:"color",labelFont:"font",labelFontSize:"fontSize",labelFontStyle:"fontStyle",labelFontWeight:"fontWeight",labelLimit:"limit",labelLineHeight:"lineHeight",labelOrient:"orient",labelPadding:"offset"},Es=_(js),Ts=_(As),Ms=_({header:1,headerRow:1,headerColumn:1,headerFacet:1}),Ls=["size","shape","fill","stroke","strokeDash","strokeWidth","opacity"],qs="_vgsid_",Ws={point:{on:"click",fields:[qs],toggle:"event.shiftKey",resolve:"global",clear:"dblclick"},interval:{on:"[mousedown, window:mouseup] > window:mousemove!",encodings:["x","y"],translate:"[mousedown, window:mouseup] > window:mousemove!",zoom:"wheel!",mark:{fill:"#333",fillOpacity:.125,stroke:"white"},resolve:"global",clear:"dblclick"}};function Rs(e){return"legend"===e||!(null==e||!e.legend)}function Us(e){return Rs(e)&&t.isObject(e)}function Bs(e){return!(null==e||!e.select)}function Is(e){const t=[];for(const n of e||[]){if(Bs(n))continue;const{expr:e,bind:i,...r}=n;if(i&&e){const n={...r,bind:i,init:e};t.push(n)}else{const n={...r,...e?{update:e}:{},...i?{bind:i}:{}};t.push(n)}}return t}function Hs(e){return"concat"in e}function Vs(e){return"vconcat"in e}function Gs(e){return"hconcat"in e}function Ys(e){let{step:t,offsetIsDiscrete:n}=e;return n?t.for??"offset":"position"}function Xs(e){return t.isObject(e)&&void 0!==e.step}function Js(e){return e.view||e.width||e.height}const Qs=_({align:1,bounds:1,center:1,columns:1,spacing:1});function Ks(e,t){return e[t]??e["width"===t?"continuousWidth":"continuousHeight"]}function Zs(e,t){const n=el(e,t);return Xs(n)?n.step:tl}function el(e,t){return I(e[t]??e["width"===t?"discreteWidth":"discreteHeight"],{step:e.step})}const tl=20,nl={background:"white",padding:5,timeFormat:"%b %d, %Y",countTitle:"Count of Records",view:{continuousWidth:200,continuousHeight:200,step:tl},mark:{color:"#4c78a8",invalid:"filter",timeUnitBandSize:1},arc:{},area:{},bar:$o,circle:{},geoshape:{},image:{},line:{},point:{},rect:ko,rule:{color:"black"},square:{},text:{color:"black"},tick:{thickness:1},trail:{},boxplot:{size:14,extent:1.5,box:{},median:{color:"white"},outliers:{},rule:{},ticks:null},errorbar:{center:"mean",rule:!0,ticks:!1},errorband:{band:{opacity:.3},borders:!1},scale:{pointPadding:.5,barBandPaddingInner:.1,rectBandPaddingInner:0,bandWithNestedOffsetPaddingInner:.2,bandWithNestedOffsetPaddingOuter:.2,minBandSize:2,minFontSize:8,maxFontSize:40,minOpacity:.3,maxOpacity:.8,minSize:9,minStrokeWidth:1,maxStrokeWidth:4,quantileCount:4,quantizeCount:4,zero:!0},projection:{},legend:{gradientHorizontalMaxLength:200,gradientHorizontalMinLength:100,gradientVerticalMaxLength:200,gradientVerticalMinLength:64,unselectedOpacity:.35},header:{titlePadding:10,labelPadding:10},headerColumn:{},headerRow:{},headerFacet:{},selection:Ws,style:{},title:{},facet:{spacing:20},concat:{spacing:20},normalizedNumberFormat:".0%"},il=["#4c78a8","#f58518","#e45756","#72b7b2","#54a24b","#eeca3b","#b279a2","#ff9da6","#9d755d","#bab0ac"],rl={text:11,guideLabel:10,guideTitle:11,groupTitle:13,groupSubtitle:12},ol={blue:il[0],orange:il[1],red:il[2],teal:il[3],green:il[4],yellow:il[5],purple:il[6],pink:il[7],brown:il[8],gray0:"#000",gray1:"#111",gray2:"#222",gray3:"#333",gray4:"#444",gray5:"#555",gray6:"#666",gray7:"#777",gray8:"#888",gray9:"#999",gray10:"#aaa",gray11:"#bbb",gray12:"#ccc",gray13:"#ddd",gray14:"#eee",gray15:"#fff"};function al(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{signals:[{name:"color",value:t.isObject(e)?{...ol,...e}:ol}],mark:{color:{signal:"color.blue"}},rule:{color:{signal:"color.gray0"}},text:{color:{signal:"color.gray0"}},style:{"guide-label":{fill:{signal:"color.gray0"}},"guide-title":{fill:{signal:"color.gray0"}},"group-title":{fill:{signal:"color.gray0"}},"group-subtitle":{fill:{signal:"color.gray0"}},cell:{stroke:{signal:"color.gray8"}}},axis:{domainColor:{signal:"color.gray13"},gridColor:{signal:"color.gray8"},tickColor:{signal:"color.gray13"}},range:{category:[{signal:"color.blue"},{signal:"color.orange"},{signal:"color.red"},{signal:"color.teal"},{signal:"color.green"},{signal:"color.yellow"},{signal:"color.purple"},{signal:"color.pink"},{signal:"color.brown"},{signal:"color.grey8"}]}}}function sl(e){return{signals:[{name:"fontSize",value:t.isObject(e)?{...rl,...e}:rl}],text:{fontSize:{signal:"fontSize.text"}},style:{"guide-label":{fontSize:{signal:"fontSize.guideLabel"}},"guide-title":{fontSize:{signal:"fontSize.guideTitle"}},"group-title":{fontSize:{signal:"fontSize.groupTitle"}},"group-subtitle":{fontSize:{signal:"fontSize.groupSubtitle"}}}}}function ll(e){return{text:{font:e},style:{"guide-label":{font:e},"guide-title":{font:e},"group-title":{font:e},"group-subtitle":{font:e}}}}function cl(e){const t=_(e||{}),n={};for(const i of t){const t=e[i];n[i]=Ia(t)?wn(t):$n(t)}return n}function ul(e){const t=_(e),n={};for(const i of t)n[i]=cl(e[i]);return n}const fl=[...bo,...Ja,...Ms,"background","padding","legend","lineBreak","scale","style","title","view"];function dl(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{color:n,font:i,fontSize:r,selection:o,...a}=e,s=t.mergeConfig({},f(nl),i?ll(i):{},n?al(n):{},r?sl(r):{},a||{});o&&t.writeConfig(s,"selection",o,!0);const l=m(s,fl);for(const e of["background","lineBreak","padding"])s[e]&&(l[e]=$n(s[e]));for(const e of bo)s[e]&&(l[e]=dn(s[e]));for(const e of Ja)s[e]&&(l[e]=cl(s[e]));for(const e of Ms)s[e]&&(l[e]=dn(s[e]));return s.legend&&(l.legend=dn(s.legend)),s.scale&&(l.scale=dn(s.scale)),s.style&&(l.style=ul(s.style)),s.title&&(l.title=dn(s.title)),s.view&&(l.view=dn(s.view)),l}const pl=new Set(["view",...go]),ml=["color","fontSize","background","padding","facet","concat","numberFormat","numberFormatType","normalizedNumberFormat","normalizedNumberFormatType","timeFormat","countTitle","header","axisQuantitative","axisTemporal","axisDiscrete","axisPoint","axisXBand","axisXPoint","axisXDiscrete","axisXQuantitative","axisXTemporal","axisYBand","axisYPoint","axisYDiscrete","axisYQuantitative","axisYTemporal","scale","selection","overlay"],gl={view:["continuousWidth","continuousHeight","discreteWidth","discreteHeight","step"],area:["line","point"],bar:["binSpacing","continuousBandSize","discreteBandSize"],rect:["binSpacing","continuousBandSize","discreteBandSize"],line:["point"],tick:["bandSize","thickness"]};function hl(e){e=f(e);for(const t of ml)delete e[t];if(e.axis)for(const t in e.axis)Ia(e.axis[t])&&delete e.axis[t];if(e.legend)for(const t of Ps)delete e.legend[t];if(e.mark){for(const t of vo)delete e.mark[t];e.mark.tooltip&&t.isObject(e.mark.tooltip)&&delete e.mark.tooltip}e.params&&(e.signals=(e.signals||[]).concat(Is(e.params)),delete e.params);for(const t of pl){for(const n of vo)delete e[t][n];const n=gl[t];if(n)for(const i of n)delete e[t][i];yl(e,t)}for(const t of _(Cs))delete e[t];!function(e){const{titleMarkConfig:t,subtitleMarkConfig:n,subtitle:i}=pn(e.title);O(t)||(e.style["group-title"]={...e.style["group-title"],...t});O(n)||(e.style["group-subtitle"]={...e.style["group-subtitle"],...n});O(i)?delete e.title:e.title=i}(e);for(const n in e)t.isObject(e[n])&&O(e[n])&&delete e[n];return O(e)?void 0:e}function yl(e,t,n,i){"view"===t&&(n="cell");const r={...i?e[t][i]:e[t],...e.style[n??t]};O(r)||(e.style[n??t]=r),i||delete e[t]}function vl(e){return"layer"in e}class bl{map(e,t){return Jo(e)?this.mapFacet(e,t):function(e){return"repeat"in e}(e)?this.mapRepeat(e,t):Gs(e)?this.mapHConcat(e,t):Vs(e)?this.mapVConcat(e,t):Hs(e)?this.mapConcat(e,t):this.mapLayerOrUnit(e,t)}mapLayerOrUnit(e,t){if(vl(e))return this.mapLayer(e,t);if(Qa(e))return this.mapUnit(e,t);throw new Error(Rn(e))}mapLayer(e,t){return{...e,layer:e.layer.map((e=>this.mapLayerOrUnit(e,t)))}}mapHConcat(e,t){return{...e,hconcat:e.hconcat.map((e=>this.map(e,t)))}}mapVConcat(e,t){return{...e,vconcat:e.vconcat.map((e=>this.map(e,t)))}}mapConcat(e,t){const{concat:n,...i}=e;return{...i,concat:n.map((e=>this.map(e,t)))}}mapFacet(e,t){return{...e,spec:this.map(e.spec,t)}}mapRepeat(e,t){return{...e,spec:this.map(e.spec,t)}}}const xl={zero:1,center:1,normalize:1};const wl=new Set([Kr,eo,Zr,oo,io,co,uo,no,ao,so]),$l=new Set([eo,Zr,Kr]);function kl(e){return oa(e)&&"quantitative"===aa(e)&&!e.bin}function Sl(e,t){const n="x"===t?"y":"radius",i=e[t],r=e[n];if(oa(i)&&oa(r))if(kl(i)&&kl(r)){if(i.stack)return t;if(r.stack)return n;const e=oa(i)&&!!i.aggregate;if(e!==(oa(r)&&!!r.aggregate))return e?t:n;{var o,a;const e=null===(o=i.scale)||void 0===o?void 0:o.type,s=null===(a=r.scale)||void 0===a?void 0:a.type;if(e&&"linear"!==e)return n;if(s&&"linear"!==s)return t}}else{if(kl(i))return t;if(kl(r))return n}else{if(kl(i))return t;if(kl(r))return n}}function Dl(e,n){var i,r;const o=ho(e)?e.type:e;if(!wl.has(o))return null;const a=Sl(n,"x")||Sl(n,"theta");if(!a)return null;const s=n[a],l=oa(s)?ba(s,{}):void 0,c=function(e){switch(e){case"x":return"y";case"y":return"x";case"theta":return"radius";case"radius":return"theta"}}(a),u=[],f=new Set;if(n[c]){const e=n[c],t=oa(e)?ba(e,{}):void 0;t&&t!==l&&(u.push(c),f.add(t));const i="x"===c?"xOffset":"yOffset",r=n[i],o=oa(r)?ba(r,{}):void 0;o&&o!==l&&(u.push(i),f.add(o))}const d=$t.reduce(((e,i)=>{if("tooltip"!==i&&Za(n,i)){const r=n[i];for(const n of t.array(r)){const t=Na(n);if(t.aggregate)continue;const r=ba(t,{});r&&f.has(r)||e.push({channel:i,fieldDef:t})}}return e}),[]);let p;return void 0!==s.stack?p=t.isBoolean(s.stack)?s.stack?"zero":null:s.stack:$l.has(o)&&(p="zero"),p&&p in xl?ns(n)&&0===d.length?null:null!=s&&null!==(i=s.scale)&&void 0!==i&&i.type&&(null==s||null===(r=s.scale)||void 0===r?void 0:r.type)!==vr?(Ci(function(e){return`Cannot stack non-linear scale (${e}).`}(s.scale.type)),null):ua(n[nt(a)])?(void 0!==s.stack&&Ci(`Cannot stack "${m=a}" if there is already "${m}2".`),null):(oa(s)&&s.aggregate&&!nn.has(s.aggregate)&&Ci(`Stacking is applied even though the aggregate function is non-summative ("${s.aggregate}").`),{groupbyChannels:u,groupbyFields:f,fieldChannel:a,impute:null!==s.impute&&po(o),stackBy:d,offset:p}):null;var m}function Fl(e){const{point:t,line:n,...i}=e;return _(i).length>1?i:i.type}function zl(e){for(const t of["line","area","rule","trail"])e[t]&&(e={...e,[t]:m(e[t],["point","line"])});return e}function Ol(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=arguments.length>2?arguments[2]:void 0;return"transparent"===e.point?{opacity:0}:e.point?t.isObject(e.point)?e.point:{}:void 0!==e.point?null:n.point||i.shape?t.isObject(n.point)?n.point:{}:void 0}function _l(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return e.line?!0===e.line?{}:e.line:void 0!==e.line?null:t.line?!0===t.line?{}:t.line:void 0}class Cl{constructor(){Mn(this,"name","path-overlay")}hasMatchingType(e,t){if(Qa(e)){const{mark:n,encoding:i}=e,r=ho(n)?n:{type:n};switch(r.type){case"line":case"rule":case"trail":return!!Ol(r,t[r.type],i);case"area":return!!Ol(r,t[r.type],i)||!!_l(r,t[r.type])}}return!1}run(e,t,n){const{config:i}=t,{params:r,projection:o,mark:a,encoding:s,...l}=e,c=os(s,i),u=ho(a)?a:{type:a},f=Ol(u,i[u.type],c),d="area"===u.type&&_l(u,i[u.type]),g=[{...r?{params:r}:{},mark:Fl({..."area"===u.type&&void 0===u.opacity&&void 0===u.fillOpacity?{opacity:.7}:{},...u}),encoding:m(c,["shape"])}],h=Dl(u,c);let y=c;if(h){const{fieldChannel:e,offset:t}=h;y={...c,[e]:{...c[e],...t?{stack:t}:{}}}}return y=m(y,["y2","x2"]),d&&g.push({...o?{projection:o}:{},mark:{type:"line",...p(u,["clip","interpolate","tension","tooltip"]),...d},encoding:y}),f&&g.push({...o?{projection:o}:{},mark:{type:"point",opacity:1,filled:!0,...p(u,["clip","tooltip"]),...f},encoding:y}),n({...l,layer:g},{...t,config:zl(i)})}}function Nl(e,t){return t?Yo(e)?Ml(e,t):Al(e,t):e}function Pl(e,t){return t?Ml(e,t):e}function jl(e,n,i){const r=n[e];return(o=r)&&!t.isString(o)&&"repeat"in o?r.repeat in i?{...n,[e]:i[r.repeat]}:void Ci(function(e){return`Unknown repeated value "${e}".`}(r.repeat)):n;var o}function Al(e,t){if(void 0!==(e=jl("field",e,t))){if(null===e)return null;if(Ko(e)&&Vo(e.sort)){const n=jl("field",e.sort,t);e={...e,...n?{sort:n}:{}}}return e}}function El(e,t){if(oa(e))return Al(e,t);{const n=jl("datum",e,t);return n===e||n.type||(n.type="nominal"),n}}function Tl(e,t){if(!ua(e)){if(ra(e)){const n=El(e.condition,t);if(n)return{...e,condition:n};{const{condition:t,...n}=e;return n}}return e}{const n=El(e,t);if(n)return n;if(na(e))return{condition:e.condition}}}function Ml(e,n){const i={};for(const r in e)if(t.hasOwnProperty(e,r)){const o=e[r];if(t.isArray(o))i[r]=o.map((e=>Tl(e,n))).filter((e=>e));else{const e=Tl(o,n);void 0!==e&&(i[r]=e)}}return i}class Ll{constructor(){Mn(this,"name","RuleForRangedLine")}hasMatchingType(e){if(Qa(e)){const{encoding:t,mark:n}=e;if("line"===n||ho(n)&&"line"===n.type)for(const e of Ke){const n=t[et(e)];if(t[e]&&(oa(n)&&!sn(n.bin)||sa(n)))return!0}}return!1}run(e,n,i){const{encoding:r,mark:o}=e;var a,s;return Ci((a=!!r.x2,s=!!r.y2,`Line mark is for continuous lines and thus cannot be used with ${a&&s?"x2 and y2":a?"x2":"y2"}. We will use the rule mark (line segments) instead.`)),i({...e,mark:t.isObject(o)?{...o,type:"rule"}:"rule"},n)}}function ql(e){let{parentEncoding:n,encoding:i={},layer:r}=e,o={};if(n){const e=new Set([..._(n),..._(i)]);for(const a of e){const e=i[a],s=n[a];if(ua(e)){const t={...s,...e};o[a]=t}else ra(e)?o[a]={...e,condition:{...s,...e.condition}}:e||null===e?o[a]=e:(r||da(s)||gn(s)||ua(s)||t.isArray(s))&&(o[a]=s)}}else o=i;return!o||O(o)?void 0:o}function Wl(e){const{parentProjection:t,projection:n}=e;return t&&n&&Ci(function(e){const{parentProjection:t,projection:n}=e;return`Layer's shared projection ${g(t)} is overridden by a child projection ${g(n)}.`}({parentProjection:t,projection:n})),n??t}function Rl(e){return"filter"in e}function Ul(e){return"lookup"in e}function Bl(e){return"pivot"in e}function Il(e){return"density"in e}function Hl(e){return"quantile"in e}function Vl(e){return"regression"in e}function Gl(e){return"loess"in e}function Yl(e){return"sample"in e}function Xl(e){return"window"in e}function Jl(e){return"joinaggregate"in e}function Ql(e){return"flatten"in e}function Kl(e){return"calculate"in e}function Zl(e){return"bin"in e}function ec(e){return"impute"in e}function tc(e){return"timeUnit"in e}function nc(e){return"aggregate"in e}function ic(e){return"stack"in e}function rc(e){return"fold"in e}function oc(e,t){const{transform:n,...i}=e;if(n){return{...i,transform:n.map((e=>{if(Rl(e))return{filter:lc(e,t)};if(Zl(e)&&ln(e.bin))return{...e,bin:sc(e.bin)};if(Ul(e)){const{selection:t,...n}=e.from;return t?{...e,from:{param:t,...n}}:e}return e}))}}return e}function ac(e,n){var i,r;const o=f(e);if(oa(o)&&ln(o.bin)&&(o.bin=sc(o.bin)),pa(o)&&null!==(i=o.scale)&&void 0!==i&&null!==(r=i.domain)&&void 0!==r&&r.selection){const{selection:e,...t}=o.scale.domain;o.scale.domain={...t,...e?{param:e}:{}}}if(na(o))if(t.isArray(o.condition))o.condition=o.condition.map((e=>{const{selection:t,param:i,test:r,...o}=e;return i?e:{...o,test:lc(e,n)}}));else{const{selection:e,param:t,test:i,...r}=ac(o.condition,n);o.condition=t?o.condition:{...r,test:lc(o.condition,n)}}return o}function sc(e){const t=e.extent;if(null!=t&&t.selection){const{selection:n,...i}=t;return{...e,extent:{...i,param:n}}}return e}function lc(e,t){const n=e=>c(e,(e=>{const n={param:e,empty:t.emptySelections[e]??!0};return t.selectionPredicates[e]??=[],t.selectionPredicates[e].push(n),n}));return e.selection?n(e.selection):c(e.test||e.filter,(e=>e.selection?n(e.selection):e))}class cc extends bl{map(e,t){const n=t.selections??[];if(e.params&&!Qa(e)){const t=[];for(const i of e.params)Bs(i)?n.push(i):t.push(i);e.params=t}return t.selections=n,super.map(e,uc(e,t))}mapUnit(e,n){const i=n.selections;if(!i||!i.length)return e;const r=(n.path??[]).concat(e.name),o=[];for(const n of i)if(n.views&&n.views.length)for(const i of n.views)(t.isString(i)&&(i===e.name||r.indexOf(i)>=0)||t.isArray(i)&&i.map((e=>r.indexOf(e))).every(((e,t,n)=>-1!==e&&(0===t||e>n[t-1]))))&&o.push(n);else o.push(n);return o.length&&(e.params=o),e}}for(const e of["mapFacet","mapRepeat","mapHConcat","mapVConcat","mapLayer"]){const t=cc.prototype[e];cc.prototype[e]=function(e,n){return t.call(this,e,uc(e,n))}}function uc(e,t){return e.name?{...t,path:(t.path??[]).concat(e.name)}:t}function fc(e,t){void 0===t&&(t=dl(e.config));const n=function(e){const t={config:arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}};return mc.map(dc.map(pc.map(e,t),t),t)}(e,t),{width:i,height:r}=e,o=function(e,t,n){let{width:i,height:r}=t;const o=Qa(e)||vl(e),a={};o?"container"==i&&"container"==r?(a.type="fit",a.contains="padding"):"container"==i?(a.type="fit-x",a.contains="padding"):"container"==r&&(a.type="fit-y",a.contains="padding"):("container"==i&&(Ci(Bn("width")),i=void 0),"container"==r&&(Ci(Bn("height")),r=void 0));const s={type:"pad",...a,...n?gc(n.autosize):{},...gc(e.autosize)};"fit"!==s.type||o||(Ci(Un),s.type="pad");"container"==i&&"fit"!=s.type&&"fit-x"!=s.type&&Ci(In("width"));"container"==r&&"fit"!=s.type&&"fit-y"!=s.type&&Ci(In("height"));if(u(s,{type:"pad"}))return;return s}(n,{width:i,height:r,autosize:e.autosize},t);return{...n,...o?{autosize:o}:{}}}const dc=new class extends bl{constructor(){super(...arguments),Mn(this,"nonFacetUnitNormalizers",[ys,$s,Os,new Cl,new Ll])}map(e,t){if(Qa(e)){const n=Za(e.encoding,Q),i=Za(e.encoding,K),r=Za(e.encoding,Z);if(n||i||r)return this.mapFacetedUnit(e,t)}return super.map(e,t)}mapUnit(e,t){const{parentEncoding:n,parentProjection:i}=t,r=Pl(e.encoding,t.repeater),o={...e,...r?{encoding:r}:{}};if(n||i)return this.mapUnitWithParentEncodingOrProjection(o,t);const a=this.mapLayerOrUnit.bind(this);for(const e of this.nonFacetUnitNormalizers)if(e.hasMatchingType(o,t.config))return e.run(o,t,a);return o}mapRepeat(e,n){return function(e){return!t.isArray(e.repeat)&&e.repeat.layer}(e)?this.mapLayerRepeat(e,n):this.mapNonLayerRepeat(e,n)}mapLayerRepeat(e,t){const{repeat:n,spec:i,...r}=e,{row:o,column:a,layer:s}=n,{repeater:l={},repeaterPrefix:c=""}=t;return o||a?this.mapRepeat({...e,repeat:{...o?{row:o}:{},...a?{column:a}:{}},spec:{repeat:{layer:s},spec:i}},t):{...r,layer:s.map((e=>{const n={...l,layer:e},r=`${(i.name||"")+c}child__layer_${j(e)}`,o=this.mapLayerOrUnit(i,{...t,repeater:n,repeaterPrefix:r});return o.name=r,o}))}}mapNonLayerRepeat(e,n){const{repeat:i,spec:r,data:o,...a}=e;!t.isArray(i)&&e.columns&&(e=m(e,["columns"]),Ci(Qn("repeat")));const s=[],{repeater:l={},repeaterPrefix:c=""}=n,u=!t.isArray(i)&&i.row||[l?l.row:null],f=!t.isArray(i)&&i.column||[l?l.column:null],d=t.isArray(i)&&i||[l?l.repeat:null];for(const e of d)for(const o of u)for(const a of f){const u={repeat:e,row:o,column:a,layer:l.layer},f=(r.name||"")+c+"child__"+(t.isArray(i)?`${j(e)}`:(i.row?`row_${j(o)}`:"")+(i.column?`column_${j(a)}`:"")),d=this.map(r,{...n,repeater:u,repeaterPrefix:f});d.name=f,s.push(m(d,["data"]))}const p=t.isArray(i)?e.columns:i.column?i.column.length:1;return{data:r.data??o,align:"all",...a,columns:p,concat:s}}mapFacet(e,t){const{facet:n}=e;return Yo(n)&&e.columns&&(e=m(e,["columns"]),Ci(Qn("facet"))),super.mapFacet(e,t)}mapUnitWithParentEncodingOrProjection(e,t){const{encoding:n,projection:i}=e,{parentEncoding:r,parentProjection:o,config:a}=t,s=Wl({parentProjection:o,projection:i}),l=ql({parentEncoding:r,encoding:Pl(n,t.repeater)});return this.mapUnit({...e,...s?{projection:s}:{},...l?{encoding:l}:{}},{config:a})}mapFacetedUnit(e,t){const{row:n,column:i,facet:r,...o}=e.encoding,{mark:a,width:s,projection:l,height:c,view:u,params:f,encoding:d,...p}=e,{facetMapping:m,layout:g}=this.getFacetMappingAndLayout({row:n,column:i,facet:r},t),h=Pl(o,t.repeater);return this.mapFacet({...p,...g,facet:m,spec:{...s?{width:s}:{},...c?{height:c}:{},...u?{view:u}:{},...l?{projection:l}:{},mark:a,encoding:h,...f?{params:f}:{}}},t)}getFacetMappingAndLayout(e,t){const{row:n,column:i,facet:r}=e;if(n||i){r&&Ci(`Facet encoding dropped as ${(o=[...n?[Q]:[],...i?[K]:[]]).join(" and ")} ${o.length>1?"are":"is"} also specified.`);const t={},a={};for(const n of[Q,K]){const i=e[n];if(i){const{align:e,center:r,spacing:o,columns:s,...l}=i;t[n]=l;for(const e of["align","center","spacing"])void 0!==i[e]&&(a[e]??={},a[e][n]=i[e])}}return{facetMapping:t,layout:a}}{const{align:e,center:n,spacing:i,columns:o,...a}=r;return{facetMapping:Nl(a,t.repeater),layout:{...e?{align:e}:{},...n?{center:n}:{},...i?{spacing:i}:{},...o?{columns:o}:{}}}}var o}mapLayer(e,t){let{parentEncoding:n,parentProjection:i,...r}=t;const{encoding:o,projection:a,...s}=e,l={...r,parentEncoding:ql({parentEncoding:n,encoding:o,layer:!0}),parentProjection:Wl({parentProjection:i,projection:a})};return super.mapLayer(s,l)}},pc=new class extends bl{map(e,t){return t.emptySelections??={},t.selectionPredicates??={},e=oc(e,t),super.map(e,t)}mapLayerOrUnit(e,t){if((e=oc(e,t)).encoding){const n={};for(const[i,r]of N(e.encoding))n[i]=ac(r,t);e={...e,encoding:n}}return super.mapLayerOrUnit(e,t)}mapUnit(e,t){const{selection:n,...i}=e;return n?{...i,params:N(n).map((e=>{let[n,i]=e;const{init:r,bind:o,empty:a,...s}=i;"single"===s.type?(s.type="point",s.toggle=!1):"multi"===s.type&&(s.type="point"),t.emptySelections[n]="none"!==a;for(const e of C(t.selectionPredicates[n]??{}))e.empty="none"!==a;return{name:n,value:r,select:s,bind:o}}))}:e}},mc=new cc;function gc(e){return t.isString(e)?{type:e}:e??{}}const hc=["background","padding"];function yc(e,t){const n={};for(const t of hc)e&&void 0!==e[t]&&(n[t]=$n(e[t]));return t&&(n.params=e.params),n}class vc{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.explicit=e,this.implicit=t}clone(){return new vc(f(this.explicit),f(this.implicit))}combine(){return{...this.explicit,...this.implicit}}get(e){return I(this.explicit[e],this.implicit[e])}getWithExplicit(e){return void 0!==this.explicit[e]?{explicit:!0,value:this.explicit[e]}:void 0!==this.implicit[e]?{explicit:!1,value:this.implicit[e]}:{explicit:!1,value:void 0}}setWithExplicit(e,t){let{value:n,explicit:i}=t;void 0!==n&&this.set(e,n,i)}set(e,t,n){return delete this[n?"implicit":"explicit"][e],this[n?"explicit":"implicit"][e]=t,this}copyKeyFromSplit(e,t){let{explicit:n,implicit:i}=t;void 0!==n[e]?this.set(e,n[e],!0):void 0!==i[e]&&this.set(e,i[e],!1)}copyKeyFromObject(e,t){void 0!==t[e]&&this.set(e,t[e],!0)}copyAll(e){for(const t of _(e.combine())){const n=e.getWithExplicit(t);this.setWithExplicit(t,n)}}}function bc(e){return{explicit:!0,value:e}}function xc(e){return{explicit:!1,value:e}}function wc(e){return(t,n,i,r)=>{const o=e(t.value,n.value);return o>0?t:o<0?n:$c(t,n,i,r)}}function $c(e,t,n,i){return e.explicit&&t.explicit&&Ci(function(e,t,n,i){return`Conflicting ${t.toString()} property "${e.toString()}" (${g(n)} and ${g(i)}). Using ${g(n)}.`}(n,i,e.value,t.value)),e}function kc(e,t,n,i){let r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:$c;return void 0===e||void 0===e.value?t:e.explicit&&!t.explicit?e:t.explicit&&!e.explicit?t:u(e.value,t.value)?e:r(e,t,n,i)}class Sc extends vc{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];super(e,t),this.explicit=e,this.implicit=t,this.parseNothing=n}clone(){const e=super.clone();return e.parseNothing=this.parseNothing,e}}function Dc(e){return"url"in e}function Fc(e){return"values"in e}function zc(e){return"name"in e&&!Dc(e)&&!Fc(e)&&!Oc(e)}function Oc(e){return e&&(_c(e)||Cc(e)||Nc(e))}function _c(e){return"sequence"in e}function Cc(e){return"sphere"in e}function Nc(e){return"graticule"in e}let Pc;function jc(e){let n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t.identity;if(t.isArray(e)){const t=e.map((e=>jc(e,n,i)));return n?`[${t.join(", ")}]`:t}return Ni(e)?i(n?Mi(e):qi(e)):n?i(g(e)):e}function Ac(e,n){for(const i of C(e.component.selection??{})){const r=i.name;let o=`${r}${Hu}, ${"global"===i.resolve?"true":`{unit: ${Ju(e)}}`}`;for(const t of Yu)t.defined(i)&&(t.signals&&(n=t.signals(e,i,n)),t.modifyExpr&&(o=t.modifyExpr(e,i,o)));n.push({name:r+Vu,on:[{events:{signal:i.name+Hu},update:`modify(${t.stringValue(i.name+Iu)}, ${o})`}]})}return Mc(n)}function Ec(e,n){if(e.component.selection&&_(e.component.selection).length){const i=t.stringValue(e.getName("cell"));n.unshift({name:"facet",value:{},on:[{events:t.parseSelector("mousemove","scope"),update:`isTuple(facet) ? facet : group(${i}).datum`}]})}return Mc(n)}function Tc(e,t){for(const n of C(e.component.selection??{}))for(const i of Yu)i.defined(n)&&i.marks&&(t=i.marks(e,n,t));return t}function Mc(e){return e.map((e=>(e.on&&!e.on.length&&delete e.on,e)))}!function(e){e[e.Raw=0]="Raw",e[e.Main=1]="Main",e[e.Row=2]="Row",e[e.Column=3]="Column",e[e.Lookup=4]="Lookup"}(Pc||(Pc={}));class Lc{constructor(e,t){this.debugName=t,Mn(this,"_children",[]),Mn(this,"_parent",null),Mn(this,"_hash",void 0),e&&(this.parent=e)}clone(){throw new Error("Cannot clone node")}get parent(){return this._parent}set parent(e){this._parent=e,e&&e.addChild(this)}get children(){return this._children}numChildren(){return this._children.length}addChild(e,t){this._children.includes(e)?Ci("Attempt to add the same child twice."):void 0!==t?this._children.splice(t,0,e):this._children.push(e)}removeChild(e){const t=this._children.indexOf(e);return this._children.splice(t,1),t}remove(){let e=this._parent.removeChild(this);for(const t of this._children)t._parent=this._parent,this._parent.addChild(t,e++)}insertAsParentOf(e){const t=e.parent;t.removeChild(this),this.parent=t,e.parent=this}swapWithParent(){const e=this._parent,t=e.parent;for(const t of this._children)t.parent=e;this._children=[],e.removeChild(this);const n=e.parent.removeChild(e);this._parent=t,t.addChild(this,n),e.parent=this}}class qc extends Lc{clone(){const e=new this.constructor;return e.debugName=`clone_${this.debugName}`,e._source=this._source,e._name=`clone_${this._name}`,e.type=this.type,e.refCounts=this.refCounts,e.refCounts[e._name]=0,e}constructor(e,t,n,i){super(e,t),this.type=n,this.refCounts=i,Mn(this,"_source",void 0),Mn(this,"_name",void 0),this._source=this._name=t,this.refCounts&&!(this._name in this.refCounts)&&(this.refCounts[this._name]=0)}dependentFields(){return new Set}producedFields(){return new Set}hash(){return void 0===this._hash&&(this._hash=`Output ${V()}`),this._hash}getSource(){return this.refCounts[this._name]++,this._source}isRequired(){return!!this.refCounts[this._name]}setSource(e){this._source=e}}class Wc extends Lc{clone(){return new Wc(null,f(this.formula))}constructor(e,t){super(e),this.formula=t}static makeFromEncoding(e,t){const n=t.reduceFieldDef(((e,t)=>{const{field:n,timeUnit:i}=t;if(i){const r=ba(t,{forAs:!0});e[h({as:r,field:n,timeUnit:i})]={as:r,field:n,timeUnit:i}}return e}),{});return O(n)?null:new Wc(e,n)}static makeFromTransform(e,t){const{timeUnit:n,...i}={...t},r={...i,timeUnit:Yi(n)};return new Wc(e,{[h(r)]:r})}merge(e){this.formula={...this.formula};for(const t in e.formula)this.formula[t]||(this.formula[t]=e.formula[t]);for(const t of e.children)e.removeChild(t),t.parent=this;e.remove()}removeFormulas(e){const t={};for(const[n,i]of N(this.formula))e.has(i.as)||(t[n]=i);this.formula=t}producedFields(){return new Set(C(this.formula).map((e=>e.as)))}dependentFields(){return new Set(C(this.formula).map((e=>e.field)))}hash(){return`TimeUnit ${h(this.formula)}`}assemble(){const e=[];for(const t of C(this.formula)){const{field:n,as:i,timeUnit:r}=t,{unit:o,utc:a,...s}=Yi(r);e.push({field:W(n),type:"timeunit",...o?{units:Ii(o)}:{},...a?{timezone:"utc"}:{},...s,as:[i,`${i}_end`]})}return e}}const Rc="_tuple_fields";class Uc{constructor(){Mn(this,"hasChannel",void 0),Mn(this,"hasField",void 0),Mn(this,"hasSelectionId",void 0),Mn(this,"timeUnit",void 0),Mn(this,"items",void 0);for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this.items=t,this.hasChannel={},this.hasField={},this.hasSelectionId=!1}}const Bc={defined:()=>!0,parse:(e,n,i)=>{const r=n.name,o=n.project??=new Uc,a={},s={},l=new Set,c=(e,t)=>{const n="visual"===t?e.channel:e.field;let i=j(`${r}_${n}`);for(let e=1;l.has(i);e++)i=j(`${r}_${n}_${e}`);return l.add(i),{[t]:i}},u=n.type,f=e.config.selection[u],d=void 0!==i.value?t.array(i.value):null;let{fields:p,encodings:m}=t.isObject(i.select)?i.select:{};if(!p&&!m&&d)for(const e of d)if(t.isObject(e))for(const t of _(e))Je[t]?(m||(m=[])).push(t):"interval"===u?(Ci('Interval selections should be initialized using "x" and/or "y" keys.'),m=f.encodings):(p||(p=[])).push(t);p||m||(m=f.encodings,"fields"in f&&(p=f.fields));for(const t of m??[]){const n=e.fieldDef(t);if(n){let i=n.field;if(n.aggregate){Ci(Yn(t,n.aggregate));continue}if(!i){Ci(Gn(t));continue}if(n.timeUnit){i=e.vgField(t);const r={timeUnit:n.timeUnit,as:i,field:n.field};s[h(r)]=r}if(!a[i]){let r="E";if("interval"===u){Er(e.getScaleComponent(t).get("type"))&&(r="R")}else n.bin&&(r="R-RE");const s={field:i,channel:t,type:r};s.signals={...c(s,"data"),...c(s,"visual")},o.items.push(a[i]=s),o.hasField[i]=o.hasChannel[t]=a[i],o.hasSelectionId=o.hasSelectionId||i===qs}}else Ci(Gn(t))}for(const e of p??[]){if(o.hasField[e])continue;const t={type:"E",field:e};t.signals={...c(t,"data")},o.items.push(t),o.hasField[e]=t,o.hasSelectionId=o.hasSelectionId||e===qs}d&&(n.init=d.map((e=>o.items.map((n=>t.isObject(e)?void 0!==e[n.channel]?e[n.channel]:e[n.field]:e))))),O(s)||(o.timeUnit=new Wc(null,s))},signals:(e,t,n)=>{const i=t.name+Rc;return n.filter((e=>e.name===i)).length>0||t.project.hasSelectionId?n:n.concat({name:i,value:t.project.items.map((e=>{const{signals:t,hasLegend:n,...i}=e;return i.field=W(i.field),i}))})}},Ic={defined:e=>"interval"===e.type&&"global"===e.resolve&&e.bind&&"scales"===e.bind,parse:(e,t)=>{const n=t.scales=[];for(const i of t.project.items){const r=i.channel;if(!Bt(r))continue;const o=e.getScaleComponent(r),a=o?o.get("type"):void 0;o&&Er(a)?(o.set("selectionExtent",{param:t.name,field:i.field},!0),n.push(i)):Ci("Scale bindings are currently only supported for scales with unbinned, continuous domains.")}},topLevelSignals:(e,n,i)=>{const r=n.scales.filter((e=>0===i.filter((t=>t.name===e.signals.data)).length));if(!e.parent||Vc(e)||0===r.length)return i;const o=i.filter((e=>e.name===n.name))[0];let a=o.update;if(a.indexOf(Gu)>=0)o.update=`{${r.map((e=>`${t.stringValue(W(e.field))}: ${e.signals.data}`)).join(", ")}}`;else{for(const e of r){const n=`${t.stringValue(W(e.field))}: ${e.signals.data}`;a.includes(n)||(a=`${a.substring(0,a.length-1)}, ${n}}`)}o.update=a}return i.concat(r.map((e=>({name:e.signals.data}))))},signals:(e,t,n)=>{if(e.parent&&!Vc(e))for(const e of t.scales){const t=n.filter((t=>t.name===e.signals.data))[0];t.push="outer",delete t.value,delete t.update}return n}};function Hc(e,n){return`domain(${t.stringValue(e.scaleName(n))})`}function Vc(e){return e.parent&&Mp(e.parent)&&(!e.parent.parent??Vc(e.parent.parent))}const Gc="_brush",Yc="_scale_trigger",Xc={defined:e=>"interval"===e.type,signals:(e,n,i)=>{const r=n.name,o=r+Rc,a=Ic.defined(n),s=n.init?n.init[0]:null,l=[],c=[];if(n.translate&&!a){const e=`!event.item || event.item.mark.name !== ${t.stringValue(r+Gc)}`;Jc(n,((n,i)=>{const r=t.array(i.between[0].filter??=[]);return r.includes(e)||r.push(e),n}))}n.project.items.forEach(((r,o)=>{const a=r.channel;if(a!==ee&&a!==te)return void Ci("Interval selections only support x and y encoding channels.");const u=s?s[o]:null,f=function(e,n,i,r){const o=i.channel,a=i.signals.visual,s=i.signals.data,l=Ic.defined(n),c=t.stringValue(e.scaleName(o)),u=e.getScaleComponent(o),f=u?u.get("type"):void 0,d=e=>`scale(${c}, ${e})`,p=e.getSizeSignalRef(o===ee?"width":"height").signal,m=`${o}(unit)`,g=Jc(n,((e,t)=>[...e,{events:t.between[0],update:`[${m}, ${m}]`},{events:t,update:`[${a}[0], clamp(${m}, 0, ${p})]`}]));return g.push({events:{signal:n.name+Yc},update:Er(f)?`[${d(`${s}[0]`)}, ${d(`${s}[1]`)}]`:"[0, 0]"}),l?[{name:s,on:[]}]:[{name:a,...r?{init:jc(r,!0,d)}:{value:[]},on:g},{name:s,...r?{init:jc(r)}:{},on:[{events:{signal:a},update:`${a}[0] === ${a}[1] ? null : invert(${c}, ${a})`}]}]}(e,n,r,u),d=r.signals.data,p=r.signals.visual,m=t.stringValue(e.scaleName(a)),g=Er(e.getScaleComponent(a).get("type"))?"+":"";i.push(...f),l.push(d),c.push({scaleName:e.scaleName(a),expr:`(!isArray(${d}) || (${g}invert(${m}, ${p})[0] === ${g}${d}[0] && ${g}invert(${m}, ${p})[1] === ${g}${d}[1]))`})})),!a&&c.length&&i.push({name:r+Yc,value:{},on:[{events:c.map((e=>({scale:e.scaleName}))),update:`${c.map((e=>e.expr)).join(" && ")} ? ${r+Yc} : {}`}]});const u=`unit: ${Ju(e)}, fields: ${o}, values`;return i.concat({name:r+Hu,...s?{init:`{${u}: ${jc(s)}}`}:{},...l.length?{on:[{events:[{signal:l.join(" || ")}],update:`${l.join(" && ")} ? {${u}: [${l}]} : null`}]}:{}})},marks:(e,n,i)=>{const r=n.name,{x:o,y:a}=n.project.hasChannel,s=null==o?void 0:o.signals.visual,l=null==a?void 0:a.signals.visual,c=`data(${t.stringValue(n.name+Iu)})`;if(Ic.defined(n)||!o&&!a)return i;const u={x:void 0!==o?{signal:`${s}[0]`}:{value:0},y:void 0!==a?{signal:`${l}[0]`}:{value:0},x2:void 0!==o?{signal:`${s}[1]`}:{field:{group:"width"}},y2:void 0!==a?{signal:`${l}[1]`}:{field:{group:"height"}}};if("global"===n.resolve)for(const t of _(u))u[t]=[{test:`${c}.length && ${c}[0].unit === ${Ju(e)}`,...u[t]},{value:0}];const{fill:f,fillOpacity:d,cursor:p,...m}=n.mark,g=_(m).reduce(((e,t)=>(e[t]=[{test:[void 0!==o&&`${s}[0] !== ${s}[1]`,void 0!==a&&`${l}[0] !== ${l}[1]`].filter((e=>e)).join(" && "),value:m[t]},{value:null}],e)),{});return[{name:`${r+Gc}_bg`,type:"rect",clip:!0,encode:{enter:{fill:{value:f},fillOpacity:{value:d}},update:u}},...i,{name:r+Gc,type:"rect",clip:!0,encode:{enter:{...p?{cursor:{value:p}}:{},fill:{value:"transparent"}},update:{...u,...g}}}]}};function Jc(e,t){return e.events.reduce(((e,n)=>n.between?t(e,n):(Ci(`${n} is not an ordered event stream for interval selections.`),e)),[])}const Qc={defined:e=>"point"===e.type,signals:(e,n,i)=>{const r=n.name,o=r+Rc,a=n.project,s="(item().isVoronoi ? datum.datum : datum)",l=C(e.component.selection??{}).reduce(((e,t)=>"interval"===t.type?e.concat(t.name+Gc):e),[]).map((e=>`indexof(item().mark.name, '${e}') < 0`)).join(" && "),c="datum && item().mark.marktype !== 'group' && indexof(item().mark.role, 'legend') < 0"+(l?` && ${l}`:"");let u=`unit: ${Ju(e)}, `;if(n.project.hasSelectionId)u+=`_vgsid_: ${s}[${t.stringValue(qs)}]`;else{u+=`fields: ${o}, values: [${a.items.map((n=>{const i=e.fieldDef(n.channel);return null!=i&&i.bin?`[${s}[${t.stringValue(e.vgField(n.channel,{}))}], ${s}[${t.stringValue(e.vgField(n.channel,{binSuffix:"end"}))}]]`:`${s}[${t.stringValue(n.field)}]`})).join(", ")}]`}const f=n.events;return i.concat([{name:r+Hu,on:f?[{events:f,update:`${c} ? {${u}} : null`,force:!0}]:[]}])}};function Kc(e,n,i,r){const o=na(n)&&n.condition,a=r(n);if(o){return{[i]:[...t.array(o).map((t=>{const n=r(t);if(function(e){return e.param}(t)){const{param:i,empty:r}=t;return{test:rf(e,{param:i,empty:r}),...n}}return{test:af(e,t.test),...n}})),...void 0!==a?[a]:[]]}}return void 0!==a?{[i]:a}:{}}function Zc(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"text";const n=e.encoding[t];return Kc(e,n,t,(t=>eu(t,e.config)))}function eu(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"datum";if(e){if(da(e))return Sn(e.value);if(ua(e)){const{format:i,formatType:r}=_a(e);return jo({fieldOrDatumDef:e,format:i,formatType:r,expr:n,config:t})}}}function tu(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{encoding:i,markDef:r,config:o,stack:a}=e,s=i.tooltip;if(t.isArray(s))return{tooltip:iu({tooltip:s},a,o,n)};{const l=n.reactiveGeom?"datum.datum":"datum";return Kc(e,s,"tooltip",(e=>{const s=eu(e,o,l);if(s)return s;if(null===e)return;let c=_n("tooltip",r,o);return!0===c&&(c={content:"encoding"}),t.isString(c)?{value:c}:t.isObject(c)?gn(c)?c:"encoding"===c.content?iu(i,a,o,n):{signal:l}:void 0}))}}function nu(e,n,i){let{reactiveGeom:r}=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};const o={},a=r?"datum.datum":"datum",s=[];function l(r,l){const c=et(l),u=fa(r)?r:{...r,type:e[c].type},f=u.title||Oa(u,i),d=t.array(f).join(", ");let p;if(Dt(l)){const t="x"===l?"x2":"y2",n=Na(e[t]);if(sn(u.bin)&&n){const e=ba(u,{expr:a}),r=ba(n,{expr:a}),{format:s,formatType:l}=_a(u);p=Ro(e,r,s,l,i),o[t]=!0}}if((Dt(l)||l===le||l===ae)&&n&&n.fieldChannel===l&&"normalize"===n.offset){const{format:e,formatType:t}=_a(u);p=jo({fieldOrDatumDef:u,format:e,formatType:t,expr:a,config:i,normalizeStack:!0}).signal}p??=eu(u,i,a).signal,s.push({channel:l,key:d,value:p})}ss(e,((e,t)=>{oa(e)?l(e,t):ia(e)&&l(e.condition,t)}));const c={};for(const{channel:e,key:t,value:n}of s)o[e]||c[t]||(c[t]=n);return c}function iu(e,t,n){let{reactiveGeom:i}=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};const r=nu(e,t,n,{reactiveGeom:i}),o=N(r).map((e=>{let[t,n]=e;return`"${t}": ${n}`}));return o.length>0?{signal:`{${o.join(", ")}}`}:void 0}function ru(e){const{markDef:t,config:n}=e,i=_n("aria",t,n);return!1===i?{}:{...i?{aria:i}:{},...ou(e),...au(e)}}function ou(e){const{mark:t,markDef:n,config:i}=e;if(!1===i.aria)return{};const r=_n("ariaRoleDescription",n,i);return null!=r?{ariaRoleDescription:{value:r}}:t in bn?{}:{ariaRoleDescription:{value:t}}}function au(e){const{encoding:t,markDef:n,config:i,stack:r}=e,o=t.description;if(o)return Kc(e,o,"description",(t=>eu(t,e.config)));const a=_n("description",n,i);if(null!=a)return{description:Sn(a)};if(!1===i.aria)return{};const s=nu(t,r,i);return O(s)?void 0:{description:{signal:N(s).map(((e,t)=>{let[n,i]=e;return`"${t>0?"; ":""}${n}: " + (${i})`})).join(" + ")}}}function su(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const{markDef:i,encoding:r,config:o}=t,{vgChannel:a}=n;let{defaultRef:s,defaultValue:l}=n;void 0===s&&(l??=_n(e,i,o,{vgChannel:a,ignoreVgConfig:!0}),void 0!==l&&(s=Sn(l)));const c=r[e];return Kc(t,c,a??e,(n=>_o({channel:e,channelDef:n,markDef:i,config:o,scaleName:t.scaleName(e),scale:t.getScaleComponent(e),stack:null,defaultRef:s})))}function lu(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{filled:void 0};const{markDef:n,encoding:i,config:r}=e,{type:o}=n,a=t.filled??_n("filled",n,r),s=v(["bar","point","circle","square","geoshape"],o)?"transparent":void 0,l=_n(!0===a?"color":void 0,n,r,{vgChannel:"fill"})??r.mark[!0===a&&"color"]??s,c=_n(!1===a?"color":void 0,n,r,{vgChannel:"stroke"})??r.mark[!1===a&&"color"],u=a?"fill":"stroke",f={...l?{fill:Sn(l)}:{},...c?{stroke:Sn(c)}:{}};return n.color&&(a?n.fill:n.stroke)&&Ci(ai("property",{fill:"fill"in n,stroke:"stroke"in n})),{...f,...su("color",e,{vgChannel:u,defaultValue:a?l:c}),...su("fill",e,{defaultValue:i.fill?l:void 0}),...su("stroke",e,{defaultValue:i.stroke?c:void 0})}}function cu(e){const{encoding:t,mark:n}=e,i=t.order;return!po(n)&&da(i)?Kc(e,i,"zindex",(e=>Sn(e.value))):{}}function uu(e){let{channel:t,markDef:n,encoding:i={},model:r,bandPosition:o}=e;const a=`${t}Offset`,s=n[a],l=i[a];if(("xOffset"===a||"yOffset"===a)&&l){return{offsetType:"encoding",offset:_o({channel:a,channelDef:l,markDef:n,config:null==r?void 0:r.config,scaleName:r.scaleName(a),scale:r.getScaleComponent(a),stack:null,defaultRef:Sn(s),bandPosition:o})}}const c=n[a];return c?{offsetType:"visual",offset:c}:{}}function fu(e,t,n){let{defaultPos:i,vgChannel:r}=n;const{encoding:o,markDef:a,config:s,stack:l}=t,c=o[e],u=o[nt(e)],f=t.scaleName(e),d=t.getScaleComponent(e),{offset:p,offsetType:m}=uu({channel:e,markDef:a,encoding:o,model:t,bandPosition:.5}),g=du({model:t,defaultPos:i,channel:e,scaleName:f,scale:d}),h=!c&&Dt(e)&&(o.latitude||o.longitude)?{field:t.getName(e)}:function(e){const{channel:t,channelDef:n,scaleName:i,stack:r,offset:o,markDef:a}=e;if(ua(n)&&r&&t===r.fieldChannel){if(oa(n)){let e=n.bandPosition;if(void 0!==e||"text"!==a.type||"radius"!==t&&"theta"!==t||(e=.5),void 0!==e)return Oo({scaleName:i,fieldOrDatumDef:n,startSuffix:"start",bandPosition:e,offset:o})}return zo(n,i,{suffix:"end"},{offset:o})}return So(e)}({channel:e,channelDef:c,channel2Def:u,markDef:a,config:s,scaleName:f,scale:d,stack:l,offset:p,defaultRef:g,bandPosition:"encoding"===m?0:void 0});return h?{[r||e]:h}:void 0}function du(e){let{model:t,defaultPos:n,channel:i,scaleName:r,scale:o}=e;const{markDef:a,config:s}=t;return()=>{const e=et(i),l=tt(i),c=_n(i,a,s,{vgChannel:l});if(void 0!==c)return Co(i,c);switch(n){case"zeroOrMin":case"zeroOrMax":if(r){const e=o.get("type");if(v([br,xr,wr],e));else if(o.domainDefinitelyIncludesZero())return{scale:r,value:0}}if("zeroOrMin"===n)return"y"===e?{field:{group:"height"}}:{value:0};switch(e){case"radius":return{signal:`min(${t.width.signal},${t.height.signal})/2`};case"theta":return{signal:"2*PI"};case"x":return{field:{group:"width"}};case"y":return{value:0}}break;case"mid":return{...t[it(i)],mult:.5}}}}const pu={left:"x",center:"xc",right:"x2"},mu={top:"y",middle:"yc",bottom:"y2"};function gu(e,t,n){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"middle";if("radius"===e||"theta"===e)return tt(e);const r="x"===e?"align":"baseline",o=_n(r,t,n);let a;return gn(o)?(Ci(pi(r)),a=void 0):a=o,"x"===e?pu[a||("top"===i?"left":"center")]:mu[a||i]}function hu(e,t,n){let{defaultPos:i,defaultPos2:r,range:o}=n;return o?yu(e,t,{defaultPos:i,defaultPos2:r}):fu(e,t,{defaultPos:i})}function yu(e,t,n){let{defaultPos:i,defaultPos2:r}=n;const{markDef:o,config:a}=t,s=nt(e),l=it(e),c=function(e,t,n){const{encoding:i,mark:r,markDef:o,stack:a,config:s}=e,l=et(n),c=it(n),u=tt(n),f=i[l],d=e.scaleName(l),p=e.getScaleComponent(l),{offset:m}=uu(n in i||n in o?{channel:n,markDef:o,encoding:i,model:e}:{channel:l,markDef:o,encoding:i,model:e});if(!f&&("x2"===n||"y2"===n)&&(i.latitude||i.longitude)){const t=it(n),i=e.markDef[t];return null!=i?{[t]:{value:i}}:{[u]:{field:e.getName(n)}}}const g=function(e){let{channel:t,channelDef:n,channel2Def:i,markDef:r,config:o,scaleName:a,scale:s,stack:l,offset:c,defaultRef:u}=e;if(ua(n)&&l&&t.charAt(0)===l.fieldChannel.charAt(0))return zo(n,a,{suffix:"start"},{offset:c});return So({channel:t,channelDef:i,scaleName:a,scale:s,stack:l,markDef:r,config:o,offset:c,defaultRef:u})}({channel:n,channelDef:f,channel2Def:i[n],markDef:o,config:s,scaleName:d,scale:p,stack:a,offset:m,defaultRef:void 0});if(void 0!==g)return{[u]:g};return vu(n,o)||vu(n,{[n]:Nn(n,o,s.style),[c]:Nn(c,o,s.style)})||vu(n,s[r])||vu(n,s.mark)||{[u]:du({model:e,defaultPos:t,channel:n,scaleName:d,scale:p})()}}(t,r,s);return{...fu(e,t,{defaultPos:i,vgChannel:c[l]?gu(e,o,a):tt(e)}),...c}}function vu(e,t){const n=it(e),i=tt(e);if(void 0!==t[i])return{[i]:Co(e,t[i])};if(void 0!==t[e])return{[i]:Co(e,t[e])};if(t[n]){const i=t[n];if(!xo(i))return{[n]:Co(e,i)};Ci(function(e){return`Position range does not support relative band size for ${e}.`}(n))}}function bu(e,n){const{config:i,encoding:r,markDef:o}=e,a=o.type,s=nt(n),l=it(n),c=r[n],u=r[s],f=e.getScaleComponent(n),d=f?f.get("type"):void 0,p=o.orient,m=r[l]??r.size??_n("size",o,i,{vgChannel:l}),g="bar"===a&&("x"===n?"vertical"===p:"horizontal"===p);return!oa(c)||!(an(c.bin)||sn(c.bin)||c.timeUnit&&!u)||m&&!xo(m)||Ar(d)?(ua(c)&&Ar(d)||g)&&!u?function(e,n,i){const{markDef:r,encoding:o,config:a,stack:s}=i,l=r.orient,c=i.scaleName(n),u=i.getScaleComponent(n),f=it(n),d=nt(n),p=function(e){switch(e){case ee:return"xOffset";case te:return"yOffset";case ne:return"x2Offset";case ie:return"y2Offset";case le:return"thetaOffset";case ae:return"radiusOffset";case ce:return"theta2Offset";case se:return"radius2Offset"}}(n),m=i.scaleName(p),g="horizontal"===l&&"y"===n||"vertical"===l&&"x"===n;let h;(o.size||r.size)&&(g?h=su("size",i,{vgChannel:f,defaultRef:Sn(r.size)}):Ci(function(e){return`Cannot apply size to non-oriented mark "${e}".`}(r.type)));const y=!!h,v=ea({channel:n,fieldDef:e,markDef:r,config:a,scaleType:null==u?void 0:u.get("type"),useVlSizeChannel:g});h=h||{[f]:xu(f,m||c,u,a,v)};const b="band"===(null==u?void 0:u.get("type"))&&xo(v)&&!y?"top":"middle",x=gu(n,r,a,b),w="xc"===x||"yc"===x,{offset:$,offsetType:k}=uu({channel:n,markDef:r,encoding:o,model:i,bandPosition:w?.5:0}),S=So({channel:n,channelDef:e,markDef:r,config:a,scaleName:c,scale:u,stack:s,offset:$,defaultRef:du({model:i,defaultPos:"mid",channel:n,scaleName:c,scale:u}),bandPosition:w?"encoding"===k?0:.5:gn(v)?{signal:`(1-${v})/2`}:xo(v)?(1-v.band)/2:0});if(f)return{[x]:S,...h};{const e=tt(d),n=h[f],i=$?{...n,offset:$}:n;return{[x]:S,[e]:t.isArray(S)?[S[0],{...S[1],offset:i}]:{...S,offset:i}}}}(c,n,e):yu(n,e,{defaultPos:"zeroOrMax",defaultPos2:"zeroOrMin"}):function(e){var t;let{fieldDef:n,fieldDef2:i,channel:r,model:o}=e;const{config:a,markDef:s,encoding:l}=o,c=o.getScaleComponent(r),u=o.scaleName(r),f=c?c.get("type"):void 0,d=c.get("reverse"),p=ea({channel:r,fieldDef:n,markDef:s,config:a,scaleType:f}),m=null===(t=o.component.axes[r])||void 0===t?void 0:t[0],g=(null==m?void 0:m.get("translate"))??.5,h=Dt(r)?_n("binSpacing",s,a)??0:0,y=nt(r),v=tt(r),b=tt(y),{offset:x}=uu({channel:r,markDef:s,encoding:l,model:o,bandPosition:0}),w=gn(p)?{signal:`(1-${p.signal})/2`}:xo(p)?(1-p.band)/2:.5;if(an(n.bin)||n.timeUnit)return{[b]:$u({fieldDef:n,scaleName:u,bandPosition:w,offset:wu(y,h,d,g,x)}),[v]:$u({fieldDef:n,scaleName:u,bandPosition:gn(w)?{signal:`1-${w.signal}`}:1-w,offset:wu(r,h,d,g,x)})};if(sn(n.bin)){const e=zo(n,u,{},{offset:wu(y,h,d,g,x)});if(oa(i))return{[b]:e,[v]:zo(i,u,{},{offset:wu(r,h,d,g,x)})};if(ln(n.bin)&&n.bin.step)return{[b]:e,[v]:{signal:`scale("${u}", ${ba(n,{expr:"datum"})} + ${n.bin.step})`,offset:wu(r,h,d,g,x)}}}return void Ci(Si(y))}({fieldDef:c,fieldDef2:u,channel:n,model:e})}function xu(e,n,i,r,o){if(xo(o)){if(!i)return{mult:o.band,field:{group:e}};{const e=i.get("type");if("band"===e){let e=`bandwidth('${n}')`;return 1!==o.band&&(e=`${o.band} * ${e}`),{signal:`max(0.25, ${e})`}}1!==o.band&&(Ci(function(e){return`Cannot use the relative band size with ${e} scale.`}(e)),o=void 0)}}else{if(gn(o))return o;if(o)return{value:o}}if(i){const e=i.get("range");if(hn(e)&&t.isNumber(e.step))return{value:e.step-2}}return{value:Zs(r.view,e)-2}}function wu(e,t,n,i,r){if(Ae(e))return 0;const o="x"===e||"y2"===e?-t/2:t/2;if(gn(n)||gn(r)||gn(i)){const e=Fn(n),t=Fn(r),a=Fn(i);return{signal:(a?`${a} + `:"")+(e?`(${e} ? -1 : 1) * `:"")+(t?`(${t} + ${o})`:o)}}return r=r||0,i+(n?-r-o:+r+o)}function $u(e){let{fieldDef:t,scaleName:n,bandPosition:i,offset:r}=e;return Oo({scaleName:n,fieldOrDatumDef:t,bandPosition:i,offset:r})}const ku=new Set(["aria","width","height"]);function Su(e,t){const{fill:n,stroke:i}="include"===t.color?lu(e):{};return{...Fu(e.markDef,t),...Du(e,"fill",n),...Du(e,"stroke",i),...su("opacity",e),...su("fillOpacity",e),...su("strokeOpacity",e),...su("strokeWidth",e),...su("strokeDash",e),...cu(e),...tu(e),...Zc(e,"href"),...ru(e)}}function Du(e,n,i){const{config:r,mark:o,markDef:a}=e;if("hide"===_n("invalid",a,r)&&i&&!po(o)){const r=function(e,t){let{invalid:n=!1,channels:i}=t;const r=i.reduce(((t,n)=>{const i=e.getScaleComponent(n);if(i){const r=i.get("type"),o=e.vgField(n,{expr:"datum"});o&&Er(r)&&(t[o]=!0)}return t}),{}),o=_(r);if(o.length>0){const e=n?"||":"&&";return o.map((e=>Fo(e,n))).join(` ${e} `)}return}(e,{invalid:!0,channels:Ut});if(r)return{[n]:[{test:r,value:null},...t.array(i)]}}return i?{[n]:i}:{}}function Fu(e,t){return vn.reduce(((n,i)=>(ku.has(i)||void 0===e[i]||"ignore"===t[i]||(n[i]=Sn(e[i])),n)),{})}function zu(e){const{config:t,markDef:n}=e;if(_n("invalid",n,t)){const t=function(e,t){let{invalid:n=!1,channels:i}=t;const r=i.reduce(((t,n)=>{const i=e.getScaleComponent(n);if(i){var r;const o=i.get("type"),a=e.vgField(n,{expr:"datum",binSuffix:null!==(r=e.stack)&&void 0!==r&&r.impute?"mid":void 0});a&&Er(o)&&(t[a]=!0)}return t}),{}),o=_(r);if(o.length>0){const e=n?"||":"&&";return o.map((e=>Fo(e,n))).join(` ${e} `)}return}(e,{channels:St});if(t)return{defined:{signal:t}}}return{}}function Ou(e,t){if(void 0!==t)return{[e]:Sn(t)}}const _u="voronoi",Cu={defined:e=>"point"===e.type&&e.nearest,parse:(e,t)=>{if(t.events)for(const n of t.events)n.markname=e.getName(_u)},marks:(e,t,n)=>{const{x:i,y:r}=t.project.hasChannel,o=e.mark;if(po(o))return Ci(`The "nearest" transform is not supported for ${o} marks.`),n;const a={name:e.getName(_u),type:"path",interactive:!0,from:{data:e.getName("marks")},encode:{update:{fill:{value:"transparent"},strokeWidth:{value:.35},stroke:{value:"transparent"},isVoronoi:{value:!0},...tu(e,{reactiveGeom:!0})}},transform:[{type:"voronoi",x:{expr:i||!r?"datum.datum.x || 0":"0"},y:{expr:r||!i?"datum.datum.y || 0":"0"},size:[e.getSizeSignalRef("width"),e.getSizeSignalRef("height")]}]};let s=0,l=!1;return n.forEach(((t,n)=>{const i=t.name??"";i===e.component.mark[0].name?s=n:i.indexOf(_u)>=0&&(l=!0)})),l||n.splice(s+1,0,a),n}},Nu={defined:e=>"point"===e.type&&"global"===e.resolve&&e.bind&&"scales"!==e.bind&&!Rs(e.bind),parse:(e,t,n)=>Ku(t,n),topLevelSignals:(e,n,i)=>{const r=n.name,o=n.project,a=n.bind,s=n.init&&n.init[0],l=Cu.defined(n)?"(item().isVoronoi ? datum.datum : datum)":"datum";return o.items.forEach(((e,o)=>{const c=j(`${r}_${e.field}`);i.filter((e=>e.name===c)).length||i.unshift({name:c,...s?{init:jc(s[o])}:{value:null},on:n.events?[{events:n.events,update:`datum && item().mark.marktype !== 'group' ? ${l}[${t.stringValue(e.field)}] : null`}]:[],bind:a[e.field]??a[e.channel]??a})})),i},signals:(e,t,n)=>{const i=t.name,r=t.project,o=n.filter((e=>e.name===i+Hu))[0],a=i+Rc,s=r.items.map((e=>j(`${i}_${e.field}`))),l=s.map((e=>`${e} !== null`)).join(" && ");return s.length&&(o.update=`${l} ? {fields: ${a}, values: [${s.join(", ")}]} : null`),delete o.value,delete o.on,n}},Pu="_toggle",ju={defined:e=>"point"===e.type&&!!e.toggle,signals:(e,t,n)=>n.concat({name:t.name+Pu,value:!1,on:[{events:t.events,update:t.toggle}]}),modifyExpr:(e,t)=>{const n=t.name+Hu,i=t.name+Pu;return`${i} ? null : ${n}, `+("global"===t.resolve?`${i} ? null : true, `:`${i} ? null : {unit: ${Ju(e)}}, `)+`${i} ? ${n} : null`}},Au={defined:e=>void 0!==e.clear&&!1!==e.clear,parse:(e,n)=>{n.clear&&(n.clear=t.isString(n.clear)?t.parseSelector(n.clear,"view"):n.clear)},topLevelSignals:(e,t,n)=>{if(Nu.defined(t))for(const e of t.project.items){const i=n.findIndex((n=>n.name===j(`${t.name}_${e.field}`)));-1!==i&&n[i].on.push({events:t.clear,update:"null"})}return n},signals:(e,t,n)=>{function i(e,i){-1!==e&&n[e].on&&n[e].on.push({events:t.clear,update:i})}if("interval"===t.type)for(const e of t.project.items){const t=n.findIndex((t=>t.name===e.signals.visual));if(i(t,"[0, 0]"),-1===t){i(n.findIndex((t=>t.name===e.signals.data)),"null")}}else{let e=n.findIndex((e=>e.name===t.name+Hu));i(e,"null"),ju.defined(t)&&(e=n.findIndex((e=>e.name===t.name+Pu)),i(e,"false"))}return n}},Eu={defined:e=>{const t="global"===e.resolve&&e.bind&&Rs(e.bind),n=1===e.project.items.length&&e.project.items[0].field!==qs;return t&&!n&&Ci("Legend bindings are only supported for selections over an individual field or encoding channel."),t&&n},parse:(e,n,i)=>{const r=f(i);if(r.select=t.isString(r.select)?{type:r.select,toggle:n.toggle}:{...r.select,toggle:n.toggle},Ku(n,r),t.isObject(i.select)&&(i.select.on||i.select.clear)){const e='event.item && indexof(event.item.mark.role, "legend") < 0';for(const i of n.events)i.filter=t.array(i.filter??[]),i.filter.includes(e)||i.filter.push(e)}const o=Us(n.bind)?n.bind.legend:"click",a=t.isString(o)?t.parseSelector(o,"view"):t.array(o);n.bind={legend:{merge:a}}},topLevelSignals:(e,t,n)=>{const i=t.name,r=Us(t.bind)&&t.bind.legend,o=e=>t=>{const n=f(t);return n.markname=e,n};for(const e of t.project.items){if(!e.hasLegend)continue;const a=`${j(e.field)}_legend`,s=`${i}_${a}`;if(0===n.filter((e=>e.name===s)).length){const e=r.merge.map(o(`${a}_symbols`)).concat(r.merge.map(o(`${a}_labels`))).concat(r.merge.map(o(`${a}_entries`)));n.unshift({name:s,...t.init?{}:{value:null},on:[{events:e,update:"datum.value || item().items[0].items[0].datum.value",force:!0},{events:r.merge,update:`!event.item || !datum ? null : ${s}`,force:!0}]})}}return n},signals:(e,t,n)=>{const i=t.name,r=t.project,o=n.find((e=>e.name===i+Hu)),a=i+Rc,s=r.items.filter((e=>e.hasLegend)).map((e=>j(`${i}_${j(e.field)}_legend`))),l=`${s.map((e=>`${e} !== null`)).join(" && ")} ? {fields: ${a}, values: [${s.join(", ")}]} : null`;t.events&&s.length>0?o.on.push({events:s.map((e=>({signal:e}))),update:l}):s.length>0&&(o.update=l,delete o.value,delete o.on);const c=n.find((e=>e.name===i+Pu)),u=Us(t.bind)&&t.bind.legend;return c&&(t.events?c.on.push({...c.on[0],events:u}):c.on[0].events=u),n}};const Tu="_translate_anchor",Mu="_translate_delta",Lu={defined:e=>"interval"===e.type&&e.translate,signals:(e,n,i)=>{const r=n.name,o=Ic.defined(n),a=r+Tu,{x:s,y:l}=n.project.hasChannel;let c=t.parseSelector(n.translate,"scope");return o||(c=c.map((e=>(e.between[0].markname=r+Gc,e)))),i.push({name:a,value:{},on:[{events:c.map((e=>e.between[0])),update:"{x: x(unit), y: y(unit)"+(void 0!==s?`, extent_x: ${o?Hc(e,ee):`slice(${s.signals.visual})`}`:"")+(void 0!==l?`, extent_y: ${o?Hc(e,te):`slice(${l.signals.visual})`}`:"")+"}"}]},{name:r+Mu,value:{},on:[{events:c,update:`{x: ${a}.x - x(unit), y: ${a}.y - y(unit)}`}]}),void 0!==s&&qu(e,n,s,"width",i),void 0!==l&&qu(e,n,l,"height",i),i}};function qu(e,t,n,i,r){const o=t.name,a=o+Tu,s=o+Mu,l=n.channel,c=Ic.defined(t),u=r.filter((e=>e.name===n.signals[c?"data":"visual"]))[0],f=e.getSizeSignalRef(i).signal,d=e.getScaleComponent(l),p=d.get("type"),m=d.get("reverse"),g=`${a}.extent_${l}`,h=`${c?"log"===p?"panLog":"symlog"===p?"panSymlog":"pow"===p?"panPow":"panLinear":"panLinear"}(${g}, ${`${c?l===ee?m?"":"-":m?"-":"":""}${s}.${l} / ${c?`${f}`:`span(${g})`}`}${c?"pow"===p?`, ${d.get("exponent")??1}`:"symlog"===p?`, ${d.get("constant")??1}`:"":""})`;u.on.push({events:{signal:s},update:c?h:`clampRange(${h}, 0, ${f})`})}const Wu="_zoom_anchor",Ru="_zoom_delta",Uu={defined:e=>"interval"===e.type&&e.zoom,signals:(e,n,i)=>{const r=n.name,o=Ic.defined(n),a=r+Ru,{x:s,y:l}=n.project.hasChannel,c=t.stringValue(e.scaleName(ee)),u=t.stringValue(e.scaleName(te));let f=t.parseSelector(n.zoom,"scope");return o||(f=f.map((e=>(e.markname=r+Gc,e)))),i.push({name:r+Wu,on:[{events:f,update:o?"{"+[c?`x: invert(${c}, x(unit))`:"",u?`y: invert(${u}, y(unit))`:""].filter((e=>!!e)).join(", ")+"}":"{x: x(unit), y: y(unit)}"}]},{name:a,on:[{events:f,force:!0,update:"pow(1.001, event.deltaY * pow(16, event.deltaMode))"}]}),void 0!==s&&Bu(e,n,s,"width",i),void 0!==l&&Bu(e,n,l,"height",i),i}};function Bu(e,t,n,i,r){const o=t.name,a=n.channel,s=Ic.defined(t),l=r.filter((e=>e.name===n.signals[s?"data":"visual"]))[0],c=e.getSizeSignalRef(i).signal,u=e.getScaleComponent(a),f=u.get("type"),d=s?Hc(e,a):l.name,p=o+Ru,m=`${s?"log"===f?"zoomLog":"symlog"===f?"zoomSymlog":"pow"===f?"zoomPow":"zoomLinear":"zoomLinear"}(${d}, ${`${o}${Wu}.${a}`}, ${p}${s?"pow"===f?`, ${u.get("exponent")??1}`:"symlog"===f?`, ${u.get("constant")??1}`:"":""})`;l.on.push({events:{signal:p},update:s?m:`clampRange(${m}, 0, ${c})`})}const Iu="_store",Hu="_tuple",Vu="_modify",Gu="vlSelectionResolve",Yu=[Qc,Xc,Bc,ju,Nu,Ic,Eu,Au,Lu,Uu,Cu];function Xu(e){let t=e.parent;for(;t&&!Ep(t);)t=t.parent;return t}function Ju(e){let{escape:n}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{escape:!0},i=n?t.stringValue(e.name):e.name;const r=Xu(e);if(r){const{facet:e}=r;for(const n of We)e[n]&&(i+=` + '__facet_${n}_' + (facet[${t.stringValue(r.vgField(n))}])`)}return i}function Qu(e){return C(e.component.selection??{}).reduce(((e,t)=>e||t.project.hasSelectionId),!1)}function Ku(e,n){!t.isString(n.select)&&n.select.on||delete e.events,!t.isString(n.select)&&n.select.clear||delete e.clear,!t.isString(n.select)&&n.select.toggle||delete e.toggle}function Zu(e){const t=[];return"Identifier"===e.type?[e.name]:"Literal"===e.type?[e.value]:("MemberExpression"===e.type&&(t.push(...Zu(e.object)),t.push(...Zu(e.property))),t)}function ef(e){return"MemberExpression"===e.object.type?ef(e.object):"datum"===e.object.name}function tf(e){const n=t.parseExpression(e),i=new Set;return n.visit((e=>{"MemberExpression"===e.type&&ef(e)&&i.add(Zu(e).slice(1).join("."))})),i}class nf extends Lc{clone(){return new nf(null,this.model,f(this.filter))}constructor(e,t,n){super(e),this.model=t,this.filter=n,Mn(this,"expr",void 0),Mn(this,"_dependentFields",void 0),this.expr=af(this.model,this.filter,this),this._dependentFields=tf(this.expr)}dependentFields(){return this._dependentFields}producedFields(){return new Set}assemble(){return{type:"filter",expr:this.expr}}hash(){return`Filter ${this.expr}`}}function rf(e,n,i){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"datum";const o=t.isString(n)?n:n.param,a=j(o),s=t.stringValue(a+Iu);let l;try{l=e.getSelectionComponent(a,o)}catch(e){return`!!${a}`}if(l.project.timeUnit){const t=i??e.component.data.raw,n=l.project.timeUnit.clone();t.parent?n.insertAsParentOf(t):t.parent=n}const c=l.project.hasSelectionId?"vlSelectionIdTest(":"vlSelectionTest(",u="global"===l.resolve?")":`, ${t.stringValue(l.resolve)})`,f=`${c}${s}, ${r}${u}`,d=`length(data(${s}))`;return!1===n.empty?`${d} && ${f}`:`!${d} || ${f}`}function of(e,n,i){const r=j(n),o=i.encoding;let a,s=i.field;try{a=e.getSelectionComponent(r,n)}catch(e){return r}if(o||s){if(o&&!s){const e=a.project.items.filter((e=>e.channel===o));!e.length||e.length>1?(s=a.project.items[0].field,Ci((e.length?"Multiple ":"No ")+`matching ${t.stringValue(o)} encoding found for selection ${t.stringValue(i.param)}. `+`Using "field": ${t.stringValue(s)}.`)):s=e[0].field}}else s=a.project.items[0].field,a.project.items.length>1&&Ci(`A "field" or "encoding" must be specified when using a selection as a scale domain. Using "field": ${t.stringValue(s)}.`);return`${a.name}[${t.stringValue(W(s))}]`}function af(e,n,i){return A(n,(n=>t.isString(n)?n:function(e){return null==e?void 0:e.param}(n)?rf(e,n,i):sr(n)))}function sf(e,n){if(e)return t.isArray(e)&&!mn(e)?e.map((e=>Oa(e,n))).join(", "):e}function lf(e,t,n,i){e.encode??={},e.encode[t]??={},e.encode[t].update??={},e.encode[t].update[n]=i}function cf(e,n,i){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{header:!1};const{disable:o,orient:a,scale:s,labelExpr:l,title:c,zindex:u,...f}=e.combine();if(!o){for(const e in f){const i=Va[e],r=f[e];if(i&&i!==n&&"both"!==i)delete f[e];else if(Ia(r)){const{condition:n,...i}=r,o=t.array(n),a=Ba[e];if(a){const{vgProp:t,part:n}=a;lf(f,n,t,[...o.map((e=>{const{test:t,...n}=e;return{test:af(null,t),...n}})),i]),delete f[e]}else if(null===a){const t={signal:o.map((e=>{const{test:t,...n}=e;return`${af(null,t)} ? ${Dn(n)} : `})).join("")+Dn(i)};f[e]=t}}else if(gn(r)){const t=Ba[e];if(t){const{vgProp:n,part:i}=t;lf(f,i,n,r),delete f[e]}}v(["labelAlign","labelBaseline"],e)&&null===f[e]&&delete f[e]}if("grid"===n){if(!f.grid)return;if(f.encode){const{grid:e}=f.encode;f.encode={...e?{grid:e}:{}},O(f.encode)&&delete f.encode}return{scale:s,orient:a,...f,domain:!1,labels:!1,aria:!1,maxExtent:0,minExtent:0,ticks:!1,zindex:I(u,0)}}{if(!r.header&&e.mainExtracted)return;if(void 0!==l){var d,p;let e=l;null!==(d=f.encode)&&void 0!==d&&null!==(p=d.labels)&&void 0!==p&&p.update&&gn(f.encode.labels.update.text)&&(e=R(l,"datum.label",f.encode.labels.update.text.signal)),lf(f,"labels","text",{signal:e})}if(null===f.labelAlign&&delete f.labelAlign,f.encode){for(const t of Ha)e.hasAxisPart(t)||delete f.encode[t];O(f.encode)&&delete f.encode}const t=sf(c,i);return{scale:s,orient:a,grid:!1,...t?{title:t}:{},...f,...!1===i.aria?{aria:!1}:{},zindex:I(u,0)}}}}function uf(e){const{axes:t}=e.component,n=[];for(const i of St)if(t[i])for(const r of t[i])if(!r.get("disable")&&!r.get("gridScale")){const t="x"===i?"height":"width",r=e.getSizeSignalRef(t).signal;t!==r&&n.push({name:t,update:r})}return n}function ff(e,t,n,i){return Object.assign.apply(null,[{},...e.map((e=>{if("axisOrient"===e){const e="x"===n?"bottom":"left",r=t["x"===n?"axisBottom":"axisLeft"]||{},o=t["x"===n?"axisTop":"axisRight"]||{},a=new Set([..._(r),..._(o)]),s={};for(const t of a.values())s[t]={signal:`${i.signal} === "${e}" ? ${Fn(r[t])} : ${Fn(o[t])}`};return s}return t[e]}))])}function df(e,n){const i=[{}];for(const o of e){var r;let e=null===(r=n[o])||void 0===r?void 0:r.style;if(e){e=t.array(e);for(const t of e)i.push(n.style[t])}}return Object.assign.apply(null,i)}function pf(e,t,n){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};const r=Pn(e,n,t);if(void 0!==r)return{configFrom:"style",configValue:r};for(const t of["vlOnlyAxisConfig","vgAxisConfig","axisConfigStyle"]){var o;if(void 0!==(null===(o=i[t])||void 0===o?void 0:o[e]))return{configFrom:t,configValue:i[t][e]}}return{}}const mf={scale:e=>{let{model:t,channel:n}=e;return t.scaleName(n)},format:e=>{let{fieldOrDatumDef:t,config:n,axis:i}=e;const{format:r,formatType:o}=i;return To(t,t.type,r,o,n,!0)},formatType:e=>{let{axis:t,fieldOrDatumDef:n,scaleType:i}=e;const{formatType:r}=t;return Mo(r,n,i)},grid:e=>{let{fieldOrDatumDef:t,axis:n,scaleType:i}=e;return n.grid??function(e,t){return!Ar(e)&&oa(t)&&!an(null==t?void 0:t.bin)&&!sn(null==t?void 0:t.bin)}(i,t)},gridScale:e=>{let{model:t,channel:n}=e;return function(e,t){const n="x"===t?"y":"x";if(e.getScaleComponent(n))return e.scaleName(n);return}(t,n)},labelAlign:e=>{let{axis:t,labelAngle:n,orient:i,channel:r}=e;return t.labelAlign||yf(n,i,r)},labelAngle:e=>{let{labelAngle:t}=e;return t},labelBaseline:e=>{let{axis:t,labelAngle:n,orient:i,channel:r}=e;return t.labelBaseline||hf(n,i,r)},labelFlush:e=>{let{axis:t,fieldOrDatumDef:n,channel:i}=e;return t.labelFlush??function(e,t){if("x"===t&&v(["quantitative","temporal"],e))return!0;return}(n.type,i)},labelOverlap:e=>{let{axis:n,fieldOrDatumDef:i,scaleType:r}=e;return n.labelOverlap??function(e,n,i,r){if(i&&!t.isObject(r)||"nominal"!==e&&"ordinal"!==e)return"log"!==n&&"symlog"!==n||"greedy";return}(i.type,r,oa(i)&&!!i.timeUnit,oa(i)?i.sort:void 0)},orient:e=>{let{orient:t}=e;return t},tickCount:e=>{let{channel:t,model:n,axis:i,fieldOrDatumDef:r,scaleType:o}=e;const a="x"===t?"width":"y"===t?"height":void 0,s=a?n.getSizeSignalRef(a):void 0;return i.tickCount??function(e){let{fieldOrDatumDef:t,scaleType:n,size:i,values:r}=e;if(!r&&!Ar(n)&&"log"!==n){if(oa(t)){var o;if(an(t.bin))return{signal:`ceil(${i.signal}/10)`};if(t.timeUnit&&v(["month","hours","day","quarter"],null===(o=Yi(t.timeUnit))||void 0===o?void 0:o.unit))return}return{signal:`ceil(${i.signal}/40)`}}return}({fieldOrDatumDef:r,scaleType:o,size:s,values:i.values})},title:e=>{let{axis:t,model:n,channel:i}=e;if(void 0!==t.title)return t.title;const r=vf(n,i);if(void 0!==r)return r;const o=n.typedFieldDef(i),a="x"===i?"x2":"y2",s=n.fieldDef(a);return An(o?[Qo(o)]:[],oa(s)?[Qo(s)]:[])},values:e=>{let{axis:n,fieldOrDatumDef:i}=e;return function(e,n){const i=e.values;if(t.isArray(i))return Ra(n,i);if(gn(i))return i;return}(n,i)},zindex:e=>{let{axis:t,fieldOrDatumDef:n,mark:i}=e;return t.zindex??function(e,t){if("rect"===e&&xa(t))return 1;return 0}(i,n)}};function gf(e){return`(((${e.signal} % 360) + 360) % 360)`}function hf(e,t,n,i){if(void 0!==e){if("x"===n){if(gn(e)){const n=gf(e);return{signal:`(45 < ${n} && ${n} < 135) || (225 < ${n} && ${n} < 315) ? "middle" :(${n} <= 45 || 315 <= ${n}) === ${gn(t)?`(${t.signal} === "top")`:"top"===t} ? "bottom" : "top"`}}if(45<e&&e<135||225<e&&e<315)return"middle";if(gn(t)){const n=e<=45||315<=e?"===":"!==";return{signal:`${t.signal} ${n} "top" ? "bottom" : "top"`}}return(e<=45||315<=e)==("top"===t)?"bottom":"top"}if(gn(e)){const n=gf(e);return{signal:`${n} <= 45 || 315 <= ${n} || (135 <= ${n} && ${n} <= 225) ? ${i?'"middle"':"null"} : (45 <= ${n} && ${n} <= 135) === ${gn(t)?`(${t.signal} === "left")`:"left"===t} ? "top" : "bottom"`}}if(e<=45||315<=e||135<=e&&e<=225)return i?"middle":null;if(gn(t)){const n=45<=e&&e<=135?"===":"!==";return{signal:`${t.signal} ${n} "left" ? "top" : "bottom"`}}return(45<=e&&e<=135)==("left"===t)?"top":"bottom"}}function yf(e,t,n){if(void 0===e)return;const i="x"===n,r=i?0:90,o=i?"bottom":"left";if(gn(e)){const n=gf(e);return{signal:`(${r?`(${n} + 90)`:n} % 180 === 0) ? ${i?null:'"center"'} :(${r} < ${n} && ${n} < ${180+r}) === ${gn(t)?`(${t.signal} === "${o}")`:t===o} ? "left" : "right"`}}if((e+r)%180==0)return i?null:"center";if(gn(t)){const n=r<e&&e<180+r?"===":"!==";return{signal:`${`${t.signal} ${n} "${o}"`} ? "left" : "right"`}}return(r<e&&e<180+r)==(t===o)?"left":"right"}function vf(e,t){const n="x"===t?"x2":"y2",i=e.fieldDef(t),r=e.fieldDef(n),o=i?i.title:void 0,a=r?r.title:void 0;return o&&a?En(o,a):o||(a||(void 0!==o?o:void 0!==a?a:void 0))}class bf extends Lc{clone(){return new bf(null,f(this.transform))}constructor(e,t){super(e),this.transform=t,Mn(this,"_dependentFields",void 0),this._dependentFields=tf(this.transform.calculate)}static parseAllForSortIndex(e,t){return t.forEachFieldDef(((t,n)=>{if(pa(t)&&Go(t.sort)){const{field:i,timeUnit:r}=t,o=t.sort,a=o.map(((e,t)=>`${sr({field:i,timeUnit:r,equal:e})} ? ${t} : `)).join("")+o.length;e=new bf(e,{calculate:a,as:xf(t,n,{forAs:!0})})}})),e}producedFields(){return new Set([this.transform.as])}dependentFields(){return this._dependentFields}assemble(){return{type:"formula",expr:this.transform.calculate,as:this.transform.as}}hash(){return`Calculate ${h(this.transform)}`}}function xf(e,t,n){return ba(e,{prefix:t,suffix:"sort_index",...n??{}})}function wf(e,t){return v(["top","bottom"],t)?"column":v(["left","right"],t)||"row"===e?"row":"column"}function $f(e,t,n,i){const r="row"===i?n.headerRow:"column"===i?n.headerColumn:n.headerFacet;return I((t||{})[e],r[e],n.header[e])}function kf(e,t,n,i){const r={};for(const o of e){const e=$f(o,t||{},n,i);void 0!==e&&(r[o]=e)}return r}const Sf=["row","column"],Df=["header","footer"];function Ff(e,t){const n=e.component.layoutHeaders[t].title,i=e.config?e.config:void 0,r=e.component.layoutHeaders[t].facetFieldDef?e.component.layoutHeaders[t].facetFieldDef:void 0,{titleAnchor:o,titleAngle:a,titleOrient:s}=kf(["titleAnchor","titleAngle","titleOrient"],r.header,i,t),l=wf(t,s),c=X(a);return{name:`${t}-title`,type:"group",role:`${l}-title`,title:{text:n,..."row"===t?{orient:"left"}:{},style:"guide-title",...Of(c,l),...zf(l,c,o),...Ef(i,r,t,Es,js)}}}function zf(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"middle";switch(n){case"start":return{align:"left"};case"end":return{align:"right"}}const i=yf(t,"row"===e?"left":"top","row"===e?"y":"x");return i?{align:i}:{}}function Of(e,t){const n=hf(e,"row"===t?"left":"top","row"===t?"y":"x",!0);return n?{baseline:n}:{}}function _f(e,t){const n=e.component.layoutHeaders[t],i=[];for(const r of Df)if(n[r])for(const o of n[r]){const a=Pf(e,t,r,n,o);null!=a&&i.push(a)}return i}function Cf(e,n){const{sort:i}=e;return Vo(i)?{field:ba(i,{expr:"datum"}),order:i.order??"ascending"}:t.isArray(i)?{field:xf(e,n,{expr:"datum"}),order:"ascending"}:{field:ba(e,{expr:"datum"}),order:i??"ascending"}}function Nf(e,t,n){const{format:i,formatType:r,labelAngle:o,labelAnchor:a,labelOrient:s,labelExpr:l}=kf(["format","formatType","labelAngle","labelAnchor","labelOrient","labelExpr"],e.header,n,t),c=jo({fieldOrDatumDef:e,format:i,formatType:r,expr:"parent",config:n}).signal,u=wf(t,s);return{text:{signal:l?R(R(l,"datum.label",c),"datum.value",ba(e,{expr:"parent"})):c},..."row"===t?{orient:"left"}:{},style:"guide-label",frame:"group",...Of(o,u),...zf(u,o,a),...Ef(n,e,t,Ts,As)}}function Pf(e,t,n,i,r){if(r){let o=null;const{facetFieldDef:a}=i,s=e.config?e.config:void 0;if(a&&r.labels){const{labelOrient:e}=kf(["labelOrient"],a.header,s,t);("row"===t&&!v(["top","bottom"],e)||"column"===t&&!v(["left","right"],e))&&(o=Nf(a,t,s))}const l=Ep(e)&&!Yo(e.facet),c=r.axes,u=(null==c?void 0:c.length)>0;if(o||u){const s="row"===t?"height":"width";return{name:e.getName(`${t}_${n}`),type:"group",role:`${t}-${n}`,...i.facetFieldDef?{from:{data:e.getName(`${t}_domain`)},sort:Cf(a,t)}:{},...u&&l?{from:{data:e.getName(`facet_domain_${t}`)}}:{},...o?{title:o}:{},...r.sizeSignal?{encode:{update:{[s]:r.sizeSignal}}}:{},...u?{axes:c}:{}}}}return null}const jf={column:{start:0,end:1},row:{start:1,end:0}};function Af(e,t){return jf[t][e]}function Ef(e,t,n,i,r){const o={};for(const a of i){if(!r[a])continue;const i=$f(a,null==t?void 0:t.header,e,n);void 0!==i&&(o[r[a]]=i)}return o}function Tf(e){return[...Mf(e,"width"),...Mf(e,"height"),...Mf(e,"childWidth"),...Mf(e,"childHeight")]}function Mf(e,t){const n="width"===t?"x":"y",i=e.component.layoutSize.get(t);if(!i||"merged"===i)return[];const r=e.getSizeSignalRef(t).signal;if("step"===i){const t=e.getScaleComponent(n);if(t){const i=t.get("type"),o=t.get("range");if(Ar(i)&&hn(o)){const i=e.scaleName(n);if(Ep(e.parent)){if("independent"===e.parent.component.resolve.scale[n])return[Lf(i,o)]}return[Lf(i,o),{name:r,update:qf(i,t,`domain('${i}').length`)}]}}throw new Error("layout size is step although width/height is not step.")}if("container"==i){const t=r.endsWith("width"),n=t?"containerSize()[0]":"containerSize()[1]",i=`isFinite(${n}) ? ${n} : ${Ks(e.config.view,t?"width":"height")}`;return[{name:r,init:i,on:[{update:i,events:"window:resize"}]}]}return[{name:r,value:i}]}function Lf(e,t){const n=`${e}_step`;return gn(t.step)?{name:n,update:t.step.signal}:{name:n,value:t.step}}function qf(e,t,n){const i=t.get("type"),r=t.get("padding"),o=I(t.get("paddingOuter"),r);let a=t.get("paddingInner");return a="band"===i?void 0!==a?a:r:1,`bandspace(${n}, ${Fn(a)}, ${Fn(o)}) * ${e}_step`}function Wf(e){return"childWidth"===e?"width":"childHeight"===e?"height":e}function Rf(e,t){return _(e).reduce(((n,i)=>{const r=e[i];return{...n,...Kc(t,r,i,(e=>Sn(e.value)))}}),{})}function Uf(e,t){if(Ep(t))return"theta"===e?"independent":"shared";if(Mp(t))return"shared";if(Tp(t))return Dt(e)||"theta"===e||"radius"===e?"independent":"shared";throw new Error("invalid model type for resolve")}function Bf(e,t){const n=e.scale[t],i=Dt(t)?"axis":"legend";return"independent"===n?("shared"===e[i][t]&&Ci(function(e){return`Setting the scale to be independent for "${e}" means we also have to set the guide (axis or legend) to be independent.`}(t)),"independent"):e[i][t]||"shared"}const If=_({aria:1,clipHeight:1,columnPadding:1,columns:1,cornerRadius:1,description:1,direction:1,fillColor:1,format:1,formatType:1,gradientLength:1,gradientOpacity:1,gradientStrokeColor:1,gradientStrokeWidth:1,gradientThickness:1,gridAlign:1,labelAlign:1,labelBaseline:1,labelColor:1,labelFont:1,labelFontSize:1,labelFontStyle:1,labelFontWeight:1,labelLimit:1,labelOffset:1,labelOpacity:1,labelOverlap:1,labelPadding:1,labelSeparation:1,legendX:1,legendY:1,offset:1,orient:1,padding:1,rowPadding:1,strokeColor:1,symbolDash:1,symbolDashOffset:1,symbolFillColor:1,symbolLimit:1,symbolOffset:1,symbolOpacity:1,symbolSize:1,symbolStrokeColor:1,symbolStrokeWidth:1,symbolType:1,tickCount:1,tickMinStep:1,title:1,titleAlign:1,titleAnchor:1,titleBaseline:1,titleColor:1,titleFont:1,titleFontSize:1,titleFontStyle:1,titleFontWeight:1,titleLimit:1,titleLineHeight:1,titleOpacity:1,titleOrient:1,titlePadding:1,type:1,values:1,zindex:1,disable:1,labelExpr:1,selections:1,opacity:1,shape:1,stroke:1,fill:1,size:1,strokeWidth:1,strokeDash:1,encode:1});class Hf extends vc{}const Vf={symbols:function(e,n){let{fieldOrDatumDef:i,model:r,channel:o,legendCmpt:a,legendType:s}=n;if("symbol"!==s)return;const{markDef:l,encoding:c,config:u,mark:f}=r,d=l.filled&&"trail"!==f;let p={...zn({},r,yo),...lu(r,{filled:d})};const m=a.get("symbolOpacity")??u.legend.symbolOpacity,g=a.get("symbolFillColor")??u.legend.symbolFillColor,h=a.get("symbolStrokeColor")??u.legend.symbolStrokeColor,y=void 0===m?Gf(c.opacity)??l.opacity:void 0;if(p.fill)if("fill"===o||d&&o===me)delete p.fill;else if(p.fill.field)g?delete p.fill:(p.fill=Sn(u.legend.symbolBaseFillColor??"black"),p.fillOpacity=Sn(y??1));else if(t.isArray(p.fill)){const e=Yf(c.fill??c.color)??l.fill??(d&&l.color);e&&(p.fill=Sn(e))}if(p.stroke)if("stroke"===o||!d&&o===me)delete p.stroke;else if(p.stroke.field||h)delete p.stroke;else if(t.isArray(p.stroke)){const e=I(Yf(c.stroke||c.color),l.stroke,d?l.color:void 0);e&&(p.stroke={value:e})}if(o!==xe){const e=oa(i)&&Jf(r,a,i);e?p.opacity=[{test:e,...Sn(y??1)},Sn(u.legend.unselectedOpacity)]:y&&(p.opacity=Sn(y))}return p={...p,...e},O(p)?void 0:p},gradient:function(e,t){let{model:n,legendType:i,legendCmpt:r}=t;if("gradient"!==i)return;const{config:o,markDef:a,encoding:s}=n;let l={};const c=void 0===(r.get("gradientOpacity")??o.legend.gradientOpacity)?Gf(s.opacity)||a.opacity:void 0;c&&(l.opacity=Sn(c));return l={...l,...e},O(l)?void 0:l},labels:function(e,t){let{fieldOrDatumDef:n,model:i,channel:r,legendCmpt:o}=t;const a=i.legend(r)||{},s=i.config,l=oa(n)?Jf(i,o,n):void 0,c=l?[{test:l,value:1},{value:s.legend.unselectedOpacity}]:void 0,{format:u,formatType:f}=a;let d;No(f)?d=Eo({fieldOrDatumDef:n,field:"datum.value",format:u,formatType:f,config:s}):void 0===u&&void 0===f&&s.customFormatTypes&&("quantitative"===n.type&&s.numberFormatType?d=Eo({fieldOrDatumDef:n,field:"datum.value",format:s.numberFormat,formatType:s.numberFormatType,config:s}):"temporal"===n.type&&s.timeFormatType&&oa(n)&&void 0===n.timeUnit&&(d=Eo({fieldOrDatumDef:n,field:"datum.value",format:s.timeFormat,formatType:s.timeFormatType,config:s})));const p={...c?{opacity:c}:{},...d?{text:d}:{},...e};return O(p)?void 0:p},entries:function(e,t){let{legendCmpt:n}=t;const i=n.get("selections");return null!=i&&i.length?{...e,fill:{value:"transparent"}}:e}};function Gf(e){return Xf(e,((e,t)=>Math.max(e,t.value)))}function Yf(e){return Xf(e,((e,t)=>I(e,t.value)))}function Xf(e,n){return function(e){const n=null==e?void 0:e.condition;return!!n&&(t.isArray(n)||da(n))}(e)?t.array(e.condition).reduce(n,e.value):da(e)?e.value:void 0}function Jf(e,n,i){const r=n.get("selections");if(null==r||!r.length)return;const o=t.stringValue(i.field);return r.map((e=>`(!length(data(${t.stringValue(j(e)+Iu)})) || (${e}[${o}] && indexof(${e}[${o}], datum.value) >= 0))`)).join(" || ")}const Qf={direction:e=>{let{direction:t}=e;return t},format:e=>{let{fieldOrDatumDef:t,legend:n,config:i}=e;const{format:r,formatType:o}=n;return To(t,t.type,r,o,i,!1)},formatType:e=>{let{legend:t,fieldOrDatumDef:n,scaleType:i}=e;const{formatType:r}=t;return Mo(r,n,i)},gradientLength:e=>{const{legend:t,legendConfig:n}=e;return t.gradientLength??n.gradientLength??function(e){let{legendConfig:t,model:n,direction:i,orient:r,scaleType:o}=e;const{gradientHorizontalMaxLength:a,gradientHorizontalMinLength:s,gradientVerticalMaxLength:l,gradientVerticalMinLength:c}=t;if(Tr(o))return"horizontal"===i?"top"===r||"bottom"===r?ed(n,"width",s,a):s:ed(n,"height",c,l);return}(e)},labelOverlap:e=>{let{legend:t,legendConfig:n,scaleType:i}=e;return t.labelOverlap??n.labelOverlap??function(e){if(v(["quantile","threshold","log","symlog"],e))return"greedy";return}(i)},symbolType:e=>{let{legend:t,markDef:n,channel:i,encoding:r}=e;return t.symbolType??function(e,t,n,i){if("shape"!==t){const e=Yf(n)??i;if(e)return e}switch(e){case"bar":case"rect":case"image":case"square":return"square";case"line":case"trail":case"rule":return"stroke";case"arc":case"point":case"circle":case"tick":case"geoshape":case"area":case"text":return"circle"}}(n.type,i,r.shape,n.shape)},title:e=>{let{fieldOrDatumDef:t,config:n}=e;return Fa(t,n,{allowDisabling:!0})},type:e=>{let{legendType:t,scaleType:n,channel:i}=e;if(Le(i)&&Tr(n)){if("gradient"===t)return}else if("symbol"===t)return;return t},values:e=>{let{fieldOrDatumDef:n,legend:i}=e;return function(e,n){const i=e.values;if(t.isArray(i))return Ra(n,i);if(gn(i))return i;return}(i,n)}};function Kf(e){const{legend:t}=e;return I(t.type,function(e){let{channel:t,timeUnit:n,scaleType:i}=e;if(Le(t)){if(v(["quarter","month","day"],n))return"symbol";if(Tr(i))return"gradient"}return"symbol"}(e))}function Zf(e){let{legendConfig:t,legendType:n,orient:i,legend:r}=e;return r.direction??t[n?"gradientDirection":"symbolDirection"]??function(e,t){switch(e){case"top":case"bottom":return"horizontal";case"left":case"right":case"none":case void 0:return;default:return"gradient"===t?"horizontal":void 0}}(i,n)}function ed(e,t,n,i){return{signal:`clamp(${e.getSizeSignalRef(t).signal}, ${n}, ${i})`}}function td(e){const t=Ap(e)?function(e){const{encoding:t}=e,n={};for(const i of[me,...Ls]){const r=Pa(t[i]);r&&e.getScaleComponent(i)&&(i===ye&&oa(r)&&r.type===hr||(n[i]=id(e,i)))}return n}(e):function(e){const{legends:t,resolve:n}=e.component;for(const i of e.children){td(i);for(const r of _(i.component.legends))n.legend[r]=Bf(e.component.resolve,r),"shared"===n.legend[r]&&(t[r]=rd(t[r],i.component.legends[r]),t[r]||(n.legend[r]="independent",delete t[r]))}for(const i of _(t))for(const t of e.children)t.component.legends[i]&&"shared"===n.legend[i]&&delete t.component.legends[i];return t}(e);return e.component.legends=t,t}function nd(e,t,n,i){switch(t){case"disable":return void 0!==n;case"values":return!(null==n||!n.values);case"title":if("title"===t&&e===(null==i?void 0:i.title))return!0}return e===(n||{})[t]}function id(e,t){var n,i;let r=e.legend(t);const{markDef:o,encoding:a,config:s}=e,l=s.legend,c=new Hf({},function(e,t){const n=e.scaleName(t);if("trail"===e.mark){if("color"===t)return{stroke:n};if("size"===t)return{strokeWidth:n}}return"color"===t?e.markDef.filled?{fill:n}:{stroke:n}:{[t]:n}}(e,t));!function(e,t,n){var i;const r=null===(i=e.fieldDef(t))||void 0===i?void 0:i.field;for(const i of C(e.component.selection??{})){const e=i.project.hasField[r]??i.project.hasChannel[t];if(e&&Eu.defined(i)){const t=n.get("selections")??[];t.push(i.name),n.set("selections",t,!1),e.hasLegend=!0}}}(e,t,c);const u=void 0!==r?!r:l.disable;if(c.set("disable",u,void 0!==r),u)return c;r=r||{};const f=e.getScaleComponent(t).get("type"),d=Pa(a[t]),p=oa(d)?null===(n=Yi(d.timeUnit))||void 0===n?void 0:n.unit:void 0,m=r.orient||s.legend.orient||"right",g=Kf({legend:r,channel:t,timeUnit:p,scaleType:f}),h={legend:r,channel:t,model:e,markDef:o,encoding:a,fieldOrDatumDef:d,legendConfig:l,config:s,scaleType:f,orient:m,legendType:g,direction:Zf({legend:r,legendType:g,orient:m,legendConfig:l})};for(const n of If){if("gradient"===g&&n.startsWith("symbol")||"symbol"===g&&n.startsWith("gradient"))continue;const i=n in Qf?Qf[n](h):r[n];if(void 0!==i){const o=nd(i,n,r,e.fieldDef(t));(o||void 0===s.legend[n])&&c.set(n,i,o)}}const y=(null===(i=r)||void 0===i?void 0:i.encoding)??{},v=c.get("selections"),b={},x={fieldOrDatumDef:d,model:e,channel:t,legendCmpt:c,legendType:g};for(const t of["labels","legend","title","symbols","gradient","entries"]){const n=Rf(y[t]??{},e),i=t in Vf?Vf[t](n,x):n;void 0===i||O(i)||(b[t]={...null!=v&&v.length&&oa(d)?{name:`${j(d.field)}_legend_${t}`}:{},...null!=v&&v.length?{interactive:!!v}:{},update:i})}var w;O(b)||c.set("encode",b,!(null===(w=r)||void 0===w||!w.encoding));return c}function rd(e,t){if(!e)return t.clone();const n=e.getWithExplicit("orient"),i=t.getWithExplicit("orient");if(n.explicit&&i.explicit&&n.value!==i.value)return;let r=!1;for(const n of If){const i=kc(e.getWithExplicit(n),t.getWithExplicit(n),n,"legend",((e,t)=>{switch(n){case"symbolType":return od(e,t);case"title":return Tn(e,t);case"type":return r=!0,xc("symbol")}return $c(e,t,n,"legend")}));e.setWithExplicit(n,i)}var o,a,s,l;r&&(null!==(o=e.implicit)&&void 0!==o&&null!==(a=o.encode)&&void 0!==a&&a.gradient&&E(e.implicit,["encode","gradient"]),null!==(s=e.explicit)&&void 0!==s&&null!==(l=s.encode)&&void 0!==l&&l.gradient&&E(e.explicit,["encode","gradient"]));return e}function od(e,t){return"circle"===t.value?t:e}function ad(e){const t=e.component.legends,n={};for(const i of _(t)){const r=e.getScaleComponent(i),o=g(r.get("domains"));if(n[o])for(const e of n[o]){rd(e,t[i])||n[o].push(t[i])}else n[o]=[t[i].clone()]}return C(n).flat().map((t=>function(e,t){var n;const{disable:i,labelExpr:r,selections:o,...a}=e.combine();if(i)return;!1===t.aria&&null==a.aria&&(a.aria=!1);if(null!==(n=a.encode)&&void 0!==n&&n.symbols){const e=a.encode.symbols.update;!e.fill||"transparent"===e.fill.value||e.stroke||a.stroke||(e.stroke={value:"transparent"});for(const t of Ls)a[t]&&delete e[t]}a.title||delete a.title;if(void 0!==r){var s,l;let e=r;null!==(s=a.encode)&&void 0!==s&&null!==(l=s.labels)&&void 0!==l&&l.update&&gn(a.encode.labels.update.text)&&(e=R(r,"datum.label",a.encode.labels.update.text.signal)),function(e,t,n,i){e.encode??={},e.encode[t]??={},e.encode[t].update??={},e.encode[t].update[n]=i}(a,"labels","text",{signal:e})}return a}(t,e.config))).filter((e=>void 0!==e))}function sd(e){return Mp(e)||Tp(e)?function(e){return e.children.reduce(((e,t)=>e.concat(t.assembleProjections())),ld(e))}(e):ld(e)}function ld(e){const t=e.component.projection;if(!t||t.merged)return[];const n=t.combine(),{name:i}=n;if(t.data){const r={signal:`[${t.size.map((e=>e.signal)).join(", ")}]`},o=t.data.reduce(((t,n)=>{const i=gn(n)?n.signal:`data('${e.lookupDataSource(n)}')`;return v(t,i)||t.push(i),t}),[]);if(o.length<=0)throw new Error("Projection's fit didn't find any data sources");return[{name:i,size:r,fit:{signal:o.length>1?`[${o.join(", ")}]`:o[0]},...n}]}return[{name:i,translate:{signal:"[width / 2, height / 2]"},...n}]}const cd=["type","clipAngle","clipExtent","center","rotate","precision","reflectX","reflectY","coefficient","distance","fraction","lobes","parallel","radius","ratio","spacing","tilt"];class ud extends vc{constructor(e,t,n,i){super({...t},{name:e}),this.specifiedProjection=t,this.size=n,this.data=i,Mn(this,"merged",!1)}get isFit(){return!!this.data}}function fd(e){e.component.projection=Ap(e)?function(e){if(e.hasProjection){const t=dn(e.specifiedProjection),n=!(t&&(null!=t.scale||null!=t.translate)),i=n?[e.getSizeSignalRef("width"),e.getSizeSignalRef("height")]:void 0,r=n?function(e){const t=[],{encoding:n}=e;for(const i of[[fe,ue],[pe,de]])(Pa(n[i[0]])||Pa(n[i[1]]))&&t.push({signal:e.getName(`geojson_${t.length}`)});e.channelHasField(ye)&&e.typedFieldDef(ye).type===hr&&t.push({signal:e.getName(`geojson_${t.length}`)});0===t.length&&t.push(e.requestDataName(Pc.Main));return t}(e):void 0,o=new ud(e.projectionName(!0),{...dn(e.config.projection)??{},...t??{}},i,r);return o.get("type")||o.set("type","equalEarth",!1),o}return}(e):function(e){if(0===e.children.length)return;let n;for(const t of e.children)fd(t);const i=x(e.children,(e=>{const i=e.component.projection;if(i){if(n){const e=function(e,n){const i=x(cd,(i=>!t.hasOwnProperty(e.explicit,i)&&!t.hasOwnProperty(n.explicit,i)||!!(t.hasOwnProperty(e.explicit,i)&&t.hasOwnProperty(n.explicit,i)&&u(e.get(i),n.get(i)))));if(u(e.size,n.size)){if(i)return e;if(u(e.explicit,{}))return n;if(u(n.explicit,{}))return e}return null}(n,i);return e&&(n=e),!!e}return n=i,!0}return!0}));if(n&&i){const t=e.projectionName(!0),i=new ud(t,n.specifiedProjection,n.size,f(n.data));for(const n of e.children){const e=n.component.projection;e&&(e.isFit&&i.data.push(...n.component.projection.data),n.renameProjection(e.get("name"),t),e.merged=!0)}return i}return}(e)}function dd(e,t,n,i){if(Ua(t,n)){const r=Ap(e)?e.axis(n)??e.legend(n)??{}:{},o=ba(t,{expr:"datum"}),a=ba(t,{expr:"datum",binSuffix:"end"});return{formulaAs:ba(t,{binSuffix:"range",forAs:!0}),formula:Ro(o,a,r.format,r.formatType,i)}}return{}}function pd(e,t){return`${on(e)}_${t}`}function md(e,t,n){const i=pd(Ta(n,void 0)??{},t);return e.getName(`${i}_bins`)}function gd(e,n,i){let r,o;r=function(e){return"as"in e}(e)?t.isString(e.as)?[e.as,`${e.as}_end`]:[e.as[0],e.as[1]]:[ba(e,{forAs:!0}),ba(e,{binSuffix:"end",forAs:!0})];const a={...Ta(n,void 0)},s=pd(a,e.field),{signal:l,extentSignal:c}=function(e,t){return{signal:e.getName(`${t}_bins`),extentSignal:e.getName(`${t}_extent`)}}(i,s);if(cn(a.extent)){const e=a.extent;o=of(i,e.param,e),delete a.extent}return{key:s,binComponent:{bin:a,field:e.field,as:[r],...l?{signal:l}:{},...c?{extentSignal:c}:{},...o?{span:o}:{}}}}class hd extends Lc{clone(){return new hd(null,f(this.bins))}constructor(e,t){super(e),this.bins=t}static makeFromEncoding(e,t){const n=t.reduceFieldDef(((e,n,i)=>{if(fa(n)&&an(n.bin)){const{key:r,binComponent:o}=gd(n,n.bin,t);e[r]={...o,...e[r],...dd(t,n,i,t.config)}}return e}),{});return O(n)?null:new hd(e,n)}static makeFromTransform(e,t,n){const{key:i,binComponent:r}=gd(t,t.bin,n);return new hd(e,{[i]:r})}merge(e,t){for(const n of _(e.bins))n in this.bins?(t(e.bins[n].signal,this.bins[n].signal),this.bins[n].as=k([...this.bins[n].as,...e.bins[n].as],h)):this.bins[n]=e.bins[n];for(const t of e.children)e.removeChild(t),t.parent=this;e.remove()}producedFields(){return new Set(C(this.bins).map((e=>e.as)).flat(2))}dependentFields(){return new Set(C(this.bins).map((e=>e.field)))}hash(){return`Bin ${h(this.bins)}`}assemble(){return C(this.bins).flatMap((e=>{const t=[],[n,...i]=e.as,{extent:r,...o}=e.bin,a={type:"bin",field:W(e.field),as:n,signal:e.signal,...cn(r)?{extent:null}:{extent:r},...e.span?{span:{signal:`span(${e.span})`}}:{},...o};!r&&e.extentSignal&&(t.push({type:"extent",field:W(e.field),signal:e.extentSignal}),a.extent={signal:e.extentSignal}),t.push(a);for(const e of i)for(let i=0;i<2;i++)t.push({type:"formula",expr:ba({field:n[i]},{expr:"datum"}),as:e[i]});return e.formula&&t.push({type:"formula",expr:e.formula,as:e.formulaAs}),t}))}}function yd(e,n,i,r){var o;const a=Ap(r)?r.encoding[nt(n)]:void 0;if(fa(i)&&Ap(r)&&ta(i,a,r.markDef,r.config))e.add(ba(i,{})),e.add(ba(i,{suffix:"end"})),i.bin&&Ua(i,n)&&e.add(ba(i,{binSuffix:"range"}));else if(n in Ee){const t=function(e){switch(e){case ue:return"y";case de:return"y2";case fe:return"x";case pe:return"x2"}}(n);e.add(r.getName(t))}else e.add(ba(i));return pa(i)&&function(e){return t.isObject(e)&&"field"in e}(null===(o=i.scale)||void 0===o?void 0:o.range)&&e.add(i.scale.range.field),e}class vd extends Lc{clone(){return new vd(null,new Set(this.dimensions),f(this.measures))}constructor(e,t,n){super(e),this.dimensions=t,this.measures=n}get groupBy(){return this.dimensions}static makeFromEncoding(e,t){let n=!1;t.forEachFieldDef((e=>{e.aggregate&&(n=!0)}));const i={},r=new Set;return n?(t.forEachFieldDef(((e,n)=>{const{aggregate:o,field:a}=e;if(o)if("count"===o)i["*"]??={},i["*"].count=new Set([ba(e,{forAs:!0})]);else{if(Qt(o)||Kt(o)){const e=Qt(o)?"argmin":"argmax",t=o[e];i[t]??={},i[t][e]=new Set([ba({op:e,field:t},{forAs:!0})])}else i[a]??={},i[a][o]=new Set([ba(e,{forAs:!0})]);Bt(n)&&"unaggregated"===t.scaleDomain(n)&&(i[a]??={},i[a].min=new Set([ba({field:a,aggregate:"min"},{forAs:!0})]),i[a].max=new Set([ba({field:a,aggregate:"max"},{forAs:!0})]))}else yd(r,n,e,t)})),r.size+_(i).length===0?null:new vd(e,r,i)):null}static makeFromTransform(e,t){const n=new Set,i={};for(const e of t.aggregate){const{op:t,field:n,as:r}=e;t&&("count"===t?(i["*"]??={},i["*"].count=new Set([r||ba(e,{forAs:!0})])):(i[n]??={},i[n][t]=new Set([r||ba(e,{forAs:!0})])))}for(const e of t.groupby??[])n.add(e);return n.size+_(i).length===0?null:new vd(e,n,i)}merge(e){return S(this.dimensions,e.dimensions)?(function(e,t){for(const n of _(t)){const i=t[n];for(const t of _(i))n in e?e[n][t]=new Set([...e[n][t]??[],...i[t]]):e[n]={[t]:i[t]}}}(this.measures,e.measures),!0):(function(){zi.debug(...arguments)}("different dimensions, cannot merge"),!1)}addDimensions(e){e.forEach(this.dimensions.add,this.dimensions)}dependentFields(){return new Set([...this.dimensions,..._(this.measures)])}producedFields(){const e=new Set;for(const t of _(this.measures))for(const n of _(this.measures[t])){const i=this.measures[t][n];0===i.size?e.add(`${n}_${t}`):i.forEach(e.add,e)}return e}hash(){return`Aggregate ${h({dimensions:this.dimensions,measures:this.measures})}`}assemble(){const e=[],t=[],n=[];for(const i of _(this.measures))for(const r of _(this.measures[i]))for(const o of this.measures[i][r])n.push(o),e.push(r),t.push("*"===i?null:W(i));return{type:"aggregate",groupby:[...this.dimensions].map(W),ops:e,fields:t,as:n}}}class bd extends Lc{constructor(e,n,i,r){super(e),this.model=n,this.name=i,this.data=r,Mn(this,"column",void 0),Mn(this,"row",void 0),Mn(this,"facet",void 0),Mn(this,"childModel",void 0);for(const e of We){const i=n.facet[e];if(i){const{bin:r,sort:o}=i;this[e]={name:n.getName(`${e}_domain`),fields:[ba(i),...an(r)?[ba(i,{binSuffix:"end"})]:[]],...Vo(o)?{sortField:o}:t.isArray(o)?{sortIndexField:xf(i,e)}:{}}}}this.childModel=n.child}hash(){let e="Facet";for(const t of We)this[t]&&(e+=` ${t.charAt(0)}:${h(this[t])}`);return e}get fields(){const e=[];for(const n of We){var t;null!==(t=this[n])&&void 0!==t&&t.fields&&e.push(...this[n].fields)}return e}dependentFields(){const e=new Set(this.fields);for(const t of We)this[t]&&(this[t].sortField&&e.add(this[t].sortField.field),this[t].sortIndexField&&e.add(this[t].sortIndexField));return e}producedFields(){return new Set}getSource(){return this.name}getChildIndependentFieldsWithStep(){const e={};for(const t of St){const n=this.childModel.component.scales[t];if(n&&!n.merged){const i=n.get("type"),r=n.get("range");if(Ar(i)&&hn(r)){const n=up(fp(this.childModel,t));n?e[t]=n:Ci(Vn(t))}}}return e}assembleRowColumnHeaderData(e,t,n){const i={row:"y",column:"x",facet:void 0}[e],r=[],o=[],a=[];i&&n&&n[i]&&(t?(r.push(`distinct_${n[i]}`),o.push("max")):(r.push(n[i]),o.push("distinct")),a.push(`distinct_${n[i]}`));const{sortField:s,sortIndexField:l}=this[e];if(s){const{op:e=Uo,field:t}=s;r.push(t),o.push(e),a.push(ba(s,{forAs:!0}))}else l&&(r.push(l),o.push("max"),a.push(l));return{name:this[e].name,source:t??this.data,transform:[{type:"aggregate",groupby:this[e].fields,...r.length?{fields:r,ops:o,as:a}:{}}]}}assembleFacetHeaderData(e){const{columns:t}=this.model.layout,{layoutHeaders:n}=this.model.component,i=[],r={};for(const e of Sf){for(const t of Df){const i=(n[e]&&n[e][t])??[];for(const t of i){var o;if((null===(o=t.axes)||void 0===o?void 0:o.length)>0){r[e]=!0;break}}}if(r[e]){const n=`length(data("${this.facet.name}"))`,r="row"===e?t?{signal:`ceil(${n} / ${t})`}:1:t?{signal:`min(${n}, ${t})`}:{signal:n};i.push({name:`${this.facet.name}_${e}`,transform:[{type:"sequence",start:0,stop:r}]})}}const{row:a,column:s}=r;return(a||s)&&i.unshift(this.assembleRowColumnHeaderData("facet",null,e)),i}assemble(){const e=[];let t=null;const n=this.getChildIndependentFieldsWithStep(),{column:i,row:r,facet:o}=this;if(i&&r&&(n.x||n.y)){t=`cross_${this.column.name}_${this.row.name}`;const i=[].concat(n.x??[],n.y??[]),r=i.map((()=>"distinct"));e.push({name:t,source:this.data,transform:[{type:"aggregate",groupby:this.fields,fields:i,ops:r}]})}for(const i of[K,Q])this[i]&&e.push(this.assembleRowColumnHeaderData(i,t,n));if(o){const t=this.assembleFacetHeaderData(n);t&&e.push(...t)}return e}}function xd(e){return e.startsWith("'")&&e.endsWith("'")||e.startsWith('"')&&e.endsWith('"')?e.slice(1,-1):e}function wd(e){const n={};return l(e.filter,(e=>{if(rr(e)){let i=null;Ji(e)?i=$n(e.equal):Ki(e)?i=$n(e.lte):Qi(e)?i=$n(e.lt):Zi(e)?i=$n(e.gt):er(e)?i=$n(e.gte):tr(e)?i=e.range[0]:nr(e)&&(i=(e.oneOf??e.in)[0]),i&&(Ni(i)?n[e.field]="date":t.isNumber(i)?n[e.field]="number":t.isString(i)&&(n[e.field]="string")),e.timeUnit&&(n[e.field]="date")}})),n}function $d(e){const n={};function i(e){var i;qa(e)?n[e.field]="date":"quantitative"===e.type&&(i=e.aggregate,t.isString(i)&&v(["min","max"],i))?n[e.field]="number":B(e.field)>1?e.field in n||(n[e.field]="flatten"):pa(e)&&Vo(e.sort)&&B(e.sort.field)>1&&(e.sort.field in n||(n[e.sort.field]="flatten"))}if((Ap(e)||Ep(e))&&e.forEachFieldDef(((t,n)=>{if(fa(t))i(t);else{const r=et(n),o=e.fieldDef(r);i({...t,type:o.type})}})),Ap(e)){const{mark:t,markDef:i,encoding:r}=e;if(po(t)&&!e.encoding.order){const e=r["horizontal"===i.orient?"y":"x"];oa(e)&&"quantitative"===e.type&&!(e.field in n)&&(n[e.field]="number")}}return n}class kd extends Lc{clone(){return new kd(null,f(this._parse))}constructor(e,t){super(e),Mn(this,"_parse",void 0),this._parse=t}hash(){return`Parse ${h(this._parse)}`}static makeExplicit(e,t,n){var i;let r={};const o=t.data;return!Oc(o)&&null!=o&&null!==(i=o.format)&&void 0!==i&&i.parse&&(r=o.format.parse),this.makeWithAncestors(e,r,{},n)}static makeWithAncestors(e,t,n,i){for(const e of _(n)){const t=i.getWithExplicit(e);void 0!==t.value&&(t.explicit||t.value===n[e]||"derived"===t.value||"flatten"===n[e]?delete n[e]:Ci(Kn(e,n[e],t.value)))}for(const e of _(t)){const n=i.get(e);void 0!==n&&(n===t[e]?delete t[e]:Ci(Kn(e,t[e],n)))}const r=new vc(t,n);i.copyAll(r);const o={};for(const e of _(r.combine())){const t=r.get(e);null!==t&&(o[e]=t)}return 0===_(o).length||i.parseNothing?null:new kd(e,o)}get parse(){return this._parse}merge(e){this._parse={...this._parse,...e.parse},e.remove()}assembleFormatParse(){const e={};for(const t of _(this._parse)){const n=this._parse[t];1===B(t)&&(e[t]=n)}return e}producedFields(){return new Set(_(this._parse))}dependentFields(){return new Set(_(this._parse))}assembleTransforms(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return _(this._parse).filter((t=>!e||B(t)>1)).map((e=>{const t=function(e,t){const n=M(e);if("number"===t)return`toNumber(${n})`;if("boolean"===t)return`toBoolean(${n})`;if("string"===t)return`toString(${n})`;if("date"===t)return`toDate(${n})`;if("flatten"===t)return n;if(t.startsWith("date:"))return`timeParse(${n},'${xd(t.slice(5,t.length))}')`;if(t.startsWith("utc:"))return`utcParse(${n},'${xd(t.slice(4,t.length))}')`;return Ci(`Unrecognized parse "${t}".`),null}(e,this._parse[e]);if(!t)return null;return{type:"formula",expr:t,as:U(e)}})).filter((e=>null!==e))}}class Sd extends Lc{clone(){return new Sd(null)}constructor(e){super(e)}dependentFields(){return new Set}producedFields(){return new Set([qs])}hash(){return"Identifier"}assemble(){return{type:"identifier",as:qs}}}class Dd extends Lc{clone(){return new Dd(null,this.params)}constructor(e,t){super(e),this.params=t}dependentFields(){return new Set}producedFields(){}hash(){return`Graticule ${h(this.params)}`}assemble(){return{type:"graticule",...!0===this.params?{}:this.params}}}class Fd extends Lc{clone(){return new Fd(null,this.params)}constructor(e,t){super(e),this.params=t}dependentFields(){return new Set}producedFields(){return new Set([this.params.as??"data"])}hash(){return`Hash ${h(this.params)}`}assemble(){return{type:"sequence",...this.params}}}class zd extends Lc{constructor(e){let t;if(super(null),Mn(this,"_data",void 0),Mn(this,"_name",void 0),Mn(this,"_generator",void 0),e??={name:"source"},Oc(e)||(t=e.format?{...m(e.format,["parse"])}:{}),Fc(e))this._data={values:e.values};else if(Dc(e)){if(this._data={url:e.url},!t.type){let n=/(?:\.([^.]+))?$/.exec(e.url)[1];v(["json","csv","tsv","dsv","topojson"],n)||(n="json"),t.type=n}}else Cc(e)?this._data={values:[{type:"Sphere"}]}:(zc(e)||Oc(e))&&(this._data={});this._generator=Oc(e),e.name&&(this._name=e.name),t&&!O(t)&&(this._data.format=t)}dependentFields(){return new Set}producedFields(){}get data(){return this._data}hasName(){return!!this._name}get isGenerator(){return this._generator}get dataName(){return this._name}set dataName(e){this._name=e}set parent(e){throw new Error("Source nodes have to be roots.")}remove(){throw new Error("Source nodes are roots and cannot be removed.")}hash(){throw new Error("Cannot hash sources")}assemble(){return{name:this._name,...this._data,transform:[]}}}function Od(e){return e instanceof zd||e instanceof Dd||e instanceof Fd}var _d=new WeakMap;class Cd{constructor(){Wn(this,_d,{writable:!0,value:void 0}),Ln(this,_d,!1)}setModified(){Ln(this,_d,!0)}get modifiedFlag(){return function(e,t){return t.get?t.get.call(e):t.value}(e=this,qn(e,_d,"get"));var e}}class Nd extends Cd{getNodeDepths(e,t,n){n.set(e,t);for(const i of e.children)this.getNodeDepths(i,t+1,n);return n}optimize(e){const t=[...this.getNodeDepths(e,0,new Map).entries()].sort(((e,t)=>t[1]-e[1]));for(const e of t)this.run(e[0]);return this.modifiedFlag}}class Pd extends Cd{optimize(e){this.run(e);for(const t of e.children)this.optimize(t);return this.modifiedFlag}}class jd extends Pd{mergeNodes(e,t){const n=t.shift();for(const i of t)e.removeChild(i),i.parent=n,i.remove()}run(e){const t=e.children.map((e=>e.hash())),n={};for(let i=0;i<t.length;i++)void 0===n[t[i]]?n[t[i]]=[e.children[i]]:n[t[i]].push(e.children[i]);for(const t of _(n))n[t].length>1&&(this.setModified(),this.mergeNodes(e,n[t]))}}class Ad extends Pd{constructor(e){super(),Mn(this,"requiresSelectionId",void 0),this.requiresSelectionId=e&&Qu(e)}run(e){e instanceof Sd&&(this.requiresSelectionId&&(Od(e.parent)||e.parent instanceof vd||e.parent instanceof kd)||(this.setModified(),e.remove()))}}class Ed extends Cd{optimize(e){return this.run(e,new Set),this.modifiedFlag}run(e,t){let n=new Set;e instanceof Wc&&(n=e.producedFields(),D(n,t)&&(this.setModified(),e.removeFormulas(t),0===e.producedFields.length&&e.remove()));for(const i of e.children)this.run(i,new Set([...t,...n]))}}class Td extends Pd{constructor(){super()}run(e){e instanceof qc&&!e.isRequired()&&(this.setModified(),e.remove())}}class Md extends Nd{run(e){if(!(Od(e)||e.numChildren()>1))for(const t of e.children)if(t instanceof kd)if(e instanceof kd)this.setModified(),e.merge(t);else{if(z(e.producedFields(),t.dependentFields()))continue;this.setModified(),t.swapWithParent()}}}class Ld extends Nd{run(e){const t=[...e.children],n=e.children.filter((e=>e instanceof kd));if(e.numChildren()>1&&n.length>=1){const i={},r=new Set;for(const e of n){const t=e.parse;for(const e of _(t))e in i?i[e]!==t[e]&&r.add(e):i[e]=t[e]}for(const e of r)delete i[e];if(!O(i)){this.setModified();const n=new kd(e,i);for(const r of t){if(r instanceof kd)for(const e of _(i))delete r.parse[e];e.removeChild(r),r.parent=n,r instanceof kd&&0===_(r.parse).length&&r.remove()}}}}}class qd extends Nd{run(e){e instanceof qc||e.numChildren()>0||e instanceof bd||e instanceof zd||(this.setModified(),e.remove())}}class Wd extends Nd{run(e){const t=e.children.filter((e=>e instanceof Wc)),n=t.pop();for(const e of t)this.setModified(),n.merge(e)}}class Rd extends Nd{run(e){const t=e.children.filter((e=>e instanceof vd)),n={};for(const e of t){const t=h(e.groupBy);t in n||(n[t]=[]),n[t].push(e)}for(const t of _(n)){const i=n[t];if(i.length>1){const t=i.pop();for(const n of i)t.merge(n)&&(e.removeChild(n),n.parent=t,n.remove(),this.setModified())}}}}class Ud extends Nd{constructor(e){super(),this.model=e}run(e){const t=!(Od(e)||e instanceof nf||e instanceof kd||e instanceof Sd),n=[],i=[];for(const r of e.children)r instanceof hd&&(t&&!z(e.producedFields(),r.dependentFields())?n.push(r):i.push(r));if(n.length>0){const t=n.pop();for(const e of n)t.merge(e,this.model.renameSignal.bind(this.model));this.setModified(),e instanceof hd?e.merge(t,this.model.renameSignal.bind(this.model)):t.swapWithParent()}if(i.length>1){const e=i.pop();for(const t of i)e.merge(t,this.model.renameSignal.bind(this.model));this.setModified()}}}class Bd extends Nd{run(e){const t=[...e.children];if(!b(t,(e=>e instanceof qc))||e.numChildren()<=1)return;const n=[];let i;for(const r of t)if(r instanceof qc){let t=r;for(;1===t.numChildren();){const[e]=t.children;if(!(e instanceof qc))break;t=e}n.push(...t.children),i?(e.removeChild(r),r.parent=i.parent,i.parent.removeChild(i),i.parent=t,this.setModified()):i=t}else n.push(r);if(n.length){this.setModified();for(const e of n)e.parent.removeChild(e),e.parent=i}}}class Id extends Lc{clone(){return new Id(null,f(this.transform))}constructor(e,t){super(e),this.transform=t}addDimensions(e){this.transform.groupby=k(this.transform.groupby.concat(e),(e=>e))}dependentFields(){const e=new Set;return this.transform.groupby&&this.transform.groupby.forEach(e.add,e),this.transform.joinaggregate.map((e=>e.field)).filter((e=>void 0!==e)).forEach(e.add,e),e}producedFields(){return new Set(this.transform.joinaggregate.map(this.getDefaultName))}getDefaultName(e){return e.as??ba(e)}hash(){return`JoinAggregateTransform ${h(this.transform)}`}assemble(){const e=[],t=[],n=[];for(const i of this.transform.joinaggregate)t.push(i.op),n.push(this.getDefaultName(i)),e.push(void 0===i.field?null:i.field);const i=this.transform.groupby;return{type:"joinaggregate",as:n,ops:t,fields:e,...void 0!==i?{groupby:i}:{}}}}class Hd extends Lc{clone(){return new Hd(null,f(this._stack))}constructor(e,t){super(e),Mn(this,"_stack",void 0),this._stack=t}static makeFromTransform(e,n){const{stack:i,groupby:r,as:o,offset:a="zero"}=n,s=[],l=[];if(void 0!==n.sort)for(const e of n.sort)s.push(e.field),l.push(I(e.order,"ascending"));const c={field:s,order:l};let u;return u=function(e){return t.isArray(e)&&e.every((e=>t.isString(e)))&&e.length>1}(o)?o:t.isString(o)?[o,`${o}_end`]:[`${n.stack}_start`,`${n.stack}_end`],new Hd(e,{dimensionFieldDefs:[],stackField:i,groupby:r,offset:a,sort:c,facetby:[],as:u})}static makeFromEncoding(e,n){const i=n.stack,{encoding:r}=n;if(!i)return null;const{groupbyChannels:o,fieldChannel:a,offset:s,impute:l}=i,c=o.map((e=>Na(r[e]))).filter((e=>!!e)),u=function(e){return e.stack.stackBy.reduce(((e,t)=>{const n=ba(t.fieldDef);return n&&e.push(n),e}),[])}(n),f=n.encoding.order;let d;return d=t.isArray(f)||oa(f)?jn(f):u.reduce(((e,t)=>(e.field.push(t),e.order.push("y"===a?"descending":"ascending"),e)),{field:[],order:[]}),new Hd(e,{dimensionFieldDefs:c,stackField:n.vgField(a),facetby:[],stackby:u,sort:d,offset:s,impute:l,as:[n.vgField(a,{suffix:"start",forAs:!0}),n.vgField(a,{suffix:"end",forAs:!0})]})}get stack(){return this._stack}addDimensions(e){this._stack.facetby.push(...e)}dependentFields(){const e=new Set;return e.add(this._stack.stackField),this.getGroupbyFields().forEach(e.add,e),this._stack.facetby.forEach(e.add,e),this._stack.sort.field.forEach(e.add,e),e}producedFields(){return new Set(this._stack.as)}hash(){return`Stack ${h(this._stack)}`}getGroupbyFields(){const{dimensionFieldDefs:e,impute:t,groupby:n}=this._stack;return e.length>0?e.map((e=>e.bin?t?[ba(e,{binSuffix:"mid"})]:[ba(e,{}),ba(e,{binSuffix:"end"})]:[ba(e)])).flat():n??[]}assemble(){const e=[],{facetby:t,dimensionFieldDefs:n,stackField:i,stackby:r,sort:o,offset:a,impute:s,as:l}=this._stack;if(s)for(const o of n){const{bandPosition:n=.5,bin:a}=o;if(a){const t=ba(o,{expr:"datum"}),i=ba(o,{expr:"datum",binSuffix:"end"});e.push({type:"formula",expr:`${n}*${t}+${1-n}*${i}`,as:ba(o,{binSuffix:"mid",forAs:!0})})}e.push({type:"impute",field:i,groupby:[...r,...t],key:ba(o,{binSuffix:"mid"}),method:"value",value:0})}return e.push({type:"stack",groupby:[...this.getGroupbyFields(),...t],field:i,sort:o,as:l,offset:a}),e}}class Vd extends Lc{clone(){return new Vd(null,f(this.transform))}constructor(e,t){super(e),this.transform=t}addDimensions(e){this.transform.groupby=k(this.transform.groupby.concat(e),(e=>e))}dependentFields(){const e=new Set;return(this.transform.groupby??[]).forEach(e.add,e),(this.transform.sort??[]).forEach((t=>e.add(t.field))),this.transform.window.map((e=>e.field)).filter((e=>void 0!==e)).forEach(e.add,e),e}producedFields(){return new Set(this.transform.window.map(this.getDefaultName))}getDefaultName(e){return e.as??ba(e)}hash(){return`WindowTransform ${h(this.transform)}`}assemble(){const e=[],t=[],n=[],i=[];for(const r of this.transform.window)t.push(r.op),n.push(this.getDefaultName(r)),i.push(void 0===r.param?null:r.param),e.push(void 0===r.field?null:r.field);const r=this.transform.frame,o=this.transform.groupby;if(r&&null===r[0]&&null===r[1]&&t.every((e=>Zt(e))))return{type:"joinaggregate",as:n,ops:t,fields:e,...void 0!==o?{groupby:o}:{}};const a=[],s=[];if(void 0!==this.transform.sort)for(const e of this.transform.sort)a.push(e.field),s.push(e.order??"ascending");const l={field:a,order:s},c=this.transform.ignorePeers;return{type:"window",params:i,as:n,ops:t,fields:e,sort:l,...void 0!==c?{ignorePeers:c}:{},...void 0!==o?{groupby:o}:{},...void 0!==r?{frame:r}:{}}}}function Gd(e){if(e instanceof bd)if(1!==e.numChildren()||e.children[0]instanceof qc){const n=e.model.component.data.main;Yd(n);const i=(t=e,function e(n){if(!(n instanceof bd)){const i=n.clone();if(i instanceof qc){const e=Xd+i.getSource();i.setSource(e),t.model.component.data.outputNodes[e]=i}else(i instanceof vd||i instanceof Hd||i instanceof Vd||i instanceof Id)&&i.addDimensions(t.fields);for(const t of n.children.flatMap(e))t.parent=i;return[i]}return n.children.flatMap(e)}),r=e.children.map(i).flat();for(const e of r)e.parent=n}else{const t=e.children[0];(t instanceof vd||t instanceof Hd||t instanceof Vd||t instanceof Id)&&t.addDimensions(e.fields),t.swapWithParent(),Gd(e)}else e.children.map(Gd);var t}function Yd(e){if(e instanceof qc&&e.type===Pc.Main&&1===e.numChildren()){const t=e.children[0];t instanceof bd||(t.swapWithParent(),Yd(e))}}const Xd="scale_";function Jd(e){for(const t of e){for(const e of t.children)if(e.parent!==t)return!1;if(!Jd(t.children))return!1}return!0}function Qd(e,t){let n=!1;for(const i of t)n=e.optimize(i)||n;return n}function Kd(e,t,n){let i=e.sources,r=!1;return r=Qd(new Td,i)||r,r=Qd(new Ad(t),i)||r,i=i.filter((e=>e.numChildren()>0)),r=Qd(new qd,i)||r,i=i.filter((e=>e.numChildren()>0)),n||(r=Qd(new Md,i)||r,r=Qd(new Ud(t),i)||r,r=Qd(new Ed,i)||r,r=Qd(new Ld,i)||r,r=Qd(new Rd,i)||r,r=Qd(new Wd,i)||r,r=Qd(new jd,i)||r,r=Qd(new Bd,i)||r),e.sources=i,r}function Zd(e,t){Jd(e.sources);let n=0,i=0;for(let i=0;i<5&&Kd(e,t,!0);i++)n++;e.sources.map(Gd);for(let n=0;n<5&&Kd(e,t,!1);n++)i++;Jd(e.sources),5===Math.max(n,i)&&Ci("Maximum optimization runs(5) reached.")}class ep{constructor(e){Mn(this,"signal",void 0),Object.defineProperty(this,"signal",{enumerable:!0,get:e})}static fromName(e,t){return new ep((()=>e(t)))}}function tp(e){Ap(e)?function(e){const t=e.component.scales;for(const n of _(t)){const i=np(e,n);if(t[n].setWithExplicit("domains",i),ap(e,n),e.component.data.isFaceted){let t=e;for(;!Ep(t)&&t.parent;)t=t.parent;if("shared"===t.component.resolve.scale[n])for(const e of i.value)yn(e)&&(e.data=Xd+e.data.replace(Xd,""))}}}(e):function(e){for(const t of e.children)tp(t);const t=e.component.scales;for(const n of _(t)){let i,r=null;for(const t of e.children){const e=t.component.scales[n];if(e){i=void 0===i?e.getWithExplicit("domains"):kc(i,e.getWithExplicit("domains"),"domains","scale",lp);const t=e.get("selectionExtent");r&&t&&r.param!==t.param&&Ci(Jn),r=t}}t[n].setWithExplicit("domains",i),r&&t[n].set("selectionExtent",r,!0)}}(e)}function np(e,t){const n=e.getScaleComponent(t).get("type"),{encoding:i}=e,r=function(e,t,n,i){if("unaggregated"===e){const{valid:e,reason:i}=sp(t,n);if(!e)return void Ci(i)}else if(void 0===e&&i.useUnaggregatedDomain){const{valid:e}=sp(t,n);if(e)return"unaggregated"}return e}(e.scaleDomain(t),e.typedFieldDef(t),n,e.config.scale);return r!==e.scaleDomain(t)&&(e.specifiedScales[t]={...e.specifiedScales[t],domain:r}),"x"===t&&Pa(i.x2)?Pa(i.x)?kc(rp(n,r,e,"x"),rp(n,r,e,"x2"),"domain","scale",lp):rp(n,r,e,"x2"):"y"===t&&Pa(i.y2)?Pa(i.y)?kc(rp(n,r,e,"y"),rp(n,r,e,"y2"),"domain","scale",lp):rp(n,r,e,"y2"):rp(n,r,e,t)}function ip(e,t,n){var i;const r=null===(i=Yi(n))||void 0===i?void 0:i.unit;return"temporal"===t||r?function(e,t,n){return e.map((e=>({signal:`{data: ${Wa(e,{timeUnit:n,type:t})}}`})))}(e,t,r):[e]}function rp(e,n,i,r){const{encoding:o}=i,a=Pa(o[r]),{type:s}=a,l=a.timeUnit;if(function(e){return null==e?void 0:e.unionWith}(n)){const t=rp(e,void 0,i,r);return bc([...ip(n.unionWith,s,l),...t.value])}if(gn(n))return bc([n]);if(n&&"unaggregated"!==n&&!Lr(n))return bc(ip(n,s,l));const c=i.stack;if(c&&r===c.fieldChannel){if("normalize"===c.offset)return xc([[0,1]]);const e=i.requestDataName(Pc.Main);return xc([{data:e,field:i.vgField(r,{suffix:"start"})},{data:e,field:i.vgField(r,{suffix:"end"})}])}const u=Bt(r)&&oa(a)?function(e,t,n){if(!Ar(n))return;const i=e.fieldDef(t),r=i.sort;if(Go(r))return{op:"min",field:xf(i,t),order:"ascending"};const{stack:o}=e,a=o?new Set([...o.groupbyFields,...o.stackBy.map((e=>e.fieldDef.field))]):void 0;if(Vo(r)){return op(r,o&&!a.has(r.field))}if(Ho(r)){const{encoding:t,order:n}=r,i=e.fieldDef(t),{aggregate:s,field:l}=i,c=o&&!a.has(l);if(Qt(s)||Kt(s))return op({field:ba(i),order:n},c);if(Zt(s)||!s)return op({op:s,field:l,order:n},c)}else{if("descending"===r)return{op:"min",field:e.vgField(t),order:"descending"};if(v(["ascending",void 0],r))return!0}return}(i,r,e):void 0;if(sa(a)){return xc(ip([a.datum],s,l))}const f=a;if("unaggregated"===n){const e=i.requestDataName(Pc.Main),{field:t}=a;return xc([{data:e,field:ba({field:t,aggregate:"min"})},{data:e,field:ba({field:t,aggregate:"max"})}])}if(an(f.bin)){if(Ar(e))return xc("bin-ordinal"===e?[]:[{data:P(u)?i.requestDataName(Pc.Main):i.requestDataName(Pc.Raw),field:i.vgField(r,Ua(f,r)?{binSuffix:"range"}:{}),sort:!0!==u&&t.isObject(u)?u:{field:i.vgField(r,{}),op:"min"}}]);{const{bin:e}=f;if(an(e)){const t=md(i,f.field,e);return xc([new ep((()=>{const e=i.getSignalName(t);return`[${e}.start, ${e}.stop]`}))])}return xc([{data:i.requestDataName(Pc.Main),field:i.vgField(r,{})}])}}if(f.timeUnit&&v(["time","utc"],e)&&ta(f,Ap(i)?i.encoding[nt(r)]:void 0,i.markDef,i.config)){const e=i.requestDataName(Pc.Main);return xc([{data:e,field:i.vgField(r)},{data:e,field:i.vgField(r,{suffix:"end"})}])}return xc(u?[{data:P(u)?i.requestDataName(Pc.Main):i.requestDataName(Pc.Raw),field:i.vgField(r),sort:u}]:[{data:i.requestDataName(Pc.Main),field:i.vgField(r)}])}function op(e,t){const{op:n,field:i,order:r}=e;return{op:n??(t?"sum":Uo),...i?{field:W(i)}:{},...r?{order:r}:{}}}function ap(e,t){var n;const i=e.component.scales[t],r=e.specifiedScales[t].domain,o=null===(n=e.fieldDef(t))||void 0===n?void 0:n.bin,a=Lr(r)&&r,s=ln(o)&&cn(o.extent)&&o.extent;(a||s)&&i.set("selectionExtent",a??s,!0)}function sp(e,n){const{aggregate:i,type:r}=e;return i?t.isString(i)&&!rn.has(i)?{valid:!1,reason:gi(i)}:"quantitative"===r&&"log"===n?{valid:!1,reason:hi(e)}:{valid:!0}:{valid:!1,reason:mi(e)}}function lp(e,t,n,i){return e.explicit&&t.explicit&&Ci(function(e,t,n,i){return`Conflicting ${t.toString()} property "${e.toString()}" (${g(n)} and ${g(i)}). Using the union of the two domains.`}(n,i,e.value,t.value)),{explicit:e.explicit,value:[...e.value,...t.value]}}function cp(e){const n=k(e.map((e=>{if(yn(e)){const{sort:t,...n}=e;return n}return e})),h),i=k(e.map((e=>{if(yn(e)){const t=e.sort;return void 0===t||P(t)||("op"in t&&"count"===t.op&&delete t.field,"ascending"===t.order&&delete t.order),t}})).filter((e=>void 0!==e)),h);if(0===n.length)return;if(1===n.length){const n=e[0];if(yn(n)&&i.length>0){let e=i[0];if(i.length>1)Ci(wi),e=!0;else if(t.isObject(e)&&"field"in e){const t=e.field;n.field===t&&(e=!e.order||{order:e.order})}return{...n,sort:e}}return n}const r=k(i.map((e=>P(e)||!("op"in e)||t.isString(e.op)&&e.op in Jt?e:(Ci(function(e){return`Dropping sort property ${g(e)} as unioned domains only support boolean or op "count", "min", and "max".`}(e)),!0))),h);let o;1===r.length?o=r[0]:r.length>1&&(Ci(wi),o=!0);const a=k(e.map((e=>yn(e)?e.data:null)),(e=>e));if(1===a.length&&null!==a[0]){return{data:a[0],fields:n.map((e=>e.field)),...o?{sort:o}:{}}}return{fields:n,...o?{sort:o}:{}}}function up(e){if(yn(e)&&t.isString(e.field))return e.field;if(function(e){return!t.isArray(e)&&"fields"in e&&!("data"in e)}(e)){let n;for(const i of e.fields)if(yn(i)&&t.isString(i.field))if(n){if(n!==i.field)return Ci("Detected faceted independent scales that union domain of multiple fields from different data sources. We will use the first field. The result view size may be incorrect."),n}else n=i.field;return Ci("Detected faceted independent scales that union domain of the same fields from different source. We will assume that this is the same field from a different fork of the same data source. However, if this is not the case, the result view size may be incorrect."),n}if(function(e){return!t.isArray(e)&&"fields"in e&&"data"in e}(e)){Ci("Detected faceted independent scales that union domain of multiple fields from the same data source. We will use the first field. The result view size may be incorrect.");const n=e.fields[0];return t.isString(n)?n:void 0}}function fp(e,t){const n=e.component.scales[t].get("domains").map((t=>(yn(t)&&(t.data=e.lookupDataSource(t.data)),t)));return cp(n)}function dp(e){return Mp(e)||Tp(e)?e.children.reduce(((e,t)=>e.concat(dp(t))),pp(e)):pp(e)}function pp(e){return _(e.component.scales).reduce(((n,i)=>{const r=e.component.scales[i];if(r.merged)return n;const o=r.combine(),{name:a,type:s,selectionExtent:l,domains:c,range:u,reverse:f,...d}=o,p=function(e,n,i,r){if(Dt(i)){if(hn(e))return{step:{signal:`${n}_step`}}}else if(t.isObject(e)&&yn(e))return{...e,data:r.lookupDataSource(e.data)};return e}(o.range,a,i,e),m=fp(e,i),g=l?function(e,n,i,r){const o=of(e,n.param,n);return{signal:Er(i.get("type"))&&t.isArray(r)&&r[0]>r[1]?`isValid(${o}) && reverse(${o})`:o}}(e,l,r,m):null;return n.push({name:a,type:s,...m?{domain:m}:{},...g?{domainRaw:g}:{},range:p,...void 0!==f?{reverse:f}:{},...d}),n}),[])}class mp extends vc{constructor(e,t){super({},{name:e}),Mn(this,"merged",!1),this.setWithExplicit("type",t)}domainDefinitelyIncludesZero(){return!1!==this.get("zero")||b(this.get("domains"),(e=>t.isArray(e)&&2===e.length&&e[0]<=0&&e[1]>=0))}}const gp=["range","scheme"];function hp(e,n){const i=e.fieldDef(n);if(null!=i&&i.bin){const{bin:r,field:o}=i,a=it(n),s=e.getName(a);if(t.isObject(r)&&r.binned&&void 0!==r.step)return new ep((()=>{const t=e.scaleName(n),i=`(domain("${t}")[1] - domain("${t}")[0]) / ${r.step}`;return`${e.getSignalName(s)} / (${i})`}));if(an(r)){const t=md(e,o,r);return new ep((()=>{const n=e.getSignalName(t),i=`(${n}.stop - ${n}.start) / ${n}.step`;return`${e.getSignalName(s)} / (${i})`}))}}}function yp(e,n){const i=n.specifiedScales[e],{size:r}=n,o=n.getScaleComponent(e).get("type");for(const r of gp)if(void 0!==i[r]){const a=Gr(o,r),s=Yr(e,r);if(a)if(s)Ci(s);else switch(r){case"range":{const r=i.range;if(t.isArray(r)){if(Dt(e))return bc(r.map((e=>{if("width"===e||"height"===e){const t=n.getName(e),i=n.getSignalName.bind(n);return ep.fromName(i,t)}return e})))}else if(t.isObject(r))return bc({data:n.requestDataName(Pc.Main),field:r.field,sort:{op:"min",field:n.vgField(e)}});return bc(r)}case"scheme":return bc(vp(i[r]))}else Ci(bi(o,r,e))}const a=e===ee||"xOffset"===e?"width":"height",s=r[a];if(Xs(s))if(Dt(e))if(Ar(o)){const t=bp(s,n,e);if(t)return bc({step:t})}else Ci(xi(a));else if(Ct(e)){const t=e===re?"x":"y";if("band"===n.getScaleComponent(t).get("type")){const e=xp(s,o);if(e)return bc(e)}}const{rangeMin:l,rangeMax:c}=i,u=function(e,n){const{size:i,config:r,mark:o,encoding:a}=n,s=n.getSignalName.bind(n),{type:l}=Pa(a[e]),c=n.getScaleComponent(e).get("type"),{domain:u,domainMid:f}=n.specifiedScales[e];switch(e){case ee:case te:{if(v(["point","band"],c)){const t=wp(e,i,r.view);if(Xs(t)){return{step:bp(t,n,e)}}}const t=it(e),o=n.getName(t);return e===te&&Er(c)?[ep.fromName(s,o),0]:[0,ep.fromName(s,o)]}case re:case oe:return function(e,t,n){const i=e===re?"x":"y",r=t.getScaleComponent(i).get("type"),o=t.scaleName(i);if("band"===r){const e=wp(i,t.size,t.config.view);if(Xs(e)){const t=xp(e,n);if(t)return t}return[0,{signal:`bandwidth('${o}')`}]}return d(`Cannot use ${e} scale if ${i} scale is not discrete.`)}(e,n,c);case ve:{const a=$p(o,n.component.scales[e].get("zero"),r),s=function(e,n,i,r){const o={x:hp(i,"x"),y:hp(i,"y")};switch(e){case"bar":case"tick":{if(void 0!==r.scale.maxBandSize)return r.scale.maxBandSize;const e=Sp(n,o,r.view);return t.isNumber(e)?e-1:new ep((()=>`${e.signal} - 1`))}case"line":case"trail":case"rule":return r.scale.maxStrokeWidth;case"text":return r.scale.maxFontSize;case"point":case"square":case"circle":{if(r.scale.maxSize)return r.scale.maxSize;const e=Sp(n,o,r.view);return t.isNumber(e)?Math.pow(kp*e,2):new ep((()=>`pow(0.95 * ${e.signal}, 2)`))}}throw new Error(li("size",e))}(o,i,n,r);return Mr(c)?function(e,t,n){const i=()=>{const i=Fn(t),r=Fn(e),o=`(${i} - ${r}) / (${n} - 1)`;return`sequence(${r}, ${i} + ${o}, ${o})`};return gn(t)?new ep(i):{signal:i()}}(a,s,function(e,n,i,r){switch(e){case"quantile":return n.scale.quantileCount;case"quantize":return n.scale.quantizeCount;case"threshold":return void 0!==i&&t.isArray(i)?i.length+1:(Ci(function(e){return`Domain for ${e} is required for threshold scale.`}(r)),3)}}(c,r,u,e)):[a,s]}case le:return[0,2*Math.PI];case be:return[0,360];case ae:return[0,new ep((()=>`min(${n.getSignalName("width")},${n.getSignalName("height")})/2`))];case ke:return[r.scale.minStrokeWidth,r.scale.maxStrokeWidth];case Se:return[[1,0],[4,2],[2,1],[1,1],[1,2,4,2]];case ye:return"symbol";case me:case ge:case he:return"ordinal"===c?"nominal"===l?"category":"ordinal":void 0!==f?"diverging":"rect"===o||"geoshape"===o?"heatmap":"ramp";case xe:case we:case $e:return[r.scale.minOpacity,r.scale.maxOpacity]}}(e,n);return(void 0!==l||void 0!==c)&&Gr(o,"rangeMin")&&t.isArray(u)&&2===u.length?bc([l??u[0],c??u[1]]):xc(u)}function vp(e){return function(e){return!t.isString(e)&&!!e.name}(e)?{scheme:e.name,...m(e,["name"])}:{scheme:e}}function bp(e,n,i){const{encoding:r}=n,o=n.getScaleComponent(i),a=rt(i),s=r[a];if("offset"===Ys({step:e,offsetIsDiscrete:ua(s)&&fr(s.type)})&&es(r,a)){const i=n.getScaleComponent(a);let r=`domain('${n.scaleName(a)}').length`;if("band"===i.get("type")){r=`bandspace(${r}, ${i.get("paddingInner")??i.get("padding")??0}, ${i.get("paddingOuter")??i.get("padding")??0})`}const s=o.get("paddingInner")??o.get("padding");return{signal:`${e.step} * ${r} / (1-${l=s,gn(l)?l.signal:t.stringValue(l)})`}}return e.step;var l}function xp(e,t){if("offset"===Ys({step:e,offsetIsDiscrete:Ar(t)}))return{step:e.step}}function wp(e,t,n){const i=e===ee?"width":"height",r=t[i];return r||el(n,i)}function $p(e,t,n){if(t)return gn(t)?{signal:`${t.signal} ? 0 : ${$p(e,!1,n)}`}:0;switch(e){case"bar":case"tick":return n.scale.minBandSize;case"line":case"trail":case"rule":return n.scale.minStrokeWidth;case"text":return n.scale.minFontSize;case"point":case"square":case"circle":return n.scale.minSize}throw new Error(li("size",e))}const kp=.95;function Sp(e,t,n){const i=Xs(e.width)?e.width.step:Zs(n,"width"),r=Xs(e.height)?e.height.step:Zs(n,"height");return t.x||t.y?new ep((()=>`min(${[t.x?t.x.signal:i,t.y?t.y.signal:r].join(", ")})`)):Math.min(i,r)}function Dp(e,t){Ap(e)?function(e,t){const n=e.component.scales,{config:i,encoding:r,markDef:o,specifiedScales:a}=e;for(const s of _(n)){const l=a[s],c=n[s],u=e.getScaleComponent(s),f=Pa(r[s]),d=l[t],p=u.get("type"),m=u.get("padding"),g=u.get("paddingInner"),h=Gr(p,t),y=Yr(s,t);if(void 0!==d&&(h?y&&Ci(y):Ci(bi(p,t,s))),h&&void 0===y)if(void 0!==d){const e=f.timeUnit,n=f.type;switch(t){case"domainMax":case"domainMin":Ni(l[t])||"temporal"===n||e?c.set(t,{signal:Wa(l[t],{type:n,timeUnit:e})},!0):c.set(t,l[t],!0);break;default:c.copyKeyFromObject(t,l)}}else{const n=t in Fp?Fp[t]({model:e,channel:s,fieldOrDatumDef:f,scaleType:p,scalePadding:m,scalePaddingInner:g,domain:l.domain,domainMin:l.domainMin,domainMax:l.domainMax,markDef:o,config:i,hasNestedOffsetScale:ts(r,s),hasSecondaryRangeChannel:!!r[nt(s)]}):i.scale[t];void 0!==n&&c.set(t,n,!1)}}}(e,t):Op(e,t)}const Fp={bins:e=>{let{model:t,fieldOrDatumDef:n}=e;return oa(n)?function(e,t){const n=t.bin;if(an(n)){const i=md(e,t.field,n);return new ep((()=>e.getSignalName(i)))}if(sn(n)&&ln(n)&&void 0!==n.step)return{step:n.step};return}(t,n):void 0},interpolate:e=>{let{channel:t,fieldOrDatumDef:n}=e;return function(e,t){if(v([me,ge,he],e)&&"nominal"!==t)return"hcl";return}(t,n.type)},nice:e=>{let{scaleType:n,channel:i,domain:r,domainMin:o,domainMax:a,fieldOrDatumDef:s}=e;return function(e,n,i,r,o,a){var s;if(null!==(s=Na(a))&&void 0!==s&&s.bin||t.isArray(i)||null!=o||null!=r||v([xr,wr],e))return;return!!Dt(n)||void 0}(n,i,r,o,a,s)},padding:e=>{let{channel:t,scaleType:n,fieldOrDatumDef:i,markDef:r,config:o}=e;return function(e,t,n,i,r,o){if(Dt(e)){if(Tr(t)){if(void 0!==n.continuousPadding)return n.continuousPadding;const{type:t,orient:a}=r;if("bar"===t&&(!oa(i)||!i.bin&&!i.timeUnit)&&("vertical"===a&&"x"===e||"horizontal"===a&&"y"===e))return o.continuousBandSize}if(t===$r)return n.pointPadding}return}(t,n,o.scale,i,r,o.bar)},paddingInner:e=>{let{scalePadding:t,channel:n,markDef:i,scaleType:r,config:o,hasNestedOffsetScale:a}=e;return function(e,t,n,i,r){let o=arguments.length>5&&void 0!==arguments[5]&&arguments[5];if(void 0!==e)return;if(Dt(t)){const{bandPaddingInner:e,barBandPaddingInner:t,rectBandPaddingInner:i,bandWithNestedOffsetPaddingInner:a}=r;return o?a:I(e,"bar"===n?t:i)}if(Ct(t)&&i===kr)return r.offsetBandPaddingInner;return}(t,n,i.type,r,o.scale,a)},paddingOuter:e=>{let{scalePadding:t,channel:n,scaleType:i,scalePaddingInner:r,config:o,hasNestedOffsetScale:a}=e;return function(e,t,n,i,r){let o=arguments.length>5&&void 0!==arguments[5]&&arguments[5];if(void 0!==e)return;if(Dt(t)){const{bandPaddingOuter:e,bandWithNestedOffsetPaddingOuter:t}=r;if(o)return t;if(n===kr)return I(e,gn(i)?{signal:`${i.signal}/2`}:i/2)}else if(Ct(t)){if(n===$r)return.5;if(n===kr)return r.offsetBandPaddingOuter}return}(t,n,i,r,o.scale,a)},reverse:e=>{let{fieldOrDatumDef:t,scaleType:n,channel:i,config:r}=e;return function(e,t,n,i){if("x"===n&&void 0!==i.xReverse)return Er(e)&&"descending"===t?gn(i.xReverse)?{signal:`!${i.xReverse.signal}`}:!i.xReverse:i.xReverse;if(Er(e)&&"descending"===t)return!0;return}(n,oa(t)?t.sort:void 0,i,r.scale)},zero:e=>{let{channel:n,fieldOrDatumDef:i,domain:r,markDef:o,scaleType:a,config:s,hasSecondaryRangeChannel:l}=e;return function(e,n,i,r,o,a,s){if(i&&"unaggregated"!==i&&Er(o)){if(t.isArray(i)){const e=i[0],t=i[i.length-1];if(e<=0&&t>=0)return!0}return!1}if("size"===e&&"quantitative"===n.type&&!Mr(o))return!0;if((!oa(n)||!n.bin)&&v([...St,...zt],e)){const{orient:t,type:n}=r;return(!v(["bar","area","line","trail"],n)||!("horizontal"===t&&"y"===e||"vertical"===t&&"x"===e))&&(!(!v(["bar","area"],n)||s)||(null==a?void 0:a.zero))}return!1}(n,i,r,o,a,s.scale,l)}};function zp(e){Ap(e)?function(e){const t=e.component.scales;for(const n of Ut){const i=t[n];if(!i)continue;const r=yp(n,e);i.setWithExplicit("range",r)}}(e):Op(e,"range")}function Op(e,t){const n=e.component.scales;for(const n of e.children)"range"===t?zp(n):Dp(n,t);for(const i of _(n)){let r;for(const n of e.children){const e=n.component.scales[i];if(e){r=kc(r,e.getWithExplicit(t),t,"scale",wc(((e,n)=>"range"===t&&e.step&&n.step?e.step-n.step:0)))}}n[i].setWithExplicit(t,r)}}function _p(e,t,n,i){let r=arguments.length>4&&void 0!==arguments[4]&&arguments[4];const o=Cp(t,n,i,r),{type:a}=e;return Bt(t)?void 0!==a?Jr(t,a)?oa(n)&&!Xr(a,n.type)?(Ci(vi(a,o)),o):a:(Ci(yi(t,a,o)),o):o:null}function Cp(e,t,n,i){switch(t.type){case"nominal":case"ordinal":var r;if(Le(e)||"discrete"===Yt(e))return"shape"===e&&"ordinal"===t.type&&Ci(di(e,"ordinal")),"ordinal";if(Dt(e)||Ct(e)){if(v(["rect","bar","image","rule"],n.type))return"band";if(i)return"band"}else if("arc"===n.type&&e in Ft)return"band";return xo(n[it(e)])||ma(t)&&null!==(r=t.axis)&&void 0!==r&&r.tickBand?"band":"point";case"temporal":return Le(e)?"time":"discrete"===Yt(e)?(Ci(di(e,"temporal")),"ordinal"):oa(t)&&t.timeUnit&&Yi(t.timeUnit).utc?"utc":"time";case"quantitative":return Le(e)?oa(t)&&an(t.bin)?"bin-ordinal":"linear":"discrete"===Yt(e)?(Ci(di(e,"quantitative")),"ordinal"):"linear";case"geojson":return}throw new Error(ii(t.type))}function Np(e){Ap(e)?e.component.scales=function(e){const{encoding:t,mark:n,markDef:i}=e,r={};for(const o of Ut){const a=Pa(t[o]);if(a&&n===fo&&o===ye&&a.type===hr)continue;let s=a&&a.scale;if(Ct(o)){if(!ts(t,ot(o))){s&&Ci(ci(o));continue}}if(a&&null!==s&&!1!==s){s??={};const n=_p(s,o,a,i,ts(t,o));r[o]=new mp(e.scaleName(`${o}`,!0),{value:n,explicit:s.type===n})}}return r}(e):e.component.scales=function(e){const t=e.component.scales={},n={},i=e.component.resolve;for(const t of e.children){Np(t);for(const r of _(t.component.scales))if(i.scale[r]??=Uf(r,e),"shared"===i.scale[r]){const e=n[r],o=t.component.scales[r].getWithExplicit("type");e?Dr(e.value,o.value)?n[r]=kc(e,o,"type","scale",Pp):(i.scale[r]="independent",delete n[r]):n[r]=o}}for(const i of _(n)){const r=e.scaleName(i,!0),o=n[i];t[i]=new mp(r,o);for(const t of e.children){const e=t.component.scales[i];e&&(t.renameScale(e.get("name"),r),e.merged=!0)}}return t}(e)}const Pp=wc(((e,t)=>zr(e)-zr(t)));class jp{constructor(){Mn(this,"nameMap",void 0),this.nameMap={}}rename(e,t){this.nameMap[e]=t}has(e){return void 0!==this.nameMap[e]}get(e){for(;this.nameMap[e]&&e!==this.nameMap[e];)e=this.nameMap[e];return e}}function Ap(e){return"unit"===(null==e?void 0:e.type)}function Ep(e){return"facet"===(null==e?void 0:e.type)}function Tp(e){return"concat"===(null==e?void 0:e.type)}function Mp(e){return"layer"===(null==e?void 0:e.type)}class Lp{constructor(e,n,i,r,o,a,s){this.type=n,this.parent=i,this.config=o,Mn(this,"name",void 0),Mn(this,"size",void 0),Mn(this,"title",void 0),Mn(this,"description",void 0),Mn(this,"data",void 0),Mn(this,"transforms",void 0),Mn(this,"layout",void 0),Mn(this,"scaleNameMap",void 0),Mn(this,"projectionNameMap",void 0),Mn(this,"signalNameMap",void 0),Mn(this,"component",void 0),Mn(this,"view",void 0),Mn(this,"children",void 0),Mn(this,"correctDataNames",(e=>{var t,n,i;return null!==(t=e.from)&&void 0!==t&&t.data&&(e.from.data=this.lookupDataSource(e.from.data)),null!==(n=e.from)&&void 0!==n&&null!==(i=n.facet)&&void 0!==i&&i.data&&(e.from.facet.data=this.lookupDataSource(e.from.facet.data)),e})),this.parent=i,this.config=o,this.view=dn(s),this.name=e.name??r,this.title=mn(e.title)?{text:e.title}:e.title?dn(e.title):void 0,this.scaleNameMap=i?i.scaleNameMap:new jp,this.projectionNameMap=i?i.projectionNameMap:new jp,this.signalNameMap=i?i.signalNameMap:new jp,this.data=e.data,this.description=e.description,this.transforms=(e.transform??[]).map((e=>Rl(e)?{filter:c(e.filter,cr)}:e)),this.layout="layer"===n||"unit"===n?{}:function(e,n,i){const r=i[n],o={},{spacing:a,columns:s}=r;void 0!==a&&(o.spacing=a),void 0!==s&&(Jo(e)&&!Yo(e.facet)||Hs(e))&&(o.columns=s),Vs(e)&&(o.columns=1);for(const n of Qs)if(void 0!==e[n])if("spacing"===n){const i=e[n];o[n]=t.isNumber(i)?i:{row:i.row??a,column:i.column??a}}else o[n]=e[n];return o}(e,n,o),this.component={data:{sources:i?i.component.data.sources:[],outputNodes:i?i.component.data.outputNodes:{},outputNodeRefCounts:i?i.component.data.outputNodeRefCounts:{},isFaceted:Jo(e)||(null==i?void 0:i.component.data.isFaceted)&&void 0===e.data},layoutSize:new vc,layoutHeaders:{row:{},column:{},facet:{}},mark:null,resolve:{scale:{},axis:{},legend:{},...a?f(a):{}},selection:null,scales:null,projection:null,axes:{},legends:{}}}get width(){return this.getSizeSignalRef("width")}get height(){return this.getSizeSignalRef("height")}parse(){this.parseScale(),this.parseLayoutSize(),this.renameTopLevelLayoutSizeSignal(),this.parseSelections(),this.parseProjection(),this.parseData(),this.parseAxesAndHeaders(),this.parseLegends(),this.parseMarkGroup()}parseScale(){!function(e){let{ignoreRange:t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Np(e),tp(e);for(const t of Vr)Dp(e,t);t||zp(e)}(this)}parseProjection(){fd(this)}renameTopLevelLayoutSizeSignal(){"width"!==this.getName("width")&&this.renameSignal(this.getName("width"),"width"),"height"!==this.getName("height")&&this.renameSignal(this.getName("height"),"height")}parseLegends(){td(this)}assembleEncodeFromView(e){const{style:t,...n}=e,i={};for(const e of _(n)){const t=n[e];void 0!==t&&(i[e]=Sn(t))}return i}assembleGroupEncodeEntry(e){let t={};return this.view&&(t=this.assembleEncodeFromView(this.view)),e||(this.description&&(t.description=Sn(this.description)),"unit"!==this.type&&"layer"!==this.type)?O(t)?void 0:t:{width:this.getSizeSignalRef("width"),height:this.getSizeSignalRef("height"),...t??{}}}assembleLayout(){if(!this.layout)return;const{spacing:e,...t}=this.layout,{component:n,config:i}=this,r=function(e,t){const n={};for(const i of We){const r=e[i];if(null!=r&&r.facetFieldDef){const{titleAnchor:e,titleOrient:o}=kf(["titleAnchor","titleOrient"],r.facetFieldDef.header,t,i),a=wf(i,o),s=Af(e,a);void 0!==s&&(n[a]=s)}}return O(n)?void 0:n}(n.layoutHeaders,i);return{padding:e,...this.assembleDefaultLayout(),...t,...r?{titleBand:r}:{}}}assembleDefaultLayout(){return{}}assembleHeaderMarks(){const{layoutHeaders:e}=this.component;let t=[];for(const n of We)e[n].title&&t.push(Ff(this,n));for(const e of Sf)t=t.concat(_f(this,e));return t}assembleAxes(){return function(e,t){const{x:n=[],y:i=[]}=e;return[...n.map((e=>cf(e,"grid",t))),...i.map((e=>cf(e,"grid",t))),...n.map((e=>cf(e,"main",t))),...i.map((e=>cf(e,"main",t)))].filter((e=>e))}(this.component.axes,this.config)}assembleLegends(){return ad(this)}assembleProjections(){return sd(this)}assembleTitle(){const{encoding:e,...t}=this.title??{},n={...pn(this.config.title).nonMarkTitleProperties,...t,...e?{encode:{update:e}}:{}};if(n.text)return v(["unit","layer"],this.type)?v(["middle",void 0],n.anchor)&&(n.frame??="group"):n.anchor??="start",O(n)?void 0:n}assembleGroup(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];const t={};e=e.concat(this.assembleSignals()),e.length>0&&(t.signals=e);const n=this.assembleLayout();n&&(t.layout=n),t.marks=[].concat(this.assembleHeaderMarks(),this.assembleMarks());const i=!this.parent||Ep(this.parent)?dp(this):[];i.length>0&&(t.scales=i);const r=this.assembleAxes();r.length>0&&(t.axes=r);const o=this.assembleLegends();return o.length>0&&(t.legends=o),t}getName(e){return j((this.name?`${this.name}_`:"")+e)}getDataName(e){return this.getName(Pc[e].toLowerCase())}requestDataName(e){const t=this.getDataName(e),n=this.component.data.outputNodeRefCounts;return n[t]=(n[t]||0)+1,t}getSizeSignalRef(e){if(Ep(this.parent)){const t=Ot(Wf(e)),n=this.component.scales[t];if(n&&!n.merged){const e=n.get("type"),i=n.get("range");if(Ar(e)&&hn(i)){const e=n.get("name"),i=up(fp(this,t));if(i){return{signal:qf(e,n,ba({aggregate:"distinct",field:i},{expr:"datum"}))}}return Ci(Vn(t)),null}}}return{signal:this.signalNameMap.get(this.getName(e))}}lookupDataSource(e){const t=this.component.data.outputNodes[e];return t?t.getSource():e}getSignalName(e){return this.signalNameMap.get(e)}renameSignal(e,t){this.signalNameMap.rename(e,t)}renameScale(e,t){this.scaleNameMap.rename(e,t)}renameProjection(e,t){this.projectionNameMap.rename(e,t)}scaleName(e,t){return t?this.getName(e):Qe(e)&&Bt(e)&&this.component.scales[e]||this.scaleNameMap.has(this.getName(e))?this.scaleNameMap.get(this.getName(e)):void 0}projectionName(e){return e?this.getName("projection"):this.component.projection&&!this.component.projection.merged||this.projectionNameMap.has(this.getName("projection"))?this.projectionNameMap.get(this.getName("projection")):void 0}getScaleComponent(e){if(!this.component.scales)throw new Error("getScaleComponent cannot be called before parseScale(). Make sure you have called parseScale or use parseUnitModelWithScale().");const t=this.component.scales[e];return t&&!t.merged?t:this.parent?this.parent.getScaleComponent(e):void 0}getSelectionComponent(e,t){let n=this.component.selection[e];if(!n&&this.parent&&(n=this.parent.getSelectionComponent(e,t)),!n)throw new Error(function(e){return`Cannot find a selection named "${e}".`}(t));return n}hasAxisOrientSignalRef(){var e,t;return(null===(e=this.component.axes.x)||void 0===e?void 0:e.some((e=>e.hasOrientSignalRef())))||(null===(t=this.component.axes.y)||void 0===t?void 0:t.some((e=>e.hasOrientSignalRef())))}}class qp extends Lp{vgField(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=this.fieldDef(e);if(n)return ba(n,t)}reduceFieldDef(e,n){return function(e,n,i,r){return e?_(e).reduce(((i,o)=>{const a=e[o];return t.isArray(a)?a.reduce(((e,t)=>n.call(r,e,t,o)),i):n.call(r,i,a,o)}),i):i}(this.getMapping(),((t,n,i)=>{const r=Na(n);return r?e(t,r,i):t}),n)}forEachFieldDef(e,t){ss(this.getMapping(),((t,n)=>{const i=Na(t);i&&e(i,n)}),t)}}class Wp extends Lc{clone(){return new Wp(null,f(this.transform))}constructor(e,t){super(e),this.transform=t,this.transform=f(t);const n=this.transform.as??[void 0,void 0];this.transform.as=[n[0]??"value",n[1]??"density"],t.groupby&&null==t.minsteps&&null==t.maxsteps&&null==t.steps&&(this.transform.steps=200)}dependentFields(){return new Set([this.transform.density,...this.transform.groupby??[]])}producedFields(){return new Set(this.transform.as)}hash(){return`DensityTransform ${h(this.transform)}`}assemble(){const{density:e,...t}=this.transform;return{type:"kde",field:e,...t}}}class Rp extends Lc{clone(){return new Rp(null,{...this.filter})}constructor(e,t){super(e),this.filter=t}static make(e,t){const{config:n,mark:i,markDef:r}=t;if("filter"!==_n("invalid",r,n))return null;const o=t.reduceFieldDef(((e,n,r)=>{const o=Bt(r)&&t.getScaleComponent(r);if(o){Er(o.get("type"))&&"count"!==n.aggregate&&!po(i)&&(e[n.field]=n)}return e}),{});return _(o).length?new Rp(e,o):null}dependentFields(){return new Set(_(this.filter))}producedFields(){return new Set}hash(){return`FilterInvalid ${h(this.filter)}`}assemble(){const e=_(this.filter).reduce(((e,t)=>{const n=this.filter[t],i=ba(n,{expr:"datum"});return null!==n&&("temporal"===n.type?e.push(`(isDate(${i}) || (isValid(${i}) && isFinite(+${i})))`):"quantitative"===n.type&&(e.push(`isValid(${i})`),e.push(`isFinite(+${i})`))),e}),[]);return e.length>0?{type:"filter",expr:e.join(" && ")}:null}}class Up extends Lc{clone(){return new Up(this.parent,f(this.transform))}constructor(e,t){super(e),this.transform=t,this.transform=f(t);const{flatten:n,as:i=[]}=this.transform;this.transform.as=n.map(((e,t)=>i[t]??e))}dependentFields(){return new Set(this.transform.flatten)}producedFields(){return new Set(this.transform.as)}hash(){return`FlattenTransform ${h(this.transform)}`}assemble(){const{flatten:e,as:t}=this.transform;return{type:"flatten",fields:e,as:t}}}class Bp extends Lc{clone(){return new Bp(null,f(this.transform))}constructor(e,t){super(e),this.transform=t,this.transform=f(t);const n=this.transform.as??[void 0,void 0];this.transform.as=[n[0]??"key",n[1]??"value"]}dependentFields(){return new Set(this.transform.fold)}producedFields(){return new Set(this.transform.as)}hash(){return`FoldTransform ${h(this.transform)}`}assemble(){const{fold:e,as:t}=this.transform;return{type:"fold",fields:e,as:t}}}class Ip extends Lc{clone(){return new Ip(null,f(this.fields),this.geojson,this.signal)}static parseAll(e,t){if(t.component.projection&&!t.component.projection.isFit)return e;let n=0;for(const i of[[fe,ue],[pe,de]]){const r=i.map((e=>{const n=Pa(t.encoding[e]);return oa(n)?n.field:sa(n)?{expr:`${n.datum}`}:da(n)?{expr:`${n.value}`}:void 0}));(r[0]||r[1])&&(e=new Ip(e,r,null,t.getName("geojson_"+n++)))}if(t.channelHasField(ye)){const i=t.typedFieldDef(ye);i.type===hr&&(e=new Ip(e,null,i.field,t.getName("geojson_"+n++)))}return e}constructor(e,t,n,i){super(e),this.fields=t,this.geojson=n,this.signal=i}dependentFields(){const e=(this.fields??[]).filter(t.isString);return new Set([...this.geojson?[this.geojson]:[],...e])}producedFields(){return new Set}hash(){return`GeoJSON ${this.geojson} ${this.signal} ${h(this.fields)}`}assemble(){return[...this.geojson?[{type:"filter",expr:`isValid(datum["${this.geojson}"])`}]:[],{type:"geojson",...this.fields?{fields:this.fields}:{},...this.geojson?{geojson:this.geojson}:{},signal:this.signal}]}}class Hp extends Lc{clone(){return new Hp(null,this.projection,f(this.fields),f(this.as))}constructor(e,t,n,i){super(e),this.projection=t,this.fields=n,this.as=i}static parseAll(e,t){if(!t.projectionName())return e;for(const n of[[fe,ue],[pe,de]]){const i=n.map((e=>{const n=Pa(t.encoding[e]);return oa(n)?n.field:sa(n)?{expr:`${n.datum}`}:da(n)?{expr:`${n.value}`}:void 0})),r=n[0]===pe?"2":"";(i[0]||i[1])&&(e=new Hp(e,t.projectionName(),i,[t.getName(`x${r}`),t.getName(`y${r}`)]))}return e}dependentFields(){return new Set(this.fields.filter(t.isString))}producedFields(){return new Set(this.as)}hash(){return`Geopoint ${this.projection} ${h(this.fields)} ${h(this.as)}`}assemble(){return{type:"geopoint",projection:this.projection,fields:this.fields,as:this.as}}}class Vp extends Lc{clone(){return new Vp(null,f(this.transform))}constructor(e,t){super(e),this.transform=t}dependentFields(){return new Set([this.transform.impute,this.transform.key,...this.transform.groupby??[]])}producedFields(){return new Set([this.transform.impute])}processSequence(e){const{start:t=0,stop:n,step:i}=e;return{signal:`sequence(${[t,n,...i?[i]:[]].join(",")})`}}static makeFromTransform(e,t){return new Vp(e,t)}static makeFromEncoding(e,t){const n=t.encoding,i=n.x,r=n.y;if(oa(i)&&oa(r)){const o=i.impute?i:r.impute?r:void 0;if(void 0===o)return;const a=i.impute?r:r.impute?i:void 0,{method:s,value:l,frame:c,keyvals:u}=o.impute,f=ls(t.mark,n);return new Vp(e,{impute:o.field,key:a.field,...s?{method:s}:{},...void 0!==l?{value:l}:{},...c?{frame:c}:{},...void 0!==u?{keyvals:u}:{},...f.length?{groupby:f}:{}})}return null}hash(){return`Impute ${h(this.transform)}`}assemble(){const{impute:e,key:t,keyvals:n,method:i,groupby:r,value:o,frame:a=[null,null]}=this.transform,s={type:"impute",field:e,key:t,...n?{keyvals:(l=n,void 0!==(null==l?void 0:l.stop)?this.processSequence(n):n)}:{},method:"value",...r?{groupby:r}:{},value:i&&"value"!==i?null:o};var l;if(i&&"value"!==i){return[s,{type:"window",as:[`imputed_${e}_value`],ops:[i],fields:[e],frame:a,ignorePeers:!1,...r?{groupby:r}:{}},{type:"formula",expr:`datum.${e} === null ? datum.imputed_${e}_value : datum.${e}`,as:e}]}return[s]}}class Gp extends Lc{clone(){return new Gp(null,f(this.transform))}constructor(e,t){super(e),this.transform=t,this.transform=f(t);const n=this.transform.as??[void 0,void 0];this.transform.as=[n[0]??t.on,n[1]??t.loess]}dependentFields(){return new Set([this.transform.loess,this.transform.on,...this.transform.groupby??[]])}producedFields(){return new Set(this.transform.as)}hash(){return`LoessTransform ${h(this.transform)}`}assemble(){const{loess:e,on:t,...n}=this.transform;return{type:"loess",x:t,y:e,...n}}}class Yp extends Lc{clone(){return new Yp(null,f(this.transform),this.secondary)}constructor(e,t,n){super(e),this.transform=t,this.secondary=n}static make(e,t,n,i){const r=t.component.data.sources,{from:o}=n;let a=null;if(function(e){return"data"in e}(o)){let e=um(o.data,r);e||(e=new zd(o.data),r.push(e));const n=t.getName(`lookup_${i}`);a=new qc(e,n,Pc.Lookup,t.component.data.outputNodeRefCounts),t.component.data.outputNodes[n]=a}else if(function(e){return"param"in e}(o)){const e=o.param;let i;n={as:e,...n};try{i=t.getSelectionComponent(j(e),e)}catch(t){throw new Error(function(e){return`Lookups can only be performed on selection parameters. "${e}" is a variable parameter.`}(e))}if(a=i.materialized,!a)throw new Error(function(e){return`Cannot define and lookup the "${e}" selection in the same view. Try moving the lookup into a second, layered view?`}(e))}return new Yp(e,n,a.getSource())}dependentFields(){return new Set([this.transform.lookup])}producedFields(){return new Set(this.transform.as?t.array(this.transform.as):this.transform.from.fields)}hash(){return`Lookup ${h({transform:this.transform,secondary:this.secondary})}`}assemble(){let e;if(this.transform.from.fields)e={values:this.transform.from.fields,...this.transform.as?{as:t.array(this.transform.as)}:{}};else{let n=this.transform.as;t.isString(n)||(Ci('If "from.fields" is not specified, "as" has to be a string that specifies the key to be used for the data from the secondary source.'),n="_lookup"),e={as:[n]}}return{type:"lookup",from:this.secondary,key:this.transform.from.key,fields:[this.transform.lookup],...e,...this.transform.default?{default:this.transform.default}:{}}}}class Xp extends Lc{clone(){return new Xp(null,f(this.transform))}constructor(e,t){super(e),this.transform=t,this.transform=f(t);const n=this.transform.as??[void 0,void 0];this.transform.as=[n[0]??"prob",n[1]??"value"]}dependentFields(){return new Set([this.transform.quantile,...this.transform.groupby??[]])}producedFields(){return new Set(this.transform.as)}hash(){return`QuantileTransform ${h(this.transform)}`}assemble(){const{quantile:e,...t}=this.transform;return{type:"quantile",field:e,...t}}}class Jp extends Lc{clone(){return new Jp(null,f(this.transform))}constructor(e,t){super(e),this.transform=t,this.transform=f(t);const n=this.transform.as??[void 0,void 0];this.transform.as=[n[0]??t.on,n[1]??t.regression]}dependentFields(){return new Set([this.transform.regression,this.transform.on,...this.transform.groupby??[]])}producedFields(){return new Set(this.transform.as)}hash(){return`RegressionTransform ${h(this.transform)}`}assemble(){const{regression:e,on:t,...n}=this.transform;return{type:"regression",x:t,y:e,...n}}}class Qp extends Lc{clone(){return new Qp(null,f(this.transform))}constructor(e,t){super(e),this.transform=t}addDimensions(e){this.transform.groupby=k((this.transform.groupby??[]).concat(e),(e=>e))}producedFields(){}dependentFields(){return new Set([this.transform.pivot,this.transform.value,...this.transform.groupby??[]])}hash(){return`PivotTransform ${h(this.transform)}`}assemble(){const{pivot:e,value:t,groupby:n,limit:i,op:r}=this.transform;return{type:"pivot",field:e,value:t,...void 0!==i?{limit:i}:{},...void 0!==r?{op:r}:{},...void 0!==n?{groupby:n}:{}}}}class Kp extends Lc{clone(){return new Kp(null,f(this.transform))}constructor(e,t){super(e),this.transform=t}dependentFields(){return new Set}producedFields(){return new Set}hash(){return`SampleTransform ${h(this.transform)}`}assemble(){return{type:"sample",size:this.transform.sample}}}function Zp(e){let t=0;return function n(i,r){if(i instanceof zd&&!i.isGenerator&&!Dc(i.data)){e.push(r);r={name:null,source:r.name,transform:[]}}if(i instanceof kd&&(i.parent instanceof zd&&!r.source?(r.format={...r.format??{},parse:i.assembleFormatParse()},r.transform.push(...i.assembleTransforms(!0))):r.transform.push(...i.assembleTransforms())),i instanceof bd)return r.name||(r.name="data_"+t++),!r.source||r.transform.length>0?(e.push(r),i.data=r.name):i.data=r.source,void e.push(...i.assemble());if((i instanceof Dd||i instanceof Fd||i instanceof Rp||i instanceof nf||i instanceof bf||i instanceof Hp||i instanceof vd||i instanceof Yp||i instanceof Vd||i instanceof Id||i instanceof Bp||i instanceof Up||i instanceof Wp||i instanceof Gp||i instanceof Xp||i instanceof Jp||i instanceof Sd||i instanceof Kp||i instanceof Qp)&&r.transform.push(i.assemble()),(i instanceof hd||i instanceof Wc||i instanceof Vp||i instanceof Hd||i instanceof Ip)&&r.transform.push(...i.assemble()),i instanceof qc)if(r.source&&0===r.transform.length)i.setSource(r.source);else if(i.parent instanceof qc)i.setSource(r.name);else if(r.name||(r.name="data_"+t++),i.setSource(r.name),1===i.numChildren()){e.push(r);r={name:null,source:r.name,transform:[]}}switch(i.numChildren()){case 0:i instanceof qc&&(!r.source||r.transform.length>0)&&e.push(r);break;case 1:n(i.children[0],r);break;default:{r.name||(r.name="data_"+t++);let o=r.name;!r.source||r.transform.length>0?e.push(r):o=r.source;for(const e of i.children){n(e,{name:null,source:o,transform:[]})}break}}}}function em(e,t){const n=[],i=Zp(n);let r=0;for(const t of e.sources){t.hasName()||(t.dataName="source_"+r++);const e=t.assemble();i(t,e)}for(const e of n)0===e.transform.length&&delete e.transform;let o=0;for(const[e,t]of n.entries())0!==(t.transform??[]).length||t.source||n.splice(o++,0,n.splice(e,1)[0]);for(const t of n)for(const n of t.transform??[])"lookup"===n.type&&(n.from=e.outputNodes[n.from].getSource());for(const e of n)e.name in t&&(e.values=t[e.name]);return n}function tm(e){return"top"===e||"left"===e||gn(e)?"header":"footer"}function nm(e,n){const{facet:i,config:r,child:o,component:a}=e;if(e.channelHasField(n)){var s;const l=i[n],c=$f("title",null,r,n);let u=Fa(l,r,{allowDisabling:!0,includeDefault:void 0===c||!!c});o.component.layoutHeaders[n].title&&(u=t.isArray(u)?u.join(", "):u,u+=` / ${o.component.layoutHeaders[n].title}`,o.component.layoutHeaders[n].title=null);const f=$f("labelOrient",l.header,r,n),d=null!==l.header&&I(null===(s=l.header)||void 0===s?void 0:s.labels,r.header.labels,!0),p=v(["bottom","right"],f)?"footer":"header";a.layoutHeaders[n]={title:null!==l.header?u:null,facetFieldDef:l,[p]:"facet"===n?[]:[im(e,n,d)]}}}function im(e,t,n){const i="row"===t?"height":"width";return{labels:n,sizeSignal:e.child.component.layoutSize.get(i)?e.child.getSizeSignalRef(i):void 0,axes:[]}}function rm(e,t){const{child:n}=e;if(n.component.axes[t]){const{layoutHeaders:i,resolve:r}=e.component;if(r.axis[t]=Bf(r,t),"shared"===r.axis[t]){const r="x"===t?"column":"row",o=i[r];for(const i of n.component.axes[t]){const t=tm(i.get("orient"));o[t]??=[im(e,r,!1)];const n=cf(i,"main",e.config,{header:!0});n&&o[t][0].axes.push(n),i.mainExtracted=!0}}}}function om(e){for(const t of e.children)t.parseLayoutSize()}function am(e,t){const n=Wf(t),i=Ot(n),r=e.component.resolve,o=e.component.layoutSize;let a;for(const t of e.children){const o=t.component.layoutSize.getWithExplicit(n),s=r.scale[i]??Uf(i,e);if("independent"===s&&"step"===o.value){a=void 0;break}if(a){if("independent"===s&&a.value!==o.value){a=void 0;break}a=kc(a,o,n,"")}else a=o}if(a){for(const i of e.children)e.renameSignal(i.getName(n),e.getName(t)),i.component.layoutSize.set(n,"merged",!1);o.setWithExplicit(t,a)}else o.setWithExplicit(t,{explicit:!1,value:void 0})}function sm(e,t){const n="width"===t?"x":"y",i=e.config,r=e.getScaleComponent(n);if(r){const e=r.get("type"),n=r.get("range");if(Ar(e)){const e=el(i.view,t);return hn(n)||Xs(e)?"step":e}return Ks(i.view,t)}if(e.hasProjection||"arc"===e.mark)return Ks(i.view,t);{const e=el(i.view,t);return Xs(e)?e.step:e}}function lm(e,t,n){return ba(t,{suffix:`by_${ba(e)}`,...n??{}})}class cm extends qp{constructor(e,t,n,i){super(e,"facet",t,n,i,e.resolve),Mn(this,"facet",void 0),Mn(this,"child",void 0),Mn(this,"children",void 0),this.child=Rm(e.spec,this,this.getName("child"),void 0,i),this.children=[this.child],this.facet=this.initFacet(e.facet)}initFacet(e){if(!Yo(e))return{facet:this.initFacetFieldDef(e,"facet")};const t=_(e),n={};for(const i of t){if(![Q,K].includes(i)){Ci(li(i,"facet"));break}const t=e[i];if(void 0===t.field){Ci(si(t,i));break}n[i]=this.initFacetFieldDef(t,i)}return n}initFacetFieldDef(e,t){const n=Ea(e,t);return n.header?n.header=dn(n.header):null===n.header&&(n.header=null),n}channelHasField(e){return!!this.facet[e]}fieldDef(e){return this.facet[e]}parseData(){this.component.data=fm(this),this.child.parseData()}parseLayoutSize(){om(this)}parseSelections(){this.child.parseSelections(),this.component.selection=this.child.component.selection}parseMarkGroup(){this.child.parseMarkGroup()}parseAxesAndHeaders(){this.child.parseAxesAndHeaders(),function(e){for(const t of We)nm(e,t);rm(e,"x"),rm(e,"y")}(this)}assembleSelectionTopLevelSignals(e){return this.child.assembleSelectionTopLevelSignals(e)}assembleSignals(){return this.child.assembleSignals(),[]}assembleSelectionData(e){return this.child.assembleSelectionData(e)}getHeaderLayoutMixins(){const e={};for(const t of We)for(const n of Df){const i=this.component.layoutHeaders[t],r=i[n],{facetFieldDef:o}=i;if(o){const n=$f("titleOrient",o.header,this.config,t);if(["right","bottom"].includes(n)){const i=wf(t,n);e.titleAnchor??={},e.titleAnchor[i]="end"}}if(null!=r&&r[0]){const r="row"===t?"height":"width",o="header"===n?"headerBand":"footerBand";"facet"===t||this.child.component.layoutSize.get(r)||(e[o]??={},e[o][t]=.5),i.title&&(e.offset??={},e.offset["row"===t?"rowTitle":"columnTitle"]=10)}}return e}assembleDefaultLayout(){const{column:e,row:t}=this.facet,n=e?this.columnDistinctSignal():t?1:void 0;let i="all";return(t||"independent"!==this.component.resolve.scale.x)&&(e||"independent"!==this.component.resolve.scale.y)||(i="none"),{...this.getHeaderLayoutMixins(),...n?{columns:n}:{},bounds:"full",align:i}}assembleLayoutSignals(){return this.child.assembleLayoutSignals()}columnDistinctSignal(){if(!(this.parent&&this.parent instanceof cm)){return{signal:`length(data('${this.getName("column_domain")}'))`}}}assembleGroupStyle(){}assembleGroup(e){return this.parent&&this.parent instanceof cm?{...this.channelHasField("column")?{encode:{update:{columns:{field:ba(this.facet.column,{prefix:"distinct"})}}}}:{},...super.assembleGroup(e)}:super.assembleGroup(e)}getCardinalityAggregateForChild(){const e=[],t=[],n=[];if(this.child instanceof cm){if(this.child.channelHasField("column")){const i=ba(this.child.facet.column);e.push(i),t.push("distinct"),n.push(`distinct_${i}`)}}else for(const i of St){const r=this.child.component.scales[i];if(r&&!r.merged){const o=r.get("type"),a=r.get("range");if(Ar(o)&&hn(a)){const r=up(fp(this.child,i));r?(e.push(r),t.push("distinct"),n.push(`distinct_${r}`)):Ci(Vn(i))}}}return{fields:e,ops:t,as:n}}assembleFacet(){const{name:e,data:n}=this.component.data.facetRoot,{row:i,column:r}=this.facet,{fields:o,ops:a,as:s}=this.getCardinalityAggregateForChild(),l=[];for(const e of We){const n=this.facet[e];if(n){l.push(ba(n));const{bin:c,sort:u}=n;if(an(c)&&l.push(ba(n,{binSuffix:"end"})),Vo(u)){const{field:e,op:t=Uo}=u,l=lm(n,u);i&&r?(o.push(l),a.push("max"),s.push(l)):(o.push(e),a.push(t),s.push(l))}else if(t.isArray(u)){const t=xf(n,e);o.push(t),a.push("max"),s.push(t)}}}const c=!!i&&!!r;return{name:e,data:n,groupby:l,...c||o.length>0?{aggregate:{...c?{cross:c}:{},...o.length?{fields:o,ops:a,as:s}:{}}}:{}}}facetSortFields(e){const{facet:n}=this,i=n[e];return i?Vo(i.sort)?[lm(i,i.sort,{expr:"datum"})]:t.isArray(i.sort)?[xf(i,e,{expr:"datum"})]:[ba(i,{expr:"datum"})]:[]}facetSortOrder(e){const{facet:n}=this,i=n[e];if(i){const{sort:e}=i;return[(Vo(e)?e.order:!t.isArray(e)&&e)||"ascending"]}return[]}assembleLabelTitle(){const{facet:e,config:t}=this;if(e.facet)return Nf(e.facet,"facet",t);const n={row:["top","bottom"],column:["left","right"]};for(const r of Sf)if(e[r]){var i;const o=$f("labelOrient",null===(i=e[r])||void 0===i?void 0:i.header,t,r);if(n[r].includes(o))return Nf(e[r],r,t)}}assembleMarks(){const{child:e}=this,t=function(e){const t=[],n=Zp(t);for(const t of e.children)n(t,{source:e.name,name:null,transform:[]});return t}(this.component.data.facetRoot),n=e.assembleGroupEncodeEntry(!1),i=this.assembleLabelTitle()||e.assembleTitle(),r=e.assembleGroupStyle();return[{name:this.getName("cell"),type:"group",...i?{title:i}:{},...r?{style:r}:{},from:{facet:this.assembleFacet()},sort:{field:We.map((e=>this.facetSortFields(e))).flat(),order:We.map((e=>this.facetSortOrder(e))).flat()},...t.length>0?{data:t}:{},...n?{encode:{update:n}}:{},...e.assembleGroup(Ec(this,[]))}]}getMapping(){return this.facet}}function um(e,t){for(const a of t){var n,i,r,o;const t=a.data;if(e.name&&a.hasName()&&e.name!==a.dataName)continue;const s=null===(n=e.format)||void 0===n?void 0:n.mesh,l=null===(i=t.format)||void 0===i?void 0:i.feature;if(s&&l)continue;const c=null===(r=e.format)||void 0===r?void 0:r.feature;if((c||l)&&c!==l)continue;const f=null===(o=t.format)||void 0===o?void 0:o.mesh;if(!s&&!f||s===f)if(Fc(e)&&Fc(t)){if(u(e.values,t.values))return a}else if(Dc(e)&&Dc(t)){if(e.url===t.url)return a}else if(zc(e)&&e.name===a.dataName)return a}return null}function fm(e){var t;let n=function(e,t){if(e.data||!e.parent){if(null===e.data){const e=new zd({values:[]});return t.push(e),e}const n=um(e.data,t);if(n)return Oc(e.data)||(n.data.format=w({},e.data.format,n.data.format)),!n.hasName()&&e.data.name&&(n.dataName=e.data.name),n;{const n=new zd(e.data);return t.push(n),n}}return e.parent.component.data.facetRoot?e.parent.component.data.facetRoot:e.parent.component.data.main}(e,e.component.data.sources);const{outputNodes:i,outputNodeRefCounts:r}=e.component.data,o=e.data,a=!(o&&(Oc(o)||Dc(o)||Fc(o)))&&e.parent?e.parent.component.data.ancestorParse.clone():new Sc;Oc(o)?(_c(o)?n=new Fd(n,o.sequence):Nc(o)&&(n=new Dd(n,o.graticule)),a.parseNothing=!0):null===(null==o||null===(t=o.format)||void 0===t?void 0:t.parse)&&(a.parseNothing=!0),n=kd.makeExplicit(n,e,a)??n,n=new Sd(n);const s=e.parent&&Mp(e.parent);(Ap(e)||Ep(e))&&s&&(n=hd.makeFromEncoding(n,e)??n),e.transforms.length>0&&(n=function(e,t,n){let i=0;for(const r of t.transforms){let o,a;if(Kl(r))a=e=new bf(e,r),o="derived";else if(Rl(r)){const i=wd(r);a=e=kd.makeWithAncestors(e,{},i,n)??e,e=new nf(e,t,r.filter)}else if(Zl(r))a=e=hd.makeFromTransform(e,r,t),o="number";else if(tc(r))o="date",void 0===n.getWithExplicit(r.field).value&&(e=new kd(e,{[r.field]:o}),n.set(r.field,o,!1)),a=e=Wc.makeFromTransform(e,r);else if(nc(r))a=e=vd.makeFromTransform(e,r),o="number",Qu(t)&&(e=new Sd(e));else if(Ul(r))a=e=Yp.make(e,t,r,i++),o="derived";else if(Xl(r))a=e=new Vd(e,r),o="number";else if(Jl(r))a=e=new Id(e,r),o="number";else if(ic(r))a=e=Hd.makeFromTransform(e,r),o="derived";else if(rc(r))a=e=new Bp(e,r),o="derived";else if(Ql(r))a=e=new Up(e,r),o="derived";else if(Bl(r))a=e=new Qp(e,r),o="derived";else if(Yl(r))e=new Kp(e,r);else if(ec(r))a=e=Vp.makeFromTransform(e,r),o="derived";else if(Il(r))a=e=new Wp(e,r),o="derived";else if(Hl(r))a=e=new Xp(e,r),o="derived";else if(Vl(r))a=e=new Jp(e,r),o="derived";else{if(!Gl(r)){Ci(`Ignoring an invalid transform: ${g(r)}.`);continue}a=e=new Gp(e,r),o="derived"}if(a&&void 0!==o)for(const e of a.producedFields()??[])n.set(e,o,!1)}return e}(n,e,a));const l=function(e){const t={};if(Ap(e)&&e.component.selection)for(const n of _(e.component.selection)){const i=e.component.selection[n];for(const e of i.project.items)!e.channel&&B(e.field)>1&&(t[e.field]="flatten")}return t}(e),c=$d(e);n=kd.makeWithAncestors(n,{},{...l,...c},a)??n,Ap(e)&&(n=Ip.parseAll(n,e),n=Hp.parseAll(n,e)),(Ap(e)||Ep(e))&&(s||(n=hd.makeFromEncoding(n,e)??n),n=Wc.makeFromEncoding(n,e)??n,n=bf.parseAllForSortIndex(n,e));const u=e.getDataName(Pc.Raw),f=new qc(n,u,Pc.Raw,r);if(i[u]=f,n=f,Ap(e)){const t=vd.makeFromEncoding(n,e);t&&(n=t,Qu(e)&&(n=new Sd(n))),n=Vp.makeFromEncoding(n,e)??n,n=Hd.makeFromEncoding(n,e)??n}Ap(e)&&(n=Rp.make(n,e)??n);const d=e.getDataName(Pc.Main),p=new qc(n,d,Pc.Main,r);i[d]=p,n=p,Ap(e)&&function(e,t){for(const[n,i]of N(e.component.selection??{})){const r=e.getName(`lookup_${n}`);e.component.data.outputNodes[r]=i.materialized=new qc(new nf(t,e,{param:n}),r,Pc.Lookup,e.component.data.outputNodeRefCounts)}}(e,p);let m=null;if(Ep(e)){const t=e.getName("facet");n=function(e,t){const{row:n,column:i}=t;if(n&&i){let t=null;for(const r of[n,i])if(Vo(r.sort)){const{field:n,op:i=Uo}=r.sort;e=t=new Id(e,{joinaggregate:[{op:i,field:n,as:lm(r,r.sort,{forAs:!0})}],groupby:[ba(r)]})}return t}return null}(n,e.facet)??n,m=new bd(n,e,t,p.getSource()),i[t]=m}return{...e.component.data,outputNodes:i,outputNodeRefCounts:r,raw:f,main:p,facetRoot:m,ancestorParse:a}}class dm extends Lp{constructor(e,t,n,i){var r,o,a,s;super(e,"concat",t,n,i,e.resolve),Mn(this,"children",void 0),"shared"!==(null===(r=e.resolve)||void 0===r||null===(o=r.axis)||void 0===o?void 0:o.x)&&"shared"!==(null===(a=e.resolve)||void 0===a||null===(s=a.axis)||void 0===s?void 0:s.y)||Ci("Axes cannot be shared in concatenated or repeated views yet (https://github.com/vega/vega-lite/issues/2415)."),this.children=this.getChildren(e).map(((e,t)=>Rm(e,this,this.getName(`concat_${t}`),void 0,i)))}parseData(){this.component.data=fm(this);for(const e of this.children)e.parseData()}parseSelections(){this.component.selection={};for(const e of this.children){e.parseSelections();for(const t of _(e.component.selection))this.component.selection[t]=e.component.selection[t]}}parseMarkGroup(){for(const e of this.children)e.parseMarkGroup()}parseAxesAndHeaders(){for(const e of this.children)e.parseAxesAndHeaders()}getChildren(e){return Vs(e)?e.vconcat:Gs(e)?e.hconcat:e.concat}parseLayoutSize(){!function(e){om(e);const t=1===e.layout.columns?"width":"childWidth",n=void 0===e.layout.columns?"height":"childHeight";am(e,t),am(e,n)}(this)}parseAxisGroup(){return null}assembleSelectionTopLevelSignals(e){return this.children.reduce(((e,t)=>t.assembleSelectionTopLevelSignals(e)),e)}assembleSignals(){return this.children.forEach((e=>e.assembleSignals())),[]}assembleLayoutSignals(){const e=Tf(this);for(const t of this.children)e.push(...t.assembleLayoutSignals());return e}assembleSelectionData(e){return this.children.reduce(((e,t)=>t.assembleSelectionData(e)),e)}assembleMarks(){return this.children.map((e=>{const t=e.assembleTitle(),n=e.assembleGroupStyle(),i=e.assembleGroupEncodeEntry(!1);return{type:"group",name:e.getName("group"),...t?{title:t}:{},...n?{style:n}:{},...i?{encode:{update:i}}:{},...e.assembleGroup()}}))}assembleGroupStyle(){}assembleDefaultLayout(){const e=this.layout.columns;return{...null!=e?{columns:e}:{},bounds:"full",align:"each"}}}const pm={disable:1,gridScale:1,scale:1,...Ga,labelExpr:1,encode:1},mm=_(pm);class gm extends vc{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];super(),this.explicit=e,this.implicit=t,this.mainExtracted=n}clone(){return new gm(f(this.explicit),f(this.implicit),this.mainExtracted)}hasAxisPart(e){return"axis"===e||("grid"===e||"title"===e?!!this.get(e):!(!1===(t=this.get(e))||null===t));var t}hasOrientSignalRef(){return gn(this.explicit.orient)}}const hm={bottom:"top",top:"bottom",left:"right",right:"left"};function ym(e,t){if(!e)return t.map((e=>e.clone()));{if(e.length!==t.length)return;const n=e.length;for(let i=0;i<n;i++){const n=e[i],r=t[i];if(!!n!=!!r)return;if(n&&r){const t=n.getWithExplicit("orient"),o=r.getWithExplicit("orient");if(t.explicit&&o.explicit&&t.value!==o.value)return;e[i]=vm(n,r)}}}return e}function vm(e,t){for(const n of mm){const i=kc(e.getWithExplicit(n),t.getWithExplicit(n),n,"axis",((e,t)=>{switch(n){case"title":return Tn(e,t);case"gridScale":return{explicit:e.explicit,value:I(e.value,t.value)}}return $c(e,t,n,"axis")}));e.setWithExplicit(n,i)}return e}function bm(e,t,n,i,r){if("disable"===t)return void 0!==n;switch(n=n||{},t){case"titleAngle":case"labelAngle":return e===(gn(n.labelAngle)?n.labelAngle:X(n.labelAngle));case"values":return!!n.values;case"encode":return!!n.encoding||!!n.labelAngle;case"title":if(e===vf(i,r))return!0}return e===n[t]}const xm=new Set(["grid","translate","format","formatType","orient","labelExpr","tickCount","position","tickMinStep"]);function wm(e,t){var n,i,r,o;let a=t.axis(e);const s=new gm,l=Pa(t.encoding[e]),{mark:c,config:u}=t,f=(null===(n=a)||void 0===n?void 0:n.orient)||(null===(i=u["x"===e?"axisX":"axisY"])||void 0===i?void 0:i.orient)||(null===(r=u.axis)||void 0===r?void 0:r.orient)||function(e){return"x"===e?"bottom":"left"}(e),d=t.getScaleComponent(e).get("type"),p=function(e,t,n,i){const r="band"===t?["axisDiscrete","axisBand"]:"point"===t?["axisDiscrete","axisPoint"]:Cr(t)?["axisQuantitative"]:"time"===t||"utc"===t?["axisTemporal"]:[],o="x"===e?"axisX":"axisY",a=gn(n)?"axisOrient":`axis${T(n)}`,s=[...r,...r.map((e=>o+e.substr(4)))],l=["axis",a,o];return{vlOnlyAxisConfig:ff(s,i,e,n),vgAxisConfig:ff(l,i,e,n),axisConfigStyle:df([...l,...s],i)}}(e,d,f,t.config),m=void 0!==a?!a:pf("disable",u.style,null===(o=a)||void 0===o?void 0:o.style,p).configValue;if(s.set("disable",m,void 0!==a),m)return s;a=a||{};const g=function(e,t,n,i,r){const o=null==t?void 0:t.labelAngle;if(void 0!==o)return gn(o)?o:X(o);{const{configValue:o}=pf("labelAngle",i,null==t?void 0:t.style,r);return void 0!==o?X(o):n!==ee||!v([gr,pr],e.type)||oa(e)&&e.timeUnit?void 0:270}}(l,a,e,u.style,p),h={fieldOrDatumDef:l,axis:a,channel:e,model:t,scaleType:d,orient:f,labelAngle:g,mark:c,config:u};for(const n of mm){const i=n in mf?mf[n](h):Xa(n)?a[n]:void 0,r=void 0!==i,o=bm(i,n,a,t,e);if(r&&o)s.set(n,i,o);else{const{configValue:e,configFrom:t}=Xa(n)&&"values"!==n?pf(n,u.style,a.style,p):{},l=void 0!==e;r&&!l?s.set(n,i,o):("vgAxisConfig"!==t||xm.has(n)&&l||Ia(e)||gn(e))&&s.set(n,e,!1)}}const y=a.encoding??{},b=Ha.reduce(((n,i)=>{if(!s.hasAxisPart(i))return n;const r=Rf(y[i]??{},t),o="labels"===i?function(e,t,n){const{encoding:i,config:r}=e,o=Pa(i[t])??Pa(i[nt(t)]),a=e.axis(t)||{},{format:s,formatType:l}=a;if(No(l))return{text:Eo({fieldOrDatumDef:o,field:"datum.value",format:s,formatType:l,config:r}),...n};if(void 0===s&&void 0===l&&r.customFormatTypes){if("quantitative"===aa(o)){if(ma(o)&&"normalize"===o.stack&&r.normalizedNumberFormatType)return{text:Eo({fieldOrDatumDef:o,field:"datum.value",format:r.normalizedNumberFormat,formatType:r.normalizedNumberFormatType,config:r}),...n};if(r.numberFormatType)return{text:Eo({fieldOrDatumDef:o,field:"datum.value",format:r.numberFormat,formatType:r.numberFormatType,config:r}),...n}}if("temporal"===aa(o)&&r.timeFormatType&&oa(o)&&!o.timeUnit)return{text:Eo({fieldOrDatumDef:o,field:"datum.value",format:r.timeFormat,formatType:r.timeFormatType,config:r}),...n}}return n}(t,e,r):r;return void 0===o||O(o)||(n[i]={update:o}),n}),{});return O(b)||s.set("encode",b,!!a.encoding||void 0!==a.labelAngle),s}function $m(e,t,n){const i=dn(e),r=_n("orient",i,n);if(i.orient=function(e,t,n){switch(e){case io:case co:case uo:case ao:case ro:case to:return}const{x:i,y:r,x2:o,y2:a}=t;switch(e){case eo:if(oa(i)&&(sn(i.bin)||oa(r)&&r.aggregate&&!i.aggregate))return"vertical";if(oa(r)&&(sn(r.bin)||oa(i)&&i.aggregate&&!r.aggregate))return"horizontal";if(a||o){if(n)return n;if(!o)return(oa(i)&&i.type===dr&&!an(i.bin)||ca(i))&&oa(r)&&sn(r.bin)?"horizontal":"vertical";if(!a)return(oa(r)&&r.type===dr&&!an(r.bin)||ca(r))&&oa(i)&&sn(i.bin)?"vertical":"horizontal"}case oo:if(o&&(!oa(i)||!sn(i.bin))&&a&&(!oa(r)||!sn(r.bin)))return;case Zr:if(a)return oa(r)&&sn(r.bin)?"horizontal":"vertical";if(o)return oa(i)&&sn(i.bin)?"vertical":"horizontal";if(e===oo){if(i&&!r)return"vertical";if(r&&!i)return"horizontal"}case no:case so:{const t=la(i),o=la(r);if(n)return n;if(t&&!o)return"tick"!==e?"horizontal":"vertical";if(!t&&o)return"tick"!==e?"vertical":"horizontal";if(t&&o){const t=i,n=r,o=t.type===mr,a=n.type===mr;return o&&!a?"tick"!==e?"vertical":"horizontal":!o&&a?"tick"!==e?"horizontal":"vertical":!t.aggregate&&n.aggregate?"tick"!==e?"vertical":"horizontal":t.aggregate&&!n.aggregate&&"tick"!==e?"horizontal":"vertical"}return}}return"vertical"}(i.type,t,r),void 0!==r&&r!==i.orient&&Ci(`Specified orient "${i.orient}" overridden with "${r}".`),"bar"===i.type&&i.orient){const e=_n("cornerRadiusEnd",i,n);if(void 0!==e){const n="horizontal"===i.orient&&t.x2||"vertical"===i.orient&&t.y2?["cornerRadius"]:wo[i.orient];for(const t of n)i[t]=e;void 0!==i.cornerRadiusEnd&&delete i.cornerRadiusEnd}}void 0===_n("opacity",i,n)&&(i.opacity=function(e,t){if(v([io,so,co,uo],e)&&!ns(t))return.7;return}(i.type,t));return void 0===_n("cursor",i,n)&&(i.cursor=function(e,t,n){if(t.href||e.href||_n("href",e,n))return"pointer";return e.cursor}(i,t,n)),i}function km(e,t){const{config:n}=e;return{...Su(e,{align:"ignore",baseline:"ignore",color:"include",size:"include",orient:"ignore",theta:"ignore"}),...fu("x",e,{defaultPos:"mid"}),...fu("y",e,{defaultPos:"mid"}),...su("size",e),...su("angle",e),...Sm(e,n,t)}}function Sm(e,t,n){return n?{shape:{value:n}}:su("shape",e)}const Dm={vgMark:"rule",encodeEntry:e=>{const{markDef:t}=e,n=t.orient;return e.encoding.x||e.encoding.y||e.encoding.latitude||e.encoding.longitude?{...Su(e,{align:"ignore",baseline:"ignore",color:"include",orient:"ignore",size:"ignore",theta:"ignore"}),...hu("x",e,{defaultPos:"horizontal"===n?"zeroOrMax":"mid",defaultPos2:"zeroOrMin",range:"vertical"!==n}),...hu("y",e,{defaultPos:"vertical"===n?"zeroOrMax":"mid",defaultPos2:"zeroOrMin",range:"horizontal"!==n}),...su("size",e,{vgChannel:"strokeWidth"})}:{}}};function Fm(e,t,n){if(void 0===_n("align",e,n))return"center"}function zm(e,t,n){if(void 0===_n("baseline",e,n))return"middle"}const Om={vgMark:"rect",encodeEntry:e=>{const{config:t,markDef:n}=e,i=n.orient,r="horizontal"===i?"width":"height",o="horizontal"===i?"height":"width";return{...Su(e,{align:"ignore",baseline:"ignore",color:"include",orient:"ignore",size:"ignore",theta:"ignore"}),...fu("x",e,{defaultPos:"mid",vgChannel:"xc"}),...fu("y",e,{defaultPos:"mid",vgChannel:"yc"}),...su("size",e,{defaultValue:_m(e),vgChannel:r}),[o]:Sn(_n("thickness",n,t))}}};function _m(e){const{config:n,markDef:i}=e,{orient:r}=i,o="horizontal"===r?"width":"height",a=e.getScaleComponent("horizontal"===r?"x":"y"),s=_n("size",i,n,{vgChannel:o})??n.tick.bandSize;if(void 0!==s)return s;{const e=a?a.get("range"):void 0;if(e&&hn(e)&&t.isNumber(e.step))return 3*e.step/4;return 3*Zs(n.view,o)/4}}const Cm={arc:{vgMark:"arc",encodeEntry:e=>({...Su(e,{align:"ignore",baseline:"ignore",color:"include",size:"ignore",orient:"ignore",theta:"ignore"}),...fu("x",e,{defaultPos:"mid"}),...fu("y",e,{defaultPos:"mid"}),...bu(e,"radius"),...bu(e,"theta")})},area:{vgMark:"area",encodeEntry:e=>({...Su(e,{align:"ignore",baseline:"ignore",color:"include",orient:"include",size:"ignore",theta:"ignore"}),...hu("x",e,{defaultPos:"zeroOrMin",defaultPos2:"zeroOrMin",range:"horizontal"===e.markDef.orient}),...hu("y",e,{defaultPos:"zeroOrMin",defaultPos2:"zeroOrMin",range:"vertical"===e.markDef.orient}),...zu(e)})},bar:{vgMark:"rect",encodeEntry:e=>({...Su(e,{align:"ignore",baseline:"ignore",color:"include",orient:"ignore",size:"ignore",theta:"ignore"}),...bu(e,"x"),...bu(e,"y")})},circle:{vgMark:"symbol",encodeEntry:e=>km(e,"circle")},geoshape:{vgMark:"shape",encodeEntry:e=>({...Su(e,{align:"ignore",baseline:"ignore",color:"include",size:"ignore",orient:"ignore",theta:"ignore"})}),postEncodingTransform:e=>{const{encoding:t}=e,n=t.shape;return[{type:"geoshape",projection:e.projectionName(),...n&&oa(n)&&n.type===hr?{field:ba(n,{expr:"datum"})}:{}}]}},image:{vgMark:"image",encodeEntry:e=>({...Su(e,{align:"ignore",baseline:"ignore",color:"ignore",orient:"ignore",size:"ignore",theta:"ignore"}),...bu(e,"x"),...bu(e,"y"),...Zc(e,"url")})},line:{vgMark:"line",encodeEntry:e=>({...Su(e,{align:"ignore",baseline:"ignore",color:"include",size:"ignore",orient:"ignore",theta:"ignore"}),...fu("x",e,{defaultPos:"mid"}),...fu("y",e,{defaultPos:"mid"}),...su("size",e,{vgChannel:"strokeWidth"}),...zu(e)})},point:{vgMark:"symbol",encodeEntry:e=>km(e)},rect:{vgMark:"rect",encodeEntry:e=>({...Su(e,{align:"ignore",baseline:"ignore",color:"include",orient:"ignore",size:"ignore",theta:"ignore"}),...bu(e,"x"),...bu(e,"y")})},rule:Dm,square:{vgMark:"symbol",encodeEntry:e=>km(e,"square")},text:{vgMark:"text",encodeEntry:e=>{const{config:t,encoding:n}=e;return{...Su(e,{align:"include",baseline:"include",color:"include",size:"ignore",orient:"ignore",theta:"include"}),...fu("x",e,{defaultPos:"mid"}),...fu("y",e,{defaultPos:"mid"}),...Zc(e),...su("size",e,{vgChannel:"fontSize"}),...su("angle",e),...Ou("align",Fm(e.markDef,n,t)),...Ou("baseline",zm(e.markDef,n,t)),...fu("radius",e,{defaultPos:null}),...fu("theta",e,{defaultPos:null})}}},tick:Om,trail:{vgMark:"trail",encodeEntry:e=>({...Su(e,{align:"ignore",baseline:"ignore",color:"include",size:"include",orient:"ignore",theta:"ignore"}),...fu("x",e,{defaultPos:"mid"}),...fu("y",e,{defaultPos:"mid"}),...su("size",e),...zu(e)})}};function Nm(e){if(v([no,Zr,lo],e.mark)){const t=ls(e.mark,e.encoding);if(t.length>0)return function(e,t){return[{name:e.getName("pathgroup"),type:"group",from:{facet:{name:Pm+e.requestDataName(Pc.Main),data:e.requestDataName(Pc.Main),groupby:t}},encode:{update:{width:{field:{group:"width"}},height:{field:{group:"height"}}}},marks:Em(e,{fromPrefix:Pm})}]}(e,t)}else if(e.mark===eo){const t=xn.some((t=>_n(t,e.markDef,e.config)));if(e.stack&&!e.fieldDef("size")&&t)return function(e){var t;const[n]=Em(e,{fromPrefix:jm}),i=e.scaleName(e.stack.fieldChannel),r=function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e.vgField(e.stack.fieldChannel,t)},o=(e,t)=>`${e}(${[r({prefix:"min",suffix:"start",expr:t}),r({prefix:"max",suffix:"start",expr:t}),r({prefix:"min",suffix:"end",expr:t}),r({prefix:"max",suffix:"end",expr:t})].map((e=>`scale('${i}',${e})`)).join(",")})`;let a,s;"x"===e.stack.fieldChannel?(a={...p(n.encode.update,["y","yc","y2","height",...xn]),x:{signal:o("min","datum")},x2:{signal:o("max","datum")},clip:{value:!0}},s={x:{field:{group:"x"},mult:-1},height:{field:{group:"height"}}},n.encode.update={...m(n.encode.update,["y","yc","y2"]),height:{field:{group:"height"}}}):(a={...p(n.encode.update,["x","xc","x2","width"]),y:{signal:o("min","datum")},y2:{signal:o("max","datum")},clip:{value:!0}},s={y:{field:{group:"y"},mult:-1},width:{field:{group:"width"}}},n.encode.update={...m(n.encode.update,["x","xc","x2"]),width:{field:{group:"width"}}});for(const t of xn){const i=Cn(t,e.markDef,e.config);n.encode.update[t]?(a[t]=n.encode.update[t],delete n.encode.update[t]):i&&(a[t]=Sn(i)),i&&(n.encode.update[t]={value:0})}const l=[];if((null===(t=e.stack.groupbyChannels)||void 0===t?void 0:t.length)>0)for(const t of e.stack.groupbyChannels){const n=e.fieldDef(t),i=ba(n);i&&l.push(i),(null!=n&&n.bin||null!=n&&n.timeUnit)&&l.push(ba(n,{binSuffix:"end"}))}a=["stroke","strokeWidth","strokeJoin","strokeCap","strokeDash","strokeDashOffset","strokeMiterLimit","strokeOpacity"].reduce(((t,i)=>{if(n.encode.update[i])return{...t,[i]:n.encode.update[i]};{const n=Cn(i,e.markDef,e.config);return void 0!==n?{...t,[i]:Sn(n)}:t}}),a),a.stroke&&(a.strokeForeground={value:!0},a.strokeOffset={value:0});return[{type:"group",from:{facet:{data:e.requestDataName(Pc.Main),name:jm+e.requestDataName(Pc.Main),groupby:l,aggregate:{fields:[r({suffix:"start"}),r({suffix:"start"}),r({suffix:"end"}),r({suffix:"end"})],ops:["min","max","min","max"]}}},encode:{update:a},marks:[{type:"group",encode:{update:s},marks:[n]}]}]}(e)}return Em(e)}const Pm="faceted_path_";const jm="stack_group_";function Am(e){const{encoding:n,stack:i,mark:r,markDef:o,config:a}=e,s=n.order;if(!(!t.isArray(s)&&da(s)&&y(s.value)||!s&&y(_n("order",o,a)))){if((t.isArray(s)||oa(s))&&!i)return jn(s,{expr:"datum"});if(po(r)){const i="horizontal"===o.orient?"y":"x",r=n[i];if(oa(r)){const n=r.sort;if(t.isArray(n))return{field:ba(r,{prefix:i,suffix:"sort_index",expr:"datum"})};if(Vo(n))return{field:ba({aggregate:ns(e.encoding)?n.op:void 0,field:n.field},{expr:"datum"})};if(Ho(n)){return{field:ba(e.fieldDef(n.encoding),{expr:"datum"}),order:n.order}}if(null===n)return;var l;return{field:ba(r,{binSuffix:null!==(l=e.stack)&&void 0!==l&&l.impute?"mid":void 0,expr:"datum"})}}}else;}}function Em(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{fromPrefix:""};const{mark:n,markDef:i,encoding:r,config:o}=e,a=I(i.clip,Tm(e),Mm(e)),s=On(i),l=r.key,c=Am(e),u=Lm(e),f=_n("aria",i,o),d=Cm[n].postEncodingTransform?Cm[n].postEncodingTransform(e):null;return[{name:e.getName("marks"),type:Cm[n].vgMark,...a?{clip:!0}:{},...s?{style:s}:{},...l?{key:l.field}:{},...c?{sort:c}:{},...u||{},...!1===f?{aria:f}:{},from:{data:t.fromPrefix+e.requestDataName(Pc.Main)},encode:{update:Cm[n].encodeEntry(e)},...d?{transform:d}:{}}]}function Tm(e){const t=e.getScaleComponent("x"),n=e.getScaleComponent("y");return!!(null!=t&&t.get("selectionExtent")||null!=n&&n.get("selectionExtent"))||void 0}function Mm(e){const t=e.component.projection;return!(!t||t.isFit)||void 0}function Lm(e){if(!e.component.selection)return null;const t=_(e.component.selection).length;let n=t,i=e.parent;for(;i&&0===n;)n=_(i.component.selection).length,i=i.parent;return n?{interactive:t>0||!!e.encoding.tooltip}:null}class qm extends qp{constructor(e,n,i){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},o=arguments.length>4?arguments[4]:void 0;super(e,"unit",n,i,o,void 0,Js(e)?e.view:void 0),Mn(this,"markDef",void 0),Mn(this,"encoding",void 0),Mn(this,"specifiedScales",{}),Mn(this,"stack",void 0),Mn(this,"specifiedAxes",{}),Mn(this,"specifiedLegends",{}),Mn(this,"specifiedProjection",{}),Mn(this,"selection",[]),Mn(this,"children",[]);const a=ho(e.mark)?{...e.mark}:{type:e.mark},s=a.type;void 0===a.filled&&(a.filled=function(e,t,n){let{graticule:i}=n;if(i)return!1;const r=Cn("filled",e,t),o=e.type;return I(r,o!==io&&o!==no&&o!==oo)}(a,o,{graticule:e.data&&Nc(e.data)}));const l=this.encoding=function(e,n,i,r){const o={};for(const t of _(e))Qe(t)||Ci(`${a=t}-encoding is dropped as ${a} is not a valid encoding channel.`);var a;for(let a of at){if(!e[a])continue;const s=e[a];if(Ct(a)){const e=ot(a),t=o[e];if(oa(t)){if(ur(t.type)&&oa(s)){Ci(ei(e));continue}}else a=e,Ci(ti(e))}if("angle"!==a||"arc"!==n||e.theta||(Ci("Arc marks uses theta channel rather than angle, replacing angle with theta."),a=le),rs(e,a,n)){if(a===ve&&"line"===n){const t=Na(e[a]);if(null!=t&&t.aggregate){Ci("Line marks cannot encode size with a non-groupby field. You may want to use trail marks instead.");continue}}if(a===me&&(i?"fill"in e:"stroke"in e))Ci(ai("encoding",{fill:"fill"in e,stroke:"stroke"in e}));else if(a===ze||a===Fe&&!t.isArray(s)&&!da(s)||a===_e&&t.isArray(s))s&&(o[a]=t.array(s).reduce(((e,t)=>(oa(t)?e.push(Ea(t,a)):Ci(si(t,a)),e)),[]));else{if(a===_e&&null===s)o[a]=null;else if(!(oa(s)||sa(s)||da(s)||na(s)||gn(s))){Ci(si(s,a));continue}o[a]=ja(s,a,r)}}else Ci(li(a,n))}return o}(e.encoding||{},s,a.filled,o);this.markDef=$m(a,l,o),this.size=function(e){let{encoding:t,size:n}=e;for(const e of St){const i=it(e);Xs(n[i])&&la(t[e])&&(delete n[i],Ci(xi(i)))}return n}({encoding:l,size:Js(e)?{...r,...e.width?{width:e.width}:{},...e.height?{height:e.height}:{}}:r}),this.stack=Dl(s,l),this.specifiedScales=this.initScales(s,l),this.specifiedAxes=this.initAxes(l),this.specifiedLegends=this.initLegends(l),this.specifiedProjection=e.projection,this.selection=(e.params??[]).filter((e=>Bs(e)))}get hasProjection(){const{encoding:e}=this,t=this.mark===fo,n=e&&Te.some((t=>ua(e[t])));return t||n}scaleDomain(e){const t=this.specifiedScales[e];return t?t.domain:void 0}axis(e){return this.specifiedAxes[e]}legend(e){return this.specifiedLegends[e]}initScales(e,t){return Ut.reduce(((e,n)=>{const i=Pa(t[n]);return i&&(e[n]=this.initScale(i.scale??{})),e}),{})}initScale(e){const{domain:n,range:i}=e,r=dn(e);return t.isArray(n)&&(r.domain=n.map($n)),t.isArray(i)&&(r.range=i.map($n)),r}initAxes(e){return St.reduce(((t,n)=>{const i=e[n];if(ua(i)||n===ee&&ua(e.x2)||n===te&&ua(e.y2)){const e=ua(i)?i.axis:void 0;t[n]=e?this.initAxis({...e}):e}return t}),{})}initAxis(e){const t=_(e),n={};for(const i of t){const t=e[i];n[i]=Ia(t)?wn(t):$n(t)}return n}initLegends(e){return Wt.reduce(((t,n)=>{const i=Pa(e[n]);if(i&&function(e){switch(e){case me:case ge:case he:case ve:case ye:case xe:case ke:case Se:return!0;case we:case $e:case be:return!1}}(n)){const e=i.legend;t[n]=e?dn(e):e}return t}),{})}parseData(){this.component.data=fm(this)}parseLayoutSize(){!function(e){const{size:t,component:n}=e;for(const i of St){const r=it(i);if(t[r]){const e=t[r];n.layoutSize.set(r,Xs(e)?"step":e,!0)}else{const t=sm(e,r);n.layoutSize.set(r,t,!1)}}}(this)}parseSelections(){this.component.selection=function(e,n){const i={},r=e.config.selection;if(!n||!n.length)return i;for(const o of n){const n=j(o.name),a=o.select,s=t.isString(a)?a:a.type,l=t.isObject(a)?f(a):{type:s},c=r[s];for(const e in c)"fields"!==e&&"encodings"!==e&&("mark"===e&&(l[e]={...c[e],...l[e]}),void 0!==l[e]&&!0!==l[e]||(l[e]=c[e]??l[e]));const u=i[n]={...l,name:n,type:s,init:o.value,bind:o.bind,events:t.isString(l.on)?t.parseSelector(l.on,"scope"):t.array(f(l.on))};for(const t of Yu)t.defined(u)&&t.parse&&t.parse(e,u,o)}return i}(this,this.selection)}parseMarkGroup(){this.component.mark=Nm(this)}parseAxesAndHeaders(){var e;this.component.axes=(e=this,St.reduce(((t,n)=>(e.component.scales[n]&&(t[n]=[wm(n,e)]),t)),{}))}assembleSelectionTopLevelSignals(e){return function(e,n){let i=!1;for(const r of C(e.component.selection??{})){const o=r.name,a=t.stringValue(o+Iu);if(0===n.filter((e=>e.name===o)).length){const e="global"===r.resolve?"union":r.resolve,i="point"===r.type?", true, true)":")";n.push({name:r.name,update:`${Gu}(${a}, ${t.stringValue(e)}${i}`})}i=!0;for(const t of Yu)t.defined(r)&&t.topLevelSignals&&(n=t.topLevelSignals(e,r,n))}i&&0===n.filter((e=>"unit"===e.name)).length&&n.unshift({name:"unit",value:{},on:[{events:"mousemove",update:"isTuple(group()) ? group() : unit"}]});return Mc(n)}(this,e)}assembleSignals(){return[...uf(this),...Ac(this,[])]}assembleSelectionData(e){return function(e,t){const n=[...t],i=Ju(e,{escape:!1});for(const t of C(e.component.selection??{})){const e={name:t.name+Iu};if(t.project.hasSelectionId&&(e.transform=[{type:"collect",sort:{field:qs}}]),t.init){const n=t.project.items.map((e=>{const{signals:t,...n}=e;return n}));e.values=t.project.hasSelectionId?t.init.map((e=>({unit:i,[qs]:jc(e,!1)[0]}))):t.init.map((e=>({unit:i,fields:n,values:jc(e,!1)})))}n.filter((e=>e.name===t.name+Iu)).length||n.push(e)}return n}(this,e)}assembleLayout(){return null}assembleLayoutSignals(){return Tf(this)}assembleMarks(){let e=this.component.mark??[];return this.parent&&Mp(this.parent)||(e=Tc(this,e)),e.map(this.correctDataNames)}assembleGroupStyle(){const{style:e}=this.view||{};return void 0!==e?e:this.encoding.x||this.encoding.y?"cell":void 0}getMapping(){return this.encoding}get mark(){return this.markDef.type}channelHasField(e){return Za(this.encoding,e)}fieldDef(e){return Na(this.encoding[e])}typedFieldDef(e){const t=this.fieldDef(e);return fa(t)?t:null}}class Wm extends Lp{constructor(e,t,n,i,r){super(e,"layer",t,n,r,e.resolve,e.view),Mn(this,"children",void 0);const o={...i,...e.width?{width:e.width}:{},...e.height?{height:e.height}:{}};this.children=e.layer.map(((e,t)=>{if(vl(e))return new Wm(e,this,this.getName(`layer_${t}`),o,r);if(Qa(e))return new qm(e,this,this.getName(`layer_${t}`),o,r);throw new Error(Rn(e))}))}parseData(){this.component.data=fm(this);for(const e of this.children)e.parseData()}parseLayoutSize(){var e;om(e=this),am(e,"width"),am(e,"height")}parseSelections(){this.component.selection={};for(const e of this.children){e.parseSelections();for(const t of _(e.component.selection))this.component.selection[t]=e.component.selection[t]}}parseMarkGroup(){for(const e of this.children)e.parseMarkGroup()}parseAxesAndHeaders(){!function(e){const{axes:t,resolve:n}=e.component,i={top:0,bottom:0,right:0,left:0};for(const i of e.children){i.parseAxesAndHeaders();for(const r of _(i.component.axes))n.axis[r]=Bf(e.component.resolve,r),"shared"===n.axis[r]&&(t[r]=ym(t[r],i.component.axes[r]),t[r]||(n.axis[r]="independent",delete t[r]))}for(const r of St){for(const o of e.children)if(o.component.axes[r]){if("independent"===n.axis[r]){t[r]=(t[r]??[]).concat(o.component.axes[r]);for(const e of o.component.axes[r]){const{value:t,explicit:n}=e.getWithExplicit("orient");if(!gn(t)){if(i[t]>0&&!n){const n=hm[t];i[t]>i[n]&&e.set("orient",n,!1)}i[t]++}}}delete o.component.axes[r]}if("independent"===n.axis[r]&&t[r]&&t[r].length>1)for(const e of t[r])e.get("grid")&&!e.explicit.grid&&(e.implicit.grid=!1)}}(this)}assembleSelectionTopLevelSignals(e){return this.children.reduce(((e,t)=>t.assembleSelectionTopLevelSignals(e)),e)}assembleSignals(){return this.children.reduce(((e,t)=>e.concat(t.assembleSignals())),uf(this))}assembleLayoutSignals(){return this.children.reduce(((e,t)=>e.concat(t.assembleLayoutSignals())),Tf(this))}assembleSelectionData(e){return this.children.reduce(((e,t)=>t.assembleSelectionData(e)),e)}assembleGroupStyle(){const e=new Set;for(const n of this.children)for(const i of t.array(n.assembleGroupStyle()))e.add(i);const n=Array.from(e);return n.length>1?n:1===n.length?n[0]:void 0}assembleTitle(){let e=super.assembleTitle();if(e)return e;for(const t of this.children)if(e=t.assembleTitle(),e)return e}assembleLayout(){return null}assembleMarks(){return function(e,t){for(const n of e.children)Ap(n)&&(t=Tc(n,t));return t}(this,this.children.flatMap((e=>e.assembleMarks())))}assembleLegends(){return this.children.reduce(((e,t)=>e.concat(t.assembleLegends())),ad(this))}}function Rm(e,t,n,i,r){if(Jo(e))return new cm(e,t,n,r);if(vl(e))return new Wm(e,t,n,i,r);if(Qa(e))return new qm(e,t,n,i,r);if(function(e){return Vs(e)||Gs(e)||Hs(e)}(e))return new dm(e,t,n,r);throw new Error(Rn(e))}function Um(e,n,i,r){const o=r.component.layoutSize.get("width"),a=r.component.layoutSize.get("height");if(void 0===n?(n={type:"pad"},r.hasAxisOrientSignalRef()&&(n.resize=!0)):t.isString(n)&&(n={type:n}),o&&a&&("fit"===(s=n.type)||"fit-x"===s||"fit-y"===s))if("step"===o&&"step"===a)Ci(Hn()),n.type="pad";else if("step"===o||"step"===a){const e="step"===o?"width":"height";Ci(Hn(Ot(e)));const t="width"===e?"height":"width";n.type=function(e){return e?`fit-${Ot(e)}`:"fit"}(t)}var s;return{...1===_(n).length&&n.type?"pad"===n.type?{}:{autosize:n.type}:{autosize:n},...yc(i,!1),...yc(e,!0)}}function Bm(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=arguments.length>3?arguments[3]:void 0;const r=e.config?hl(e.config):void 0,o=[].concat(e.assembleSelectionData([]),em(e.component.data,n)),a=e.assembleProjections(),s=e.assembleTitle(),l=e.assembleGroupStyle(),c=e.assembleGroupEncodeEntry(!0);let u=e.assembleLayoutSignals();u=u.filter((e=>"width"!==e.name&&"height"!==e.name||void 0===e.value||(t[e.name]=+e.value,!1)));const{params:f,...d}=t;return{$schema:"https://vega.github.io/schema/vega/v5.json",...e.description?{description:e.description}:{},...d,...s?{title:s}:{},...l?{style:l}:{},...c?{encode:{update:c}}:{},data:o,...a.length>0?{projections:a}:{},...e.assembleGroup([...u,...e.assembleSelectionTopLevelSignals([]),...Is(f)]),...r?{config:r}:{},...i?{usermeta:i}:{}}}const Im=n;e.accessPathDepth=B,e.accessPathWithDatum=M,e.compile=function(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};n.logger&&Oi(n.logger),n.fieldTitle&&Sa(n.fieldTitle);try{const i=dl(t.mergeConfig(n.config,e.config)),r=fc(e,i),o=Rm(r,null,"",void 0,i);o.parse(),Zd(o.component.data,o);return{spec:Bm(o,Um(e,r.autosize,i,o),e.datasets,e.usermeta),normalized:r}}finally{n.logger&&_i(),n.fieldTitle&&Da()}},e.contains=v,e.deepEqual=u,e.deleteNestedProperty=E,e.duplicate=f,e.entries=N,e.every=x,e.fieldIntersection=z,e.flatAccessWithDatum=L,e.getFirstDefined=I,e.hasIntersection=D,e.hash=h,e.internalField=G,e.isBoolean=P,e.isEmpty=O,e.isEqual=function(e,t){const n=_(e),i=_(t);if(n.length!==i.length)return!1;for(const i of n)if(e[i]!==t[i])return!1;return!0},e.isInternalField=Y,e.isNullOrFalse=y,e.isNumeric=J,e.keys=_,e.logicalExpr=A,e.mergeDeep=w,e.never=d,e.normalize=fc,e.normalizeAngle=X,e.omit=m,e.pick=p,e.prefixGenerator=F,e.removePathFromField=U,e.replaceAll=R,e.replacePathInField=W,e.resetIdCounter=function(){H=42},e.setEqual=S,e.some=b,e.stringify=g,e.titleCase=T,e.unique=k,e.uniqueId=V,e.vals=C,e.varName=j,e.version=Im,Object.defineProperty(e,"__esModule",{value:!0})}));
//# sourceMappingURL=vega-lite.min.js.map
</script><script type="text/javascript">!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t(require("vega"),require("vega-lite")):"function"==typeof define&&define.amd?define(["vega","vega-lite"],t):(e="undefined"!=typeof globalThis?globalThis:e||self).vegaEmbed=t(e.vega,e.vegaLite)}(this,(function(e,t){"use strict";function n(e){if(e&&e.__esModule)return e;var t=Object.create(null);return e&&Object.keys(e).forEach((function(n){if("default"!==n){var o=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(t,n,o.get?o:{enumerable:!0,get:function(){return e[n]}})}})),t.default=e,Object.freeze(t)}var o,r=n(e),i=n(t),a=(o=function(e,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},o(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),s=Object.prototype.hasOwnProperty;function c(e,t){return s.call(e,t)}function l(e){if(Array.isArray(e)){for(var t=new Array(e.length),n=0;n<t.length;n++)t[n]=""+n;return t}if(Object.keys)return Object.keys(e);var o=[];for(var r in e)c(e,r)&&o.push(r);return o}function h(e){switch(typeof e){case"object":return JSON.parse(JSON.stringify(e));case"undefined":return null;default:return e}}function p(e){for(var t,n=0,o=e.length;n<o;){if(!((t=e.charCodeAt(n))>=48&&t<=57))return!1;n++}return!0}function u(e){return-1===e.indexOf("/")&&-1===e.indexOf("~")?e:e.replace(/~/g,"~0").replace(/\//g,"~1")}function d(e){return e.replace(/~1/g,"/").replace(/~0/g,"~")}function f(e){if(void 0===e)return!0;if(e)if(Array.isArray(e)){for(var t=0,n=e.length;t<n;t++)if(f(e[t]))return!0}else if("object"==typeof e)for(var o=l(e),r=o.length,i=0;i<r;i++)if(f(e[o[i]]))return!0;return!1}function g(e,t){var n=[e];for(var o in t){var r="object"==typeof t[o]?JSON.stringify(t[o],null,2):t[o];void 0!==r&&n.push(o+": "+r)}return n.join("\n")}var v=function(e){function t(t,n,o,r,i){var a=this.constructor,s=e.call(this,g(t,{name:n,index:o,operation:r,tree:i}))||this;return s.name=n,s.index=o,s.operation=r,s.tree=i,Object.setPrototypeOf(s,a.prototype),s.message=g(t,{name:n,index:o,operation:r,tree:i}),s}return a(t,e),t}(Error),m=v,E=h,b={add:function(e,t,n){return e[t]=this.value,{newDocument:n}},remove:function(e,t,n){var o=e[t];return delete e[t],{newDocument:n,removed:o}},replace:function(e,t,n){var o=e[t];return e[t]=this.value,{newDocument:n,removed:o}},move:function(e,t,n){var o=w(n,this.path);o&&(o=h(o));var r=O(n,{op:"remove",path:this.from}).removed;return O(n,{op:"add",path:this.path,value:r}),{newDocument:n,removed:o}},copy:function(e,t,n){var o=w(n,this.from);return O(n,{op:"add",path:this.path,value:h(o)}),{newDocument:n}},test:function(e,t,n){return{newDocument:n,test:N(e[t],this.value)}},_get:function(e,t,n){return this.value=e[t],{newDocument:n}}},y={add:function(e,t,n){return p(t)?e.splice(t,0,this.value):e[t]=this.value,{newDocument:n,index:t}},remove:function(e,t,n){return{newDocument:n,removed:e.splice(t,1)[0]}},replace:function(e,t,n){var o=e[t];return e[t]=this.value,{newDocument:n,removed:o}},move:b.move,copy:b.copy,test:b.test,_get:b._get};function w(e,t){if(""==t)return e;var n={op:"_get",path:t};return O(e,n),n.value}function O(e,t,n,o,r,i){if(void 0===n&&(n=!1),void 0===o&&(o=!0),void 0===r&&(r=!0),void 0===i&&(i=0),n&&("function"==typeof n?n(t,0,e,t.path):x(t,0)),""===t.path){var a={newDocument:e};if("add"===t.op)return a.newDocument=t.value,a;if("replace"===t.op)return a.newDocument=t.value,a.removed=e,a;if("move"===t.op||"copy"===t.op)return a.newDocument=w(e,t.from),"move"===t.op&&(a.removed=e),a;if("test"===t.op){if(a.test=N(e,t.value),!1===a.test)throw new m("Test operation failed","TEST_OPERATION_FAILED",i,t,e);return a.newDocument=e,a}if("remove"===t.op)return a.removed=e,a.newDocument=null,a;if("_get"===t.op)return t.value=e,a;if(n)throw new m("Operation `op` property is not one of operations defined in RFC-6902","OPERATION_OP_INVALID",i,t,e);return a}o||(e=h(e));var s=(t.path||"").split("/"),c=e,l=1,u=s.length,f=void 0,g=void 0,v=void 0;for(v="function"==typeof n?n:x;;){if((g=s[l])&&-1!=g.indexOf("~")&&(g=d(g)),r&&("__proto__"==g||"prototype"==g&&l>0&&"constructor"==s[l-1]))throw new TypeError("JSON-Patch: modifying `__proto__` or `constructor/prototype` prop is banned for security reasons, if this was on purpose, please set `banPrototypeModifications` flag false and pass it to this function. More info in fast-json-patch README");if(n&&void 0===f&&(void 0===c[g]?f=s.slice(0,l).join("/"):l==u-1&&(f=t.path),void 0!==f&&v(t,0,e,f)),l++,Array.isArray(c)){if("-"===g)g=c.length;else{if(n&&!p(g))throw new m("Expected an unsigned base-10 integer value, making the new referenced value the array element with the zero-based index","OPERATION_PATH_ILLEGAL_ARRAY_INDEX",i,t,e);p(g)&&(g=~~g)}if(l>=u){if(n&&"add"===t.op&&g>c.length)throw new m("The specified index MUST NOT be greater than the number of elements in the array","OPERATION_VALUE_OUT_OF_BOUNDS",i,t,e);if(!1===(a=y[t.op].call(t,c,g,e)).test)throw new m("Test operation failed","TEST_OPERATION_FAILED",i,t,e);return a}}else if(l>=u){if(!1===(a=b[t.op].call(t,c,g,e)).test)throw new m("Test operation failed","TEST_OPERATION_FAILED",i,t,e);return a}if(c=c[g],n&&l<u&&(!c||"object"!=typeof c))throw new m("Cannot perform operation at the desired path","OPERATION_PATH_UNRESOLVABLE",i,t,e)}}function A(e,t,n,o,r){if(void 0===o&&(o=!0),void 0===r&&(r=!0),n&&!Array.isArray(t))throw new m("Patch sequence must be an array","SEQUENCE_NOT_AN_ARRAY");o||(e=h(e));for(var i=new Array(t.length),a=0,s=t.length;a<s;a++)i[a]=O(e,t[a],n,!0,r,a),e=i[a].newDocument;return i.newDocument=e,i}function x(e,t,n,o){if("object"!=typeof e||null===e||Array.isArray(e))throw new m("Operation is not an object","OPERATION_NOT_AN_OBJECT",t,e,n);if(!b[e.op])throw new m("Operation `op` property is not one of operations defined in RFC-6902","OPERATION_OP_INVALID",t,e,n);if("string"!=typeof e.path)throw new m("Operation `path` property is not a string","OPERATION_PATH_INVALID",t,e,n);if(0!==e.path.indexOf("/")&&e.path.length>0)throw new m('Operation `path` property must start with "/"',"OPERATION_PATH_INVALID",t,e,n);if(("move"===e.op||"copy"===e.op)&&"string"!=typeof e.from)throw new m("Operation `from` property is not present (applicable in `move` and `copy` operations)","OPERATION_FROM_REQUIRED",t,e,n);if(("add"===e.op||"replace"===e.op||"test"===e.op)&&void 0===e.value)throw new m("Operation `value` property is not present (applicable in `add`, `replace` and `test` operations)","OPERATION_VALUE_REQUIRED",t,e,n);if(("add"===e.op||"replace"===e.op||"test"===e.op)&&f(e.value))throw new m("Operation `value` property is not present (applicable in `add`, `replace` and `test` operations)","OPERATION_VALUE_CANNOT_CONTAIN_UNDEFINED",t,e,n);if(n)if("add"==e.op){var r=e.path.split("/").length,i=o.split("/").length;if(r!==i+1&&r!==i)throw new m("Cannot perform an `add` operation at the desired path","OPERATION_PATH_CANNOT_ADD",t,e,n)}else if("replace"===e.op||"remove"===e.op||"_get"===e.op){if(e.path!==o)throw new m("Cannot perform the operation at a path that does not exist","OPERATION_PATH_UNRESOLVABLE",t,e,n)}else if("move"===e.op||"copy"===e.op){var a=I([{op:"_get",path:e.from,value:void 0}],n);if(a&&"OPERATION_PATH_UNRESOLVABLE"===a.name)throw new m("Cannot perform the operation from a path that does not exist","OPERATION_FROM_UNRESOLVABLE",t,e,n)}}function I(e,t,n){try{if(!Array.isArray(e))throw new m("Patch sequence must be an array","SEQUENCE_NOT_AN_ARRAY");if(t)A(h(t),h(e),n||!0);else{n=n||x;for(var o=0;o<e.length;o++)n(e[o],o,t,void 0)}}catch(e){if(e instanceof m)return e;throw e}}function N(e,t){if(e===t)return!0;if(e&&t&&"object"==typeof e&&"object"==typeof t){var n,o,r,i=Array.isArray(e),a=Array.isArray(t);if(i&&a){if((o=e.length)!=t.length)return!1;for(n=o;0!=n--;)if(!N(e[n],t[n]))return!1;return!0}if(i!=a)return!1;var s=Object.keys(e);if((o=s.length)!==Object.keys(t).length)return!1;for(n=o;0!=n--;)if(!t.hasOwnProperty(s[n]))return!1;for(n=o;0!=n--;)if(!N(e[r=s[n]],t[r]))return!1;return!0}return e!=e&&t!=t}var R=Object.freeze({__proto__:null,JsonPatchError:m,deepClone:E,getValueByPointer:w,applyOperation:O,applyPatch:A,applyReducer:function(e,t,n){var o=O(e,t);if(!1===o.test)throw new m("Test operation failed","TEST_OPERATION_FAILED",n,t,e);return o.newDocument},validator:x,validate:I,_areEquals:N}),T=new WeakMap,L=function(e){this.observers=new Map,this.obj=e},S=function(e,t){this.callback=e,this.observer=t};
/*!
     * https://github.com/Starcounter-Jack/JSON-Patch
     * (c) 2017-2021 Joachim Wester
     * MIT license
     */function D(e,t){void 0===t&&(t=!1);var n=T.get(e.object);C(n.value,e.object,e.patches,"",t),e.patches.length&&A(n.value,e.patches);var o=e.patches;return o.length>0&&(e.patches=[],e.callback&&e.callback(o)),o}function C(e,t,n,o,r){if(t!==e){"function"==typeof t.toJSON&&(t=t.toJSON());for(var i=l(t),a=l(e),s=!1,p=a.length-1;p>=0;p--){var d=e[g=a[p]];if(!c(t,g)||void 0===t[g]&&void 0!==d&&!1===Array.isArray(t))Array.isArray(e)===Array.isArray(t)?(r&&n.push({op:"test",path:o+"/"+u(g),value:h(d)}),n.push({op:"remove",path:o+"/"+u(g)}),s=!0):(r&&n.push({op:"test",path:o,value:e}),n.push({op:"replace",path:o,value:t}));else{var f=t[g];"object"==typeof d&&null!=d&&"object"==typeof f&&null!=f&&Array.isArray(d)===Array.isArray(f)?C(d,f,n,o+"/"+u(g),r):d!==f&&(r&&n.push({op:"test",path:o+"/"+u(g),value:h(d)}),n.push({op:"replace",path:o+"/"+u(g),value:h(f)}))}}if(s||i.length!=a.length)for(p=0;p<i.length;p++){var g;c(e,g=i[p])||void 0===t[g]||n.push({op:"add",path:o+"/"+u(g),value:h(t[g])})}}}var F=Object.freeze({__proto__:null,unobserve:function(e,t){t.unobserve()},observe:function(e,t){var n,o=function(e){return T.get(e)}(e);if(o){var r=function(e,t){return e.observers.get(t)}(o,t);n=r&&r.observer}else o=new L(e),T.set(e,o);if(n)return n;if(n={},o.value=h(e),t){n.callback=t,n.next=null;var i=function(){D(n)},a=function(){clearTimeout(n.next),n.next=setTimeout(i)};"undefined"!=typeof window&&(window.addEventListener("mouseup",a),window.addEventListener("keyup",a),window.addEventListener("mousedown",a),window.addEventListener("keydown",a),window.addEventListener("change",a))}return n.patches=[],n.object=e,n.unobserve=function(){D(n),clearTimeout(n.next),function(e,t){e.observers.delete(t.callback)}(o,n),"undefined"!=typeof window&&(window.removeEventListener("mouseup",a),window.removeEventListener("keyup",a),window.removeEventListener("mousedown",a),window.removeEventListener("keydown",a),window.removeEventListener("change",a))},o.observers.set(t,new S(t,n)),n},generate:D,compare:function(e,t,n){void 0===n&&(n=!1);var o=[];return C(e,t,o,"",n),o}});Object.assign({},R,F,{JsonPatchError:v,deepClone:h,escapePathComponent:u,unescapePathComponent:d});var k=/("(?:[^\\"]|\\.)*")|[:,]/g,P=function(e,t){var n,o,r;return t=t||{},n=JSON.stringify([1],void 0,void 0===t.indent?2:t.indent).slice(2,-3),o=""===n?1/0:void 0===t.maxLength?80:t.maxLength,r=t.replacer,function e(t,i,a){var s,c,l,h,p,u,d,f,g,v,m,E;if(t&&"function"==typeof t.toJSON&&(t=t.toJSON()),void 0===(m=JSON.stringify(t,r)))return m;if(d=o-i.length-a,m.length<=d&&(g=m.replace(k,(function(e,t){return t||e+" "}))).length<=d)return g;if(null!=r&&(t=JSON.parse(m),r=void 0),"object"==typeof t&&null!==t){if(f=i+n,l=[],c=0,Array.isArray(t))for(v="[",s="]",d=t.length;c<d;c++)l.push(e(t[c],f,c===d-1?0:1)||"null");else for(v="{",s="}",d=(u=Object.keys(t)).length;c<d;c++)h=u[c],p=JSON.stringify(h)+": ",void 0!==(E=e(t[h],f,p.length+(c===d-1?0:1)))&&l.push(p+E);if(l.length>0)return[v,n+l.join(",\n"+f),s].join("\n"+i)}return m}(e,"",0)},_=M;function M(e){var t=this;if(t instanceof M||(t=new M),t.tail=null,t.head=null,t.length=0,e&&"function"==typeof e.forEach)e.forEach((function(e){t.push(e)}));else if(arguments.length>0)for(var n=0,o=arguments.length;n<o;n++)t.push(arguments[n]);return t}function j(e,t,n){var o=t===e.head?new B(n,null,t,e):new B(n,t,t.next,e);return null===o.next&&(e.tail=o),null===o.prev&&(e.head=o),e.length++,o}function z(e,t){e.tail=new B(t,e.tail,null,e),e.head||(e.head=e.tail),e.length++}function U(e,t){e.head=new B(t,null,e.head,e),e.tail||(e.tail=e.head),e.length++}function B(e,t,n,o){if(!(this instanceof B))return new B(e,t,n,o);this.list=o,this.value=e,t?(t.next=this,this.prev=t):this.prev=null,n?(n.prev=this,this.next=n):this.next=null}M.Node=B,M.create=M,M.prototype.removeNode=function(e){if(e.list!==this)throw new Error("removing node which does not belong to this list");var t=e.next,n=e.prev;return t&&(t.prev=n),n&&(n.next=t),e===this.head&&(this.head=t),e===this.tail&&(this.tail=n),e.list.length--,e.next=null,e.prev=null,e.list=null,t},M.prototype.unshiftNode=function(e){if(e!==this.head){e.list&&e.list.removeNode(e);var t=this.head;e.list=this,e.next=t,t&&(t.prev=e),this.head=e,this.tail||(this.tail=e),this.length++}},M.prototype.pushNode=function(e){if(e!==this.tail){e.list&&e.list.removeNode(e);var t=this.tail;e.list=this,e.prev=t,t&&(t.next=e),this.tail=e,this.head||(this.head=e),this.length++}},M.prototype.push=function(){for(var e=0,t=arguments.length;e<t;e++)z(this,arguments[e]);return this.length},M.prototype.unshift=function(){for(var e=0,t=arguments.length;e<t;e++)U(this,arguments[e]);return this.length},M.prototype.pop=function(){if(this.tail){var e=this.tail.value;return this.tail=this.tail.prev,this.tail?this.tail.next=null:this.head=null,this.length--,e}},M.prototype.shift=function(){if(this.head){var e=this.head.value;return this.head=this.head.next,this.head?this.head.prev=null:this.tail=null,this.length--,e}},M.prototype.forEach=function(e,t){t=t||this;for(var n=this.head,o=0;null!==n;o++)e.call(t,n.value,o,this),n=n.next},M.prototype.forEachReverse=function(e,t){t=t||this;for(var n=this.tail,o=this.length-1;null!==n;o--)e.call(t,n.value,o,this),n=n.prev},M.prototype.get=function(e){for(var t=0,n=this.head;null!==n&&t<e;t++)n=n.next;if(t===e&&null!==n)return n.value},M.prototype.getReverse=function(e){for(var t=0,n=this.tail;null!==n&&t<e;t++)n=n.prev;if(t===e&&null!==n)return n.value},M.prototype.map=function(e,t){t=t||this;for(var n=new M,o=this.head;null!==o;)n.push(e.call(t,o.value,this)),o=o.next;return n},M.prototype.mapReverse=function(e,t){t=t||this;for(var n=new M,o=this.tail;null!==o;)n.push(e.call(t,o.value,this)),o=o.prev;return n},M.prototype.reduce=function(e,t){var n,o=this.head;if(arguments.length>1)n=t;else{if(!this.head)throw new TypeError("Reduce of empty list with no initial value");o=this.head.next,n=this.head.value}for(var r=0;null!==o;r++)n=e(n,o.value,r),o=o.next;return n},M.prototype.reduceReverse=function(e,t){var n,o=this.tail;if(arguments.length>1)n=t;else{if(!this.tail)throw new TypeError("Reduce of empty list with no initial value");o=this.tail.prev,n=this.tail.value}for(var r=this.length-1;null!==o;r--)n=e(n,o.value,r),o=o.prev;return n},M.prototype.toArray=function(){for(var e=new Array(this.length),t=0,n=this.head;null!==n;t++)e[t]=n.value,n=n.next;return e},M.prototype.toArrayReverse=function(){for(var e=new Array(this.length),t=0,n=this.tail;null!==n;t++)e[t]=n.value,n=n.prev;return e},M.prototype.slice=function(e,t){(t=t||this.length)<0&&(t+=this.length),(e=e||0)<0&&(e+=this.length);var n=new M;if(t<e||t<0)return n;e<0&&(e=0),t>this.length&&(t=this.length);for(var o=0,r=this.head;null!==r&&o<e;o++)r=r.next;for(;null!==r&&o<t;o++,r=r.next)n.push(r.value);return n},M.prototype.sliceReverse=function(e,t){(t=t||this.length)<0&&(t+=this.length),(e=e||0)<0&&(e+=this.length);var n=new M;if(t<e||t<0)return n;e<0&&(e=0),t>this.length&&(t=this.length);for(var o=this.length,r=this.tail;null!==r&&o>t;o--)r=r.prev;for(;null!==r&&o>e;o--,r=r.prev)n.push(r.value);return n},M.prototype.splice=function(e,t){e>this.length&&(e=this.length-1),e<0&&(e=this.length+e);for(var n=0,o=this.head;null!==o&&n<e;n++)o=o.next;var r=[];for(n=0;o&&n<t;n++)r.push(o.value),o=this.removeNode(o);null===o&&(o=this.tail),o!==this.head&&o!==this.tail&&(o=o.prev);for(n=0;n<(arguments.length<=2?0:arguments.length-2);n++)o=j(this,o,n+2<2||arguments.length<=n+2?void 0:arguments[n+2]);return r},M.prototype.reverse=function(){for(var e=this.head,t=this.tail,n=e;null!==n;n=n.prev){var o=n.prev;n.prev=n.next,n.next=o}return this.head=t,this.tail=e,this};try{M.prototype[Symbol.iterator]=function*(){for(let e=this.head;e;e=e.next)yield e.value}}catch(e){}const G=_,X=Symbol("max"),V=Symbol("length"),W=Symbol("lengthCalculator"),H=Symbol("allowStale"),$=Symbol("maxAge"),q=Symbol("dispose"),Y=Symbol("noDisposeOnSet"),J=Symbol("lruList"),Q=Symbol("cache"),Z=Symbol("updateAgeOnGet"),K=()=>1;const ee=(e,t,n)=>{const o=e[Q].get(t);if(o){const t=o.value;if(te(e,t)){if(oe(e,o),!e[H])return}else n&&(e[Z]&&(o.value.now=Date.now()),e[J].unshiftNode(o));return t.value}},te=(e,t)=>{if(!t||!t.maxAge&&!e[$])return!1;const n=Date.now()-t.now;return t.maxAge?n>t.maxAge:e[$]&&n>e[$]},ne=e=>{if(e[V]>e[X])for(let t=e[J].tail;e[V]>e[X]&&null!==t;){const n=t.prev;oe(e,t),t=n}},oe=(e,t)=>{if(t){const n=t.value;e[q]&&e[q](n.key,n.value),e[V]-=n.length,e[Q].delete(n.key),e[J].removeNode(t)}};class re{constructor(e,t,n,o,r){this.key=e,this.value=t,this.length=n,this.now=o,this.maxAge=r||0}}const ie=(e,t,n,o)=>{let r=n.value;te(e,r)&&(oe(e,n),e[H]||(r=void 0)),r&&t.call(o,r.value,r.key,e)};var ae=class{constructor(e){if("number"==typeof e&&(e={max:e}),e||(e={}),e.max&&("number"!=typeof e.max||e.max<0))throw new TypeError("max must be a non-negative number");this[X]=e.max||1/0;const t=e.length||K;if(this[W]="function"!=typeof t?K:t,this[H]=e.stale||!1,e.maxAge&&"number"!=typeof e.maxAge)throw new TypeError("maxAge must be a number");this[$]=e.maxAge||0,this[q]=e.dispose,this[Y]=e.noDisposeOnSet||!1,this[Z]=e.updateAgeOnGet||!1,this.reset()}set max(e){if("number"!=typeof e||e<0)throw new TypeError("max must be a non-negative number");this[X]=e||1/0,ne(this)}get max(){return this[X]}set allowStale(e){this[H]=!!e}get allowStale(){return this[H]}set maxAge(e){if("number"!=typeof e)throw new TypeError("maxAge must be a non-negative number");this[$]=e,ne(this)}get maxAge(){return this[$]}set lengthCalculator(e){"function"!=typeof e&&(e=K),e!==this[W]&&(this[W]=e,this[V]=0,this[J].forEach((e=>{e.length=this[W](e.value,e.key),this[V]+=e.length}))),ne(this)}get lengthCalculator(){return this[W]}get length(){return this[V]}get itemCount(){return this[J].length}rforEach(e,t){t=t||this;for(let n=this[J].tail;null!==n;){const o=n.prev;ie(this,e,n,t),n=o}}forEach(e,t){t=t||this;for(let n=this[J].head;null!==n;){const o=n.next;ie(this,e,n,t),n=o}}keys(){return this[J].toArray().map((e=>e.key))}values(){return this[J].toArray().map((e=>e.value))}reset(){this[q]&&this[J]&&this[J].length&&this[J].forEach((e=>this[q](e.key,e.value))),this[Q]=new Map,this[J]=new G,this[V]=0}dump(){return this[J].map((e=>!te(this,e)&&{k:e.key,v:e.value,e:e.now+(e.maxAge||0)})).toArray().filter((e=>e))}dumpLru(){return this[J]}set(e,t,n){if((n=n||this[$])&&"number"!=typeof n)throw new TypeError("maxAge must be a number");const o=n?Date.now():0,r=this[W](t,e);if(this[Q].has(e)){if(r>this[X])return oe(this,this[Q].get(e)),!1;const i=this[Q].get(e).value;return this[q]&&(this[Y]||this[q](e,i.value)),i.now=o,i.maxAge=n,i.value=t,this[V]+=r-i.length,i.length=r,this.get(e),ne(this),!0}const i=new re(e,t,r,o,n);return i.length>this[X]?(this[q]&&this[q](e,t),!1):(this[V]+=i.length,this[J].unshift(i),this[Q].set(e,this[J].head),ne(this),!0)}has(e){if(!this[Q].has(e))return!1;const t=this[Q].get(e).value;return!te(this,t)}get(e){return ee(this,e,!0)}peek(e){return ee(this,e,!1)}pop(){const e=this[J].tail;return e?(oe(this,e),e.value):null}del(e){oe(this,this[Q].get(e))}load(e){this.reset();const t=Date.now();for(let n=e.length-1;n>=0;n--){const o=e[n],r=o.e||0;if(0===r)this.set(o.k,o.v);else{const e=r-t;e>0&&this.set(o.k,o.v,e)}}}prune(){this[Q].forEach(((e,t)=>ee(this,t,!1)))}};const se=["includePrerelease","loose","rtl"];var ce=e=>e?"object"!=typeof e?{loose:!0}:se.filter((t=>e[t])).reduce(((e,t)=>(e[t]=!0,e)),{}):{},le={exports:{}};var he={SEMVER_SPEC_VERSION:"2.0.0",MAX_LENGTH:256,MAX_SAFE_INTEGER:Number.MAX_SAFE_INTEGER||9007199254740991,MAX_SAFE_COMPONENT_LENGTH:16};const pe="object"==typeof process&&process.env&&process.env.NODE_DEBUG&&/\bsemver\b/i.test(process.env.NODE_DEBUG)?function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return console.error("SEMVER",...t)}:()=>{};var ue=pe;!function(e,t){const{MAX_SAFE_COMPONENT_LENGTH:n}=he,o=ue,r=(t=e.exports={}).re=[],i=t.src=[],a=t.t={};let s=0;const c=(e,t,n)=>{const c=s++;o(e,c,t),a[e]=c,i[c]=t,r[c]=new RegExp(t,n?"g":void 0)};c("NUMERICIDENTIFIER","0|[1-9]\\d*"),c("NUMERICIDENTIFIERLOOSE","[0-9]+"),c("NONNUMERICIDENTIFIER","\\d*[a-zA-Z-][a-zA-Z0-9-]*"),c("MAINVERSION","(".concat(i[a.NUMERICIDENTIFIER],")\\.")+"(".concat(i[a.NUMERICIDENTIFIER],")\\.")+"(".concat(i[a.NUMERICIDENTIFIER],")")),c("MAINVERSIONLOOSE","(".concat(i[a.NUMERICIDENTIFIERLOOSE],")\\.")+"(".concat(i[a.NUMERICIDENTIFIERLOOSE],")\\.")+"(".concat(i[a.NUMERICIDENTIFIERLOOSE],")")),c("PRERELEASEIDENTIFIER","(?:".concat(i[a.NUMERICIDENTIFIER],"|").concat(i[a.NONNUMERICIDENTIFIER],")")),c("PRERELEASEIDENTIFIERLOOSE","(?:".concat(i[a.NUMERICIDENTIFIERLOOSE],"|").concat(i[a.NONNUMERICIDENTIFIER],")")),c("PRERELEASE","(?:-(".concat(i[a.PRERELEASEIDENTIFIER],"(?:\\.").concat(i[a.PRERELEASEIDENTIFIER],")*))")),c("PRERELEASELOOSE","(?:-?(".concat(i[a.PRERELEASEIDENTIFIERLOOSE],"(?:\\.").concat(i[a.PRERELEASEIDENTIFIERLOOSE],")*))")),c("BUILDIDENTIFIER","[0-9A-Za-z-]+"),c("BUILD","(?:\\+(".concat(i[a.BUILDIDENTIFIER],"(?:\\.").concat(i[a.BUILDIDENTIFIER],")*))")),c("FULLPLAIN","v?".concat(i[a.MAINVERSION]).concat(i[a.PRERELEASE],"?").concat(i[a.BUILD],"?")),c("FULL","^".concat(i[a.FULLPLAIN],"$")),c("LOOSEPLAIN","[v=\\s]*".concat(i[a.MAINVERSIONLOOSE]).concat(i[a.PRERELEASELOOSE],"?").concat(i[a.BUILD],"?")),c("LOOSE","^".concat(i[a.LOOSEPLAIN],"$")),c("GTLT","((?:<|>)?=?)"),c("XRANGEIDENTIFIERLOOSE","".concat(i[a.NUMERICIDENTIFIERLOOSE],"|x|X|\\*")),c("XRANGEIDENTIFIER","".concat(i[a.NUMERICIDENTIFIER],"|x|X|\\*")),c("XRANGEPLAIN","[v=\\s]*(".concat(i[a.XRANGEIDENTIFIER],")")+"(?:\\.(".concat(i[a.XRANGEIDENTIFIER],")")+"(?:\\.(".concat(i[a.XRANGEIDENTIFIER],")")+"(?:".concat(i[a.PRERELEASE],")?").concat(i[a.BUILD],"?")+")?)?"),c("XRANGEPLAINLOOSE","[v=\\s]*(".concat(i[a.XRANGEIDENTIFIERLOOSE],")")+"(?:\\.(".concat(i[a.XRANGEIDENTIFIERLOOSE],")")+"(?:\\.(".concat(i[a.XRANGEIDENTIFIERLOOSE],")")+"(?:".concat(i[a.PRERELEASELOOSE],")?").concat(i[a.BUILD],"?")+")?)?"),c("XRANGE","^".concat(i[a.GTLT],"\\s*").concat(i[a.XRANGEPLAIN],"$")),c("XRANGELOOSE","^".concat(i[a.GTLT],"\\s*").concat(i[a.XRANGEPLAINLOOSE],"$")),c("COERCE","".concat("(^|[^\\d])(\\d{1,").concat(n,"})")+"(?:\\.(\\d{1,".concat(n,"}))?")+"(?:\\.(\\d{1,".concat(n,"}))?")+"(?:$|[^\\d])"),c("COERCERTL",i[a.COERCE],!0),c("LONETILDE","(?:~>?)"),c("TILDETRIM","(\\s*)".concat(i[a.LONETILDE],"\\s+"),!0),t.tildeTrimReplace="$1~",c("TILDE","^".concat(i[a.LONETILDE]).concat(i[a.XRANGEPLAIN],"$")),c("TILDELOOSE","^".concat(i[a.LONETILDE]).concat(i[a.XRANGEPLAINLOOSE],"$")),c("LONECARET","(?:\\^)"),c("CARETTRIM","(\\s*)".concat(i[a.LONECARET],"\\s+"),!0),t.caretTrimReplace="$1^",c("CARET","^".concat(i[a.LONECARET]).concat(i[a.XRANGEPLAIN],"$")),c("CARETLOOSE","^".concat(i[a.LONECARET]).concat(i[a.XRANGEPLAINLOOSE],"$")),c("COMPARATORLOOSE","^".concat(i[a.GTLT],"\\s*(").concat(i[a.LOOSEPLAIN],")$|^$")),c("COMPARATOR","^".concat(i[a.GTLT],"\\s*(").concat(i[a.FULLPLAIN],")$|^$")),c("COMPARATORTRIM","(\\s*)".concat(i[a.GTLT],"\\s*(").concat(i[a.LOOSEPLAIN],"|").concat(i[a.XRANGEPLAIN],")"),!0),t.comparatorTrimReplace="$1$2$3",c("HYPHENRANGE","^\\s*(".concat(i[a.XRANGEPLAIN],")")+"\\s+-\\s+"+"(".concat(i[a.XRANGEPLAIN],")")+"\\s*$"),c("HYPHENRANGELOOSE","^\\s*(".concat(i[a.XRANGEPLAINLOOSE],")")+"\\s+-\\s+"+"(".concat(i[a.XRANGEPLAINLOOSE],")")+"\\s*$"),c("STAR","(<|>)?=?\\s*\\*"),c("GTE0","^\\s*>=\\s*0\\.0\\.0\\s*$"),c("GTE0PRE","^\\s*>=\\s*0\\.0\\.0-0\\s*$")}(le,le.exports);const de=/^[0-9]+$/,fe=(e,t)=>{const n=de.test(e),o=de.test(t);return n&&o&&(e=+e,t=+t),e===t?0:n&&!o?-1:o&&!n?1:e<t?-1:1};var ge={compareIdentifiers:fe,rcompareIdentifiers:(e,t)=>fe(t,e)};const ve=ue,{MAX_LENGTH:me,MAX_SAFE_INTEGER:Ee}=he,{re:be,t:ye}=le.exports,we=ce,{compareIdentifiers:Oe}=ge;class Ae{constructor(e,t){if(t=we(t),e instanceof Ae){if(e.loose===!!t.loose&&e.includePrerelease===!!t.includePrerelease)return e;e=e.version}else if("string"!=typeof e)throw new TypeError("Invalid Version: ".concat(e));if(e.length>me)throw new TypeError("version is longer than ".concat(me," characters"));ve("SemVer",e,t),this.options=t,this.loose=!!t.loose,this.includePrerelease=!!t.includePrerelease;const n=e.trim().match(t.loose?be[ye.LOOSE]:be[ye.FULL]);if(!n)throw new TypeError("Invalid Version: ".concat(e));if(this.raw=e,this.major=+n[1],this.minor=+n[2],this.patch=+n[3],this.major>Ee||this.major<0)throw new TypeError("Invalid major version");if(this.minor>Ee||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>Ee||this.patch<0)throw new TypeError("Invalid patch version");n[4]?this.prerelease=n[4].split(".").map((e=>{if(/^[0-9]+$/.test(e)){const t=+e;if(t>=0&&t<Ee)return t}return e})):this.prerelease=[],this.build=n[5]?n[5].split("."):[],this.format()}format(){return this.version="".concat(this.major,".").concat(this.minor,".").concat(this.patch),this.prerelease.length&&(this.version+="-".concat(this.prerelease.join("."))),this.version}toString(){return this.version}compare(e){if(ve("SemVer.compare",this.version,this.options,e),!(e instanceof Ae)){if("string"==typeof e&&e===this.version)return 0;e=new Ae(e,this.options)}return e.version===this.version?0:this.compareMain(e)||this.comparePre(e)}compareMain(e){return e instanceof Ae||(e=new Ae(e,this.options)),Oe(this.major,e.major)||Oe(this.minor,e.minor)||Oe(this.patch,e.patch)}comparePre(e){if(e instanceof Ae||(e=new Ae(e,this.options)),this.prerelease.length&&!e.prerelease.length)return-1;if(!this.prerelease.length&&e.prerelease.length)return 1;if(!this.prerelease.length&&!e.prerelease.length)return 0;let t=0;do{const n=this.prerelease[t],o=e.prerelease[t];if(ve("prerelease compare",t,n,o),void 0===n&&void 0===o)return 0;if(void 0===o)return 1;if(void 0===n)return-1;if(n!==o)return Oe(n,o)}while(++t)}compareBuild(e){e instanceof Ae||(e=new Ae(e,this.options));let t=0;do{const n=this.build[t],o=e.build[t];if(ve("prerelease compare",t,n,o),void 0===n&&void 0===o)return 0;if(void 0===o)return 1;if(void 0===n)return-1;if(n!==o)return Oe(n,o)}while(++t)}inc(e,t){switch(e){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",t);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",t);break;case"prepatch":this.prerelease.length=0,this.inc("patch",t),this.inc("pre",t);break;case"prerelease":0===this.prerelease.length&&this.inc("patch",t),this.inc("pre",t);break;case"major":0===this.minor&&0===this.patch&&0!==this.prerelease.length||this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":0===this.patch&&0!==this.prerelease.length||this.minor++,this.patch=0,this.prerelease=[];break;case"patch":0===this.prerelease.length&&this.patch++,this.prerelease=[];break;case"pre":if(0===this.prerelease.length)this.prerelease=[0];else{let e=this.prerelease.length;for(;--e>=0;)"number"==typeof this.prerelease[e]&&(this.prerelease[e]++,e=-2);-1===e&&this.prerelease.push(0)}t&&(0===Oe(this.prerelease[0],t)?isNaN(this.prerelease[1])&&(this.prerelease=[t,0]):this.prerelease=[t,0]);break;default:throw new Error("invalid increment argument: ".concat(e))}return this.format(),this.raw=this.version,this}}var xe=Ae;const Ie=xe;var Ne=(e,t,n)=>new Ie(e,n).compare(new Ie(t,n));const Re=Ne;const Te=Ne;const Le=Ne;const Se=Ne;const De=Ne;const Ce=Ne;const Fe=(e,t,n)=>0===Re(e,t,n),ke=(e,t,n)=>0!==Te(e,t,n),Pe=(e,t,n)=>Le(e,t,n)>0,_e=(e,t,n)=>Se(e,t,n)>=0,Me=(e,t,n)=>De(e,t,n)<0,je=(e,t,n)=>Ce(e,t,n)<=0;var ze,Ue,Be,Ge,Xe=(e,t,n,o)=>{switch(t){case"===":return"object"==typeof e&&(e=e.version),"object"==typeof n&&(n=n.version),e===n;case"!==":return"object"==typeof e&&(e=e.version),"object"==typeof n&&(n=n.version),e!==n;case"":case"=":case"==":return Fe(e,n,o);case"!=":return ke(e,n,o);case">":return Pe(e,n,o);case">=":return _e(e,n,o);case"<":return Me(e,n,o);case"<=":return je(e,n,o);default:throw new TypeError("Invalid operator: ".concat(t))}};function Ve(){if(Ge)return Be;Ge=1;class e{constructor(t,r){if(r=n(r),t instanceof e)return t.loose===!!r.loose&&t.includePrerelease===!!r.includePrerelease?t:new e(t.raw,r);if(t instanceof o)return this.raw=t.value,this.set=[[t]],this.format(),this;if(this.options=r,this.loose=!!r.loose,this.includePrerelease=!!r.includePrerelease,this.raw=t,this.set=t.split("||").map((e=>this.parseRange(e.trim()))).filter((e=>e.length)),!this.set.length)throw new TypeError("Invalid SemVer Range: ".concat(t));if(this.set.length>1){const e=this.set[0];if(this.set=this.set.filter((e=>!p(e[0]))),0===this.set.length)this.set=[e];else if(this.set.length>1)for(const e of this.set)if(1===e.length&&u(e[0])){this.set=[e];break}}this.format()}format(){return this.range=this.set.map((e=>e.join(" ").trim())).join("||").trim(),this.range}toString(){return this.range}parseRange(e){e=e.trim();const n=Object.keys(this.options).join(","),i="parseRange:".concat(n,":").concat(e),u=t.get(i);if(u)return u;const d=this.options.loose,g=d?a[s.HYPHENRANGELOOSE]:a[s.HYPHENRANGE];e=e.replace(g,x(this.options.includePrerelease)),r("hyphen replace",e),e=e.replace(a[s.COMPARATORTRIM],c),r("comparator trim",e);let v=(e=(e=(e=e.replace(a[s.TILDETRIM],l)).replace(a[s.CARETTRIM],h)).split(/\s+/).join(" ")).split(" ").map((e=>f(e,this.options))).join(" ").split(/\s+/).map((e=>A(e,this.options)));d&&(v=v.filter((e=>(r("loose invalid filter",e,this.options),!!e.match(a[s.COMPARATORLOOSE]))))),r("range list",v);const m=new Map,E=v.map((e=>new o(e,this.options)));for(const e of E){if(p(e))return[e];m.set(e.value,e)}m.size>1&&m.has("")&&m.delete("");const b=[...m.values()];return t.set(i,b),b}intersects(t,n){if(!(t instanceof e))throw new TypeError("a Range is required");return this.set.some((e=>d(e,n)&&t.set.some((t=>d(t,n)&&e.every((e=>t.every((t=>e.intersects(t,n)))))))))}test(e){if(!e)return!1;if("string"==typeof e)try{e=new i(e,this.options)}catch(e){return!1}for(let t=0;t<this.set.length;t++)if(I(this.set[t],e,this.options))return!0;return!1}}Be=e;const t=new ae({max:1e3}),n=ce,o=function(){if(Ue)return ze;Ue=1;const e=Symbol("SemVer ANY");class t{static get ANY(){return e}constructor(o,r){if(r=n(r),o instanceof t){if(o.loose===!!r.loose)return o;o=o.value}a("comparator",o,r),this.options=r,this.loose=!!r.loose,this.parse(o),this.semver===e?this.value="":this.value=this.operator+this.semver.version,a("comp",this)}parse(t){const n=this.options.loose?o[r.COMPARATORLOOSE]:o[r.COMPARATOR],i=t.match(n);if(!i)throw new TypeError("Invalid comparator: ".concat(t));this.operator=void 0!==i[1]?i[1]:"","="===this.operator&&(this.operator=""),i[2]?this.semver=new s(i[2],this.options.loose):this.semver=e}toString(){return this.value}test(t){if(a("Comparator.test",t,this.options.loose),this.semver===e||t===e)return!0;if("string"==typeof t)try{t=new s(t,this.options)}catch(e){return!1}return i(t,this.operator,this.semver,this.options)}intersects(e,n){if(!(e instanceof t))throw new TypeError("a Comparator is required");if(n&&"object"==typeof n||(n={loose:!!n,includePrerelease:!1}),""===this.operator)return""===this.value||new c(e.value,n).test(this.value);if(""===e.operator)return""===e.value||new c(this.value,n).test(e.semver);const o=!(">="!==this.operator&&">"!==this.operator||">="!==e.operator&&">"!==e.operator),r=!("<="!==this.operator&&"<"!==this.operator||"<="!==e.operator&&"<"!==e.operator),a=this.semver.version===e.semver.version,s=!(">="!==this.operator&&"<="!==this.operator||">="!==e.operator&&"<="!==e.operator),l=i(this.semver,"<",e.semver,n)&&(">="===this.operator||">"===this.operator)&&("<="===e.operator||"<"===e.operator),h=i(this.semver,">",e.semver,n)&&("<="===this.operator||"<"===this.operator)&&(">="===e.operator||">"===e.operator);return o||r||a&&s||l||h}}ze=t;const n=ce,{re:o,t:r}=le.exports,i=Xe,a=ue,s=xe,c=Ve();return ze}(),r=ue,i=xe,{re:a,t:s,comparatorTrimReplace:c,tildeTrimReplace:l,caretTrimReplace:h}=le.exports,p=e=>"<0.0.0-0"===e.value,u=e=>""===e.value,d=(e,t)=>{let n=!0;const o=e.slice();let r=o.pop();for(;n&&o.length;)n=o.every((e=>r.intersects(e,t))),r=o.pop();return n},f=(e,t)=>(r("comp",e,t),e=E(e,t),r("caret",e),e=v(e,t),r("tildes",e),e=y(e,t),r("xrange",e),e=O(e,t),r("stars",e),e),g=e=>!e||"x"===e.toLowerCase()||"*"===e,v=(e,t)=>e.trim().split(/\s+/).map((e=>m(e,t))).join(" "),m=(e,t)=>{const n=t.loose?a[s.TILDELOOSE]:a[s.TILDE];return e.replace(n,((t,n,o,i,a)=>{let s;return r("tilde",e,t,n,o,i,a),g(n)?s="":g(o)?s=">=".concat(n,".0.0 <").concat(+n+1,".0.0-0"):g(i)?s=">=".concat(n,".").concat(o,".0 <").concat(n,".").concat(+o+1,".0-0"):a?(r("replaceTilde pr",a),s=">=".concat(n,".").concat(o,".").concat(i,"-").concat(a," <").concat(n,".").concat(+o+1,".0-0")):s=">=".concat(n,".").concat(o,".").concat(i," <").concat(n,".").concat(+o+1,".0-0"),r("tilde return",s),s}))},E=(e,t)=>e.trim().split(/\s+/).map((e=>b(e,t))).join(" "),b=(e,t)=>{r("caret",e,t);const n=t.loose?a[s.CARETLOOSE]:a[s.CARET],o=t.includePrerelease?"-0":"";return e.replace(n,((t,n,i,a,s)=>{let c;return r("caret",e,t,n,i,a,s),g(n)?c="":g(i)?c=">=".concat(n,".0.0").concat(o," <").concat(+n+1,".0.0-0"):g(a)?c="0"===n?">=".concat(n,".").concat(i,".0").concat(o," <").concat(n,".").concat(+i+1,".0-0"):">=".concat(n,".").concat(i,".0").concat(o," <").concat(+n+1,".0.0-0"):s?(r("replaceCaret pr",s),c="0"===n?"0"===i?">=".concat(n,".").concat(i,".").concat(a,"-").concat(s," <").concat(n,".").concat(i,".").concat(+a+1,"-0"):">=".concat(n,".").concat(i,".").concat(a,"-").concat(s," <").concat(n,".").concat(+i+1,".0-0"):">=".concat(n,".").concat(i,".").concat(a,"-").concat(s," <").concat(+n+1,".0.0-0")):(r("no pr"),c="0"===n?"0"===i?">=".concat(n,".").concat(i,".").concat(a).concat(o," <").concat(n,".").concat(i,".").concat(+a+1,"-0"):">=".concat(n,".").concat(i,".").concat(a).concat(o," <").concat(n,".").concat(+i+1,".0-0"):">=".concat(n,".").concat(i,".").concat(a," <").concat(+n+1,".0.0-0")),r("caret return",c),c}))},y=(e,t)=>(r("replaceXRanges",e,t),e.split(/\s+/).map((e=>w(e,t))).join(" ")),w=(e,t)=>{e=e.trim();const n=t.loose?a[s.XRANGELOOSE]:a[s.XRANGE];return e.replace(n,((n,o,i,a,s,c)=>{r("xRange",e,n,o,i,a,s,c);const l=g(i),h=l||g(a),p=h||g(s),u=p;return"="===o&&u&&(o=""),c=t.includePrerelease?"-0":"",l?n=">"===o||"<"===o?"<0.0.0-0":"*":o&&u?(h&&(a=0),s=0,">"===o?(o=">=",h?(i=+i+1,a=0,s=0):(a=+a+1,s=0)):"<="===o&&(o="<",h?i=+i+1:a=+a+1),"<"===o&&(c="-0"),n="".concat(o+i,".").concat(a,".").concat(s).concat(c)):h?n=">=".concat(i,".0.0").concat(c," <").concat(+i+1,".0.0-0"):p&&(n=">=".concat(i,".").concat(a,".0").concat(c," <").concat(i,".").concat(+a+1,".0-0")),r("xRange return",n),n}))},O=(e,t)=>(r("replaceStars",e,t),e.trim().replace(a[s.STAR],"")),A=(e,t)=>(r("replaceGTE0",e,t),e.trim().replace(a[t.includePrerelease?s.GTE0PRE:s.GTE0],"")),x=e=>(t,n,o,r,i,a,s,c,l,h,p,u,d)=>(n=g(o)?"":g(r)?">=".concat(o,".0.0").concat(e?"-0":""):g(i)?">=".concat(o,".").concat(r,".0").concat(e?"-0":""):a?">=".concat(n):">=".concat(n).concat(e?"-0":""),c=g(l)?"":g(h)?"<".concat(+l+1,".0.0-0"):g(p)?"<".concat(l,".").concat(+h+1,".0-0"):u?"<=".concat(l,".").concat(h,".").concat(p,"-").concat(u):e?"<".concat(l,".").concat(h,".").concat(+p+1,"-0"):"<=".concat(c),"".concat(n," ").concat(c).trim()),I=(e,t,n)=>{for(let n=0;n<e.length;n++)if(!e[n].test(t))return!1;if(t.prerelease.length&&!n.includePrerelease){for(let n=0;n<e.length;n++)if(r(e[n].semver),e[n].semver!==o.ANY&&e[n].semver.prerelease.length>0){const o=e[n].semver;if(o.major===t.major&&o.minor===t.minor&&o.patch===t.patch)return!0}return!1}return!0};return Be}const We=Ve();var He=(e,t,n)=>{try{t=new We(t,n)}catch(e){return!1}return t.test(e)};var $e={NaN:NaN,E:Math.E,LN2:Math.LN2,LN10:Math.LN10,LOG2E:Math.LOG2E,LOG10E:Math.LOG10E,PI:Math.PI,SQRT1_2:Math.SQRT1_2,SQRT2:Math.SQRT2,MIN_VALUE:Number.MIN_VALUE,MAX_VALUE:Number.MAX_VALUE},qe={"*":(e,t)=>e*t,"+":(e,t)=>e+t,"-":(e,t)=>e-t,"/":(e,t)=>e/t,"%":(e,t)=>e%t,">":(e,t)=>e>t,"<":(e,t)=>e<t,"<=":(e,t)=>e<=t,">=":(e,t)=>e>=t,"==":(e,t)=>e==t,"!=":(e,t)=>e!=t,"===":(e,t)=>e===t,"!==":(e,t)=>e!==t,"&":(e,t)=>e&t,"|":(e,t)=>e|t,"^":(e,t)=>e^t,"<<":(e,t)=>e<<t,">>":(e,t)=>e>>t,">>>":(e,t)=>e>>>t},Ye={"+":e=>+e,"-":e=>-e,"~":e=>~e,"!":e=>!e};const Je=Array.prototype.slice,Qe=(e,t,n)=>{const o=n?n(t[0]):t[0];return o[e].apply(o,Je.call(t,1))};var Ze={isNaN:Number.isNaN,isFinite:Number.isFinite,abs:Math.abs,acos:Math.acos,asin:Math.asin,atan:Math.atan,atan2:Math.atan2,ceil:Math.ceil,cos:Math.cos,exp:Math.exp,floor:Math.floor,log:Math.log,max:Math.max,min:Math.min,pow:Math.pow,random:Math.random,round:Math.round,sin:Math.sin,sqrt:Math.sqrt,tan:Math.tan,clamp:(e,t,n)=>Math.max(t,Math.min(n,e)),now:Date.now,utc:Date.UTC,datetime:(e,t,n,o,r,i,a)=>new Date(e,t||0,null!=n?n:1,o||0,r||0,i||0,a||0),date:e=>new Date(e).getDate(),day:e=>new Date(e).getDay(),year:e=>new Date(e).getFullYear(),month:e=>new Date(e).getMonth(),hours:e=>new Date(e).getHours(),minutes:e=>new Date(e).getMinutes(),seconds:e=>new Date(e).getSeconds(),milliseconds:e=>new Date(e).getMilliseconds(),time:e=>new Date(e).getTime(),timezoneoffset:e=>new Date(e).getTimezoneOffset(),utcdate:e=>new Date(e).getUTCDate(),utcday:e=>new Date(e).getUTCDay(),utcyear:e=>new Date(e).getUTCFullYear(),utcmonth:e=>new Date(e).getUTCMonth(),utchours:e=>new Date(e).getUTCHours(),utcminutes:e=>new Date(e).getUTCMinutes(),utcseconds:e=>new Date(e).getUTCSeconds(),utcmilliseconds:e=>new Date(e).getUTCMilliseconds(),length:e=>e.length,join:function(){return Qe("join",arguments)},indexof:function(){return Qe("indexOf",arguments)},lastindexof:function(){return Qe("lastIndexOf",arguments)},slice:function(){return Qe("slice",arguments)},reverse:e=>e.slice().reverse(),parseFloat:parseFloat,parseInt:parseInt,upper:e=>String(e).toUpperCase(),lower:e=>String(e).toLowerCase(),substring:function(){return Qe("substring",arguments,String)},split:function(){return Qe("split",arguments,String)},replace:function(){return Qe("replace",arguments,String)},trim:e=>String(e).trim(),regexp:RegExp,test:(e,t)=>RegExp(e).test(t)};const Ke=["view","item","group","xy","x","y"],et={Literal:(e,t)=>t.value,Identifier:(e,t)=>{const n=t.name;return e.memberDepth>0?n:"datum"===n?e.datum:"event"===n?e.event:"item"===n?e.item:$e[n]||e.params["$"+n]},MemberExpression:(e,t)=>{const n=!t.computed,o=e(t.object);n&&(e.memberDepth+=1);const r=e(t.property);return n&&(e.memberDepth-=1),o[r]},CallExpression:(e,t)=>{const n=t.arguments;let o=t.callee.name;return o.startsWith("_")&&(o=o.slice(1)),"if"===o?e(n[0])?e(n[1]):e(n[2]):(e.fn[o]||Ze[o]).apply(e.fn,n.map(e))},ArrayExpression:(e,t)=>t.elements.map(e),BinaryExpression:(e,t)=>qe[t.operator](e(t.left),e(t.right)),UnaryExpression:(e,t)=>Ye[t.operator](e(t.argument)),ConditionalExpression:(e,t)=>e(t.test)?e(t.consequent):e(t.alternate),LogicalExpression:(e,t)=>"&&"===t.operator?e(t.left)&&e(t.right):e(t.left)||e(t.right),ObjectExpression:(e,t)=>t.properties.reduce(((t,n)=>{e.memberDepth+=1;const o=e(n.key);return e.memberDepth-=1,t[o]=e(n.value),t}),{})};function tt(e,t,n,o,r,i){const a=e=>et[e.type](a,e);return a.memberDepth=0,a.fn=Object.create(t),a.params=n,a.datum=o,a.event=r,a.item=i,Ke.forEach((e=>a.fn[e]=function(){return r.vega[e](...arguments)})),a(e)}var nt={operator(e,t){const n=t.ast,o=e.functions;return e=>tt(n,o,e)},parameter(e,t){const n=t.ast,o=e.functions;return(e,t)=>tt(n,o,t,e)},event(e,t){const n=t.ast,o=e.functions;return e=>tt(n,o,void 0,void 0,e)},handler(e,t){const n=t.ast,o=e.functions;return(e,t)=>{const r=t.item&&t.item.datum;return tt(n,o,e,r,t)}},encode(e,t){const{marktype:n,channels:o}=t,r=e.functions,i="group"===n||"image"===n||"rect"===n;return(e,t)=>{const a=e.datum;let s,c=0;for(const n in o)s=tt(o[n].ast,r,t,a,void 0,e),e[n]!==s&&(e[n]=s,c=1);return"rule"!==n&&function(e,t,n){let o;t.x2&&(t.x?(n&&e.x>e.x2&&(o=e.x,e.x=e.x2,e.x2=o),e.width=e.x2-e.x):e.x=e.x2-(e.width||0)),t.xc&&(e.x=e.xc-(e.width||0)/2),t.y2&&(t.y?(n&&e.y>e.y2&&(o=e.y,e.y=e.y2,e.y2=o),e.height=e.y2-e.y):e.y=e.y2-(e.height||0)),t.yc&&(e.y=e.yc-(e.height||0)/2)}(e,o,i),c}}};function ot(e){const[t,n]=/schema\/([\w-]+)\/([\w\.\-]+)\.json$/g.exec(e).slice(1,3);return{library:t,version:n}}const rt="#fff",it={background:"#333",title:{color:rt,subtitleColor:rt},style:{"guide-label":{fill:rt},"guide-title":{fill:rt}},axis:{domainColor:rt,gridColor:"#888",tickColor:rt}},at="#4572a7",st={background:"#fff",arc:{fill:at},area:{fill:at},line:{stroke:at,strokeWidth:2},path:{stroke:at},rect:{fill:at},shape:{stroke:at},symbol:{fill:at,strokeWidth:1.5,size:50},axis:{bandPosition:.5,grid:!0,gridColor:"#000000",gridOpacity:1,gridWidth:.5,labelPadding:10,tickSize:5,tickWidth:.5},axisBand:{grid:!1,tickExtra:!0},legend:{labelBaseline:"middle",labelFontSize:11,symbolSize:50,symbolType:"square"},range:{category:["#4572a7","#aa4643","#8aa453","#71598e","#4598ae","#d98445","#94aace","#d09393","#b9cc98","#a99cbc"]}},ct="#30a2da",lt="#cbcbcb",ht="#f0f0f0",pt="#333",ut={arc:{fill:ct},area:{fill:ct},axis:{domainColor:lt,grid:!0,gridColor:lt,gridWidth:1,labelColor:"#999",labelFontSize:10,titleColor:"#333",tickColor:lt,tickSize:10,titleFontSize:14,titlePadding:10,labelPadding:4},axisBand:{grid:!1},background:ht,group:{fill:ht},legend:{labelColor:pt,labelFontSize:11,padding:1,symbolSize:30,symbolType:"square",titleColor:pt,titleFontSize:14,titlePadding:10},line:{stroke:ct,strokeWidth:2},path:{stroke:ct,strokeWidth:.5},rect:{fill:ct},range:{category:["#30a2da","#fc4f30","#e5ae38","#6d904f","#8b8b8b","#b96db8","#ff9e27","#56cc60","#52d2ca","#52689e","#545454","#9fe4f8"],diverging:["#cc0020","#e77866","#f6e7e1","#d6e8ed","#91bfd9","#1d78b5"],heatmap:["#d6e8ed","#cee0e5","#91bfd9","#549cc6","#1d78b5"]},point:{filled:!0,shape:"circle"},shape:{stroke:ct},bar:{binSpacing:2,fill:ct,stroke:null},title:{anchor:"start",fontSize:24,fontWeight:600,offset:20}},dt="#000",ft={group:{fill:"#e5e5e5"},arc:{fill:dt},area:{fill:dt},line:{stroke:dt},path:{stroke:dt},rect:{fill:dt},shape:{stroke:dt},symbol:{fill:dt,size:40},axis:{domain:!1,grid:!0,gridColor:"#FFFFFF",gridOpacity:1,labelColor:"#7F7F7F",labelPadding:4,tickColor:"#7F7F7F",tickSize:5.67,titleFontSize:16,titleFontWeight:"normal"},legend:{labelBaseline:"middle",labelFontSize:11,symbolSize:40},range:{category:["#000000","#7F7F7F","#1A1A1A","#999999","#333333","#B0B0B0","#4D4D4D","#C9C9C9","#666666","#DCDCDC"]}},gt="Benton Gothic, sans-serif",vt="#82c6df",mt="Benton Gothic Bold, sans-serif",Et="normal",bt={"category-6":["#ec8431","#829eb1","#c89d29","#3580b1","#adc839","#ab7fb4"],"fire-7":["#fbf2c7","#f9e39c","#f8d36e","#f4bb6a","#e68a4f","#d15a40","#ab4232"],"fireandice-6":["#e68a4f","#f4bb6a","#f9e39c","#dadfe2","#a6b7c6","#849eae"],"ice-7":["#edefee","#dadfe2","#c4ccd2","#a6b7c6","#849eae","#607785","#47525d"]},yt={background:"#ffffff",title:{anchor:"start",color:"#000000",font:mt,fontSize:22,fontWeight:"normal"},arc:{fill:vt},area:{fill:vt},line:{stroke:vt,strokeWidth:2},path:{stroke:vt},rect:{fill:vt},shape:{stroke:vt},symbol:{fill:vt,size:30},axis:{labelFont:gt,labelFontSize:11.5,labelFontWeight:"normal",titleFont:mt,titleFontSize:13,titleFontWeight:Et},axisX:{labelAngle:0,labelPadding:4,tickSize:3},axisY:{labelBaseline:"middle",maxExtent:45,minExtent:45,tickSize:2,titleAlign:"left",titleAngle:0,titleX:-45,titleY:-11},legend:{labelFont:gt,labelFontSize:11.5,symbolType:"square",titleFont:mt,titleFontSize:13,titleFontWeight:Et},range:{category:bt["category-6"],diverging:bt["fireandice-6"],heatmap:bt["fire-7"],ordinal:bt["fire-7"],ramp:bt["fire-7"]}},wt="#ab5787",Ot="#979797",At={background:"#f9f9f9",arc:{fill:wt},area:{fill:wt},line:{stroke:wt},path:{stroke:wt},rect:{fill:wt},shape:{stroke:wt},symbol:{fill:wt,size:30},axis:{domainColor:Ot,domainWidth:.5,gridWidth:.2,labelColor:Ot,tickColor:Ot,tickWidth:.2,titleColor:Ot},axisBand:{grid:!1},axisX:{grid:!0,tickSize:10},axisY:{domain:!1,grid:!0,tickSize:0},legend:{labelFontSize:11,padding:1,symbolSize:30,symbolType:"square"},range:{category:["#ab5787","#51b2e5","#703c5c","#168dd9","#d190b6","#00609f","#d365ba","#154866","#666666","#c4c4c4"]}},xt="#3e5c69",It={background:"#fff",arc:{fill:xt},area:{fill:xt},line:{stroke:xt},path:{stroke:xt},rect:{fill:xt},shape:{stroke:xt},symbol:{fill:xt},axis:{domainWidth:.5,grid:!0,labelPadding:2,tickSize:5,tickWidth:.5,titleFontWeight:"normal"},axisBand:{grid:!1},axisX:{gridWidth:.2},axisY:{gridDash:[3],gridWidth:.4},legend:{labelFontSize:11,padding:1,symbolType:"square"},range:{category:["#3e5c69","#6793a6","#182429","#0570b0","#3690c0","#74a9cf","#a6bddb","#e2ddf2"]}},Nt="#1696d2",Rt="#000000",Tt="Lato",Lt="Lato",St={"main-colors":["#1696d2","#d2d2d2","#000000","#fdbf11","#ec008b","#55b748","#5c5859","#db2b27"],"shades-blue":["#CFE8F3","#A2D4EC","#73BFE2","#46ABDB","#1696D2","#12719E","#0A4C6A","#062635"],"shades-gray":["#F5F5F5","#ECECEC","#E3E3E3","#DCDBDB","#D2D2D2","#9D9D9D","#696969","#353535"],"shades-yellow":["#FFF2CF","#FCE39E","#FDD870","#FCCB41","#FDBF11","#E88E2D","#CA5800","#843215"],"shades-magenta":["#F5CBDF","#EB99C2","#E46AA7","#E54096","#EC008B","#AF1F6B","#761548","#351123"],"shades-green":["#DCEDD9","#BCDEB4","#98CF90","#78C26D","#55B748","#408941","#2C5C2D","#1A2E19"],"shades-black":["#D5D5D4","#ADABAC","#848081","#5C5859","#332D2F","#262223","#1A1717","#0E0C0D"],"shades-red":["#F8D5D4","#F1AAA9","#E9807D","#E25552","#DB2B27","#A4201D","#6E1614","#370B0A"],"one-group":["#1696d2","#000000"],"two-groups-cat-1":["#1696d2","#000000"],"two-groups-cat-2":["#1696d2","#fdbf11"],"two-groups-cat-3":["#1696d2","#db2b27"],"two-groups-seq":["#a2d4ec","#1696d2"],"three-groups-cat":["#1696d2","#fdbf11","#000000"],"three-groups-seq":["#a2d4ec","#1696d2","#0a4c6a"],"four-groups-cat-1":["#000000","#d2d2d2","#fdbf11","#1696d2"],"four-groups-cat-2":["#1696d2","#ec0008b","#fdbf11","#5c5859"],"four-groups-seq":["#cfe8f3","#73bf42","#1696d2","#0a4c6a"],"five-groups-cat-1":["#1696d2","#fdbf11","#d2d2d2","#ec008b","#000000"],"five-groups-cat-2":["#1696d2","#0a4c6a","#d2d2d2","#fdbf11","#332d2f"],"five-groups-seq":["#cfe8f3","#73bf42","#1696d2","#0a4c6a","#000000"],"six-groups-cat-1":["#1696d2","#ec008b","#fdbf11","#000000","#d2d2d2","#55b748"],"six-groups-cat-2":["#1696d2","#d2d2d2","#ec008b","#fdbf11","#332d2f","#0a4c6a"],"six-groups-seq":["#cfe8f3","#a2d4ec","#73bfe2","#46abdb","#1696d2","#12719e"],"diverging-colors":["#ca5800","#fdbf11","#fdd870","#fff2cf","#cfe8f3","#73bfe2","#1696d2","#0a4c6a"]},Dt={background:"#FFFFFF",title:{anchor:"start",fontSize:18,font:Tt},axisX:{domain:!0,domainColor:Rt,domainWidth:1,grid:!1,labelFontSize:12,labelFont:Lt,labelAngle:0,tickColor:Rt,tickSize:5,titleFontSize:12,titlePadding:10,titleFont:Tt},axisY:{domain:!1,domainWidth:1,grid:!0,gridColor:"#DEDDDD",gridWidth:1,labelFontSize:12,labelFont:Lt,labelPadding:8,ticks:!1,titleFontSize:12,titlePadding:10,titleFont:Tt,titleAngle:0,titleY:-10,titleX:18},legend:{labelFontSize:12,labelFont:Lt,symbolSize:100,titleFontSize:12,titlePadding:10,titleFont:Tt,orient:"right",offset:10},view:{stroke:"transparent"},range:{category:St["six-groups-cat-1"],diverging:St["diverging-colors"],heatmap:St["diverging-colors"],ordinal:St["six-groups-seq"],ramp:St["shades-blue"]},area:{fill:Nt},rect:{fill:Nt},line:{color:Nt,stroke:Nt,strokeWidth:5},trail:{color:Nt,stroke:Nt,strokeWidth:0,size:1},path:{stroke:Nt,strokeWidth:.5},point:{filled:!0},text:{font:"Lato",color:Nt,fontSize:11,align:"center",fontWeight:400,size:11},style:{bar:{fill:Nt,stroke:null}},arc:{fill:Nt},shape:{stroke:Nt},symbol:{fill:Nt,size:30}},Ct="#3366CC",Ft="#ccc",kt="Arial, sans-serif",Pt={arc:{fill:Ct},area:{fill:Ct},path:{stroke:Ct},rect:{fill:Ct},shape:{stroke:Ct},symbol:{stroke:Ct},circle:{fill:Ct},background:"#fff",padding:{top:10,right:10,bottom:10,left:10},style:{"guide-label":{font:kt,fontSize:12},"guide-title":{font:kt,fontSize:12},"group-title":{font:kt,fontSize:12}},title:{font:kt,fontSize:14,fontWeight:"bold",dy:-3,anchor:"start"},axis:{gridColor:Ft,tickColor:Ft,domain:!1,grid:!0},range:{category:["#4285F4","#DB4437","#F4B400","#0F9D58","#AB47BC","#00ACC1","#FF7043","#9E9D24","#5C6BC0","#F06292","#00796B","#C2185B"],heatmap:["#c6dafc","#5e97f6","#2a56c6"]}},_t="2.10.0";var Mt=Object.freeze({__proto__:null,dark:it,excel:st,fivethirtyeight:ut,ggplot2:ft,googlecharts:Pt,latimes:yt,quartz:At,urbaninstitute:Dt,version:_t,vox:It});function jt(e,t,n){return e.fields=t||[],e.fname=n,e}function zt(e){return 1===e.length?Ut(e[0]):Bt(e)}const Ut=e=>function(t){return t[e]},Bt=e=>{const t=e.length;return function(n){for(let o=0;o<t;++o)n=n[e[o]];return n}};function Gt(e){throw Error(e)}!function(e,t,n){const o=function(e){const t=[],n=e.length;let o,r,i,a=null,s=0,c="";function l(){t.push(c+e.substring(o,r)),c="",o=r+1}for(e+="",o=r=0;r<n;++r)if(i=e[r],"\\"===i)c+=e.substring(o,r),c+=e.substring(++r,++r),o=r;else if(i===a)l(),a=null,s=-1;else{if(a)continue;o===s&&'"'===i||o===s&&"'"===i?(o=r+1,a=i):"."!==i||s?"["===i?(r>o&&l(),s=o=r+1):"]"===i&&(s||Gt("Access path missing open bracket: "+e),s>0&&l(),s=0,o=r+1):r>o?l():o=r+1}return s&&Gt("Access path missing closing bracket: "+e),a&&Gt("Access path missing closing quote: "+e),r>o&&(r++,l()),t}(e);e=1===o.length?o[0]:e,jt((n&&n.get||zt)(o),[e],t||e)}("id"),jt((e=>e),[],"identity"),jt((()=>0),[],"zero"),jt((()=>1),[],"one"),jt((()=>!0),[],"true"),jt((()=>!1),[],"false");var Xt=Array.isArray;function Vt(e){return e===Object(e)}function Wt(e,t){return JSON.stringify(e,function(e){const t=[];return function(n,o){if("object"!=typeof o||null===o)return o;const r=t.indexOf(this)+1;return t.length=r,t.length>e?"[Object]":t.indexOf(o)>=0?"[Circular]":(t.push(o),o)}}(t))}const Ht="vg-tooltip-element",$t={offsetX:10,offsetY:10,id:Ht,styleId:"vega-tooltip-style",theme:"light",disableDefaultStyle:!1,sanitize:function(e){return String(e).replace(/&/g,"&amp;").replace(/</g,"&lt;")},maxDepth:2,formatTooltip:function(e,t,n){if(Xt(e))return"[".concat(e.map((e=>t("string"==typeof e?e:Wt(e,n)))).join(", "),"]");if(Vt(e)){let o="";const r=e,{title:i,image:a}=r,s=
/*! *****************************************************************************
    Copyright (c) Microsoft Corporation.

    Permission to use, copy, modify, and/or distribute this software for any
    purpose with or without fee is hereby granted.

    THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
    REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
    AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
    INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
    LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
    OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
    PERFORMANCE OF THIS SOFTWARE.
    ***************************************************************************** */
function(e,t){var n={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(o=Object.getOwnPropertySymbols(e);r<o.length;r++)t.indexOf(o[r])<0&&Object.prototype.propertyIsEnumerable.call(e,o[r])&&(n[o[r]]=e[o[r]])}return n}(r,["title","image"]);i&&(o+="<h2>".concat(t(i),"</h2>")),a&&(o+='<img src="'.concat(t(a),'">'));const c=Object.keys(s);if(c.length>0){o+="<table class='table table-hover'>";for(const e of c){let r=s[e];void 0!==r&&(Vt(r)&&(r=Wt(r,n)),o+='<tr><td class="key">'.concat(t(e),':</td><td class="value">').concat(t(r),"</td></tr>"))}o+="</table>"}return o||"{}"}return t(e)}};class qt{constructor(e){this.options=Object.assign(Object.assign({},$t),e);const t=this.options.id;if(this.el=null,this.call=this.tooltipHandler.bind(this),!this.options.disableDefaultStyle&&!document.getElementById(this.options.styleId)){const e=document.createElement("style");e.setAttribute("id",this.options.styleId),e.innerHTML=function(e){if(!/^[A-Za-z]+[-:.\w]*$/.test(e))throw new Error("Invalid HTML ID");return"#vg-tooltip-element {\n  visibility: hidden;\n  padding: 8px;\n  position: fixed;\n  z-index: 1000;\n  font-family: sans-serif;\n  font-size: 11px;\n  border-radius: 3px;\n  box-shadow: 2px 2px 4px rgba(0, 0, 0, 0.1);\n  /* The default theme is the light theme. */\n  background-color: rgba(255, 255, 255, 0.95);\n  border: 1px solid #d9d9d9;\n  color: black;\n}\n#vg-tooltip-element.visible {\n  visibility: visible;\n}\n#vg-tooltip-element h2 {\n  margin-top: 0;\n  margin-bottom: 10px;\n  font-size: 13px;\n}\n#vg-tooltip-element img {\n  max-width: 200px;\n  max-height: 200px;\n}\n#vg-tooltip-element table {\n  border-spacing: 0;\n}\n#vg-tooltip-element table tr {\n  border: none;\n}\n#vg-tooltip-element table tr td {\n  overflow: hidden;\n  text-overflow: ellipsis;\n  padding-top: 2px;\n  padding-bottom: 2px;\n}\n#vg-tooltip-element table tr td.key {\n  color: #808080;\n  max-width: 150px;\n  text-align: right;\n  padding-right: 4px;\n}\n#vg-tooltip-element table tr td.value {\n  display: block;\n  max-width: 300px;\n  max-height: 7em;\n  text-align: left;\n}\n#vg-tooltip-element.dark-theme {\n  background-color: rgba(32, 32, 32, 0.9);\n  border: 1px solid #f5f5f5;\n  color: white;\n}\n#vg-tooltip-element.dark-theme td.key {\n  color: #bfbfbf;\n}\n".toString().replace(Ht,e)}(t);const n=document.head;n.childNodes.length>0?n.insertBefore(e,n.childNodes[0]):n.appendChild(e)}}tooltipHandler(e,t,n,o){var r;if(this.el=document.getElementById(this.options.id),!this.el){this.el=document.createElement("div"),this.el.setAttribute("id",this.options.id),this.el.classList.add("vg-tooltip");(null!==(r=document.fullscreenElement)&&void 0!==r?r:document.body).appendChild(this.el)}if(null==o||""===o)return void this.el.classList.remove("visible","".concat(this.options.theme,"-theme"));this.el.innerHTML=this.options.formatTooltip(o,this.options.sanitize,this.options.maxDepth),this.el.classList.add("visible","".concat(this.options.theme,"-theme"));const{x:i,y:a}=function(e,t,n,o){let r=e.clientX+n;r+t.width>window.innerWidth&&(r=+e.clientX-n-t.width);let i=e.clientY+o;return i+t.height>window.innerHeight&&(i=+e.clientY-o-t.height),{x:r,y:i}}(t,this.el.getBoundingClientRect(),this.options.offsetX,this.options.offsetY);this.el.setAttribute("style","top: ".concat(a,"px; left: ").concat(i,"px"))}}function Yt(e,t,n){const o=e.open(t),{origin:r}=new URL(t);let i=40;e.addEventListener("message",(function t(n){n.source===o&&(i=0,e.removeEventListener("message",t,!1))}),!1),setTimeout((function e(){i<=0||(o.postMessage(n,r),setTimeout(e,250),i-=1)}),250)}var Jt='.vega-embed {\n  position: relative;\n  display: inline-block;\n  box-sizing: border-box;\n}\n.vega-embed.has-actions {\n  padding-right: 38px;\n}\n.vega-embed details:not([open]) > :not(summary) {\n  display: none !important;\n}\n.vega-embed summary {\n  list-style: none;\n  position: absolute;\n  top: 0;\n  right: 0;\n  padding: 6px;\n  z-index: 1000;\n  background: white;\n  box-shadow: 1px 1px 3px rgba(0, 0, 0, 0.1);\n  color: #1b1e23;\n  border: 1px solid #aaa;\n  border-radius: 999px;\n  opacity: 0.2;\n  transition: opacity 0.4s ease-in;\n  cursor: pointer;\n  line-height: 0px;\n}\n.vega-embed summary::-webkit-details-marker {\n  display: none;\n}\n.vega-embed summary:active {\n  box-shadow: #aaa 0px 0px 0px 1px inset;\n}\n.vega-embed summary svg {\n  width: 14px;\n  height: 14px;\n}\n.vega-embed details[open] summary {\n  opacity: 0.7;\n}\n.vega-embed:hover summary, .vega-embed:focus-within summary {\n  opacity: 1 !important;\n  transition: opacity 0.2s ease;\n}\n.vega-embed .vega-actions {\n  position: absolute;\n  z-index: 1001;\n  top: 35px;\n  right: -9px;\n  display: flex;\n  flex-direction: column;\n  padding-bottom: 8px;\n  padding-top: 8px;\n  border-radius: 4px;\n  box-shadow: 0 2px 8px 0 rgba(0, 0, 0, 0.2);\n  border: 1px solid #d9d9d9;\n  background: white;\n  animation-duration: 0.15s;\n  animation-name: scale-in;\n  animation-timing-function: cubic-bezier(0.2, 0, 0.13, 1.5);\n  text-align: left;\n}\n.vega-embed .vega-actions a {\n  padding: 8px 16px;\n  font-family: sans-serif;\n  font-size: 14px;\n  font-weight: 600;\n  white-space: nowrap;\n  color: #434a56;\n  text-decoration: none;\n}\n.vega-embed .vega-actions a:hover, .vega-embed .vega-actions a:focus {\n  background-color: #f7f7f9;\n  color: black;\n}\n.vega-embed .vega-actions::before, .vega-embed .vega-actions::after {\n  content: "";\n  display: inline-block;\n  position: absolute;\n}\n.vega-embed .vega-actions::before {\n  left: auto;\n  right: 14px;\n  top: -16px;\n  border: 8px solid rgba(0, 0, 0, 0);\n  border-bottom-color: #d9d9d9;\n}\n.vega-embed .vega-actions::after {\n  left: auto;\n  right: 15px;\n  top: -14px;\n  border: 7px solid rgba(0, 0, 0, 0);\n  border-bottom-color: #fff;\n}\n.vega-embed .chart-wrapper.fit-x {\n  width: 100%;\n}\n.vega-embed .chart-wrapper.fit-y {\n  height: 100%;\n}\n\n.vega-embed-wrapper {\n  max-width: 100%;\n  overflow: auto;\n  padding-right: 14px;\n}\n\n@keyframes scale-in {\n  from {\n    opacity: 0;\n    transform: scale(0.6);\n  }\n  to {\n    opacity: 1;\n    transform: scale(1);\n  }\n}\n';function Qt(e){return e.startsWith("http://")||e.startsWith("https://")||e.startsWith("//")}function Zt(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),o=1;o<t;o++)n[o-1]=arguments[o];for(const t of n)Kt(e,t);return e}function Kt(t,n){for(const o of Object.keys(n))e.writeConfig(t,o,n[o],!0)}String.prototype.startsWith||(String.prototype.startsWith=function(e,t){return this.substr(!t||t<0?0:+t,e.length)===e});var en;const tn="6.21.0",nn=r;let on=i;const rn="undefined"!=typeof window?window:void 0;void 0===on&&null!=rn&&null!==(en=rn.vl)&&void 0!==en&&en.compile&&(on=rn.vl);const an={export:{svg:!0,png:!0},source:!0,compiled:!0,editor:!0},sn={CLICK_TO_VIEW_ACTIONS:"Click to view actions",COMPILED_ACTION:"View Compiled Vega",EDITOR_ACTION:"Open in Vega Editor",PNG_ACTION:"Save as PNG",SOURCE_ACTION:"View Source",SVG_ACTION:"Save as SVG"},cn={vega:"Vega","vega-lite":"Vega-Lite"},ln={vega:nn.version,"vega-lite":on?on.version:"not available"},hn={vega:e=>e,"vega-lite":(e,t)=>on.compile(e,{config:t}).spec},pn='\n<svg viewBox="0 0 16 16" fill="currentColor" stroke="none" stroke-width="1" stroke-linecap="round" stroke-linejoin="round">\n  <circle r="2" cy="8" cx="2"></circle>\n  <circle r="2" cy="8" cx="8"></circle>\n  <circle r="2" cy="8" cx="14"></circle>\n</svg>',un="chart-wrapper";function dn(e){return"function"==typeof e}function fn(e,t,n,o){const r="<html><head>".concat(t,'</head><body><pre><code class="json">'),i="</code></pre>".concat(n,"</body></html>"),a=window.open("");a.document.write(r+e+i),a.document.title="".concat(cn[o]," JSON Source")}function gn(e,t){if(e.$schema){const o=ot(e.$schema);var n;if(t&&t!==o.library)console.warn("The given visualization spec is written in ".concat(cn[o.library],", but mode argument sets ").concat(null!==(n=cn[t])&&void 0!==n?n:t,"."));const r=o.library;return He(ln[r],"^".concat(o.version.slice(1)))||console.warn("The input spec uses ".concat(cn[r]," ").concat(o.version,", but the current version of ").concat(cn[r]," is v").concat(ln[r],".")),r}return"mark"in e||"encoding"in e||"layer"in e||"hconcat"in e||"vconcat"in e||"facet"in e||"repeat"in e?"vega-lite":"marks"in e||"signals"in e||"scales"in e||"axes"in e?"vega":null!=t?t:"vega"}function vn(e){return(t=e)&&"load"in t?e:nn.loader(e);var t}function mn(t){var n,o;const r=null!==(n=null===(o=t.usermeta)||void 0===o?void 0:o.embedOptions)&&void 0!==n?n:{};return e.isString(r.defaultStyle)&&(r.defaultStyle=!1),r}async function En(t,n){var o,r;let i,a,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};e.isString(n)?(a=vn(s.loader),i=JSON.parse(await a.load(n))):i=n;const c=mn(i),l=c.loader;var h;a&&!l||(a=vn(null!==(h=s.loader)&&void 0!==h?h:l));const p=await bn(c,a),u=await bn(s,a),d={...Zt(u,p),config:e.mergeConfig(null!==(o=u.config)&&void 0!==o?o:{},null!==(r=p.config)&&void 0!==r?r:{})};return await wn(t,i,d,a)}async function bn(t,n){var o;const r=e.isString(t.config)?JSON.parse(await n.load(t.config)):null!==(o=t.config)&&void 0!==o?o:{},i=e.isString(t.patch)?JSON.parse(await n.load(t.patch)):t.patch;return{...t,...i?{patch:i}:{},...r?{config:r}:{}}}function yn(e){var t;const n=e.getRootNode?e.getRootNode():document;return n instanceof ShadowRoot?{root:n,rootContainer:n}:{root:document,rootContainer:null!==(t=document.head)&&void 0!==t?t:document.body}}async function wn(t,n){var o,r,i,a,s,c,l;let h=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},p=arguments.length>3?arguments[3]:void 0;const u=h.theme?e.mergeConfig(Mt[h.theme],null!==(o=h.config)&&void 0!==o?o:{}):h.config,d=e.isBoolean(h.actions)?h.actions:Zt({},an,null!==(r=h.actions)&&void 0!==r?r:{}),f={...sn,...h.i18n},g=null!==(i=h.renderer)&&void 0!==i?i:"canvas",v=null!==(a=h.logLevel)&&void 0!==a?a:nn.Warn,m=null!==(s=h.downloadFileName)&&void 0!==s?s:"visualization",E="string"==typeof t?document.querySelector(t):t;if(!E)throw new Error("".concat(t," does not exist"));if(!1!==h.defaultStyle){const e="vega-embed-style",{root:t,rootContainer:n}=yn(E);if(!t.getElementById(e)){const t=document.createElement("style");t.id=e,t.innerHTML=void 0===h.defaultStyle||!0===h.defaultStyle?Jt.toString():h.defaultStyle,n.appendChild(t)}}const b=gn(n,h.mode);let y=hn[b](n,u);if("vega-lite"===b&&y.$schema){const e=ot(y.$schema);He(ln.vega,"^".concat(e.version.slice(1)))||console.warn("The compiled spec uses Vega ".concat(e.version,", but current version is v").concat(ln.vega,"."))}E.classList.add("vega-embed"),d&&E.classList.add("has-actions"),E.innerHTML="";let w=E;if(d){const e=document.createElement("div");e.classList.add(un),E.appendChild(e),w=e}const O=h.patch;if(O&&(y=O instanceof Function?O(y):A(y,O,!0,!1).newDocument),h.formatLocale&&nn.formatLocale(h.formatLocale),h.timeFormatLocale&&nn.timeFormatLocale(h.timeFormatLocale),h.expressionFunctions)for(const e in h.expressionFunctions){const t=h.expressionFunctions[e];"fn"in t?nn.expressionFunction(e,t.fn,t.visitor):t instanceof Function&&nn.expressionFunction(e,t)}const{ast:x}=h,I=nn.parse(y,"vega-lite"===b?{}:u,{ast:x}),N=new(h.viewClass||nn.View)(I,{loader:p,logLevel:v,renderer:g,...x?{expr:null!==(c=null!==(l=nn.expressionInterpreter)&&void 0!==l?l:h.expr)&&void 0!==c?c:nt}:{}});if(N.addSignalListener("autosize",((e,t)=>{const{type:n}=t;"fit-x"==n?(w.classList.add("fit-x"),w.classList.remove("fit-y")):"fit-y"==n?(w.classList.remove("fit-x"),w.classList.add("fit-y")):"fit"==n?w.classList.add("fit-x","fit-y"):w.classList.remove("fit-x","fit-y")})),!1!==h.tooltip){const e=dn(h.tooltip)?h.tooltip:new qt(!0===h.tooltip?{}:h.tooltip).call;N.tooltip(e)}let R,{hover:T}=h;if(void 0===T&&(T="vega"===b),T){const{hoverSet:e,updateSet:t}="boolean"==typeof T?{}:T;N.hover(e,t)}if(h&&(null!=h.width&&N.width(h.width),null!=h.height&&N.height(h.height),null!=h.padding&&N.padding(h.padding)),await N.initialize(w,h.bind).runAsync(),!1!==d){let e=E;if(!1!==h.defaultStyle){const t=document.createElement("details");t.title=f.CLICK_TO_VIEW_ACTIONS,E.append(t),e=t;const n=document.createElement("summary");n.innerHTML=pn,t.append(n),R=e=>{t.contains(e.target)||t.removeAttribute("open")},document.addEventListener("click",R)}const t=document.createElement("div");if(e.append(t),t.classList.add("vega-actions"),!0===d||!1!==d.export)for(const e of["svg","png"])if(!0===d||!0===d.export||d.export[e]){const n=f["".concat(e.toUpperCase(),"_ACTION")],o=document.createElement("a");o.text=n,o.href="#",o.target="_blank",o.download="".concat(m,".").concat(e),o.addEventListener("mousedown",(async function(t){t.preventDefault();const n=await N.toImageURL(e,h.scaleFactor);this.href=n})),t.append(o)}if(!0===d||!1!==d.source){const e=document.createElement("a");e.text=f.SOURCE_ACTION,e.href="#",e.addEventListener("click",(function(e){var t,o;fn(P(n),null!==(t=h.sourceHeader)&&void 0!==t?t:"",null!==(o=h.sourceFooter)&&void 0!==o?o:"",b),e.preventDefault()})),t.append(e)}if("vega-lite"===b&&(!0===d||!1!==d.compiled)){const e=document.createElement("a");e.text=f.COMPILED_ACTION,e.href="#",e.addEventListener("click",(function(e){var t,n;fn(P(y),null!==(t=h.sourceHeader)&&void 0!==t?t:"",null!==(n=h.sourceFooter)&&void 0!==n?n:"","vega"),e.preventDefault()})),t.append(e)}if(!0===d||!1!==d.editor){var L;const e=null!==(L=h.editorUrl)&&void 0!==L?L:"https://vega.github.io/editor/",o=document.createElement("a");o.text=f.EDITOR_ACTION,o.href="#",o.addEventListener("click",(function(t){Yt(window,e,{config:u,mode:b,renderer:g,spec:P(n)}),t.preventDefault()})),t.append(o)}}function S(){R&&document.removeEventListener("click",R),N.finalize()}return{view:N,spec:n,vgSpec:y,finalize:S,embedOptions:h}}async function On(e){var t;let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const o=document.createElement("div");o.classList.add("vega-embed-wrapper");const r=document.createElement("div");o.appendChild(r);const i=!0===n.actions||!1===n.actions?n.actions:{export:!0,source:!1,compiled:!0,editor:!0,...null!==(t=n.actions)&&void 0!==t?t:{}},a=await En(r,e,{actions:i,...null!=n?n:{}});return o.value=a.view,o}function An(e){return e instanceof HTMLElement}const xn=function(){return arguments.length>1&&(e.isString(arguments.length<=0?void 0:arguments[0])&&!Qt(arguments.length<=0?void 0:arguments[0])||An(arguments.length<=0?void 0:arguments[0])||3===arguments.length)?En(arguments.length<=0?void 0:arguments[0],arguments.length<=1?void 0:arguments[1],arguments.length<=2?void 0:arguments[2]):On(arguments.length<=0?void 0:arguments[0],arguments.length<=1?void 0:arguments[1])};return xn.vegaLite=on,xn.vl=on,xn.container=On,xn.embed=En,xn.vega=nn,xn.default=En,xn.version=tn,xn}));
//# sourceMappingURL=vega-embed.min.js.map
</script></div><script src="https://cdn.datatables.net/1.11.5/js/jquery.dataTables.min.js" type="text/javascript"></script><script type="application/x-scittle">(ns scicloj.clay (:require [reagent.core :as r] [ajax.core :refer [GET POST]]))
(def *cache (r/atom {}))
(defn reset-cache! [m] (reset! *cache m))
(defn compute [form] (if-let [result ((clojure.core/deref *cache) form)] result (do (POST "/compute" {:headers {"Accept" "application/json"}, :params (pr-str {:form form}), :handler (fn [response] (swap! *cache assoc form (read-string response)) (.log js/console (pr-str (clojure.core/deref *cache)))), :error-handler (fn [e] (.log js/console (str "error on compute: " e)))}) [:div [:p "computing"] [:pre [:code (pr-str form)]] [:div.loader]])))
(defn refresh-page [] (.reload js/location))
(ns main (:require [reagent.core :as r] [reagent.dom :as dom] [ajax.core :refer [GET POST]] [clojure.string :as string] [scicloj.clay :as clay]))
(GET "/counter" {:handler (fn [response] (when (not= response (clojure.core/str 9)) (clay/refresh-page))), :error-handler (fn [e] (.log js/console (str "error on counter: " e)))})
(def data (quote nil))
(let [socket (js/WebSocket. (clojure.core/str "ws://localhost:" 1971))] (.addEventListener socket "open" (fn [event] (.send socket "Hello Server!"))) (.addEventListener socket "message" (fn [event] (case (.-data event) "refresh" (clay/refresh-page) (println [:unknown-ws-message (.-data event)])))))
(defn datatables [table] (let [[_ options thead tbody] table] [:div [:table (merge options {:ref (fn [el] (-> el js/$ (.DataTable (clj->js {:sPaginationType "full_numbers", :order []}))))}) thead tbody]]))
(defn vega [spec] [:div {:ref (fn [el] (-> el (js/vegaEmbed (clj->js spec) (clj->js {:renderer :svg})) (.then (fn [res])) (.catch (fn [err] (println (str "vegaEmbed error: " err))))))}])
(def widget2 nil)
(dom/render (fn [] widget2) (.getElementById js/document "widget2"))
(def widget7 nil)
(dom/render (fn [] widget7) (.getElementById js/document "widget7"))
(def widget10 [:div [:code [:div [:div [:p "data/iris.csv.gz [5 6]:"] [:table [:thead [:tr [:th {:style {:text-align "right"}} ":sepal-length"] [:th {:style {:text-align "right"}} ":sepal-width"] [:th {:style {:text-align "right"}} ":petal-length"] [:th {:style {:text-align "right"}} ":petal-width"] [:th ":species"] [:th {:style {:text-align "right"}} ":petal-size"]]] [:tbody [:tr [:td {:style {:text-align "right"}} "5.4"] [:td {:style {:text-align "right"}} "3.9"] [:td {:style {:text-align "right"}} "1.3"] [:td {:style {:text-align "right"}} "0.4"] [:td "setosa"] [:td {:style {:text-align "right"}} "1.36014705"]] [:tr [:td {:style {:text-align "right"}} "6.3"] [:td {:style {:text-align "right"}} "2.9"] [:td {:style {:text-align "right"}} "5.6"] [:td {:style {:text-align "right"}} "1.8"] [:td "virginica"] [:td {:style {:text-align "right"}} "5.88217647"]] [:tr [:td {:style {:text-align "right"}} "7.9"] [:td {:style {:text-align "right"}} "3.8"] [:td {:style {:text-align "right"}} "6.4"] [:td {:style {:text-align "right"}} "2.0"] [:td "virginica"] [:td {:style {:text-align "right"}} "6.70522185"]] [:tr [:td {:style {:text-align "right"}} "6.4"] [:td {:style {:text-align "right"}} "3.2"] [:td {:style {:text-align "right"}} "4.5"] [:td {:style {:text-align "right"}} "1.5"] [:td "versicolor"] [:td {:style {:text-align "right"}} "4.74341649"]] [:tr [:td {:style {:text-align "right"}} "5.4"] [:td {:style {:text-align "right"}} "3.7"] [:td {:style {:text-align "right"}} "1.5"] [:td {:style {:text-align "right"}} "0.2"] [:td "setosa"] [:td {:style {:text-align "right"}} "1.51327460"]]]]]]]])
(dom/render (fn [] widget10) (.getElementById js/document "widget10"))
(def widget13 [:div [:div [datatables [:table {:class :table} [:thead [:tr [:th :sepal-length] [:th :sepal-width] [:th :petal-length] [:th :petal-width] [:th :species] [:th :petal-size]]] [:tbody [:tr [:td "5.1\n"] [:td "3.5\n"] [:td "1.4\n"] [:td "0.2\n"] [:td "setosa\n"] [:td "1.414213562373095\n"]] [:tr [:td "4.9\n"] [:td "3.0\n"] [:td "1.4\n"] [:td "0.2\n"] [:td "setosa\n"] [:td "1.414213562373095\n"]] [:tr [:td "4.7\n"] [:td "3.2\n"] [:td "1.3\n"] [:td "0.2\n"] [:td "setosa\n"] [:td "1.3152946437965907\n"]] [:tr [:td "4.6\n"] [:td "3.1\n"] [:td "1.5\n"] [:td "0.2\n"] [:td "setosa\n"] [:td "1.5132745950421556\n"]] [:tr [:td "5.0\n"] [:td "3.6\n"] [:td "1.4\n"] [:td "0.2\n"] [:td "setosa\n"] [:td "1.414213562373095\n"]] [:tr [:td "5.4\n"] [:td "3.9\n"] [:td "1.7\n"] [:td "0.4\n"] [:td "setosa\n"] [:td "1.746424919657298\n"]] [:tr [:td "4.6\n"] [:td "3.4\n"] [:td "1.4\n"] [:td "0.3\n"] [:td "setosa\n"] [:td "1.4317821063276353\n"]] [:tr [:td "5.0\n"] [:td "3.4\n"] [:td "1.5\n"] [:td "0.2\n"] [:td "setosa\n"] [:td "1.5132745950421556\n"]] [:tr [:td "4.4\n"] [:td "2.9\n"] [:td "1.4\n"] [:td "0.2\n"] [:td "setosa\n"] [:td "1.414213562373095\n"]] [:tr [:td "4.9\n"] [:td "3.1\n"] [:td "1.5\n"] [:td "0.1\n"] [:td "setosa\n"] [:td "1.5033296378372907\n"]] [:tr [:td "5.4\n"] [:td "3.7\n"] [:td "1.5\n"] [:td "0.2\n"] [:td "setosa\n"] [:td "1.5132745950421556\n"]] [:tr [:td "4.8\n"] [:td "3.4\n"] [:td "1.6\n"] [:td "0.2\n"] [:td "setosa\n"] [:td "1.61245154965971\n"]] [:tr [:td "4.8\n"] [:td "3.0\n"] [:td "1.4\n"] [:td "0.1\n"] [:td "setosa\n"] [:td "1.40356688476182\n"]] [:tr [:td "4.3\n"] [:td "3.0\n"] [:td "1.1\n"] [:td "0.1\n"] [:td "setosa\n"] [:td "1.104536101718726\n"]] [:tr [:td "5.8\n"] [:td "4.0\n"] [:td "1.2\n"] [:td "0.2\n"] [:td "setosa\n"] [:td "1.2165525060596438\n"]] [:tr [:td "5.7\n"] [:td "4.4\n"] [:td "1.5\n"] [:td "0.4\n"] [:td "setosa\n"] [:td "1.5524174696260025\n"]] [:tr [:td "5.4\n"] [:td "3.9\n"] [:td "1.3\n"] [:td "0.4\n"] [:td "setosa\n"] [:td "1.3601470508735443\n"]] [:tr [:td "5.1\n"] [:td "3.5\n"] [:td "1.4\n"] [:td "0.3\n"] [:td "setosa\n"] [:td "1.4317821063276353\n"]] [:tr [:td "5.7\n"] [:td "3.8\n"] [:td "1.7\n"] [:td "0.3\n"] [:td "setosa\n"] [:td "1.7262676501632068\n"]] [:tr [:td "5.1\n"] [:td "3.8\n"] [:td "1.5\n"] [:td "0.3\n"] [:td "setosa\n"] [:td "1.5297058540778354\n"]] [:tr [:td "5.4\n"] [:td "3.4\n"] [:td "1.7\n"] [:td "0.2\n"] [:td "setosa\n"] [:td "1.7117242768623688\n"]] [:tr [:td "5.1\n"] [:td "3.7\n"] [:td "1.5\n"] [:td "0.4\n"] [:td "setosa\n"] [:td "1.5524174696260025\n"]] [:tr [:td "4.6\n"] [:td "3.6\n"] [:td "1.0\n"] [:td "0.2\n"] [:td "setosa\n"] [:td "1.019803902718557\n"]] [:tr [:td "5.1\n"] [:td "3.3\n"] [:td "1.7\n"] [:td "0.5\n"] [:td "setosa\n"] [:td "1.772004514666935\n"]] [:tr [:td "4.8\n"] [:td "3.4\n"] [:td "1.9\n"] [:td "0.2\n"] [:td "setosa\n"] [:td "1.91049731745428\n"]] [:tr [:td "5.0\n"] [:td "3.0\n"] [:td "1.6\n"] [:td "0.2\n"] [:td "setosa\n"] [:td "1.61245154965971\n"]] [:tr [:td "5.0\n"] [:td "3.4\n"] [:td "1.6\n"] [:td "0.4\n"] [:td "setosa\n"] [:td "1.6492422502470645\n"]] [:tr [:td "5.2\n"] [:td "3.5\n"] [:td "1.5\n"] [:td "0.2\n"] [:td "setosa\n"] [:td "1.5132745950421556\n"]] [:tr [:td "5.2\n"] [:td "3.4\n"] [:td "1.4\n"] [:td "0.2\n"] [:td "setosa\n"] [:td "1.414213562373095\n"]] [:tr [:td "4.7\n"] [:td "3.2\n"] [:td "1.6\n"] [:td "0.2\n"] [:td "setosa\n"] [:td "1.61245154965971\n"]] [:tr [:td "4.8\n"] [:td "3.1\n"] [:td "1.6\n"] [:td "0.2\n"] [:td "setosa\n"] [:td "1.61245154965971\n"]] [:tr [:td "5.4\n"] [:td "3.4\n"] [:td "1.5\n"] [:td "0.4\n"] [:td "setosa\n"] [:td "1.5524174696260025\n"]] [:tr [:td "5.2\n"] [:td "4.1\n"] [:td "1.5\n"] [:td "0.1\n"] [:td "setosa\n"] [:td "1.5033296378372907\n"]] [:tr [:td "5.5\n"] [:td "4.2\n"] [:td "1.4\n"] [:td "0.2\n"] [:td "setosa\n"] [:td "1.414213562373095\n"]] [:tr [:td "4.9\n"] [:td "3.1\n"] [:td "1.5\n"] [:td "0.2\n"] [:td "setosa\n"] [:td "1.5132745950421556\n"]] [:tr [:td "5.0\n"] [:td "3.2\n"] [:td "1.2\n"] [:td "0.2\n"] [:td "setosa\n"] [:td "1.2165525060596438\n"]] [:tr [:td "5.5\n"] [:td "3.5\n"] [:td "1.3\n"] [:td "0.2\n"] [:td "setosa\n"] [:td "1.3152946437965907\n"]] [:tr [:td "4.9\n"] [:td "3.6\n"] [:td "1.4\n"] [:td "0.1\n"] [:td "setosa\n"] [:td "1.40356688476182\n"]] [:tr [:td "4.4\n"] [:td "3.0\n"] [:td "1.3\n"] [:td "0.2\n"] [:td "setosa\n"] [:td "1.3152946437965907\n"]] [:tr [:td "5.1\n"] [:td "3.4\n"] [:td "1.5\n"] [:td "0.2\n"] [:td "setosa\n"] [:td "1.5132745950421556\n"]] [:tr [:td "5.0\n"] [:td "3.5\n"] [:td "1.3\n"] [:td "0.3\n"] [:td "setosa\n"] [:td "1.3341664064126335\n"]] [:tr [:td "4.5\n"] [:td "2.3\n"] [:td "1.3\n"] [:td "0.3\n"] [:td "setosa\n"] [:td "1.3341664064126335\n"]] [:tr [:td "4.4\n"] [:td "3.2\n"] [:td "1.3\n"] [:td "0.2\n"] [:td "setosa\n"] [:td "1.3152946437965907\n"]] [:tr [:td "5.0\n"] [:td "3.5\n"] [:td "1.6\n"] [:td "0.6\n"] [:td "setosa\n"] [:td "1.7088007490635064\n"]] [:tr [:td "5.1\n"] [:td "3.8\n"] [:td "1.9\n"] [:td "0.4\n"] [:td "setosa\n"] [:td "1.9416487838947598\n"]] [:tr [:td "4.8\n"] [:td "3.0\n"] [:td "1.4\n"] [:td "0.3\n"] [:td "setosa\n"] [:td "1.4317821063276353\n"]] [:tr [:td "5.1\n"] [:td "3.8\n"] [:td "1.6\n"] [:td "0.2\n"] [:td "setosa\n"] [:td "1.61245154965971\n"]] [:tr [:td "4.6\n"] [:td "3.2\n"] [:td "1.4\n"] [:td "0.2\n"] [:td "setosa\n"] [:td "1.414213562373095\n"]] [:tr [:td "5.3\n"] [:td "3.7\n"] [:td "1.5\n"] [:td "0.2\n"] [:td "setosa\n"] [:td "1.5132745950421556\n"]] [:tr [:td "5.0\n"] [:td "3.3\n"] [:td "1.4\n"] [:td "0.2\n"] [:td "setosa\n"] [:td "1.414213562373095\n"]] [:tr [:td "7.0\n"] [:td "3.2\n"] [:td "4.7\n"] [:td "1.4\n"] [:td "versicolor\n"] [:td "4.904079934095692\n"]] [:tr [:td "6.4\n"] [:td "3.2\n"] [:td "4.5\n"] [:td "1.5\n"] [:td "versicolor\n"] [:td "4.743416490252569\n"]] [:tr [:td "6.9\n"] [:td "3.1\n"] [:td "4.9\n"] [:td "1.5\n"] [:td "versicolor\n"] [:td "5.1244511901275835\n"]] [:tr [:td "5.5\n"] [:td "2.3\n"] [:td "4.0\n"] [:td "1.3\n"] [:td "versicolor\n"] [:td "4.205948168962618\n"]] [:tr [:td "6.5\n"] [:td "2.8\n"] [:td "4.6\n"] [:td "1.5\n"] [:td "versicolor\n"] [:td "4.838388161361178\n"]] [:tr [:td "5.7\n"] [:td "2.8\n"] [:td "4.5\n"] [:td "1.3\n"] [:td "versicolor\n"] [:td "4.684015371452148\n"]] [:tr [:td "6.3\n"] [:td "3.3\n"] [:td "4.7\n"] [:td "1.6\n"] [:td "versicolor\n"] [:td "4.964876634922565\n"]] [:tr [:td "4.9\n"] [:td "2.4\n"] [:td "3.3\n"] [:td "1.0\n"] [:td "versicolor\n"] [:td "3.4481879299133333\n"]] [:tr [:td "6.6\n"] [:td "2.9\n"] [:td "4.6\n"] [:td "1.3\n"] [:td "versicolor\n"] [:td "4.780167361086848\n"]] [:tr [:td "5.2\n"] [:td "2.7\n"] [:td "3.9\n"] [:td "1.4\n"] [:td "versicolor\n"] [:td "4.1436698710201325\n"]] [:tr [:td "5.0\n"] [:td "2.0\n"] [:td "3.5\n"] [:td "1.0\n"] [:td "versicolor\n"] [:td "3.640054944640259\n"]] [:tr [:td "5.9\n"] [:td "3.0\n"] [:td "4.2\n"] [:td "1.5\n"] [:td "versicolor\n"] [:td "4.459820624195552\n"]] [:tr [:td "6.0\n"] [:td "2.2\n"] [:td "4.0\n"] [:td "1.0\n"] [:td "versicolor\n"] [:td "4.123105625617661\n"]] [:tr [:td "6.1\n"] [:td "2.9\n"] [:td "4.7\n"] [:td "1.4\n"] [:td "versicolor\n"] [:td "4.904079934095692\n"]] [:tr [:td "5.6\n"] [:td "2.9\n"] [:td "3.6\n"] [:td "1.3\n"] [:td "versicolor\n"] [:td "3.8275318418009276\n"]] [:tr [:td "6.7\n"] [:td "3.1\n"] [:td "4.4\n"] [:td "1.4\n"] [:td "versicolor\n"] [:td "4.6173585522460785\n"]] [:tr [:td "5.6\n"] [:td "3.0\n"] [:td "4.5\n"] [:td "1.5\n"] [:td "versicolor\n"] [:td "4.743416490252569\n"]] [:tr [:td "5.8\n"] [:td "2.7\n"] [:td "4.1\n"] [:td "1.0\n"] [:td "versicolor\n"] [:td "4.220189569201838\n"]] [:tr [:td "6.2\n"] [:td "2.2\n"] [:td "4.5\n"] [:td "1.5\n"] [:td "versicolor\n"] [:td "4.743416490252569\n"]] [:tr [:td "5.6\n"] [:td "2.5\n"] [:td "3.9\n"] [:td "1.1\n"] [:td "versicolor\n"] [:td "4.052159917870962\n"]] [:tr [:td "5.9\n"] [:td "3.2\n"] [:td "4.8\n"] [:td "1.8\n"] [:td "versicolor\n"] [:td "5.126402247190518\n"]] [:tr [:td "6.1\n"] [:td "2.8\n"] [:td "4.0\n"] [:td "1.3\n"] [:td "versicolor\n"] [:td "4.205948168962618\n"]] [:tr [:td "6.3\n"] [:td "2.5\n"] [:td "4.9\n"] [:td "1.5\n"] [:td "versicolor\n"] [:td "5.1244511901275835\n"]] [:tr [:td "6.1\n"] [:td "2.8\n"] [:td "4.7\n"] [:td "1.2\n"] [:td "versicolor\n"] [:td "4.850773134253962\n"]] [:tr [:td "6.4\n"] [:td "2.9\n"] [:td "4.3\n"] [:td "1.3\n"] [:td "versicolor\n"] [:td "4.49221548904324\n"]] [:tr [:td "6.6\n"] [:td "3.0\n"] [:td "4.4\n"] [:td "1.4\n"] [:td "versicolor\n"] [:td "4.6173585522460785\n"]] [:tr [:td "6.8\n"] [:td "2.8\n"] [:td "4.8\n"] [:td "1.4\n"] [:td "versicolor\n"] [:td "5.0\n"]] [:tr [:td "6.7\n"] [:td "3.0\n"] [:td "5.0\n"] [:td "1.7\n"] [:td "versicolor\n"] [:td "5.281098370604358\n"]] [:tr [:td "6.0\n"] [:td "2.9\n"] [:td "4.5\n"] [:td "1.5\n"] [:td "versicolor\n"] [:td "4.743416490252569\n"]] [:tr [:td "5.7\n"] [:td "2.6\n"] [:td "3.5\n"] [:td "1.0\n"] [:td "versicolor\n"] [:td "3.640054944640259\n"]] [:tr [:td "5.5\n"] [:td "2.4\n"] [:td "3.8\n"] [:td "1.1\n"] [:td "versicolor\n"] [:td "3.9560080889704965\n"]] [:tr [:td "5.5\n"] [:td "2.4\n"] [:td "3.7\n"] [:td "1.0\n"] [:td "versicolor\n"] [:td "3.83275357934736\n"]] [:tr [:td "5.8\n"] [:td "2.7\n"] [:td "3.9\n"] [:td "1.2\n"] [:td "versicolor\n"] [:td "4.080441152620633\n"]] [:tr [:td "6.0\n"] [:td "2.7\n"] [:td "5.1\n"] [:td "1.6\n"] [:td "versicolor\n"] [:td "5.345091205957107\n"]] [:tr [:td "5.4\n"] [:td "3.0\n"] [:td "4.5\n"] [:td "1.5\n"] [:td "versicolor\n"] [:td "4.743416490252569\n"]] [:tr [:td "6.0\n"] [:td "3.4\n"] [:td "4.5\n"] [:td "1.6\n"] [:td "versicolor\n"] [:td "4.775981574503821\n"]] [:tr [:td "6.7\n"] [:td "3.1\n"] [:td "4.7\n"] [:td "1.5\n"] [:td "versicolor\n"] [:td "4.933558553417604\n"]] [:tr [:td "6.3\n"] [:td "2.3\n"] [:td "4.4\n"] [:td "1.3\n"] [:td "versicolor\n"] [:td "4.588027898781785\n"]] [:tr [:td "5.6\n"] [:td "3.0\n"] [:td "4.1\n"] [:td "1.3\n"] [:td "versicolor\n"] [:td "4.301162633521313\n"]] [:tr [:td "5.5\n"] [:td "2.5\n"] [:td "4.0\n"] [:td "1.3\n"] [:td "versicolor\n"] [:td "4.205948168962618\n"]] [:tr [:td "5.5\n"] [:td "2.6\n"] [:td "4.4\n"] [:td "1.2\n"] [:td "versicolor\n"] [:td "4.560701700396552\n"]] [:tr [:td "6.1\n"] [:td "3.0\n"] [:td "4.6\n"] [:td "1.4\n"] [:td "versicolor\n"] [:td "4.808326112068523\n"]] [:tr [:td "5.8\n"] [:td "2.6\n"] [:td "4.0\n"] [:td "1.2\n"] [:td "versicolor\n"] [:td "4.17612260356422\n"]] [:tr [:td "5.0\n"] [:td "2.3\n"] [:td "3.3\n"] [:td "1.0\n"] [:td "versicolor\n"] [:td "3.4481879299133333\n"]] [:tr [:td "5.6\n"] [:td "2.7\n"] [:td "4.2\n"] [:td "1.3\n"] [:td "versicolor\n"] [:td "4.396589587396122\n"]] [:tr [:td "5.7\n"] [:td "3.0\n"] [:td "4.2\n"] [:td "1.2\n"] [:td "versicolor\n"] [:td "4.368065933568311\n"]] [:tr [:td "5.7\n"] [:td "2.9\n"] [:td "4.2\n"] [:td "1.3\n"] [:td "versicolor\n"] [:td "4.396589587396122\n"]] [:tr [:td "6.2\n"] [:td "2.9\n"] [:td "4.3\n"] [:td "1.3\n"] [:td "versicolor\n"] [:td "4.49221548904324\n"]] [:tr [:td "5.1\n"] [:td "2.5\n"] [:td "3.0\n"] [:td "1.1\n"] [:td "versicolor\n"] [:td "3.1953090617340916\n"]] [:tr [:td "5.7\n"] [:td "2.8\n"] [:td "4.1\n"] [:td "1.3\n"] [:td "versicolor\n"] [:td "4.301162633521313\n"]] [:tr [:td "6.3\n"] [:td "3.3\n"] [:td "6.0\n"] [:td "2.5\n"] [:td "virginica\n"] [:td "6.5\n"]] [:tr [:td "5.8\n"] [:td "2.7\n"] [:td "5.1\n"] [:td "1.9\n"] [:td "virginica\n"] [:td "5.442425929675111\n"]] [:tr [:td "7.1\n"] [:td "3.0\n"] [:td "5.9\n"] [:td "2.1\n"] [:td "virginica\n"] [:td "6.26258732474047\n"]] [:tr [:td "6.3\n"] [:td "2.9\n"] [:td "5.6\n"] [:td "1.8\n"] [:td "virginica\n"] [:td "5.882176467941097\n"]] [:tr [:td "6.5\n"] [:td "3.0\n"] [:td "5.8\n"] [:td "2.2\n"] [:td "virginica\n"] [:td "6.203224967708329\n"]] [:tr [:td "7.6\n"] [:td "3.0\n"] [:td "6.6\n"] [:td "2.1\n"] [:td "virginica\n"] [:td "6.926037828369117\n"]] [:tr [:td "4.9\n"] [:td "2.5\n"] [:td "4.5\n"] [:td "1.7\n"] [:td "virginica\n"] [:td "4.810405388322278\n"]] [:tr [:td "7.3\n"] [:td "2.9\n"] [:td "6.3\n"] [:td "1.8\n"] [:td "virginica\n"] [:td "6.552098900352466\n"]] [:tr [:td "6.7\n"] [:td "2.5\n"] [:td "5.8\n"] [:td "1.8\n"] [:td "virginica\n"] [:td "6.072890580275591\n"]] [:tr [:td "7.2\n"] [:td "3.6\n"] [:td "6.1\n"] [:td "2.5\n"] [:td "virginica\n"] [:td "6.592419889539803\n"]] [:tr [:td "6.5\n"] [:td "3.2\n"] [:td "5.1\n"] [:td "2.0\n"] [:td "virginica\n"] [:td "5.478138369920935\n"]] [:tr [:td "6.4\n"] [:td "2.7\n"] [:td "5.3\n"] [:td "1.9\n"] [:td "virginica\n"] [:td "5.630275304103699\n"]] [:tr [:td "6.8\n"] [:td "3.0\n"] [:td "5.5\n"] [:td "2.1\n"] [:td "virginica\n"] [:td "5.88727441181401\n"]] [:tr [:td "5.7\n"] [:td "2.5\n"] [:td "5.0\n"] [:td "2.0\n"] [:td "virginica\n"] [:td "5.385164807134504\n"]] [:tr [:td "5.8\n"] [:td "2.8\n"] [:td "5.1\n"] [:td "2.4\n"] [:td "virginica\n"] [:td "5.63648826841678\n"]] [:tr [:td "6.4\n"] [:td "3.2\n"] [:td "5.3\n"] [:td "2.3\n"] [:td "virginica\n"] [:td "5.7775427302617155\n"]] [:tr [:td "6.5\n"] [:td "3.0\n"] [:td "5.5\n"] [:td "1.8\n"] [:td "virginica\n"] [:td "5.7870545184921145\n"]] [:tr [:td "7.7\n"] [:td "3.8\n"] [:td "6.7\n"] [:td "2.2\n"] [:td "virginica\n"] [:td "7.051950084905593\n"]] [:tr [:td "7.7\n"] [:td "2.6\n"] [:td "6.9\n"] [:td "2.3\n"] [:td "virginica\n"] [:td "7.273238618387273\n"]] [:tr [:td "6.0\n"] [:td "2.2\n"] [:td "5.0\n"] [:td "1.5\n"] [:td "virginica\n"] [:td "5.220153254455275\n"]] [:tr [:td "6.9\n"] [:td "3.2\n"] [:td "5.7\n"] [:td "2.3\n"] [:td "virginica\n"] [:td "6.146543744251724\n"]] [:tr [:td "5.6\n"] [:td "2.8\n"] [:td "4.9\n"] [:td "2.0\n"] [:td "virginica\n"] [:td "5.292447448959697\n"]] [:tr [:td "7.7\n"] [:td "2.8\n"] [:td "6.7\n"] [:td "2.0\n"] [:td "virginica\n"] [:td "6.992138442565336\n"]] [:tr [:td "6.3\n"] [:td "2.7\n"] [:td "4.9\n"] [:td "1.8\n"] [:td "virginica\n"] [:td "5.220153254455275\n"]] [:tr [:td "6.7\n"] [:td "3.3\n"] [:td "5.7\n"] [:td "2.1\n"] [:td "virginica\n"] [:td "6.074537019394977\n"]] [:tr [:td "7.2\n"] [:td "3.2\n"] [:td "6.0\n"] [:td "1.8\n"] [:td "virginica\n"] [:td "6.26418390534633\n"]] [:tr [:td "6.2\n"] [:td "2.8\n"] [:td "4.8\n"] [:td "1.8\n"] [:td "virginica\n"] [:td "5.126402247190518\n"]] [:tr [:td "6.1\n"] [:td "3.0\n"] [:td "4.9\n"] [:td "1.8\n"] [:td "virginica\n"] [:td "5.220153254455275\n"]] [:tr [:td "6.4\n"] [:td "2.8\n"] [:td "5.6\n"] [:td "2.1\n"] [:td "virginica\n"] [:td "5.980802621722272\n"]] [:tr [:td "7.2\n"] [:td "3.0\n"] [:td "5.8\n"] [:td "1.6\n"] [:td "virginica\n"] [:td "6.016643582596529\n"]] [:tr [:td "7.4\n"] [:td "2.8\n"] [:td "6.1\n"] [:td "1.9\n"] [:td "virginica\n"] [:td "6.389053137985314\n"]] [:tr [:td "7.9\n"] [:td "3.8\n"] [:td "6.4\n"] [:td "2.0\n"] [:td "virginica\n"] [:td "6.705221845696085\n"]] [:tr [:td "6.4\n"] [:td "2.8\n"] [:td "5.6\n"] [:td "2.2\n"] [:td "virginica\n"] [:td "6.016643582596529\n"]] [:tr [:td "6.3\n"] [:td "2.8\n"] [:td "5.1\n"] [:td "1.5\n"] [:td "virginica\n"] [:td "5.316013544000805\n"]] [:tr [:td "6.1\n"] [:td "2.6\n"] [:td "5.6\n"] [:td "1.4\n"] [:td "virginica\n"] [:td "5.772347875864724\n"]] [:tr [:td "7.7\n"] [:td "3.0\n"] [:td "6.1\n"] [:td "2.3\n"] [:td "virginica\n"] [:td "6.519202405202648\n"]] [:tr [:td "6.3\n"] [:td "3.4\n"] [:td "5.6\n"] [:td "2.4\n"] [:td "virginica\n"] [:td "6.092618484691126\n"]] [:tr [:td "6.4\n"] [:td "3.1\n"] [:td "5.5\n"] [:td "1.8\n"] [:td "virginica\n"] [:td "5.7870545184921145\n"]] [:tr [:td "6.0\n"] [:td "3.0\n"] [:td "4.8\n"] [:td "1.8\n"] [:td "virginica\n"] [:td "5.126402247190518\n"]] [:tr [:td "6.9\n"] [:td "3.1\n"] [:td "5.4\n"] [:td "2.1\n"] [:td "virginica\n"] [:td "5.79396237474839\n"]] [:tr [:td "6.7\n"] [:td "3.1\n"] [:td "5.6\n"] [:td "2.4\n"] [:td "virginica\n"] [:td "6.092618484691126\n"]] [:tr [:td "6.9\n"] [:td "3.1\n"] [:td "5.1\n"] [:td "2.3\n"] [:td "virginica\n"] [:td "5.594640292279745\n"]] [:tr [:td "5.8\n"] [:td "2.7\n"] [:td "5.1\n"] [:td "1.9\n"] [:td "virginica\n"] [:td "5.442425929675111\n"]] [:tr [:td "6.8\n"] [:td "3.2\n"] [:td "5.9\n"] [:td "2.3\n"] [:td "virginica\n"] [:td "6.332456079595025\n"]] [:tr [:td "6.7\n"] [:td "3.3\n"] [:td "5.7\n"] [:td "2.5\n"] [:td "virginica\n"] [:td "6.224146527838174\n"]] [:tr [:td "6.7\n"] [:td "3.0\n"] [:td "5.2\n"] [:td "2.3\n"] [:td "virginica\n"] [:td "5.6859475903318\n"]] [:tr [:td "6.3\n"] [:td "2.5\n"] [:td "5.0\n"] [:td "1.9\n"] [:td "virginica\n"] [:td "5.348831648126533\n"]] [:tr [:td "6.5\n"] [:td "3.0\n"] [:td "5.2\n"] [:td "2.0\n"] [:td "virginica\n"] [:td "5.571355310873648\n"]] [:tr [:td "6.2\n"] [:td "3.4\n"] [:td "5.4\n"] [:td "2.3\n"] [:td "virginica\n"] [:td "5.869412236331676\n"]] [:tr [:td "5.9\n"] [:td "3.0\n"] [:td "5.1\n"] [:td "1.8\n"] [:td "virginica\n"] [:td "5.408326913195984\n"]]]]]]])
(dom/render (fn [] widget13) (.getElementById js/document "widget13"))
(def widget16 [:div [:div [vega (quote {:encoding {:y {:field "sepal-length", :type "quantitative"}, :color {:field "species", :type "nominal"}, :size {:field "petal-size", :type "quantitative"}, :x {:field "sepal-width", :type "quantitative"}, :tooltip [{:field "sepal-width", :type "quantitative"} {:field "sepal-length", :type "quantitative"}]}, :mark {:type "circle"}, :width 400, :background "floralwhite", :height 300, :data {:values [{:sepal-length 5.1, :sepal-width 3.5, :petal-length 1.4, :petal-width 0.2, :species "setosa", :petal-size 1.414213562373095} {:sepal-length 4.9, :sepal-width 3.0, :petal-length 1.4, :petal-width 0.2, :species "setosa", :petal-size 1.414213562373095} {:sepal-length 4.7, :sepal-width 3.2, :petal-length 1.3, :petal-width 0.2, :species "setosa", :petal-size 1.3152946437965907} {:sepal-length 4.6, :sepal-width 3.1, :petal-length 1.5, :petal-width 0.2, :species "setosa", :petal-size 1.5132745950421556} {:sepal-length 5.0, :sepal-width 3.6, :petal-length 1.4, :petal-width 0.2, :species "setosa", :petal-size 1.414213562373095} {:sepal-length 5.4, :sepal-width 3.9, :petal-length 1.7, :petal-width 0.4, :species "setosa", :petal-size 1.746424919657298} {:sepal-length 4.6, :sepal-width 3.4, :petal-length 1.4, :petal-width 0.3, :species "setosa", :petal-size 1.4317821063276353} {:sepal-length 5.0, :sepal-width 3.4, :petal-length 1.5, :petal-width 0.2, :species "setosa", :petal-size 1.5132745950421556} {:sepal-length 4.4, :sepal-width 2.9, :petal-length 1.4, :petal-width 0.2, :species "setosa", :petal-size 1.414213562373095} {:sepal-length 4.9, :sepal-width 3.1, :petal-length 1.5, :petal-width 0.1, :species "setosa", :petal-size 1.5033296378372907} {:sepal-length 5.4, :sepal-width 3.7, :petal-length 1.5, :petal-width 0.2, :species "setosa", :petal-size 1.5132745950421556} {:sepal-length 4.8, :sepal-width 3.4, :petal-length 1.6, :petal-width 0.2, :species "setosa", :petal-size 1.61245154965971} {:sepal-length 4.8, :sepal-width 3.0, :petal-length 1.4, :petal-width 0.1, :species "setosa", :petal-size 1.40356688476182} {:sepal-length 4.3, :sepal-width 3.0, :petal-length 1.1, :petal-width 0.1, :species "setosa", :petal-size 1.104536101718726} {:sepal-length 5.8, :sepal-width 4.0, :petal-length 1.2, :petal-width 0.2, :species "setosa", :petal-size 1.2165525060596438} {:sepal-length 5.7, :sepal-width 4.4, :petal-length 1.5, :petal-width 0.4, :species "setosa", :petal-size 1.5524174696260025} {:sepal-length 5.4, :sepal-width 3.9, :petal-length 1.3, :petal-width 0.4, :species "setosa", :petal-size 1.3601470508735443} {:sepal-length 5.1, :sepal-width 3.5, :petal-length 1.4, :petal-width 0.3, :species "setosa", :petal-size 1.4317821063276353} {:sepal-length 5.7, :sepal-width 3.8, :petal-length 1.7, :petal-width 0.3, :species "setosa", :petal-size 1.7262676501632068} {:sepal-length 5.1, :sepal-width 3.8, :petal-length 1.5, :petal-width 0.3, :species "setosa", :petal-size 1.5297058540778354} {:sepal-length 5.4, :sepal-width 3.4, :petal-length 1.7, :petal-width 0.2, :species "setosa", :petal-size 1.7117242768623688} {:sepal-length 5.1, :sepal-width 3.7, :petal-length 1.5, :petal-width 0.4, :species "setosa", :petal-size 1.5524174696260025} {:sepal-length 4.6, :sepal-width 3.6, :petal-length 1.0, :petal-width 0.2, :species "setosa", :petal-size 1.019803902718557} {:sepal-length 5.1, :sepal-width 3.3, :petal-length 1.7, :petal-width 0.5, :species "setosa", :petal-size 1.772004514666935} {:sepal-length 4.8, :sepal-width 3.4, :petal-length 1.9, :petal-width 0.2, :species "setosa", :petal-size 1.91049731745428} {:sepal-length 5.0, :sepal-width 3.0, :petal-length 1.6, :petal-width 0.2, :species "setosa", :petal-size 1.61245154965971} {:sepal-length 5.0, :sepal-width 3.4, :petal-length 1.6, :petal-width 0.4, :species "setosa", :petal-size 1.6492422502470645} {:sepal-length 5.2, :sepal-width 3.5, :petal-length 1.5, :petal-width 0.2, :species "setosa", :petal-size 1.5132745950421556} {:sepal-length 5.2, :sepal-width 3.4, :petal-length 1.4, :petal-width 0.2, :species "setosa", :petal-size 1.414213562373095} {:sepal-length 4.7, :sepal-width 3.2, :petal-length 1.6, :petal-width 0.2, :species "setosa", :petal-size 1.61245154965971} {:sepal-length 4.8, :sepal-width 3.1, :petal-length 1.6, :petal-width 0.2, :species "setosa", :petal-size 1.61245154965971} {:sepal-length 5.4, :sepal-width 3.4, :petal-length 1.5, :petal-width 0.4, :species "setosa", :petal-size 1.5524174696260025} {:sepal-length 5.2, :sepal-width 4.1, :petal-length 1.5, :petal-width 0.1, :species "setosa", :petal-size 1.5033296378372907} {:sepal-length 5.5, :sepal-width 4.2, :petal-length 1.4, :petal-width 0.2, :species "setosa", :petal-size 1.414213562373095} {:sepal-length 4.9, :sepal-width 3.1, :petal-length 1.5, :petal-width 0.2, :species "setosa", :petal-size 1.5132745950421556} {:sepal-length 5.0, :sepal-width 3.2, :petal-length 1.2, :petal-width 0.2, :species "setosa", :petal-size 1.2165525060596438} {:sepal-length 5.5, :sepal-width 3.5, :petal-length 1.3, :petal-width 0.2, :species "setosa", :petal-size 1.3152946437965907} {:sepal-length 4.9, :sepal-width 3.6, :petal-length 1.4, :petal-width 0.1, :species "setosa", :petal-size 1.40356688476182} {:sepal-length 4.4, :sepal-width 3.0, :petal-length 1.3, :petal-width 0.2, :species "setosa", :petal-size 1.3152946437965907} {:sepal-length 5.1, :sepal-width 3.4, :petal-length 1.5, :petal-width 0.2, :species "setosa", :petal-size 1.5132745950421556} {:sepal-length 5.0, :sepal-width 3.5, :petal-length 1.3, :petal-width 0.3, :species "setosa", :petal-size 1.3341664064126335} {:sepal-length 4.5, :sepal-width 2.3, :petal-length 1.3, :petal-width 0.3, :species "setosa", :petal-size 1.3341664064126335} {:sepal-length 4.4, :sepal-width 3.2, :petal-length 1.3, :petal-width 0.2, :species "setosa", :petal-size 1.3152946437965907} {:sepal-length 5.0, :sepal-width 3.5, :petal-length 1.6, :petal-width 0.6, :species "setosa", :petal-size 1.7088007490635064} {:sepal-length 5.1, :sepal-width 3.8, :petal-length 1.9, :petal-width 0.4, :species "setosa", :petal-size 1.9416487838947598} {:sepal-length 4.8, :sepal-width 3.0, :petal-length 1.4, :petal-width 0.3, :species "setosa", :petal-size 1.4317821063276353} {:sepal-length 5.1, :sepal-width 3.8, :petal-length 1.6, :petal-width 0.2, :species "setosa", :petal-size 1.61245154965971} {:sepal-length 4.6, :sepal-width 3.2, :petal-length 1.4, :petal-width 0.2, :species "setosa", :petal-size 1.414213562373095} {:sepal-length 5.3, :sepal-width 3.7, :petal-length 1.5, :petal-width 0.2, :species "setosa", :petal-size 1.5132745950421556} {:sepal-length 5.0, :sepal-width 3.3, :petal-length 1.4, :petal-width 0.2, :species "setosa", :petal-size 1.414213562373095} {:sepal-length 7.0, :sepal-width 3.2, :petal-length 4.7, :petal-width 1.4, :species "versicolor", :petal-size 4.904079934095692} {:sepal-length 6.4, :sepal-width 3.2, :petal-length 4.5, :petal-width 1.5, :species "versicolor", :petal-size 4.743416490252569} {:sepal-length 6.9, :sepal-width 3.1, :petal-length 4.9, :petal-width 1.5, :species "versicolor", :petal-size 5.1244511901275835} {:sepal-length 5.5, :sepal-width 2.3, :petal-length 4.0, :petal-width 1.3, :species "versicolor", :petal-size 4.205948168962618} {:sepal-length 6.5, :sepal-width 2.8, :petal-length 4.6, :petal-width 1.5, :species "versicolor", :petal-size 4.838388161361178} {:sepal-length 5.7, :sepal-width 2.8, :petal-length 4.5, :petal-width 1.3, :species "versicolor", :petal-size 4.684015371452148} {:sepal-length 6.3, :sepal-width 3.3, :petal-length 4.7, :petal-width 1.6, :species "versicolor", :petal-size 4.964876634922565} {:sepal-length 4.9, :sepal-width 2.4, :petal-length 3.3, :petal-width 1.0, :species "versicolor", :petal-size 3.4481879299133333} {:sepal-length 6.6, :sepal-width 2.9, :petal-length 4.6, :petal-width 1.3, :species "versicolor", :petal-size 4.780167361086848} {:sepal-length 5.2, :sepal-width 2.7, :petal-length 3.9, :petal-width 1.4, :species "versicolor", :petal-size 4.1436698710201325} {:sepal-length 5.0, :sepal-width 2.0, :petal-length 3.5, :petal-width 1.0, :species "versicolor", :petal-size 3.640054944640259} {:sepal-length 5.9, :sepal-width 3.0, :petal-length 4.2, :petal-width 1.5, :species "versicolor", :petal-size 4.459820624195552} {:sepal-length 6.0, :sepal-width 2.2, :petal-length 4.0, :petal-width 1.0, :species "versicolor", :petal-size 4.123105625617661} {:sepal-length 6.1, :sepal-width 2.9, :petal-length 4.7, :petal-width 1.4, :species "versicolor", :petal-size 4.904079934095692} {:sepal-length 5.6, :sepal-width 2.9, :petal-length 3.6, :petal-width 1.3, :species "versicolor", :petal-size 3.8275318418009276} {:sepal-length 6.7, :sepal-width 3.1, :petal-length 4.4, :petal-width 1.4, :species "versicolor", :petal-size 4.6173585522460785} {:sepal-length 5.6, :sepal-width 3.0, :petal-length 4.5, :petal-width 1.5, :species "versicolor", :petal-size 4.743416490252569} {:sepal-length 5.8, :sepal-width 2.7, :petal-length 4.1, :petal-width 1.0, :species "versicolor", :petal-size 4.220189569201838} {:sepal-length 6.2, :sepal-width 2.2, :petal-length 4.5, :petal-width 1.5, :species "versicolor", :petal-size 4.743416490252569} {:sepal-length 5.6, :sepal-width 2.5, :petal-length 3.9, :petal-width 1.1, :species "versicolor", :petal-size 4.052159917870962} {:sepal-length 5.9, :sepal-width 3.2, :petal-length 4.8, :petal-width 1.8, :species "versicolor", :petal-size 5.126402247190518} {:sepal-length 6.1, :sepal-width 2.8, :petal-length 4.0, :petal-width 1.3, :species "versicolor", :petal-size 4.205948168962618} {:sepal-length 6.3, :sepal-width 2.5, :petal-length 4.9, :petal-width 1.5, :species "versicolor", :petal-size 5.1244511901275835} {:sepal-length 6.1, :sepal-width 2.8, :petal-length 4.7, :petal-width 1.2, :species "versicolor", :petal-size 4.850773134253962} {:sepal-length 6.4, :sepal-width 2.9, :petal-length 4.3, :petal-width 1.3, :species "versicolor", :petal-size 4.49221548904324} {:sepal-length 6.6, :sepal-width 3.0, :petal-length 4.4, :petal-width 1.4, :species "versicolor", :petal-size 4.6173585522460785} {:sepal-length 6.8, :sepal-width 2.8, :petal-length 4.8, :petal-width 1.4, :species "versicolor", :petal-size 5.0} {:sepal-length 6.7, :sepal-width 3.0, :petal-length 5.0, :petal-width 1.7, :species "versicolor", :petal-size 5.281098370604358} {:sepal-length 6.0, :sepal-width 2.9, :petal-length 4.5, :petal-width 1.5, :species "versicolor", :petal-size 4.743416490252569} {:sepal-length 5.7, :sepal-width 2.6, :petal-length 3.5, :petal-width 1.0, :species "versicolor", :petal-size 3.640054944640259} {:sepal-length 5.5, :sepal-width 2.4, :petal-length 3.8, :petal-width 1.1, :species "versicolor", :petal-size 3.9560080889704965} {:sepal-length 5.5, :sepal-width 2.4, :petal-length 3.7, :petal-width 1.0, :species "versicolor", :petal-size 3.83275357934736} {:sepal-length 5.8, :sepal-width 2.7, :petal-length 3.9, :petal-width 1.2, :species "versicolor", :petal-size 4.080441152620633} {:sepal-length 6.0, :sepal-width 2.7, :petal-length 5.1, :petal-width 1.6, :species "versicolor", :petal-size 5.345091205957107} {:sepal-length 5.4, :sepal-width 3.0, :petal-length 4.5, :petal-width 1.5, :species "versicolor", :petal-size 4.743416490252569} {:sepal-length 6.0, :sepal-width 3.4, :petal-length 4.5, :petal-width 1.6, :species "versicolor", :petal-size 4.775981574503821} {:sepal-length 6.7, :sepal-width 3.1, :petal-length 4.7, :petal-width 1.5, :species "versicolor", :petal-size 4.933558553417604} {:sepal-length 6.3, :sepal-width 2.3, :petal-length 4.4, :petal-width 1.3, :species "versicolor", :petal-size 4.588027898781785} {:sepal-length 5.6, :sepal-width 3.0, :petal-length 4.1, :petal-width 1.3, :species "versicolor", :petal-size 4.301162633521313} {:sepal-length 5.5, :sepal-width 2.5, :petal-length 4.0, :petal-width 1.3, :species "versicolor", :petal-size 4.205948168962618} {:sepal-length 5.5, :sepal-width 2.6, :petal-length 4.4, :petal-width 1.2, :species "versicolor", :petal-size 4.560701700396552} {:sepal-length 6.1, :sepal-width 3.0, :petal-length 4.6, :petal-width 1.4, :species "versicolor", :petal-size 4.808326112068523} {:sepal-length 5.8, :sepal-width 2.6, :petal-length 4.0, :petal-width 1.2, :species "versicolor", :petal-size 4.17612260356422} {:sepal-length 5.0, :sepal-width 2.3, :petal-length 3.3, :petal-width 1.0, :species "versicolor", :petal-size 3.4481879299133333} {:sepal-length 5.6, :sepal-width 2.7, :petal-length 4.2, :petal-width 1.3, :species "versicolor", :petal-size 4.396589587396122} {:sepal-length 5.7, :sepal-width 3.0, :petal-length 4.2, :petal-width 1.2, :species "versicolor", :petal-size 4.368065933568311} {:sepal-length 5.7, :sepal-width 2.9, :petal-length 4.2, :petal-width 1.3, :species "versicolor", :petal-size 4.396589587396122} {:sepal-length 6.2, :sepal-width 2.9, :petal-length 4.3, :petal-width 1.3, :species "versicolor", :petal-size 4.49221548904324} {:sepal-length 5.1, :sepal-width 2.5, :petal-length 3.0, :petal-width 1.1, :species "versicolor", :petal-size 3.1953090617340916} {:sepal-length 5.7, :sepal-width 2.8, :petal-length 4.1, :petal-width 1.3, :species "versicolor", :petal-size 4.301162633521313} {:sepal-length 6.3, :sepal-width 3.3, :petal-length 6.0, :petal-width 2.5, :species "virginica", :petal-size 6.5} {:sepal-length 5.8, :sepal-width 2.7, :petal-length 5.1, :petal-width 1.9, :species "virginica", :petal-size 5.442425929675111} {:sepal-length 7.1, :sepal-width 3.0, :petal-length 5.9, :petal-width 2.1, :species "virginica", :petal-size 6.26258732474047} {:sepal-length 6.3, :sepal-width 2.9, :petal-length 5.6, :petal-width 1.8, :species "virginica", :petal-size 5.882176467941097} {:sepal-length 6.5, :sepal-width 3.0, :petal-length 5.8, :petal-width 2.2, :species "virginica", :petal-size 6.203224967708329} {:sepal-length 7.6, :sepal-width 3.0, :petal-length 6.6, :petal-width 2.1, :species "virginica", :petal-size 6.926037828369117} {:sepal-length 4.9, :sepal-width 2.5, :petal-length 4.5, :petal-width 1.7, :species "virginica", :petal-size 4.810405388322278} {:sepal-length 7.3, :sepal-width 2.9, :petal-length 6.3, :petal-width 1.8, :species "virginica", :petal-size 6.552098900352466} {:sepal-length 6.7, :sepal-width 2.5, :petal-length 5.8, :petal-width 1.8, :species "virginica", :petal-size 6.072890580275591} {:sepal-length 7.2, :sepal-width 3.6, :petal-length 6.1, :petal-width 2.5, :species "virginica", :petal-size 6.592419889539803} {:sepal-length 6.5, :sepal-width 3.2, :petal-length 5.1, :petal-width 2.0, :species "virginica", :petal-size 5.478138369920935} {:sepal-length 6.4, :sepal-width 2.7, :petal-length 5.3, :petal-width 1.9, :species "virginica", :petal-size 5.630275304103699} {:sepal-length 6.8, :sepal-width 3.0, :petal-length 5.5, :petal-width 2.1, :species "virginica", :petal-size 5.88727441181401} {:sepal-length 5.7, :sepal-width 2.5, :petal-length 5.0, :petal-width 2.0, :species "virginica", :petal-size 5.385164807134504} {:sepal-length 5.8, :sepal-width 2.8, :petal-length 5.1, :petal-width 2.4, :species "virginica", :petal-size 5.63648826841678} {:sepal-length 6.4, :sepal-width 3.2, :petal-length 5.3, :petal-width 2.3, :species "virginica", :petal-size 5.7775427302617155} {:sepal-length 6.5, :sepal-width 3.0, :petal-length 5.5, :petal-width 1.8, :species "virginica", :petal-size 5.7870545184921145} {:sepal-length 7.7, :sepal-width 3.8, :petal-length 6.7, :petal-width 2.2, :species "virginica", :petal-size 7.051950084905593} {:sepal-length 7.7, :sepal-width 2.6, :petal-length 6.9, :petal-width 2.3, :species "virginica", :petal-size 7.273238618387273} {:sepal-length 6.0, :sepal-width 2.2, :petal-length 5.0, :petal-width 1.5, :species "virginica", :petal-size 5.220153254455275} {:sepal-length 6.9, :sepal-width 3.2, :petal-length 5.7, :petal-width 2.3, :species "virginica", :petal-size 6.146543744251724} {:sepal-length 5.6, :sepal-width 2.8, :petal-length 4.9, :petal-width 2.0, :species "virginica", :petal-size 5.292447448959697} {:sepal-length 7.7, :sepal-width 2.8, :petal-length 6.7, :petal-width 2.0, :species "virginica", :petal-size 6.992138442565336} {:sepal-length 6.3, :sepal-width 2.7, :petal-length 4.9, :petal-width 1.8, :species "virginica", :petal-size 5.220153254455275} {:sepal-length 6.7, :sepal-width 3.3, :petal-length 5.7, :petal-width 2.1, :species "virginica", :petal-size 6.074537019394977} {:sepal-length 7.2, :sepal-width 3.2, :petal-length 6.0, :petal-width 1.8, :species "virginica", :petal-size 6.26418390534633} {:sepal-length 6.2, :sepal-width 2.8, :petal-length 4.8, :petal-width 1.8, :species "virginica", :petal-size 5.126402247190518} {:sepal-length 6.1, :sepal-width 3.0, :petal-length 4.9, :petal-width 1.8, :species "virginica", :petal-size 5.220153254455275} {:sepal-length 6.4, :sepal-width 2.8, :petal-length 5.6, :petal-width 2.1, :species "virginica", :petal-size 5.980802621722272} {:sepal-length 7.2, :sepal-width 3.0, :petal-length 5.8, :petal-width 1.6, :species "virginica", :petal-size 6.016643582596529} {:sepal-length 7.4, :sepal-width 2.8, :petal-length 6.1, :petal-width 1.9, :species "virginica", :petal-size 6.389053137985314} {:sepal-length 7.9, :sepal-width 3.8, :petal-length 6.4, :petal-width 2.0, :species "virginica", :petal-size 6.705221845696085} {:sepal-length 6.4, :sepal-width 2.8, :petal-length 5.6, :petal-width 2.2, :species "virginica", :petal-size 6.016643582596529} {:sepal-length 6.3, :sepal-width 2.8, :petal-length 5.1, :petal-width 1.5, :species "virginica", :petal-size 5.316013544000805} {:sepal-length 6.1, :sepal-width 2.6, :petal-length 5.6, :petal-width 1.4, :species "virginica", :petal-size 5.772347875864724} {:sepal-length 7.7, :sepal-width 3.0, :petal-length 6.1, :petal-width 2.3, :species "virginica", :petal-size 6.519202405202648} {:sepal-length 6.3, :sepal-width 3.4, :petal-length 5.6, :petal-width 2.4, :species "virginica", :petal-size 6.092618484691126} {:sepal-length 6.4, :sepal-width 3.1, :petal-length 5.5, :petal-width 1.8, :species "virginica", :petal-size 5.7870545184921145} {:sepal-length 6.0, :sepal-width 3.0, :petal-length 4.8, :petal-width 1.8, :species "virginica", :petal-size 5.126402247190518} {:sepal-length 6.9, :sepal-width 3.1, :petal-length 5.4, :petal-width 2.1, :species "virginica", :petal-size 5.79396237474839} {:sepal-length 6.7, :sepal-width 3.1, :petal-length 5.6, :petal-width 2.4, :species "virginica", :petal-size 6.092618484691126} {:sepal-length 6.9, :sepal-width 3.1, :petal-length 5.1, :petal-width 2.3, :species "virginica", :petal-size 5.594640292279745} {:sepal-length 5.8, :sepal-width 2.7, :petal-length 5.1, :petal-width 1.9, :species "virginica", :petal-size 5.442425929675111} {:sepal-length 6.8, :sepal-width 3.2, :petal-length 5.9, :petal-width 2.3, :species "virginica", :petal-size 6.332456079595025} {:sepal-length 6.7, :sepal-width 3.3, :petal-length 5.7, :petal-width 2.5, :species "virginica", :petal-size 6.224146527838174} {:sepal-length 6.7, :sepal-width 3.0, :petal-length 5.2, :petal-width 2.3, :species "virginica", :petal-size 5.6859475903318} {:sepal-length 6.3, :sepal-width 2.5, :petal-length 5.0, :petal-width 1.9, :species "virginica", :petal-size 5.348831648126533} {:sepal-length 6.5, :sepal-width 3.0, :petal-length 5.2, :petal-width 2.0, :species "virginica", :petal-size 5.571355310873648} {:sepal-length 6.2, :sepal-width 3.4, :petal-length 5.4, :petal-width 2.3, :species "virginica", :petal-size 5.869412236331676} {:sepal-length 5.9, :sepal-width 3.0, :petal-length 5.1, :petal-width 1.8, :species "virginica", :petal-size 5.408326913195984}]}})]]])
(dom/render (fn [] widget16) (.getElementById js/document "widget16"))
(def widget19 [:div [:div [vega (quote {:encoding {:y {:field "sepal-length", :type "quantitative"}, :color {:field "species", :type "nominal"}, :size {:field "petal-size", :type "quantitative"}, :x {:field "sepal-width", :type "quantitative"}, :tooltip [{:field "sepal-width", :type "quantitative"} {:field "sepal-length", :type "quantitative"}]}, :mark {:type "circle"}, :width 400, :background "floralwhite", :height 300, :data {:values "sepal-length,sepal-width,petal-length,petal-width,species,petal-size\n5.1,3.5,1.4,0.2,setosa,1.414213562373095\n4.9,3.0,1.4,0.2,setosa,1.414213562373095\n4.7,3.2,1.3,0.2,setosa,1.3152946437965907\n4.6,3.1,1.5,0.2,setosa,1.5132745950421556\n5.0,3.6,1.4,0.2,setosa,1.414213562373095\n5.4,3.9,1.7,0.4,setosa,1.746424919657298\n4.6,3.4,1.4,0.3,setosa,1.4317821063276353\n5.0,3.4,1.5,0.2,setosa,1.5132745950421556\n4.4,2.9,1.4,0.2,setosa,1.414213562373095\n4.9,3.1,1.5,0.1,setosa,1.5033296378372907\n5.4,3.7,1.5,0.2,setosa,1.5132745950421556\n4.8,3.4,1.6,0.2,setosa,1.61245154965971\n4.8,3.0,1.4,0.1,setosa,1.40356688476182\n4.3,3.0,1.1,0.1,setosa,1.104536101718726\n5.8,4.0,1.2,0.2,setosa,1.2165525060596438\n5.7,4.4,1.5,0.4,setosa,1.5524174696260025\n5.4,3.9,1.3,0.4,setosa,1.3601470508735443\n5.1,3.5,1.4,0.3,setosa,1.4317821063276353\n5.7,3.8,1.7,0.3,setosa,1.7262676501632068\n5.1,3.8,1.5,0.3,setosa,1.5297058540778354\n5.4,3.4,1.7,0.2,setosa,1.7117242768623688\n5.1,3.7,1.5,0.4,setosa,1.5524174696260025\n4.6,3.6,1.0,0.2,setosa,1.019803902718557\n5.1,3.3,1.7,0.5,setosa,1.772004514666935\n4.8,3.4,1.9,0.2,setosa,1.91049731745428\n5.0,3.0,1.6,0.2,setosa,1.61245154965971\n5.0,3.4,1.6,0.4,setosa,1.6492422502470645\n5.2,3.5,1.5,0.2,setosa,1.5132745950421556\n5.2,3.4,1.4,0.2,setosa,1.414213562373095\n4.7,3.2,1.6,0.2,setosa,1.61245154965971\n4.8,3.1,1.6,0.2,setosa,1.61245154965971\n5.4,3.4,1.5,0.4,setosa,1.5524174696260025\n5.2,4.1,1.5,0.1,setosa,1.5033296378372907\n5.5,4.2,1.4,0.2,setosa,1.414213562373095\n4.9,3.1,1.5,0.2,setosa,1.5132745950421556\n5.0,3.2,1.2,0.2,setosa,1.2165525060596438\n5.5,3.5,1.3,0.2,setosa,1.3152946437965907\n4.9,3.6,1.4,0.1,setosa,1.40356688476182\n4.4,3.0,1.3,0.2,setosa,1.3152946437965907\n5.1,3.4,1.5,0.2,setosa,1.5132745950421556\n5.0,3.5,1.3,0.3,setosa,1.3341664064126335\n4.5,2.3,1.3,0.3,setosa,1.3341664064126335\n4.4,3.2,1.3,0.2,setosa,1.3152946437965907\n5.0,3.5,1.6,0.6,setosa,1.7088007490635064\n5.1,3.8,1.9,0.4,setosa,1.9416487838947598\n4.8,3.0,1.4,0.3,setosa,1.4317821063276353\n5.1,3.8,1.6,0.2,setosa,1.61245154965971\n4.6,3.2,1.4,0.2,setosa,1.414213562373095\n5.3,3.7,1.5,0.2,setosa,1.5132745950421556\n5.0,3.3,1.4,0.2,setosa,1.414213562373095\n7.0,3.2,4.7,1.4,versicolor,4.904079934095692\n6.4,3.2,4.5,1.5,versicolor,4.743416490252569\n6.9,3.1,4.9,1.5,versicolor,5.1244511901275835\n5.5,2.3,4.0,1.3,versicolor,4.205948168962618\n6.5,2.8,4.6,1.5,versicolor,4.838388161361178\n5.7,2.8,4.5,1.3,versicolor,4.684015371452148\n6.3,3.3,4.7,1.6,versicolor,4.964876634922565\n4.9,2.4,3.3,1.0,versicolor,3.4481879299133333\n6.6,2.9,4.6,1.3,versicolor,4.780167361086848\n5.2,2.7,3.9,1.4,versicolor,4.1436698710201325\n5.0,2.0,3.5,1.0,versicolor,3.640054944640259\n5.9,3.0,4.2,1.5,versicolor,4.459820624195552\n6.0,2.2,4.0,1.0,versicolor,4.123105625617661\n6.1,2.9,4.7,1.4,versicolor,4.904079934095692\n5.6,2.9,3.6,1.3,versicolor,3.8275318418009276\n6.7,3.1,4.4,1.4,versicolor,4.6173585522460785\n5.6,3.0,4.5,1.5,versicolor,4.743416490252569\n5.8,2.7,4.1,1.0,versicolor,4.220189569201838\n6.2,2.2,4.5,1.5,versicolor,4.743416490252569\n5.6,2.5,3.9,1.1,versicolor,4.052159917870962\n5.9,3.2,4.8,1.8,versicolor,5.126402247190518\n6.1,2.8,4.0,1.3,versicolor,4.205948168962618\n6.3,2.5,4.9,1.5,versicolor,5.1244511901275835\n6.1,2.8,4.7,1.2,versicolor,4.850773134253962\n6.4,2.9,4.3,1.3,versicolor,4.49221548904324\n6.6,3.0,4.4,1.4,versicolor,4.6173585522460785\n6.8,2.8,4.8,1.4,versicolor,5.0\n6.7,3.0,5.0,1.7,versicolor,5.281098370604358\n6.0,2.9,4.5,1.5,versicolor,4.743416490252569\n5.7,2.6,3.5,1.0,versicolor,3.640054944640259\n5.5,2.4,3.8,1.1,versicolor,3.9560080889704965\n5.5,2.4,3.7,1.0,versicolor,3.83275357934736\n5.8,2.7,3.9,1.2,versicolor,4.080441152620633\n6.0,2.7,5.1,1.6,versicolor,5.345091205957107\n5.4,3.0,4.5,1.5,versicolor,4.743416490252569\n6.0,3.4,4.5,1.6,versicolor,4.775981574503821\n6.7,3.1,4.7,1.5,versicolor,4.933558553417604\n6.3,2.3,4.4,1.3,versicolor,4.588027898781785\n5.6,3.0,4.1,1.3,versicolor,4.301162633521313\n5.5,2.5,4.0,1.3,versicolor,4.205948168962618\n5.5,2.6,4.4,1.2,versicolor,4.560701700396552\n6.1,3.0,4.6,1.4,versicolor,4.808326112068523\n5.8,2.6,4.0,1.2,versicolor,4.17612260356422\n5.0,2.3,3.3,1.0,versicolor,3.4481879299133333\n5.6,2.7,4.2,1.3,versicolor,4.396589587396122\n5.7,3.0,4.2,1.2,versicolor,4.368065933568311\n5.7,2.9,4.2,1.3,versicolor,4.396589587396122\n6.2,2.9,4.3,1.3,versicolor,4.49221548904324\n5.1,2.5,3.0,1.1,versicolor,3.1953090617340916\n5.7,2.8,4.1,1.3,versicolor,4.301162633521313\n6.3,3.3,6.0,2.5,virginica,6.5\n5.8,2.7,5.1,1.9,virginica,5.442425929675111\n7.1,3.0,5.9,2.1,virginica,6.26258732474047\n6.3,2.9,5.6,1.8,virginica,5.882176467941097\n6.5,3.0,5.8,2.2,virginica,6.203224967708329\n7.6,3.0,6.6,2.1,virginica,6.926037828369117\n4.9,2.5,4.5,1.7,virginica,4.810405388322278\n7.3,2.9,6.3,1.8,virginica,6.552098900352466\n6.7,2.5,5.8,1.8,virginica,6.072890580275591\n7.2,3.6,6.1,2.5,virginica,6.592419889539803\n6.5,3.2,5.1,2.0,virginica,5.478138369920935\n6.4,2.7,5.3,1.9,virginica,5.630275304103699\n6.8,3.0,5.5,2.1,virginica,5.88727441181401\n5.7,2.5,5.0,2.0,virginica,5.385164807134504\n5.8,2.8,5.1,2.4,virginica,5.63648826841678\n6.4,3.2,5.3,2.3,virginica,5.7775427302617155\n6.5,3.0,5.5,1.8,virginica,5.7870545184921145\n7.7,3.8,6.7,2.2,virginica,7.051950084905593\n7.7,2.6,6.9,2.3,virginica,7.273238618387273\n6.0,2.2,5.0,1.5,virginica,5.220153254455275\n6.9,3.2,5.7,2.3,virginica,6.146543744251724\n5.6,2.8,4.9,2.0,virginica,5.292447448959697\n7.7,2.8,6.7,2.0,virginica,6.992138442565336\n6.3,2.7,4.9,1.8,virginica,5.220153254455275\n6.7,3.3,5.7,2.1,virginica,6.074537019394977\n7.2,3.2,6.0,1.8,virginica,6.26418390534633\n6.2,2.8,4.8,1.8,virginica,5.126402247190518\n6.1,3.0,4.9,1.8,virginica,5.220153254455275\n6.4,2.8,5.6,2.1,virginica,5.980802621722272\n7.2,3.0,5.8,1.6,virginica,6.016643582596529\n7.4,2.8,6.1,1.9,virginica,6.389053137985314\n7.9,3.8,6.4,2.0,virginica,6.705221845696085\n6.4,2.8,5.6,2.2,virginica,6.016643582596529\n6.3,2.8,5.1,1.5,virginica,5.316013544000805\n6.1,2.6,5.6,1.4,virginica,5.772347875864724\n7.7,3.0,6.1,2.3,virginica,6.519202405202648\n6.3,3.4,5.6,2.4,virginica,6.092618484691126\n6.4,3.1,5.5,1.8,virginica,5.7870545184921145\n6.0,3.0,4.8,1.8,virginica,5.126402247190518\n6.9,3.1,5.4,2.1,virginica,5.79396237474839\n6.7,3.1,5.6,2.4,virginica,6.092618484691126\n6.9,3.1,5.1,2.3,virginica,5.594640292279745\n5.8,2.7,5.1,1.9,virginica,5.442425929675111\n6.8,3.2,5.9,2.3,virginica,6.332456079595025\n6.7,3.3,5.7,2.5,virginica,6.224146527838174\n6.7,3.0,5.2,2.3,virginica,5.6859475903318\n6.3,2.5,5.0,1.9,virginica,5.348831648126533\n6.5,3.0,5.2,2.0,virginica,5.571355310873648\n6.2,3.4,5.4,2.3,virginica,5.869412236331676\n5.9,3.0,5.1,1.8,virginica,5.408326913195984\n", :format {:type "csv"}}})]]])
(dom/render (fn [] widget19) (.getElementById js/document "widget19"))
(def widget22 [:div [(let [Data (fn [] [mathbox.primitives/Interval {:expr (fn [emit x _i t] (emit x (Math/sin (+ x t)))), :width 64, :channels 2}]) Curve (fn [] [:<> [Data] [mathbox.primitives/Line {:width 5, :color "#3090FF"}]]) Main (fn [] [mathbox.core/MathBox {:container {:style {:height "400px", :width "100%"}}, :focus 3} [mathbox.primitives/Camera {:position [0 0 3], :proxy true}] [mathbox.primitives/Cartesian {:range [[-2 2] [-1 1]], :scale [2 1]} [mathbox.primitives/Axis {:axis 1, :width 3, :color "black"}] [mathbox.primitives/Axis {:axis 2, :width 3, :color "black"}] [mathbox.primitives/Grid {:width 2, :divideX 20, :divideY 10}] [Curve]]]) *state (r/atom {:open? false})] (fn [] [:div [:button {:on-click (fn* [] (swap! *state update :open? not))} (if (:open? (clojure.core/deref *state)) "close" "open")] (when (:open? (clojure.core/deref *state)) [Main])]))]])
(dom/render (fn [] widget22) (.getElementById js/document "widget22"))
(def widget25 nil)
(dom/render (fn [] widget25) (.getElementById js/document "widget25"))
(def widget27 [:div [(fn [] (let [*state (r/atom {:value 50})] (fn [] (let [value (:value (clojure.core/deref *state))] [:div [:input {:type "range", :value (:value (clojure.core/deref *state)), :min 0, :max 100, :style {:width "100%"}, :on-change (fn [e] (let [new-value (js/parseInt (.. e -target -value))] (swap! *state assoc :value new-value)))}] [:p value] [clay/compute (clojure.core/sequence (clojure.core/seq (clojure.core/concat (clojure.core/list (quote notes/slow)) (clojure.core/list value))))]]))))]])
(dom/render (fn [] widget27) (.getElementById js/document "widget27"))
(def widget30 nil)
(dom/render (fn [] widget30) (.getElementById js/document "widget30"))
(def widget32 [:div (clay/reset-cache! {(quote (notes/slow1 8)) 8000, (quote (notes/slow1 84)) 84000, (quote (notes/slow1 7)) 7000, (quote (notes/slow1 78)) 78000, (quote (notes/slow1 43)) 43000, (quote (notes/slow1 98)) 98000, (quote (notes/slow1 76)) 76000, (quote (notes/slow1 10)) 10000, (quote (notes/slow1 14)) 14000, (quote (notes/slow1 96)) 96000, (quote (notes/slow1 28)) 28000, (quote (notes/slow1 40)) 40000, (quote (notes/slow1 91)) 91000, (quote (notes/slow1 59)) 59000, (quote (notes/slow1 62)) 62000, (quote (notes/slow1 9)) 9000, (quote (notes/slow1 5)) 5000, (quote (notes/slow1 55)) 55000, (quote (notes/slow1 80)) 80000, (quote (notes/slow1 95)) 95000, (quote (notes/slow1 2)) 2000, (quote (notes/slow1 63)) 63000, (quote (notes/slow1 99)) 99000, (quote (notes/slow1 68)) 68000, (quote (notes/slow1 74)) 74000, (quote (notes/slow1 97)) 97000, (quote (notes/slow1 89)) 89000, (quote (notes/slow1 71)) 71000, (quote (notes/slow1 46)) 46000, (quote (notes/slow1 15)) 15000, (quote (notes/slow1 51)) 51000, (quote (notes/slow1 92)) 92000, (quote (notes/slow1 38)) 38000, (quote (notes/slow1 86)) 86000, (quote (notes/slow1 0)) 0, (quote (notes/slow1 31)) 31000, (quote (notes/slow1 3)) 3000, (quote (notes/slow1 94)) 94000, (quote (notes/slow1 65)) 65000, (quote (notes/slow1 75)) 75000, (quote (notes/slow1 23)) 23000, (quote (notes/slow1 24)) 24000, (quote (notes/slow1 29)) 29000, (quote (notes/slow1 33)) 33000, (quote (notes/slow1 87)) 87000, (quote (notes/slow1 1)) 1000, (quote (notes/slow1 36)) 36000, (quote (notes/slow1 85)) 85000, (quote (notes/slow1 11)) 11000, (quote (notes/slow1 18)) 18000, (quote (notes/slow1 4)) 4000, (quote (notes/slow1 42)) 42000, (quote (notes/slow1 30)) 30000, (quote (notes/slow1 88)) 88000, (quote (notes/slow1 21)) 21000, (quote (notes/slow1 20)) 20000, (quote (notes/slow1 77)) 77000, (quote (notes/slow1 81)) 81000, (quote (notes/slow1 50)) 50000, (quote (notes/slow1 13)) 13000, (quote (notes/slow1 37)) 37000, (quote (notes/slow1 48)) 48000, (quote (notes/slow1 93)) 93000, (quote (notes/slow1 41)) 41000, (quote (notes/slow1 54)) 54000, (quote (notes/slow1 6)) 6000, (quote (notes/slow1 25)) 25000, (quote (notes/slow1 44)) 44000, (quote (notes/slow1 57)) 57000, (quote (notes/slow1 53)) 53000, (quote (notes/slow1 27)) 27000, (quote (notes/slow1 49)) 49000, (quote (notes/slow1 47)) 47000, (quote (notes/slow1 72)) 72000, (quote (notes/slow1 66)) 66000, (quote (notes/slow1 79)) 79000, (quote (notes/slow1 73)) 73000, (quote (notes/slow1 26)) 26000, (quote (notes/slow1 35)) 35000, (quote (notes/slow1 12)) 12000, (quote (notes/slow1 39)) 39000, (quote (notes/slow1 16)) 16000, (quote (notes/slow1 32)) 32000, (quote (notes/slow1 70)) 70000, (quote (notes/slow1 45)) 45000, (quote (notes/slow1 17)) 17000, (quote (notes/slow1 61)) 61000, (quote (notes/slow1 58)) 58000, (quote (notes/slow1 64)) 64000, (quote (notes/slow1 22)) 22000, (quote (notes/slow1 56)) 56000, (quote (notes/slow1 90)) 90000, (quote (notes/slow1 52)) 52000, (quote (notes/slow1 19)) 19000, (quote (notes/slow1 34)) 34000, (quote (notes/slow1 60)) 60000, (quote (notes/slow1 69)) 69000, (quote (notes/slow1 82)) 82000, (quote (notes/slow1 83)) 83000, (quote (notes/slow1 67)) 67000})])
(dom/render (fn [] widget32) (.getElementById js/document "widget32"))
(def widget34 [:div [(fn [] (let [*state (r/atom {:value 50})] (fn [] (let [value (:value (clojure.core/deref *state))] [:div [:input {:type "range", :value (:value (clojure.core/deref *state)), :min 0, :max 100, :style {:width "100%"}, :on-change (fn [e] (let [new-value (js/parseInt (.. e -target -value))] (swap! *state assoc :value new-value)))}] [:p value] [clay/compute (clojure.core/sequence (clojure.core/seq (clojure.core/concat (clojure.core/list (quote notes/slow1)) (clojure.core/list value))))]]))))]])
(dom/render (fn [] widget34) (.getElementById js/document "widget34"))</script></div>